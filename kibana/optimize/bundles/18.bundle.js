/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{380:function(module,exports,__webpack_require__){module.exports=__webpack_require__(37)(517)},46:function(module,exports,__webpack_require__){module.exports=__webpack_require__(32)(2130)},5225:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mountManagementSection=mountManagementSection;var _breadcrumbs=__webpack_require__(5375);var _documentation=__webpack_require__(38);var _=__webpack_require__(6944);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function mountManagementSection(_x,_x2,_x3,_x4){return _mountManagementSection.apply(this,arguments)}function _mountManagementSection(){_mountManagementSection=_asyncToGenerator(regeneratorRuntime.mark((function _callee(coreSetup,usageCollection,services,params){var element,setBreadcrumbs,_ref,_ref2,core,docLinks,fatalErrors,appDependencies;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:element=params.element,setBreadcrumbs=params.setBreadcrumbs;_context.next=3;return coreSetup.getStartServices();case 3:_ref=_context.sent;_ref2=_slicedToArray(_ref,1);core=_ref2[0];docLinks=core.docLinks,fatalErrors=core.fatalErrors;_breadcrumbs.breadcrumbService.setup(setBreadcrumbs);_documentation.documentationService.setup(docLinks);appDependencies={core:{fatalErrors:fatalErrors},plugins:{usageCollection:usageCollection},services:services};return _context.abrupt("return",(0,_.renderApp)(element,{core:core,dependencies:appDependencies}));case 11:case"end":return _context.stop()}}}),_callee)})));return _mountManagementSection.apply(this,arguments)}},5244:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _clear_cache_indices=__webpack_require__(6956);Object.keys(_clear_cache_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_cache_indices[key]}})}));var _clear_row_status=__webpack_require__(6957);Object.keys(_clear_row_status).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_row_status[key]}})}));var _close_indices=__webpack_require__(6958);Object.keys(_close_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _close_indices[key]}})}));var _delete_indices=__webpack_require__(5813);Object.keys(_delete_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _delete_indices[key]}})}));var _flush_indices=__webpack_require__(6959);Object.keys(_flush_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _flush_indices[key]}})}));var _forcemerge_indices=__webpack_require__(6960);Object.keys(_forcemerge_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _forcemerge_indices[key]}})}));var _load_indices=__webpack_require__(5814);Object.keys(_load_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_indices[key]}})}));var _load_index_data=__webpack_require__(5545);Object.keys(_load_index_data).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_index_data[key]}})}));var _open_indices=__webpack_require__(6961);Object.keys(_open_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _open_indices[key]}})}));var _refresh_indices=__webpack_require__(6962);Object.keys(_refresh_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _refresh_indices[key]}})}));var _freeze_indices=__webpack_require__(6963);Object.keys(_freeze_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _freeze_indices[key]}})}));var _unfreeze_indices=__webpack_require__(6964);Object.keys(_unfreeze_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _unfreeze_indices[key]}})}));var _reload_indices=__webpack_require__(5815);Object.keys(_reload_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _reload_indices[key]}})}));var _table_state=__webpack_require__(6965);Object.keys(_table_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table_state[key]}})}));var _edit_index_settings=__webpack_require__(6966);Object.keys(_edit_index_settings).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _edit_index_settings[key]}})}));var _update_index_settings=__webpack_require__(5816);Object.keys(_update_index_settings).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _update_index_settings[key]}})}));var _detail_panel=__webpack_require__(5817);Object.keys(_detail_panel).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _detail_panel[key]}})}));var _extension_action=__webpack_require__(6967);Object.keys(_extension_action).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _extension_action[key]}})}))},5289:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useServices=exports.useAppContext=exports.AppContextConsumer=exports.AppContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AppContext=(0,_react.createContext)(undefined);var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children,value=_ref.value;return _react.default.createElement(AppContext.Provider,{value:value},children)};exports.AppContextProvider=AppContextProvider;var AppContextConsumer=AppContext.Consumer;exports.AppContextConsumer=AppContextConsumer;var useAppContext=function useAppContext(){var ctx=(0,_react.useContext)(AppContext);if(!ctx){throw new Error('"useAppContext" can only be called inside of AppContext.Provider!')}return ctx};exports.useAppContext=useAppContext;var useServices=function useServices(){return useAppContext().services};exports.useServices=useServices},5319:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={SectionError:true,Error:true,SectionLoading:true,NoMatch:true,PageErrorForbidden:true,TemplateDeleteModal:true,TemplateForm:true};Object.defineProperty(exports,"SectionError",{enumerable:true,get:function get(){return _section_error.SectionError}});Object.defineProperty(exports,"Error",{enumerable:true,get:function get(){return _section_error.Error}});Object.defineProperty(exports,"SectionLoading",{enumerable:true,get:function get(){return _section_loading.SectionLoading}});Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}});Object.defineProperty(exports,"PageErrorForbidden",{enumerable:true,get:function get(){return _page_error.PageErrorForbidden}});Object.defineProperty(exports,"TemplateDeleteModal",{enumerable:true,get:function get(){return _template_delete_modal.TemplateDeleteModal}});Object.defineProperty(exports,"TemplateForm",{enumerable:true,get:function get(){return _template_form.TemplateForm}});var _section_error=__webpack_require__(5818);var _section_loading=__webpack_require__(6984);var _no_match=__webpack_require__(6985);var _page_error=__webpack_require__(6987);var _template_delete_modal=__webpack_require__(6989);var _template_form=__webpack_require__(6990);var _mappings_editor=__webpack_require__(1846);Object.keys(_mappings_editor).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _mappings_editor[key]}})}))},5342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decodePath=exports.getTemplateCloneLink=exports.getTemplateEditLink=exports.getTemplateDetailsLink=exports.getTemplateListLink=void 0;var _constants=__webpack_require__(362);var getTemplateListLink=function getTemplateListLink(){return"".concat(_constants.BASE_PATH,"templates")};exports.getTemplateListLink=getTemplateListLink;var getTemplateDetailsLink=function getTemplateDetailsLink(name){var withHash=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var baseUrl="".concat(_constants.BASE_PATH,"templates/").concat(encodeURIComponent(encodeURIComponent(name)));var url=withHash?"#".concat(baseUrl):baseUrl;return encodeURI(url)};exports.getTemplateDetailsLink=getTemplateDetailsLink;var getTemplateEditLink=function getTemplateEditLink(name){return encodeURI("".concat(_constants.BASE_PATH,"edit_template/").concat(encodeURIComponent(encodeURIComponent(name))))};exports.getTemplateEditLink=getTemplateEditLink;var getTemplateCloneLink=function getTemplateCloneLink(name){return encodeURI("".concat(_constants.BASE_PATH,"clone_template/").concat(encodeURIComponent(encodeURIComponent(name))))};exports.getTemplateCloneLink=getTemplateCloneLink;var decodePath=function decodePath(pathname){var decodedPath;try{decodedPath=decodeURI(pathname);decodedPath=decodeURIComponent(decodedPath)}catch(_error){decodedPath=decodeURIComponent(pathname)}return decodeURIComponent(decodedPath)};exports.decodePath=decodePath},5375:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.breadcrumbService=void 0;var _i18n=__webpack_require__(1);var _constants=__webpack_require__(362);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var BreadcrumbService=function(){function BreadcrumbService(){_classCallCheck(this,BreadcrumbService);_defineProperty(this,"breadcrumbs",{home:[]});_defineProperty(this,"setBreadcrumbsHandler",void 0)}_createClass(BreadcrumbService,[{key:"setup",value:function setup(setBreadcrumbsHandler){this.setBreadcrumbsHandler=setBreadcrumbsHandler;this.breadcrumbs.home=[{text:_i18n.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"#".concat(_constants.BASE_PATH)}];this.breadcrumbs.templates=[].concat(_toConsumableArray(this.breadcrumbs.home),[{text:_i18n.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"#".concat(_constants.BASE_PATH,"templates")}]);this.breadcrumbs.templateCreate=[].concat(_toConsumableArray(this.breadcrumbs.templates),[{text:_i18n.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}]);this.breadcrumbs.templateEdit=[].concat(_toConsumableArray(this.breadcrumbs.templates),[{text:_i18n.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}]);this.breadcrumbs.templateClone=[].concat(_toConsumableArray(this.breadcrumbs.templates),[{text:_i18n.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}])}},{key:"setBreadcrumbs",value:function setBreadcrumbs(type){if(!this.setBreadcrumbsHandler){throw new Error("BreadcrumbService#setup() must be called first!")}var newBreadcrumbs=this.breadcrumbs[type]?_toConsumableArray(this.breadcrumbs[type]):_toConsumableArray(this.breadcrumbs.home);var lastBreadcrumb=newBreadcrumbs.pop();newBreadcrumbs.push(_objectSpread({},lastBreadcrumb,{href:undefined}));this.setBreadcrumbsHandler(newBreadcrumbs)}}]);return BreadcrumbService}();var breadcrumbService=new BreadcrumbService;exports.breadcrumbService=breadcrumbService},5545:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexDataSuccess=void 0;var _reduxActions=__webpack_require__(46);var _services=__webpack_require__(1419);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var loadIndexDataSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS");exports.loadIndexDataSuccess=loadIndexDataSuccess;var loadIndexData=function loadIndexData(_ref){var indexName=_ref.indexName,dataType=_ref.dataType;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.loadIndexData)(dataType,indexName);case 3:data=_context.sent;_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);_notification.notificationService.showDangerToast(_context.t0.message);case 9:dispatch(loadIndexDataSuccess({data:data,indexName:indexName}));case 10:case"end":return _context.stop()}}}),_callee,null,[[0,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.loadIndexData=loadIndexData},5811:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderBadges=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var renderBadges=function renderBadges(index,filterChanged,extensionsService){var badgeLabels=[];extensionsService.badges.forEach((function(_ref){var matchIndex=_ref.matchIndex,label=_ref.label,color=_ref.color,filterExpression=_ref.filterExpression;if(matchIndex(index)){var clickHandler=function clickHandler(){filterChanged&&filterExpression&&filterChanged(_eui.EuiSearchBar.Query.parse(filterExpression))};var ariaLabel=_i18n.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:label}});badgeLabels.push(_react.default.createElement(_react.Fragment,{key:label}," ",_react.default.createElement(_eui.EuiBadge,{color:color,onClick:clickHandler,onClickAriaLabel:ariaLabel},label)))}}));return _react.default.createElement(_react.Fragment,null,badgeLabels)};exports.renderBadges=renderBadges},5812:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}});var _index_actions_context_menu=__webpack_require__(6953)},5813:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteIndices=exports.deleteIndicesSuccess=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _notification=__webpack_require__(681);var _actions=__webpack_require__(5244);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var deleteIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS");exports.deleteIndicesSuccess=deleteIndicesSuccess;var deleteIndices=function deleteIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.deleteIndices)(indexNames);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 9:_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));dispatch(deleteIndicesSuccess({indexNames:indexNames}));case 11:case"end":return _context.stop()}}}),_callee,null,[[0,5]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.deleteIndices=deleteIndices},5814:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndices=exports.loadIndicesError=exports.loadIndicesSuccess=exports.loadIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _services=__webpack_require__(1419);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var loadIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START");exports.loadIndicesStart=loadIndicesStart;var loadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS");exports.loadIndicesSuccess=loadIndicesSuccess;var loadIndicesError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR");exports.loadIndicesError=loadIndicesError;var loadIndices=function loadIndices(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var indices;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(loadIndicesStart());_context.prev=1;_context.next=4;return(0,_services.loadIndices)();case 4:indices=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",dispatch(loadIndicesError(_context.t0)));case 10:dispatch(loadIndicesSuccess({indices:indices}));case 11:case"end":return _context.stop()}}}),_callee,null,[[1,7]])})));return function(_x){return _ref.apply(this,arguments)}}()};exports.loadIndices=loadIndices},5815:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reloadIndices=exports.reloadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _selectors=__webpack_require__(1429);var _services=__webpack_require__(1419);var _load_indices=__webpack_require__(5814);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var reloadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS");exports.reloadIndicesSuccess=reloadIndicesSuccess;var reloadIndices=function reloadIndices(indexNames){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch,getState){var indices;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexNames=indexNames||(0,_selectors.getIndexNamesForCurrentPage)(getState());_context.prev=1;_context.next=4;return(0,_services.reloadIndices)(indexNames);case 4:indices=_context.sent;_context.next=12;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);if(!(_context.t0.status===404||_context.t0.status===403)){_context.next=11;break}return _context.abrupt("return",dispatch((0,_load_indices.loadIndices)()));case 11:return _context.abrupt("return",_notification.notificationService.showDangerToast(_context.t0.message));case 12:if(!(indices&&indices.length>0)){_context.next=16;break}return _context.abrupt("return",dispatch(reloadIndicesSuccess({indices:indices})));case 16:return _context.abrupt("return",_notification.notificationService.showWarningToast(_i18n.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."})));case 17:case"end":return _context.stop()}}}),_callee,null,[[1,7]])})));return function(_x,_x2){return _ref.apply(this,arguments)}}()};exports.reloadIndices=reloadIndices},5816:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateIndexSettings=exports.updateIndexSettingsError=exports.updateIndexSettingsSuccess=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _reload_indices=__webpack_require__(5815);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var updateIndexSettingsSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS");exports.updateIndexSettingsSuccess=updateIndexSettingsSuccess;var updateIndexSettingsError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR");exports.updateIndexSettingsError=updateIndexSettingsError;var updateIndexSettings=function updateIndexSettings(_ref){var indexName=_ref.indexName,settings=_ref.settings;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var _ref3,error,message;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(Object.keys(settings).length!==0)){_context.next=14;break}_context.prev=1;_context.next=4;return(0,_services.updateIndexSettings)(indexName,settings);case 4:_ref3=_context.sent;error=_ref3.error;message=_ref3.message;if(!error){_context.next=9;break}return _context.abrupt("return",dispatch(updateIndexSettingsError({error:message})));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);return _context.abrupt("return",dispatch(updateIndexSettingsError({error:_context.t0.message})));case 14:dispatch(updateIndexSettingsSuccess());dispatch((0,_reload_indices.reloadIndices)([indexName]));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:indexName}}));case 17:case"end":return _context.stop()}}}),_callee,null,[[1,11]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.updateIndexSettings=updateIndexSettings},5817:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=void 0;var _reduxActions=__webpack_require__(46);var openDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL");exports.openDetailPanel=openDetailPanel;var closeDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL");exports.closeDetailPanel=closeDetailPanel},5818:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionError=void 0;var _eui=__webpack_require__(2);var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var SectionError=function SectionError(_ref){var title=_ref.title,error=_ref.error,rest=_objectWithoutProperties(_ref,["title","error"]);var cause=error.cause,message=error.message,statusText=error.statusText;return _react.default.createElement(_eui.EuiCallOut,_extends({title:title,color:"danger",iconType:"alert"},rest),_react.default.createElement("div",null,message||statusText),cause&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement("ul",null,cause.map((function(causeMsg,i){return _react.default.createElement("li",{key:i},causeMsg)})))))};exports.SectionError=SectionError},5819:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useJsonStep=void 0;var _react=__webpack_require__(0);var _i18n=__webpack_require__(1);var _shared_imports=__webpack_require__(1436);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var stringifyJson=function stringifyJson(json){return Object.keys(json).length?JSON.stringify(json,null,2):"{\n\n}"};var useJsonStep=function useJsonStep(_ref){var prop=_ref.prop,_ref$defaultValue=_ref.defaultValue,defaultValue=_ref$defaultValue===void 0?{}:_ref$defaultValue,setDataGetter=_ref.setDataGetter,onStepValidityChange=_ref.onStepValidityChange;var _useState=(0,_react.useState)(stringifyJson(defaultValue)),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var validateContent=(0,_react.useCallback)((function(){var isValid=content.trim()===""?true:(0,_shared_imports.isJSON)(content);if(!isValid){setError(_i18n.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."}))}else{setError(null)}return isValid}),[content]);var dataGetter=(0,_react.useCallback)((function(){var isValid=validateContent();var value=isValid&&content.trim()!==""?JSON.parse(content):{};var data=_defineProperty({},prop,value);return Promise.resolve({isValid:isValid,data:data})}),[content,validateContent,prop]);(0,_react.useEffect)((function(){var isValid=validateContent();onStepValidityChange(isValid);setDataGetter(dataGetter)}),[content,dataGetter,onStepValidityChange,setDataGetter,validateContent]);return{content:content,setContent:setContent,error:error}};exports.useJsonStep=useJsonStep},5820:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tableState=exports.defaultTableState=void 0;var _reduxActions=__webpack_require__(46);var _actions=__webpack_require__(5244);var _handleActions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultTableState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:true,showSystemIndices:false};exports.defaultTableState=defaultTableState;var tableState=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.filterChanged,(function(state,action){var filter=action.payload.filter;return _objectSpread({},state,{filter:filter,currentPage:0})})),_defineProperty(_handleActions,_actions.showSystemIndicesChanged,(function(state,action){var showSystemIndices=action.payload.showSystemIndices;return _objectSpread({},state,{showSystemIndices:showSystemIndices})})),_defineProperty(_handleActions,_actions.toggleChanged,(function(state,action){var _action$payload=action.payload,toggleName=_action$payload.toggleName,toggleValue=_action$payload.toggleValue;var toggleNameToVisibleMap=_objectSpread({},state.toggleNameToVisibleMap);toggleNameToVisibleMap[toggleName]=toggleValue;return _objectSpread({},state,{toggleNameToVisibleMap:toggleNameToVisibleMap})})),_defineProperty(_handleActions,_actions.sortChanged,(function(state,action){var _action$payload2=action.payload,sortField=_action$payload2.sortField,isSortAscending=_action$payload2.isSortAscending;return _objectSpread({},state,{sortField:sortField,isSortAscending:isSortAscending})})),_defineProperty(_handleActions,_actions.pageChanged,(function(state,action){var pageNumber=action.payload.pageNumber;return _objectSpread({},state,{currentPage:pageNumber})})),_defineProperty(_handleActions,_actions.pageSizeChanged,(function(state,action){var pageSize=action.payload.pageSize;return _objectSpread({},state,{pageSize:pageSize})})),_handleActions),defaultTableState);exports.tableState=tableState},6944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AppDependencies",{enumerable:true,get:function get(){return _app_context.AppDependencies}});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactRedux=__webpack_require__(10);var _reactDom=__webpack_require__(11);var _app_context=__webpack_require__(5289);var _app=__webpack_require__(6945);var _store=__webpack_require__(7018);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderApp=function renderApp(elem,_ref){var core=_ref.core,dependencies=_ref.dependencies;if(!elem){return function(){return undefined}}var i18n=core.i18n;var I18nContext=i18n.Context;var services=dependencies.services;(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(_reactRedux.Provider,{store:(0,_store.indexManagementStore)(services)},_react.default.createElement(_app_context.AppContextProvider,{value:dependencies},_react.default.createElement(_app.App,null)))),elem);return function(){(0,_reactDom.unmountComponentAtNode)(elem)}};exports.renderApp=renderApp},6945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AppWithoutRouter=exports.App=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(33);var _constants=__webpack_require__(362);var _home=__webpack_require__(6946);var _template_create=__webpack_require__(7012);var _template_clone=__webpack_require__(7014);var _template_edit=__webpack_require__(7016);var _app_context=__webpack_require__(5289);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var App=function App(){var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;(0,_react.useEffect)((function(){return uiMetricService.trackMetric("loaded",_constants.UIM_APP_LOAD)}),[uiMetricService]);return _react.default.createElement(_reactRouterDom.HashRouter,null,_react.default.createElement(AppWithoutRouter,null))};exports.App=App;var AppWithoutRouter=function AppWithoutRouter(){return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"create_template"),component:_template_create.TemplateCreate}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"clone_template/:name*"),component:_template_clone.TemplateClone}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"edit_template/:name*"),component:_template_edit.TemplateEdit}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(_constants.BASE_PATH,":section(indices|templates)"),component:_home.IndexManagementHome}),_react.default.createElement(_reactRouterDom.Redirect,{from:"".concat(_constants.BASE_PATH),to:"".concat(_constants.BASE_PATH,"indices")}))};exports.AppWithoutRouter=AppWithoutRouter},6946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexManagementHome",{enumerable:true,get:function get(){return _home.IndexManagementHome}});var _home=__webpack_require__(6947)},6947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexManagementHome=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(33);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(362);var _documentation=__webpack_require__(38);var _index_list=__webpack_require__(6948);var _template_list=__webpack_require__(7001);var _breadcrumbs=__webpack_require__(5375);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var IndexManagementHome=function IndexManagementHome(_ref){var section=_ref.match.params.section,history=_ref.history;var tabs=[{id:"indices",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:"templates",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})}];var onSectionChange=function onSectionChange(newSection){history.push("".concat(_constants.BASE_PATH).concat(newSection))};(0,_react.useEffect)((function(){_breadcrumbs.breadcrumbService.setBreadcrumbs("home")}),[]);return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement("h1",{"data-test-subj":"appTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{href:_documentation.documentationService.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabs,null,tabs.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return onSectionChange(tab.id)},isSelected:tab.id===section,key:tab.id,"data-test-subj":"".concat(tab.id,"Tab")},tab.name)}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"indices"),component:_index_list.IndexList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"indices/filter/:filter?"),component:_index_list.IndexList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"templates/:templateName*"),component:_template_list.TemplateList}))))};exports.IndexManagementHome=IndexManagementHome},6948:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(6949);Object.keys(_index_list).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_list[key]}})}))},6949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=IndexList;var _react=_interopRequireDefault(__webpack_require__(0));var _detail_panel=__webpack_require__(6950);var _index_table=__webpack_require__(6981);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndexList(_ref){var filter=_ref.match.params.filter;return _react.default.createElement("div",{className:"im-snapshotTestSubject","data-test-subj":"indicesList"},_react.default.createElement(_index_table.IndexTable,{filterFromURI:filter}),_react.default.createElement(_detail_panel.DetailPanel,null))}},6950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}});var _detail_panel=__webpack_require__(6951)},6951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _reactRedux=__webpack_require__(10);var _detail_panel=__webpack_require__(6952);var _selectors=__webpack_require__(1429);var _actions=__webpack_require__(5244);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{panelType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCacheIndex:function clearCacheIndex(indexName){dispatch((0,_actions.clearCacheIndices)({indexNames:[indexName]}))},closeIndex:function closeIndex(indexName){dispatch((0,_actions.closeIndices)({indexNames:[indexName]}))},flushIndex:function flushIndex(indexName){dispatch((0,_actions.flushIndices)({indexNames:[indexName]}))},openIndex:function openIndex(indexName){dispatch((0,_actions.openIndices)({indexNames:[indexName]}))},refreshIndex:function refreshIndex(indexName){dispatch((0,_actions.refreshIndices)({indexNames:[indexName]}))},forcemergeIndex:function forcemergeIndex(indexName){dispatch((0,_actions.forcemergeIndices)({indexNames:[indexName]}))},deleteIndex:function deleteIndex(indexName){dispatch((0,_actions.deleteIndices)({indexNames:[indexName]}))},closeDetailPanel:function closeDetailPanel(){return dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(indexName,panelType){return dispatch((0,_actions.openDetailPanel)(indexName,panelType))}}};var DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel);exports.DetailPanel=DetailPanel},6952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(33);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _render_badges=__webpack_require__(5811);var _constants=__webpack_require__(362);var _constants2=__webpack_require__(1435);var _index_actions_context_menu=__webpack_require__(5812);var _show_json=__webpack_require__(6968);var _summary=__webpack_require__(6971);var _edit_settings_json=__webpack_require__(6974);var _app_context=__webpack_require__(5289);var _tabToHumanizedMap;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var tabToHumanizedMap=(_tabToHumanizedMap={},_defineProperty(_tabToHumanizedMap,_constants2.TAB_SUMMARY,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSummaryLabel",defaultMessage:"Summary"})),_defineProperty(_tabToHumanizedMap,_constants2.TAB_SETTINGS,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSettingsLabel",defaultMessage:"Settings"})),_defineProperty(_tabToHumanizedMap,_constants2.TAB_MAPPING,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabMappingLabel",defaultMessage:"Mapping"})),_defineProperty(_tabToHumanizedMap,_constants2.TAB_STATS,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabStatsLabel",defaultMessage:"Stats"})),_defineProperty(_tabToHumanizedMap,_constants2.TAB_EDIT_SETTINGS,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabEditSettingsLabel",defaultMessage:"Edit settings"})),_tabToHumanizedMap);var tabs=[_constants2.TAB_SUMMARY,_constants2.TAB_SETTINGS,_constants2.TAB_MAPPING,_constants2.TAB_STATS,_constants2.TAB_EDIT_SETTINGS];var DetailPanel=function DetailPanel(_ref){var panelType=_ref.panelType,indexName=_ref.indexName,index=_ref.index,openDetailPanel=_ref.openDetailPanel,closeDetailPanel=_ref.closeDetailPanel;var _useServices=(0,_app_context.useServices)(),extensionsService=_useServices.extensionsService;var renderTabs=function renderTabs(){return tabs.map((function(tab,i){var isSelected=tab===panelType;return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,indexName:indexName})},isSelected:isSelected,"data-test-subj":"detailPanelTab".concat(isSelected?"Selected":""),disabled:tab===_constants2.TAB_STATS&&index.status!==_constants.INDEX_OPEN,key:i},tabToHumanizedMap[tab])}))};if(!panelType){return null}var component=null;switch(panelType){case _constants2.TAB_EDIT_SETTINGS:component=_react.default.createElement(_edit_settings_json.EditSettingsJson,null);break;case _constants2.TAB_MAPPING:case _constants2.TAB_SETTINGS:case _constants2.TAB_STATS:component=_react.default.createElement(_show_json.ShowJson,null);break;default:component=_react.default.createElement(_summary.Summary,null)}var content=index?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlyoutBody,null,component),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react.default.createElement(_index_actions_context_menu.IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}}))))):_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexTitle",defaultMessage:"Missing index"}),color:"danger",iconType:"cross"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexMessage",defaultMessage:"This index does not exist. It might have been deleted by a running job or another system."})));return _react.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,{id:"indexDetailsFlyoutTitle"},_react.default.createElement("h2",null,indexName,(0,_render_badges.renderBadges)(index,undefined,extensionsService))),index?_react.default.createElement(_eui.EuiTabs,null,renderTabs()):null),content)};exports.DetailPanel=DetailPanel},6953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _reactRedux=__webpack_require__(10);var _index_actions_context_menu=__webpack_require__(6954);var _constants=__webpack_require__(1435);var _actions=__webpack_require__(5244);var _selectors=__webpack_require__(1429);var mapStateToProps=function mapStateToProps(state,ownProps){var indexStatusByName={};var indexNames=ownProps.indexNames;indexNames.forEach((function(indexName){indexStatusByName[indexName]=(0,_selectors.getIndexStatusByIndexName)(state,indexName)}));return{indexStatusByName:indexStatusByName,indices:(0,_selectors.getIndicesByName)(state,indexNames),isSystemIndexByName:(0,_selectors.getIsSystemIndexByName)(indexNames),hasSystemIndex:(0,_selectors.hasSystemIndex)(indexNames)}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var indexNames=_ref.indexNames;return{editIndexSettings:function editIndexSettings(){dispatch((0,_actions.editIndexSettings)({indexName:indexNames[0]}))},clearCacheIndices:function clearCacheIndices(){dispatch((0,_actions.clearCacheIndices)({indexNames:indexNames}))},closeIndices:function closeIndices(){dispatch((0,_actions.closeIndices)({indexNames:indexNames}))},flushIndices:function flushIndices(){dispatch((0,_actions.flushIndices)({indexNames:indexNames}))},openIndices:function openIndices(){dispatch((0,_actions.openIndices)({indexNames:indexNames}))},refreshIndices:function refreshIndices(){dispatch((0,_actions.refreshIndices)({indexNames:indexNames}))},freezeIndices:function freezeIndices(){dispatch((0,_actions.freezeIndices)({indexNames:indexNames}))},unfreezeIndices:function unfreezeIndices(){dispatch((0,_actions.unfreezeIndices)({indexNames:indexNames}))},forcemergeIndices:function forcemergeIndices(maxNumSegments){dispatch((0,_actions.forcemergeIndices)({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:function showSettings(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:_constants.TAB_SETTINGS}))},showMapping:function showMapping(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:_constants.TAB_MAPPING}))},showStats:function showStats(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:_constants.TAB_STATS}))},editIndex:function editIndex(){var indexName=indexNames?indexNames[0]:null;if(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName,panelType:_constants.TAB_EDIT_SETTINGS}))}},deleteIndices:function deleteIndices(){dispatch((0,_actions.deleteIndices)({indexNames:indexNames}))},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)(indexNames))},performExtensionAction:function performExtensionAction(requestMethod,successMessage){dispatch((0,_actions.performExtensionAction)({requestMethod:requestMethod,successMessage:successMessage,indexNames:indexNames}))}}};var IndexActionsContextMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_actions_context_menu.IndexActionsContextMenu);exports.IndexActionsContextMenu=IndexActionsContextMenu},6954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _flatten_panel_tree=__webpack_require__(6955);var _constants=__webpack_require__(362);var _app_context=__webpack_require__(5289);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexActionsContextMenu=function(_Component){_inherits(IndexActionsContextMenu,_Component);function IndexActionsContextMenu(props){var _this;_classCallCheck(this,IndexActionsContextMenu);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndexActionsContextMenu).call(this,props));_defineProperty(_assertThisInitialized(_this),"closeConfirmModal",(function(){_this.setState({renderConfirmModal:null});_this.props.resetSelection&&_this.props.resetSelection()}));_defineProperty(_assertThisInitialized(_this),"confirmAction",(function(isActionConfirmed){_this.setState({isActionConfirmed:isActionConfirmed})}));_defineProperty(_assertThisInitialized(_this),"onButtonClick",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"closePopoverAndExecute",(function(func){_this.setState({isPopoverOpen:false,renderConfirmModal:false});func();_this.props.resetSelection&&_this.props.resetSelection()}));_defineProperty(_assertThisInitialized(_this),"closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"forcemergeSegmentsError",(function(){var forcemergeSegments=_this.state.forcemergeSegments;if(!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)){return}else{return _i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})}}));_defineProperty(_assertThisInitialized(_this),"renderForcemergeSegmentsModal",(function(){var _this$props=_this.props,forcemergeIndices=_this$props.forcemergeIndices,indexNames=_this$props.indexNames;var helpText=_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."});var selectedIndexCount=indexNames.length;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:_this.closeConfirmModal,onConfirm:function onConfirm(){if(!_this.forcemergeSegmentsError()){_this.closePopoverAndExecute((function(){forcemergeIndices(_this.state.forcemergeSegments);_this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})}))}},cancelButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),_react.default.createElement("ul",null,indexNames.map((function(indexName){return _react.default.createElement("li",{key:indexName},indexName)}))),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Force merging a large index or an index that is not read-only can potentially cause performance and stability issues in the cluster if it is not run properly (run against non-read-only indices) or run during peak hours. "}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiForm,{isInvalid:!!_this.forcemergeSegmentsError(),error:_this.forcemergeSegmentsError()},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:helpText},_react.default.createElement(_eui.EuiFieldNumber,{onChange:function onChange(event){_this.setState({forcemergeSegments:event.target.value})},min:1,name:"maxNumberSegments"})))))}));_defineProperty(_assertThisInitialized(_this),"renderConfirmDeleteModal",(function(){var _this$props2=_this.props,deleteIndices=_this$props2.deleteIndices,indexNames=_this$props2.indexNames,hasSystemIndex=_this$props2.hasSystemIndex,isSystemIndexByName=_this$props2.isSystemIndexByName;var isActionConfirmed=_this.state.isActionConfirmed;var selectedIndexCount=indexNames.length;var standardIndexModalBody=_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),_react.default.createElement("ul",null,indexNames.map((function(indexName){return _react.default.createElement("li",{key:indexName},indexName)}))),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."})));var systemIndexModalBody=_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),_react.default.createElement("ul",null,indexNames.map((function(indexName){return _react.default.createElement("li",{key:indexName},indexName,isSystemIndexByName[indexName]?_react.default.createElement(_react.Fragment,null," ",_react.default.createElement(_eui.EuiBadge,{iconType:"alert",color:"hollow"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.systemIndexLabel",defaultMessage:"System index"}))):"")}))),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Deleting a system index can break Kibana"}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. If you delete a system index, you can't recover it. Make sure you have appropriate backups."})),_react.default.createElement(_eui.EuiCheckbox,{id:"confirmDeleteIndicesCheckbox",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.checkboxLabel",defaultMessage:"I understand the consequences of deleting a system index"}),checked:isActionConfirmed,onChange:function onChange(e){return _this.confirmAction(e.target.checked)}})));return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:selectedIndexCount}}),onCancel:function onCancel(){_this.confirmAction(false);_this.closeConfirmModal()},onConfirm:function onConfirm(){return _this.closePopoverAndExecute(deleteIndices)},buttonColor:"danger",confirmButtonDisabled:hasSystemIndex?!isActionConfirmed:false,cancelButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}})},hasSystemIndex?systemIndexModalBody:standardIndexModalBody))}));_defineProperty(_assertThisInitialized(_this),"renderConfirmCloseModal",(function(){var _this$props3=_this.props,closeIndices=_this$props3.closeIndices,indexNames=_this$props3.indexNames,isSystemIndexByName=_this$props3.isSystemIndexByName;var isActionConfirmed=_this.state.isActionConfirmed;var selectedIndexCount=indexNames.length;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.modalTitle",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:selectedIndexCount}}),onCancel:function onCancel(){_this.confirmAction(false);_this.closeConfirmModal()},onConfirm:function onConfirm(){return _this.closePopoverAndExecute(closeIndices)},buttonColor:"danger",confirmButtonDisabled:!isActionConfirmed,cancelButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.confirmButtonText",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.closeDescription",defaultMessage:"You are about to close {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:selectedIndexCount}})),_react.default.createElement("ul",null,indexNames.map((function(indexName){return _react.default.createElement("li",{key:indexName},indexName,isSystemIndexByName[indexName]?_react.default.createElement(_react.Fragment,null," ",_react.default.createElement(_eui.EuiBadge,{iconType:"alert",color:"hollow"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.systemIndexLabel",defaultMessage:"System index"}))):"")}))),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Closing a system index can break Kibana"}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. You can reopen the index using the Open Index API."})),_react.default.createElement(_eui.EuiCheckbox,{id:"confirmCloseIndicesCheckbox",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.checkboxLabel",defaultMessage:"I understand the consequences of closing a system index"}),checked:isActionConfirmed,onChange:function onChange(e){return _this.confirmAction(e.target.checked)}}))))}));_defineProperty(_assertThisInitialized(_this),"renderConfirmFreezeModal",(function(){var _this$props4=_this.props,freezeIndices=_this$props4.freezeIndices,indexNames=_this$props4.indexNames;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.modalTitle",{defaultMessage:"Confirm freeze {count, plural, one {index} other {indices}}",values:{count:indexNames.length}}),onCancel:_this.closeConfirmModal,onConfirm:function onConfirm(){return _this.closePopoverAndExecute(freezeIndices)},cancelButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.confirmButtonText",{defaultMessage:"Freeze {count, plural, one {index} other {indices}}",values:{count:indexNames.length}})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeDescription",defaultMessage:"You are about to freeze {count, plural, one {this index} other {these indices}}:",values:{count:indexNames.length}})),_react.default.createElement("ul",null,indexNames.map((function(indexName){return _react.default.createElement("li",{key:indexName},indexName)}))),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeEntityWarningDescription",defaultMessage:" A frozen index has little overhead on the cluster and is blocked for write operations. You can search a frozen index, but expect queries to be slower. "})))))}));_this.state={isPopoverOpen:false,renderConfirmModal:null,isActionConfirmed:false};return _this}_createClass(IndexActionsContextMenu,[{key:"panels",value:function panels(_ref){var _this2=this;var fatalErrors=_ref.core.fatalErrors,_ref$services=_ref.services,extensionsService=_ref$services.extensionsService,httpService=_ref$services.httpService,notificationService=_ref$services.notificationService,usageCollection=_ref.plugins.usageCollection;var _this$props5=this.props,closeIndices=_this$props5.closeIndices,openIndices=_this$props5.openIndices,flushIndices=_this$props5.flushIndices,refreshIndices=_this$props5.refreshIndices,clearCacheIndices=_this$props5.clearCacheIndices,editIndex=_this$props5.editIndex,showMapping=_this$props5.showMapping,showStats=_this$props5.showStats,showSettings=_this$props5.showSettings,detailPanel=_this$props5.detailPanel,indexNames=_this$props5.indexNames,indexStatusByName=_this$props5.indexStatusByName,performExtensionAction=_this$props5.performExtensionAction,indices=_this$props5.indices,reloadIndices=_this$props5.reloadIndices,unfreezeIndices=_this$props5.unfreezeIndices,hasSystemIndex=_this$props5.hasSystemIndex;var allOpen=(0,_lodash.all)(indexNames,(function(indexName){return indexStatusByName[indexName]===_constants.INDEX_OPEN}));var allFrozen=(0,_lodash.all)(indices,(function(index){return index.isFrozen}));var allUnfrozen=(0,_lodash.all)(indices,(function(index){return!index.isFrozen}));var selectedIndexCount=indexNames.length;var items=[];if(!detailPanel&&selectedIndexCount===1){items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(showSettings)}});items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } mapping",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(showMapping)}});if(allOpen){items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } stats",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(showStats)}})}items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.editIndexSettingsLabel",{defaultMessage:"Edit {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(editIndex)}})}if(allOpen){items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){if(hasSystemIndex){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderConfirmCloseModal});return}_this2.closePopoverAndExecute(closeIndices)}});items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderForcemergeSegmentsModal})}});items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(refreshIndices)}});items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(clearCacheIndices)}});items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(flushIndices)}});if(allFrozen){items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(unfreezeIndices)}})}else if(allUnfrozen){items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeIndexLabel",{defaultMessage:"Freeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderConfirmFreezeModal})}})}}else{items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopoverAndExecute(openIndices)}})}items.push({name:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:selectedIndexCount}}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderConfirmDeleteModal})}});extensionsService.actions.forEach((function(actionExtension){var actionExtensionDefinition=actionExtension({indices:indices,reloadIndices:reloadIndices,usageCollection:usageCollection,toasts:notificationService.toasts,fatalErrors:fatalErrors,httpClient:httpService.httpClient});if(actionExtensionDefinition){var buttonLabel=actionExtensionDefinition.buttonLabel,requestMethod=actionExtensionDefinition.requestMethod,successMessage=actionExtensionDefinition.successMessage,renderConfirmModal=actionExtensionDefinition.renderConfirmModal;if(requestMethod){items.push({name:buttonLabel,onClick:function onClick(){_this2.closePopoverAndExecute(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return performExtensionAction(requestMethod,successMessage);case 2:case"end":return _context.stop()}}}),_callee)}))))}})}else{items.push({name:buttonLabel,onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:renderConfirmModal})}})}}}));items.forEach((function(item){item["data-test-subj"]="indexTableContextMenuButton"}));var panelTree={id:0,title:_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:selectedIndexCount}}),items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"render",value:function render(){var _this3=this;return _react.default.createElement(_app_context.AppContextConsumer,null,(function(appDependencies){var indexNames=_this3.props.indexNames;var selectedIndexCount=indexNames.length;var _this3$props=_this3.props,_this3$props$iconSide=_this3$props.iconSide,iconSide=_this3$props$iconSide===void 0?"right":_this3$props$iconSide,_this3$props$anchorPo=_this3$props.anchorPosition,anchorPosition=_this3$props$anchorPo===void 0?"rightUp":_this3$props$anchorPo,_this3$props$label=_this3$props.label,label=_this3$props$label===void 0?_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {indices}}",values:{selectedIndexCount:selectedIndexCount}}):_this3$props$label,_this3$props$iconType=_this3$props.iconType,iconType=_this3$props$iconType===void 0?"arrowDown":_this3$props$iconType;var panels=_this3.panels(appDependencies);var button=_react.default.createElement(_eui.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":_i18n.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:selectedIndexCount}}),onClick:_this3.onButtonClick,iconType:iconType,fill:true},label);return _react.default.createElement("div",null,_this3.state.renderConfirmModal?_this3.state.renderConfirmModal(_this3.closeConfirmModal):null,_react.default.createElement(_eui.EuiPopover,{id:"contextMenuIndices",button:button,isOpen:_this3.state.isPopoverOpen,closePopover:_this3.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition,repositionOnScroll:true},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}))}}]);return IndexActionsContextMenu}(_react.Component);exports.IndexActionsContextMenu=IndexActionsContextMenu},6955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPanelTree=void 0;var flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array.push(tree);if(tree.items){tree.items.forEach((function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}}))}return array};exports.flattenPanelTree=flattenPanelTree},6956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCacheIndices=exports.clearCacheIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _notification=__webpack_require__(681);var _actions=__webpack_require__(5244);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var clearCacheIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START");exports.clearCacheIndicesStart=clearCacheIndicesStart;var clearCacheIndices=function clearCacheIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(clearCacheIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.clearCacheIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.clearCacheIndices=clearCacheIndices},6957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearRowStatus=void 0;var _reduxActions=__webpack_require__(46);var clearRowStatus=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS");exports.clearRowStatus=clearRowStatus},6958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeIndices=exports.closeIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _notification=__webpack_require__(681);var _actions=__webpack_require__(5244);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var closeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START");exports.closeIndicesStart=closeIndicesStart;var closeIndices=function closeIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(closeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.closeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.closeIndices=closeIndices},6959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flushIndices=exports.flushIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var flushIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START");exports.flushIndicesStart=flushIndicesStart;var flushIndices=function flushIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(flushIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.flushIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.flushIndices=flushIndices},6960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.forcemergeIndices=exports.forcemergeIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var forcemergeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START");exports.forcemergeIndicesStart=forcemergeIndicesStart;var forcemergeIndices=function forcemergeIndices(_ref){var indexNames=_ref.indexNames,maxNumSegments=_ref.maxNumSegments;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(forcemergeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.forcemergeIndices)(indexNames,maxNumSegments);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.forcemergeIndices=forcemergeIndices},6961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.openIndices=exports.openIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var openIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START");exports.openIndicesStart=openIndicesStart;var openIndices=function openIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(openIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.openIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.openIndices=openIndices},6962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshIndices=exports.refreshIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var refreshIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START");exports.refreshIndicesStart=refreshIndicesStart;var refreshIndices=function refreshIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(refreshIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.refreshIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.refreshIndices=refreshIndices},6963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.freezeIndices=exports.freezeIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var freezeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FREEZE_INDICES_START");exports.freezeIndicesStart=freezeIndicesStart;var freezeIndices=function freezeIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(freezeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.freezeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.freezeIndicesAction.successfullyFrozeIndicesMessage",{defaultMessage:"Successfully froze: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.freezeIndices=freezeIndices},6964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.unfreezeIndices=exports.unfreezeIndicesStart=void 0;var _reduxActions=__webpack_require__(46);var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var unfreezeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START");exports.unfreezeIndicesStart=unfreezeIndicesStart;var unfreezeIndices=function unfreezeIndices(_ref){var indexNames=_ref.indexNames;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(unfreezeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.unfreezeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.unfreezeIndices=unfreezeIndices},6965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggleChanged=exports.showSystemIndicesChanged=exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=exports.filtersApplied=exports.applyFilters=void 0;var _reduxActions=__webpack_require__(46);var applyFilters=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS");exports.applyFilters=applyFilters;var filtersApplied=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED");exports.filtersApplied=filtersApplied;var filterChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED");exports.filterChanged=filterChanged;var pageChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED");exports.pageChanged=pageChanged;var pageSizeChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED");exports.pageSizeChanged=pageSizeChanged;var sortChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SORT_CHANGED");exports.sortChanged=sortChanged;var showSystemIndicesChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SHOW_SYSTEM_INDICES_CHANGED");exports.showSystemIndicesChanged=showSystemIndicesChanged;var toggleChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED");exports.toggleChanged=toggleChanged},6966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editIndexSettings=void 0;var _i18n=__webpack_require__(1);var _services=__webpack_require__(1419);var _notification=__webpack_require__(681);var _load_index_data=__webpack_require__(5545);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var editIndexSettings=function editIndexSettings(_ref){var indexName=_ref.indexName;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var indexSettings;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.loadIndexSettings)(indexName);case 3:indexSettings=_context.sent;_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);return _context.abrupt("return",_notification.notificationService.showDangerToast(_context.t0.message));case 9:_notification.notificationService.showSuccessToast(_i18n.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:indexName}}));dispatch((0,_load_index_data.loadIndexDataSuccess)({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}));case 11:case"end":return _context.stop()}}}),_callee,null,[[0,6]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.editIndexSettings=editIndexSettings},6967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.performExtensionAction=void 0;var _actions=__webpack_require__(5244);var _notification=__webpack_require__(681);var _http=__webpack_require__(394);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var performExtensionAction=function performExtensionAction(_ref){var requestMethod=_ref.requestMethod,indexNames=_ref.indexNames,successMessage=_ref.successMessage;return(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return requestMethod(indexNames,_http.httpService.httpClient);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notification.notificationService.showDangerToast(_context.t0.message);return _context.abrupt("return");case 9:dispatch((0,_actions.reloadIndices)(indexNames));_notification.notificationService.showSuccessToast(successMessage);case 11:case"end":return _context.stop()}}}),_callee,null,[[0,5]])})));return function(_x){return _ref2.apply(this,arguments)}}())};exports.performExtensionAction=performExtensionAction},6968:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ShowJson",{enumerable:true,get:function get(){return _show_json.ShowJson}});var _show_json=__webpack_require__(6969)},6969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _reactRedux=__webpack_require__(10);var _show_json=__webpack_require__(6970);var _actions=__webpack_require__(5244);var _selectors=__webpack_require__(1429);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),dataType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel};var ShowJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_show_json.ShowJson);exports.ShowJson=ShowJson},6970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);__webpack_require__(1555);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ShowJson=function(_React$PureComponent){_inherits(ShowJson,_React$PureComponent);function ShowJson(){_classCallCheck(this,ShowJson);return _possibleConstructorReturn(this,_getPrototypeOf(ShowJson).apply(this,arguments))}_createClass(ShowJson,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.props.loadIndexData(this.props)}},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(newProps){var data=newProps.data,loadIndexData=newProps.loadIndexData;if(!data){loadIndexData(newProps)}}},{key:"render",value:function render(){var data=this.props.data;if(!data){return null}var json=JSON.stringify(data,null,2);return _react.default.createElement(_eui.EuiCodeBlock,{lang:"json"},json)}}]);return ShowJson}(_react.default.PureComponent);exports.ShowJson=ShowJson},6971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Summary",{enumerable:true,get:function get(){return _summary.Summary}});var _summary=__webpack_require__(6972)},6972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _reactRedux=__webpack_require__(10);var _summary=__webpack_require__(6973);var _selectors=__webpack_require__(1429);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};var Summary=(0,_reactRedux.connect)(mapStateToProps)(_summary.Summary);exports.Summary=Summary},6973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _services=__webpack_require__(1419);var _app_context=__webpack_require__(5289);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getHeaders=function getHeaders(){return{health:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs Count"}),documents_deleted:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs Deleted"}),size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage Size"}),primary_size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary Storage Size"}),aliases:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.aliases",{defaultMessage:"Aliases"})}};var Summary=function(_React$PureComponent){_inherits(Summary,_React$PureComponent);function Summary(){_classCallCheck(this,Summary);return _possibleConstructorReturn(this,_getPrototypeOf(Summary).apply(this,arguments))}_createClass(Summary,[{key:"getAdditionalContent",value:function getAdditionalContent(extensionsService){var index=this.props.index;var extensions=extensionsService.summaries;return extensions.map((function(summaryExtension,i){return _react.default.createElement(_react.Fragment,{key:"summaryExtension-".concat(i)},_react.default.createElement(_eui.EuiHorizontalRule,null),summaryExtension(index))}))}},{key:"buildRows",value:function buildRows(){var index=this.props.index;var headers=getHeaders();var rows={left:[],right:[]};Object.keys(headers).forEach((function(fieldName,arrayIndex){var value=index[fieldName];var content=value;if(fieldName==="health"){content=_react.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value)}if(Array.isArray(content)){content=content.join(", ")}var cell=[_react.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react.default.createElement("strong",null,headers[fieldName])),_react.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)];if(arrayIndex%2===0){rows.left.push(cell)}else{rows.right.push(cell)}}));return rows}},{key:"render",value:function render(){var _this=this;return _react.default.createElement(_app_context.AppContextConsumer,null,(function(_ref){var services=_ref.services;var _this$buildRows=_this.buildRows(),left=_this$buildRows.left,right=_this$buildRows.right;var additionalContent=_this.getAdditionalContent(services.extensionsService);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.summary.summaryTitle",defaultMessage:"General"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},left)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},right))),additionalContent)}))}}]);return Summary}(_react.default.PureComponent);exports.Summary=Summary},6974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EditSettingsJson",{enumerable:true,get:function get(){return _edit_settings_json.EditSettingsJson}});var _edit_settings_json=__webpack_require__(6975)},6975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _reactRedux=__webpack_require__(10);var _edit_settings_json=__webpack_require__(6976);var _actions=__webpack_require__(5244);var _selectors=__webpack_require__(1429);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel,updateIndexSettings:_actions.updateIndexSettings};var EditSettingsJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_edit_settings_json.EditSettingsJson);exports.EditSettingsJson=EditSettingsJson},6976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _documentation=__webpack_require__(38);var _eui=__webpack_require__(2);var _constants=__webpack_require__(1435);var _edit_settings=__webpack_require__(6977);var _ace=__webpack_require__(6978);var _lodash=_interopRequireDefault(__webpack_require__(3));var _flatten_object=__webpack_require__(6980);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EditSettingsJson=function(_React$PureComponent){_inherits(EditSettingsJson,_React$PureComponent);function EditSettingsJson(){var _this;_classCallCheck(this,EditSettingsJson);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditSettingsJson).call(this));_defineProperty(_assertThisInitialized(_this),"commitSettings",(function(){var _this$props=_this.props,updateIndexSettings=_this$props.updateIndexSettings,indexName=_this$props.indexName;var json=_this.editor.getValue();var settings=JSON.parse(json);Object.keys(_this.originalSettings).forEach((function(key){if(_lodash.default.isEqual(_this.originalSettings[key],settings[key])){delete settings[key]}}));updateIndexSettings({indexName:indexName,settings:settings})}));_this.state={valid:true};return _this}_createClass(EditSettingsJson,[{key:"transformSettingsForApi",value:function transformSettingsForApi(data,isOpen){var defaults=data.defaults,settings=data.settings;var flattenedSettings=(0,_flatten_object.flattenObject)(settings);var flattenedDefaults=(0,_flatten_object.flattenObject)(defaults);var filteredDefaults=_lodash.default.pick(flattenedDefaults,_edit_settings.settingsToDisplay);var newSettings=_objectSpread({},filteredDefaults,{},flattenedSettings);this.settingsKeys=Object.keys(newSettings);_edit_settings.readOnlySettings.forEach((function(e){return delete newSettings[e]}));if(isOpen){delete newSettings["index.codec"]}return newSettings}},{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var indexName=this.props.indexName;this.props.loadIndexData({dataType:_constants.TAB_SETTINGS,indexName:indexName})}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this2=this;var _this$props2=this.props,data=_this$props2.data,indexStatus=_this$props2.indexStatus;if(data&&!this.editor){var isOpen=indexStatus==="open";var newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;var prettyJson=JSON.stringify(newSettings,null,2);var settingsKeys=Object.keys(newSettings);var editor=this.editor=(0,_ace.createAceEditor)(this.aceDiv,prettyJson,false,settingsKeys);var session=editor.getSession();session.on("changeAnnotation",(function(){var isEmptyString=session.getValue()==="";_this2.setState({valid:!isEmptyString&&session.getAnnotations().length===0})}))}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.editor&&this.editor.destroy()}},{key:"errorMessage",value:function errorMessage(){var error=this.props.error;if(!error){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"}),_react.default.createElement(_eui.EuiTextColor,{color:"danger"},error),_react.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this3=this;var data=this.props.data;if(!data){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",fill:true,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationService.getSettingsDocumentationLink(),target:"_blank",rel:"noopener noreferrer"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement("div",{"data-test-subj":"indexJsonEditor",ref:function ref(aceDiv){_this3.aceDiv=aceDiv}}),this.errorMessage(),_react.default.createElement(_eui.EuiSpacer,null))}}]);return EditSettingsJson}(_react.default.PureComponent);exports.EditSettingsJson=EditSettingsJson},6977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.settingsToDisplay=exports.readOnlySettings=void 0;var readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"];exports.readOnlySettings=readOnlySettings;var settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];exports.settingsToDisplay=settingsToDisplay},6978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createAceEditor=void 0;var _brace=_interopRequireDefault(__webpack_require__(380));__webpack_require__(7133);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var splitTokens=function splitTokens(line){return line.split(/\s+/)};var wordCompleter=function wordCompleter(words){return{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function getCompletions(editor,session,pos,prefix,callback){var document=session.getDocument();var currentLine=document.getLine(pos.row);var previousLine=document.getLine(pos.row-1);var currentTokens=splitTokens(currentLine.slice(0,pos.column));var fullLineTokens=splitTokens(currentLine);var isInArray=previousLine&&splitTokens(previousLine).slice(-1)[0]==="[";var _currentTokens=_slicedToArray(currentTokens,2),_currentTokens$=_currentTokens[1],secondToken=_currentTokens$===void 0?null:_currentTokens$;var _fullLineTokens=_slicedToArray(fullLineTokens,2),_fullLineTokens$=_fullLineTokens[1],secondFullToken=_fullLineTokens$===void 0?null:_fullLineTokens$;if(isInArray||currentTokens.length>2){return callback(null,[])}var startQuote=secondToken==='"'?"":'"';var endQuote=secondFullToken==='""'?"":'"';callback(null,words.map((function(word){return{caption:" ".concat(word),value:"".concat(startQuote).concat(word).concat(endQuote)}})))}}};var createAceEditor=function createAceEditor(div,value){var readOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var autocompleteArray=arguments.length>3?arguments[3]:undefined;var editor=_brace.default.edit(div);editor.$blockScrolling=Infinity;editor.setValue(value,-1);var session=editor.getSession();session.setUseWrapMode(true);session.setMode("ace/mode/json");if(autocompleteArray){var languageTools=_brace.default.acequire("ace/ext/language_tools");var autocompleter=wordCompleter(autocompleteArray);languageTools.setCompleters([autocompleter])}var options={readOnly:readOnly,highlightActiveLine:false,highlightGutterLine:false,minLines:20,maxLines:30};var autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:true,enableLiveAutocompletion:true};editor.setOptions(_objectSpread({},options,{},autocompleteOptions));editor.setBehavioursEnabled(!readOnly);return editor};exports.createAceEditor=createAceEditor},6980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenObject=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var flattenObject=function flattenObject(nestedObj,flattenArrays){var stack=[];var flatObj={};var dot=".";(function flattenObj(obj){_lodash.default.keys(obj).forEach((function(key){stack.push(key);if(!flattenArrays&&Array.isArray(obj[key]))flatObj[stack.join(dot)]=obj[key];else if(_lodash.default.isObject(obj[key]))flattenObj(obj[key]);else flatObj[stack.join(dot)]=obj[key];stack.pop()}))})(nestedObj);return flatObj};exports.flattenObject=flattenObject},6981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}});var _index_table=__webpack_require__(6982)},6982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(1429);var _actions=__webpack_require__(5244);var _index_table=__webpack_require__(6983);var mapStateToProps=function mapStateToProps(state){return{allIndices:(0,_selectors.getIndicesAsArray)(state),isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),detailPanelIndexName:(0,_selectors.getDetailPanelIndexName)(state),indices:(0,_selectors.getPageOfIndices)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),showSystemIndices:(0,_selectors.showSystemIndices)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state),indicesLoading:(0,_selectors.indicesLoading)(state),indicesError:(0,_selectors.indicesError)(state),toggleNameToVisibleMap:(0,_selectors.getTableState)(state).toggleNameToVisibleMap}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},showSystemIndicesChanged:function showSystemIndicesChanged(showSystemIndices){dispatch((0,_actions.showSystemIndicesChanged)({showSystemIndices:showSystemIndices}))},toggleChanged:function toggleChanged(toggleName,toggleValue){dispatch((0,_actions.toggleChanged)({toggleName:toggleName,toggleValue:toggleValue}))},openDetailPanel:function openDetailPanel(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},loadIndices:function loadIndices(){dispatch((0,_actions.loadIndices)())},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)())}}};var IndexTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_table.IndexTable);exports.IndexTable=IndexTable},6983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _reactRouterDom=__webpack_require__(33);var _eui=__webpack_require__(2);var _constants=__webpack_require__(362);var _constants2=__webpack_require__(1435);var _services=__webpack_require__(1419);var _app_context=__webpack_require__(5289);var _render_badges=__webpack_require__(5811);var _components=__webpack_require__(5319);var _index_actions_context_menu=__webpack_require__(5812);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var HEADERS={name:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"})};var IndexTable=function(_Component){_inherits(IndexTable,_Component);_createClass(IndexTable,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var selectedIndicesMap=state.selectedIndicesMap;var indexNames=props.indices.map((function(index){return index.name}));var selectedIndexNames=Object.keys(selectedIndicesMap);var missingIndexNames=selectedIndexNames.filter((function(selectedIndexName){return!indexNames.includes(selectedIndexName)}));if(missingIndexNames.length){var newMap=_objectSpread({},selectedIndicesMap);missingIndexNames.forEach((function(missingIndexName){return delete newMap[missingIndexName]}));return{selectedIndicesMap:newMap}}return null}}]);function IndexTable(props){var _this;_classCallCheck(this,IndexTable);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndexTable).call(this,props));_defineProperty(_assertThisInitialized(_this),"onSort",(function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField===column?!isSortAscending:true;sortChanged(column,newIsSortAscending)}));_defineProperty(_assertThisInitialized(_this),"onFilterChanged",(function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({filterError:error})}else{_this.props.filterChanged(query);_this.setState({filterError:null})}}));_defineProperty(_assertThisInitialized(_this),"getFilters",(function(extensionsService){var allIndices=_this.props.allIndices;return extensionsService.filters.reduce((function(accum,filterExtension){var filtersToAdd=filterExtension(allIndices);return[].concat(_toConsumableArray(accum),_toConsumableArray(filtersToAdd))}),[])}));_defineProperty(_assertThisInitialized(_this),"toggleAll",(function(){var allSelected=_this.areAllItemsSelected();if(allSelected){return _this.setState({selectedIndicesMap:{}})}var indices=_this.props.indices;var selectedIndicesMap={};indices.forEach((function(_ref2){var name=_ref2.name;selectedIndicesMap[name]=true}));_this.setState({selectedIndicesMap:selectedIndicesMap})}));_defineProperty(_assertThisInitialized(_this),"toggleItem",(function(name){_this.setState((function(_ref3){var selectedIndicesMap=_ref3.selectedIndicesMap;var newMap=_objectSpread({},selectedIndicesMap);if(newMap[name]){delete newMap[name]}else{newMap[name]=true}return{selectedIndicesMap:newMap}}))}));_defineProperty(_assertThisInitialized(_this),"isItemSelected",(function(name){return!!_this.state.selectedIndicesMap[name]}));_defineProperty(_assertThisInitialized(_this),"areAllItemsSelected",(function(){var indices=_this.props.indices;var indexOfUnselectedItem=indices.findIndex((function(index){return!_this.isItemSelected(index.name)}));return indexOfUnselectedItem===-1}));_defineProperty(_assertThisInitialized(_this),"onItemSelectionChanged",(function(selectedIndices){_this.setState({selectedIndices:selectedIndices})}));_this.state={selectedIndicesMap:{}};return _this}_createClass(IndexTable,[{key:"componentDidMount",value:function componentDidMount(){this.props.loadIndices();this.interval=setInterval(this.props.reloadIndices,_constants2.REFRESH_RATE_INDEX_LIST);var _this$props2=this.props,filterChanged=_this$props2.filterChanged,filterFromURI=_this$props2.filterFromURI;if(filterFromURI){var decodedFilter=decodeURIComponent(filterFromURI);try{var filter=_eui.EuiSearchBar.Query.parse(decodedFilter);filterChanged(filter)}catch(e){this.setState({filterError:e})}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"renderFilterError",value:function renderFilterError(){var filterError=this.state.filterError;if(!filterError){return}return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{iconType:"faceSad",color:"danger",title:_i18n.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:filterError.message}})}),_react.default.createElement(_eui.EuiSpacer,null))}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _this$props3=this.props,sortField=_this$props3.sortField,isSortAscending=_this$props3.isSortAscending;return Object.entries(HEADERS).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),fieldName=_ref5[0],label=_ref5[1];var isSorted=sortField===fieldName;return _react.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,className:"indTable__header--"+fieldName,"data-test-subj":"indexTableHeaderCell-".concat(fieldName)},label)}))}},{key:"buildRowCell",value:function buildRowCell(fieldName,value,index,appServices){var _this$props4=this.props,openDetailPanel=_this$props4.openDetailPanel,filterChanged=_this$props4.filterChanged;if(fieldName==="health"){return _react.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value)}else if(fieldName==="name"){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:function onClick(){appServices.uiMetricService.trackMetric("click",_constants.UIM_SHOW_DETAILS_CLICK);openDetailPanel(value)}},value),(0,_render_badges.renderBadges)(index,filterChanged,appServices.extensionsService))}return value}},{key:"buildRowCells",value:function buildRowCells(index,appServices){var _this3=this;return Object.keys(HEADERS).map((function(fieldName){var name=index.name;var value=index[fieldName];if(fieldName==="name"){return _react.default.createElement("th",{key:"".concat(fieldName,"-").concat(name),className:"euiTableRowCell",scope:"row","data-test-subj":"indexTableCell-".concat(fieldName)},_react.default.createElement("div",{className:"euiTableCellContent indTable__cell--".concat(fieldName)},_react.default.createElement("span",{className:"eui-textLeft"},_this3.buildRowCell(fieldName,value,index,appServices))))}return _react.default.createElement(_eui.EuiTableRowCell,{key:"".concat(fieldName,"-").concat(name),truncateText:false,"data-test-subj":"indexTableCell-".concat(fieldName),className:"indTable__cell--"+fieldName,header:fieldName},_this3.buildRowCell(fieldName,value,index,appServices))}))}},{key:"renderError",value:function renderError(){var indicesError=this.props.indicesError;var data=indicesError.body?indicesError.body:indicesError;var errorString=data.error,cause=data.cause,message=data.message;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),color:"danger",iconType:"alert"},_react.default.createElement("div",null,message||errorString),cause&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement("ul",null,cause.map((function(message,i){return _react.default.createElement("li",{key:i},message)}))))),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}))}},{key:"renderBanners",value:function renderBanners(extensionsService){var _this$props5=this.props,_this$props5$allIndic=_this$props5.allIndices,allIndices=_this$props5$allIndic===void 0?[]:_this$props5$allIndic,filterChanged=_this$props5.filterChanged;return extensionsService.banners.map((function(bannerExtension,i){var bannerData=bannerExtension(allIndices);if(!bannerData){return null}var type=bannerData.type,title=bannerData.title,message=bannerData.message,filter=bannerData.filter,filterLabel=bannerData.filterLabel;return _react.default.createElement(_react.Fragment,{key:"bannerExtension".concat(i)},_react.default.createElement(_eui.EuiCallOut,{color:type,size:"m",title:title},_react.default.createElement(_eui.EuiText,null,message,filter?_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return filterChanged(filter)}},filterLabel):null)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}))}},{key:"buildRows",value:function buildRows(appServices){var _this4=this;var _this$props6=this.props,_this$props6$indices=_this$props6.indices,indices=_this$props6$indices===void 0?[]:_this$props6$indices,detailPanelIndexName=_this$props6.detailPanelIndexName;return indices.map((function(index){var name=index.name;return _react.default.createElement(_eui.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:_this4.isItemSelected(name)||name===detailPanelIndexName,isSelectable:true,key:"".concat(name,"-row")},_react.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-".concat(name)},_react.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-".concat(name),checked:_this4.isItemSelected(name),onChange:function onChange(){_this4.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox","aria-label":_i18n.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),_this4.buildRowCells(index,appServices))}))}},{key:"renderPager",value:function renderPager(){var _this$props7=this.props,pager=_this$props7.pager,pageChanged=_this$props7.pageChanged,pageSizeChanged=_this$props7.pageSizeChanged;return _react.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"renderToggleControl",value:function renderToggleControl(_ref6){var name=_ref6.name,label=_ref6.label;var _this$props8=this.props,toggleNameToVisibleMap=_this$props8.toggleNameToVisibleMap,toggleChanged=_this$props8.toggleChanged;return _react.default.createElement(_eui.EuiFlexItem,{key:name,grow:false},_react.default.createElement(_eui.EuiSwitch,{id:"checkboxToggles-".concat(name),"data-test-subj":"checkboxToggles-".concat(name),checked:toggleNameToVisibleMap[name],onChange:function onChange(event){return toggleChanged(name,event.target.checked)},label:label}))}},{key:"render",value:function render(){var _this5=this;var _this$props9=this.props,filter=_this$props9.filter,showSystemIndices=_this$props9.showSystemIndices,showSystemIndicesChanged=_this$props9.showSystemIndicesChanged,indices=_this$props9.indices,loadIndices=_this$props9.loadIndices,indicesLoading=_this$props9.indicesLoading,indicesError=_this$props9.indicesError,allIndices=_this$props9.allIndices,pager=_this$props9.pager;var emptyState;if(indicesLoading){emptyState=_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})))}if(!indicesLoading&&!indicesError){emptyState=_react.default.createElement(_components.NoMatch,null)}var selectedIndicesMap=this.state.selectedIndicesMap;var atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;if(indicesError&&indicesError.status===403){return _react.default.createElement(_components.PageErrorForbidden,null)}return _react.default.createElement(_app_context.AppContextConsumer,null,(function(_ref7){var services=_ref7.services;var extensionsService=services.extensionsService;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},indicesLoading&&allIndices.length===0||indicesError?null:_react.default.createElement(_eui.EuiFlexGroup,null,extensionsService.toggles.map((function(toggle){return _this5.renderToggleControl(toggle)})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",checked:showSystemIndices,onChange:function onChange(event){return showSystemIndicesChanged(event.target.checked)},label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTable.systemIndicesSwitchLabel",defaultMessage:"Include system indices"})}))))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_this5.renderBanners(extensionsService),indicesError&&_this5.renderError(),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react.default.createElement(_index_actions_context_menu.IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:function resetSelection(){_this5.setState({selectedIndicesMap:{}})}})}})):null,indicesLoading&&allIndices.length===0||indicesError?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSearchBar,{filters:_this5.getFilters(extensionsService).length>0?_this5.getFilters(extensionsService):null,defaultQuery:filter,query:filter,box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"})},"aria-label":_i18n.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:_this5.onFilterChanged})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{isLoading:indicesLoading,color:"secondary",onClick:function onClick(){loadIndices()},iconType:"refresh","data-test-subj":"reloadIndicesButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"}))))),_this5.renderFilterError(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_react.default.createElement("div",{style:{maxWidth:"100%",overflow:"auto"}},_react.default.createElement(_eui.EuiTable,{className:"indTable"},_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:indices.length,total:pager.totalItems}}))),_react.default.createElement(_eui.EuiTableHeader,null,_react.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react.default.createElement(_eui.EuiCheckbox,{id:"selectAllIndexes",checked:_this5.areAllItemsSelected(),onChange:_this5.toggleAll,type:"inList","aria-label":_i18n.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),_this5.buildHeader()),_react.default.createElement(_eui.EuiTableBody,null,_this5.buildRows(services)))):emptyState,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_this5.renderPager():null)}))}}]);return IndexTable}(_react.Component);exports.IndexTable=IndexTable},6984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionLoading=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SectionLoading=function SectionLoading(_ref){var children=_ref.children;return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),body:_react.default.createElement(_eui.EuiText,{color:"subdued"},children),"data-test-subj":"sectionLoading"})};exports.SectionLoading=SectionLoading},6985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}});var _no_match=__webpack_require__(6986)},6986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoMatch=function NoMatch(){return _react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"}))};exports.NoMatch=NoMatch},6987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PageErrorForbidden",{enumerable:true,get:function get(){return _page_error_forbidden.PageErrorForbidden}});var _page_error_forbidden=__webpack_require__(6988)},6988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageErrorForbidden=PageErrorForbidden;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PageErrorForbidden(){return _react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",iconColor:undefined,title:_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"}))}))}},6989:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateDeleteModal=void 0;var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireWildcard(__webpack_require__(0));var _api=__webpack_require__(685);var _notification=__webpack_require__(681);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateDeleteModal=function TemplateDeleteModal(_ref){var templatesToDelete=_ref.templatesToDelete,callback=_ref.callback;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isDeleteConfirmed=_useState2[0],setIsDeleteConfirmed=_useState2[1];var numTemplatesToDelete=templatesToDelete.length;var hasSystemTemplate=Boolean(templatesToDelete.find((function(templateName){return templateName.startsWith(".")})));var handleDeleteTemplates=function handleDeleteTemplates(){(0,_api.deleteTemplates)(templatesToDelete).then((function(_ref2){var _ref2$data=_ref2.data,templatesDeleted=_ref2$data.templatesDeleted,errors=_ref2$data.errors,error=_ref2.error;var hasDeletedTemplates=templatesDeleted&&templatesDeleted.length;if(hasDeletedTemplates){var successMessage=templatesDeleted.length===1?_i18n.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template '{templateName}'",values:{templateName:templatesToDelete[0]}}):_i18n.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:templatesDeleted.length}});callback({hasDeletedTemplates:hasDeletedTemplates});_notification.notificationService.showSuccessToast(successMessage)}if(error||errors&&errors.length){var hasMultipleErrors=errors&&errors.length>1||error&&templatesToDelete.length>1;var errorMessage=hasMultipleErrors?_i18n.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:errors&&errors.length||templatesToDelete.length}}):_i18n.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template '{name}'",values:{name:errors&&errors[0].name||templatesToDelete[0]}});_notification.notificationService.showDangerToast(errorMessage)}}))};var handleOnCancel=function handleOnCancel(){setIsDeleteConfirmed(false);callback()};return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:numTemplatesToDelete}}),onCancel:handleOnCancel,onConfirm:handleDeleteTemplates,cancelButtonText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:numTemplatesToDelete}}),confirmButtonDisabled:hasSystemTemplate?!isDeleteConfirmed:false},_react2.default.createElement(_react2.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:numTemplatesToDelete}})),_react2.default.createElement("ul",null,templatesToDelete.map((function(template){return _react2.default.createElement("li",{key:template},template,template.startsWith(".")?_react2.default.createElement(_react2.Fragment,null," ",_react2.default.createElement(_eui.EuiBadge,{iconType:"alert",color:"hollow"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null)}))),hasSystemTemplate&&_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"deleteSystemTemplateCallOut"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you cant recover it."})),_react2.default.createElement(_eui.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:isDeleteConfirmed,onChange:function onChange(e){return setIsDeleteConfirmed(e.target.checked)}})))))};exports.TemplateDeleteModal=TemplateDeleteModal},6990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateForm",{enumerable:true,get:function get(){return _template_form.TemplateForm}});var _template_form=__webpack_require__(6991)},6991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _shared_imports=__webpack_require__(1436);var _template_steps=__webpack_require__(6992);var _steps=__webpack_require__(6993);var _section_error=__webpack_require__(5818);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var stripEmptyFields=_shared_imports.serializers.stripEmptyFields;var defaultValidation={isValid:true};var stepComponentMap={1:_steps.StepLogistics,2:_steps.StepSettings,3:_steps.StepMappings,4:_steps.StepAliases,5:_steps.StepReview};var TemplateForm=function TemplateForm(_ref){var _ref$defaultValue=_ref.defaultValue,defaultValue=_ref$defaultValue===void 0?{isManaged:false}:_ref$defaultValue,onSave=_ref.onSave,isSaving=_ref.isSaving,saveError=_ref.saveError,clearSaveError=_ref.clearSaveError,isEditing=_ref.isEditing;var _useState=(0,_react.useState)(1),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=(0,_react.useState)({1:defaultValidation,2:defaultValidation,3:defaultValidation,4:defaultValidation,5:defaultValidation}),_useState4=_slicedToArray(_useState3,2),validation=_useState4[0],setValidation=_useState4[1];var template=(0,_react.useRef)(defaultValue);var stepsDataGetters=(0,_react.useRef)({});var lastStep=Object.keys(stepComponentMap).length;var CurrentStepComponent=stepComponentMap[currentStep];var isStepValid=validation[currentStep].isValid;var setStepDataGetter=(0,_react.useCallback)((function(stepDataGetter){stepsDataGetters.current[currentStep]=stepDataGetter}),[currentStep]);var onStepValidityChange=(0,_react.useCallback)((function(isValid){setValidation((function(prev){return _objectSpread({},prev,_defineProperty({},currentStep,{isValid:isValid,errors:{}}))}))}),[currentStep]);var validateAndGetDataFromCurrentStep=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var validateAndGetData,_ref3,isValid,data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:validateAndGetData=stepsDataGetters.current[currentStep];if(validateAndGetData){_context.next=3;break}throw new Error('No data getter has been set for step "'.concat(currentStep,'"'));case 3:_context.next=5;return validateAndGetData();case 5:_ref3=_context.sent;isValid=_ref3.isValid;data=_ref3.data;if(isValid){template.current=_objectSpread({},template.current,{},data)}return _context.abrupt("return",{isValid:isValid,data:data});case 10:case"end":return _context.stop()}}}),_callee)})));return function validateAndGetDataFromCurrentStep(){return _ref2.apply(this,arguments)}}();var updateCurrentStep=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(nextStep){var shouldValidate,isValid;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:shouldValidate=currentStep!==lastStep;isValid=isStepValid;if(!shouldValidate){_context2.next=13;break}if(!(isValid===false)){_context2.next=7;break}_context2.t0=false;_context2.next=10;break;case 7:_context2.next=9;return validateAndGetDataFromCurrentStep();case 9:_context2.t0=_context2.sent.isValid;case 10:isValid=_context2.t0;if(isValid){_context2.next=13;break}return _context2.abrupt("return");case 13:setCurrentStep(nextStep);clearSaveError();case 15:case"end":return _context2.stop()}}}),_callee2)})));return function updateCurrentStep(_x){return _ref4.apply(this,arguments)}}();var onBack=function onBack(){var prevStep=currentStep-1;updateCurrentStep(prevStep)};var onNext=function onNext(){var nextStep=currentStep+1;updateCurrentStep(nextStep)};var saveButtonLabel=isEditing?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_template_steps.TemplateSteps,{currentStep:currentStep,updateCurrentStep:updateCurrentStep,isCurrentStepValid:isStepValid}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),saveError?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_section_error.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:saveError,"data-test-subj":"saveTemplateError"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react.default.createElement(_eui.EuiForm,{"data-test-subj":"templateForm"},_react.default.createElement(CurrentStepComponent,{key:currentStep,template:template.current,setDataGetter:setStepDataGetter,updateCurrentStep:updateCurrentStep,onStepValidityChange:onStepValidityChange,isEditing:isEditing}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,null,currentStep>1?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:onBack,"data-test-subj":"backButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.backButtonLabel",defaultMessage:"Back"}))):null,currentStep<lastStep?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,iconType:"arrowRight",onClick:onNext,iconSide:"right",disabled:isStepValid===false,"data-test-subj":"nextButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.nextButtonLabel",defaultMessage:"Next"}))):null,currentStep===lastStep?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary",iconType:"check",onClick:onSave.bind(null,stripEmptyFields(template.current)),"data-test-subj":"submitButton",isLoading:isSaving},isSaving?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.savingButtonLabel",defaultMessage:"Saving..."}):saveButtonLabel)):null)))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.TemplateForm=TemplateForm},6992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateSteps=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var stepNamesMap={1:_i18n.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"}),2:_i18n.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"}),3:_i18n.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"}),4:_i18n.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"}),5:_i18n.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})};var TemplateSteps=function TemplateSteps(_ref){var currentStep=_ref.currentStep,updateCurrentStep=_ref.updateCurrentStep,isCurrentStepValid=_ref.isCurrentStepValid;var steps=[1,2,3,4,5].map((function(step){return{title:stepNamesMap[step],isComplete:currentStep>step,isSelected:currentStep===step,disabled:step!==currentStep&&isCurrentStepValid===false,onClick:function onClick(){return updateCurrentStep(step,step-1)}}}));return _react.default.createElement(_eui.EuiStepsHorizontal,{steps:steps})};exports.TemplateSteps=TemplateSteps},6993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StepLogistics",{enumerable:true,get:function get(){return _step_logistics.StepLogistics}});Object.defineProperty(exports,"StepAliases",{enumerable:true,get:function get(){return _step_aliases.StepAliases}});Object.defineProperty(exports,"StepMappings",{enumerable:true,get:function get(){return _step_mappings.StepMappings}});Object.defineProperty(exports,"StepSettings",{enumerable:true,get:function get(){return _step_settings.StepSettings}});Object.defineProperty(exports,"StepReview",{enumerable:true,get:function get(){return _step_review.StepReview}});var _step_logistics=__webpack_require__(6994);var _step_aliases=__webpack_require__(6996);var _step_mappings=__webpack_require__(6997);var _step_settings=__webpack_require__(6998);var _step_review=__webpack_require__(6999)},6994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepLogistics=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _shared_imports=__webpack_require__(1436);var _documentation=__webpack_require__(38);var _template_form_schemas=__webpack_require__(6995);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UseField=(0,_shared_imports.getUseField)({component:_shared_imports.Field});var FormRow=(0,_shared_imports.getFormRow)({titleTag:"h3"});var fieldsMeta={name:{title:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},order:{title:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},version:{title:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"}};var StepLogistics=function StepLogistics(_ref){var _ref2;var template=_ref.template,isEditing=_ref.isEditing,setDataGetter=_ref.setDataGetter,onStepValidityChange=_ref.onStepValidityChange;var _useForm=(0,_shared_imports.useForm)({schema:_template_form_schemas.schemas.logistics,defaultValue:template,options:{stripEmptyFields:false}}),form=_useForm.form;(0,_react.useEffect)((function(){onStepValidityChange(form.isValid)}),[form.isValid,onStepValidityChange]);(0,_react.useEffect)((function(){setDataGetter(form.submit)}),[form.submit,setDataGetter]);var name=fieldsMeta.name,indexPatterns=fieldsMeta.indexPatterns,order=fieldsMeta.order,version=fieldsMeta.version;return _react.default.createElement(_shared_imports.Form,{form:form,"data-test-subj":"stepLogistics"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationService.getTemplatesDocumentationLink(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(FormRow,{title:name.title,description:name.description},_react.default.createElement(UseField,{path:"name",componentProps:(_ref2={},_defineProperty(_ref2,"data-test-subj",name.testSubject),_defineProperty(_ref2,"euiFieldProps",{disabled:isEditing}),_ref2),config:isEditing?_template_form_schemas.nameConfigWithoutValidations:_template_form_schemas.nameConfig})),_react.default.createElement(FormRow,{title:indexPatterns.title,description:indexPatterns.description},_react.default.createElement(UseField,{path:"indexPatterns",componentProps:_defineProperty({},"data-test-subj",indexPatterns.testSubject)})),_react.default.createElement(FormRow,{title:order.title,description:order.description},_react.default.createElement(UseField,{path:"order",componentProps:_defineProperty({},"data-test-subj",order.testSubject)})),_react.default.createElement(FormRow,{title:version.title,description:version.description},_react.default.createElement(UseField,{path:"version",componentProps:_defineProperty({},"data-test-subj",version.testSubject)})))};exports.StepLogistics=StepLogistics},6995:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.schemas=exports.nameConfigWithoutValidations=exports.nameConfig=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _shared_imports=__webpack_require__(1436);var _constants=__webpack_require__(362);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var emptyField=_shared_imports.fieldValidators.emptyField,containsCharsField=_shared_imports.fieldValidators.containsCharsField,startsWithField=_shared_imports.fieldValidators.startsWithField,indexPatternField=_shared_imports.fieldValidators.indexPatternField,lowerCaseStringField=_shared_imports.fieldValidators.lowerCaseStringField;var toInt=_shared_imports.fieldFormatters.toInt;var indexPatternInvalidCharacters=_constants.INVALID_INDEX_PATTERN_CHARS.join(" ");var nameConfig={type:_shared_imports.FIELD_TYPES.TEXT,label:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:containsCharsField({chars:" ",message:_i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:startsWithField({char:"_",message:_i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:startsWithField({char:".",message:_i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:containsCharsField({chars:_constants.INVALID_TEMPLATE_NAME_CHARS,message:function message(_ref){var charsFound=_ref.charsFound;return _i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:charsFound[0]}})}})},{validator:lowerCaseStringField(_i18n.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]};exports.nameConfig=nameConfig;var nameConfigWithoutValidations=_objectSpread({},nameConfig,{validations:[]});exports.nameConfigWithoutValidations=nameConfigWithoutValidations;var schemas={logistics:{name:nameConfig,indexPatterns:{type:_shared_imports.FIELD_TYPES.COMBO_BOX,defaultValue:[],label:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:_react.default.createElement("strong",null,indexPatternInvalidCharacters)}}),validations:[{validator:emptyField(_i18n.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:indexPatternField(_i18n.i18n),type:_shared_imports.VALIDATION_TYPES.ARRAY_ITEM}]},order:{type:_shared_imports.FIELD_TYPES.NUMBER,label:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[toInt]},version:{type:_shared_imports.FIELD_TYPES.NUMBER,label:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[toInt]}}};exports.schemas=schemas},6996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepAliases=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _documentation=__webpack_require__(38);var _use_json_step=__webpack_require__(5819);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StepAliases=function StepAliases(_ref){var template=_ref.template,setDataGetter=_ref.setDataGetter,onStepValidityChange=_ref.onStepValidityChange;var _useJsonStep=(0,_use_json_step.useJsonStep)({prop:"aliases",defaultValue:template.aliases,setDataGetter:setDataGetter,onStepValidityChange:onStepValidityChange}),content=_useJsonStep.content,setContent=_useJsonStep.setContent,error=_useJsonStep.error;return _react.default.createElement("div",{"data-test-subj":"stepAliases"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",{"data-test-subj":"stepTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationService.getTemplatesDocumentationLink(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepAliases.docsButtonLabel",defaultMessage:"Index Templates docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:_react.default.createElement(_eui.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(error),error:error,fullWidth:true},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,"aria-label":_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),value:content,onChange:function onChange(updated){setContent(updated)},"data-test-subj":"aliasesEditor"})))};exports.StepAliases=StepAliases},6997:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepMappings=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _documentation=__webpack_require__(38);var _mappings_editor=__webpack_require__(1846);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var StepMappings=function StepMappings(_ref){var template=_ref.template,setDataGetter=_ref.setDataGetter,onStepValidityChange=_ref.onStepValidityChange;var _useState=(0,_react.useState)(template.mappings),_useState2=_slicedToArray(_useState,2),mappings=_useState2[0],setMappings=_useState2[1];var onMappingsEditorUpdate=(0,_react.useCallback)((function(_ref2){var isValid=_ref2.isValid,getData=_ref2.getData,validate=_ref2.validate;onStepValidityChange(isValid);setDataGetter(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var isMappingsValid,data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(isValid===undefined)){_context.next=6;break}_context.next=3;return validate();case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=isValid;case 7:isMappingsValid=_context.t0;data=getData(isMappingsValid);return _context.abrupt("return",Promise.resolve({isValid:isMappingsValid,data:{mappings:data}}));case 10:case"end":return _context.stop()}}}),_callee)}))))}),[setDataGetter,onStepValidityChange]);var onJsonLoaded=function onJsonLoaded(json){setMappings(json)};return _react.default.createElement("div",{"data-test-subj":"stepMappings"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",{"data-test-subj":"stepTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_mappings_editor.LoadMappingsFromJsonButton,{onJson:onJsonLoaded})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationService.getMappingDocumentationLink(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_mappings_editor.MappingsEditor,{defaultValue:mappings,onUpdate:onMappingsEditorUpdate,indexSettings:template.settings}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.StepMappings=StepMappings},6998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepSettings=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _documentation=__webpack_require__(38);var _use_json_step=__webpack_require__(5819);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StepSettings=function StepSettings(_ref){var template=_ref.template,setDataGetter=_ref.setDataGetter,onStepValidityChange=_ref.onStepValidityChange;var _useJsonStep=(0,_use_json_step.useJsonStep)({prop:"settings",defaultValue:template.settings,setDataGetter:setDataGetter,onStepValidityChange:onStepValidityChange}),content=_useJsonStep.content,setContent=_useJsonStep.setContent,error=_useJsonStep.error;return _react.default.createElement("div",{"data-test-subj":"stepSettings"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",{"data-test-subj":"stepTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationService.getSettingsDocumentationLink(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:_react.default.createElement(_eui.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(error),error:error,fullWidth:true},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,"aria-label":_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),value:content,onChange:function onChange(updated){return setContent(updated)},"data-test-subj":"settingsEditor"})))};exports.StepSettings=StepSettings},6999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepReview=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _shared_imports=__webpack_require__(1436);var _template_serialization=__webpack_require__(7e3);var _lib=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var stripEmptyFields=_shared_imports.serializers.stripEmptyFields;var NoneDescriptionText=function NoneDescriptionText(){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"})};var getDescriptionText=function getDescriptionText(data){var hasEntries=data&&Object.entries(data).length>0;return hasEntries?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"})};var StepReview=function StepReview(_ref){var template=_ref.template,updateCurrentStep=_ref.updateCurrentStep;var name=template.name,indexPatterns=template.indexPatterns,version=template.version,order=template.order;var serializedTemplate=(0,_template_serialization.serializeTemplate)(stripEmptyFields(template));delete serializedTemplate.name;var serializedMappings=serializedTemplate.mappings,serializedSettings=serializedTemplate.settings,serializedAliases=serializedTemplate.aliases;var numIndexPatterns=indexPatterns.length;var hasWildCardIndexPattern=Boolean(indexPatterns.find((function(pattern){return pattern==="*"})));var SummaryTab=function SummaryTab(){return _react.default.createElement("div",{"data-test-subj":"summaryTab"},_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:numIndexPatterns}})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,numIndexPatterns>1?_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,indexPatterns.map((function(indexName,i){return _react.default.createElement("li",{key:"".concat(indexName,"-").concat(i)},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("span",null,indexName)))})))):indexPatterns.toString()),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,order?order:_react.default.createElement(NoneDescriptionText,null)),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,version?version:_react.default.createElement(NoneDescriptionText,null)))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,getDescriptionText(serializedSettings)),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,getDescriptionText(serializedMappings)),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,getDescriptionText(serializedAliases))))))};var RequestTab=function RequestTab(){var includeTypeName=(0,_lib.doMappingsHaveType)(template.mappings);var endpoint="PUT _template/".concat(name||"<templateName>").concat(includeTypeName?"?include_type_name":"");var templateString=JSON.stringify(serializedTemplate,null,2);var request="".concat(endpoint,"\n").concat(templateString);var language=request.length<6e4?"json":undefined;return _react.default.createElement("div",{"data-test-subj":"requestTab"},_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCodeBlock,{language:language,isCopyable:true},request))};return _react.default.createElement("div",{"data-test-subj":"stepSummary"},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",{"data-test-subj":"stepTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:name}}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),hasWildCardIndexPattern?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},_react.default.createElement("p",{"data-test-subj":"indexPatternsWarningDescription"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",_react.default.createElement(_eui.EuiLink,{onClick:updateCurrentStep.bind(null,1)},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react.default.createElement(_eui.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:[{id:"summary",name:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:_react.default.createElement(SummaryTab,null)},{id:"request",name:_i18n.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:_react.default.createElement(RequestTab,null)}]}))};exports.StepReview=StepReview},7e3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deserializeTemplateList=deserializeTemplateList;exports.serializeTemplate=serializeTemplate;exports.deserializeTemplate=deserializeTemplate;var hasEntries=function hasEntries(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.entries(data).length>0};function deserializeTemplateList(indexTemplatesByName,managedTemplatePrefix){var indexTemplateNames=Object.keys(indexTemplatesByName);var deserializedTemplates=indexTemplateNames.map((function(name){var _indexTemplatesByName=indexTemplatesByName[name],version=_indexTemplatesByName.version,order=_indexTemplatesByName.order,_indexTemplatesByName2=_indexTemplatesByName.index_patterns,indexPatterns=_indexTemplatesByName2===void 0?[]:_indexTemplatesByName2,_indexTemplatesByName3=_indexTemplatesByName.settings,settings=_indexTemplatesByName3===void 0?{}:_indexTemplatesByName3,_indexTemplatesByName4=_indexTemplatesByName.aliases,aliases=_indexTemplatesByName4===void 0?{}:_indexTemplatesByName4,_indexTemplatesByName5=_indexTemplatesByName.mappings,mappings=_indexTemplatesByName5===void 0?{}:_indexTemplatesByName5;return{name:name,version:version,order:order,indexPatterns:indexPatterns.sort(),hasSettings:hasEntries(settings),hasAliases:hasEntries(aliases),hasMappings:hasEntries(mappings),ilmPolicy:settings&&settings.index&&settings.index.lifecycle,isManaged:Boolean(managedTemplatePrefix&&name.startsWith(managedTemplatePrefix))}}));return deserializedTemplates}function serializeTemplate(template){var name=template.name,version=template.version,order=template.order,indexPatterns=template.indexPatterns,settings=template.settings,aliases=template.aliases,mappings=template.mappings;var serializedTemplate={name:name,version:version,order:order,index_patterns:indexPatterns,settings:settings,aliases:aliases,mappings:mappings};return serializedTemplate}function deserializeTemplate(templateEs,managedTemplatePrefix){var name=templateEs.name,version=templateEs.version,order=templateEs.order,indexPatterns=templateEs.index_patterns,settings=templateEs.settings,aliases=templateEs.aliases,mappings=templateEs.mappings;var deserializedTemplate={name:name,version:version,order:order,indexPatterns:indexPatterns.sort(),settings:settings,aliases:aliases,mappings:mappings,ilmPolicy:settings&&settings.index&&settings.index.lifecycle,isManaged:Boolean(managedTemplatePrefix&&name.startsWith(managedTemplatePrefix))};return deserializedTemplate}},7001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateList",{enumerable:true,get:function get(){return _template_list.TemplateList}});var _template_list=__webpack_require__(7002)},7002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateList=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _components=__webpack_require__(5319);var _template_table=__webpack_require__(7003);var _api=__webpack_require__(685);var _app_context=__webpack_require__(5289);var _routing=__webpack_require__(5342);var _constants=__webpack_require__(362);var _template_details=__webpack_require__(7005);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateList=function TemplateList(_ref){var templateName=_ref.match.params.templateName,history=_ref.history;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var _useLoadIndexTemplate=(0,_api.useLoadIndexTemplates)(),error=_useLoadIndexTemplate.error,isLoading=_useLoadIndexTemplate.isLoading,templates=_useLoadIndexTemplate.data,reload=_useLoadIndexTemplate.sendRequest;var content;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showSystemTemplates=_useState2[0],setShowSystemTemplates=_useState2[1];var filteredTemplates=(0,_react.useMemo)((function(){return templates?templates.filter((function(template){return!template.name.startsWith(".")})):[]}),[templates]);var closeTemplateDetails=function closeTemplateDetails(){history.push((0,_routing.getTemplateListLink)())};var editTemplate=function editTemplate(name){history.push((0,_routing.getTemplateEditLink)(name))};var cloneTemplate=function cloneTemplate(name){history.push((0,_routing.getTemplateCloneLink)(name))};(0,_react.useEffect)((function(){uiMetricService.trackMetric("loaded",_constants.UIM_TEMPLATE_LIST_LOAD)}),[uiMetricService]);if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:error})}else if(Array.isArray(templates)&&templates.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"You don't have any templates yet"})),"data-test-subj":"emptyPrompt"})}else if(Array.isArray(templates)&&templates.length>0){content=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use index templates to automatically apply settings, mappings, and aliases to indices."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndexTemplates","data-test-subj":"systemTemplatesSwitch",checked:showSystemTemplates,onChange:function onChange(event){return setShowSystemTemplates(event.target.checked)},label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesTable.systemIndexTemplatesSwitchLabel",defaultMessage:"Include system templates"})}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_template_table.TemplateTable,{templates:showSystemTemplates?templates:filteredTemplates,reload:reload,editTemplate:editTemplate,cloneTemplate:cloneTemplate}))}return _react.default.createElement("div",{"data-test-subj":"templateList"},content,templateName&&_react.default.createElement(_template_details.TemplateDetails,{templateName:templateName,onClose:closeTemplateDetails,editTemplate:editTemplate,cloneTemplate:cloneTemplate,reload:reload}))};exports.TemplateList=TemplateList},7003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateTable",{enumerable:true,get:function get(){return _template_table.TemplateTable}});var _template_table=__webpack_require__(7004)},7004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(362);var _components=__webpack_require__(5319);var _app_context=__webpack_require__(5289);var _routing=__webpack_require__(5342);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateTable=function TemplateTable(_ref){var templates=_ref.templates,reload=_ref.reload,editTemplate=_ref.editTemplate,cloneTemplate=_ref.cloneTemplate;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selection=_useState2[0],setSelection=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),templatesToDelete=_useState4[0],setTemplatesToDelete=_useState4[1];var columns=[{field:"name",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:true,sortable:true,render:function render(name){return _react.default.createElement(_eui.EuiLink,{href:(0,_routing.getTemplateDetailsLink)(name,true),"data-test-subj":"templateDetailsLink",onClick:function onClick(){return uiMetricService.trackMetric("click",_constants.UIM_TEMPLATE_SHOW_DETAILS_CLICK)}},name)}},{field:"indexPatterns",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:true,sortable:true,render:function render(indexPatterns){return _react.default.createElement("strong",null,indexPatterns.join(", "))}},{field:"ilmPolicy",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:true,sortable:true,render:function render(ilmPolicy){return ilmPolicy&&ilmPolicy.name?_react.default.createElement("span",{title:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.ilmPolicyColumnDescription",{defaultMessage:"'{policyName}' index lifecycle policy",values:{policyName:ilmPolicy.name}})},ilmPolicy.name):null}},{field:"order",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.orderColumnTitle",{defaultMessage:"Order"}),truncateText:true,sortable:true},{field:"hasMappings",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:true,sortable:true,render:function render(hasMappings){return hasMappings?_react.default.createElement(_eui.EuiIcon,{type:"check"}):null}},{field:"hasSettings",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:true,sortable:true,render:function render(hasSettings){return hasSettings?_react.default.createElement(_eui.EuiIcon,{type:"check"}):null}},{field:"hasAliases",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:true,sortable:true,render:function render(hasAliases){return hasAliases?_react.default.createElement(_eui.EuiIcon,{type:"check"}):null}},{name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:true,description:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:function onClick(_ref2){var name=_ref2.name;editTemplate(name)},enabled:function enabled(_ref3){var isManaged=_ref3.isManaged;return!isManaged}},{type:"icon",name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:function onClick(_ref4){var name=_ref4.name;cloneTemplate(name)}},{name:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:_i18n.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:function onClick(_ref5){var name=_ref5.name;setTemplatesToDelete([name])},isPrimary:true,enabled:function enabled(_ref6){var isManaged=_ref6.isManaged;return!isManaged}}]}];var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var sorting={sort:{field:"name",direction:"asc"}};var selectionConfig={onSelectionChange:setSelection,selectable:function selectable(_ref7){var isManaged=_ref7.isManaged;return!isManaged},selectableMessage:function selectableMessage(selectable){if(!selectable){return _i18n.i18n.translate("xpack.idxMgmt.templateList.table.deleteManagedTemplateTooltip",{defaultMessage:"You cannot delete a managed template."})}return""}};var searchConfig={box:{incremental:true},toolsLeft:selection.length>0?_react.default.createElement(_eui.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:function onClick(){return setTemplatesToDelete(selection.map((function(selected){return selected.name})))},color:"danger"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:selection.length}})):undefined,toolsRight:[_react.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton",key:"reloadButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})),_react.default.createElement(_eui.EuiButton,{href:"#".concat(_constants.BASE_PATH,"create_template"),fill:true,iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create a template"}))]};return _react.default.createElement(_react.Fragment,null,templatesToDelete&&templatesToDelete.length>0?_react.default.createElement(_components.TemplateDeleteModal,{callback:function callback(data){if(data&&data.hasDeletedTemplates){reload()}else{setTemplatesToDelete([])}},templatesToDelete:templatesToDelete}):null,_react.default.createElement(_eui.EuiInMemoryTable,{items:templates||[],itemId:"name",columns:columns,search:searchConfig,sorting:sorting,isSelectable:true,selection:selectionConfig,pagination:pagination,rowProps:function rowProps(){return{"data-test-subj":"row"}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},"data-test-subj":"templateTable",message:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))};exports.TemplateTable=TemplateTable},7005:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateDetails",{enumerable:true,get:function get(){return _template_details.TemplateDetails}});var _template_details=__webpack_require__(7006)},7006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(362);var _components=__webpack_require__(5319);var _api=__webpack_require__(685);var _routing=__webpack_require__(5342);var _app_context=__webpack_require__(5289);var _tabs=__webpack_require__(7007);var _tabToComponentMap,_tabToUiMetricMap;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SUMMARY_TAB_ID="summary";var MAPPINGS_TAB_ID="mappings";var ALIASES_TAB_ID="aliases";var SETTINGS_TAB_ID="settings";var TABS=[{id:SUMMARY_TAB_ID,name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:SETTINGS_TAB_ID,name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:MAPPINGS_TAB_ID,name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:ALIASES_TAB_ID,name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}];var tabToComponentMap=(_tabToComponentMap={},_defineProperty(_tabToComponentMap,SUMMARY_TAB_ID,_tabs.TabSummary),_defineProperty(_tabToComponentMap,SETTINGS_TAB_ID,_tabs.TabSettings),_defineProperty(_tabToComponentMap,MAPPINGS_TAB_ID,_tabs.TabMappings),_defineProperty(_tabToComponentMap,ALIASES_TAB_ID,_tabs.TabAliases),_tabToComponentMap);var tabToUiMetricMap=(_tabToUiMetricMap={},_defineProperty(_tabToUiMetricMap,SUMMARY_TAB_ID,_constants.UIM_TEMPLATE_DETAIL_PANEL_SUMMARY_TAB),_defineProperty(_tabToUiMetricMap,SETTINGS_TAB_ID,_constants.UIM_TEMPLATE_DETAIL_PANEL_SETTINGS_TAB),_defineProperty(_tabToUiMetricMap,MAPPINGS_TAB_ID,_constants.UIM_TEMPLATE_DETAIL_PANEL_MAPPINGS_TAB),_defineProperty(_tabToUiMetricMap,ALIASES_TAB_ID,_constants.UIM_TEMPLATE_DETAIL_PANEL_ALIASES_TAB),_tabToUiMetricMap);var TemplateDetails=function TemplateDetails(_ref){var templateName=_ref.templateName,onClose=_ref.onClose,editTemplate=_ref.editTemplate,cloneTemplate=_ref.cloneTemplate,reload=_ref.reload;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var decodedTemplateName=(0,_routing.decodePath)(templateName);var _useLoadIndexTemplate=(0,_api.useLoadIndexTemplate)(decodedTemplateName),error=_useLoadIndexTemplate.error,templateDetails=_useLoadIndexTemplate.data,isLoading=_useLoadIndexTemplate.isLoading;var isManaged=templateDetails?templateDetails.isManaged:undefined;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),templateToDelete=_useState2[0],setTemplateToDelete=_useState2[1];var _useState3=(0,_react.useState)(SUMMARY_TAB_ID),_useState4=_slicedToArray(_useState3,2),activeTab=_useState4[0],setActiveTab=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isPopoverOpen=_useState6[0],setIsPopOverOpen=_useState6[1];var content;if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:error,"data-test-subj":"sectionError"})}else if(templateDetails){var Content=tabToComponentMap[activeTab];var managedTemplateCallout=isManaged?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.managedTemplateInfoTitle",defaultMessage:"Editing a managed template is not permitted"}),color:"primary",size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.managedTemplateInfoDescription",defaultMessage:"Managed templates are critical for internal operations."})),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null;content=_react.default.createElement(_react.Fragment,null,managedTemplateCallout,_react.default.createElement(_eui.EuiTabs,null,TABS.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){uiMetricService.trackMetric("click",tabToUiMetricMap[tab.id]);setActiveTab(tab.id)},isSelected:tab.id===activeTab,key:tab.id,"data-test-subj":"tab"},tab.name)}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(Content,{templateDetails:templateDetails}))}return _react.default.createElement(_react.Fragment,null,templateToDelete&&templateToDelete.length>0?_react.default.createElement(_components.TemplateDeleteModal,{callback:function callback(data){if(data&&data.hasDeletedTemplates){reload()}else{setTemplateToDelete([])}onClose()},templatesToDelete:templateToDelete}):null,_react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle",size:"m",maxWidth:500},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},decodedTemplateName))),_react.default.createElement(_eui.EuiFlyoutBody,{"data-test-subj":"content"},content),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"closeDetailsButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),templateDetails&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"manageTemplatePanel",button:_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:function onClick(){return setIsPopOverOpen((function(prev){return!prev}))}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopOverOpen(false)},panelPaddingSize:"none",withTitle:true,anchorPosition:"rightUp",repositionOnScroll:true},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:function onClick(){return editTemplate(decodedTemplateName)},disabled:isManaged},{name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:function onClick(){return cloneTemplate(decodedTemplateName)}},{name:_i18n.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:function onClick(){return setTemplateToDelete([decodedTemplateName])},disabled:isManaged}]}]})))))))};exports.TemplateDetails=TemplateDetails},7007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TabSummary",{enumerable:true,get:function get(){return _tab_summary.TabSummary}});Object.defineProperty(exports,"TabMappings",{enumerable:true,get:function get(){return _tab_mappings.TabMappings}});Object.defineProperty(exports,"TabSettings",{enumerable:true,get:function get(){return _tab_settings.TabSettings}});Object.defineProperty(exports,"TabAliases",{enumerable:true,get:function get(){return _tab_aliases.TabAliases}});var _tab_summary=__webpack_require__(7008);var _tab_mappings=__webpack_require__(7009);var _tab_settings=__webpack_require__(7010);var _tab_aliases=__webpack_require__(7011)},7008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSummary=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _navigation=__webpack_require__(1863);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoneDescriptionText=function NoneDescriptionText(){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",defaultMessage:"None"})};var TabSummary=function TabSummary(_ref){var templateDetails=_ref.templateDetails;var version=templateDetails.version,order=templateDetails.order,_templateDetails$inde=templateDetails.indexPatterns,indexPatterns=_templateDetails$inde===void 0?[]:_templateDetails$inde,ilmPolicy=templateDetails.ilmPolicy;var numIndexPatterns=indexPatterns.length;return _react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTab"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:numIndexPatterns}})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,numIndexPatterns>1?_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,indexPatterns.map((function(indexName,i){return _react.default.createElement("li",{key:"".concat(indexName,"-").concat(i)},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("span",null,indexName)))})))):indexPatterns.toString()),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,ilmPolicy&&ilmPolicy.name?_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.getILMPolicyPath)(ilmPolicy.name)},ilmPolicy.name):_react.default.createElement(NoneDescriptionText,null)),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,order||order===0?order:_react.default.createElement(NoneDescriptionText,null)),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,version||version===0?version:_react.default.createElement(NoneDescriptionText,null)))};exports.TabSummary=TabSummary},7009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabMappings=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabMappings=function TabMappings(_ref){var templateDetails=_ref.templateDetails;var mappings=templateDetails.mappings;if(mappings&&Object.keys(mappings).length){return _react.default.createElement("div",{"data-test-subj":"mappingsTab"},_react.default.createElement(_eui.EuiCodeBlock,{lang:"json"},JSON.stringify(mappings,null,2)))}return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout"})};exports.TabMappings=TabMappings},7010:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSettings=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabSettings=function TabSettings(_ref){var templateDetails=_ref.templateDetails;var settings=templateDetails.settings;if(settings&&Object.keys(settings).length){return _react.default.createElement("div",{"data-test-subj":"settingsTab"},_react.default.createElement(_eui.EuiCodeBlock,{lang:"json"},JSON.stringify(settings,null,2)))}return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.settingsTab.noSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout"})};exports.TabSettings=TabSettings},7011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabAliases=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabAliases=function TabAliases(_ref){var templateDetails=_ref.templateDetails;var aliases=templateDetails.aliases;if(aliases&&Object.keys(aliases).length){return _react.default.createElement("div",{"data-test-subj":"aliasesTab"},_react.default.createElement(_eui.EuiCodeBlock,{lang:"json"},JSON.stringify(aliases,null,2)))}return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout"})};exports.TabAliases=TabAliases},7012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateCreate",{enumerable:true,get:function get(){return _template_create.TemplateCreate}});var _template_create=__webpack_require__(7013)},7013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateCreate=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _components=__webpack_require__(5319);var _breadcrumbs=__webpack_require__(5375);var _api=__webpack_require__(685);var _routing=__webpack_require__(5342);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateCreate=function TemplateCreate(_ref){var history=_ref.history;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),saveError=_useState4[0],setSaveError=_useState4[1];var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(template){var name,_ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=template.name;setIsSaving(true);setSaveError(null);_context.next=5;return(0,_api.saveTemplate)(template);case 5:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(!error){_context.next=11;break}setSaveError(error);return _context.abrupt("return");case 11:history.push((0,_routing.getTemplateDetailsLink)(name));case 12:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var clearSaveError=function clearSaveError(){setSaveError(null)};(0,_react.useEffect)((function(){_breadcrumbs.breadcrumbService.setBreadcrumbs("templateCreate")}),[]);return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_components.TemplateForm,{onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError})))};exports.TemplateCreate=TemplateCreate},7014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateClone",{enumerable:true,get:function get(){return _template_clone.TemplateClone}});var _template_clone=__webpack_require__(7015)},7015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateClone=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _components=__webpack_require__(5319);var _breadcrumbs=__webpack_require__(5375);var _routing=__webpack_require__(5342);var _api=__webpack_require__(685);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateClone=function TemplateClone(_ref){var name=_ref.match.params.name,history=_ref.history;var decodedTemplateName=(0,_routing.decodePath)(name);var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),saveError=_useState4[0],setSaveError=_useState4[1];var _useLoadIndexTemplate=(0,_api.useLoadIndexTemplate)(decodedTemplateName),templateToCloneError=_useLoadIndexTemplate.error,templateToClone=_useLoadIndexTemplate.data,isLoading=_useLoadIndexTemplate.isLoading;var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(template){var _ref3,error,newTemplateName;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);_context.next=4;return(0,_api.saveTemplate)(template,true);case 4:_ref3=_context.sent;error=_ref3.error;newTemplateName=template.name;setIsSaving(false);if(!error){_context.next=11;break}setSaveError(error);return _context.abrupt("return");case 11:history.push((0,_routing.getTemplateDetailsLink)(newTemplateName));case 12:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var clearSaveError=function clearSaveError(){setSaveError(null)};var content;(0,_react.useEffect)((function(){_breadcrumbs.breadcrumbService.setBreadcrumbs("templateClone")}),[]);if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone"}))}else if(templateToCloneError){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:templateToCloneError,"data-test-subj":"sectionError"})}else if(templateToClone){var templateData=_objectSpread({},templateToClone,{name:"".concat(decodedTemplateName,"-copy")});content=_react.default.createElement(_components.TemplateForm,{defaultValue:templateData,onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError})}return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template '{name}'",values:{name:decodedTemplateName}}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),content))};exports.TemplateClone=TemplateClone},7016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TemplateEdit",{enumerable:true,get:function get(){return _template_edit.TemplateEdit}});var _template_edit=__webpack_require__(7017)},7017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateEdit=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _breadcrumbs=__webpack_require__(5375);var _api=__webpack_require__(685);var _routing=__webpack_require__(5342);var _components=__webpack_require__(5319);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TemplateEdit=function TemplateEdit(_ref){var name=_ref.match.params.name,history=_ref.history;var decodedTemplateName=(0,_routing.decodePath)(name);var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),saveError=_useState4[0],setSaveError=_useState4[1];var _useLoadIndexTemplate=(0,_api.useLoadIndexTemplate)(decodedTemplateName),error=_useLoadIndexTemplate.error,template=_useLoadIndexTemplate.data,isLoading=_useLoadIndexTemplate.isLoading;(0,_react.useEffect)((function(){_breadcrumbs.breadcrumbService.setBreadcrumbs("templateEdit")}),[]);var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(updatedTemplate){var _ref3,saveErrorObject;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);_context.next=4;return(0,_api.updateTemplate)(updatedTemplate);case 4:_ref3=_context.sent;saveErrorObject=_ref3.error;setIsSaving(false);if(!saveErrorObject){_context.next=10;break}setSaveError(saveErrorObject);return _context.abrupt("return");case 10:history.push((0,_routing.getTemplateDetailsLink)(name));case 11:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var clearSaveError=function clearSaveError(){setSaveError(null)};var content;if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:error,"data-test-subj":"sectionError"})}else if(template){var templateName=template.name,isManaged=template.isManaged;var isSystemTemplate=templateName&&templateName.startsWith(".");if(isManaged){content=_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",defaultMessage:"Managed templates are critical for internal operations."}))}else{content=_react.default.createElement(_react.Fragment,null,isSystemTemplate&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),_react.default.createElement(_eui.EuiSpacer,{size:"l"})),_react.default.createElement(_components.TemplateForm,{defaultValue:template,onSave:onSave,isSaving:isSaving,saveError:saveError,clearSaveError:clearSaveError,isEditing:true}))}}return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template '{name}'",values:{name:decodedTemplateName}}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),content))};exports.TemplateEdit=TemplateEdit},7018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"indexManagementStore",{enumerable:true,get:function get(){return _store.indexManagementStore}});var _store=__webpack_require__(7019)},7019:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagementStore=indexManagementStore;var _redux=__webpack_require__(262);var _reduxThunk=_interopRequireDefault(__webpack_require__(446));var _table_state=__webpack_require__(5820);var _reducers=__webpack_require__(7020);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function indexManagementStore(services){var toggleNameToVisibleMap={};services.extensionsService.toggles.forEach((function(toggleExtension){toggleNameToVisibleMap[toggleExtension.name]=false}));var initialState={tableState:_objectSpread({},_table_state.defaultTableState,{toggleNameToVisibleMap:toggleNameToVisibleMap})};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)((0,_reducers.getReducer)(services),initialState,_redux.compose.apply(void 0,enhancers))}},7020:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getReducer",{enumerable:true,get:function get(){return _index_management.getReducer}});var _index_management=__webpack_require__(7021)},7021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getReducer=void 0;var _redux=__webpack_require__(262);var _detail_panel=__webpack_require__(7022);var _indices=__webpack_require__(7023);var _row_status=__webpack_require__(7024);var _table_state=__webpack_require__(5820);var getReducer=function getReducer(_ref){var uiMetricService=_ref.uiMetricService;return(0,_redux.combineReducers)({indices:_indices.indices,rowStatus:_row_status.rowStatus,tableState:_table_state.tableState,detailPanel:(0,_detail_panel.getDetailPanelReducer)(uiMetricService)})};exports.getReducer=getReducer},7022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDetailPanelReducer=void 0;var _reduxActions=__webpack_require__(46);var _constants=__webpack_require__(362);var _constants2=__webpack_require__(1435);var _detail_panel=__webpack_require__(5817);var _load_index_data=__webpack_require__(5545);var _update_index_settings=__webpack_require__(5816);var _delete_indices=__webpack_require__(5813);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={};var getDetailPanelReducer=function getDetailPanelReducer(uiMetricService){var _handleActions;return(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_delete_indices.deleteIndicesSuccess,(function(state,action){var indexNames=action.payload.indexNames;var indexName=state.indexName;if(indexNames.includes(indexName)){return{}}else{return state}})),_defineProperty(_handleActions,_detail_panel.openDetailPanel,(function(state,action){var _panelTypeToUiMetricM;var _action$payload=action.payload,panelType=_action$payload.panelType,indexName=_action$payload.indexName,title=_action$payload.title;var panelTypeToUiMetricMap=(_panelTypeToUiMetricM={},_defineProperty(_panelTypeToUiMetricM,_constants2.TAB_SUMMARY,_constants.UIM_DETAIL_PANEL_SUMMARY_TAB),_defineProperty(_panelTypeToUiMetricM,_constants2.TAB_SETTINGS,_constants.UIM_DETAIL_PANEL_SETTINGS_TAB),_defineProperty(_panelTypeToUiMetricM,_constants2.TAB_MAPPING,_constants.UIM_DETAIL_PANEL_MAPPING_TAB),_defineProperty(_panelTypeToUiMetricM,_constants2.TAB_STATS,_constants.UIM_DETAIL_PANEL_STATS_TAB),_defineProperty(_panelTypeToUiMetricM,_constants2.TAB_EDIT_SETTINGS,_constants.UIM_DETAIL_PANEL_EDIT_SETTINGS_TAB),_panelTypeToUiMetricM);if(panelTypeToUiMetricMap[panelType]){uiMetricService.trackMetric("count",panelTypeToUiMetricMap[panelType])}return{panelType:panelType||state.panelType||_constants2.TAB_SUMMARY,indexName:indexName,title:title}})),_defineProperty(_handleActions,_detail_panel.closeDetailPanel,(function(){return{}})),_defineProperty(_handleActions,_load_index_data.loadIndexDataSuccess,(function(state,action){var data=action.payload.data;var newState=_objectSpread({},state,{data:data});return newState})),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsError,(function(state,action){var error=action.payload.error;var newState=_objectSpread({},state,{error:error});return newState})),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsSuccess,(function(){return{}})),_handleActions),defaultState)};exports.getDetailPanelReducer=getDetailPanelReducer},7023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indices=void 0;var _redux=__webpack_require__(262);var _reduxActions=__webpack_require__(46);var _actions=__webpack_require__(5244);var _handleActions,_handleActions2,_handleActions3;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var byId=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.deleteIndicesSuccess,(function(state,action){var indexNames=action.payload.indexNames;var newState={};Object.values(state).forEach((function(index){if(!indexNames.includes(index.name)){newState[index.name]=index}}));return newState})),_defineProperty(_handleActions,_actions.loadIndicesSuccess,(function(state,action){var indices=action.payload.indices;var newState={};indices.forEach((function(index){newState[index.name]=index}));return newState})),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,(function(state,action){var indices=action.payload.indices;var newState={};indices.forEach((function(index){newState[index.name]=index}));return _objectSpread({},state,{},newState)})),_handleActions),{});var allIds=(0,_reduxActions.handleActions)((_handleActions2={},_defineProperty(_handleActions2,_actions.deleteIndicesSuccess,(function(state,action){var indexNames=action.payload.indexNames;var newState=[];state.forEach((function(indexName){if(!indexNames.includes(indexName)){newState.push(indexName)}}));return newState})),_defineProperty(_handleActions2,_actions.loadIndicesSuccess,(function(state,action){var indices=action.payload.indices;return indices.map((function(index){return index.name}))})),_defineProperty(_handleActions2,_actions.reloadIndicesSuccess,(function(state){return state})),_handleActions2),[]);var loading=(0,_reduxActions.handleActions)((_handleActions3={},_defineProperty(_handleActions3,_actions.loadIndicesStart,(function(){return true})),_defineProperty(_handleActions3,_actions.loadIndicesSuccess,(function(){return false})),_defineProperty(_handleActions3,_actions.loadIndicesError,(function(){return false})),_handleActions3),true);var error=(0,_reduxActions.handleActions)(_defineProperty({},_actions.loadIndicesError,(function(state,action){var error=action.payload;var newState=_objectSpread({},error);return newState})),false);var indices=(0,_redux.combineReducers)({loading:loading,error:error,byId:byId,allIds:allIds});exports.indices=indices},7024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rowStatus=void 0;var _reduxActions=__webpack_require__(46);var _actions=__webpack_require__(5244);var _constants=__webpack_require__(362);var _handleActions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var rowStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.clearRowStatus,(function(state,action){var indexNames=action.payload.indexNames;var newState=_objectSpread({},state);indexNames.forEach((function(indexName){delete newState[indexName]}));return newState})),_defineProperty(_handleActions,_actions.closeIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_CLOSING}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.openIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_OPENING}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.refreshIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_REFRESHING}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.flushIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_FLUSHING}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.forcemergeIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_FORCEMERGING}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.clearCacheIndicesStart,(function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach((function(indexName){statuses[indexName]=_constants.INDEX_CLEARING_CACHE}));return _objectSpread({},state,{},statuses)})),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,(function(state,action){var indices=action.payload.indices;var indicesByName=indices.reduce((function(acc,index){acc[index.name]=index;return acc}),{});var newState=_objectSpread({},state);for(var indexName in state){if(state[indexName]===_constants.INDEX_CLOSING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_OPENING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}}return newState})),_handleActions),{});exports.rowStatus=rowStatus},7133:function(module,exports,__webpack_require__){module.exports=__webpack_require__(37)(1525)}}]);