/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{46:function(module,exports,__webpack_require__){module.exports=__webpack_require__(32)(2130)},5226:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _reactRedux=__webpack_require__(10);var _app=__webpack_require__(7025);var _store=__webpack_require__(7068);var _http=__webpack_require__(1864);var _navigation=__webpack_require__(1449);var _documentation=__webpack_require__(5825);var _ui_metric=__webpack_require__(692);var _notification=__webpack_require__(377);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderApp=function renderApp(appDependencies){var _appDependencies$lega=appDependencies.legacy,redirect=_appDependencies$lega.redirect,createUiStatsReporter=_appDependencies$lega.createUiStatsReporter,I18nContext=appDependencies.I18nContext,http=appDependencies.http,toasts=appDependencies.toasts,fatalErrors=appDependencies.fatalErrors,_appDependencies$docL=appDependencies.docLinks,ELASTIC_WEBSITE_URL=_appDependencies$docL.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=_appDependencies$docL.DOC_LINK_VERSION,element=appDependencies.element;(0,_http.init)(http);(0,_navigation.init)(redirect);(0,_documentation.init)("".concat(ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(DOC_LINK_VERSION,"/"));(0,_ui_metric.init)(createUiStatsReporter);(0,_notification.init)(toasts,fatalErrors);(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(_reactRedux.Provider,{store:(0,_store.indexLifecycleManagementStore)()},_react.default.createElement(_app.App,null))),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}};exports.renderApp=renderApp},5277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _nodes=__webpack_require__(7028);Object.keys(_nodes).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _nodes[key]}})}));var _policies=__webpack_require__(5821);Object.keys(_policies).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _policies[key]}})}));var _lifecycle=__webpack_require__(7032);Object.keys(_lifecycle).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _lifecycle[key]}})}));var _general=__webpack_require__(7033);Object.keys(_general).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _general[key]}})}))},5290:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _nodes=__webpack_require__(5822);Object.keys(_nodes).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _nodes[key]}})}));var _policies=__webpack_require__(7034);Object.keys(_policies).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _policies[key]}})}));var _lifecycle=__webpack_require__(7035);Object.keys(_lifecycle).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _lifecycle[key]}})}));var _general=__webpack_require__(5823);Object.keys(_general).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _general[key]}})}))},5320:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ActiveBadge",{enumerable:true,get:function get(){return _active_badge.ActiveBadge}});Object.defineProperty(exports,"LearnMoreLink",{enumerable:true,get:function get(){return _learn_more_link.LearnMoreLink}});Object.defineProperty(exports,"PhaseErrorMessage",{enumerable:true,get:function get(){return _phase_error_message.PhaseErrorMessage}});Object.defineProperty(exports,"OptionalLabel",{enumerable:true,get:function get(){return _optional_label.OptionalLabel}});var _active_badge=__webpack_require__(7037);var _learn_more_link=__webpack_require__(5546);var _phase_error_message=__webpack_require__(7038);var _optional_label=__webpack_require__(7039)},5321:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrableFormRow=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var ErrableFormRow=function ErrableFormRow(_ref){var errorKey=_ref.errorKey,isShowingErrors=_ref.isShowingErrors,errors=_ref.errors,children=_ref.children,rest=_objectWithoutProperties(_ref,["errorKey","isShowingErrors","errors","children"]);return _react.default.createElement(_eui.EuiFormRow,_extends({isInvalid:isShowingErrors&&errors[errorKey].length>0,error:errors[errorKey]},rest),_react.default.createElement(_react.Fragment,null,_react.Children.map(children,(function(child){return(0,_react.cloneElement)(child,{isInvalid:isShowingErrors&&errors[errorKey].length>0})}))))};exports.ErrableFormRow=ErrableFormRow},5546:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LearnMoreLink=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _documentation=__webpack_require__(5825);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var LearnMoreLink=function(_React$PureComponent){_inherits(LearnMoreLink,_React$PureComponent);function LearnMoreLink(){_classCallCheck(this,LearnMoreLink);return _possibleConstructorReturn(this,_getPrototypeOf(LearnMoreLink).apply(this,arguments))}_createClass(LearnMoreLink,[{key:"render",value:function render(){var _this$props=this.props,href=_this$props.href,docPath=_this$props.docPath,text=_this$props.text;var url;if(docPath){url=(0,_documentation.createDocLink)(docPath)}else{url=href}var content=text?text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.learnMore",defaultMessage:"Learn more"});return _react.default.createElement(_eui.EuiLink,{href:url,target:"_blank"},content)}}]);return LearnMoreLink}(_react.default.PureComponent);exports.LearnMoreLink=LearnMoreLink},5547:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetPriorityInput=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _form_errors=__webpack_require__(5321);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SetPriorityInput=function SetPriorityInput(props){var errors=props.errors,phaseData=props.phaseData,phase=props.phase,setPhaseData=props.setPhaseData,isShowingErrors=props.isShowingErrors;return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.indexPriorityText",defaultMessage:"Index priority"})),description:_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.indexPriorityExplanationText",defaultMessage:"Set the priority for recovering your indices after a node restart. Indices with higher priorities are recovered before indices with lower priorities."})," ",_react.default.createElement(_components.LearnMoreLink,{docPath:"recovery-prioritization.html"})),titleSize:"xs",fullWidth:true},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(phase,"-").concat(_constants.PHASE_INDEX_PRIORITY),label:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexPriorityLabel",defaultMessage:"Index priority"}),_react.default.createElement(_components.OptionalLabel,null)),errorKey:_constants.PHASE_INDEX_PRIORITY,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(phase,"-").concat(_constants.PHASE_INDEX_PRIORITY),value:phaseData[_constants.PHASE_INDEX_PRIORITY],onChange:function onChange(e){setPhaseData(_constants.PHASE_INDEX_PRIORITY,e.target.value)},min:0})))};exports.SetPriorityInput=SetPriorityInput},5548:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MinAgeInput=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _form_errors=__webpack_require__(5321);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getTimingLabelForPhase(phase){switch(phase){case _constants.PHASE_WARM:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseWarm.minimumAgeLabel",{defaultMessage:"Timing for warm phase"});case _constants.PHASE_COLD:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseCold.minimumAgeLabel",{defaultMessage:"Timing for cold phase"});case _constants.PHASE_DELETE:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseDelete.minimumAgeLabel",{defaultMessage:"Timing for delete phase"})}}function getUnitsAriaLabelForPhase(phase){switch(phase){case _constants.PHASE_WARM:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseWarm.minimumAgeUnitsAriaLabel",{defaultMessage:"Units for timing of warm phase"});case _constants.PHASE_COLD:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseCold.minimumAgeUnitsAriaLabel",{defaultMessage:"Units for timing of cold phase"});case _constants.PHASE_DELETE:return _i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.phaseDelete.minimumAgeUnitsAriaLabel",{defaultMessage:"Units for timing of delete phase"})}}var MinAgeInput=function MinAgeInput(props){var rolloverEnabled=props.rolloverEnabled,errors=props.errors,phaseData=props.phaseData,phase=props.phase,setPhaseData=props.setPhaseData,isShowingErrors=props.isShowingErrors;var daysOptionLabel;var hoursOptionLabel;var minutesOptionLabel;var secondsOptionLabel;var millisecondsOptionLabel;var microsecondsOptionLabel;var nanosecondsOptionLabel;if(rolloverEnabled){daysOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverDaysOptionLabel",{defaultMessage:"days from rollover"});hoursOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverHoursOptionLabel",{defaultMessage:"hours from rollover"});minutesOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverMinutesOptionLabel",{defaultMessage:"minutes from rollover"});secondsOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverSecondsOptionLabel",{defaultMessage:"seconds from rollover"});millisecondsOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverMilliSecondsOptionLabel",{defaultMessage:"milliseconds from rollover"});microsecondsOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverMicroSecondsOptionLabel",{defaultMessage:"microseconds from rollover"});nanosecondsOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.rolloverNanoSecondsOptionLabel",{defaultMessage:"nanoseconds from rollover"})}else{daysOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.creationDaysOptionLabel",{defaultMessage:"days from index creation"});hoursOptionLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.creationHoursOptionLabel",{defaultMessage:"hours from index creation"})}return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(phase,"-").concat(_constants.PHASE_ROLLOVER_MINIMUM_AGE),label:getTimingLabelForPhase(phase),errorKey:_constants.PHASE_ROLLOVER_MINIMUM_AGE,isShowingErrors:isShowingErrors,errors:errors,helpText:_react.default.createElement(_components.LearnMoreLink,{docPath:"_timing.html",text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutTimingText",defaultMessage:"Learn about timing"})})},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(phase,"-").concat(_constants.PHASE_ROLLOVER_MINIMUM_AGE),value:phaseData[_constants.PHASE_ROLLOVER_MINIMUM_AGE],onChange:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPhaseData(_constants.PHASE_ROLLOVER_MINIMUM_AGE,e.target.value);case 1:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),min:0}))),_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:220}},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true},_react.default.createElement(_eui.EuiSelect,{"aria-label":getUnitsAriaLabelForPhase(phase),value:phaseData[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS],onChange:function onChange(e){return setPhaseData(_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,e.target.value)},options:[{value:"d",text:daysOptionLabel},{value:"h",text:hoursOptionLabel},{value:"m",text:minutesOptionLabel},{value:"s",text:secondsOptionLabel},{value:"ms",text:millisecondsOptionLabel},{value:"micros",text:microsecondsOptionLabel},{value:"nanos",text:nanosecondsOptionLabel}]}))))};exports.MinAgeInput=MinAgeInput},5821:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.phaseToES=exports.policyFromES=exports.isEmptyObject=exports.isNumber=exports.splitSizeAndUnits=exports.getPhaseData=exports.getPhase=exports.getPhases=exports.getSelectedPolicyName=exports.getSaveAsNewPolicy=exports.getPageOfPolicies=exports.getPolicyPager=exports.getTotalPolicies=exports.isPolicyListLoaded=exports.getPolicyPageSize=exports.getPolicyCurrentPage=exports.getPolicySort=exports.getPolicyFilter=exports.getSelectedOriginalPolicyName=exports.getIsSelectedPolicySet=exports.getSelectedPolicy=exports.getIsNewPolicy=exports.getPolicyByName=exports.getPolicies=void 0;var _reselect=__webpack_require__(148);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _services=__webpack_require__(7029);var _defaults=__webpack_require__(1847);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getPolicies=function getPolicies(state){return state.policies.policies};exports.getPolicies=getPolicies;var getPolicyByName=function getPolicyByName(state,name){return getPolicies(state).find((function(policy){return policy.name===name}))||{}};exports.getPolicyByName=getPolicyByName;var getIsNewPolicy=function getIsNewPolicy(state){return state.policies.selectedPolicy.isNew};exports.getIsNewPolicy=getIsNewPolicy;var getSelectedPolicy=function getSelectedPolicy(state){return state.policies.selectedPolicy};exports.getSelectedPolicy=getSelectedPolicy;var getIsSelectedPolicySet=function getIsSelectedPolicySet(state){return state.policies.selectedPolicySet};exports.getIsSelectedPolicySet=getIsSelectedPolicySet;var getSelectedOriginalPolicyName=function getSelectedOriginalPolicyName(state){return state.policies.originalPolicyName};exports.getSelectedOriginalPolicyName=getSelectedOriginalPolicyName;var getPolicyFilter=function getPolicyFilter(state){return state.policies.filter};exports.getPolicyFilter=getPolicyFilter;var getPolicySort=function getPolicySort(state){return state.policies.sort};exports.getPolicySort=getPolicySort;var getPolicyCurrentPage=function getPolicyCurrentPage(state){return state.policies.currentPage};exports.getPolicyCurrentPage=getPolicyCurrentPage;var getPolicyPageSize=function getPolicyPageSize(state){return state.policies.pageSize};exports.getPolicyPageSize=getPolicyPageSize;var isPolicyListLoaded=function isPolicyListLoaded(state){return state.policies.isLoaded};exports.isPolicyListLoaded=isPolicyListLoaded;var getFilteredPolicies=(0,_reselect.createSelector)(getPolicies,getPolicyFilter,(function(policies,filter){return(0,_services.filterItems)(["name"],filter,policies)}));var getTotalPolicies=(0,_reselect.createSelector)(getFilteredPolicies,(function(filteredPolicies){return filteredPolicies.length}));exports.getTotalPolicies=getTotalPolicies;var getPolicyPager=(0,_reselect.createSelector)(getPolicyCurrentPage,getPolicyPageSize,getTotalPolicies,(function(currentPage,pageSize,totalPolicies){return new _eui.Pager(totalPolicies,pageSize,currentPage)}));exports.getPolicyPager=getPolicyPager;var getPageOfPolicies=(0,_reselect.createSelector)(getFilteredPolicies,getPolicySort,getPolicyPager,(function(filteredPolicies,sort,pager){var sortedPolicies=(0,_services.sortTable)(filteredPolicies,sort.sortField,sort.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedPolicies=sortedPolicies.slice(firstItemIndex,lastItemIndex+1);return pagedPolicies}));exports.getPageOfPolicies=getPageOfPolicies;var getSaveAsNewPolicy=function getSaveAsNewPolicy(state){return state.policies.selectedPolicy.saveAsNew};exports.getSaveAsNewPolicy=getSaveAsNewPolicy;var getSelectedPolicyName=function getSelectedPolicyName(state){if(!getSaveAsNewPolicy(state)){return getSelectedOriginalPolicyName(state)}return state.policies.selectedPolicy.name};exports.getSelectedPolicyName=getSelectedPolicyName;var getPhases=function getPhases(state){return state.policies.selectedPolicy.phases};exports.getPhases=getPhases;var getPhase=function getPhase(state,phase){return getPhases(state)[phase]};exports.getPhase=getPhase;var getPhaseData=function getPhaseData(state,phase,key){if(_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS.includes(key)){return parseInt(getPhase(state,phase)[key])}return getPhase(state,phase)[key]};exports.getPhaseData=getPhaseData;var splitSizeAndUnits=function splitSizeAndUnits(field){var size;var units;var result=/(\d+)(\w+)/.exec(field);if(result){size=parseInt(result[1])||0;units=result[2]}return{size:size,units:units}};exports.splitSizeAndUnits=splitSizeAndUnits;var isNumber=function isNumber(value){return typeof value==="number"};exports.isNumber=isNumber;var isEmptyObject=function isEmptyObject(obj){return!obj||Object.entries(obj).length===0&&obj.constructor===Object};exports.isEmptyObject=isEmptyObject;var phaseFromES=function phaseFromES(phase,phaseName,defaultEmptyPolicy){var policy=_objectSpread({},defaultEmptyPolicy);if(!phase){return policy}policy[_constants.PHASE_ENABLED]=true;if(phase.min_age){if(phaseName===_constants.PHASE_WARM&&phase.min_age==="0ms"){policy[_constants.WARM_PHASE_ON_ROLLOVER]=true}else{var _splitSizeAndUnits=splitSizeAndUnits(phase.min_age),minAge=_splitSizeAndUnits.size,minAgeUnits=_splitSizeAndUnits.units;policy[_constants.PHASE_ROLLOVER_MINIMUM_AGE]=minAge;policy[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS]=minAgeUnits}}if(phaseName===_constants.PHASE_WARM){policy[_constants.PHASE_SHRINK_ENABLED]=false;policy[_constants.PHASE_FORCE_MERGE_ENABLED]=false}if(phase.actions){var actions=phase.actions;if(actions.rollover){var rollover=actions.rollover;policy[_constants.PHASE_ROLLOVER_ENABLED]=true;if(rollover.max_age){var _splitSizeAndUnits2=splitSizeAndUnits(rollover.max_age),maxAge=_splitSizeAndUnits2.size,maxAgeUnits=_splitSizeAndUnits2.units;policy[_constants.PHASE_ROLLOVER_MAX_AGE]=maxAge;policy[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS]=maxAgeUnits}if(rollover.max_size){var _splitSizeAndUnits3=splitSizeAndUnits(rollover.max_size),maxSize=_splitSizeAndUnits3.size,maxSizeUnits=_splitSizeAndUnits3.units;policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=maxSize;policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS]=maxSizeUnits}if(rollover.max_docs){policy[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS]=rollover.max_docs}}if(actions.allocate){var allocate=actions.allocate;if(allocate.require){Object.entries(allocate.require).forEach((function(entry){policy[_constants.PHASE_NODE_ATTRS]=entry.join(":")}));if(allocate.number_of_replicas!=null){policy[_constants.PHASE_REPLICA_COUNT]=allocate.number_of_replicas}}}if(actions.forcemerge){var forcemerge=actions.forcemerge;policy[_constants.PHASE_FORCE_MERGE_ENABLED]=true;policy[_constants.PHASE_FORCE_MERGE_SEGMENTS]=forcemerge.max_num_segments}if(actions.shrink){policy[_constants.PHASE_SHRINK_ENABLED]=true;policy[_constants.PHASE_PRIMARY_SHARD_COUNT]=actions.shrink.number_of_shards}if(actions.freeze){policy[_constants.PHASE_FREEZE_ENABLED]=true}if(actions.set_priority){policy[_constants.PHASE_INDEX_PRIORITY]=actions.set_priority.priority}}return policy};var policyFromES=function policyFromES(policy){var _phases;var name=policy.name,phases=policy.policy.phases;return{name:name,phases:(_phases={},_defineProperty(_phases,_constants.PHASE_HOT,phaseFromES(phases[_constants.PHASE_HOT],_constants.PHASE_HOT,_defaults.defaultEmptyHotPhase)),_defineProperty(_phases,_constants.PHASE_WARM,phaseFromES(phases[_constants.PHASE_WARM],_constants.PHASE_WARM,_defaults.defaultEmptyWarmPhase)),_defineProperty(_phases,_constants.PHASE_COLD,phaseFromES(phases[_constants.PHASE_COLD],_constants.PHASE_COLD,_defaults.defaultEmptyColdPhase)),_defineProperty(_phases,_constants.PHASE_DELETE,phaseFromES(phases[_constants.PHASE_DELETE],_constants.PHASE_DELETE,_defaults.defaultEmptyDeletePhase)),_phases),isNew:false,saveAsNew:false}};exports.policyFromES=policyFromES;var phaseToES=function phaseToES(phase,originalEsPhase){var esPhase=_objectSpread({},originalEsPhase);if(!phase[_constants.PHASE_ENABLED]){return{}}if(isNumber(phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE])){esPhase.min_age="".concat(phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE]).concat(phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS])}if(phase[_constants.WARM_PHASE_ON_ROLLOVER]){delete esPhase.min_age}esPhase.actions=esPhase.actions||{};if(phase[_constants.PHASE_ROLLOVER_ENABLED]){esPhase.actions.rollover={};if(isNumber(phase[_constants.PHASE_ROLLOVER_MAX_AGE])){esPhase.actions.rollover.max_age="".concat(phase[_constants.PHASE_ROLLOVER_MAX_AGE]).concat(phase[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS])}if(isNumber(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])){esPhase.actions.rollover.max_size="".concat(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]).concat(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS])}if(isNumber(phase[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS])){esPhase.actions.rollover.max_docs=phase[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS]}}else{delete esPhase.actions.rollover}if(phase[_constants.PHASE_NODE_ATTRS]){var _phase$PHASE_NODE_ATT=phase[_constants.PHASE_NODE_ATTRS].split(":"),_phase$PHASE_NODE_ATT2=_slicedToArray(_phase$PHASE_NODE_ATT,2),name=_phase$PHASE_NODE_ATT2[0],value=_phase$PHASE_NODE_ATT2[1];esPhase.actions.allocate=esPhase.actions.allocate||{};esPhase.actions.allocate.require=_defineProperty({},name,value)}else{if(esPhase.actions.allocate){delete esPhase.actions.allocate.require}}if(isNumber(phase[_constants.PHASE_REPLICA_COUNT])){esPhase.actions.allocate=esPhase.actions.allocate||{};esPhase.actions.allocate.number_of_replicas=phase[_constants.PHASE_REPLICA_COUNT]}else{if(esPhase.actions.allocate){delete esPhase.actions.allocate.number_of_replicas}}if(esPhase.actions.allocate&&!esPhase.actions.allocate.require&&!isNumber(esPhase.actions.allocate.number_of_replicas)&&isEmptyObject(esPhase.actions.allocate.include)&&isEmptyObject(esPhase.actions.allocate.exclude)){delete esPhase.actions.allocate}if(phase[_constants.PHASE_FORCE_MERGE_ENABLED]){esPhase.actions.forcemerge={max_num_segments:phase[_constants.PHASE_FORCE_MERGE_SEGMENTS]}}else{delete esPhase.actions.forcemerge}if(phase[_constants.PHASE_SHRINK_ENABLED]&&isNumber(phase[_constants.PHASE_PRIMARY_SHARD_COUNT])){esPhase.actions.shrink={number_of_shards:phase[_constants.PHASE_PRIMARY_SHARD_COUNT]}}else{delete esPhase.actions.shrink}if(phase[_constants.PHASE_FREEZE_ENABLED]){esPhase.actions.freeze={}}else{delete esPhase.actions.freeze}if(isNumber(phase[_constants.PHASE_INDEX_PRIORITY])){esPhase.actions.set_priority={priority:phase[_constants.PHASE_INDEX_PRIORITY]}}return esPhase};exports.phaseToES=phaseToES},5822:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchNodeDetails=exports.fetchedNodeDetails=exports.fetchNodes=exports.fetchedNodes=exports.setSelectedReplicaCount=exports.setSelectedPrimaryShardCount=exports.setSelectedNodeAttrs=void 0;var _i18n=__webpack_require__(1);var _reduxActions=__webpack_require__(46);var _api_errors=__webpack_require__(687);var _api=__webpack_require__(474);var _constants=__webpack_require__(252);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var setSelectedNodeAttrs=(0,_reduxActions.createAction)(_constants.SET_SELECTED_NODE_ATTRS);exports.setSelectedNodeAttrs=setSelectedNodeAttrs;var setSelectedPrimaryShardCount=(0,_reduxActions.createAction)("SET_SELECTED_PRIMARY_SHARED_COUNT");exports.setSelectedPrimaryShardCount=setSelectedPrimaryShardCount;var setSelectedReplicaCount=(0,_reduxActions.createAction)("SET_SELECTED_REPLICA_COUNT");exports.setSelectedReplicaCount=setSelectedReplicaCount;var fetchedNodes=(0,_reduxActions.createAction)("FETCHED_NODES");exports.fetchedNodes=fetchedNodes;var fetchingNodes=false;var fetchNodes=function fetchNodes(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var nodes,title;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(fetchingNodes){_context.next=7;break}fetchingNodes=true;_context.next=5;return(0,_api.loadNodes)();case 5:nodes=_context.sent;dispatch(fetchedNodes(nodes));case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.nodeInfoErrorMessage",{defaultMessage:"Error loading node attribute information"});(0,_api_errors.showApiError)(_context.t0,title);case 13:_context.prev=13;fetchingNodes=false;return _context.finish(13);case 16:case"end":return _context.stop()}}}),_callee,null,[[0,9,13,16]])})));return function(_x){return _ref.apply(this,arguments)}}()};exports.fetchNodes=fetchNodes;var fetchedNodeDetails=(0,_reduxActions.createAction)("FETCHED_NODE_DETAILS",(function(selectedNodeAttrs,details){return{selectedNodeAttrs:selectedNodeAttrs,details:details}}));exports.fetchedNodeDetails=fetchedNodeDetails;var fetchNodeDetails=function fetchNodeDetails(selectedNodeAttrs){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(dispatch){var details,title;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_api.loadNodeDetails)(selectedNodeAttrs);case 3:details=_context2.sent;_context2.next=11;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.nodeDetailErrorMessage",{defaultMessage:"Error loading node attribute details"});(0,_api_errors.showApiError)(_context2.t0,title);return _context2.abrupt("return",false);case 11:dispatch(fetchedNodeDetails(selectedNodeAttrs,details));case 12:case"end":return _context2.stop()}}}),_callee2,null,[[0,6]])})));return function(_x2){return _ref2.apply(this,arguments)}}()};exports.fetchNodeDetails=fetchNodeDetails},5823:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setAliasName=exports.setIndexName=exports.setBootstrapEnabled=void 0;var _reduxActions=__webpack_require__(46);var setBootstrapEnabled=(0,_reduxActions.createAction)("SET_BOOTSTRAP_ENABLED");exports.setBootstrapEnabled=setBootstrapEnabled;var setIndexName=(0,_reduxActions.createAction)("SET_INDEX_NAME");exports.setIndexName=setIndexName;var setAliasName=(0,_reduxActions.createAction)("SET_ALIAS_NAME");exports.setAliasName=setAliasName},5824:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findFirstError=void 0;var findFirstError=function findFirstError(object){var topLevel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var firstError;var keys=topLevel?["policyName","hot","warm","cold","delete"]:Object.keys(object);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=keys[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;var value=object[key];if(Array.isArray(value)&&value.length>0){firstError=key;break}else if(value){firstError=findFirstError(value,false);if(firstError){firstError="".concat(key,".").concat(firstError);break}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return firstError};exports.findFirstError=findFirstError},5825:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.init=init;exports.createDocLink=exports.transportPortUrl=exports.remoteClustersUrl=exports.skippingDisconnectedClustersUrl=void 0;var skippingDisconnectedClustersUrl;exports.skippingDisconnectedClustersUrl=skippingDisconnectedClustersUrl;var remoteClustersUrl;exports.remoteClustersUrl=remoteClustersUrl;var transportPortUrl;exports.transportPortUrl=transportPortUrl;var _esDocBasePath;function init(esDocBasePath){_esDocBasePath=esDocBasePath}var createDocLink=function createDocLink(docPath){return"".concat(_esDocBasePath).concat(docPath)};exports.createDocLink=createDocLink},5826:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NodeAllocation",{enumerable:true,get:function get(){return _node_allocation.NodeAllocation}});var _node_allocation=__webpack_require__(7050)},7025:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _reactRouterDom=__webpack_require__(33);var _analytics=__webpack_require__(449);var _constants=__webpack_require__(384);var _constants2=__webpack_require__(252);var _edit_policy=__webpack_require__(7026);var _policy_table=__webpack_require__(7058);var _ui_metric=__webpack_require__(692);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var App=function App(){(0,_react.useEffect)((function(){return(0,_ui_metric.trackUiMetric)(_analytics.METRIC_TYPE.LOADED,_constants2.UIM_APP_LOAD)}),[]);return _react.default.createElement(_reactRouterDom.HashRouter,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Redirect,{exact:true,from:"".concat(_constants.BASE_PATH),to:"".concat(_constants.BASE_PATH,"policies")}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"policies"),component:_policy_table.PolicyTable}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(_constants.BASE_PATH,"policies/edit/:policyName?"),component:_edit_policy.EditPolicy})))};exports.App=App},7026:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EditPolicy",{enumerable:true,get:function get(){return _edit_policy.EditPolicy}});var _edit_policy=__webpack_require__(7027)},7027:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditPolicy=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _find_errors=__webpack_require__(5824);var _edit_policy=__webpack_require__(7036);var EditPolicy=(0,_reactRedux.connect)((function(state){var errors=(0,_selectors.validateLifecycle)(state);var firstError=(0,_find_errors.findFirstError)(errors);return{firstError:firstError,errors:errors,selectedPolicy:(0,_selectors.getSelectedPolicy)(state),saveAsNewPolicy:(0,_selectors.getSaveAsNewPolicy)(state),lifecycle:(0,_selectors.getLifecycle)(state),policies:(0,_selectors.getPolicies)(state),isPolicyListLoaded:(0,_selectors.isPolicyListLoaded)(state),isNewPolicy:(0,_selectors.getIsNewPolicy)(state),originalPolicyName:(0,_selectors.getSelectedOriginalPolicyName)(state)}}),{setSelectedPolicy:_actions.setSelectedPolicy,setSelectedPolicyName:_actions.setSelectedPolicyName,setSaveAsNewPolicy:_actions.setSaveAsNewPolicy,saveLifecyclePolicy:_actions.saveLifecyclePolicy,fetchPolicies:_actions.fetchPolicies})(_edit_policy.EditPolicy);exports.EditPolicy=EditPolicy},7028:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNodeDetails=exports.getNodesFromSelectedNodeAttrs=exports.getSelectedNodeAttrs=exports.getSelectedReplicaCount=exports.getSelectedPrimaryShardCount=exports.getNodeOptions=exports.getNodes=void 0;var _reselect=__webpack_require__(148);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getNodes=function getNodes(state){return state.nodes.nodes};exports.getNodes=getNodes;var getNodeOptions=(0,_reselect.createSelector)([function(state){return getNodes(state)}],(function(nodes){if(!nodes){return null}var options=Object.keys(nodes).map((function(attrs){return{text:"".concat(attrs," (").concat(nodes[attrs].length,")"),value:attrs}}));options.sort((function(a,b){return a.value.localeCompare(b.value)}));if(options.length){return[{text:"Default allocation (don't use attributes)",value:""}].concat(_toConsumableArray(options))}else{return options}}));exports.getNodeOptions=getNodeOptions;var getSelectedPrimaryShardCount=function getSelectedPrimaryShardCount(state){return state.nodes.selectedPrimaryShardCount};exports.getSelectedPrimaryShardCount=getSelectedPrimaryShardCount;var getSelectedReplicaCount=function getSelectedReplicaCount(state){return state.nodes.selectedReplicaCount!==undefined?state.nodes.selectedReplicaCount:1};exports.getSelectedReplicaCount=getSelectedReplicaCount;var getSelectedNodeAttrs=function getSelectedNodeAttrs(state){return state.nodes.selectedNodeAttrs};exports.getSelectedNodeAttrs=getSelectedNodeAttrs;var getNodesFromSelectedNodeAttrs=function getNodesFromSelectedNodeAttrs(state){var nodes=getNodes(state)[getSelectedNodeAttrs(state)];if(nodes){return nodes.length}return null};exports.getNodesFromSelectedNodeAttrs=getNodesFromSelectedNodeAttrs;var getNodeDetails=function getNodeDetails(state,selectedNodeAttrs){return state.nodes.details[selectedNodeAttrs]};exports.getNodeDetails=getNodeDetails},7029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}});var _filter_items=__webpack_require__(7030);var _sort_table=__webpack_require__(7031)},7030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterItems=void 0;var filterItems=function filterItems(fields){var filter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var items=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var lowerFilter=filter.toLowerCase();return items.filter((function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex((function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(lowerFilter)}));return indexOfMatch!==-1}))};exports.filterItems=filterItems},7031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=void 0;var _lodash=__webpack_require__(3);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var arraySort=function arraySort(fieldName){return function(item){return(item[fieldName]||[]).length}};var sorters={version:stringSort("version"),name:stringSort("name"),linkedIndices:arraySort("linkedIndices"),modified_date:stringSort("modified_date")};var sortTable=function sortTable(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var sortField=arguments.length>1?arguments[1]:undefined;var isSortAscending=arguments.length>2?arguments[2]:undefined;var sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()};exports.sortTable=sortTable},7032:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLifecycle=exports.validateLifecycle=exports.policyNameAlreadyUsedErrorMessage=exports.policyNameMustBeDifferentErrorMessage=exports.policyNameTooLongErrorMessage=exports.policyNameContainsSpaceErrorMessage=exports.policyNameContainsCommaErrorMessage=exports.policyNameStartsWithUnderscoreErrorMessage=exports.policyNameRequiredMessage=exports.validatePhase=exports.positiveNumbersAboveZeroErrorMessage=exports.maximumDocumentsRequiredMessage=exports.maximumSizeRequiredMessage=exports.maximumAgeRequiredMessage=exports.positiveNumberRequiredMessage=exports.numberRequiredMessage=void 0;var _i18n=__webpack_require__(1);var _constants=__webpack_require__(252);var _=__webpack_require__(5277);var _policies=__webpack_require__(5821);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var numberRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.numberRequiredError",{defaultMessage:"A number is required."});exports.numberRequiredMessage=numberRequiredMessage;var positiveNumberRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.positiveNumberRequiredError",{defaultMessage:"Only positive numbers are allowed."});exports.positiveNumberRequiredMessage=positiveNumberRequiredMessage;var maximumAgeRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.maximumAgeMissingError",{defaultMessage:"A maximum age is required."});exports.maximumAgeRequiredMessage=maximumAgeRequiredMessage;var maximumSizeRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.maximumIndexSizeMissingError",{defaultMessage:"A maximum index size is required."});exports.maximumSizeRequiredMessage=maximumSizeRequiredMessage;var maximumDocumentsRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.maximumDocumentsMissingError",{defaultMessage:"Maximum documents is required."});exports.maximumDocumentsRequiredMessage=maximumDocumentsRequiredMessage;var positiveNumbersAboveZeroErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.positiveNumberAboveZeroRequiredError",{defaultMessage:"Only numbers above 0 are allowed."});exports.positiveNumbersAboveZeroErrorMessage=positiveNumbersAboveZeroErrorMessage;var validatePhase=function validatePhase(type,phase,errors){var phaseErrors={};if(!phase[_constants.PHASE_ENABLED]){return}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS_VALIDATE[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var numberedAttribute=_step.value;if(phase.hasOwnProperty(numberedAttribute)){if(numberedAttribute===_constants.PHASE_ROLLOVER_MINIMUM_AGE&&(phase[_constants.WARM_PHASE_ON_ROLLOVER]||type===_constants.PHASE_HOT)){continue}if(numberedAttribute===_constants.PHASE_PRIMARY_SHARD_COUNT&&!phase[_constants.PHASE_SHRINK_ENABLED]){continue}if(numberedAttribute===_constants.PHASE_FORCE_MERGE_SEGMENTS&&!phase[_constants.PHASE_FORCE_MERGE_ENABLED]){continue}if(numberedAttribute===_constants.PHASE_REPLICA_COUNT&&!phase[numberedAttribute]){continue}if(numberedAttribute===_constants.PHASE_INDEX_PRIORITY&&!phase[numberedAttribute]){continue}if(!(0,_.isNumber)(phase[numberedAttribute])){phaseErrors[numberedAttribute]=[numberRequiredMessage]}else if(phase[numberedAttribute]<0){phaseErrors[numberedAttribute]=[positiveNumberRequiredMessage]}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(phase[_constants.PHASE_ROLLOVER_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_AGE])&&!(0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])&&!(0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS])){phaseErrors[_constants.PHASE_ROLLOVER_MAX_AGE]=[maximumAgeRequiredMessage];phaseErrors[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=[maximumSizeRequiredMessage];phaseErrors[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS]=[maximumDocumentsRequiredMessage]}if((0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_AGE])&&phase[_constants.PHASE_ROLLOVER_MAX_AGE]<1){phaseErrors[_constants.PHASE_ROLLOVER_MAX_AGE]=[positiveNumbersAboveZeroErrorMessage]}if((0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])&&phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]<1){phaseErrors[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=[positiveNumbersAboveZeroErrorMessage]}if((0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS])&&phase[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS]<1){phaseErrors[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS]=[positiveNumbersAboveZeroErrorMessage]}}if(phase[_constants.PHASE_SHRINK_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_PRIMARY_SHARD_COUNT])){phaseErrors[_constants.PHASE_PRIMARY_SHARD_COUNT]=[numberRequiredMessage]}else if(phase[_constants.PHASE_PRIMARY_SHARD_COUNT]<1){phaseErrors[_constants.PHASE_PRIMARY_SHARD_COUNT]=[positiveNumbersAboveZeroErrorMessage]}}if(phase[_constants.PHASE_FORCE_MERGE_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_FORCE_MERGE_SEGMENTS])){phaseErrors[_constants.PHASE_FORCE_MERGE_SEGMENTS]=[numberRequiredMessage]}else if(phase[_constants.PHASE_FORCE_MERGE_SEGMENTS]<1){phaseErrors[_constants.PHASE_FORCE_MERGE_SEGMENTS]=[positiveNumbersAboveZeroErrorMessage]}}errors[type]=_objectSpread({},errors[type],{},phaseErrors)};exports.validatePhase=validatePhase;var policyNameRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameRequiredError",{defaultMessage:"A policy name is required."});exports.policyNameRequiredMessage=policyNameRequiredMessage;var policyNameStartsWithUnderscoreErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameStartsWithUnderscoreError",{defaultMessage:"A policy name cannot start with an underscore."});exports.policyNameStartsWithUnderscoreErrorMessage=policyNameStartsWithUnderscoreErrorMessage;var policyNameContainsCommaErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameContainsCommaError",{defaultMessage:"A policy name cannot include a comma."});exports.policyNameContainsCommaErrorMessage=policyNameContainsCommaErrorMessage;var policyNameContainsSpaceErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameContainsSpaceError",{defaultMessage:"A policy name cannot include a space."});exports.policyNameContainsSpaceErrorMessage=policyNameContainsSpaceErrorMessage;var policyNameTooLongErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameTooLongError",{defaultMessage:"A policy name cannot be longer than 255 bytes."});exports.policyNameTooLongErrorMessage=policyNameTooLongErrorMessage;var policyNameMustBeDifferentErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.differentPolicyNameRequiredError",{defaultMessage:"The policy name must be different."});exports.policyNameMustBeDifferentErrorMessage=policyNameMustBeDifferentErrorMessage;var policyNameAlreadyUsedErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameAlreadyUsedError",{defaultMessage:"That policy name is already used."});exports.policyNameAlreadyUsedErrorMessage=policyNameAlreadyUsedErrorMessage;var validateLifecycle=function validateLifecycle(state){var errors=JSON.parse(JSON.stringify(_constants.ERROR_STRUCTURE));var policyName=(0,_.getSelectedPolicyName)(state);if(!policyName){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameRequiredMessage)}else{if(policyName.startsWith("_")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameStartsWithUnderscoreErrorMessage)}if(policyName.includes(",")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameContainsCommaErrorMessage)}if(policyName.includes(" ")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameContainsSpaceErrorMessage)}if(window.TextEncoder&&new window.TextEncoder("utf-8").encode(policyName).length>255){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameTooLongErrorMessage)}}if((0,_.getSaveAsNewPolicy)(state)&&(0,_.getSelectedOriginalPolicyName)(state)===(0,_.getSelectedPolicyName)(state)){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameMustBeDifferentErrorMessage)}else if((0,_.getSelectedOriginalPolicyName)(state)!==(0,_.getSelectedPolicyName)(state)){var policyNames=(0,_.getPolicies)(state).map((function(policy){return policy.name}));if(policyNames.includes((0,_.getSelectedPolicyName)(state))){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameAlreadyUsedErrorMessage)}}var hotPhase=(0,_.getPhase)(state,_constants.PHASE_HOT);var warmPhase=(0,_.getPhase)(state,_constants.PHASE_WARM);var coldPhase=(0,_.getPhase)(state,_constants.PHASE_COLD);var deletePhase=(0,_.getPhase)(state,_constants.PHASE_DELETE);validatePhase(_constants.PHASE_HOT,hotPhase,errors);validatePhase(_constants.PHASE_WARM,warmPhase,errors);validatePhase(_constants.PHASE_COLD,coldPhase,errors);validatePhase(_constants.PHASE_DELETE,deletePhase,errors);return errors};exports.validateLifecycle=validateLifecycle;var getLifecycle=function getLifecycle(state){var policyName=(0,_.getSelectedPolicyName)(state);var phases=Object.entries((0,_.getPhases)(state)).reduce((function(accum,_ref){var _ref2=_slicedToArray(_ref,2),phaseName=_ref2[0],phase=_ref2[1];if(phaseName===_constants.PHASE_HOT){phase[_constants.PHASE_ENABLED]=true}var esPolicy=(0,_policies.getPolicyByName)(state,policyName).policy||{};var esPhase=esPolicy.phases?esPolicy.phases[phaseName]:{};if(phase[_constants.PHASE_ENABLED]){accum[phaseName]=(0,_.phaseToES)(phase,esPhase);if(phaseName===_constants.PHASE_DELETE){accum[phaseName].actions=_objectSpread({},accum[phaseName].actions,{delete:{}})}}return accum}),{});return{name:(0,_.getSelectedPolicyName)(state),phases:phases}};exports.getLifecycle=getLifecycle},7033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAliasName=exports.getIndexName=exports.getBootstrapEnabled=void 0;var getBootstrapEnabled=function getBootstrapEnabled(state){return state.general.bootstrapEnabled};exports.getBootstrapEnabled=getBootstrapEnabled;var getIndexName=function getIndexName(state){return state.general.indexName};exports.getIndexName=getIndexName;var getAliasName=function getAliasName(state){return state.general.aliasName};exports.getAliasName=getAliasName},7034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setPhaseData=exports.fetchPolicies=exports.policyFilterChanged=exports.policySortDirectionChanged=exports.policyPageChanged=exports.policyPageSizeChanged=exports.policySortChanged=exports.setSaveAsNewPolicy=exports.setSelectedPolicyName=exports.unsetSelectedPolicy=exports.setSelectedPolicy=exports.fetchedPolicies=void 0;var _i18n=__webpack_require__(1);var _reduxActions=__webpack_require__(46);var _api_errors=__webpack_require__(687);var _api=__webpack_require__(474);var _constants=__webpack_require__(252);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchedPolicies=(0,_reduxActions.createAction)("FETCHED_POLICIES");exports.fetchedPolicies=fetchedPolicies;var setSelectedPolicy=(0,_reduxActions.createAction)("SET_SELECTED_POLICY");exports.setSelectedPolicy=setSelectedPolicy;var unsetSelectedPolicy=(0,_reduxActions.createAction)("UNSET_SELECTED_POLICY");exports.unsetSelectedPolicy=unsetSelectedPolicy;var setSelectedPolicyName=(0,_reduxActions.createAction)("SET_SELECTED_POLICY_NAME");exports.setSelectedPolicyName=setSelectedPolicyName;var setSaveAsNewPolicy=(0,_reduxActions.createAction)("SET_SAVE_AS_NEW_POLICY");exports.setSaveAsNewPolicy=setSaveAsNewPolicy;var policySortChanged=(0,_reduxActions.createAction)("POLICY_SORT_CHANGED");exports.policySortChanged=policySortChanged;var policyPageSizeChanged=(0,_reduxActions.createAction)("POLICY_PAGE_SIZE_CHANGED");exports.policyPageSizeChanged=policyPageSizeChanged;var policyPageChanged=(0,_reduxActions.createAction)("POLICY_PAGE_CHANGED");exports.policyPageChanged=policyPageChanged;var policySortDirectionChanged=(0,_reduxActions.createAction)("POLICY_SORT_DIRECTION_CHANGED");exports.policySortDirectionChanged=policySortDirectionChanged;var policyFilterChanged=(0,_reduxActions.createAction)("POLICY_FILTER_CHANGED");exports.policyFilterChanged=policyFilterChanged;var fetchPolicies=function fetchPolicies(withIndices,callback){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dispatch){var policies,title;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_api.loadPolicies)(withIndices);case 3:policies=_context.sent;_context.next=11;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.loadPolicyErrorMessage",{defaultMessage:"Error loading policies"});(0,_api_errors.showApiError)(_context.t0,title);return _context.abrupt("return",false);case 11:dispatch(fetchedPolicies(policies));if(policies.length===0){dispatch(setSelectedPolicy())}callback&&callback();return _context.abrupt("return",policies);case 15:case"end":return _context.stop()}}}),_callee,null,[[0,6]])})));return function(_x){return _ref.apply(this,arguments)}}()};exports.fetchPolicies=fetchPolicies;var setPhaseData=(0,_reduxActions.createAction)(_constants.SET_PHASE_DATA,(function(phase,key,value){return{phase:phase,key:key,value:value}}));exports.setPhaseData=setPhaseData},7035:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveLifecyclePolicy=void 0;var _i18n=__webpack_require__(1);var _constants=__webpack_require__(252);var _api_errors=__webpack_require__(687);var _notification=__webpack_require__(377);var _api=__webpack_require__(474);var _ui_metric=__webpack_require__(692);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var saveLifecyclePolicy=function saveLifecyclePolicy(lifecycle,isNew){return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){var title,uiMetrics,message;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_api.savePolicy)(lifecycle);case 3:_context.next=10;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.saveErrorMessage",{defaultMessage:"Error saving lifecycle policy {lifecycleName}",values:{lifecycleName:lifecycle.name}});(0,_api_errors.showApiError)(_context.t0,title);return _context.abrupt("return",false);case 10:uiMetrics=(0,_ui_metric.getUiMetricsForPhases)(lifecycle.phases);uiMetrics.push(isNew?_constants.UIM_POLICY_CREATE:_constants.UIM_POLICY_UPDATE);(0,_ui_metric.trackUiMetric)("count",uiMetrics);message=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.successfulSaveMessage",{defaultMessage:'{verb} lifecycle policy "{lifecycleName}"',values:{verb:isNew?_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.createdMessage",{defaultMessage:"Created"}):_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.updatedMessage",{defaultMessage:"Updated"}),lifecycleName:lifecycle.name}});_notification.toasts.addSuccess(message);return _context.abrupt("return",true);case 16:case"end":return _context.stop()}}}),_callee,null,[[0,5]])})))};exports.saveLifecyclePolicy=saveLifecyclePolicy},7036:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditPolicy=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _notification=__webpack_require__(377);var _navigation=__webpack_require__(1449);var _find_errors=__webpack_require__(5824);var _components=__webpack_require__(5320);var _node_attrs_details=__webpack_require__(7040);var _policy_json_flyout=__webpack_require__(7043);var _form_errors=__webpack_require__(5321);var _hot_phase=__webpack_require__(7044);var _warm_phase=__webpack_require__(7047);var _delete_phase=__webpack_require__(7052);var _cold_phase=__webpack_require__(7055);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EditPolicy=function(_Component){_inherits(EditPolicy,_Component);function EditPolicy(props){var _this;_classCallCheck(this,EditPolicy);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditPolicy).call(this,props));_defineProperty(_assertThisInitialized(_this),"selectPolicy",(function(policyName){var _this$props=_this.props,setSelectedPolicy=_this$props.setSelectedPolicy,policies=_this$props.policies;var selectedPolicy=policies.find((function(policy){return policy.name===policyName}));if(selectedPolicy){setSelectedPolicy(selectedPolicy)}}));_defineProperty(_assertThisInitialized(_this),"backToPolicyList",(function(){_this.props.setSelectedPolicy(null);(0,_navigation.goToPolicyList)()}));_defineProperty(_assertThisInitialized(_this),"submit",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props2,saveLifecyclePolicy,lifecycle,saveAsNewPolicy,firstError,errorRowId,element,success;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isShowingErrors:true});_this$props2=_this.props,saveLifecyclePolicy=_this$props2.saveLifecyclePolicy,lifecycle=_this$props2.lifecycle,saveAsNewPolicy=_this$props2.saveAsNewPolicy,firstError=_this$props2.firstError;if(!firstError){_context.next=9;break}_notification.toasts.addDanger(_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.formErrorsMessage",{defaultMessage:"Please fix the errors on this page."}));errorRowId="".concat(firstError.replace(".","-"),"-row");element=document.getElementById(errorRowId);if(element){element.scrollIntoView({block:"center",inline:"nearest"})}_context.next=13;break;case 9:_context.next=11;return saveLifecyclePolicy(lifecycle,saveAsNewPolicy);case 11:success=_context.sent;if(success){_this.backToPolicyList()}case 13:case"end":return _context.stop()}}}),_callee)}))));_defineProperty(_assertThisInitialized(_this),"showNodeDetailsFlyout",(function(selectedNodeAttrsForDetails){_this.setState({isShowingNodeDetailsFlyout:true,selectedNodeAttrsForDetails:selectedNodeAttrsForDetails})}));_defineProperty(_assertThisInitialized(_this),"togglePolicyJsonFlyout",(function(){_this.setState((function(_ref2){var isShowingPolicyJsonFlyout=_ref2.isShowingPolicyJsonFlyout;return{isShowingPolicyJsonFlyout:!isShowingPolicyJsonFlyout}}))}));_this.state={isShowingErrors:false,isShowingNodeDetailsFlyout:false,selectedNodeAttrsForDetails:undefined,isShowingPolicyJsonFlyout:false};return _this}_createClass(EditPolicy,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;window.scrollTo(0,0);var _this$props3=this.props,isPolicyListLoaded=_this$props3.isPolicyListLoaded,fetchPolicies=_this$props3.fetchPolicies,_this$props3$match=_this$props3.match;_this$props3$match=_this$props3$match===void 0?{params:{}}:_this$props3$match;var policyName=_this$props3$match.params.policyName;if(policyName){var decodedPolicyName=decodeURIComponent(policyName);if(isPolicyListLoaded){this.selectPolicy(decodedPolicyName)}else{fetchPolicies(true,(function(){_this2.selectPolicy(decodedPolicyName)}))}}else{this.props.setSelectedPolicy(null)}}},{key:"render",value:function render(){var _this3=this;var _this$props4=this.props,selectedPolicy=_this$props4.selectedPolicy,errors=_this$props4.errors,setSaveAsNewPolicy=_this$props4.setSaveAsNewPolicy,saveAsNewPolicy=_this$props4.saveAsNewPolicy,setSelectedPolicyName=_this$props4.setSelectedPolicyName,isNewPolicy=_this$props4.isNewPolicy,lifecycle=_this$props4.lifecycle,originalPolicyName=_this$props4.originalPolicyName;var selectedPolicyName=selectedPolicy.name;var _this$state=this.state,isShowingErrors=_this$state.isShowingErrors,isShowingPolicyJsonFlyout=_this$state.isShowingPolicyJsonFlyout;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{className:"ilmEditPolicyPageContent",verticalPosition:"center",horizontalPosition:"center"},_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,isNewPolicy?_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.createPolicyMessage",{defaultMessage:"Create an index lifecycle policy"}):_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.editPolicyMessage",{defaultMessage:"Edit index lifecycle policy {originalPolicyName}",values:{originalPolicyName:originalPolicyName}}))),_react.default.createElement("div",{className:"euiAnimateContentLoad"},_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.lifecyclePolicyDescriptionText",defaultMessage:"Use an index policy to automate the four phases of the index lifecycle, from actively writing to the index to deleting it."})," ",_react.default.createElement(_components.LearnMoreLink,{docPath:"index-lifecycle-management.html",text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutIndexLifecycleManagementLinkText",defaultMessage:"Learn about the index lifecycle."})}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_react.Fragment,null,isNewPolicy?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.editingExistingPolicyMessage",defaultMessage:"You are editing an existing policy"})),"."," ",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.editingExistingPolicyExplanationMessage",defaultMessage:"Any changes you make will affect the indices that are attached to this policy. Alternatively, you can save these changes in a new policy."}))),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"saveAsNewSwitch",style:{maxWidth:"100%"},checked:saveAsNewPolicy,onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setSaveAsNewPolicy(e.target.checked);case 2:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref3.apply(this,arguments)}}(),label:_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveAsNewPolicyMessage",defaultMessage:"Save as new policy"}))}))),saveAsNewPolicy||isNewPolicy?_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("div",null,_react.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nameLabel",defaultMessage:"Name"}))),titleSize:"s",fullWidth:true},_react.default.createElement(_form_errors.ErrableFormRow,{id:_constants.STRUCTURE_POLICY_NAME,label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameLabel",{defaultMessage:"Policy name"}),errorKey:_constants.STRUCTURE_POLICY_NAME,isShowingErrors:isShowingErrors,errors:errors,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.validPolicyNameMessage",defaultMessage:"A policy name cannot start with an underscore and cannot contain a question mark or a space."})},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"policyNameField",value:selectedPolicyName,onChange:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setSelectedPolicyName(e.target.value);case 2:case"end":return _context3.stop()}}}),_callee3)})));return function(_x2){return _ref4.apply(this,arguments)}}()}))):null),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_hot_phase.HotPhase,{selectedPolicy:selectedPolicy,errors:errors[_constants.PHASE_HOT],isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_HOT],false)}),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_warm_phase.WarmPhase,{errors:errors[_constants.PHASE_WARM],showNodeDetailsFlyout:this.showNodeDetailsFlyout,isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_WARM],false)}),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_cold_phase.ColdPhase,{errors:errors[_constants.PHASE_COLD],showNodeDetailsFlyout:this.showNodeDetailsFlyout,isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_COLD],false)}),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_delete_phase.DeletePhase,{errors:errors[_constants.PHASE_DELETE],isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_DELETE],false)}),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"savePolicyButton",fill:true,iconType:"check",iconSide:"left",onClick:this.submit,color:"secondary"},saveAsNewPolicy?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveAsNewButton",defaultMessage:"Save as new policy"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveButton",defaultMessage:"Save policy"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancelTestPolicy",onClick:this.backToPolicyList},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.cancelButton",defaultMessage:"Cancel"}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:this.togglePolicyJsonFlyout},isShowingPolicyJsonFlyout?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hidePolicyJsonButto",defaultMessage:"Hide request"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.showPolicyJsonButto",defaultMessage:"Show request"})))),this.state.isShowingNodeDetailsFlyout?_react.default.createElement(_node_attrs_details.NodeAttrsDetails,{selectedNodeAttrs:this.state.selectedNodeAttrsForDetails,close:function close(){return _this3.setState({isShowingNodeDetailsFlyout:false})}}):null,this.state.isShowingPolicyJsonFlyout?_react.default.createElement(_policy_json_flyout.PolicyJsonFlyout,{policyName:selectedPolicyName||"",lifecycle:lifecycle,close:function close(){return _this3.setState({isShowingPolicyJsonFlyout:false})}}):null))))}}]);return EditPolicy}(_react.Component);exports.EditPolicy=EditPolicy;_defineProperty(EditPolicy,"propTypes",{selectedPolicy:_propTypes.default.object.isRequired,errors:_propTypes.default.object.isRequired})},7037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActiveBadge=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ActiveBadge=function ActiveBadge(){return _react.default.createElement(_eui.EuiBadge,{className:"eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.activePhaseMessage",defaultMessage:"Active"}))};exports.ActiveBadge=ActiveBadge},7038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PhaseErrorMessage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PhaseErrorMessage=function PhaseErrorMessage(_ref){var isShowingErrors=_ref.isShowingErrors;return isShowingErrors?_react.default.createElement(_eui.EuiBadge,{className:"eui-alignMiddle",color:"danger"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.phaseErrorMessage",defaultMessage:"Fix errors"})):null};exports.PhaseErrorMessage=PhaseErrorMessage},7039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OptionalLabel=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OptionalLabel=function OptionalLabel(){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.optionalMessage",defaultMessage:" (optional)"})};exports.OptionalLabel=OptionalLabel},7040:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NodeAttrsDetails",{enumerable:true,get:function get(){return _node_attrs_details.NodeAttrsDetails}});var _node_attrs_details=__webpack_require__(7041)},7041:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAttrsDetails=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _node_attrs_details=__webpack_require__(7042);var NodeAttrsDetails=(0,_reactRedux.connect)((function(state,ownProps){return{details:(0,_selectors.getNodeDetails)(state,ownProps.selectedNodeAttrs)}}),{fetchNodeDetails:_actions.fetchNodeDetails})(_node_attrs_details.NodeAttrsDetails);exports.NodeAttrsDetails=NodeAttrsDetails},7042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAttrsDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var NodeAttrsDetails=function(_PureComponent){_inherits(NodeAttrsDetails,_PureComponent);function NodeAttrsDetails(){_classCallCheck(this,NodeAttrsDetails);return _possibleConstructorReturn(this,_getPrototypeOf(NodeAttrsDetails).apply(this,arguments))}_createClass(NodeAttrsDetails,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.props.fetchNodeDetails(this.props.selectedNodeAttrs)}},{key:"render",value:function render(){var _this$props=this.props,selectedNodeAttrs=_this$props.selectedNodeAttrs,details=_this$props.details,close=_this$props.close;return _react.default.createElement(_eui.EuiPortal,null,_react.default.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:close},_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.nodeAttrDetails.title",defaultMessage:"Nodes that contain the attribute {selectedNodeAttrs}",values:{selectedNodeAttrs:selectedNodeAttrs}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiInMemoryTable,{items:details||[],columns:[{field:"nodeId",name:_i18n.i18n.translate("xpack.indexLifecycleMgmt.nodeAttrDetails.idField",{defaultMessage:"ID"})},{field:"stats.name",name:_i18n.i18n.translate("xpack.indexLifecycleMgmt.nodeAttrDetails.nameField",{defaultMessage:"Name"})},{field:"stats.host",name:_i18n.i18n.translate("xpack.indexLifecycleMgmt.nodeAttrDetails.hostField",{defaultMessage:"Host"})}],pagination:true,sorting:true}))))}}]);return NodeAttrsDetails}(_react.PureComponent);exports.NodeAttrsDetails=NodeAttrsDetails;_defineProperty(NodeAttrsDetails,"propTypes",{fetchNodeDetails:_propTypes.default.func.isRequired,close:_propTypes.default.func.isRequired,details:_propTypes.default.array,selectedNodeAttrs:_propTypes.default.string.isRequired})},7043:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyJsonFlyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PolicyJsonFlyout=function(_PureComponent){_inherits(PolicyJsonFlyout,_PureComponent);function PolicyJsonFlyout(){_classCallCheck(this,PolicyJsonFlyout);return _possibleConstructorReturn(this,_getPrototypeOf(PolicyJsonFlyout).apply(this,arguments))}_createClass(PolicyJsonFlyout,[{key:"getEsJson",value:function getEsJson(_ref){var phases=_ref.phases;return JSON.stringify({policy:{phases:phases}},null,2)}},{key:"render",value:function render(){var _this$props=this.props,lifecycle=_this$props.lifecycle,close=_this$props.close,policyName=_this$props.policyName;var endpoint="PUT _ilm/policy/".concat(policyName||"<policyName>");var request="".concat(endpoint,"\n").concat(this.getEsJson(lifecycle));return _react.default.createElement(_eui.EuiFlyout,{maxWidth:480,onClose:close},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,policyName?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.namedTitle",defaultMessage:"Request for '{policyName}'",values:{policyName:policyName}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.unnamedTitle",defaultMessage:"Request"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create or update this index lifecycle policy."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCodeBlock,{language:"json",isCopyable:true},request)),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",onClick:close,flush:"left"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}]);return PolicyJsonFlyout}(_react.PureComponent);exports.PolicyJsonFlyout=PolicyJsonFlyout;_defineProperty(PolicyJsonFlyout,"propTypes",{close:_propTypes.default.func.isRequired,lifecycle:_propTypes.default.object.isRequired})},7044:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"HotPhase",{enumerable:true,get:function get(){return _hot_phase.HotPhase}});var _hot_phase=__webpack_require__(7045)},7045:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HotPhase=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _constants=__webpack_require__(252);var _hot_phase=__webpack_require__(7046);var HotPhase=(0,_reactRedux.connect)((function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)}}),{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_HOT,key,value)},setWarmPhaseOnRollover:function setWarmPhaseOnRollover(value){return(0,_actions.setPhaseData)(_constants.PHASE_WARM,_constants.WARM_PHASE_ON_ROLLOVER,value)}})(_hot_phase.HotPhase);exports.HotPhase=HotPhase},7046:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HotPhase=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _form_errors=__webpack_require__(5321);var _set_priority_input=__webpack_require__(5547);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var HotPhase=function(_PureComponent){_inherits(HotPhase,_PureComponent);function HotPhase(){_classCallCheck(this,HotPhase);return _possibleConstructorReturn(this,_getPrototypeOf(HotPhase).apply(this,arguments))}_createClass(HotPhase,[{key:"render",value:function render(){var _this$props=this.props,setPhaseData=_this$props.setPhaseData,phaseData=_this$props.phaseData,isShowingErrors=_this$props.isShowingErrors,errors=_this$props.errors,setWarmPhaseOnRollover=_this$props.setWarmPhaseOnRollover;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("div",null,_react.default.createElement("h2",{className:"eui-displayInlineBlock eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.hotPhaseLabel",defaultMessage:"Hot phase"}))," ",isShowingErrors?null:_react.default.createElement(_components.ActiveBadge,null),_react.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.hotPhaseDescriptionMessage",defaultMessage:"This phase is required. You are actively querying and writing to your index.  For faster updates, you can roll over the index when it gets too big or too old."}))),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{id:"rolloverFormRow",hasEmptyLabelSpace:true,helpText:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.rolloverDescriptionMessage",defaultMessage:"The new index created by rollover is added to the index alias and designated as the write index."})),_react.default.createElement(_components.LearnMoreLink,{text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.learnAboutRolloverLinkText",defaultMessage:"Learn about rollover"}),docPath:"indices-rollover-index.html"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"rolloverSwitch",checked:phaseData[_constants.PHASE_ROLLOVER_ENABLED],onChange:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var checked;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:checked=e.target.checked;setPhaseData(_constants.PHASE_ROLLOVER_ENABLED,checked);setWarmPhaseOnRollover(checked);case 3:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.enableRolloverLabel",{defaultMessage:"Enable rollover"})})),phaseData[_constants.PHASE_ROLLOVER_ENABLED]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.maximumIndexSizeLabel",{defaultMessage:"Maximum index size"}),errorKey:_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED),value:phaseData[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED],onChange:function onChange(e){setPhaseData(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,e.target.value)},min:1}))),_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS),hasEmptyLabelSpace:true,errorKey:_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiSelect,{"aria-label":_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.maximumIndexSizeUnitsAriaLabel",{defaultMessage:"Maximum index size units"}),value:phaseData[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS],onChange:function onChange(e){setPhaseData(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,e.target.value)},options:[{value:"gb",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.gigabytesLabel",{defaultMessage:"gigabytes"})},{value:"mb",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.megabytesLabel",{defaultMessage:"megabytes"})},{value:"b",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.bytesLabel",{defaultMessage:"bytes"})},{value:"kb",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.kilobytesLabel",{defaultMessage:"kilobytes"})},{value:"tb",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.terabytesLabel",{defaultMessage:"terabytes"})},{value:"pb",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.petabytesLabel",{defaultMessage:"petabytes"})}]})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_DOCUMENTS),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.maximumDocumentsLabel",{defaultMessage:"Maximum documents"}),errorKey:_constants.PHASE_ROLLOVER_MAX_DOCUMENTS,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_DOCUMENTS),value:phaseData[_constants.PHASE_ROLLOVER_MAX_DOCUMENTS],onChange:function onChange(e){setPhaseData(_constants.PHASE_ROLLOVER_MAX_DOCUMENTS,e.target.value)},min:1})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_AGE),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.maximumAgeLabel",{defaultMessage:"Maximum age"}),errorKey:"".concat(_constants.PHASE_ROLLOVER_MAX_AGE),isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_AGE),value:phaseData[_constants.PHASE_ROLLOVER_MAX_AGE],onChange:function onChange(e){setPhaseData(_constants.PHASE_ROLLOVER_MAX_AGE,e.target.value)},min:1}))),_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_HOT,"-").concat(_constants.PHASE_ROLLOVER_MAX_AGE_UNITS),hasEmptyLabelSpace:true,errorKey:_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiSelect,{"aria-label":_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.maximumAgeUnitsAriaLabel",{defaultMessage:"Maximum age units"}),value:phaseData[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS],onChange:function onChange(e){setPhaseData(_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,e.target.value)},options:[{value:"d",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.daysLabel",{defaultMessage:"days"})},{value:"h",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.hoursLabel",{defaultMessage:"hours"})},{value:"m",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.minutesLabel",{defaultMessage:"minutes"})},{value:"s",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.secondsLabel",{defaultMessage:"seconds"})},{value:"ms",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.millisecondsLabel",{defaultMessage:"milliseconds"})},{value:"micros",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.microsecondsLabel",{defaultMessage:"microseconds"})},{value:"nanos",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.hotPhase.nanosecondsLabel",{defaultMessage:"nanoseconds"})}]}))))):null),_react.default.createElement(_set_priority_input.SetPriorityInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_HOT,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData}))}}]);return HotPhase}(_react.PureComponent);exports.HotPhase=HotPhase;_defineProperty(HotPhase,"propTypes",{setPhaseData:_propTypes.default.func.isRequired,isShowingErrors:_propTypes.default.bool.isRequired,errors:_propTypes.default.object.isRequired})},7047:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"WarmPhase",{enumerable:true,get:function get(){return _warm_phase.WarmPhase}});var _warm_phase=__webpack_require__(7048)},7048:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WarmPhase=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _constants=__webpack_require__(252);var _warm_phase=__webpack_require__(7049);var WarmPhase=(0,_reactRedux.connect)((function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_WARM),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}}),{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_WARM,key,value)}})(_warm_phase.WarmPhase);exports.WarmPhase=WarmPhase},7049:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WarmPhase=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _form_errors=__webpack_require__(5321);var _set_priority_input=__webpack_require__(5547);var _node_allocation=__webpack_require__(5826);var _min_age_input=__webpack_require__(5548);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var WarmPhase=function(_PureComponent){_inherits(WarmPhase,_PureComponent);function WarmPhase(){_classCallCheck(this,WarmPhase);return _possibleConstructorReturn(this,_getPrototypeOf(WarmPhase).apply(this,arguments))}_createClass(WarmPhase,[{key:"render",value:function render(){var _this$props=this.props,setPhaseData=_this$props.setPhaseData,showNodeDetailsFlyout=_this$props.showNodeDetailsFlyout,phaseData=_this$props.phaseData,errors=_this$props.errors,isShowingErrors=_this$props.isShowingErrors,hotPhaseRolloverEnabled=_this$props.hotPhaseRolloverEnabled;var shrinkLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.shrinkIndexLabel",{defaultMessage:"Shrink index"});var moveToWarmPhaseOnRolloverLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.moveToWarmPhaseOnRolloverLabel",{defaultMessage:"Move to warm phase on rollover"});var forcemergeLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.forceMergeDataLabel",{defaultMessage:"Force merge data"});return _react.default.createElement("div",{id:"warmPhaseContent","aria-live":"polite",role:"region","aria-relevant":"additions"},_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("div",null,_react.default.createElement("h2",{className:"eui-displayInlineBlock eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.warmPhaseLabel",defaultMessage:"Warm phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react.default.createElement(_components.ActiveBadge,null):null,_react.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.warmPhaseDescriptionMessage",defaultMessage:"You are still querying your index, but it is read-only. You can allocate shards to less performant hardware. For faster searches, you can reduce the number of shards and force merge segments."})),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"enablePhaseSwitch-warm",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.activateWarmPhaseSwitchLabel",defaultMessage:"Activate warm phase"}),id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_ENABLED),checked:phaseData[_constants.PHASE_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_ENABLED,e.target.checked)},"aria-controls":"warmPhaseContent"})),fullWidth:true},_react.default.createElement(_react.Fragment,null,phaseData[_constants.PHASE_ENABLED]?_react.default.createElement(_react.Fragment,null,hotPhaseRolloverEnabled?_react.default.createElement(_eui.EuiFormRow,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.WARM_PHASE_ON_ROLLOVER)},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"warmPhaseOnRolloverSwitch",label:moveToWarmPhaseOnRolloverLabel,id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.WARM_PHASE_ON_ROLLOVER),checked:phaseData[_constants.WARM_PHASE_ON_ROLLOVER],onChange:function onChange(e){setPhaseData(_constants.WARM_PHASE_ON_ROLLOVER,e.target.checked)}})):null,!phaseData[_constants.WARM_PHASE_ON_ROLLOVER]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_WARM,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled})):null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_node_allocation.NodeAllocation,{phase:_constants.PHASE_WARM,setPhaseData:setPhaseData,showNodeDetailsFlyout:showNodeDetailsFlyout,errors:errors,phaseData:phaseData,isShowingErrors:isShowingErrors}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false,style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_REPLICA_COUNT),label:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.warmPhase.numberOfReplicasLabel",defaultMessage:"Number of replicas"}),_react.default.createElement(_components.OptionalLabel,null)),errorKey:_constants.PHASE_REPLICA_COUNT,isShowingErrors:isShowingErrors,errors:errors,helpText:_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.replicaCountHelpText",{defaultMessage:"By default, the number of replicas remains the same."})},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_REPLICA_COUNT),value:phaseData[_constants.PHASE_REPLICA_COUNT],onChange:function onChange(e){setPhaseData(_constants.PHASE_REPLICA_COUNT,e.target.value)},min:0})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null)),phaseData[_constants.PHASE_ENABLED]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.shrinkText",defaultMessage:"Shrink"})),description:_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.shrinkIndexExplanationText",defaultMessage:"Shrink the index into a new index with fewer primary shards."})," ",_react.default.createElement(_components.LearnMoreLink,{docPath:"indices-shrink-index.html#indices-shrink-index"})),fullWidth:true,titleSize:"xs"},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"shrinkSwitch",checked:phaseData[_constants.PHASE_SHRINK_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_SHRINK_ENABLED,e.target.checked)},label:shrinkLabel,"aria-label":shrinkLabel,"aria-controls":"shrinkContent"}),_react.default.createElement("div",{id:"shrinkContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_SHRINK_ENABLED]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_PRIMARY_SHARD_COUNT),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.numberOfPrimaryShardsLabel",{defaultMessage:"Number of primary shards"}),errorKey:_constants.PHASE_PRIMARY_SHARD_COUNT,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_PRIMARY_SHARD_COUNT),value:phaseData[_constants.PHASE_PRIMARY_SHARD_COUNT],onChange:function onChange(e){setPhaseData(_constants.PHASE_PRIMARY_SHARD_COUNT,e.target.value)},min:1})))),_react.default.createElement(_eui.EuiSpacer,null)):null))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.forceMergeDataText",defaultMessage:"Force merge"})),description:_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.forceMergeDataExplanationText",defaultMessage:"Reduce the number of segments in your shard by merging smaller files and clearing deleted ones."})," ",_react.default.createElement(_components.LearnMoreLink,{docPath:"indices-forcemerge.html"})),titleSize:"xs",fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"forceMergeSwitch",label:forcemergeLabel,"aria-label":forcemergeLabel,checked:phaseData[_constants.PHASE_FORCE_MERGE_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_FORCE_MERGE_ENABLED,e.target.checked)},"aria-controls":"forcemergeContent"}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement("div",{id:"forcemergeContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_FORCE_MERGE_ENABLED]?_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_FORCE_MERGE_SEGMENTS),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.warmPhase.numberOfSegmentsLabel",{defaultMessage:"Number of segments"}),errorKey:_constants.PHASE_FORCE_MERGE_SEGMENTS,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_WARM,"-").concat(_constants.PHASE_FORCE_MERGE_SEGMENTS),value:phaseData[_constants.PHASE_FORCE_MERGE_SEGMENTS],onChange:function onChange(e){setPhaseData(_constants.PHASE_FORCE_MERGE_SEGMENTS,e.target.value)},min:1})):null)),_react.default.createElement(_set_priority_input.SetPriorityInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_WARM,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData})):null)}}]);return WarmPhase}(_react.PureComponent);exports.WarmPhase=WarmPhase;_defineProperty(WarmPhase,"propTypes",{setPhaseData:_propTypes.default.func.isRequired,showNodeDetailsFlyout:_propTypes.default.func.isRequired,isShowingErrors:_propTypes.default.bool.isRequired,errors:_propTypes.default.object.isRequired})},7050:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAllocation=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _node_allocation=__webpack_require__(7051);var NodeAllocation=(0,_reactRedux.connect)((function(state){return{nodeOptions:(0,_selectors.getNodeOptions)(state)}}),{fetchNodes:_actions.fetchNodes})(_node_allocation.NodeAllocation);exports.NodeAllocation=NodeAllocation},7051:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAllocation=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _learn_more_link=__webpack_require__(5546);var _form_errors=__webpack_require__(5321);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var learnMoreLinks=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_learn_more_link.LearnMoreLink,{text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutShardAllocationLink",defaultMessage:"Learn about shard allocation"}),docPath:"shards-allocation.html"}));var NodeAllocation=function(_Component){_inherits(NodeAllocation,_Component);function NodeAllocation(){_classCallCheck(this,NodeAllocation);return _possibleConstructorReturn(this,_getPrototypeOf(NodeAllocation).apply(this,arguments))}_createClass(NodeAllocation,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchNodes()}},{key:"render",value:function render(){var _this$props=this.props,phase=_this$props.phase,setPhaseData=_this$props.setPhaseData,isShowingErrors=_this$props.isShowingErrors,phaseData=_this$props.phaseData,showNodeDetailsFlyout=_this$props.showNodeDetailsFlyout,nodeOptions=_this$props.nodeOptions,errors=_this$props.errors;if(!nodeOptions){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}if(!nodeOptions.length){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nodeAttributesMissingLabel",defaultMessage:"No node attributes configured in elasticsearch.yml"}),color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nodeAttributesMissingDescription",defaultMessage:"You can't control shard allocation without node attributes."}),learnMoreLinks),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(phase,"-").concat(_constants.PHASE_NODE_ATTRS),label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.nodeAllocationLabel",{defaultMessage:"Select a node attribute to control shard allocation"}),errorKey:_constants.PHASE_NODE_ATTRS,isShowingErrors:isShowingErrors,errors:errors},_react.default.createElement(_eui.EuiSelect,{id:"".concat(phase,"-").concat(_constants.PHASE_NODE_ATTRS),value:phaseData[_constants.PHASE_NODE_ATTRS]||" ",options:nodeOptions,onChange:function onChange(e){setPhaseData(_constants.PHASE_NODE_ATTRS,e.target.value)}})),!!phaseData[_constants.PHASE_NODE_ATTRS]?_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"".concat(phase,"-viewNodeDetailsFlyoutButton"),flush:"left",iconType:"eye",onClick:function onClick(){return showNodeDetailsFlyout(phaseData[_constants.PHASE_NODE_ATTRS])}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.viewNodeDetailsButton",defaultMessage:"View a list of nodes attached to this configuration"})):_react.default.createElement("div",null),learnMoreLinks,_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return NodeAllocation}(_react.Component);exports.NodeAllocation=NodeAllocation},7052:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DeletePhase",{enumerable:true,get:function get(){return _delete_phase.DeletePhase}});var _delete_phase=__webpack_require__(7053)},7053:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeletePhase=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _constants=__webpack_require__(252);var _delete_phase=__webpack_require__(7054);var DeletePhase=(0,_reactRedux.connect)((function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_DELETE),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}}),{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_DELETE,key,value)}})(_delete_phase.DeletePhase);exports.DeletePhase=DeletePhase},7054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeletePhase=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _min_age_input=__webpack_require__(5548);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DeletePhase=function(_PureComponent){_inherits(DeletePhase,_PureComponent);function DeletePhase(){_classCallCheck(this,DeletePhase);return _possibleConstructorReturn(this,_getPrototypeOf(DeletePhase).apply(this,arguments))}_createClass(DeletePhase,[{key:"render",value:function render(){var _this$props=this.props,setPhaseData=_this$props.setPhaseData,phaseData=_this$props.phaseData,errors=_this$props.errors,isShowingErrors=_this$props.isShowingErrors,hotPhaseRolloverEnabled=_this$props.hotPhaseRolloverEnabled;return _react.default.createElement("div",{id:"deletePhaseContent","aria-live":"polite",role:"region"},_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("div",null,_react.default.createElement("h2",{className:"eui-displayInlineBlock eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.deletePhaseLabel",defaultMessage:"Delete phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react.default.createElement(_components.ActiveBadge,null):null,_react.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.deletePhaseDescriptionText",defaultMessage:"You no longer need your index.  You can define when it is safe to delete it."})),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"enablePhaseSwitch-delete",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.activateWarmPhaseSwitchLabel",defaultMessage:"Activate delete phase"}),id:"".concat(_constants.PHASE_DELETE,"-").concat(_constants.PHASE_ENABLED),checked:phaseData[_constants.PHASE_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_ENABLED,e.target.checked)},"aria-controls":"deletePhaseContent"})),fullWidth:true},phaseData[_constants.PHASE_ENABLED]?_react.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_DELETE,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled}):_react.default.createElement("div",null)))}}]);return DeletePhase}(_react.PureComponent);exports.DeletePhase=DeletePhase;_defineProperty(DeletePhase,"propTypes",{setPhaseData:_propTypes.default.func.isRequired,isShowingErrors:_propTypes.default.bool.isRequired,errors:_propTypes.default.object.isRequired})},7055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ColdPhase",{enumerable:true,get:function get(){return _cold_phase.ColdPhase}});var _cold_phase=__webpack_require__(7056)},7056:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColdPhase=void 0;var _reactRedux=__webpack_require__(10);var _selectors=__webpack_require__(5277);var _actions=__webpack_require__(5290);var _constants=__webpack_require__(252);var _cold_phase=__webpack_require__(7057);var ColdPhase=(0,_reactRedux.connect)((function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_COLD),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}}),{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_COLD,key,value)}})(_cold_phase.ColdPhase);exports.ColdPhase=ColdPhase},7057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColdPhase=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _constants=__webpack_require__(252);var _components=__webpack_require__(5320);var _form_errors=__webpack_require__(5321);var _min_age_input=__webpack_require__(5548);var _node_allocation=__webpack_require__(5826);var _set_priority_input=__webpack_require__(5547);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ColdPhase=function(_PureComponent){_inherits(ColdPhase,_PureComponent);function ColdPhase(){_classCallCheck(this,ColdPhase);return _possibleConstructorReturn(this,_getPrototypeOf(ColdPhase).apply(this,arguments))}_createClass(ColdPhase,[{key:"render",value:function render(){var _this$props=this.props,setPhaseData=_this$props.setPhaseData,showNodeDetailsFlyout=_this$props.showNodeDetailsFlyout,phaseData=_this$props.phaseData,errors=_this$props.errors,isShowingErrors=_this$props.isShowingErrors,hotPhaseRolloverEnabled=_this$props.hotPhaseRolloverEnabled;var freezeLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.coldPhase.freezeIndexLabel",{defaultMessage:"Freeze index"});return _react.default.createElement("div",{id:"coldPhaseContent","aria-live":"polite",role:"region"},_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("div",null,_react.default.createElement("h2",{className:"eui-displayInlineBlock eui-alignMiddle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.coldPhaseLabel",defaultMessage:"Cold phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react.default.createElement(_components.ActiveBadge,null):null,_react.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.coldPhaseDescriptionText",defaultMessage:"You are querying your index less frequently, so you can allocate shards on significantly less performant hardware. Because your queries are slower, you can reduce the number of replicas."})),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"enablePhaseSwitch-cold",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.activateWarmPhaseSwitchLabel",defaultMessage:"Activate cold phase"}),id:"".concat(_constants.PHASE_COLD,"-").concat(_constants.PHASE_ENABLED),checked:phaseData[_constants.PHASE_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_ENABLED,e.target.checked)},"aria-controls":"coldPhaseContent"})),fullWidth:true},_react.default.createElement(_react.Fragment,null,phaseData[_constants.PHASE_ENABLED]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_COLD,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_node_allocation.NodeAllocation,{phase:_constants.PHASE_COLD,setPhaseData:setPhaseData,showNodeDetailsFlyout:showNodeDetailsFlyout,errors:errors,phaseData:phaseData,isShowingErrors:isShowingErrors}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false,style:{maxWidth:188}},_react.default.createElement(_form_errors.ErrableFormRow,{id:"".concat(_constants.PHASE_COLD,"-").concat(_constants.PHASE_REPLICA_COUNT),label:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.coldPhase.numberOfReplicasLabel",defaultMessage:"Number of replicas"}),_react.default.createElement(_components.OptionalLabel,null)),errorKey:_constants.PHASE_REPLICA_COUNT,isShowingErrors:isShowingErrors,errors:errors,helpText:_i18n.i18n.translate("xpack.indexLifecycleMgmt.coldPhase.replicaCountHelpText",{defaultMessage:"By default, the number of replicas remains the same."})},_react.default.createElement(_eui.EuiFieldNumber,{id:"".concat(_constants.PHASE_COLD,"-").concat(_constants.PHASE_REPLICA_COUNT),value:phaseData[_constants.PHASE_REPLICA_COUNT],onChange:function onChange(e){setPhaseData(_constants.PHASE_REPLICA_COUNT,e.target.value)},min:0}))))):_react.default.createElement("div",null))),phaseData[_constants.PHASE_ENABLED]?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.freezeText",defaultMessage:"Freeze"})),description:_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.freezeIndexExplanationText",defaultMessage:"A frozen index has little overhead on the cluster and is blocked for write operations. You can search a frozen index, but expect queries to be slower."})," ",_react.default.createElement(_components.LearnMoreLink,{docPath:"frozen-indices.html"})),fullWidth:true,titleSize:"xs"},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"freezeSwitch",checked:phaseData[_constants.PHASE_FREEZE_ENABLED],onChange:function onChange(e){setPhaseData(_constants.PHASE_FREEZE_ENABLED,e.target.checked)},label:freezeLabel,"aria-label":freezeLabel})),_react.default.createElement(_set_priority_input.SetPriorityInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_COLD,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData})):null)}}]);return ColdPhase}(_react.PureComponent);exports.ColdPhase=ColdPhase;_defineProperty(ColdPhase,"propTypes",{setPhaseData:_propTypes.default.func.isRequired,showNodeDetailsFlyout:_propTypes.default.func.isRequired,isShowingErrors:_propTypes.default.bool.isRequired,errors:_propTypes.default.object.isRequired})},7058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyTable",{enumerable:true,get:function get(){return _policy_table.PolicyTable}});var _policy_table=__webpack_require__(7059)},7059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyTable",{enumerable:true,get:function get(){return _policy_table.PolicyTable}});var _policy_table=__webpack_require__(7060)},7060:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyTable=void 0;var _reactRedux=__webpack_require__(10);var _actions=__webpack_require__(5290);var _selectors=__webpack_require__(5277);var _policy_table=__webpack_require__(7061);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{policyFilterChanged:function policyFilterChanged(filter){dispatch((0,_actions.policyFilterChanged)({filter:filter}))},policyPageChanged:function policyPageChanged(pageNumber){dispatch((0,_actions.policyPageChanged)({pageNumber:pageNumber}))},policyPageSizeChanged:function policyPageSizeChanged(pageSize){dispatch((0,_actions.policyPageSizeChanged)({pageSize:pageSize}))},policySortChanged:function policySortChanged(sortField,isSortAscending){dispatch((0,_actions.policySortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},fetchPolicies:function fetchPolicies(withIndices){dispatch((0,_actions.fetchPolicies)(withIndices))}}};var PolicyTable=(0,_reactRedux.connect)((function(state){return{totalNumberOfPolicies:(0,_selectors.getPolicies)(state).length,policies:(0,_selectors.getPageOfPolicies)(state),pager:(0,_selectors.getPolicyPager)(state),filter:(0,_selectors.getPolicyFilter)(state),sortField:(0,_selectors.getPolicySort)(state).sortField,isSortAscending:(0,_selectors.getPolicySort)(state).isSortAscending,policyListLoaded:(0,_selectors.isPolicyListLoaded)(state)}}),mapDispatchToProps)(_policy_table.PolicyTable);exports.PolicyTable=PolicyTable},7061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _momentTimezone=_interopRequireDefault(__webpack_require__(39));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _services=__webpack_require__(77);var _public=__webpack_require__(804);var _constants=__webpack_require__(384);var _constants2=__webpack_require__(252);var _navigation=__webpack_require__(1449);var _flatten_panel_tree=__webpack_require__(7062);var _ui_metric=__webpack_require__(692);var _no_match=__webpack_require__(7063);var _confirm_delete=__webpack_require__(7066);var _add_policy_to_template_confirm_modal=__webpack_require__(7067);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var COLUMNS={name:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.nameHeader",{defaultMessage:"Name"})},linkedIndices:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.linkedIndicesHeader",{defaultMessage:"Linked indices"}),width:120},version:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.versionHeader",{defaultMessage:"Version"}),width:120},modified_date:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.modifiedDateHeader",{defaultMessage:"Modified date"}),width:200}};var PolicyTable=function(_Component){_inherits(PolicyTable,_Component);function PolicyTable(props){var _this;_classCallCheck(this,PolicyTable);_this=_possibleConstructorReturn(this,_getPrototypeOf(PolicyTable).call(this,props));_defineProperty(_assertThisInitialized(_this),"renderDeleteConfirmModal",(function(){var policyToDelete=_this.state.policyToDelete;if(!policyToDelete){return null}return _react.default.createElement(_confirm_delete.ConfirmDelete,{policyToDelete:policyToDelete,callback:_this.handleDelete,onCancel:function onCancel(){return _this.setState({renderConfirmModal:null,policyToDelete:null})}})}));_defineProperty(_assertThisInitialized(_this),"renderAddPolicyToTemplateConfirmModal",(function(){var policyToAddToTemplate=_this.state.policyToAddToTemplate;if(!policyToAddToTemplate){return null}return _react.default.createElement(_add_policy_to_template_confirm_modal.AddPolicyToTemplateConfirmModal,{policy:policyToAddToTemplate,onCancel:function onCancel(){return _this.setState({renderConfirmModal:null,policyToAddToTemplate:null})}})}));_defineProperty(_assertThisInitialized(_this),"handleDelete",(function(){_this.props.fetchPolicies(true);_this.setState({renderDeleteConfirmModal:null,policyToDelete:null})}));_defineProperty(_assertThisInitialized(_this),"onSort",(function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,policySortChanged=_this$props.policySortChanged;var newIsSortAscending=sortField===column?!isSortAscending:true;policySortChanged(column,newIsSortAscending)}));_defineProperty(_assertThisInitialized(_this),"togglePolicyPopover",(function(policy){if(_this.isPolicyPopoverOpen(policy)){_this.closePolicyPopover(policy)}else{_this.openPolicyPopover(policy)}}));_defineProperty(_assertThisInitialized(_this),"isPolicyPopoverOpen",(function(policy){return _this.state.policyPopover===policy.name}));_defineProperty(_assertThisInitialized(_this),"closePolicyPopover",(function(policy){if(_this.isPolicyPopoverOpen(policy)){_this.setState({policyPopover:null})}}));_defineProperty(_assertThisInitialized(_this),"openPolicyPopover",(function(policy){_this.setState({policyPopover:policy.name})}));_defineProperty(_assertThisInitialized(_this),"onItemSelectionChanged",(function(selectedPolicies){_this.setState({selectedPolicies:selectedPolicies})}));_this.state={selectedPoliciesMap:{},renderConfirmModal:null};return _this}_createClass(PolicyTable,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchPolicies(true)}},{key:"renderEmpty",value:function renderEmpty(){return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPromptTitle",defaultMessage:"Create your first index lifecycle policy"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPromptDescription",defaultMessage:" An index lifecycle policy helps you manage your indices as they age."}))),actions:this.renderCreatePolicyButton()})}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _this$props2=this.props,sortField=_this$props2.sortField,isSortAscending=_this$props2.isSortAscending;var headers=Object.entries(COLUMNS).map((function(_ref){var _ref2=_slicedToArray(_ref,2),fieldName=_ref2[0],_ref2$=_ref2[1],label=_ref2$.label,width=_ref2$.width;var isSorted=sortField===fieldName;return _react.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"policyTableHeaderCell-".concat(fieldName),className:"policyTable__header--"+fieldName,width:width},label)}));headers.push(_react.default.createElement(_eui.EuiTableHeaderCell,{key:"deleteHeader","data-test-subj":"policyTableHeaderCell-delete",width:150}));return headers}},{key:"buildRowCell",value:function buildRowCell(fieldName,value){if(fieldName==="name"){return _react.default.createElement(_eui.EuiLink,{className:"policyTable__link","data-test-subj":"policyTablePolicyNameLink",href:(0,_navigation.getPolicyPath)(value),onClick:function onClick(){return(0,_ui_metric.trackUiMetric)("click",_constants2.UIM_EDIT_CLICK)}},value)}else if(fieldName==="linkedIndices"){return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("b",null,value?value.length:"0"))}else if(fieldName==="modified_date"&&value){return(0,_momentTimezone.default)(value).format("YYYY-MM-DD HH:mm:ss")}return value}},{key:"renderCreatePolicyButton",value:function renderCreatePolicyButton(){return _react.default.createElement(_eui.EuiButton,{href:"#".concat(_constants.BASE_PATH,"policies/edit"),fill:true,iconType:"plusInCircle","data-test-subj":"createPolicyButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPrompt.createButtonLabel",defaultMessage:"Create policy"}))}},{key:"renderConfirmModal",value:function renderConfirmModal(){var renderConfirmModal=this.state.renderConfirmModal;if(renderConfirmModal){return renderConfirmModal()}else{return null}}},{key:"buildActionPanelTree",value:function buildActionPanelTree(policy){var _this3=this;var hasLinkedIndices=Boolean(policy.linkedIndices&&policy.linkedIndices.length);var viewIndicesLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.viewIndicesButtonText",{defaultMessage:"View indices linked to policy"});var addPolicyToTemplateLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addPolicyToTemplateButtonText",{defaultMessage:"Add policy to index template"});var deletePolicyLabel=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.deletePolicyButtonText",{defaultMessage:"Delete policy"});var deletePolicyTooltip=hasLinkedIndices?_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.deletePolicyButtonDisabledTooltip",{defaultMessage:"You cannot delete a policy that is being used by an index"}):null;var items=[];if(hasLinkedIndices){items.push({name:viewIndicesLabel,icon:"list",onClick:function onClick(){window.location.hash=(0,_public.getIndexListUri)("ilm.policy:".concat(policy.name))}})}items.push({name:addPolicyToTemplateLabel,icon:"plusInCircle",onClick:function onClick(){return _this3.setState({renderConfirmModal:_this3.renderAddPolicyToTemplateConfirmModal,policyToAddToTemplate:policy})}});items.push({name:deletePolicyLabel,disabled:hasLinkedIndices,icon:"trash",toolTipContent:deletePolicyTooltip,onClick:function onClick(){return _this3.setState({renderConfirmModal:_this3.renderDeleteConfirmModal,policyToDelete:policy})}});var panelTree={id:0,title:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.policyActionsMenu.panelTitle",{defaultMessage:"Policy options"}),items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"buildRowCells",value:function buildRowCells(policy){var _this4=this;var name=policy.name;var cells=Object.entries(COLUMNS).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),fieldName=_ref4[0],width=_ref4[1].width;var value=policy[fieldName];if(fieldName==="name"){return _react.default.createElement("th",{key:"".concat(fieldName,"-").concat(name),className:"euiTableRowCell",scope:"row","data-test-subj":"policyTableCell-".concat(fieldName)},_react.default.createElement("div",{className:"euiTableCellContent policyTable__content--".concat(fieldName)},_this4.buildRowCell(fieldName,value)))}return _react.default.createElement(_eui.EuiTableRowCell,{key:"".concat(fieldName,"-").concat(name),truncateText:false,"data-test-subj":"policyTableCell-".concat(fieldName),className:"policyTable__content--"+fieldName,width:width},_this4.buildRowCell(fieldName,value))}));var button=_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"policyActionsContextMenuButton",onClick:function onClick(){return _this4.togglePolicyPopover(policy)},color:"primary"},_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.actionsButtonText",{defaultMessage:"Actions"}));cells.push(_react.default.createElement(_eui.EuiTableRowCell,{align:_services.RIGHT_ALIGNMENT,key:"delete-".concat(name),truncateText:false,"data-test-subj":"policyTableCell-actions-".concat(name),style:{width:150}},_react.default.createElement(_eui.EuiPopover,{id:"contextMenuPolicy",button:button,isOpen:this.isPolicyPopoverOpen(policy),closePopover:function closePopover(){return _this4.closePolicyPopover(policy)},panelPaddingSize:"none",withTitle:true,anchorPosition:"rightUp",repositionOnScroll:true},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:this.buildActionPanelTree(policy)}))));return cells}},{key:"buildRows",value:function buildRows(){var _this5=this;var _this$props$policies=this.props.policies,policies=_this$props$policies===void 0?[]:_this$props$policies;return policies.map((function(policy){var name=policy.name;return _react.default.createElement(_eui.EuiTableRow,{key:"".concat(name,"-row")},_this5.buildRowCells(policy))}))}},{key:"renderPager",value:function renderPager(){var _this$props3=this.props,pager=_this$props3.pager,policyPageChanged=_this$props3.policyPageChanged,policyPageSizeChanged=_this$props3.policyPageSizeChanged;return _react.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:policyPageSizeChanged,onChangePage:policyPageChanged})}},{key:"render",value:function render(){var _this6=this;var _this$props4=this.props,totalNumberOfPolicies=_this$props4.totalNumberOfPolicies,policyFilterChanged=_this$props4.policyFilterChanged,filter=_this$props4.filter,policyListLoaded=_this$props4.policyListLoaded,policies=_this$props4.policies;var selectedPoliciesMap=this.state.selectedPoliciesMap;var numSelected=Object.keys(selectedPoliciesMap).length;var content;var tableContent;if(totalNumberOfPolicies||!policyListLoaded){if(!policyListLoaded){tableContent=_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}else if(totalNumberOfPolicies>0){tableContent=_react.default.createElement(_eui.EuiTable,{className:"policyTable__horizontalScroll"},_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.captionText",defaultMessage:"Below is the index lifecycle policy table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:policies.length,total:totalNumberOfPolicies}}))),_react.default.createElement(_eui.EuiTableHeader,null,this.buildHeader()),_react.default.createElement(_eui.EuiTableBody,null,this.buildRows()))}else{tableContent=_react.default.createElement(_no_match.NoMatch,null)}content=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},numSelected>0?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"deletePolicyButton",color:"danger",onClick:function onClick(){return _this6.setState({showDeleteConfirmation:true})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.deletedPoliciesText",defaultMessage:"Deleted {numSelected} {numSelected, plural, one {policy} other {policies}}",values:{numSelected:numSelected}}))):null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){policyFilterChanged(event.target.value)},"data-test-subj":"policyTableFilterInput",placeholder:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.systempoliciesSearchInputPlaceholder",{defaultMessage:"Search"}),"aria-label":_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.systempoliciesSearchInputAriaLabel",{defaultMessage:"Search policies"})}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),tableContent)}else{content=this.renderEmpty()}return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center"},_react.default.createElement("div",null,this.renderConfirmModal(),totalNumberOfPolicies||!policyListLoaded?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"sectionHeading"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.sectionHeading",defaultMessage:"Index Lifecycle Policies"})))),totalNumberOfPolicies?_react.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderCreatePolicyButton()):null),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.sectionDescription",defaultMessage:"Manage your indices as they age.  Attach a policy to automate when and how to transition an index through its lifecycle."})))):null,_react.default.createElement(_eui.EuiSpacer,null),content,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),totalNumberOfPolicies&&totalNumberOfPolicies>10?this.renderPager():null)))}}]);return PolicyTable}(_react.Component);exports.PolicyTable=PolicyTable},7062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPanelTree=void 0;var flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array.push(tree);if(tree.items){tree.items.forEach((function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}}))}return array};exports.flattenPanelTree=flattenPanelTree},7063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}});var _no_match=__webpack_require__(7064)},7064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}});var _no_match=__webpack_require__(7065)},7065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoMatch=function NoMatch(){return _react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.noMatch.noPolicicesDescription",defaultMessage:"No policies to show"}))};exports.NoMatch=NoMatch},7066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDelete=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _notification=__webpack_require__(377);var _api=__webpack_require__(474);var _api_errors=__webpack_require__(687);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ConfirmDelete=function(_Component){_inherits(ConfirmDelete,_Component);function ConfirmDelete(){var _getPrototypeOf2;var _this;_classCallCheck(this,ConfirmDelete);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ConfirmDelete)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"deletePolicy",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,policyToDelete,callback,policyName,message,title;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,policyToDelete=_this$props.policyToDelete,callback=_this$props.callback;policyName=policyToDelete.name;_context.prev=2;_context.next=5;return(0,_api.deletePolicy)(policyName);case 5:message=_i18n.i18n.translate("xpack.indexLifecycleMgmt.confirmDelete.successMessage",{defaultMessage:"Deleted policy {policyName}",values:{policyName:policyName}});_notification.toasts.addSuccess(message);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.confirmDelete.errorMessage",{defaultMessage:"Error deleting policy {policyName}",values:{policyName:policyName}});(0,_api_errors.showApiError)(_context.t0,title);case 13:if(callback){callback()}case 14:case"end":return _context.stop()}}}),_callee,null,[[2,9]])}))));return _this}_createClass(ConfirmDelete,[{key:"render",value:function render(){var _this$props2=this.props,policyToDelete=_this$props2.policyToDelete,onCancel=_this$props2.onCancel;var title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.confirmDelete.title",{defaultMessage:'Delete policy "{name}"',values:{name:policyToDelete.name}});return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.deletePolicy,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.deleteButton",defaultMessage:"Delete"}),buttonColor:"danger",onClose:onCancel},_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.undoneWarning",defaultMessage:"You can't recover a deleted policy."}))))}}]);return ConfirmDelete}(_react.Component);exports.ConfirmDelete=ConfirmDelete},7067:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddPolicyToTemplateConfirmModal=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _notification=__webpack_require__(377);var _api=__webpack_require__(474);var _api_errors=__webpack_require__(687);var _learn_more_link=__webpack_require__(5546);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AddPolicyToTemplateConfirmModal=function(_Component){_inherits(AddPolicyToTemplateConfirmModal,_Component);function AddPolicyToTemplateConfirmModal(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddPolicyToTemplateConfirmModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddPolicyToTemplateConfirmModal)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{templates:[]});_defineProperty(_assertThisInitialized(_this),"addPolicyToTemplate",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,policy,callback,onCancel,_this$state,templateName,aliasName,policyName,message,title;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,policy=_this$props.policy,callback=_this$props.callback,onCancel=_this$props.onCancel;_this$state=_this.state,templateName=_this$state.templateName,aliasName=_this$state.aliasName;policyName=policy.name;if(templateName){_context.next=6;break}_this.setState({templateError:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.noTemplateSelectedErrorMessage",{defaultMessage:"You must select an index template."})});return _context.abrupt("return");case 6:_context.prev=6;_context.next=9;return(0,_api.addLifecyclePolicyToTemplate)({policyName:policyName,templateName:templateName,aliasName:aliasName});case 9:message=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.successMessage",{defaultMessage:"Added policy {policyName} to index template {templateName}",values:{policyName:policyName,templateName:templateName}});_notification.toasts.addSuccess(message);onCancel();_context.next=18;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.errorMessage",{defaultMessage:'Error adding policy "{policyName}" to index template {templateName}',values:{policyName:policyName,templateName:templateName}});(0,_api_errors.showApiError)(_context.t0,title);case 18:if(callback){callback()}case 19:case"end":return _context.stop()}}}),_callee,null,[[6,14]])}))));_defineProperty(_assertThisInitialized(_this),"renderAliasFormElement",(function(){var aliasName=_this.state.aliasName;var policy=_this.props.policy;var showAliasTextInput=policy&&(0,_lodash.get)(policy,"policy.phases.hot.actions.rollover");if(!showAliasTextInput){return null}return _react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.rolloverAliasLabel",defaultMessage:"Alias for rollover index"})},_react.default.createElement(_eui.EuiFieldText,{value:aliasName,onChange:function onChange(e){_this.setState({aliasName:e.target.value})}}))}));return _this}_createClass(AddPolicyToTemplateConfirmModal,[{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var templates;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_api.loadIndexTemplates)();case 2:templates=_context2.sent;this.setState({templates:templates});case 4:case"end":return _context2.stop()}}}),_callee2,this)})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"renderTemplateHasPolicyWarning",value:function renderTemplateHasPolicyWarning(){var selectedTemplate=this.getSelectedTemplate();var existingPolicyName=(0,_lodash.get)(selectedTemplate,"settings.index.lifecycle.name");if(!existingPolicyName){return}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.templateHasPolicyWarningTitle",defaultMessage:"Template already has policy"}),color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyToTemplateConfirmModal.indexHasNoAliasesWarningMessage",defaultMessage:"This index template already has the policy {existingPolicyName} attached to it. Adding this policy will overwrite that configuration.",values:{existingPolicyName:existingPolicyName}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"getSelectedTemplate",value:function getSelectedTemplate(){var _this$state2=this.state,templates=_this$state2.templates,templateName=_this$state2.templateName;return(0,_lodash.find)(templates,(function(template){return template.name===templateName}))}},{key:"renderForm",value:function renderForm(){var _this2=this;var _this$state3=this.state,templates=_this$state3.templates,templateName=_this$state3.templateName,templateError=_this$state3.templateError;var options=templates.map((function(_ref2){var name=_ref2.name;return{value:name,text:name}}));options.unshift({value:"",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.chooseTemplateMessage",{defaultMessage:"Select an index template"})});return _react.default.createElement(_eui.EuiForm,null,this.renderTemplateHasPolicyWarning(),_react.default.createElement(_eui.EuiFormRow,{isInvalid:!!templateError,error:templateError,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.chooseTemplateLabel",defaultMessage:"Index template"})},_react.default.createElement(_eui.EuiSelect,{options:options,value:templateName,onChange:function onChange(e){_this2.setState({templateError:null,templateName:e.target.value})}})),this.renderAliasFormElement())}},{key:"render",value:function render(){var _this$props2=this.props,policy=_this$props2.policy,onCancel=_this$props2.onCancel;var title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.title",{defaultMessage:'Add policy "{name}" to index template',values:{name:policy.name}});return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.addPolicyToTemplate,cancelButtonText:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.confirmButton",{defaultMessage:"Add policy"}),onClose:onCancel},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyToTemplateConfirmModal.explanationText",defaultMessage:"This will apply the lifecycle policy to all indices which match the index template."})," ",_react.default.createElement(_learn_more_link.LearnMoreLink,{docPath:"indices-templates.html",text:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutIndexTemplatesLink",defaultMessage:"Learn about index templates"})}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderForm()))}}]);return AddPolicyToTemplateConfirmModal}(_react.Component);exports.AddPolicyToTemplateConfirmModal=AddPolicyToTemplateConfirmModal},7068:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"indexLifecycleManagementStore",{enumerable:true,get:function get(){return _store.indexLifecycleManagementStore}});var _store=__webpack_require__(7069)},7069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexLifecycleManagementStore=void 0;var _redux=__webpack_require__(262);var _reduxThunk=_interopRequireDefault(__webpack_require__(446));var _reducers=__webpack_require__(7070);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var indexLifecycleManagementStore=function indexLifecycleManagementStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.indexLifecycleManagement,initialState,_redux.compose.apply(void 0,enhancers))};exports.indexLifecycleManagementStore=indexLifecycleManagementStore},7070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexLifecycleManagement=void 0;var _redux=__webpack_require__(262);var _nodes=__webpack_require__(7071);var _policies=__webpack_require__(7072);var _general=__webpack_require__(7073);var indexLifecycleManagement=(0,_redux.combineReducers)({nodes:_nodes.nodes,policies:_policies.policies,general:_general.general});exports.indexLifecycleManagement=indexLifecycleManagement},7071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodes=void 0;var _reduxActions=__webpack_require__(46);var _nodes=__webpack_require__(5822);var _handleActions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={isLoading:false,selectedNodeAttrs:"",selectedPrimaryShardCount:1,selectedReplicaCount:1,nodes:undefined,details:{}};var nodes=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_nodes.fetchedNodes,(function(state,_ref){var nodes=_ref.payload;return _objectSpread({},state,{isLoading:false,nodes:nodes})})),_defineProperty(_handleActions,_nodes.fetchedNodeDetails,(function(state,_ref2){var payload=_ref2.payload;var selectedNodeAttrs=payload.selectedNodeAttrs,details=payload.details;return _objectSpread({},state,{details:_objectSpread({},state.details,_defineProperty({},selectedNodeAttrs,details))})})),_defineProperty(_handleActions,_nodes.setSelectedNodeAttrs,(function(state,_ref3){var selectedNodeAttrs=_ref3.payload;return _objectSpread({},state,{selectedNodeAttrs:selectedNodeAttrs})})),_defineProperty(_handleActions,_nodes.setSelectedPrimaryShardCount,(function(state,_ref4){var payload=_ref4.payload;var selectedPrimaryShardCount=parseInt(payload);if(isNaN(selectedPrimaryShardCount)){selectedPrimaryShardCount=""}return _objectSpread({},state,{selectedPrimaryShardCount:selectedPrimaryShardCount})})),_defineProperty(_handleActions,_nodes.setSelectedReplicaCount,(function(state,_ref5){var payload=_ref5.payload;var selectedReplicaCount;if(payload!=null){selectedReplicaCount=parseInt(payload);if(isNaN(selectedReplicaCount)){selectedReplicaCount=""}}else{selectedReplicaCount=1}return _objectSpread({},state,{selectedReplicaCount:selectedReplicaCount})})),_handleActions),defaultState);exports.nodes=nodes},7072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.policies=exports.defaultPolicy=void 0;var _reduxActions=__webpack_require__(46);var _actions=__webpack_require__(5290);var _selectors=__webpack_require__(5277);var _constants=__webpack_require__(252);var _defaults=__webpack_require__(1847);var _phases,_handleActions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultPolicy={name:"",saveAsNew:true,isNew:true,phases:(_phases={},_defineProperty(_phases,_constants.PHASE_HOT,_defaults.defaultHotPhase),_defineProperty(_phases,_constants.PHASE_WARM,_defaults.defaultWarmPhase),_defineProperty(_phases,_constants.PHASE_COLD,_defaults.defaultColdPhase),_defineProperty(_phases,_constants.PHASE_DELETE,_defaults.defaultDeletePhase),_phases)};exports.defaultPolicy=defaultPolicy;var defaultState={isLoading:false,isLoaded:false,originalPolicyName:undefined,selectedPolicySet:false,selectedPolicy:defaultPolicy,policies:[],sort:{sortField:"name",isSortAscending:true},pageSize:10,currentPage:0,filter:""};var policies=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.fetchedPolicies,(function(state,_ref){var policies=_ref.payload;return _objectSpread({},state,{isLoading:false,isLoaded:true,policies:policies})})),_defineProperty(_handleActions,_actions.setSelectedPolicy,(function(state,_ref2){var selectedPolicy=_ref2.payload;if(!selectedPolicy){return _objectSpread({},state,{selectedPolicy:defaultPolicy,selectedPolicySet:true})}return _objectSpread({},state,{originalPolicyName:selectedPolicy.name,selectedPolicySet:true,selectedPolicy:_objectSpread({},defaultPolicy,{},(0,_selectors.policyFromES)(selectedPolicy))})})),_defineProperty(_handleActions,_actions.unsetSelectedPolicy,(function(){return defaultState})),_defineProperty(_handleActions,_actions.setSelectedPolicyName,(function(state,_ref3){var name=_ref3.payload;return _objectSpread({},state,{selectedPolicy:_objectSpread({},state.selectedPolicy,{name:name})})})),_defineProperty(_handleActions,_actions.setSaveAsNewPolicy,(function(state,_ref4){var saveAsNew=_ref4.payload;return _objectSpread({},state,{selectedPolicy:_objectSpread({},state.selectedPolicy,{saveAsNew:saveAsNew})})})),_defineProperty(_handleActions,_actions.setPhaseData,(function(state,_ref5){var payload=_ref5.payload;var phase=payload.phase,key=payload.key;var value=payload.value;if(_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS.includes(key)){value=parseInt(value);if(isNaN(value)){value=""}}return _objectSpread({},state,{selectedPolicy:_objectSpread({},state.selectedPolicy,{phases:_objectSpread({},state.selectedPolicy.phases,_defineProperty({},phase,_objectSpread({},state.selectedPolicy.phases[phase],_defineProperty({},key,value))))})})})),_defineProperty(_handleActions,_actions.policyFilterChanged,(function(state,action){var filter=action.payload.filter;return _objectSpread({},state,{filter:filter,currentPage:0})})),_defineProperty(_handleActions,_actions.policySortChanged,(function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _objectSpread({},state,{sort:{sortField:sortField,isSortAscending:isSortAscending}})})),_defineProperty(_handleActions,_actions.policyPageChanged,(function(state,action){var pageNumber=action.payload.pageNumber;return _objectSpread({},state,{currentPage:pageNumber})})),_defineProperty(_handleActions,_actions.policyPageSizeChanged,(function(state,action){var pageSize=action.payload.pageSize;return _objectSpread({},state,{pageSize:pageSize})})),_handleActions),defaultState);exports.policies=policies},7073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.general=void 0;var _reduxActions=__webpack_require__(46);var _general=__webpack_require__(5823);var _handleActions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={bootstrapEnabled:false,indexName:"",aliasName:""};var general=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_general.setIndexName,(function(state,_ref){var indexName=_ref.payload;return _objectSpread({},state,{indexName:indexName})})),_defineProperty(_handleActions,_general.setAliasName,(function(state,_ref2){var aliasName=_ref2.payload;return _objectSpread({},state,{aliasName:aliasName})})),_defineProperty(_handleActions,_general.setBootstrapEnabled,(function(state,_ref3){var bootstrapEnabled=_ref3.payload;return _objectSpread({},state,{bootstrapEnabled:bootstrapEnabled})})),_handleActions),defaultState);exports.general=general}}]);