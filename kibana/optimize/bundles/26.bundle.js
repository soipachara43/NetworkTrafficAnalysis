/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{5223:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.teardownCanvas=exports.initializeCanvas=exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(11));var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _reactRedux=__webpack_require__(10);var _app=__webpack_require__(6341);var _public=__webpack_require__(14);var _run_interpreter=__webpack_require__(388);var _monaco_language_def=__webpack_require__(1859);var _registries=__webpack_require__(6348);var _documentation_links=__webpack_require__(6349);var _help_menu=__webpack_require__(6350);var _store=__webpack_require__(6353);var _public2=__webpack_require__(198);var _value_click_action=__webpack_require__(792);var _i18n2=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var strings=_i18n2.CapabilitiesStrings.ReadOnlyBadge;var restoreAction;var emptyAction={id:"empty-action",type:"",getDisplayName:function getDisplayName(){return"empty action"},getIconType:function getIconType(){return undefined},isCompatible:function(){var _isCompatible=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",true);case 1:case"end":return _context.stop()}}}),_callee)})));function isCompatible(){return _isCompatible.apply(this,arguments)}return isCompatible}(),execute:function(){var _execute=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",undefined);case 1:case"end":return _context2.stop()}}}),_callee2)})));function execute(){return _execute.apply(this,arguments)}return execute}()};var renderApp=function renderApp(coreStart,plugins,_ref,canvasStore){var element=_ref.element;_reactDom.default.render(_react.default.createElement(_public.KibanaContextProvider,{services:_objectSpread({},plugins,{},coreStart)},_react.default.createElement(_react2.I18nProvider,null,_react.default.createElement(_reactRedux.Provider,{store:canvasStore},_react.default.createElement(_app.App,null)))),element);return function(){return _reactDom.default.unmountComponentAtNode(element)}};exports.renderApp=renderApp;var initializeCanvas=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(coreSetup,coreStart,setupPlugins,startPlugins,registries){var canvasStore,action;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_store.createStore)(coreSetup,setupPlugins);case 2:canvasStore=_context3.sent;(0,_run_interpreter.initInterpreter)(startPlugins.expressions,setupPlugins.expressions).then((function(){(0,_monaco_language_def.registerLanguage)(Object.values(startPlugins.expressions.getFunctions()))}));(0,_registries.initRegistries)();(0,_registries.populateRegistries)(registries);coreStart.chrome.setBadge(coreStart.application.capabilities.canvas&&coreStart.application.capabilities.canvas.save?undefined:{text:strings.getText(),tooltip:strings.getTooltip(),iconType:"glasses"});coreStart.chrome.setHelpExtension({appName:_i18n.i18n.translate("xpack.canvas.helpMenu.appName",{defaultMessage:"Canvas"}),links:[{linkType:"documentation",href:(0,_documentation_links.getDocumentationLinks)().canvas}],content:function content(domNode){_reactDom.default.render(_react.default.createElement(_help_menu.HelpMenu,null),domNode);return function(){return _reactDom.default.unmountComponentAtNode(domNode)}}});action=startPlugins.uiActions.getAction(_value_click_action.ACTION_VALUE_CLICK);if(action){restoreAction=action;startPlugins.uiActions.detachAction(_public2.VALUE_CLICK_TRIGGER,action.id);startPlugins.uiActions.attachAction(_public2.VALUE_CLICK_TRIGGER,emptyAction)}return _context3.abrupt("return",canvasStore);case 11:case"end":return _context3.stop()}}}),_callee3)})));return function initializeCanvas(_x,_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)}}();exports.initializeCanvas=initializeCanvas;var teardownCanvas=function teardownCanvas(coreStart,startPlugins){(0,_registries.destroyRegistries)();(0,_run_interpreter.resetInterpreter)();startPlugins.uiActions.detachAction(_public2.VALUE_CLICK_TRIGGER,emptyAction.id);if(restoreAction){startPlugins.uiActions.attachAction(_public2.VALUE_CLICK_TRIGGER,restoreAction);restoreAction=undefined}coreStart.chrome.setBadge(undefined);coreStart.chrome.setHelpExtension(undefined)};exports.teardownCanvas=teardownCanvas},6341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _reactRedux=__webpack_require__(10);var _recompose=__webpack_require__(16);var _app=__webpack_require__(90);var _app2=__webpack_require__(508);var _app3=__webpack_require__(6342);var _track_route_change=__webpack_require__(6347);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var mapStateToProps=function mapStateToProps(state){var appState=(0,_app.getAppReady)(state);return{appState:_typeof(appState)==="object"?appState:{ready:appState},basePath:(0,_app.getBasePath)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setAppReady:function setAppReady(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{dispatch((0,_app2.appReady)())}catch(e){dispatch((0,_app2.appError)(e))}case 1:case"end":return _context.stop()}}}),_callee)})))},setAppError:function setAppError(payload){return dispatch((0,_app2.appError)(payload))}}};var mergeProps=function mergeProps(stateProps,dispatchProps,ownProps){return _objectSpread({},ownProps,{},stateProps,{},dispatchProps,{setAppReady:dispatchProps.setAppReady(stateProps.basePath)})};var App=(0,_recompose.compose)((0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,mergeProps),(0,_recompose.withProps)((function(){return{onRouteChange:_track_route_change.trackRouteChange}})))(_app3.App);exports.App=App},6342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _apps=__webpack_require__(1855);var _shortcut_manager=__webpack_require__(6343);var _get_window=__webpack_require__(200);var _router=__webpack_require__(6344);var _i18n=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var strings=_i18n.ComponentStrings.App;var App=function(_React$PureComponent){_inherits(App,_React$PureComponent);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"renderError",(function(){console.error(_this.props.appState);return _react.default.createElement("div",null,_react.default.createElement("div",null,strings.getLoadErrorTitle()),_react.default.createElement("div",null,strings.getLoadErrorMessage(_this.props.appState.messgae)))}));return _this}_createClass(App,[{key:"getChildContext",value:function getChildContext(){return{shortcuts:_shortcut_manager.shortcutManager}}},{key:"componentDidMount",value:function componentDidMount(){var win=(0,_get_window.getWindow)();win.canvasInitErrorHandler&&win.canvasInitErrorHandler()}},{key:"componentWillUnmount",value:function componentWillUnmount(){var win=(0,_get_window.getWindow)();win.canvasRestoreErrorHandler&&win.canvasRestoreErrorHandler()}},{key:"render",value:function render(){var _this2=this;if(this.props.appState instanceof Error){return this.renderError()}return _react.default.createElement("div",{className:"canvas canvasContainer"},_react.default.createElement(_router.Router,{routes:_apps.routes,showLoading:this.props.appState.ready===false,loadingMessage:strings.getLoadingMessage(),onRouteChange:this.props.onRouteChange,onLoad:function onLoad(){return _this2.props.setAppReady(true)},onError:function onError(err){return _this2.props.setAppError(err)}}))}}]);return App}(_react.default.PureComponent);exports.App=App;_defineProperty(App,"propTypes",{appState:_propTypes.default.object.isRequired,setAppReady:_propTypes.default.func.isRequired,setAppError:_propTypes.default.func.isRequired,onRouteChange:_propTypes.default.func.isRequired});_defineProperty(App,"childContextTypes",{shortcuts:_propTypes.default.object.isRequired})},6343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.shortcutManager=void 0;var _reactShortcuts=__webpack_require__(360);var _keymap=__webpack_require__(1799);var shortcutManager=new _reactShortcuts.ShortcutManager(_keymap.keymap);exports.shortcutManager=shortcutManager},6344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Router=void 0;var _reactRedux=__webpack_require__(10);var _transient=__webpack_require__(122);var _workpad=__webpack_require__(94);var _router=__webpack_require__(6345);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var mapDispatchToProps={enableAutoplay:_workpad.enableAutoplay,setAutoplayInterval:_workpad.setAutoplayInterval,setFullscreen:_transient.setFullscreen,setRefreshInterval:_workpad.setRefreshInterval};var mapStateToProps=function mapStateToProps(state){return{refreshInterval:state.transient.refresh.interval,autoplayInterval:state.transient.autoplay.interval,autoplay:state.transient.autoplay.enabled,fullscreen:state.transient.fullScreen}};var Router=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,(function(stateProps,dispatchProps,ownProps){return _objectSpread({},ownProps,{},dispatchProps,{setRefreshInterval:function setRefreshInterval(interval){if(interval!==stateProps.refreshInterval){dispatchProps.setRefreshInterval(interval)}},setAutoplayInterval:function setAutoplayInterval(interval){if(interval!==stateProps.autoplayInterval){dispatchProps.setRefreshInterval(interval)}},enableAutoplay:function enableAutoplay(autoplay){if(autoplay!==stateProps.autoplay){dispatchProps.enableAutoplay(autoplay)}},setFullscreen:function setFullscreen(fullscreen){if(fullscreen!==stateProps.fullscreen){dispatchProps.setFullscreen(fullscreen)}}})}))(_router.Router);exports.Router=Router},6345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Router=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _router_provider=__webpack_require__(390);var _app_state=__webpack_require__(389);var _time_interval=__webpack_require__(391);var _canvas_loading=__webpack_require__(6346);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Router=function(_React$PureComponent){_inherits(Router,_React$PureComponent);function Router(){var _getPrototypeOf2;var _this;_classCallCheck(this,Router);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Router)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{router:{},activeComponent:_canvas_loading.CanvasLoading});return _this}_createClass(Router,[{key:"getChildContext",value:function getChildContext(){var router=this.state.router;return{router:router}}},{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var _this2=this;var _this$props=this.props,routes=_this$props.routes,onRouteChange=_this$props.onRouteChange,onLoad=_this$props.onLoad,onError=_this$props.onError;var router=(0,_router_provider.routerProvider)(routes);var firstLoad=true;router.onPathChange((function(route){var pathname=route.location.pathname;var component=route.meta.component;if(!component){if(false){}return}if(firstLoad){firstLoad=false;router.execute().then((function(){return onLoad()})).catch((function(err){return onError(err)}))}var appState=(0,_app_state.getAppState)();if(appState.__fullscreen){_this2.props.setFullscreen(appState.__fullscreen)}if(appState.__refreshInterval){_this2.props.setRefreshInterval((0,_time_interval.getTimeInterval)(appState.__refreshInterval))}if(!!appState.__autoplayInterval){_this2.props.enableAutoplay(true);_this2.props.setAutoplayInterval((0,_time_interval.getTimeInterval)(appState.__autoplayInterval))}onRouteChange&&onRouteChange(pathname);_this2.setState({activeComponent:component})}));this.setState({router:router})}},{key:"render",value:function render(){if(this.props.showLoading){return _react.default.createElement(_canvas_loading.CanvasLoading,{msg:this.props.loadingMessage})}return _react.default.createElement(this.state.activeComponent,null)}}]);return Router}(_react.default.PureComponent);exports.Router=Router;_defineProperty(Router,"propTypes",{showLoading:_propTypes.default.bool.isRequired,onLoad:_propTypes.default.func.isRequired,onError:_propTypes.default.func.isRequired,routes:_propTypes.default.array.isRequired,loadingMessage:_propTypes.default.string,onRouteChange:_propTypes.default.func,setFullscreen:_propTypes.default.func.isRequired});_defineProperty(Router,"childContextTypes",{router:_propTypes.default.object.isRequired})},6346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CanvasLoading=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CanvasLoading=function CanvasLoading(_ref){var msg=_ref.msg;return _react.default.createElement("div",{className:"canvasContainer--loading"},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiLoadingChart,{size:"m"}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{color:"default",size:"s"},_react.default.createElement("p",null,msg))))};exports.CanvasLoading=CanvasLoading;CanvasLoading.propTypes={msg:_propTypes.default.string};CanvasLoading.defaultProps={msg:"Loading..."}},6347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trackRouteChange=trackRouteChange;var _lodash=__webpack_require__(3);var _get_window=__webpack_require__(200);var _constants=__webpack_require__(56);var _legacy=__webpack_require__(201);function trackRouteChange(){var basePath=(0,_legacy.getCoreStart)().http.basePath.get();(0,_legacy.getStartPlugins)().__LEGACY.trackSubUrlForApp(_constants.CANVAS_APP,(0,_legacy.getStartPlugins)().__LEGACY.absoluteToParsedUrl((0,_lodash.get)((0,_get_window.getWindow)(),"location.href"),basePath))}},6348:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initRegistries=initRegistries;exports.populateRegistries=populateRegistries;exports.destroyRegistries=destroyRegistries;exports.registries=void 0;var _common=__webpack_require__(73);var _elements_registry=__webpack_require__(800);var _templates_registry=__webpack_require__(1856);var _tags_registry=__webpack_require__(392);var _transitions_registry=__webpack_require__(509);var _expression_types=__webpack_require__(799);var registries={};exports.registries=registries;function initRegistries(){(0,_common.addRegistries)(registries,{elements:_elements_registry.elementsRegistry,transformUIs:_expression_types.transformRegistry,datasourceUIs:_expression_types.datasourceRegistry,modelUIs:_expression_types.modelRegistry,viewUIs:_expression_types.viewRegistry,argumentUIs:_expression_types.argTypeRegistry,templates:_templates_registry.templatesRegistry,tagUIs:_tags_registry.tagsRegistry,transitions:_transitions_registry.transitionsRegistry})}function populateRegistries(setupRegistries){(0,_common.register)(registries,setupRegistries)}function destroyRegistries(){exports.registries=registries={}}},6349:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDocumentationLinks=void 0;var _legacy=__webpack_require__(201);var getDocumentationLinks=function getDocumentationLinks(){return{canvas:"".concat((0,_legacy.getCoreStart)().docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat((0,_legacy.getCoreStart)().docLinks.DOC_LINK_VERSION,"/canvas.html"),numeral:"".concat((0,_legacy.getCoreStart)().docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat((0,_legacy.getCoreStart)().docLinks.DOC_LINK_VERSION,"/guide/numeral.html")}};exports.getDocumentationLinks=getDocumentationLinks},6350:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HelpMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _keyboard_shortcuts_doc=__webpack_require__(6351);var _i18n=__webpack_require__(6);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var strings=_i18n.ComponentStrings.HelpMenu;var HelpMenu=function(_PureComponent){_inherits(HelpMenu,_PureComponent);function HelpMenu(){var _getPrototypeOf2;var _this;_classCallCheck(this,HelpMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HelpMenu)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isFlyoutVisible:false});_defineProperty(_assertThisInitialized(_this),"showFlyout",(function(){_this.setState({isFlyoutVisible:true})}));_defineProperty(_assertThisInitialized(_this),"hideFlyout",(function(){_this.setState({isFlyoutVisible:false})}));return _this}_createClass(HelpMenu,[{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"keyboardShortcut",onClick:this.showFlyout},strings.getKeyboardShortcutsLinkLabel()),this.state.isFlyoutVisible&&_react.default.createElement(_eui.EuiPortal,null,_react.default.createElement(_keyboard_shortcuts_doc.KeyboardShortcutsDoc,{onClose:this.hideFlyout})))}}]);return HelpMenu}(_react.PureComponent);exports.HelpMenu=HelpMenu},6351:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"KeyboardShortcutsDoc",{enumerable:true,get:function get(){return _keyboard_shortcuts_doc.KeyboardShortcutsDoc}});var _keyboard_shortcuts_doc=__webpack_require__(6352)},6352:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KeyboardShortcutsDoc=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _keymap=__webpack_require__(1799);var _get_client_platform=__webpack_require__(1857);var _get_id=__webpack_require__(114);var _get_pretty_shortcut=__webpack_require__(1858);var _components=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var strings=_components.ComponentStrings.KeyboardShortcutsDoc;var os=(0,_get_client_platform.getClientPlatform)();var getDescriptionListItems=function getDescriptionListItems(shortcuts){return shortcuts.map((function(shortcutKeyMap){var osShortcuts=shortcutKeyMap[os];return{title:shortcutKeyMap.help,description:osShortcuts.reduce((function(acc,shortcut,i){shortcut=shortcut.replace(/\+/g," ");if(i!==0){acc.push(_react.default.createElement("span",{key:(0,_get_id.getId)("span")}," ",strings.getShortcutSeparator()," "))}acc.push(_react.default.createElement("span",{key:(0,_get_id.getId)("span")},(0,_get_pretty_shortcut.getPrettyShortcut)(shortcut).split(/( )/g).map((function(key){return key===" "?key:_react.default.createElement(_eui.EuiCode,{key:(0,_get_id.getId)("shortcut")},key)}))));return acc}),[])}}))};var KeyboardShortcutsDoc=function KeyboardShortcutsDoc(_ref){var onClose=_ref.onClose;return _react.default.createElement(_eui.EuiFlyout,{closeButtonAriaLabel:strings.getFlyoutCloseButtonAriaLabel(),size:"s",onClose:onClose},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,strings.getTitle()))),_react.default.createElement(_eui.EuiFlyoutBody,null,Object.values(_keymap.keymap).map((function(namespace){var displayName=namespace.displayName,shortcuts=_objectWithoutProperties(namespace,["displayName"]);return _react.default.createElement("div",{key:(0,_get_id.getId)("shortcuts"),className:"canvasKeyboardShortcut"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h4",null,displayName)),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",type:"column",listItems:getDescriptionListItems(Object.values(shortcuts)),compressed:true}),_react.default.createElement(_eui.EuiSpacer,null))}))))};exports.KeyboardShortcutsDoc=KeyboardShortcutsDoc;KeyboardShortcutsDoc.propTypes={onClose:_propTypes.default.func.isRequired}},6353:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createStore=createStore;var _store=__webpack_require__(798);var _initial_state=__webpack_require__(1854);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function createStore(_x,_x2){return _createStore.apply(this,arguments)}function _createStore(){_createStore=_asyncToGenerator(regeneratorRuntime.mark((function _callee(core,plugins){var initialState,basePath,serverFunctionsResponse,serverFunctions;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:initialState=(0,_initial_state.getInitialState)();basePath=core.http.basePath.get();_context.next=4;return core.http.get("/api/interpreter/fns");case 4:serverFunctionsResponse=_context.sent;serverFunctions=Object.values(serverFunctionsResponse);initialState.app={basePath:basePath,serverFunctions:serverFunctions,ready:false};return _context.abrupt("return",(0,_store.createStore)(initialState));case 8:case"end":return _context.stop()}}}),_callee)})));return _createStore.apply(this,arguments)}}}]);