/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedCssChunks={11:0};var installedChunks={11:0};var deferredModules=[];function jsonpScriptSrc(chunkId){return __webpack_require__.p+""+({}[chunkId]||chunkId)+".bundle.js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var cssChunks={20:1};if(installedCssChunks[chunkId])promises.push(installedCssChunks[chunkId]);else if(installedCssChunks[chunkId]!==0&&cssChunks[chunkId]){promises.push(installedCssChunks[chunkId]=new Promise((function(resolve,reject){var href=""+({}[chunkId]||chunkId)+".style.css";var fullhref=__webpack_require__.p+href;var existingLinkTags=document.getElementsByTagName("link");for(var i=0;i<existingLinkTags.length;i++){var tag=existingLinkTags[i];var dataHref=tag.getAttribute("data-href")||tag.getAttribute("href");if(tag.rel==="stylesheet"&&(dataHref===href||dataHref===fullhref))return resolve()}var existingStyleTags=document.getElementsByTagName("style");for(var i=0;i<existingStyleTags.length;i++){var tag=existingStyleTags[i];var dataHref=tag.getAttribute("data-href");if(dataHref===href||dataHref===fullhref)return resolve()}var linkTag=document.createElement("link");linkTag.rel="stylesheet";linkTag.type="text/css";linkTag.onload=resolve;linkTag.onerror=function(event){var request=event&&event.target&&event.target.src||fullhref;var err=new Error("Loading CSS chunk "+chunkId+" failed.\n("+request+")");err.code="CSS_CHUNK_LOAD_FAILED";err.request=request;delete installedCssChunks[chunkId];linkTag.parentNode.removeChild(linkTag);reject(err)};linkTag.href=fullhref;var head=document.getElementsByTagName("head")[0];head.appendChild(linkTag)})).then((function(){installedCssChunks[chunkId]=0})))}var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([3071,0]);return checkDeferredModules()})({0:function(module,exports){module.exports=__kbnSharedDeps__.React},1:function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _reactDom=__webpack_require__(11);var _get_page_data=__webpack_require__(3170);var _components=__webpack_require__(234);var _timefilter=__webpack_require__(55);var _i18n=__webpack_require__(25);var _cancel_promise=__webpack_require__(3171);var _setup_mode=__webpack_require__(275);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var getOffsetInMS=function getOffsetInMS(timezone){if(timezone==="Browser"){return 0}var offsetInMinutes=_moment.default.tz(timezone).utcOffset();var offsetInMS=offsetInMinutes*1*60*1e3;return offsetInMS};var MonitoringViewBaseController=function(){function MonitoringViewBaseController(_ref){var _this=this;var _ref$title=_ref.title,title=_ref$title===void 0?"":_ref$title,_ref$api=_ref.api,api=_ref$api===void 0?"":_ref$api,apiUrlFn=_ref.apiUrlFn,_ref$getPageData=_ref.getPageData,_getPageData=_ref$getPageData===void 0?_get_page_data.getPageData:_ref$getPageData,defaultData=_ref.defaultData,_ref$reactNodeId=_ref.reactNodeId,reactNodeId=_ref$reactNodeId===void 0?null:_ref$reactNodeId,$scope=_ref.$scope,$injector=_ref.$injector,_ref$options=_ref.options,options=_ref$options===void 0?{}:_ref$options,_ref$fetchDataImmedia=_ref.fetchDataImmediately,fetchDataImmediately=_ref$fetchDataImmedia===void 0?true:_ref$fetchDataImmedia;_classCallCheck(this,MonitoringViewBaseController);var titleService=$injector.get("title");var $executor=$injector.get("$executor");var $window=$injector.get("$window");var config=$injector.get("config");titleService($scope.cluster,title);$scope.pageData=this.data=_objectSpread({},defaultData);this._isDataInitialized=false;this.reactNodeId=reactNodeId;var deferTimer;var zoomInLevel=0;var popstateHandler=function popstateHandler(){return zoomInLevel>0&&--zoomInLevel};var removePopstateHandler=function removePopstateHandler(){return $window.removeEventListener("popstate",popstateHandler)};var addPopstateHandler=function addPopstateHandler(){return $window.addEventListener("popstate",popstateHandler)};this.zoomInfo={zoomOutHandler:function zoomOutHandler(){return $window.history.back()},showZoomOutBtn:function showZoomOutBtn(){return zoomInLevel>0}};var _options$enableTimeFi=options.enableTimeFilter,enableTimeFilter=_options$enableTimeFi===void 0?true:_options$enableTimeFi,_options$enableAutoRe=options.enableAutoRefresh,enableAutoRefresh=_options$enableAutoRe===void 0?true:_options$enableAutoRe;if(enableTimeFilter===false){_timefilter.timefilter.disableTimeRangeSelector()}else{_timefilter.timefilter.enableTimeRangeSelector()}if(enableAutoRefresh===false){_timefilter.timefilter.disableAutoRefreshSelector()}else{_timefilter.timefilter.enableAutoRefreshSelector()}this.updateData=function(){if(_this.updateDataPromise){_this.updateDataPromise.cancel();_this.updateDataPromise=null}var _api=apiUrlFn?apiUrlFn():api;var promises=[_getPageData($injector,_api,_this.getPaginationRouteOptions())];var setupMode=(0,_setup_mode.getSetupModeState)();if(setupMode.enabled){promises.push((0,_setup_mode.updateSetupModeData)())}_this.updateDataPromise=new _cancel_promise.PromiseWithCancel(Promise.all(promises));return _this.updateDataPromise.promise().then((function(_ref2){var _ref3=_slicedToArray(_ref2,1),pageData=_ref3[0];$scope.$apply((function(){_this._isDataInitialized=true;$scope.pageData=_this.data=pageData}))}))};fetchDataImmediately&&this.updateData();$executor.register({execute:function execute(){return _this.updateData()}});$executor.start($scope);$scope.$on("$destroy",(function(){clearTimeout(deferTimer);removePopstateHandler();if(_this.reactNodeId){(0,_reactDom.unmountComponentAtNode)(document.getElementById(_this.reactNodeId))}$executor.destroy()}));this.onBrush=function(_ref4){var xaxis=_ref4.xaxis;removePopstateHandler();var to=xaxis.to,from=xaxis.from;var timezone=config.get("dateFormat:tz");var offset=getOffsetInMS(timezone);_timefilter.timefilter.setTime({from:(0,_moment.default)(from-offset),to:(0,_moment.default)(to-offset),mode:"absolute"});$executor.cancel();$executor.run();++zoomInLevel;clearTimeout(deferTimer);deferTimer=setTimeout((function(){return addPopstateHandler()}),10)};this.setTitle=function(title){return titleService($scope.cluster,title)}}_createClass(MonitoringViewBaseController,[{key:"renderReact",value:function renderReact(component){var renderElement=document.getElementById(this.reactNodeId);if(!renderElement){console.warn('"#'.concat(this.reactNodeId,'" element has not been added to the DOM yet'));return}if(this._isDataInitialized===false){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.PageLoading,null)),renderElement)}else{(0,_reactDom.render)(component,renderElement)}}},{key:"getPaginationRouteOptions",value:function getPaginationRouteOptions(){return{}}}]);return MonitoringViewBaseController}();exports.MonitoringViewBaseController=MonitoringViewBaseController},101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MonitoringViewBaseController",{enumerable:true,get:function get(){return _base_controller.MonitoringViewBaseController}});Object.defineProperty(exports,"MonitoringViewBaseTableController",{enumerable:true,get:function get(){return _base_table_controller.MonitoringViewBaseTableController}});Object.defineProperty(exports,"MonitoringViewBaseEuiTableController",{enumerable:true,get:function get(){return _base_eui_table_controller.MonitoringViewBaseEuiTableController}});var _base_controller=__webpack_require__(100);var _base_table_controller=__webpack_require__(3179);var _base_eui_table_controller=__webpack_require__(1102)},1088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractIp=extractIp;function extractIp(transport){if(typeof transport!=="string"){return null}var matches=transport.match(/inet\[[^\/]*\/([^\/\]]+)\]/);if(matches){return matches[1]}return transport}},1089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Stats",{enumerable:true,get:function get(){return _stats.Stats}});var _stats=__webpack_require__(3100)},1090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseries=MonitoringTimeseries;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(164));var _get_color=__webpack_require__(3101);var _timeseries_visualization=__webpack_require__(3102);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTicksFor(series){var format=(0,_lodash.get)(series,".metric.format","0,0.0");var units=(0,_lodash.get)(series,".metric.units","");return function formatTicks(val){var formatted=(0,_numeral.default)(val).format(format);if(units!=="B"&&units!==""){formatted+=" "+units}return formatted}}function MonitoringTimeseries(_ref){var series=_ref.series,onBrush=_ref.onBrush;var dataset=series.map((function(s,index){return{color:(0,_get_color.getColor)(s.metric.app,index),data:s.data,label:s.metric.label}}));var firstSeries=(0,_lodash.first)(series);var timeRange=(0,_lodash.get)(firstSeries,"timeRange");var formatTicks=formatTicksFor(firstSeries);return _react.default.createElement(_timeseries_visualization.TimeseriesVisualization,{series:dataset,timeRange:timeRange,tickFormatter:formatTicks,onBrush:onBrush})}},1091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"default",{enumerable:true,get:function get(){return _jquery_flot.default}});var _jquery_flot=_interopRequireDefault(__webpack_require__(3106));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports.default},1092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfoTooltip=InfoTooltip;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InfoTooltip(_ref){var series=_ref.series,bucketSize=_ref.bucketSize;var tableRows=series.map((function(item,index){return _react.default.createElement("tr",{key:"chart-tooltip-".concat(index),"data-debug-metric-agg":item.metric.metricAgg,"data-debug-metric-field":item.metric.field,"data-debug-metric-is-derivative":item.metric.isDerivative,"data-debug-metric-has-calculation":item.metric.hasCalculation},_react.default.createElement("td",{className:"monChart__tooltipLabel"},item.metric.label),_react.default.createElement("td",{className:"monChart__tooltipValue"},item.metric.description))}));return _react.default.createElement("table",null,_react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{className:"monChart__tooltipLabel"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.infoTooltip.intervalLabel",defaultMessage:"Interval"})),_react.default.createElement("td",{className:"monChart__tooltipValue"},bucketSize)),tableRows))}},1093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTitle=getTitle;var _lodash=__webpack_require__(3);function getTitle(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return(0,_lodash.chain)(series.map((function(s){return s.metric.title||s.metric.label}))).first().value()}},1094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUnits=getUnits;var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(164));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUnits(series){var units=(0,_lodash.get)(series,"[0].metric.units");if(units==="B"){var maxLastBytes=0;(0,_lodash.forEach)(series,(function(s){var lastDataPoint=(0,_lodash.last)(s.data)||[null,0];maxLastBytes=Math.max(maxLastBytes,lastDataPoint[1])}));units=(0,_numeral.default)(maxLastBytes).byteUnits()}return units}},1095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LicenseStatus",{enumerable:true,get:function get(){return _license_status.LicenseStatus}});Object.defineProperty(exports,"AddLicense",{enumerable:true,get:function get(){return _add_license.AddLicense}});Object.defineProperty(exports,"MANAGEMENT_BASE_PATH",{enumerable:true,get:function get(){return _constants.BASE_PATH}});var _license_status=__webpack_require__(3138);var _add_license=__webpack_require__(3139);var _constants=__webpack_require__(504)},1096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Logs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _chrome=_interopRequireDefault(__webpack_require__(140));var _eui=__webpack_require__(2);var _constants=__webpack_require__(19);var _formatting=__webpack_require__(185);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _reason=__webpack_require__(1097);var _capabilities=__webpack_require__(3153);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getFormattedDateTimeLocal=function getFormattedDateTimeLocal(timestamp){var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");return(0,_formatting.formatDateTimeLocal)(timestamp,timezone)};var columnTimestampTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.timestampTitle",{defaultMessage:"Timestamp"});var columnLevelTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.levelTitle",{defaultMessage:"Level"});var columnTypeTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.typeTitle",{defaultMessage:"Type"});var columnMessageTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.messageTitle",{defaultMessage:"Message"});var columnComponentTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.componentTitle",{defaultMessage:"Component"});var columnNodeTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.nodeTitle",{defaultMessage:"Node"});var columns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:function render(timestamp){return getFormattedDateTimeLocal(timestamp)}},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:function render(type){return(0,_lodash.capitalize)(type)}},{field:"message",name:columnMessageTitle,width:"55%"},{field:"component",name:columnComponentTitle,width:"18%"}];var clusterColumns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:function render(timestamp){return getFormattedDateTimeLocal(timestamp)}},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:function render(type){return(0,_lodash.capitalize)(type)}},{field:"message",name:columnMessageTitle,width:"45%"},{field:"component",name:columnComponentTitle,width:"15%"},{field:"node",name:columnNodeTitle,width:"13%"}];function getLogsUiLink(clusterUuid,nodeId,indexUuid){var base="".concat(_chrome.default.getBasePath(),"/app/logs/link-to/").concat(_constants.INFRA_SOURCE_ID,"/logs");var params=[];if(clusterUuid){params.push("elasticsearch.cluster.uuid:".concat(clusterUuid))}if(nodeId){params.push("elasticsearch.node.id:".concat(nodeId))}if(indexUuid){params.push("elasticsearch.index.name:".concat(indexUuid))}if(params.length===0){return base}return"".concat(base,"?filter=").concat(params.join(" and "))}var Logs=function(_PureComponent){_inherits(Logs,_PureComponent);function Logs(){_classCallCheck(this,Logs);return _possibleConstructorReturn(this,_getPrototypeOf(Logs).apply(this,arguments))}_createClass(Logs,[{key:"renderLogs",value:function renderLogs(){var _this$props=this.props,_this$props$logs=_this$props.logs,enabled=_this$props$logs.enabled,logs=_this$props$logs.logs,nodeId=_this$props.nodeId,indexUuid=_this$props.indexUuid;if(!enabled){return null}return _react.default.createElement(_eui.EuiBasicTable,{items:logs||[],columns:nodeId||indexUuid?columns:clusterColumns})}},{key:"renderNoLogs",value:function renderNoLogs(){var _this$props$logs2=this.props.logs,enabled=_this$props$logs2.enabled,reason=_this$props$logs2.reason;if(enabled){return null}return _react.default.createElement(_reason.Reason,{reason:reason})}},{key:"renderCallout",value:function renderCallout(){var uiCapabilities=_capabilities.capabilities.get();var show=uiCapabilities.logs&&uiCapabilities.logs.show;var _this$props2=this.props,enabled=_this$props2.logs.enabled,nodeId=_this$props2.nodeId,clusterUuid=_this$props2.clusterUuid,indexUuid=_this$props2.indexUuid;if(!enabled||!show){return null}return _react.default.createElement(_eui.EuiCallOut,{size:"m",title:_i18n.i18n.translate("xpack.monitoring.logs.listing.calloutTitle",{defaultMessage:"Want to see more log entries?"}),iconType:"logsApp"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.listing.linkText",defaultMessage:"Visit {link} to dive deeper.",values:{link:_react.default.createElement(_eui.EuiLink,{href:getLogsUiLink(clusterUuid,nodeId,indexUuid)},_i18n.i18n.translate("xpack.monitoring.logs.listing.calloutLinkText",{defaultMessage:"Logs"}))}})))}},{key:"render",value:function render(){var _this$props3=this.props,nodeId=_this$props3.nodeId,indexUuid=_this$props3.indexUuid,limit=_this$props3.logs.limit;var description;if(nodeId){description=_i18n.i18n.translate("xpack.monitoring.logs.listing.nodePageDescription",{defaultMessage:"Showing the most recent log entries for this node, up to {limit} total log entries.",values:{limit:limit}})}else if(indexUuid){description=_i18n.i18n.translate("xpack.monitoring.logs.listing.indexPageDescription",{defaultMessage:"Showing the most recent log entries for this index, up to {limit} total log entries.",values:{limit:limit}})}else{description=_i18n.i18n.translate("xpack.monitoring.logs.listing.clusterPageDescription",{defaultMessage:"Showing the most recent log entries for this cluster, up to {limit} total log entries.",values:{limit:limit}})}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_i18n.i18n.translate("xpack.monitoring.logs.listing.pageTitle",{defaultMessage:"Recent Log Entries"}))),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,description)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderLogs(),this.renderNoLogs(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderCallout())}}]);return Logs}(_react.PureComponent);exports.Logs=Logs},1097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Reason=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _monospace=__webpack_require__(1098);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Reason=function Reason(_ref){var reason=_ref.reason;var title=_i18n.i18n.translate("xpack.monitoring.logs.reason.defaultTitle",{defaultMessage:"No log data found"});var message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.defaultMessage",defaultMessage:"We did not find any log data and we are unable to diagnose why. {link}",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-installation.html")},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.defaultMessageLink",defaultMessage:"Please verify your setup is correct."}))}});if(false===reason.indexPatternExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternTitle",{defaultMessage:"No log data found"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexPatternMessage",defaultMessage:"Set up {link}, then configure your Elasticsearch output to your monitoring cluster.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-installation.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternLink",{defaultMessage:"Filebeat"}))}})}else if(false===reason.indexPatternInTimeRangeExists||false===reason.typeExists&&reason.typeExistsAtAnyTime){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternInTimePeriodTitle",{defaultMessage:"No logs for the selected time"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexPatternInTimePeriodMessage",defaultMessage:"Use the time filter to adjust your timeframe."})}else if(false===reason.typeExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noTypeTitle",{defaultMessage:"No logs for Elasticsearch"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noTypeMessage",defaultMessage:"Follow {link} to set up Elasticsearch.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-module-elasticsearch.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.noTypeLink",{defaultMessage:"these directions"}))}})}else if(false===reason.usingStructuredLogs){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.notUsingStructuredLogsTitle",{defaultMessage:"No structured logs found"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.notUsingStructuredLogsMessage",defaultMessage:"Check if the {varPaths} setting {link}.",values:{varPaths:_react.default.createElement(_monospace.Monospace,null,"var.paths"),link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-module-elasticsearch.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.notUsingStructuredLogsLink",{defaultMessage:"points to JSON logs"}))}})}else if(false===reason.clusterExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noClusterTitle",{defaultMessage:"No logs for this cluster"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noClusterMessage",defaultMessage:"Check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-module-elasticsearch.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.noClusterLink",{defaultMessage:"setup"}))}})}else if(false===reason.nodeExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noNodeTitle",{defaultMessage:"No logs for this Elasticsearch node"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noNodeMessage",defaultMessage:"Check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-module-elasticsearch.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.noNodeLink",{defaultMessage:"setup"}))}})}else if(false===reason.indexExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexTitle",{defaultMessage:"No logs for this index"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexMessage",defaultMessage:"We found logs, but none for this index. If this problem continues, check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/filebeat/").concat(_documentation_links.DOC_LINK_VERSION,"/filebeat-module-elasticsearch.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexLink",{defaultMessage:"setup"}))}})}else if(false===reason.correctIndexName){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.correctIndexNameTitle",{defaultMessage:"Corrupted filebeat index"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.correctIndexNameMessage",defaultMessage:"There is an issue reading from your filebeat indices.  {link}.",values:{link:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(_documentation_links.DOC_LINK_VERSION,"/monitor-troubleshooting.html")},_i18n.i18n.translate("xpack.monitoring.logs.reason.correctIndexNameLink",{defaultMessage:"Click here for more information"}))}})}return _react.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react.default.createElement("p",null,message))};exports.Reason=Reason},1098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Monospace=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Monospace=function Monospace(_ref){var children=_ref.children;return _react.default.createElement("span",{style:{fontFamily:"monospace"}},children)};exports.Monospace=Monospace},1099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NodeStatusIcon",{enumerable:true,get:function get(){return _status_icon.NodeStatusIcon}});var _status_icon=__webpack_require__(3156)},11:function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},1100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SettingsChecker=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var SettingsChecker=function(){function SettingsChecker($http){_classCallCheck(this,SettingsChecker);this.$http=$http;this.message=null;this.api=null;this.next=null}_createClass(SettingsChecker,[{key:"setApi",value:function setApi(api){this.api=api}},{key:"setMessage",value:function setMessage(message){this.message=message}},{key:"getApi",value:function getApi(){return this.api}},{key:"getMessage",value:function getMessage(){return this.message}},{key:"hasNext",value:function hasNext(){return this.next!==null}},{key:"setNext",value:function setNext(checker){this.next=checker}},{key:"getNext",value:function getNext(){return this.next}},{key:"executeCheck",value:function(){var _executeCheck=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref,data,found,reason,_data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.$http.get(this.getApi());case 3:_ref=_context.sent;data=_ref.data;found=data.found,reason=data.reason;return _context.abrupt("return",{found:found,reason:reason});case 9:_context.prev=9;_context.t0=_context["catch"](0);_data=_context.t0.data;return _context.abrupt("return",{error:true,found:false,errorReason:_data});case 13:case"end":return _context.stop()}}}),_callee,this,[[0,9]])})));function executeCheck(){return _executeCheck.apply(this,arguments)}return executeCheck}()}]);return SettingsChecker}();exports.SettingsChecker=SettingsChecker},1101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedAlert=FormattedAlert;var _momentTimezone=_interopRequireDefault(__webpack_require__(39));__webpack_require__(663);var _react=_interopRequireDefault(__webpack_require__(0));var _format_timestamp_to_duration=__webpack_require__(430);var _constants=__webpack_require__(19);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormattedAlert(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,message=_ref.message,metadata=_ref.metadata,changeUrl=_ref.changeUrl;var formattedAlert=function(){if(metadata&&metadata.link){if(metadata.link.startsWith("https")){return _react.default.createElement(_eui.EuiLink,{href:metadata.link,target:"_blank","data-test-subj":"alertAction"},message)}var goToLink=function goToLink(){return changeUrl("/".concat(metadata.link))};return _react.default.createElement(_eui.EuiLink,{onClick:goToLink,"data-test-subj":"alertAction"},message)}return message}();if(metadata&&metadata.time){prefix=prefix.replace(/{{#relativeTime}}metadata\.([\w\.]+){{\/relativeTime}}/,(function(_match,field){return(0,_format_timestamp_to_duration.formatTimestampToDuration)(metadata[field],_constants.CALCULATE_DURATION_UNTIL)}));prefix=prefix.replace(/{{#absoluteTime}}metadata\.([\w\.]+){{\/absoluteTime}}/,(function(_match,field){return _momentTimezone.default.tz(metadata[field],_momentTimezone.default.tz.guess()).format("LLL z")}))}var formattedPrefix=prefix?"".concat(prefix," "):null;var formattedSuffix=suffix?" ".concat(suffix):null;return _react.default.createElement("span",{"data-test-subj":"alertText"},formattedPrefix,formattedAlert,formattedSuffix)}},1102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseEuiTableController=void 0;var _=__webpack_require__(101);var _table=__webpack_require__(131);var _constants=__webpack_require__(19);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PAGE_SIZE_OPTIONS=[5,10,20,50];var MonitoringViewBaseEuiTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseEuiTableController,_MonitoringViewBaseCo);function MonitoringViewBaseEuiTableController(args){var _this;_classCallCheck(this,MonitoringViewBaseEuiTableController);_this=_possibleConstructorReturn(this,_getPrototypeOf(MonitoringViewBaseEuiTableController).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.euiTableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.euiTableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),page=_getLocalStorageData.page,sort=_getLocalStorageData.sort;_this.pagination={pageSize:20,initialPageSize:20,pageIndex:0,initialPageIndex:0,pageSizeOptions:PAGE_SIZE_OPTIONS};if(page){if(!PAGE_SIZE_OPTIONS.includes(page.size)){page.size=20}_this.setPagination(page)}_this.setSorting(sort);_this.onTableChange=function(_ref){var page=_ref.page,sort=_ref.sort;setLocalStorageData(storage,{page:page,sort:{sort:sort}})};_this.updateData();return _this}_createClass(MonitoringViewBaseEuiTableController,[{key:"setPagination",value:function setPagination(page){this.pagination={pageSize:page.size,pageIndex:page.index,pageSizeOptions:PAGE_SIZE_OPTIONS}}},{key:"setSorting",value:function setSorting(sort){this.sorting=sort||{sort:{}};if(!this.sorting.sort.field){this.sorting.sort.field="name"}if(!this.sorting.sort.direction){this.sorting.sort.direction=_constants.EUI_SORT_ASCENDING}}},{key:"setQueryText",value:function setQueryText(queryText){this.queryText=queryText}},{key:"getPaginationRouteOptions",value:function getPaginationRouteOptions(){if(!this.pagination||!this.sorting){return{}}return _objectSpread({pagination:{size:this.pagination.pageSize,index:this.pagination.pageIndex}},this.sorting,{queryText:this.queryText})}},{key:"getPaginationTableProps",value:function getPaginationTableProps(pagination){var _this2=this;return{sorting:this.sorting,pagination:pagination,onTableChange:this.onTableChange,fetchMoreData:function(){var _fetchMoreData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var page,sort,queryText;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:page=_ref2.page,sort=_ref2.sort,queryText=_ref2.queryText;_this2.setPagination(page);_this2.setSorting(sort);_this2.setQueryText(queryText);_context.next=6;return _this2.updateData();case 6:case"end":return _context.stop()}}}),_callee)})));function fetchMoreData(_x){return _fetchMoreData.apply(this,arguments)}return fetchMoreData}()}}}]);return MonitoringViewBaseEuiTableController}(_.MonitoringViewBaseController);exports.MonitoringViewBaseEuiTableController=MonitoringViewBaseEuiTableController},1103:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsConfiguration=exports.NEW_ACTION_ID=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _kfetch=__webpack_require__(174);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);var _form_validation=__webpack_require__(1104);var _step=__webpack_require__(3202);var _step2=__webpack_require__(3204);var _step3=__webpack_require__(3205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NEW_ACTION_ID="__new__";exports.NEW_ACTION_ID=NEW_ACTION_ID;var AlertsConfiguration=function AlertsConfiguration(props){var onDone=props.onDone;var _React$useState=_react.default.useState([]),_React$useState2=_slicedToArray(_React$useState,2),emailActions=_React$useState2[0],setEmailActions=_React$useState2[1];var _React$useState3=_react.default.useState(""),_React$useState4=_slicedToArray(_React$useState3,2),selectedEmailActionId=_React$useState4[0],setSelectedEmailActionId=_React$useState4[1];var _React$useState5=_react.default.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),editAction=_React$useState6[0],setEditAction=_React$useState6[1];var _React$useState7=_react.default.useState(props.emailAddress),_React$useState8=_slicedToArray(_React$useState7,2),emailAddress=_React$useState8[0],setEmailAddress=_React$useState8[1];var _React$useState9=_react.default.useState({email:null}),_React$useState10=_slicedToArray(_React$useState9,2),formErrors=_React$useState10[0],setFormErrors=_React$useState10[1];var _React$useState11=_react.default.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),showFormErrors=_React$useState12[0],setShowFormErrors=_React$useState12[1];var _React$useState13=_react.default.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),isSaving=_React$useState14[0],setIsSaving=_React$useState14[1];var _React$useState15=_react.default.useState(""),_React$useState16=_slicedToArray(_React$useState15,2),saveError=_React$useState16[0],setSaveError=_React$useState16[1];_react.default.useEffect((function(){function fetchData(){return _fetchData.apply(this,arguments)}function _fetchData(){_fetchData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchEmailActions();case 2:case"end":return _context.stop()}}}),_callee)})));return _fetchData.apply(this,arguments)}fetchData()}),[]);_react.default.useEffect((function(){setFormErrors((0,_form_validation.getMissingFieldErrors)({email:emailAddress},{email:""}))}),[emailAddress]);function fetchEmailActions(){return _fetchEmailActions.apply(this,arguments)}function _fetchEmailActions(){_fetchEmailActions=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var kibanaActions,actions;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:"/api/action/_find"});case 2:kibanaActions=_context3.sent;actions=kibanaActions.data.filter((function(action){return action.actionTypeId===_constants.ALERT_ACTION_TYPE_EMAIL}));if(actions.length>0){setSelectedEmailActionId(actions[0].id)}else{setSelectedEmailActionId(NEW_ACTION_ID)}setEmailActions(actions);case 6:case"end":return _context3.stop()}}}),_callee3)})));return _fetchEmailActions.apply(this,arguments)}function save(){return _save.apply(this,arguments)}function _save(){_save=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _err$body;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(emailAddress.length===0)){_context4.next=3;break}setShowFormErrors(true);return _context4.abrupt("return");case 3:setIsSaving(true);setShowFormErrors(false);_context4.prev=5;_context4.next=8;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/monitoring/v1/alerts",body:JSON.stringify({selectedEmailActionId:selectedEmailActionId,emailAddress:emailAddress})});case 8:_context4.next=15;break;case 10:_context4.prev=10;_context4.t0=_context4["catch"](5);setIsSaving(false);setSaveError((_context4.t0===null||_context4.t0===void 0?void 0:(_err$body=_context4.t0.body)===null||_err$body===void 0?void 0:_err$body.message)||_i18n.i18n.translate("xpack.monitoring.alerts.configuration.unknownError",{defaultMessage:"Something went wrong. Please consult the server logs."}));return _context4.abrupt("return");case 15:onDone();case 16:case"end":return _context4.stop()}}}),_callee4,null,[[5,10]])})));return _save.apply(this,arguments)}function isStep2Disabled(){return isStep2AndStep3Disabled()}function isStep3Disabled(){return isStep2AndStep3Disabled()||!emailAddress||emailAddress.length===0}function isStep2AndStep3Disabled(){return!!editAction||!selectedEmailActionId||selectedEmailActionId===NEW_ACTION_ID}function getStep2Status(){var isDisabled=isStep2AndStep3Disabled();if(isDisabled){return"disabled"}if(emailAddress&&emailAddress.length){return"complete"}return"incomplete"}function getStep1Status(){if(editAction){return"incomplete"}return selectedEmailActionId?"complete":"incomplete"}var steps=[{title:emailActions.length?_i18n.i18n.translate("xpack.monitoring.alerts.configuration.selectEmailAction",{defaultMessage:"Select email action"}):_i18n.i18n.translate("xpack.monitoring.alerts.configuration.createEmailAction",{defaultMessage:"Create email action"}),children:_react.default.createElement(_step.Step1,{onActionDone:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchEmailActions();case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)}))),emailActions:emailActions,selectedEmailActionId:selectedEmailActionId,setSelectedEmailActionId:setSelectedEmailActionId,emailAddress:emailAddress,editAction:editAction,setEditAction:setEditAction}),status:getStep1Status()},{title:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.setEmailAddress",{defaultMessage:"Set the email to receive alerts"}),status:getStep2Status(),children:_react.default.createElement(_step2.Step2,{emailAddress:emailAddress,setEmailAddress:setEmailAddress,showFormErrors:showFormErrors,formErrors:formErrors,isDisabled:isStep2Disabled()})},{title:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.confirm",{defaultMessage:"Confirm and save"}),status:getStep2Status(),children:_react.default.createElement(_step3.Step3,{isSaving:isSaving,save:save,isDisabled:isStep3Disabled(),error:saveError})}];return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiSteps,{steps:steps}))};exports.AlertsConfiguration=AlertsConfiguration},1104:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRequiredFieldError=getRequiredFieldError;exports.getMissingFieldErrors=getMissingFieldErrors;exports.hasErrors=hasErrors;var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);function getRequiredFieldError(field){return _i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.requiredFieldError",{defaultMessage:"{field} is a required field.",values:{field:(0,_lodash.capitalize)(field)}})}function getMissingFieldErrors(data,defaultData){var errors={};for(var key in data){if(!data.hasOwnProperty(key)){continue}if((0,_lodash.isString)(defaultData[key])){if(!data[key]||data[key].length===0){errors[key]=getRequiredFieldError(key)}}else if((0,_lodash.isNumber)(defaultData[key])){if(isNaN(data[key])||data[key]===0){errors[key]=getRequiredFieldError(key)}}}return errors}function hasErrors(errors){for(var error in errors){if(error.length){return true}}return false}},1105:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_BEAT_FOR_URLS=exports.UNDETECTED_BEAT_TYPE=void 0;var UNDETECTED_BEAT_TYPE="beat";exports.UNDETECTED_BEAT_TYPE=UNDETECTED_BEAT_TYPE;var DEFAULT_BEAT_FOR_URLS="metricbeat";exports.DEFAULT_BEAT_FOR_URLS=DEFAULT_BEAT_FOR_URLS},1106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INSTRUCTION_STEP_DISABLE_INTERNAL=exports.INSTRUCTION_STEP_ENABLE_METRICBEAT=exports.INSTRUCTION_STEP_SET_MONITORING_URL=void 0;var INSTRUCTION_STEP_SET_MONITORING_URL="setMonitoringUrl";exports.INSTRUCTION_STEP_SET_MONITORING_URL=INSTRUCTION_STEP_SET_MONITORING_URL;var INSTRUCTION_STEP_ENABLE_METRICBEAT="enableMetricbeat";exports.INSTRUCTION_STEP_ENABLE_METRICBEAT=INSTRUCTION_STEP_ENABLE_METRICBEAT;var INSTRUCTION_STEP_DISABLE_INTERNAL="disableInternal";exports.INSTRUCTION_STEP_DISABLE_INTERNAL=INSTRUCTION_STEP_DISABLE_INTERNAL},1107:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.labels=void 0;var _i18n=__webpack_require__(1);var labels={index:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.nodesLabel",{defaultMessage:"Nodes"})}],indexWithUnassigned:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedLabel",{defaultMessage:"Unassigned"})},{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedNodesLabel",{defaultMessage:"Nodes"})}],node:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.indicesLabel",{defaultMessage:"Indices"}),showToggleSystemIndicesComponent:true}]};exports.labels=labels},1108:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decorateShards=decorateShards;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);function decorateShards(shards,nodes){function getTooltipMessage(shard){var isRelocating=function isRelocating(node){return(0,_lodash.includes)(node.node_ids,shard.relocating_node)};var nodeName=(0,_lodash.get)((0,_lodash.find)(nodes,(function(n){return isRelocating(n)})),"name");if(nodeName){if(shard.state==="INITIALIZING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingFromTextMessage",{defaultMessage:"Relocating from {nodeName}",values:{nodeName:nodeName}})}if(shard.state==="RELOCATING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingToTextMessage",{defaultMessage:"Relocating to {nodeName}",values:{nodeName:nodeName}})}}return(0,_lodash.capitalize)(shard.state.toLowerCase())}return shards.map((function(shard){var node=nodes[shard.node];shard.nodeName=node&&node.name||null;shard.type="shard";shard.tooltip_message=getTooltipMessage(shard);return shard}))}},1109:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexDetailStatus=IndexDetailStatus;var _react=_interopRequireWildcard(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(577);var _format_number=__webpack_require__(49);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function IndexDetailStatus(_ref){var stats=_ref.stats;var dataSize=stats.dataSize,documentCount=stats.documents,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,status=stats.status;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indexDetailStatus.totalTitle",{defaultMessage:"Total"}),value:(0,_format_number.formatMetric)(dataSize.total,"0.0 b"),"data-test-subj":"dataSize"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indexDetailStatus.primariesTitle",{defaultMessage:"Primaries"}),value:(0,_format_number.formatMetric)(dataSize.primaries,"0.0 b"),"data-test-subj":"dataSizePrimaries"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indexDetailStatus.documentsTitle",{defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"0.[0]a"),"data-test-subj":"documentCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indexDetailStatus.totalShardsTitle",{defaultMessage:"Total shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"totalShards"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indexDetailStatus.unassignedShardsTitle",{defaultMessage:"Unassigned shards"}),value:(0,_format_number.formatMetric)(unassignedShards,"int_commas"),"data-test-subj":"unassignedShards"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indexDetailStatus.iconStatusLabel",defaultMessage:"Health: {elasticsearchStatusIcon}",values:{elasticsearchStatusIcon:_react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchIndexDetailStatus"})}},1110:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardAllocation=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _cluster_view=__webpack_require__(3236);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShardAllocation=function ShardAllocation(_ref){var scope=_ref.scope,kbnUrl=_ref.kbnUrl,type=_ref.type,shardStats=_ref.shardStats;var types=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.primaryLabel",{defaultMessage:"Primary"}),color:"primary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.replicaLabel",{defaultMessage:"Replica"}),color:"secondary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.relocatingLabel",{defaultMessage:"Relocating"}),color:"accent"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.initializingLabel",{defaultMessage:"Initializing"}),color:"default"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedPrimaryLabel",{defaultMessage:"Unassigned Primary"}),color:"danger"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedReplicaLabel",{defaultMessage:"Unassigned Replica"}),color:"warning"}];return _react.default.createElement("div",{className:"monCluster"},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.shardLegendTitle",defaultMessage:"Shard Legend"}))),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"s"},types.map((function(type){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:type.label},_react.default.createElement(_eui.EuiBadge,{color:type.color},type.label))}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_cluster_view.ClusterView,{scope:scope,shardStats:shardStats,kbnUrl:kbnUrl,showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:scope.toggleShowSystemIndices,type:type}))};exports.ShardAllocation=ShardAllocation},1111:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Shard=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _calculate_class=__webpack_require__(1112);var _vents=__webpack_require__(3240);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getColor(classes){var classList=classes.split(" ");if(classList.includes("emergency")){return"danger"}if(classList.includes("unassigned")){if(classList.includes("replica")){return"warning"}return"danger"}if(classList.includes("relocating")){return"accent"}if(classList.includes("initializing")){return"default"}if(classList.includes("primary")){return"primary"}if(classList.includes("replica")){return"secondary"}}var Shard=function(_React$Component){_inherits(Shard,_React$Component);function Shard(){var _getPrototypeOf2;var _this;_classCallCheck(this,Shard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Shard)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{tooltipVisible:false});_defineProperty(_assertThisInitialized(_this),"generateKey",(function(relocating){var shard=_this.props.shard;var shardType=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var node=relocating?shard.relocating_node:shard.node;return shard.index+"."+node+"."+shardType+"."+shard.shard+additionId}));_defineProperty(_assertThisInitialized(_this),"toggle",(function(event){if(_this.props.shard.tooltip_message){var action=event.type==="mouseenter"?"show":"hide";var key=_this.generateKey(true);_this.setState({tooltipVisible:action==="show"});_vents.vents.trigger(key,action)}}));return _this}_createClass(Shard,[{key:"componentDidMount",value:function componentDidMount(){var key;var shard=this.props.shard;var self=this;if(shard.tooltip_message){key=this.generateKey();_vents.vents.on(key,(function(action){self.setState({tooltipVisible:action==="show"})}))}}},{key:"componentWillUnmount",value:function componentWillUnmount(){var key;var shard=this.props.shard;if(shard.tooltip_message){key=this.generateKey();_vents.vents.clear(key)}}},{key:"render",value:function render(){var shard=this.props.shard;var classes=(0,_calculate_class.calculateClass)(shard);var color=getColor(classes);var classification=classes+" "+shard.shard;var shardUi=_react.default.createElement(_eui.EuiBadge,{color:color},shard.shard);var tooltipContent=shard.tooltip_message||_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"});if(this.state.tooltipVisible){shardUi=_react.default.createElement(_eui.EuiToolTip,{content:tooltipContent,position:"bottom","data-test-subj":"shardTooltip"},_react.default.createElement("p",null,shardUi))}return _react.default.createElement("div",{onMouseEnter:this.toggle,onMouseLeave:this.toggle,className:classes,"data-shard-tooltip":tooltipContent,"data-shard-classification":classification,"data-test-subj":"shardIcon"},shardUi)}}]);return Shard}(_react.default.Component);exports.Shard=Shard;_defineProperty(Shard,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"}))},1112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.calculateClass=calculateClass;function calculateClass(item,initial){var classes=[item.type];if(initial){classes.push(initial)}if(item.type==="shard"){classes.push(item.primary&&"primary"||"replica");classes.push(item.state.toLowerCase());if(item.state==="UNASSIGNED"&&item.primary){classes.push("emergency")}}if(item.master){classes.push("master")}return classes.join(" ")}},1113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Logs",{enumerable:true,get:function get(){return _logs.Logs}});var _logs=__webpack_require__(1096)},1114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeDetailStatus=NodeDetailStatus;var _react=_interopRequireWildcard(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _node=__webpack_require__(1099);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function NodeDetailStatus(_ref){var stats=_ref.stats;var transportAddress=stats.transport_address,usedHeap=stats.usedHeap,freeSpace=stats.freeSpace,totalSpace=stats.totalSpace,documents=stats.documents,dataSize=stats.dataSize,indexCount=stats.indexCount,totalShards=stats.totalShards,nodeTypeLabel=stats.nodeTypeLabel,status=stats.status,isOnline=stats.isOnline;var percentSpaceUsed=freeSpace/totalSpace*100;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.transportAddress",{defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.jvmHeapLabel",{defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}}),value:(0,_format_number.formatMetric)(usedHeap,"0,0.[00]","%",{prependSpace:false}),"data-test-subj":"jvmHeap"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.freeDiskSpaceLabel",{defaultMessage:"Free Disk Space"}),value:(0,_format_number.formatMetric)(freeSpace,"0.0 b")+" ("+(0,_format_number.formatMetric)(percentSpaceUsed,"0,0.[00]","%",{prependSpace:false})+")","data-test-subj":"freeDiskSpace"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.documentsLabel",{defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documents,"0.[0]a"),"data-test-subj":"documentCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.dataLabel",{defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"0.0 b"),"data-test-subj":"dataSize"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.indicesLabel",{defaultMessage:"Indices"}),value:(0,_format_number.formatMetric)(indexCount,"int_commas"),"data-test-subj":"indicesCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.shardsLabel",{defaultMessage:"Shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"shardsCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodeDetailStatus.typeLabel",{defaultMessage:"Type"}),value:nodeTypeLabel,"data-test-subj":"nodeType"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status,isOnline=_ref2.isOnline;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_node.NodeStatusIcon,{status:status,isOnline:isOnline}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,isOnline:isOnline,IconComponent:IconComponent,"data-test-subj":"elasticsearchNodeDetailStatus"})}},1115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=ClusterStatus;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(579);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatus(_ref){var stats=_ref.stats;var connections=stats.concurrent_connections,instances=stats.count,memLimit=stats.memory_limit,memSize=stats.memory_size,requests=stats.requests_total,maxResponseTime=stats.response_time_max,status=stats.status;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.kibana.clusterStatus.instancesLabel",{defaultMessage:"Instances"}),value:instances,"data-test-subj":"instances"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.clusterStatus.memoryLabel",{defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(memSize,"byte")+" / "+(0,_format_number.formatMetric)(memLimit,"byte"),"data-test-subj":"memory"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.clusterStatus.requestsLabel",{defaultMessage:"Requests"}),value:requests,"data-test-subj":"requests"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.clusterStatus.connectionsLabel",{defaultMessage:"Connections"}),value:connections,"data-test-subj":"connections"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.clusterStatus.maxResponseTimeLabel",{defaultMessage:"Max. Response Time"}),value:(0,_format_number.formatMetric)(maxResponseTime,"0","ms"),"data-test-subj":"maxResponseTime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaClusterStatus"})}},1116:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isPipelineMonitoringSupportedInVersion=isPipelineMonitoringSupportedInVersion;var _semver=_interopRequireDefault(__webpack_require__(3707));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isPipelineMonitoringSupportedInVersion(logstashVersion){var major=_semver.default.major(logstashVersion);return major>=_constants.LOGSTASH.MAJOR_VER_REQD_FOR_PIPELINES}},1117:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _format_number=__webpack_require__(49);var _cluster_status=__webpack_require__(580);var _sparkline=__webpack_require__(1118);var _table=__webpack_require__(131);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PipelineListing=function(_Component){_inherits(PipelineListing,_Component);function PipelineListing(){_classCallCheck(this,PipelineListing);return _possibleConstructorReturn(this,_getPrototypeOf(PipelineListing).apply(this,arguments))}_createClass(PipelineListing,[{key:"tooltipXValueFormatter",value:function tooltipXValueFormatter(xValue,dateFormat){return(0,_moment.default)(xValue).format(dateFormat)}},{key:"tooltipYValueFormatter",value:function tooltipYValueFormatter(yValue,format,units){return(0,_format_number.formatMetric)(yValue,format,units)}},{key:"getColumns",value:function getColumns(){var _this=this;var _this$props=this.props,onBrush=_this$props.onBrush,dateFormat=_this$props.dateFormat;var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;return[{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.idTitle",{defaultMessage:"ID"}),field:"id",sortable:true,render:function render(id){return _react.default.createElement(_eui.EuiLink,{"data-test-subj":"id",onClick:function onClick(){scope.$evalAsync((function(){kbnUrl.changePath("/logstash/pipelines/".concat(id))}))}},id)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.eventsEmittedRateTitle",{defaultMessage:"Events Emitted Rate"}),field:"latestThroughput",sortable:true,render:function render(value,pipeline){var throughput=pipeline.metrics.throughput;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_sparkline.Sparkline,{series:throughput.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this.tooltipYValueFormatter,throughput.metric.format,throughput.metric.units)},options:{xaxis:throughput.timeRange}})),_react.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"eventsEmittedRate"},(0,_format_number.formatMetric)(value,"0.[0]a",throughput.metric.units)))}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.numberOfNodesTitle",{defaultMessage:"Number of Nodes"}),field:"latestNodesCount",sortable:true,render:function render(value,pipeline){var nodesCount=pipeline.metrics.nodesCount;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_sparkline.Sparkline,{series:nodesCount.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this.tooltipYValueFormatter,nodesCount.metric.format,nodesCount.metric.units)},options:{xaxis:nodesCount.timeRange}})),_react.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"nodeCount"},(0,_format_number.formatMetric)(value,"0a")))}}]}},{key:"renderStats",value:function renderStats(){if(this.props.statusComponent){var _Component2=this.props.statusComponent;return _react.default.createElement(_Component2,{stats:this.props.stats})}return _react.default.createElement(_cluster_status.ClusterStatus,{stats:this.props.stats})}},{key:"render",value:function render(){var _this$props2=this.props,data=_this$props2.data,sorting=_this$props2.sorting,pagination=_this$props2.pagination,onTableChange=_this$props2.onTableChange,fetchMoreData=_this$props2.fetchMoreData,upgradeMessage=_this$props2.upgradeMessage,className=_this$props2.className;var sortingOptions=sorting||{field:"id",direction:"asc"};if(sortingOptions.field==="name"){sortingOptions.field="id"}var columns=this.getColumns();return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,this.renderStats()),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringSSPTable,{className:className||"logstashNodesTable",rows:data,columns:columns,sorting:sortingOptions,message:upgradeMessage,pagination:pagination,fetchMoreData:fetchMoreData,search:{box:{placeholder:_i18n.i18n.translate("xpack.monitoring.logstash.filterPipelinesPlaceholder",{defaultMessage:"Filter Pipelines"})}},onTableChange:onTableChange}))))}}]);return PipelineListing}(_react.Component);exports.PipelineListing=PipelineListing},1118:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sparkline=void 0;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _sparkline_flot_chart=__webpack_require__(3298);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Sparkline=function(_React$Component){_inherits(Sparkline,_React$Component);function Sparkline(props){var _this;_classCallCheck(this,Sparkline);_this=_possibleConstructorReturn(this,_getPrototypeOf(Sparkline).call(this,props));_this.makeSparklineFlotChart=_this.makeSparklineFlotChart.bind(_assertThisInitialized(_this));_this.onHover=_this.onHover.bind(_assertThisInitialized(_this));_this.renderTooltip=_this.renderTooltip.bind(_assertThisInitialized(_this));_this.handleSparklineRef=_this.handleSparklineRef.bind(_assertThisInitialized(_this));_this.state={tooltip:undefined};return _this}_createClass(Sparkline,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(_ref){var series=_ref.series,options=_ref.options;if(!(0,_lodash.isEqual)(options,this.props.options)){this.sparklineFlotChart.shutdown();this.makeSparklineFlotChart(options)}if(!(0,_lodash.isEqual)(series,this.props.series)){this.sparklineFlotChart.update(series)}}},{key:"makeSparklineFlotChart",value:function makeSparklineFlotChart(overrideFlotOptions){this.sparklineFlotChart=new _sparkline_flot_chart.SparklineFlotChart(this.chartElem,this.props.series,this.props.onBrush,this.onHover,overrideFlotOptions)}},{key:"onHover",value:function onHover(dataPoint){this.setState({tooltip:dataPoint})}},{key:"renderTooltip",value:function renderTooltip(){if(this.props.tooltip.enabled===false){return}if(!this.state.tooltip){return}var tooltipHeightInPx=36;var tooltipWidthInPx=220;var caretWidthInPx=6;var marginBetweenPointAndCaretInPx=10;var styles={tooltipContainer:{top:this.state.tooltip.yPosition-tooltipHeightInPx/2},tooltip:{height:tooltipHeightInPx,width:tooltipWidthInPx},leftCaret:{width:caretWidthInPx},rightCaret:{width:caretWidthInPx}};var plotMiddleX=this.state.tooltip.plotLeft+this.state.tooltip.plotWidth/2;var tooltipContainerWidthInPx=tooltipWidthInPx+caretWidthInPx;if(this.state.tooltip.xPosition>plotMiddleX){styles.rightCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition-tooltipContainerWidthInPx-marginBetweenPointAndCaretInPx}else{styles.leftCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition+marginBetweenPointAndCaretInPx}return _react.default.createElement("div",{className:"monSparklineTooltip__container",style:styles.tooltipContainer},_react.default.createElement("i",{className:"fa fa-caret-left monSparklineTooltip__caret",style:styles.leftCaret}),_react.default.createElement("div",{className:"monSparklineTooltip",style:styles.tooltip},_react.default.createElement("div",{className:"monSparklineTooltip__yValue"},this.props.tooltip.yValueFormatter(this.state.tooltip.yValue)),_react.default.createElement("div",{className:"monSparklineTooltip__xValue"},this.props.tooltip.xValueFormatter(this.state.tooltip.xValue))),_react.default.createElement("i",{className:"fa fa-caret-right monSparklineTooltip__caret",style:styles.rightCaret}))}},{key:"handleSparklineRef",value:function handleSparklineRef(elem){this.chartElem=elem;if(this.chartElem){this.makeSparklineFlotChart(this.props.options)}else if(this.sparklineFlotChart){this.sparklineFlotChart.shutdown()}}},{key:"render",value:function render(){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monSparkline",ref:this.handleSparklineRef}),this.renderTooltip())}}]);return Sparkline}(_react.default.Component);exports.Sparkline=Sparkline;Sparkline.propTypes={series:_propTypes.default.arrayOf(_propTypes.default.arrayOf(_propTypes.default.number)).isRequired,tooltip:_propTypes.default.shape({enabled:_propTypes.default.bool,xValueFormatter:_propTypes.default.func,yValueFormatter:_propTypes.default.func}),options:_propTypes.default.shape({xaxis:_propTypes.default.shape({min:_propTypes.default.number,max:_propTypes.default.number})})}},1119:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vertexFactory=vertexFactory;var _plugin_vertex=__webpack_require__(1120);var _if_vertex=__webpack_require__(3309);var _queue_vertex=__webpack_require__(583);function vertexFactory(graph,vertexJson){var type=vertexJson.type;switch(type){case"plugin":return new _plugin_vertex.PluginVertex(graph,vertexJson);case"if":return new _if_vertex.IfVertex(graph,vertexJson);case"queue":return new _queue_vertex.QueueVertex(graph,vertexJson);default:throw new Error("Unknown vertex type ".concat(type,"! This shouldn't happen!"))}}},1120:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginVertex=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=void 0;var _lodash=__webpack_require__(3);var _vertex=__webpack_require__(582);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=2;exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT;var SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=2;exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN;var PluginVertex=function(_Vertex){_inherits(PluginVertex,_Vertex);function PluginVertex(){_classCallCheck(this,PluginVertex);return _possibleConstructorReturn(this,_getPrototypeOf(PluginVertex).apply(this,arguments))}_createClass(PluginVertex,[{key:"isTimeConsuming",value:function isTimeConsuming(){var expectedPercentOfTotalProcessorTime=1/this.graph.processorVertices.length;var threshold=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT*expectedPercentOfTotalProcessorTime;return this.percentOfTotalProcessorTime>threshold}},{key:"isSlow",value:function isSlow(){var totalProcessorVertices=this.graph.processorVertices.length;if(totalProcessorVertices===0){return 0}var meanmillisPerEvent=this.graph.processorVertices.reduce((function(acc,v){return acc+v.latestMillisPerEvent||0}),0)/totalProcessorVertices;var variance=this.graph.processorVertices.reduce((function(acc,v){var difference=(v.latestMillisPerEvent||0)-meanmillisPerEvent;var square=difference*difference;return acc+square}),0)/totalProcessorVertices;var stdDeviation=Math.sqrt(variance);var slowness=(this.latestMillisPerEvent-meanmillisPerEvent)/stdDeviation;return slowness>SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN}},{key:"typeString",get:function get(){return"plugin"}},{key:"name",get:function get(){return this.json.config_name}},{key:"title",get:function get(){return this.name}},{key:"pluginType",get:function get(){return this.json.plugin_type}},{key:"isInput",get:function get(){return this.pluginType==="input"}},{key:"isFilter",get:function get(){return this.pluginType==="filter"}},{key:"isOutput",get:function get(){return this.pluginType==="output"}},{key:"isProcessor",get:function get(){return this.isFilter||this.isOutput}},{key:"latestMillisPerEvent",get:function get(){return(0,_lodash.get)(this.stats,"millis_per_event")}},{key:"percentOfTotalProcessorTime",get:function get(){return(0,_lodash.get)(this.stats,"percent_of_total_processor_duration")}},{key:"eventsPerMillisecond",get:function get(){return this.isInput?this.stats.events_out_per_millisecond:this.stats.events_in_per_millisecond}},{key:"eventsPerSecond",get:function get(){if(!this.eventsPerMillisecond.hasOwnProperty("data")){return this.eventsPerMillisecond*1e3}var eps=_objectSpread({},this.eventsPerMillisecond);eps.data=this.eventsPerMillisecond.data.map((function(_ref){var _ref2=_slicedToArray(_ref,2),timestamp=_ref2[0],value=_ref2[1];return[timestamp,value*1e3]}));return eps}},{key:"latestEventsPerSecond",get:function get(){if(!this.eventsPerSecond.hasOwnProperty("data")){return this.eventsPerSecond}var numTimeseriesBuckets=this.eventsPerSecond.data.length;return this.eventsPerSecond.data[numTimeseriesBuckets-1][1]}},{key:"iconType",get:function get(){switch(this.pluginType){case"input":return"logstashInput";case"filter":return"logstashFilter";case"output":return"logstashOutput";default:throw new Error("Unknown plugin type ".concat(this.pluginType,"! This shouldn't happen!"))}}},{key:"next",get:function get(){var firstOutgoingEdge=this.outgoingEdges[0]||{};return firstOutgoingEdge.to}}]);return PluginVertex}(_vertex.Vertex);exports.PluginVertex=PluginVertex},1121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Edge=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Edge=function(){function Edge(graph,json){_classCallCheck(this,Edge);this.graph=graph;this.update(json)}_createClass(Edge,[{key:"update",value:function update(json){this.json=json}},{key:"id",get:function get(){return this.json.id}},{key:"from",get:function get(){return this.graph.verticesById[this.fromId]}},{key:"fromId",get:function get(){return this.json.from}},{key:"to",get:function get(){return this.graph.verticesById[this.toId]}},{key:"toId",get:function get(){return this.json.to}}]);return Edge}();exports.Edge=Edge},1122:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementListHeading=StatementListHeading;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementListHeading(_ref){var iconType=_ref.iconType,title=_ref.title;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"baseline"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:iconType})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,title))))}StatementListHeading.propTypes={iconType:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired}},1123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=void 0;var _statement=__webpack_require__(584);var _plugin_element=__webpack_require__(3320);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PluginStatement=function(_Statement){_inherits(PluginStatement,_Statement);function PluginStatement(vertex){var _this;_classCallCheck(this,PluginStatement);_this=_possibleConstructorReturn(this,_getPrototypeOf(PluginStatement).call(this,vertex));var pluginType=vertex.pluginType,name=vertex.name;_this.pluginType=pluginType;_this.name=name;return _this}_createClass(PluginStatement,[{key:"toList",value:function toList(depth,parentId){return[new _plugin_element.PluginElement(this,depth,parentId)]}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(pluginVertex){return new PluginStatement(pluginVertex)}}]);return PluginStatement}(_statement.Statement);exports.PluginStatement=PluginStatement},1124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfElement=void 0;var _element=__webpack_require__(585);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IfElement=function(_Element){_inherits(IfElement,_Element);function IfElement(statement,depth,parentId){_classCallCheck(this,IfElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(IfElement).call(this,id,statement,depth,parentId))}return IfElement}(_element.Element);exports.IfElement=IfElement},1125:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeStatement=makeStatement;var _plugin_statement=__webpack_require__(1123);var _if_statement=__webpack_require__(3326);var _queue=__webpack_require__(3328);function makeStatement(pipelineGraphVertex,pipelineStage){var klass=pipelineGraphVertex.constructor.name;switch(klass){case"PluginVertex":return _plugin_statement.PluginStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"IfVertex":return _if_statement.IfStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"QueueVertex":return _queue.Queue.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);default:throw new Error("Unknown vertex class: ".concat(klass))}}},1126:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isVertexPipelineStage=isVertexPipelineStage;function isVertexPipelineStage(vertex,pipelineStage){return vertex&&vertex.pipelineStage===pipelineStage}},1127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=Status;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(1128);var _format_number=__webpack_require__(49);var _common=__webpack_require__(276);var _constants=__webpack_require__(19);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function Status(_ref){var stats=_ref.stats;var total=stats.apms.total,totalEvents=stats.totalEvents,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.apm.instances.status.serversLabel",{defaultMessage:"Servers"}),value:total,"data-test-subj":"total"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instances.status.totalEventsLabel",{defaultMessage:"Total Events"}),value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instances.status.lastEventLabel",{defaultMessage:"Last Event"}),value:_i18n.i18n.translate("xpack.monitoring.apm.instances.status.lastEventDescription",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.apm.instances.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}},1128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmStatusIcon=ApmStatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(233);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ApmStatusIcon(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===void 0?true:_ref$availability;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:_i18n.i18n.translate("xpack.monitoring.apm.healthStatusLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}},115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MonitoringTimeseries",{enumerable:true,get:function get(){return _monitoring_timeseries.MonitoringTimeseries}});Object.defineProperty(exports,"InfoTooltip",{enumerable:true,get:function get(){return _info_tooltip.InfoTooltip}});Object.defineProperty(exports,"getTitle",{enumerable:true,get:function get(){return _get_title.getTitle}});Object.defineProperty(exports,"getUnits",{enumerable:true,get:function get(){return _get_units.getUnits}});Object.defineProperty(exports,"MonitoringTimeseriesContainer",{enumerable:true,get:function get(){return _monitoring_timeseries_container.MonitoringTimeseriesContainer}});var _monitoring_timeseries=__webpack_require__(1090);var _info_tooltip=__webpack_require__(1092);var _get_title=__webpack_require__(1093);var _get_units=__webpack_require__(1094);var _monitoring_timeseries_container=__webpack_require__(3115)},118:function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiDarkTheme},119:function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular},120:function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},128:function(module,exports){module.exports=__kbnSharedDeps__.ReactDomServer},131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EuiMonitoringTable",{enumerable:true,get:function get(){return _eui_table.EuiMonitoringTable}});Object.defineProperty(exports,"EuiMonitoringSSPTable",{enumerable:true,get:function get(){return _eui_table_ssp.EuiMonitoringSSPTable}});Object.defineProperty(exports,"tableStorageGetter",{enumerable:true,get:function get(){return _storage.tableStorageGetter}});Object.defineProperty(exports,"tableStorageSetter",{enumerable:true,get:function get(){return _storage.tableStorageSetter}});Object.defineProperty(exports,"euiTableStorageGetter",{enumerable:true,get:function get(){return _storage.euiTableStorageGetter}});Object.defineProperty(exports,"euiTableStorageSetter",{enumerable:true,get:function get(){return _storage.euiTableStorageSetter}});var _eui_table=__webpack_require__(3089);var _eui_table_ssp=__webpack_require__(3090);var _storage=__webpack_require__(3091)},140:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _legacy_imports=__webpack_require__(387);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Chrome=function(){function Chrome(){var _this=this;_classCallCheck(this,Chrome);_defineProperty(this,"injector",void 0);_defineProperty(this,"setInjector",(function(injector){return void(_this.injector=injector)}));_defineProperty(this,"dangerouslyGetActiveInjector",(function(){return _this.injector}));_defineProperty(this,"getBasePath",(function(){return _legacy_imports.npStart.core.http.basePath.get()}));_defineProperty(this,"getInjected",(function(name,defaultValue){var _npSetup$core$injecte=_legacy_imports.npSetup.core.injectedMetadata,getInjectedVar=_npSetup$core$injecte.getInjectedVar,getInjectedVars=_npSetup$core$injecte.getInjectedVars;return name?getInjectedVar(name,defaultValue):getInjectedVars()}))}_createClass(Chrome,[{key:"breadcrumbs",get:function get(){var _this2=this;var set=function set(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _legacy_imports.npStart.core.chrome.setBreadcrumbs.apply(_this2,args)};return{set:set}}}]);return Chrome}();var chrome=new Chrome;var _default=chrome;exports.default=_default;module.exports=exports.default},142:function(module,exports){module.exports=__kbnSharedDeps__.ElasticsearchBrowser},144:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SummaryStatus",{enumerable:true,get:function get(){return _summary_status.SummaryStatus}});var _summary_status=__webpack_require__(3093)},15:function(module,exports){module.exports=__kbnSharedDeps__.Moment},150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uiModules=void 0;var _angular=_interopRequireDefault(__webpack_require__(42));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Modules=function Modules(){var _this=this;_classCallCheck(this,Modules);_defineProperty(this,"_services",[]);_defineProperty(this,"_filters",[]);_defineProperty(this,"_directives",[]);_defineProperty(this,"get",(function(_name,_dep){return _this}));_defineProperty(this,"service",(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this._services.push(args)}));_defineProperty(this,"filter",(function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_this._filters.push(args)}));_defineProperty(this,"directive",(function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_this._directives.push(args)}));_defineProperty(this,"addToModule",(function(){_angular.default.module("monitoring/services",[]);_angular.default.module("monitoring/filters",[]);_angular.default.module("monitoring/directives",[]);_this._services.forEach((function(args){_angular.default.module("monitoring/services").service.apply(null,args)}));_this._filters.forEach((function(args){_angular.default.module("monitoring/filters").filter.apply(null,args)}));_this._directives.forEach((function(args){_angular.default.module("monitoring/directives").directive.apply(null,args)}))}))};var uiModules=new Modules;exports.uiModules=uiModules},175:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Monospace",{enumerable:true,get:function get(){return _monospace.Monospace}});var _monospace=__webpack_require__(1098)},176:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSecurityStep=getSecurityStep;exports.getMigrationStatusStep=getMigrationStatusStep;exports.getDisableStatusStep=getDisableStatusStep;exports.MONITORING_STATUS_LABEL=exports.MIGRATION_STATUS_LABEL=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(19);var _common=__webpack_require__(276);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var MIGRATION_STATUS_LABEL=_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.migrationStatus",{defaultMessage:"Migration status"});exports.MIGRATION_STATUS_LABEL=MIGRATION_STATUS_LABEL;var MONITORING_STATUS_LABEL=_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.monitoringStatus",{defaultMessage:"Monitoring status"});exports.MONITORING_STATUS_LABEL=MONITORING_STATUS_LABEL;function getSecurityStep(url){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"help",title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.securitySetup",defaultMessage:"If security is enabled, {link} might be required.",values:{link:_react.default.createElement(_react.Fragment,null," ",_react.default.createElement(_eui.EuiLink,{href:url,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.securitySetupLinkText",defaultMessage:"additional setup"})))}}))}))}function getMigrationStatusStep(product){if(product.isInternalCollector||product.isNetNewUser){return{title:product.isNetNewUser?MONITORING_STATUS_LABEL:MIGRATION_STATUS_LABEL,status:"incomplete",children:_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"warning",title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.isInternalCollectorStatusTitle",{defaultMessage:"No monitoring data detected, but well continue checking."})})}}else if(product.isPartiallyMigrated||product.isFullyMigrated){return{title:MIGRATION_STATUS_LABEL,status:"complete",children:_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"success",title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.fullyMigratedStatusTitle",{defaultMessage:"Congratulations!"})},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.fullyMigratedStatusDescription",{defaultMessage:"Metricbeat is shipping monitoring data."})))}}return null}function getDisableStatusStep(product,meta){if(!product||!product.isFullyMigrated){var lastInternallyCollectedMessage="";if(product){var lastInternallyCollectedTimestamp=product.lastInternallyCollectedTimestamp||product.lastTimestamp;var secondsSinceLastInternalCollectionLabel=(0,_common.formatTimestampToDuration)(lastInternallyCollectedTimestamp,_constants.CALCULATE_DURATION_SINCE);lastInternallyCollectedMessage=_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.partiallyMigratedStatusDescription",{defaultMessage:"Last self monitoring was {secondsSinceLastInternalCollectionLabel} ago.",values:{secondsSinceLastInternalCollectionLabel:secondsSinceLastInternalCollectionLabel}})}return{title:MIGRATION_STATUS_LABEL,status:"incomplete",children:_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"warning",title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.partiallyMigratedStatusTitle",{defaultMessage:"Data is still coming from self monitoring"})},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.partiallyMigratedStatusDescription",{defaultMessage:"It can take up to {secondsAgo} seconds to detect data.",values:{secondsAgo:meta.secondsAgo}})),_react.default.createElement("p",null,lastInternallyCollectedMessage))}}return{title:MIGRATION_STATUS_LABEL,status:"complete",children:_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"success",title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.fullyMigratedStatusTitle",{defaultMessage:"Congratulations!"})},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.fullyMigratedStatusDescription",{defaultMessage:"We are not seeing any documents from self monitoring. Migration complete!"})))}}},18:function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},185:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatDateTimeLocal=formatDateTimeLocal;exports.shortenPipelineHash=shortenPipelineHash;exports.LARGE_ABBREVIATED=exports.SMALL_BYTES=exports.LARGE_BYTES=exports.SMALL_FLOAT=exports.LARGE_FLOAT=void 0;var _momentTimezone=_interopRequireDefault(__webpack_require__(39));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LARGE_FLOAT="0,0.[00]";exports.LARGE_FLOAT=LARGE_FLOAT;var SMALL_FLOAT="0.[00]";exports.SMALL_FLOAT=SMALL_FLOAT;var LARGE_BYTES="0,0.0 b";exports.LARGE_BYTES=LARGE_BYTES;var SMALL_BYTES="0.0 b";exports.SMALL_BYTES=SMALL_BYTES;var LARGE_ABBREVIATED="0,0.[0]a";exports.LARGE_ABBREVIATED=LARGE_ABBREVIATED;function formatDateTimeLocal(date,timezone){if(timezone==="Browser"){timezone=_momentTimezone.default.tz.guess()||"utc"}return _momentTimezone.default.tz(date,timezone).format("LL LTS")}function shortenPipelineHash(hash){return hash.substr(0,6)}},19:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ALERT_EMAIL_SERVICES=exports.MONITORING_CONFIG_ALERTING_EMAIL_ADDRESS=exports.NUMBER_OF_MIGRATED_ALERTS=exports.ALERT_ACTION_TYPE_EMAIL=exports.ALERT_TYPES=exports.ALERT_TYPE_LICENSE_EXPIRATION=exports.ALERT_TYPE_PREFIX=exports.KIBANA_ALERTING_ENABLED=exports.TELEMETRY_COLLECTION_INTERVAL=exports.REPORTING_SYSTEM_ID=exports.LOGSTASH_SYSTEM_ID=exports.APM_SYSTEM_ID=exports.BEATS_SYSTEM_ID=exports.KIBANA_SYSTEM_ID=exports.TELEMETRY_QUERY_SOURCE=exports.CODE_PATH_LOGS=exports.CODE_PATH_LICENSE=exports.CODE_PATH_APM=exports.CODE_PATH_LOGSTASH=exports.CODE_PATH_BEATS=exports.CODE_PATH_ML=exports.CODE_PATH_ELASTICSEARCH=exports.CODE_PATH_KIBANA=exports.CODE_PATH_ALERTS=exports.CODE_PATH_ALL=exports.INFRA_SOURCE_ID=exports.ELASTICSEARCH_SYSTEM_ID=exports.METRICBEAT_INDEX_NAME_UNIQUE_TOKEN=exports.INDEX_PATTERN_ELASTICSEARCH=exports.INDEX_ALERTS=exports.INDEX_PATTERN_BEATS=exports.INDEX_PATTERN_LOGSTASH=exports.INDEX_PATTERN_KIBANA=exports.INDEX_PATTERN=exports.STANDALONE_CLUSTER_CLUSTER_UUID=exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=exports.DEBOUNCE_FAST_MS=exports.DEBOUNCE_SLOW_MS=exports.LOGSTASH=exports.CLOUD_METADATA_SERVICES=exports.ML_SUPPORTED_LICENSES=exports.CALCULATE_DURATION_UNTIL=exports.CALCULATE_DURATION_SINCE=exports.FORMAT_DURATION_TEMPLATE_TINY=exports.FORMAT_DURATION_TEMPLATE_SHORT=exports.FORMAT_DURATION_TEMPLATE_LONG=exports.CLUSTER_ALERTS_SEARCH_SIZE=exports.CHART_TEXT_COLOR=exports.CHART_LINE_COLOR=exports.SORT_DESCENDING=exports.SORT_ASCENDING=exports.EUI_SORT_DESCENDING=exports.EUI_SORT_ASCENDING=exports.NORMALIZED_DERIVATIVE_UNIT=exports.STORAGE_KEY=exports.KIBANA_USAGE_TYPE=exports.KIBANA_SETTINGS_TYPE=exports.KIBANA_STATS_TYPE_MONITORING=exports.MONITORING_SYSTEM_API_VERSION=exports.KIBANA_MONITORING_LOGGING_TAG=exports.LOGGING_TAG=void 0;var LOGGING_TAG="monitoring";exports.LOGGING_TAG=LOGGING_TAG;var KIBANA_MONITORING_LOGGING_TAG="kibana-monitoring";exports.KIBANA_MONITORING_LOGGING_TAG=KIBANA_MONITORING_LOGGING_TAG;var MONITORING_SYSTEM_API_VERSION="7";exports.MONITORING_SYSTEM_API_VERSION=MONITORING_SYSTEM_API_VERSION;var KIBANA_STATS_TYPE_MONITORING="kibana_stats";exports.KIBANA_STATS_TYPE_MONITORING=KIBANA_STATS_TYPE_MONITORING;var KIBANA_SETTINGS_TYPE="kibana_settings";exports.KIBANA_SETTINGS_TYPE=KIBANA_SETTINGS_TYPE;var KIBANA_USAGE_TYPE="kibana";exports.KIBANA_USAGE_TYPE=KIBANA_USAGE_TYPE;var STORAGE_KEY="xpack.monitoring.data";exports.STORAGE_KEY=STORAGE_KEY;var NORMALIZED_DERIVATIVE_UNIT="1s";exports.NORMALIZED_DERIVATIVE_UNIT=NORMALIZED_DERIVATIVE_UNIT;var EUI_SORT_ASCENDING="asc";exports.EUI_SORT_ASCENDING=EUI_SORT_ASCENDING;var EUI_SORT_DESCENDING="desc";exports.EUI_SORT_DESCENDING=EUI_SORT_DESCENDING;var SORT_ASCENDING=1;exports.SORT_ASCENDING=SORT_ASCENDING;var SORT_DESCENDING=-1;exports.SORT_DESCENDING=SORT_DESCENDING;var CHART_LINE_COLOR="#d2d2d2";exports.CHART_LINE_COLOR=CHART_LINE_COLOR;var CHART_TEXT_COLOR="#9c9c9c";exports.CHART_TEXT_COLOR=CHART_TEXT_COLOR;var CLUSTER_ALERTS_SEARCH_SIZE=3;exports.CLUSTER_ALERTS_SEARCH_SIZE=CLUSTER_ALERTS_SEARCH_SIZE;var FORMAT_DURATION_TEMPLATE_LONG="M [months] d [days]";exports.FORMAT_DURATION_TEMPLATE_LONG=FORMAT_DURATION_TEMPLATE_LONG;var FORMAT_DURATION_TEMPLATE_SHORT=" d [days] h [hrs] m [min]";exports.FORMAT_DURATION_TEMPLATE_SHORT=FORMAT_DURATION_TEMPLATE_SHORT;var FORMAT_DURATION_TEMPLATE_TINY=" s [seconds]";exports.FORMAT_DURATION_TEMPLATE_TINY=FORMAT_DURATION_TEMPLATE_TINY;var CALCULATE_DURATION_SINCE="since";exports.CALCULATE_DURATION_SINCE=CALCULATE_DURATION_SINCE;var CALCULATE_DURATION_UNTIL="until";exports.CALCULATE_DURATION_UNTIL=CALCULATE_DURATION_UNTIL;var ML_SUPPORTED_LICENSES=["trial","platinum","enterprise"];exports.ML_SUPPORTED_LICENSES=ML_SUPPORTED_LICENSES;var CLOUD_METADATA_SERVICES={AWS_URL:"http://169.254.169.254/2016-09-02/dynamic/instance-identity/document",AZURE_URL:"http://169.254.169.254/metadata/instance?api-version=2017-04-02",GCP_URL_PREFIX:"http://169.254.169.254/computeMetadata/v1/instance"};exports.CLOUD_METADATA_SERVICES=CLOUD_METADATA_SERVICES;var LOGSTASH={MAJOR_VER_REQD_FOR_PIPELINES:6,QUEUE_TYPES:{MEMORY:"memory",PERSISTED:"persisted"}};exports.LOGSTASH=LOGSTASH;var DEBOUNCE_SLOW_MS=17;exports.DEBOUNCE_SLOW_MS=DEBOUNCE_SLOW_MS;var DEBOUNCE_FAST_MS=10;exports.DEBOUNCE_FAST_MS=DEBOUNCE_FAST_MS;var CLUSTER_ALERTS_ADDRESS_CONFIG_KEY="cluster_alerts.email_notifications.email_address";exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=CLUSTER_ALERTS_ADDRESS_CONFIG_KEY;var STANDALONE_CLUSTER_CLUSTER_UUID="__standalone_cluster__";exports.STANDALONE_CLUSTER_CLUSTER_UUID=STANDALONE_CLUSTER_CLUSTER_UUID;var INDEX_PATTERN=".monitoring-*-6-*,.monitoring-*-7-*";exports.INDEX_PATTERN=INDEX_PATTERN;var INDEX_PATTERN_KIBANA=".monitoring-kibana-6-*,.monitoring-kibana-7-*";exports.INDEX_PATTERN_KIBANA=INDEX_PATTERN_KIBANA;var INDEX_PATTERN_LOGSTASH=".monitoring-logstash-6-*,.monitoring-logstash-7-*";exports.INDEX_PATTERN_LOGSTASH=INDEX_PATTERN_LOGSTASH;var INDEX_PATTERN_BEATS=".monitoring-beats-6-*,.monitoring-beats-7-*";exports.INDEX_PATTERN_BEATS=INDEX_PATTERN_BEATS;var INDEX_ALERTS=".monitoring-alerts-6,.monitoring-alerts-7";exports.INDEX_ALERTS=INDEX_ALERTS;var INDEX_PATTERN_ELASTICSEARCH=".monitoring-es-6-*,.monitoring-es-7-*";exports.INDEX_PATTERN_ELASTICSEARCH=INDEX_PATTERN_ELASTICSEARCH;var METRICBEAT_INDEX_NAME_UNIQUE_TOKEN="-mb-";exports.METRICBEAT_INDEX_NAME_UNIQUE_TOKEN=METRICBEAT_INDEX_NAME_UNIQUE_TOKEN;var ELASTICSEARCH_SYSTEM_ID="elasticsearch";exports.ELASTICSEARCH_SYSTEM_ID=ELASTICSEARCH_SYSTEM_ID;var INFRA_SOURCE_ID="internal-stack-monitoring";exports.INFRA_SOURCE_ID=INFRA_SOURCE_ID;var CODE_PATH_ALL="all";exports.CODE_PATH_ALL=CODE_PATH_ALL;var CODE_PATH_ALERTS="alerts";exports.CODE_PATH_ALERTS=CODE_PATH_ALERTS;var CODE_PATH_KIBANA="kibana";exports.CODE_PATH_KIBANA=CODE_PATH_KIBANA;var CODE_PATH_ELASTICSEARCH="elasticsearch";exports.CODE_PATH_ELASTICSEARCH=CODE_PATH_ELASTICSEARCH;var CODE_PATH_ML="ml";exports.CODE_PATH_ML=CODE_PATH_ML;var CODE_PATH_BEATS="beats";exports.CODE_PATH_BEATS=CODE_PATH_BEATS;var CODE_PATH_LOGSTASH="logstash";exports.CODE_PATH_LOGSTASH=CODE_PATH_LOGSTASH;var CODE_PATH_APM="apm";exports.CODE_PATH_APM=CODE_PATH_APM;var CODE_PATH_LICENSE="license";exports.CODE_PATH_LICENSE=CODE_PATH_LICENSE;var CODE_PATH_LOGS="logs";exports.CODE_PATH_LOGS=CODE_PATH_LOGS;var TELEMETRY_QUERY_SOURCE="TELEMETRY";exports.TELEMETRY_QUERY_SOURCE=TELEMETRY_QUERY_SOURCE;var KIBANA_SYSTEM_ID="kibana";exports.KIBANA_SYSTEM_ID=KIBANA_SYSTEM_ID;var BEATS_SYSTEM_ID="beats";exports.BEATS_SYSTEM_ID=BEATS_SYSTEM_ID;var APM_SYSTEM_ID="apm";exports.APM_SYSTEM_ID=APM_SYSTEM_ID;var LOGSTASH_SYSTEM_ID="logstash";exports.LOGSTASH_SYSTEM_ID=LOGSTASH_SYSTEM_ID;var REPORTING_SYSTEM_ID="reporting";exports.REPORTING_SYSTEM_ID=REPORTING_SYSTEM_ID;var TELEMETRY_COLLECTION_INTERVAL=864e5;exports.TELEMETRY_COLLECTION_INTERVAL=TELEMETRY_COLLECTION_INTERVAL;var KIBANA_ALERTING_ENABLED=false;exports.KIBANA_ALERTING_ENABLED=KIBANA_ALERTING_ENABLED;var ALERT_TYPE_PREFIX="monitoring_";exports.ALERT_TYPE_PREFIX=ALERT_TYPE_PREFIX;var ALERT_TYPE_LICENSE_EXPIRATION="".concat(ALERT_TYPE_PREFIX,"alert_type_license_expiration");exports.ALERT_TYPE_LICENSE_EXPIRATION=ALERT_TYPE_LICENSE_EXPIRATION;var ALERT_TYPES=[ALERT_TYPE_LICENSE_EXPIRATION];exports.ALERT_TYPES=ALERT_TYPES;var ALERT_ACTION_TYPE_EMAIL=".email";exports.ALERT_ACTION_TYPE_EMAIL=ALERT_ACTION_TYPE_EMAIL;var NUMBER_OF_MIGRATED_ALERTS=1;exports.NUMBER_OF_MIGRATED_ALERTS=NUMBER_OF_MIGRATED_ALERTS;var MONITORING_CONFIG_ALERTING_EMAIL_ADDRESS="monitoring:alertingEmailAddress";exports.MONITORING_CONFIG_ALERTING_EMAIL_ADDRESS=MONITORING_CONFIG_ALERTING_EMAIL_ADDRESS;var ALERT_EMAIL_SERVICES=["gmail","hotmail","icloud","outlook365","ses","yahoo"];exports.ALERT_EMAIL_SERVICES=ALERT_EMAIL_SERVICES},2:function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},21:function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLightTheme},23:function(module,exports){module.exports=__kbnSharedDeps__.Jquery},233:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusIcon=StatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function StatusIcon(_ref){var _typeToIconMap;var type=_ref.type,label=_ref.label;var typeToIconMap=(_typeToIconMap={},_defineProperty(_typeToIconMap,StatusIcon.TYPES.RED,"danger"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.YELLOW,"warning"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GREEN,"success"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GRAY,"subdued"),_typeToIconMap);var icon=typeToIconMap[type];return _react.default.createElement(_eui.EuiIcon,{alt:label,size:"l","data-test-subj":"statusIcon",type:"dot",color:icon})}StatusIcon.TYPES={RED:"RED",YELLOW:"YELLOW",GREEN:"GREEN",GRAY:"GRAY"}},234:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});Object.defineProperty(exports,"License",{enumerable:true,get:function get(){return _license.License}});Object.defineProperty(exports,"PageLoading",{enumerable:true,get:function get(){return _page_loading.PageLoading}});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchOverview}});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchNodes}});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchIndices}});var _no_data=__webpack_require__(3121);var _license=__webpack_require__(3137);var _page_loading=__webpack_require__(3140);var _elasticsearch=__webpack_require__(3141)},275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isInSetupMode=exports.initSetupModeState=exports.addSetupModeCallback=exports.setSetupModeMenuItem=exports.toggleSetupMode=exports.disableElasticsearchInternalCollection=exports.updateSetupModeData=exports.fetchCollectionData=exports.setNewlyDiscoveredClusterUuid=exports.getSetupModeState=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _lodash=__webpack_require__(3);var _notify=__webpack_require__(60);var _i18n=__webpack_require__(1);var _new_platform=__webpack_require__(9);var _chrome=_interopRequireDefault(__webpack_require__(140));var _ajax_error_handler=__webpack_require__(59);var _enter_button=__webpack_require__(3087);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function isOnPage(hash){return(0,_lodash.contains)(window.location.hash,hash)}var angularState={injector:null,scope:null};var checkAngularState=function checkAngularState(){if(!angularState.injector||!angularState.scope){throw new Error("Unable to interact with setup mode because the angular injector was not previously set."+" This needs to be set by calling `initSetupModeState`.")}};var setupModeState={enabled:false,data:null,callbacks:[]};var getSetupModeState=function getSetupModeState(){return setupModeState};exports.getSetupModeState=getSetupModeState;var setNewlyDiscoveredClusterUuid=function setNewlyDiscoveredClusterUuid(clusterUuid){var globalState=angularState.injector.get("globalState");var executor=angularState.injector.get("$executor");angularState.scope.$apply((function(){globalState.cluster_uuid=clusterUuid;globalState.save()}));executor.run()};exports.setNewlyDiscoveredClusterUuid=setNewlyDiscoveredClusterUuid;var fetchCollectionData=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(uuid){var fetchWithoutClusterUuid,http,globalState,clusterUuid,ccs,url,response,Private,ajaxErrorHandlers,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetchWithoutClusterUuid=_args.length>1&&_args[1]!==undefined?_args[1]:false;checkAngularState();http=angularState.injector.get("$http");globalState=angularState.injector.get("globalState");clusterUuid=globalState.cluster_uuid;ccs=globalState.ccs;url="../api/monitoring/v1/setup/collection";if(uuid){url+="/node/".concat(uuid)}else if(!fetchWithoutClusterUuid&&clusterUuid){url+="/cluster/".concat(clusterUuid)}else{url+="/cluster"}_context.prev=8;_context.next=11;return http.post(url,{ccs:ccs});case 11:response=_context.sent;return _context.abrupt("return",response.data);case 15:_context.prev=15;_context.t0=_context["catch"](8);Private=angularState.injector.get("Private");ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return _context.abrupt("return",ajaxErrorHandlers(_context.t0));case 20:case"end":return _context.stop()}}}),_callee,null,[[8,15]])})));return function fetchCollectionData(_x){return _ref.apply(this,arguments)}}();exports.fetchCollectionData=fetchCollectionData;var notifySetupModeDataChange=function notifySetupModeDataChange(oldData){setupModeState.callbacks.forEach((function(cb){return cb(oldData)}))};var updateSetupModeData=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(uuid){var fetchWithoutClusterUuid,oldData,data,_ref3,cloud,isCloudEnabled,hasPermissions,text,globalState,clusterUuid,liveClusterUuid,migratedEsNodes,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchWithoutClusterUuid=_args2.length>1&&_args2[1]!==undefined?_args2[1]:false;oldData=setupModeState.data;_context2.next=4;return fetchCollectionData(uuid,fetchWithoutClusterUuid);case 4:data=_context2.sent;setupModeState.data=data;_ref3=_new_platform.npSetup.plugins,cloud=_ref3.cloud;isCloudEnabled=!!(cloud&&cloud.isCloudEnabled);hasPermissions=(0,_lodash.get)(data,"_meta.hasPermissions",false);if(!(isCloudEnabled||!hasPermissions)){_context2.next=14;break}text="";if(!hasPermissions){text=_i18n.i18n.translate("xpack.monitoring.setupMode.notAvailablePermissions",{defaultMessage:"You do not have the necessary permissions to do this."})}else{text=_i18n.i18n.translate("xpack.monitoring.setupMode.notAvailableCloud",{defaultMessage:"This feature is not available on cloud."})}angularState.scope.$evalAsync((function(){_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.monitoring.setupMode.notAvailableTitle",{defaultMessage:"Setup mode is not available"}),text:text})}));return _context2.abrupt("return",toggleSetupMode(false));case 14:notifySetupModeDataChange(oldData);globalState=angularState.injector.get("globalState");clusterUuid=globalState.cluster_uuid;if(!clusterUuid){liveClusterUuid=(0,_lodash.get)(data,"_meta.liveClusterUuid");migratedEsNodes=Object.values((0,_lodash.get)(data,"elasticsearch.byUuid",{})).filter((function(node){return node.isPartiallyMigrated||node.isFullyMigrated}));if(liveClusterUuid&&migratedEsNodes.length>0){setNewlyDiscoveredClusterUuid(liveClusterUuid)}}case 18:case"end":return _context2.stop()}}}),_callee2)})));return function updateSetupModeData(_x2){return _ref2.apply(this,arguments)}}();exports.updateSetupModeData=updateSetupModeData;var disableElasticsearchInternalCollection=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var http,globalState,clusterUuid,url,response,Private,ajaxErrorHandlers;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:checkAngularState();http=angularState.injector.get("$http");globalState=angularState.injector.get("globalState");clusterUuid=globalState.cluster_uuid;url="../api/monitoring/v1/setup/collection/".concat(clusterUuid,"/disable_internal_collection");_context3.prev=5;_context3.next=8;return http.post(url);case 8:response=_context3.sent;return _context3.abrupt("return",response.data);case 12:_context3.prev=12;_context3.t0=_context3["catch"](5);Private=angularState.injector.get("Private");ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return _context3.abrupt("return",ajaxErrorHandlers(_context3.t0));case 17:case"end":return _context3.stop()}}}),_callee3,null,[[5,12]])})));return function disableElasticsearchInternalCollection(){return _ref4.apply(this,arguments)}}();exports.disableElasticsearchInternalCollection=disableElasticsearchInternalCollection;var toggleSetupMode=function toggleSetupMode(inSetupMode){checkAngularState();var globalState=angularState.injector.get("globalState");setupModeState.enabled=inSetupMode;globalState.inSetupMode=inSetupMode;globalState.save();setSetupModeMenuItem();notifySetupModeDataChange();if(inSetupMode){updateSetupModeData()}};exports.toggleSetupMode=toggleSetupMode;var setSetupModeMenuItem=function setSetupModeMenuItem(){checkAngularState();if(isOnPage("no-data")){return}var globalState=angularState.injector.get("globalState");var _ref5=_new_platform.npSetup.plugins,cloud=_ref5.cloud;var isCloudEnabled=!!(cloud&&cloud.isCloudEnabled);var enabled=!globalState.inSetupMode&&!isCloudEnabled;(0,_reactDom.render)(_react.default.createElement(_enter_button.SetupModeEnterButton,{enabled:enabled,toggleSetupMode:toggleSetupMode}),document.getElementById("setupModeNav"))};exports.setSetupModeMenuItem=setSetupModeMenuItem;var addSetupModeCallback=function addSetupModeCallback(callback){return setupModeState.callbacks.push(callback)};exports.addSetupModeCallback=addSetupModeCallback;var initSetupModeState=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee4($scope,$injector,callback){var globalState;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:angularState.scope=$scope;angularState.injector=$injector;if(callback){setupModeState.callbacks.push(callback)}globalState=$injector.get("globalState");if(!globalState.inSetupMode){_context4.next=7;break}_context4.next=7;return toggleSetupMode(true);case 7:case"end":return _context4.stop()}}}),_callee4)})));return function initSetupModeState(_x3,_x4,_x5){return _ref6.apply(this,arguments)}}();exports.initSetupModeState=initSetupModeState;var isInSetupMode=function isInSetupMode(){if(setupModeState.enabled){return true}var $injector=angularState.injector||_chrome.default.dangerouslyGetActiveInjector();var globalState=$injector.get("globalState");return globalState.inSetupMode};exports.isInSetupMode=isInSetupMode},276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"formatTimestampToDuration",{enumerable:true,get:function get(){return _format_timestamp_to_duration.formatTimestampToDuration}});var _format_timestamp_to_duration=__webpack_require__(430)},277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SetupModeRenderer",{enumerable:true,get:function get(){return _setup_mode.SetupModeRenderer}});var _setup_mode=__webpack_require__(3206)},3071:function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(1);var _kibanaCore__=__webpack_require__(92);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch((function(e){return e})).then((function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,browserSupportsCsp:!window.__kbnCspNotEnforced__,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(3072)}});coreSystem.setup().then((function(coreSetup){if(i18nError){coreSetup.fatalErrors.add(i18nError)}return coreSystem.start()}))}))},3072:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3073);__webpack_require__(3074);__webpack_require__(3075);__webpack_require__(3076);__webpack_require__(3079);__webpack_require__(3080);__webpack_require__(3082);__webpack_require__(3084);__webpack_require__(3119);var _legacy_imports=__webpack_require__(387);var _np_ready=__webpack_require__(3351);var _local_application_service=__webpack_require__(586);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var pluginInstance=(0,_np_ready.plugin)({});pluginInstance.setup(_legacy_imports.npSetup.core,_legacy_imports.npSetup.plugins);pluginInstance.start(_legacy_imports.npStart.core,_objectSpread({},_legacy_imports.npStart.plugins,{__LEGACY:{localApplicationService:_local_application_service.localApplicationService}}))},3073:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _modules=__webpack_require__(150);var _format_number=__webpack_require__(49);var _extract_ip=__webpack_require__(1088);var uiModule=_modules.uiModules.get("monitoring/filters",[]);uiModule.filter("capitalize",(function(){return function(input){return(0,_lodash.capitalize)(input.toLowerCase())}}));uiModule.filter("formatNumber",(function(){return _format_number.formatNumber}));uiModule.filter("formatMetric",(function(){return _format_number.formatMetric}));uiModule.filter("extractIp",(function(){return _extract_ip.extractIp}))},3074:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(150);var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);var _constants=__webpack_require__(19);function formatClusters(clusters){return clusters.map(formatCluster)}function formatCluster(cluster){if(cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID){cluster.cluster_name="Standalone Cluster"}return cluster}var uiModule=_modules.uiModules.get("monitoring/clusters");uiModule.service("monitoringClusters",(function($injector){return function(clusterUuid,ccs,codePaths){var _timefilter$getBounds=_timefilter.timefilter.getBounds(),min=_timefilter$getBounds.min,max=_timefilter$getBounds.max;var url="../api/monitoring/v1/clusters";if(clusterUuid){url+="/".concat(clusterUuid)}var $http=$injector.get("$http");return $http.post(url,{ccs:ccs,timeRange:{min:min.toISOString(),max:max.toISOString()},codePaths:codePaths}).then((function(response){return response.data})).then((function(data){return formatClusters(data)})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}}))},3075:function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(3));var _modules=__webpack_require__(150);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/features",[]);uiModule.service("features",(function($window){function getData(){var returnData={};var monitoringData=$window.localStorage.getItem("xpack.monitoring.data");try{returnData=monitoringData&&JSON.parse(monitoringData)||{}}catch(e){console.error("Monitoring UI: error parsing locally stored monitoring data",e)}return returnData}function update(featureName,value){var monitoringDataObj=getData();monitoringDataObj[featureName]=value;$window.localStorage.setItem("xpack.monitoring.data",JSON.stringify(monitoringDataObj))}function isEnabled(featureName,defaultSetting){var monitoringDataObj=getData();if(_lodash.default.has(monitoringDataObj,featureName)){return monitoringDataObj[featureName]}if(_lodash.default.isUndefined(defaultSetting)){return false}return defaultSetting}return{isEnabled:isEnabled,update:update}}))},3076:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(150);var _executor_provider=__webpack_require__(3077);var uiModule=_modules.uiModules.get("monitoring/executor",[]);uiModule.service("$executor",_executor_provider.executorProvider)},3077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.executorProvider=executorProvider;var _timefilter=__webpack_require__(55);var _utils=__webpack_require__(3078);var _rxjs=__webpack_require__(18);function executorProvider(Promise,$timeout){var queue=[];var subscriptions=new _rxjs.Subscription;var executionTimer;var ignorePaused=false;function reset(){cancel();_start()}function killTimer(){if(executionTimer){$timeout.cancel(executionTimer)}}function cancel(){killTimer()}function register(service){queue.push(service)}function destroy(){subscriptions.unsubscribe();cancel();ignorePaused=false;queue.splice(0,queue.length)}function run(){var noop=function noop(){return Promise.resolve()};return Promise.all(queue.map((function(service){return service.execute().then(service.handleResponse||noop).catch(service.handleError||noop)}))).finally(reset)}function reFetch(){cancel();run()}function killIfPaused(){if(_timefilter.timefilter.getRefreshInterval().pause){killTimer()}}function _start(){if((ignorePaused||_timefilter.timefilter.getRefreshInterval().pause===false)&&_timefilter.timefilter.getRefreshInterval().value>0){executionTimer=$timeout(run,_timefilter.timefilter.getRefreshInterval().value)}}return{register:register,start:function start($scope){subscriptions.add((0,_utils.subscribeWithScope)($scope,_timefilter.timefilter.getFetch$(),{next:reFetch}));subscriptions.add((0,_utils.subscribeWithScope)($scope,_timefilter.timefilter.getRefreshIntervalUpdate$(),{next:killIfPaused}));_start()},run:run,destroy:destroy,reset:reset,cancel:cancel}}},3078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.subscribeWithScope=void 0;var subscribeWithScope=function subscribeWithScope($scope,observable,observer){return observable.subscribe({next:function next(value){if(observer&&observer.next){$scope.$applyAsync((function(){return observer.next(value)}))}},error:function error(_error){$scope.$applyAsync((function(){if(observer&&observer.error){observer.error(_error)}else{throw new Error("Uncaught error in subscribeWithScope(): ".concat(_error?_error.stack||_error.message:_error))}}))},complete:function complete(){if(observer&&observer.complete){$scope.$applyAsync((function(){return observer.complete()}))}}})};exports.subscribeWithScope=subscribeWithScope},3079:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _modules=__webpack_require__(150);var _constants=__webpack_require__(19);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var uiModule=_modules.uiModules.get("monitoring/license",[]);uiModule.service("license",(function(){return new(function(){function LicenseService(){_classCallCheck(this,LicenseService);this.license={type:null,expiry_date_in_millis:-Infinity}}_createClass(LicenseService,[{key:"setLicense",value:function setLicense(license){this.license=license}},{key:"isBasic",value:function isBasic(){return this.license.type==="basic"}},{key:"mlIsSupported",value:function mlIsSupported(){return(0,_lodash.contains)(_constants.ML_SUPPORTED_LICENSES,this.license.type)}},{key:"doesExpire",value:function doesExpire(){var expiryDateInMillis=this.license.expiry_date_in_millis;return expiryDateInMillis!==undefined}},{key:"isActive",value:function isActive(){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()<expiryDateInMillis}},{key:"isExpired",value:function isExpired(){if(this.doesExpire()){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()>=expiryDateInMillis}return false}}]);return LicenseService}())}))},3080:function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(1);var _modules=__webpack_require__(150);var _doc_title=__webpack_require__(274);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/title",[]);uiModule.service("title",(function(){return function changeTitle(cluster,suffix){var clusterName=_lodash.default.get(cluster,"cluster_name");clusterName=clusterName?"- ".concat(clusterName):"";suffix=suffix?"- ".concat(suffix):"";_doc_title.docTitle.change(_i18n.i18n.translate("xpack.monitoring.stackMonitoringDocTitle",{defaultMessage:"Stack Monitoring {clusterName} {suffix}",values:{clusterName:clusterName,suffix:suffix}}),true)}}))},3082:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(150);var _breadcrumbs_provider=__webpack_require__(3083);var uiModule=_modules.uiModules.get("monitoring/breadcrumbs",[]);uiModule.service("breadcrumbs",_breadcrumbs_provider.breadcrumbsProvider)},3083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.breadcrumbsProvider=breadcrumbsProvider;var _chrome=_interopRequireDefault(__webpack_require__(140));var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createCrumb=function createCrumb(url,label,testSubj){var crumb={url:url,label:label};if(testSubj){crumb.testSubj=testSubj}return crumb};function getElasticsearchBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/elasticsearch","Elasticsearch"));if(mainInstance.name==="indices"){breadcrumbs.push(createCrumb("#/elasticsearch/indices",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.indicesLabel",{defaultMessage:"Indices"}),"breadcrumbEsIndices"))}else if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/elasticsearch/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.nodesLabel",{defaultMessage:"Nodes"}),"breadcrumbEsNodes"))}else if(mainInstance.name==="ml"){breadcrumbs.push(createCrumb("#/elasticsearch/ml_jobs",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.jobsLabel",{defaultMessage:"Jobs"})))}else if(mainInstance.name==="ccr_shard"){breadcrumbs.push(createCrumb("#/elasticsearch/ccr",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.ccrLabel",{defaultMessage:"CCR"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,"Elasticsearch"))}return breadcrumbs}function getKibanaBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/kibana","Kibana"));breadcrumbs.push(createCrumb("#/kibana/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.kibana.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,"Kibana"))}return breadcrumbs}function getLogstashBreadcrumbs(mainInstance){var logstashLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstashLabel",{defaultMessage:"Logstash"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/logstash/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.nodesLabel",{defaultMessage:"Nodes"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else if(mainInstance.page==="pipeline"){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));breadcrumbs.push(createCrumb("#/logstash/pipelines",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.pipelinesLabel",{defaultMessage:"Pipelines"})))}else{breadcrumbs.push(createCrumb(null,logstashLabel))}return breadcrumbs}function getBeatsBreadcrumbs(mainInstance){var beatsLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beatsLabel",{defaultMessage:"Beats"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/beats",beatsLabel));breadcrumbs.push(createCrumb("#/beats/beats",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beats.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,beatsLabel))}return breadcrumbs}function getApmBreadcrumbs(mainInstance){var apmLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apmLabel",{defaultMessage:"APM"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/apm",apmLabel));breadcrumbs.push(createCrumb("#/apm/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apm.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,apmLabel))}return breadcrumbs}function breadcrumbsProvider(){return function createBreadcrumbs(clusterName,mainInstance){var homeCrumb=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.clustersLabel",{defaultMessage:"Clusters"});var breadcrumbs=[createCrumb("#/home",homeCrumb,"breadcrumbClusters")];if(!mainInstance.inOverview&&clusterName){breadcrumbs.push(createCrumb("#/overview",clusterName))}if(mainInstance.inElasticsearch){breadcrumbs=breadcrumbs.concat(getElasticsearchBreadcrumbs(mainInstance))}if(mainInstance.inKibana){breadcrumbs=breadcrumbs.concat(getKibanaBreadcrumbs(mainInstance))}if(mainInstance.inLogstash){breadcrumbs=breadcrumbs.concat(getLogstashBreadcrumbs(mainInstance))}if(mainInstance.inBeats){breadcrumbs=breadcrumbs.concat(getBeatsBreadcrumbs(mainInstance))}if(mainInstance.inApm){breadcrumbs=breadcrumbs.concat(getApmBreadcrumbs(mainInstance))}_chrome.default.breadcrumbs.set(breadcrumbs.map((function(b){return{text:b.label,href:b.url,"data-test-subj":b.testSubj}})));return breadcrumbs}}},3084:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3085);__webpack_require__(3088);__webpack_require__(3094);__webpack_require__(3116)},3085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringMainController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _modules=__webpack_require__(150);var _index=_interopRequireDefault(__webpack_require__(3086));var _timefilter=__webpack_require__(55);var _formatting=__webpack_require__(185);var _setup_mode=__webpack_require__(275);var _rxjs=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var setOptions=function setOptions(controller){if(!controller.pipelineVersions||!controller.pipelineVersions.length||!controller.pipelineDropdownElement){return}(0,_reactDom.render)(_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{style:{maxWidth:400,lineHeight:"40px",overflow:"hidden",whiteSpace:"nowrap"}},_react.default.createElement("h2",null,controller.pipelineId))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{value:controller.pipelineHash,options:controller.pipelineVersions.map((function(option){return{text:_i18n.i18n.translate("xpack.monitoring.logstashNavigation.pipelineVersionDescription",{defaultMessage:"Version active {relativeLastSeen} and first seen {relativeFirstSeen}",values:{relativeLastSeen:option.relativeLastSeen,relativeFirstSeen:option.relativeFirstSeen}}),value:option.hash}})),onChange:controller.onChangePipelineHash}))),controller.pipelineDropdownElement)};var MonitoringMainController=function(){function MonitoringMainController(){var _this=this;_classCallCheck(this,MonitoringMainController);_defineProperty(this,"addTimerangeObservers",(function(){_this.subscriptions=new _rxjs.Subscription;var refreshIntervalUpdated=function refreshIntervalUpdated(){var _timefilter$getRefres=_timefilter.timefilter.getRefreshInterval(),refreshInterval=_timefilter$getRefres.value,isPaused=_timefilter$getRefres.pause;_this.datePicker.onRefreshChange({refreshInterval:refreshInterval,isPaused:isPaused},true)};var timeUpdated=function timeUpdated(){_this.datePicker.onTimeUpdate({dateRange:_timefilter.timefilter.getTime()},true)};_this.subscriptions.add(_timefilter.timefilter.getRefreshIntervalUpdate$().subscribe(refreshIntervalUpdated));_this.subscriptions.add(_timefilter.timefilter.getTimeUpdate$().subscribe(timeUpdated))}));this.inListing=false;this.inAlerts=false;this.inOverview=false;this.inElasticsearch=false;this.inKibana=false;this.inLogstash=false;this.inBeats=false;this.inApm=false}_createClass(MonitoringMainController,[{key:"dropdownLoadedHandler",value:function dropdownLoadedHandler(){this.pipelineDropdownElement=document.querySelector("#dropdown-elm");setOptions(this)}},{key:"setup",value:function setup(options){var _this2=this;this._licenseService=options.licenseService;this._breadcrumbsService=options.breadcrumbsService;this._kbnUrlService=options.kbnUrlService;this._executorService=options.executorService;Object.assign(this,options.attributes);this.navName="".concat(this.name,"-nav");if(this.product){this.inElasticsearch=this.product==="elasticsearch";this.inKibana=this.product==="kibana";this.inLogstash=this.product==="logstash";this.inBeats=this.product==="beats";this.inApm=this.product==="apm"}else{this.inOverview=this.name==="overview";this.inAlerts=this.name==="alerts";this.inListing=this.name==="listing"}if(!this.inListing){this.breadcrumbs=this._breadcrumbsService(options.clusterName,this)}if(this.pipelineHash){this.pipelineHashShort=(0,_formatting.shortenPipelineHash)(this.pipelineHash);this.onChangePipelineHash=function(){return _this2._kbnUrlService.changePath("/logstash/pipelines/".concat(_this2.pipelineId,"/").concat(_this2.pipelineHash))}}this.datePicker={timeRange:_timefilter.timefilter.getTime(),refreshInterval:_timefilter.timefilter.getRefreshInterval(),onRefreshChange:function onRefreshChange(_ref){var isPaused=_ref.isPaused,refreshInterval=_ref.refreshInterval;var skipSet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_this2.datePicker.refreshInterval={pause:isPaused,value:refreshInterval};if(!skipSet){_timefilter.timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:_this2.datePicker.refreshInterval.value})}},onTimeUpdate:function onTimeUpdate(_ref2){var dateRange=_ref2.dateRange;var skipSet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_this2.datePicker.timeRange=_objectSpread({},dateRange);if(!skipSet){_timefilter.timefilter.setTime(dateRange)}_this2._executorService.cancel();_this2._executorService.run()}}}},{key:"isActiveTab",value:function isActiveTab(testPath){return this.name===testPath}},{key:"isMlSupported",value:function isMlSupported(){return this._licenseService.mlIsSupported()}},{key:"isDisabledTab",value:function isDisabledTab(product){var setupMode=(0,_setup_mode.getSetupModeState)();if(!setupMode.enabled||!setupMode.data){return false}var data=setupMode.data[product]||{};if(data.totalUniqueInstanceCount===0){return true}if(data.totalUniqueInternallyCollectedCount===0&&data.totalUniqueFullyMigratedCount===0&&data.totalUniquePartiallyMigratedCount===0){return true}return false}}]);return MonitoringMainController}();exports.MonitoringMainController=MonitoringMainController;var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringMain",(function(breadcrumbs,license,kbnUrl,$injector){var $executor=$injector.get("$executor");return{restrict:"E",transclude:true,template:_index.default,controller:MonitoringMainController,controllerAs:"monitoringMain",bindToController:true,link:function link(scope,_element,attributes,controller){controller.addTimerangeObservers();(0,_setup_mode.initSetupModeState)(scope,$injector,(function(){controller.setup(getSetupObj())}));if(!scope.cluster){var $route=$injector.get("$route");var globalState=$injector.get("globalState");scope.cluster=($route.current.locals.clusters||[]).find((function(cluster){return cluster.cluster_uuid===globalState.cluster_uuid}))}function getSetupObj(){return{licenseService:license,breadcrumbsService:breadcrumbs,executorService:$executor,kbnUrlService:kbnUrl,attributes:{name:attributes.name,product:attributes.product,instance:attributes.instance,resolver:attributes.resolver,page:attributes.page,tabIconClass:attributes.tabIconClass,tabIconLabel:attributes.tabIconLabel,pipelineId:attributes.pipelineId,pipelineHash:attributes.pipelineHash,pipelineVersions:(0,_lodash.get)(scope,"pageData.versions"),isCcrEnabled:attributes.isCcrEnabled==="true"||attributes.isCcrEnabled===true},clusterName:(0,_lodash.get)(scope,"cluster.cluster_name")}}var setupObj=getSetupObj();controller.setup(setupObj);Object.keys(setupObj.attributes).forEach((function(key){attributes.$observe(key,(function(){return controller.setup(getSetupObj())}))}));scope.$on("$destroy",(function(){controller.pipelineDropdownElement&&(0,_reactDom.unmountComponentAtNode)(controller.pipelineDropdownElement);controller.subscriptions&&controller.subscriptions.unsubscribe()}));scope.$watch("pageData.versions",(function(versions){controller.pipelineVersions=versions;setOptions(controller)}))}}}))},3086:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="app-container">\n  <div id="setupModeNav"></div>\n  <kbn-top-nav\n    name="monitoringMain.navName"\n    app-name="\'monitoring\'"\n    show-search-bar="true"\n    show-date-picker="true"\n    date-range-from="monitoringMain.datePicker.timeRange.from"\n    date-range-to="monitoringMain.datePicker.timeRange.to"\n    is-refresh-paused="monitoringMain.datePicker.refreshInterval.pause"\n    refresh-interval="monitoringMain.datePicker.refreshInterval.value"\n    on-refresh-change="monitoringMain.datePicker.onRefreshChange"\n    on-query-submit="monitoringMain.datePicker.onTimeUpdate"\n  >\n  </kbn-top-nav>\n  <div>\n    <div ng-if="monitoringMain.inElasticsearch" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href="#/elasticsearch"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/elasticsearch/nodes"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n        i18n-id="xpack.monitoring.esNavigation.nodesLinkText"\n        i18n-default-message="Nodes"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href="#/elasticsearch/indices"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n        i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n        i18n-default-message="Indices"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n        i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n        i18n-default-message="Indices"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isMlSupported()"\n        kbn-href="#/elasticsearch/ml_jobs"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'ml\')}"\n        i18n-id="xpack.monitoring.esNavigation.jobsLinkText"\n        i18n-default-message="Jobs"\n      ></a>\n      <a\n        ng-if="(monitoringMain.isCcrEnabled || monitoringMain.isActiveTab(\'ccr\')) && !monitoringMain.instance"\n        kbn-href="#/elasticsearch/ccr"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'ccr\')}"\n        i18n-id="xpack.monitoring.esNavigation.ccrLinkText"\n        i18n-default-message="CCR"\n      ></a>\n      <a\n        ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n        kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n      >\n        <span\n          ng-if="monitoringMain.tabIconClass"\n          class="fa {{ monitoringMain.tabIconClass }}"\n          title="{{ monitoringMain.tabIconLabel }}"\n        ></span>\n        <span\n          i18n-id="xpack.monitoring.esNavigation.instance.overviewLinkText"\n          i18n-default-message="Overview"\n        ></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n        kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}/advanced"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'advanced\'}"\n        i18n-id="xpack.monitoring.esNavigation.instance.advancedLinkText"\n        i18n-default-message="Advanced"\n      >\n      </a>\n      \x3c!-- ML Instance (for use later) --\x3e\n      <a\n        ng-if="monitoringMain.instance && monitoringMain.name !== \'nodes\' && monitoringMain.name !== \'indices\'"\n        class="euiTab"\n        >{{ monitoringMain.instance }}</a\n      >\n    </div>\n\n    <div ng-if="monitoringMain.inKibana" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'kibana\')"\n        kbn-href="#/kibana"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'kibana\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\n          \'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\'),\n        }"\n        i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/kibana/instances"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'kibanas\')}"\n        i18n-id="xpack.monitoring.kibanaNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      ></a>\n      <a ng-if="monitoringMain.instance" class="euiTab">{{ monitoringMain.instance }}</a>\n    </div>\n\n    <div ng-if="monitoringMain.inApm" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'apm\')"\n        kbn-href="#/apm"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'apm\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/apm/instances"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'apms\')}"\n        i18n-id="xpack.monitoring.apmNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      ></a>\n      <a ng-if="monitoringMain.instance" class="euiTab">{{ monitoringMain.instance }}</a>\n    </div>\n\n    <div ng-if="monitoringMain.inBeats" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'beats\')"\n        kbn-href="#/beats"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'beats\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/beats/beats"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'beats\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      >\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/beats/beat/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n        i18n-id="xpack.monitoring.beatsNavigation.instance.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n    </div>\n\n    <div ng-if="monitoringMain.inLogstash" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && !monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href="#/logstash"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n        kbn-href="#/logstash/nodes"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.nodesLinkText"\n        i18n-default-message="Nodes"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && !monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href="#/logstash/pipelines"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n        i18n-id="xpack.monitoring.logstashNavigation.instance.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/pipelines"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'pipelines\'}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.instance.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask fa-sm monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/advanced"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'advanced\'}"\n        i18n-id="xpack.monitoring.logstashNavigation.instance.advancedLinkText"\n        i18n-default-message="Advanced"\n      >\n      </a>\n      <div\n        class="euiTab"\n        ng-if="monitoringMain.pipelineVersions.length"\n        id="dropdown-elm"\n        ng-init="monitoringMain.dropdownLoadedHandler()"\n      ></div>\n    </div>\n\n    <div ng-if="monitoringMain.inOverview" class="euiTabs" role="navigation">\n      <a class="euiTab" data-test-subj="clusterName">{{ pageData.cluster_name }}</a>\n    </div>\n\n    <div ng-if="monitoringMain.inAlerts" class="euiTabs" role="navigation">\n      <a\n        class="euiTab"\n        data-test-subj="clusterAlertsListingPage"\n        i18n-id="xpack.monitoring.clusterAlertsNavigation.clusterAlertsLinkText"\n        i18n-default-message="Cluster Alerts"\n      ></a>\n    </div>\n\n    <div ng-if="monitoringMain.inListing" class="euiTabs" role="navigation">\n      <a\n        class="euiTab"\n        i18n-id="xpack.monitoring.clustersNavigation.clustersLinkText"\n        i18n-default-message="Clusters"\n      ></a>\n    </div>\n  </div>\n  <div ng-transclude></div>\n</div>\n'},3087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetupModeEnterButton=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SetupModeEnterButton=function SetupModeEnterButton(props){var _React$useState=_react.default.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setIsLoading=_React$useState2[1];if(!props.enabled){return null}function enterSetupMode(){return _enterSetupMode.apply(this,arguments)}function _enterSetupMode(){_enterSetupMode=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return props.toggleSetupMode(true);case 3:setIsLoading(false);case 4:case"end":return _context.stop()}}}),_callee)})));return _enterSetupMode.apply(this,arguments)}return _react.default.createElement("div",{className:"monSetupModeEnterButton__buttonWrapper"},_react.default.createElement(_eui.EuiButton,{onClick:enterSetupMode,iconType:"flag",size:"s",iconSide:"right",isLoading:isLoading},_i18n.i18n.translate("xpack.monitoring.setupMode.enter",{defaultMessage:"Enter setup mode"})))};exports.SetupModeEnterButton=SetupModeEnterButton},3088:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(164));var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _i18n=__webpack_require__(25);var _modules=__webpack_require__(150);var _table=__webpack_require__(131);var _status_icon=__webpack_require__(3092);var _formatting=__webpack_require__(185);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(429);var _i18n2=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.jobIdTitle",{defaultMessage:"Job ID"}),field:"job_id",sortable:true},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.stateTitle",{defaultMessage:"State"}),field:"state",sortable:true,render:function render(state){return _react.default.createElement("div",null,_react.default.createElement(_status_icon.MachineLearningJobStatusIcon,{status:state}),"",(0,_lodash.capitalize)(state))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.processedRecordsTitle",{defaultMessage:"Processed Records"}),field:"data_counts.processed_record_count",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.modelSizeTitle",{defaultMessage:"Model Size"}),field:"model_size_stats.model_bytes",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_BYTES))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.forecastsTitle",{defaultMessage:"Forecasts"}),field:"forecasts_stats.total",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.nodeTitle",{defaultMessage:"Node"}),field:"node.name",sortable:true,render:function render(name,node){if(node){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync((function(){return kbnUrl.changePath("/elasticsearch/nodes/".concat(node.id))}))}},name)}return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.mlJobListing.noDataLabel",defaultMessage:"N/A"})}}]};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringMlListing",(function(kbnUrl){return{restrict:"E",scope:{jobs:"=",paginationSettings:"=",sorting:"=",onTableChange:"=",status:"="},link:function link(scope,$el){scope.$on("$destroy",(function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])}));var columns=getColumns(kbnUrl,scope);var filterJobsPlaceholder=_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.filterJobsPlaceholder",{defaultMessage:"Filter Jobs"});scope.$watch("jobs",(function(){var jobs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var mlTable=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:scope.status})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"mlJobsTable",rows:jobs,columns:columns,sorting:_objectSpread({},scope.sorting,{sort:_objectSpread({},scope.sorting.sort,{field:"job_id"})}),pagination:scope.paginationSettings,message:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.noJobsDescription",{defaultMessage:"There are no Machine Learning Jobs that match your query. Try changing the time range selection."}),search:{box:{incremental:true,placeholder:filterJobsPlaceholder}},onTableChange:scope.onTableChange,executeQueryOptions:{defaultFields:["job_id"]}})))));(0,_reactDom.render)(mlTable,$el[0])}))}}}))},3089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EuiMonitoringTable=EuiMonitoringTable;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _formatting=__webpack_require__(330);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function EuiMonitoringTable(_ref){var items=_ref.rows,_ref$search=_ref.search,search=_ref$search===void 0?{}:_ref$search,_columns=_ref.columns,setupMode=_ref.setupMode,productName=_ref.productName,props=_objectWithoutProperties(_ref,["rows","search","columns","setupMode","productName"]);var _React$useState=_react.default.useState(items.length>0),_React$useState2=_slicedToArray(_React$useState,2),hasItems=_React$useState2[0],setHasItem=_React$useState2[1];if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}if(search.box&&!search.box.schema){search.box.schema=true}if(search){var oldOnChange=search.onChange;search.onChange=function(arg){var filteredItems=_eui.EuiSearchBar.Query.execute(arg.query,items,props.executeQueryOptions);setHasItem(filteredItems.length>0);oldOnChange&&oldOnChange(arg);return true}}var columns=_columns.map((function(column){if(!("sortable"in column)){column.sortable=true}return column}));var footerContent=null;if(setupMode&&setupMode.enabled){footerContent=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{iconType:"flag",onClick:function onClick(){return setupMode.openFlyout({},true)}},_i18n.i18n.translate("xpack.monitoring.euiTable.setupNewButtonLabel",{defaultMessage:"Monitor another {identifier} with Metricbeat",values:{identifier:(0,_formatting.getIdentifier)(productName)}})))}return _react.default.createElement("div",{"data-test-subj":"".concat(props.className,"Container")},_react.default.createElement(_eui.EuiInMemoryTable,_extends({"data-test-subj":items.length&&hasItems===true?"monitoringTableHasData":"monitoringTableNoData",items:items,search:search,columns:columns},props)),footerContent)}},3090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EuiMonitoringSSPTable=EuiMonitoringSSPTable;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _formatting=__webpack_require__(330);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function EuiMonitoringSSPTable(_ref){var items=_ref.rows,_ref$search=_ref.search,search=_ref$search===void 0?{}:_ref$search,pagination=_ref.pagination,_columns=_ref.columns,onTableChange=_ref.onTableChange,setupMode=_ref.setupMode,productName=_ref.productName,fetchMoreData=_ref.fetchMoreData,props=_objectWithoutProperties(_ref,["rows","search","pagination","columns","onTableChange","setupMode","productName","fetchMoreData"]);var _React$useState=_react.default.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setIsLoading=_React$useState2[1];var _React$useState3=_react.default.useState(""),_React$useState4=_slicedToArray(_React$useState3,2),queryText=_React$useState4[0],setQueryText=_React$useState4[1];var _React$useState5=_react.default.useState({index:pagination.pageIndex,size:pagination.pageSize}),_React$useState6=_slicedToArray(_React$useState5,2),page=_React$useState6[0],setPage=_React$useState6[1];if(!pagination.totalItemCount){pagination.totalItemCount=items&&items.length||0}var _React$useState7=_react.default.useState(props.sorting),_React$useState8=_slicedToArray(_React$useState7,2),sort=_React$useState8[0],setSort=_React$useState8[1];if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}var columns=_columns.map((function(column){if(!("sortable"in column)){column.sortable=true}return column}));var footerContent=null;if(setupMode&&setupMode.enabled){footerContent=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{iconType:"flag",onClick:function onClick(){return setupMode.openFlyout({},true)}},_i18n.i18n.translate("xpack.monitoring.euiSSPTable.setupNewButtonLabel",{defaultMessage:"Set up monitoring for new {identifier}",values:{identifier:(0,_formatting.getIdentifier)(productName)}})))}var onChange=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var page,sort;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:page=_ref3.page,sort=_ref3.sort;setPage(page);setSort({sort:sort});setIsLoading(true);_context.next=6;return fetchMoreData({page:page,sort:{sort:sort},queryText:queryText});case 6:setIsLoading(false);onTableChange({page:page,sort:sort});case 8:case"end":return _context.stop()}}}),_callee)})));return function onChange(_x){return _ref2.apply(this,arguments)}}();var onQueryChange=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref5){var queryText,newPage;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:queryText=_ref5.queryText;newPage=_objectSpread({},page,{index:0});setPage(newPage);setQueryText(queryText);setIsLoading(true);_context2.next=7;return fetchMoreData({page:newPage,sort:sort,queryText:queryText});case 7:setIsLoading(false);case 8:case"end":return _context2.stop()}}}),_callee2)})));return function onQueryChange(_x2){return _ref4.apply(this,arguments)}}();return _react.default.createElement("div",{"data-test-subj":"".concat(props.className,"Container")},_react.default.createElement(_eui.EuiSearchBar,_extends({},search,{onChange:onQueryChange})),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiBasicTable,_extends({},props,{"data-test-subj":items.length?"monitoringTableHasData":"monitoringTableNoData",items:items,pagination:pagination,onChange:onChange,loading:isLoading,columns:columns})),footerContent)}},3091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.euiTableStorageSetter=exports.euiTableStorageGetter=exports.tableStorageSetter=exports.tableStorageGetter=void 0;var _lodash=__webpack_require__(3);var _constants=__webpack_require__(19);var tableStorageGetter=function tableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var filterText=(0,_lodash.get)(localStorageData,[keyPrefix,"filterText"]);var pageIndex=(0,_lodash.get)(localStorageData,[keyPrefix,"pageIndex"]);var sortKey=(0,_lodash.get)(localStorageData,[keyPrefix,"sortKey"]);var sortOrder=(0,_lodash.get)(localStorageData,[keyPrefix,"sortOrder"]);return{pageIndex:pageIndex,filterText:filterText,sortKey:sortKey,sortOrder:sortOrder}}};exports.tableStorageGetter=tableStorageGetter;var tableStorageSetter=function tableStorageSetter(keyPrefix){return function(storage,_ref){var filterText=_ref.filterText,pageIndex=_ref.pageIndex,sortKey=_ref.sortKey,sortOrder=_ref.sortOrder;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"filterText"],filterText||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"pageIndex"],pageIndex||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortKey"],sortKey||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortOrder"],sortOrder||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}};exports.tableStorageSetter=tableStorageSetter;var euiTableStorageGetter=function euiTableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var sort=(0,_lodash.get)(localStorageData,[keyPrefix,"sort"]);var page=(0,_lodash.get)(localStorageData,[keyPrefix,"page"]);return{page:page,sort:sort}}};exports.euiTableStorageGetter=euiTableStorageGetter;var euiTableStorageSetter=function euiTableStorageSetter(keyPrefix){return function(storage,_ref2){var sort=_ref2.sort,page=_ref2.page;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"sort"],sort||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"page"],page||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}};exports.euiTableStorageSetter=euiTableStorageSetter},3092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MachineLearningJobStatusIcon=MachineLearningJobStatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(233);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MachineLearningJobStatusIcon(_ref){var status=_ref.status;var type=function(){var statusKey=status.toUpperCase();if(statusKey==="OPENED"){return _status_icon.StatusIcon.TYPES.GREEN}else if(statusKey==="CLOSED"){return _status_icon.StatusIcon.TYPES.GRAY}else if(statusKey==="FAILED"){return _status_icon.StatusIcon.TYPES.RED}return _status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.statusIconLabel",{defaultMessage:"Job Status: {status}",values:{status:status}})})}},3093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SummaryStatus=SummaryStatus;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _index=__webpack_require__(233);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var wrapChild=function wrapChild(_ref,index){var label=_ref.label,value=_ref.value,props=_objectWithoutProperties(_ref,["label","value"]);return _react.default.createElement(_eui.EuiFlexItem,_extends({key:"summary-status-item-".concat(index),grow:false},props),_react.default.createElement(_eui.EuiStat,{title:value,titleSize:"xs",textAlign:"left",description:label?"".concat(label):""}))};var DefaultIconComponent=function DefaultIconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.summaryStatus.statusIconTitle",defaultMessage:"Status: {statusIcon}",values:{statusIcon:_react.default.createElement(_index.StatusIcon,{type:status.toUpperCase(),label:_i18n.i18n.translate("xpack.monitoring.summaryStatus.statusIconLabel",{defaultMessage:"Status: {status}",values:{status:status}})})}}))};var StatusIndicator=function StatusIndicator(_ref3){var status=_ref3.status,isOnline=_ref3.isOnline,IconComponent=_ref3.IconComponent;if((0,_lodash.isEmpty)(status)){return null}return _react.default.createElement(_eui.EuiFlexItem,{key:"summary-status-item-status",grow:false},_react.default.createElement(_eui.EuiStat,{title:_react.default.createElement(_react.Fragment,null,_react.default.createElement(IconComponent,{status:status,isOnline:isOnline}),"",(0,_lodash.capitalize)(status)),titleSize:"xs",textAlign:"left",description:_i18n.i18n.translate("xpack.monitoring.summaryStatus.statusDescription",{defaultMessage:"Status"})}))};function SummaryStatus(_ref4){var metrics=_ref4.metrics,status=_ref4.status,isOnline=_ref4.isOnline,_ref4$IconComponent=_ref4.IconComponent,IconComponent=_ref4$IconComponent===void 0?DefaultIconComponent:_ref4$IconComponent,props=_objectWithoutProperties(_ref4,["metrics","status","isOnline","IconComponent"]);return _react.default.createElement("div",_extends({},props,{className:"monSummaryStatusNoWrap"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(StatusIndicator,{status:status,IconComponent:IconComponent,isOnline:isOnline}),metrics.map(wrapChild)))}SummaryStatus.propTypes={metrics:_propTypes.default.array.isRequired}},3094:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _modules=__webpack_require__(150);var _overview=__webpack_require__(3095);var _i18n=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsOverview",(function(){return{restrict:"E",scope:{data:"=",onBrush:"<",zoomInfo:"<"},link:function link(scope,$el){scope.$on("$destroy",(function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])}));scope.$watch("data",(function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.BeatsOverview,_extends({},data,{onBrush:scope.onBrush,zoomInfo:scope.zoomInfo}))),$el[0])}))}}}))},3095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"BeatsOverview",{enumerable:true,get:function get(){return _overview.BeatsOverview}});var _overview=__webpack_require__(3096)},3096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsOverview=BeatsOverview;var _react=_interopRequireDefault(__webpack_require__(0));var _latest_active=__webpack_require__(3097);var _latest_versions=__webpack_require__(3098);var _latest_types=__webpack_require__(3099);var _=__webpack_require__(1089);var _chart=__webpack_require__(115);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function renderLatestActive(latestActive,latestTypes,latestVersions){if(latestTypes&&latestTypes.length>0){return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.activeBeatsInLastDayTitle",defaultMessage:"Active Beats in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_active.LatestActive,{latestActive:latestActive}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5BeatTypesInLastDayTitle",defaultMessage:"Top 5 Beat Types in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_types.LatestTypes,{latestTypes:latestTypes}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5VersionsInLastDayTitle",defaultMessage:"Top 5 Versions in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_versions.LatestVersions,{latestVersions:latestVersions}))))}var calloutMsg=_i18n.i18n.translate("xpack.monitoring.beats.overview.noActivityDescription",{defaultMessage:"Hi there! This area is where your latest Beats activity would show up, "+"but you don't seem to have any activity within the last day."});return _react.default.createElement(_eui.EuiCallOut,{title:calloutMsg,iconType:"gear","data-test-subj":"noRecentActivityMessage"})}function BeatsOverview(_ref){var latestActive=_ref.latestActive,latestTypes=_ref.latestTypes,latestVersions=_ref.latestVersions,stats=_ref.stats,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["latestActive","latestTypes","latestVersions","stats","metrics"]);var seriesToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors];var charts=seriesToShow.map((function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_.Stats,{stats:stats}),renderLatestActive(latestActive,latestTypes,latestVersions),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},3097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestActive=LatestActive;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestActive(_ref){var latestActive=_ref.latestActive;var rangeMap={last1m:_i18n.i18n.translate("xpack.monitoring.beats.overview.latestActive.last1MinuteLabel",{defaultMessage:"Last 1 minute"}),last5m:_i18n.i18n.translate("xpack.monitoring.beats.overview.latestActive.last5MinutesLabel",{defaultMessage:"Last 5 minutes"}),last20m:_i18n.i18n.translate("xpack.monitoring.beats.overview.latestActive.last20MinutesLabel",{defaultMessage:"Last 20 minutes"}),last1h:_i18n.i18n.translate("xpack.monitoring.beats.overview.latestActive.last1HourLabel",{defaultMessage:"Last 1 hour"}),last1d:_i18n.i18n.translate("xpack.monitoring.beats.overview.latestActive.last1DayLabel",{defaultMessage:"Last 1 day"})};var activity=latestActive.map((function(_ref2){var range=_ref2.range,count=_ref2.count;return{range:rangeMap[range],count:count}}));return _react.default.createElement(_eui.EuiBasicTable,{items:activity,columns:[{field:"range",name:""},{field:"count",dataType:"number",name:""}]})}LatestActive.propTypes={latestActive:_propTypes.default.arrayOf(_propTypes.default.shape({range:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired}},3098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestVersions=LatestVersions;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestVersions(_ref){var latestVersions=_ref.latestVersions;return _react.default.createElement(_eui.EuiBasicTable,{items:latestVersions,columns:[{field:"version",name:""},{field:"count",dataType:"number",name:""}]})}LatestVersions.propTypes={latestVersions:_propTypes.default.arrayOf(_propTypes.default.shape({version:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired}},3099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestTypes=LatestTypes;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestTypes(_ref){var latestTypes=_ref.latestTypes;return _react.default.createElement(_eui.EuiBasicTable,{items:latestTypes,columns:[{field:"type",name:""},{field:"count",dataType:"number",name:""}]})}LatestTypes.propTypes={latestTypes:_propTypes.default.arrayOf(_propTypes.default.shape({type:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired}},31:function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},3100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Stats=Stats;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(49);var _summary_status=__webpack_require__(144);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function Stats(_ref){var stats=_ref.stats;var total=stats.total,types=stats.types,_stats$stats=stats.stats,bytesSent=_stats$stats.bytesSent,totalEvents=_stats$stats.totalEvents;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.beats.overview.totalBeatsLabel",{defaultMessage:"Total Beats"}),value:(0,_format_number.formatMetric)(total,"int_commas"),"data-test-subj":"totalBeats"}];metrics.push.apply(metrics,_toConsumableArray(types.map((function(_ref2){var type=_ref2.type,count=_ref2.count;return{label:type,value:(0,_format_number.formatMetric)(count,"int_commas"),"data-test-subj":"typeCount","data-test-type-count":"".concat(type,":").concat(count)}}))));metrics.push({label:_i18n.i18n.translate("xpack.monitoring.beats.overview.totalEventsLabel",{defaultMessage:"Total Events"}),value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"});metrics.push({label:_i18n.i18n.translate("xpack.monitoring.beats.overview.bytesSentLabel",{defaultMessage:"Bytes Sent"}),value:(0,_format_number.formatMetric)(bytesSent,"byte"),"data-test-subj":"bytesSent"});return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"beatsSummaryStatus"})}},3101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColor=getColor;function getColor(app,index){var seriesColors;if(app==="elasticsearch"){seriesColors=["#3ebeb0","#3b73ac","#f08656","#6c478f"]}else{seriesColors=["#e8488b","#3b73ac","#3cab63","#6c478f"]}if(seriesColors[index]){return seriesColors[index]}return"#000"}},3102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesVisualization=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _get_last_value=__webpack_require__(3103);var _timeseries_container=__webpack_require__(3104);var _horizontal_legend=__webpack_require__(3113);var _get_values_for_legend=__webpack_require__(3114);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TimeseriesVisualization=function(_React$Component){_inherits(TimeseriesVisualization,_React$Component);function TimeseriesVisualization(props){var _this;_classCallCheck(this,TimeseriesVisualization);_this=_possibleConstructorReturn(this,_getPrototypeOf(TimeseriesVisualization).call(this,props));_this.debouncedUpdateLegend=_lodash.default.debounce(_this.updateLegend,_constants.DEBOUNCE_SLOW_MS);_this.debouncedUpdateLegend=_this.debouncedUpdateLegend.bind(_assertThisInitialized(_this));_this.toggleFilter=_this.toggleFilter.bind(_assertThisInitialized(_this));var values=_this.getLastValues(props);_this.state={values:{},seriesToShow:_lodash.default.keys(values),ignoreVisibilityUpdates:false};return _this}_createClass(TimeseriesVisualization,[{key:"filterLegend",value:function filterLegend(id){if(!_lodash.default.has(this.state.values,id)){return[]}var notAllShown=_lodash.default.keys(this.state.values).length!==this.state.seriesToShow.length;var isCurrentlyShown=_lodash.default.includes(this.state.seriesToShow,id);var seriesToShow=[];if(notAllShown&&isCurrentlyShown){this.setState({ignoreVisibilityUpdates:false,seriesToShow:Object.keys(this.state.values)})}else{seriesToShow.push(id);this.setState({ignoreVisibilityUpdates:true,seriesToShow:[id]})}return seriesToShow}},{key:"toggleFilter",value:function toggleFilter(_event,id){var seriesToShow=this.filterLegend(id);if(_lodash.default.isFunction(this.props.onFilter)){this.props.onFilter(seriesToShow)}}},{key:"getLastValues",value:function getLastValues(props){props=props||this.props;var values={};props.series.forEach((function(row){if(!row.id){row.id=row.label}values[row.id]=(0,_get_last_value.getLastValue)(row.data)}));return values}},{key:"updateLegend",value:function updateLegend(pos,item){var values={};if(pos){var setValueCallback=function setValueCallback(seriesId,value){values[seriesId]=value};if(item){(0,_get_values_for_legend.getValuesForSeriesIndex)(this.props.series,item.dataIndex,setValueCallback)}else{(0,_get_values_for_legend.getValuesByX)(this.props.series,pos.x,setValueCallback)}}else{_lodash.default.assign(values,this.getLastValues())}this.setState({values:values})}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(props){var values=this.getLastValues(props);var currentKeys=_lodash.default.keys(this.state.values);var keys=_lodash.default.keys(values);var diff=_lodash.default.difference(keys,currentKeys);var nextState={values:values};if(diff.length&&!this.state.ignoreVisibilityUpdates){nextState.seriesToShow=keys}this.setState(nextState)}},{key:"render",value:function render(){var className="monRhythmChart";var style={flexDirection:"column"};var legend=this.props.hasLegend?_react.default.createElement(_horizontal_legend.HorizontalLegend,_extends({seriesFilter:this.state.seriesToShow,seriesValues:this.state.values,onToggle:this.toggleFilter},this.props)):null;return _react.default.createElement("div",{className:className},_react.default.createElement("div",{style:style,className:"monRhythmChart__content"},_react.default.createElement("div",{className:"monRhythmChart__visualization"},_react.default.createElement(_timeseries_container.TimeseriesContainer,_extends({seriesToShow:this.state.seriesToShow,updateLegend:this.debouncedUpdateLegend},this.props))),legend))}}]);return TimeseriesVisualization}(_react.default.Component);exports.TimeseriesVisualization=TimeseriesVisualization;TimeseriesVisualization.defaultProps={hasLegend:true}},3103:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLastValue=getLastValue;var _lodash=__webpack_require__(3);function getLastValue(data){if((0,_lodash.isNumber)(data)){return data}if(!Array.isArray(data)){return null}var lastValue=(0,_lodash.get)((0,_lodash.last)(data),"[1]");if((0,_lodash.isNumber)(lastValue)){return lastValue}return null}},3104:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesContainer=TimeseriesContainer;var _react=_interopRequireDefault(__webpack_require__(0));var _chart_target=__webpack_require__(3105);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeseriesContainer(props){var container={display:"flex",rowDirection:"column",flex:"1 0 auto",position:"relative"};return _react.default.createElement("div",{style:container},_react.default.createElement(_chart_target.ChartTarget,props))}},3105:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChartTarget=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _jquery_flot=_interopRequireDefault(__webpack_require__(1091));var _event_bus=__webpack_require__(3111);var _get_chart_options=__webpack_require__(3112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ChartTarget=function(_React$Component){_inherits(ChartTarget,_React$Component);function ChartTarget(){_classCallCheck(this,ChartTarget);return _possibleConstructorReturn(this,_getPrototypeOf(ChartTarget).apply(this,arguments))}_createClass(ChartTarget,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!this.plot}},{key:"shutdownChart",value:function shutdownChart(){if(!this.plot){return}var target=this.refs.target;(0,_jquery_flot.default)(target).off("plothover");(0,_jquery_flot.default)(target).off("mouseleave");(0,_jquery_flot.default)(target).off("plotselected");(0,_jquery_flot.default)(target).off("plotselecting");this.plot.shutdown();_event_bus.eventBus.off("thorPlotHover");_event_bus.eventBus.off("thorPlotLeave");_event_bus.eventBus.off("thorPlotSelecting");_event_bus.eventBus.off("thorPlotBrush")}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.shutdownChart();window.removeEventListener("resize",this._handleResize);this.componentUnmounted=true}},{key:"filterByShow",value:function filterByShow(seriesToShow){if(seriesToShow){return function(metric){return seriesToShow.some((function(id){return id.toLowerCase()===metric.id.toLowerCase()}))}}return function(){return true}}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(newProps){if(this.plot&&!_lodash.default.isEqual(newProps,this.props)){var series=newProps.series,timeRange=newProps.timeRange;var xaxisOptions=this.plot.getAxes().xaxis.options;xaxisOptions.min=_lodash.default.get(timeRange,"min");xaxisOptions.max=_lodash.default.get(timeRange,"max");this.plot.setData(this.filterData(series,newProps.seriesToShow));this.plot.setupGrid();this.plot.draw()}}},{key:"componentDidMount",value:function componentDidMount(){this.renderChart()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.shutdownChart();this.renderChart()}},{key:"filterData",value:function filterData(data,seriesToShow){return(0,_lodash.default)(data).filter(this.filterByShow(seriesToShow)).value()}},{key:"getOptions",value:function(){var _getOptions=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var opts;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_get_chart_options.getChartOptions)({yaxis:{tickFormatter:this.props.tickFormatter},xaxis:this.props.timeRange});case 2:opts=_context.sent;return _context.abrupt("return",_objectSpread({},opts,{},this.props.options));case 4:case"end":return _context.stop()}}}),_callee,this)})));function getOptions(){return _getOptions.apply(this,arguments)}return getOptions}()},{key:"renderChart",value:function(){var _renderChart=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this=this;var target,series,data;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:target=this.refs.target;series=this.props.series;data=this.filterData(series,this.props.seriesToShow);_context2.t0=_jquery_flot.default;_context2.t1=target;_context2.t2=data;_context2.next=8;return this.getOptions();case 8:_context2.t3=_context2.sent;this.plot=_context2.t0.plot.call(_context2.t0,_context2.t1,_context2.t2,_context2.t3);if(!(this.componentUnmounted||!this.plot)){_context2.next=12;break}return _context2.abrupt("return");case 12:this._handleResize=function(){if(!_this.plot){return}try{_this.plot.resize();_this.plot.setupGrid();_this.plot.draw()}catch(e){}};window.addEventListener("resize",this._handleResize,false);this.handleMouseLeave=function(){_event_bus.eventBus.trigger("thorPlotLeave",[])};this.handlePlotHover=function(_event,pos,item){_event_bus.eventBus.trigger("thorPlotHover",[pos,item,_this.plot])};this.handleThorPlotHover=function(_event,pos,item,originalPlot){if(_this.plot!==originalPlot){_this.plot.setCrosshair({x:_lodash.default.get(pos,"x")})}_this.props.updateLegend(pos,item)};this.handleThorPlotLeave=function(){_this.plot.clearCrosshair();_this.props.updateLegend()};this.handleThorPlotSelecting=function(_event,xaxis,originalPlot){if(_this.plot!==originalPlot){var preventEvent=true;_this.plot.setSelection({xaxis:xaxis},preventEvent)}};this.handleThorPlotBrush=function(){_this.plot.clearSelection()};this.selectingChart=function(_event,ranges){if(ranges){var xaxis=ranges.xaxis;_event_bus.eventBus.trigger("thorPlotSelecting",[xaxis,_this.plot])}};this.brushChart=function(_event,ranges){_this.props.onBrush(ranges);_event_bus.eventBus.trigger("thorPlotBrush")};(0,_jquery_flot.default)(target).on("plothover",this.handlePlotHover);(0,_jquery_flot.default)(target).on("mouseleave",this.handleMouseLeave);(0,_jquery_flot.default)(target).on("plotselected",this.brushChart);(0,_jquery_flot.default)(target).on("plotselecting",this.selectingChart);_event_bus.eventBus.on("thorPlotHover",this.handleThorPlotHover);_event_bus.eventBus.on("thorPlotLeave",this.handleThorPlotLeave);_event_bus.eventBus.on("thorPlotSelecting",this.handleThorPlotSelecting);_event_bus.eventBus.on("thorPlotBrush",this.handleThorPlotBrush);case 30:case"end":return _context2.stop()}}}),_callee2,this)})));function renderChart(){return _renderChart.apply(this,arguments)}return renderChart}()},{key:"render",value:function render(){var style={position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"};return _react.default.createElement("div",{ref:"target",style:style})}}]);return ChartTarget}(_react.default.Component);exports.ChartTarget=ChartTarget},3106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _jquery=_interopRequireDefault(__webpack_require__(23));__webpack_require__(3107);__webpack_require__(3108);__webpack_require__(3109);__webpack_require__(3110);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(window){window.jQuery=_jquery.default}var _default=_jquery.default;exports.default=_default;module.exports=exports.default},3107:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=a!=null?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i){o[c.charAt(i)]+=d}return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i){o[c.charAt(i)]*=f}return o.normalize()};o.toString=function(){if(o.a>=1){return"rgb("+[o.r,o.g,o.b].join(",")+")"}else{return"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"}};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(c!=""&&c!="transparent")break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));if(c=="rgba(0, 0, 0, 0)")c="transparent";return $.color.parse(c)};$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55);if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55,parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();if(name=="transparent")return m(255,255,255,0);else{res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])}};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function($){var hasOwnProperty=Object.prototype.hasOwnProperty;if(!$.fn.detach){$.fn.detach=function(){return this.each((function(){if(this.parentNode){this.parentNode.removeChild(this)}}))}}function Canvas(cls,container){var element=container.children("."+cls)[0];if(element==null){element=document.createElement("canvas");element.className=cls;$(element).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(container);if(!element.getContext){if(window.G_vmlCanvasManager){element=window.G_vmlCanvasManager.initElement(element)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=element;var context=this.context=element.getContext("2d");var devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio;this.resize(container.width(),container.height());this.textContainer=null;this.text={};this._textCache={}}Canvas.prototype.resize=function(width,height){if(width<=0||height<=0){throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height)}var element=this.element,context=this.context,pixelRatio=this.pixelRatio;if(this.width!=width){element.width=width*pixelRatio;element.style.width=width+"px";this.width=width}if(this.height!=height){element.height=height*pixelRatio;element.style.height=height+"px";this.height=height}context.restore();context.save();context.scale(pixelRatio,pixelRatio)};Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};Canvas.prototype.render=function(){var cache=this._textCache;for(var layerKey in cache){if(hasOwnProperty.call(cache,layerKey)){var layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(var styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache){if(hasOwnProperty.call(styleCache,key)){var positions=styleCache[key].positions;for(var i=0,position;position=positions[i];i++){if(position.active){if(!position.rendered){layer.append(position.element);position.rendered=true}}else{positions.splice(i--,1);if(position.rendered){position.element.detach()}}}if(positions.length==0){delete styleCache[key]}}}}}layer.show()}}};Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];if(layer==null){if(this.textContainer==null){this.textContainer=$("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}layer=this.text[classes]=$("<div></div>").addClass(classes).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return layer};Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info;text=""+text;if(_typeof(font)==="object"){textStyle=font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family}else{textStyle=font}layerCache=this._textCache[layer];if(layerCache==null){layerCache=this._textCache[layer]={}}styleCache=layerCache[textStyle];if(styleCache==null){styleCache=layerCache[textStyle]={}}info=styleCache[text];if(info==null){var element=$("<div></div>").html(text).css({position:"absolute","max-width":width,top:-9999}).appendTo(this.getTextLayer(layer));if(_typeof(font)==="object"){element.css({font:textStyle,color:font.color})}else if(typeof font==="string"){element.addClass(font)}info=styleCache[text]={width:element.outerWidth(true),height:element.outerHeight(true),element:element,positions:[]};element.detach()}return info};Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;if(halign=="center"){x-=info.width/2}else if(halign=="right"){x-=info.width}if(valign=="middle"){y-=info.height/2}else if(valign=="bottom"){y-=info.height}for(var i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=true;return}}position={active:true,rendered:false,element:positions.length?info.element.clone():info.element,x:x,y:y};positions.push(position);position.element.css({top:Math.round(y),left:Math.round(x),"text-align":halign})};Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(text==null){var layerCache=this._textCache[layer];if(layerCache!=null){for(var styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache){if(hasOwnProperty.call(styleCache,key)){var positions=styleCache[key].positions;for(var i=0,position;position=positions[i];i++){position.active=false}}}}}}}else{var positions=this.getTextInfo(layer,text,font,angle).positions;for(var i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=false}}}};function Plot(placeholder,data_,options_,plugins){var series=[],options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData;plot.setupGrid=setupGrid;plot.draw=draw;plot.getPlaceholder=function(){return placeholder};plot.getCanvas=function(){return surface.element};plot.getPlotOffset=function(){return plotOffset};plot.width=function(){return plotWidth};plot.height=function(){return plotHeight};plot.offset=function(){var o=eventHolder.offset();o.left+=plotOffset.left;o.top+=plotOffset.top;return o};plot.getData=function(){return series};plot.getAxes=function(){var res={},i;$.each(xaxes.concat(yaxes),(function(_,axis){if(axis)res[axis.direction+(axis.n!=1?axis.n:"")+"axis"]=axis}));return res};plot.getXAxes=function(){return xaxes};plot.getYAxes=function(){return yaxes};plot.c2p=canvasToAxisCoords;plot.p2c=axisToCanvasCoords;plot.getOptions=function(){return options};plot.highlight=highlight;plot.unhighlight=unhighlight;plot.triggerRedrawOverlay=triggerRedrawOverlay;plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}};plot.shutdown=shutdown;plot.destroy=function(){shutdown();placeholder.removeData("plot").empty();series=[];options=null;surface=null;overlay=null;eventHolder=null;ctx=null;octx=null;xaxes=[];yaxes=[];hooks=null;highlights=[];plot=null};plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height);overlay.resize(width,height)};plot.hooks=hooks;initPlugins(plot);parseOptions(options_);setupCanvases();setData(data_);setupGrid();draw();bindEvents();function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i){hook[i].apply(this,args)}}function initPlugins(){var classes={Canvas:Canvas};for(var i=0;i<plugins.length;++i){var p=plugins[i];p.init(plot,classes);if(p.options)$.extend(true,options,p.options)}}function parseOptions(opts){$.extend(true,options,opts);if(opts&&opts.colors){options.colors=opts.colors}if(options.xaxis.color==null)options.xaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString();if(options.yaxis.color==null)options.yaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString();if(options.xaxis.tickColor==null)options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color;if(options.yaxis.tickColor==null)options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color;if(options.grid.borderColor==null)options.grid.borderColor=options.grid.color;if(options.grid.tickColor==null)options.grid.tickColor=$.color.parse(options.grid.color).scale("a",.22).toString();var i,axisOptions,axisCount,fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={style:placeholder.css("font-style"),size:Math.round(.8*fontSizeDefault),variant:placeholder.css("font-variant"),weight:placeholder.css("font-weight"),family:placeholder.css("font-family")};axisCount=options.xaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.xaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(true,{},options.xaxis,axisOptions);options.xaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=Math.round(axisOptions.font.size*1.15)}}}axisCount=options.yaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.yaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(true,{},options.yaxis,axisOptions);options.yaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=Math.round(axisOptions.font.size*1.15)}}}if(options.xaxis.noTicks&&options.xaxis.ticks==null)options.xaxis.ticks=options.xaxis.noTicks;if(options.yaxis.noTicks&&options.yaxis.ticks==null)options.yaxis.ticks=options.yaxis.noTicks;if(options.x2axis){options.xaxes[1]=$.extend(true,{},options.xaxis,options.x2axis);options.xaxes[1].position="top";if(options.x2axis.min==null){options.xaxes[1].min=null}if(options.x2axis.max==null){options.xaxes[1].max=null}}if(options.y2axis){options.yaxes[1]=$.extend(true,{},options.yaxis,options.y2axis);options.yaxes[1].position="right";if(options.y2axis.min==null){options.yaxes[1].min=null}if(options.y2axis.max==null){options.yaxes[1].max=null}}if(options.grid.coloredAreas)options.grid.markings=options.grid.coloredAreas;if(options.grid.coloredAreasColor)options.grid.markingsColor=options.grid.coloredAreasColor;if(options.lines)$.extend(true,options.series.lines,options.lines);if(options.points)$.extend(true,options.series.points,options.points);if(options.bars)$.extend(true,options.series.bars,options.bars);if(options.shadowSize!=null)options.series.shadowSize=options.shadowSize;if(options.highlightColor!=null)options.series.highlightColor=options.highlightColor;for(i=0;i<options.xaxes.length;++i){getOrCreateAxis(xaxes,i+1).options=options.xaxes[i]}for(i=0;i<options.yaxes.length;++i){getOrCreateAxis(yaxes,i+1).options=options.yaxes[i]}for(var n in hooks){if(options.hooks[n]&&options.hooks[n].length)hooks[n]=hooks[n].concat(options.hooks[n])}executeHooks(hooks.processOptions,[options])}function setData(d){series=parseData(d);fillInSeriesOptions();processData()}function parseData(d){var res=[];for(var i=0;i<d.length;++i){var s=$.extend(true,{},options.series);if(d[i].data!=null){s.data=d[i].data;delete d[i].data;$.extend(true,s,d[i]);d[i].data=s.data}else s.data=d[i];res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];if(_typeof(a)=="object")a=a.n;if(typeof a!="number")a=1;return a}function allAxes(){return $.grep(xaxes.concat(yaxes),(function(a){return a}))}function canvasToAxisCoords(pos){var res={},i,axis;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used)res["x"+axis.n]=axis.c2p(pos.left)}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used)res["y"+axis.n]=axis.c2p(pos.top)}if(res.x1!==undefined)res.x=res.x1;if(res.y1!==undefined)res.y=res.y1;return res}function axisToCanvasCoords(pos){var res={},i,axis,key;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used){key="x"+axis.n;if(pos[key]==null&&axis.n==1)key="x";if(pos[key]!=null){res.left=axis.p2c(pos[key]);break}}}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used){key="y"+axis.n;if(pos[key]==null&&axis.n==1)key="y";if(pos[key]!=null){res.top=axis.p2c(pos[key]);break}}}return res}function getOrCreateAxis(axes,number){if(!axes[number-1])axes[number-1]={n:number,direction:axes==xaxes?"x":"y",options:$.extend(true,{},axes==xaxes?options.xaxis:options.yaxis)};return axes[number-1]}function fillInSeriesOptions(){var neededColors=series.length,maxIndex=-1,i;for(i=0;i<series.length;++i){var sc=series[i].color;if(sc!=null){neededColors--;if(typeof sc=="number"&&sc>maxIndex){maxIndex=sc}}}if(neededColors<=maxIndex){neededColors=maxIndex+1}var c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++){c=$.color.parse(colorPool[i%colorPoolSize]||"#666");if(i%colorPoolSize==0&&i){if(variation>=0){if(variation<.5){variation=-variation-.2}else variation=0}else variation=-variation}colors[i]=c.scale("rgb",1+variation)}var colori=0,s;for(i=0;i<series.length;++i){s=series[i];if(s.color==null){s.color=colors[colori].toString();++colori}else if(typeof s.color=="number")s.color=colors[s.color].toString();if(s.lines.show==null){var v,show=true;for(v in s){if(s[v]&&s[v].show){show=false;break}}if(show)s.lines.show=true}if(s.lines.zero==null){s.lines.zero=!!s.lines.fill}s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x"));s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){var topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE,i,j,k,m,length,s,points,ps,x,y,axis,val,f,p,data,format;function updateAxis(axis,min,max){if(min<axis.datamin&&min!=-fakeInfinity)axis.datamin=min;if(max>axis.datamax&&max!=fakeInfinity)axis.datamax=max}$.each(allAxes(),(function(_,axis){axis.datamin=topSentry;axis.datamax=bottomSentry;axis.used=false}));for(i=0;i<series.length;++i){s=series[i];s.datapoints={points:[]};executeHooks(hooks.processRawData,[s,s.data,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];data=s.data;format=s.datapoints.format;if(!format){format=[];format.push({x:true,number:true,required:true});format.push({y:true,number:true,required:true});if(s.bars.show||s.lines.show&&s.lines.fill){var autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({y:true,number:true,required:false,defaultValue:0,autoscale:autoscale});if(s.bars.horizontal){delete format[format.length-1].y;format[format.length-1].x=true}}s.datapoints.format=format}if(s.datapoints.pointsize!=null)continue;s.datapoints.pointsize=format.length;ps=s.datapoints.pointsize;points=s.datapoints.points;var insertSteps=s.lines.show&&s.lines.steps;s.xaxis.used=s.yaxis.used=true;for(j=k=0;j<data.length;++j,k+=ps){p=data[j];var nullify=p==null;if(!nullify){for(m=0;m<ps;++m){val=p[m];f=format[m];if(f){if(f.number&&val!=null){val=+val;if(isNaN(val))val=null;else if(val==Infinity)val=fakeInfinity;else if(val==-Infinity)val=-fakeInfinity}if(val==null){if(f.required)nullify=true;if(f.defaultValue!=null)val=f.defaultValue}}points[k+m]=val}}if(nullify){for(m=0;m<ps;++m){val=points[k+m];if(val!=null){f=format[m];if(f.autoscale!==false){if(f.x){updateAxis(s.xaxis,val,val)}if(f.y){updateAxis(s.yaxis,val,val)}}}points[k+m]=null}}else{if(insertSteps&&k>0&&points[k-ps]!=null&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m){points[k+ps+m]=points[k+m]}points[k+1]=points[k-ps+1];k+=ps}}}}for(i=0;i<series.length;++i){s=series[i];executeHooks(hooks.processDatapoints,[s,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];points=s.datapoints.points;ps=s.datapoints.pointsize;format=s.datapoints.format;var xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps){if(points[j]==null)continue;for(m=0;m<ps;++m){val=points[j+m];f=format[m];if(!f||f.autoscale===false||val==fakeInfinity||val==-fakeInfinity)continue;if(f.x){if(val<xmin)xmin=val;if(val>xmax)xmax=val}if(f.y){if(val<ymin)ymin=val;if(val>ymax)ymax=val}}}if(s.bars.show){var delta;switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}if(s.bars.horizontal){ymin+=delta;ymax+=delta+s.bars.barWidth}else{xmin+=delta;xmax+=delta+s.bars.barWidth}}updateAxis(s.xaxis,xmin,xmax);updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),(function(_,axis){if(axis.datamin==topSentry)axis.datamin=null;if(axis.datamax==bottomSentry)axis.datamax=null}))}function setupCanvases(){placeholder.css("padding",0).children().filter((function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass("flot-base")})).remove();if(placeholder.css("position")=="static")placeholder.css("position","relative");surface=new Canvas("flot-base",placeholder);overlay=new Canvas("flot-overlay",placeholder);ctx=surface.context;octx=overlay.context;eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");if(existing){existing.shutdown();overlay.clear()}placeholder.data("plot",plot)}function bindEvents(){if(options.grid.hoverable){eventHolder.mousemove(onMouseMove);eventHolder.bind("mouseleave",onMouseLeave)}if(options.grid.clickable)eventHolder.click(onClick);executeHooks(hooks.bindEvents,[eventHolder])}function shutdown(){if(redrawTimeout)clearTimeout(redrawTimeout);eventHolder.unbind("mousemove",onMouseMove);eventHolder.unbind("mouseleave",onMouseLeave);eventHolder.unbind("click",onClick);executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;if(axis.direction=="x"){s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min));m=Math.min(t(axis.max),t(axis.min))}else{s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min));s=-s;m=Math.max(t(axis.max),t(axis.min))}if(t==identity)axis.p2c=function(p){return(p-m)*s};else axis.p2c=function(p){return(t(p)-m)*s};if(!it)axis.c2p=function(c){return m+c/s};else axis.c2p=function(c){return it(m+c/s)}}function measureTickLabels(axis){var opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||(axis.direction=="x"?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel";for(var i=0;i<ticks.length;++i){var t=ticks[i];if(!t.label)continue;var info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width);labelHeight=Math.max(labelHeight,info.height)}axis.labelWidth=opts.labelWidth||labelWidth;axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis=axis.direction==="x",tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=true,outermost=true,first=true,found=false;$.each(isXAxis?xaxes:yaxes,(function(i,a){if(a&&(a.show||a.reserveSpace)){if(a===axis){found=true}else if(a.options.position===pos){if(found){outermost=false}else{innermost=false}}if(!found){first=false}}}));if(outermost){axisMargin=0}if(tickLength==null){tickLength=first?"full":5}if(!isNaN(+tickLength))padding+=+tickLength;if(isXAxis){lh+=padding;if(pos=="bottom"){plotOffset.bottom+=lh+axisMargin;axis.box={top:surface.height-plotOffset.bottom,height:lh}}else{axis.box={top:plotOffset.top+axisMargin,height:lh};plotOffset.top+=lh+axisMargin}}else{lw+=padding;if(pos=="left"){axis.box={left:plotOffset.left+axisMargin,width:lw};plotOffset.left+=lw+axisMargin}else{plotOffset.right+=lw+axisMargin;axis.box={left:surface.width-plotOffset.right,width:lw}}}axis.position=pos;axis.tickLength=tickLength;axis.box.padding=padding;axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){if(axis.direction=="x"){axis.box.left=plotOffset.left-axis.labelWidth/2;axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth}else{axis.box.top=plotOffset.top-axis.labelHeight/2;axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight}}function adjustLayoutForThingsStickingOut(){var minMargin=options.grid.minBorderMargin,axis,i;if(minMargin==null){minMargin=0;for(i=0;i<series.length;++i){minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2))}}var margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),(function(_,axis){if(axis.reserveSpace&&axis.ticks&&axis.ticks.length){if(axis.direction==="x"){margins.left=Math.max(margins.left,axis.labelWidth/2);margins.right=Math.max(margins.right,axis.labelWidth/2)}else{margins.bottom=Math.max(margins.bottom,axis.labelHeight/2);margins.top=Math.max(margins.top,axis.labelHeight/2)}}}));plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left));plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right));plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top));plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(){var i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){var margin=options.grid.margin||0;plotOffset[a]=typeof margin=="number"?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset){if(_typeof(options.grid.borderWidth)=="object"){plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0}else{plotOffset[a]+=showGrid?options.grid.borderWidth:0}}$.each(axes,(function(_,axis){var axisOpts=axis.options;axis.show=axisOpts.show==null?axis.used:axisOpts.show;axis.reserveSpace=axisOpts.reserveSpace==null?axis.show:axisOpts.reserveSpace;setRange(axis)}));if(showGrid){var allocatedAxes=$.grep(axes,(function(axis){return axis.show||axis.reserveSpace}));$.each(allocatedAxes,(function(_,axis){setupTickGeneration(axis);setTicks(axis);snapRangeToTicks(axis,axis.ticks);measureTickLabels(axis)}));for(i=allocatedAxes.length-1;i>=0;--i){allocateAxisBoxFirstPhase(allocatedAxes[i])}adjustLayoutForThingsStickingOut();$.each(allocatedAxes,(function(_,axis){allocateAxisBoxSecondPhase(axis)}))}plotWidth=surface.width-plotOffset.left-plotOffset.right;plotHeight=surface.height-plotOffset.bottom-plotOffset.top;$.each(axes,(function(_,axis){setTransformationHelpers(axis)}));if(showGrid){drawAxisLabels()}insertLegend()}function setRange(axis){var opts=axis.options,min=+(opts.min!=null?opts.min:axis.datamin),max=+(opts.max!=null?opts.max:axis.datamax),delta=max-min;if(delta==0){var widen=max==0?1:.01;if(opts.min==null)min-=widen;if(opts.max==null||opts.min!=null)max+=widen}else{var margin=opts.autoscaleMargin;if(margin!=null){if(opts.min==null){min-=delta*margin;if(min<0&&axis.datamin!=null&&axis.datamin>=0)min=0}if(opts.max==null){max+=delta*margin;if(max>0&&axis.datamax!=null&&axis.datamax<=0)max=0}}}axis.min=min;axis.max=max}function setupTickGeneration(axis){var opts=axis.options;var noTicks;if(typeof opts.ticks=="number"&&opts.ticks>0)noTicks=opts.ticks;else noTicks=.3*Math.sqrt(axis.direction=="x"?surface.width:surface.height);var delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;if(maxDec!=null&&dec>maxDec){dec=maxDec}var magn=Math.pow(10,-dec),norm=delta/magn,size;if(norm<1.5){size=1}else if(norm<3){size=2;if(norm>2.25&&(maxDec==null||dec+1<=maxDec)){size=2.5;++dec}}else if(norm<7.5){size=5}else{size=10}size*=magn;if(opts.minTickSize!=null&&size<opts.minTickSize){size=opts.minTickSize}axis.delta=delta;axis.tickDecimals=Math.max(0,maxDec!=null?maxDec:dec);axis.tickSize=opts.tickSize||size;if(opts.mode=="time"&&!axis.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!axis.tickGenerator){axis.tickGenerator=function(axis){var ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN,prev;do{prev=v;v=start+i*axis.tickSize;ticks.push(v);++i}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1;var formatted=""+Math.round(value*factor)/factor;if(axis.tickDecimals!=null){var decimal=formatted.indexOf(".");var precision=decimal==-1?0:formatted.length-decimal-1;if(precision<axis.tickDecimals){return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}}return formatted}}if($.isFunction(opts.tickFormatter))axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)};if(opts.alignTicksWithAxis!=null){var otherAxis=(axis.direction=="x"?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){var niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0){if(opts.min==null)axis.min=Math.min(axis.min,niceTicks[0]);if(opts.max==null&&niceTicks.length>1)axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1])}axis.tickGenerator=function(axis){var ticks=[],v,i;for(i=0;i<otherAxis.ticks.length;++i){v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min);v=axis.min+v*(axis.max-axis.min);ticks.push(v)}return ticks};if(!axis.mode&&opts.tickDecimals==null){var extraDec=Math.max(0,-Math.floor(Math.log(axis.delta)/Math.LN10)+1),ts=axis.tickGenerator(axis);if(!(ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))))axis.tickDecimals=extraDec}}}}function setTicks(axis){var oticks=axis.options.ticks,ticks=[];if(oticks==null||typeof oticks=="number"&&oticks>0)ticks=axis.tickGenerator(axis);else if(oticks){if($.isFunction(oticks))ticks=oticks(axis);else ticks=oticks}var i,v;axis.ticks=[];for(i=0;i<ticks.length;++i){var label=null;var t=ticks[i];if(_typeof(t)=="object"){v=+t[0];if(t.length>1)label=t[1]}else v=+t;if(label==null)label=axis.tickFormatter(v,axis);if(!isNaN(v))axis.ticks.push({v:v,label:label})}}function snapRangeToTicks(axis,ticks){if(axis.options.autoscaleMargin&&ticks.length>0){if(axis.options.min==null)axis.min=Math.min(axis.min,ticks[0].v);if(axis.options.max==null&&ticks.length>1)axis.max=Math.max(axis.max,ticks[ticks.length-1].v)}}function draw(){surface.clear();executeHooks(hooks.drawBackground,[ctx]);var grid=options.grid;if(grid.show&&grid.backgroundColor)drawBackground();if(grid.show&&!grid.aboveData){drawGrid()}for(var i=0;i<series.length;++i){executeHooks(hooks.drawSeries,[ctx,series[i]]);drawSeries(series[i])}executeHooks(hooks.draw,[ctx]);if(grid.show&&grid.aboveData){drawGrid()}surface.render();triggerRedrawOverlay()}function extractRange(ranges,coord){var axis,from,to,key,axes=allAxes();for(var i=0;i<axes.length;++i){axis=axes[i];if(axis.direction==coord){key=coord+axis.n+"axis";if(!ranges[key]&&axis.n==1)key=coord+"axis";if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis=coord=="x"?xaxes[0]:yaxes[0];from=ranges[coord+"1"];to=ranges[coord+"2"]}if(from!=null&&to!=null&&from>to){var tmp=from;from=to;to=tmp}return{from:from,to:to,axis:axis}}function drawBackground(){ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)");ctx.fillRect(0,0,plotWidth,plotHeight);ctx.restore()}function drawGrid(){var i,axes,bw,bc;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var markings=options.grid.markings;if(markings){if($.isFunction(markings)){axes=plot.getAxes();axes.xmin=axes.xaxis.min;axes.xmax=axes.xaxis.max;axes.ymin=axes.yaxis.min;axes.ymax=axes.yaxis.max;markings=markings(axes)}for(i=0;i<markings.length;++i){var m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");if(xrange.from==null)xrange.from=xrange.axis.min;if(xrange.to==null)xrange.to=xrange.axis.max;if(yrange.from==null)yrange.from=yrange.axis.min;if(yrange.to==null)yrange.to=yrange.axis.max;if(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)continue;xrange.from=Math.max(xrange.from,xrange.axis.min);xrange.to=Math.min(xrange.to,xrange.axis.max);yrange.from=Math.max(yrange.from,yrange.axis.min);yrange.to=Math.min(yrange.to,yrange.axis.max);var xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(xequal&&yequal){continue}xrange.from=Math.floor(xrange.axis.p2c(xrange.from));xrange.to=Math.floor(xrange.axis.p2c(xrange.to));yrange.from=Math.floor(yrange.axis.p2c(yrange.from));yrange.to=Math.floor(yrange.axis.p2c(yrange.to));if(xequal||yequal){var lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?.5:0;ctx.beginPath();ctx.strokeStyle=m.color||options.grid.markingsColor;ctx.lineWidth=lineWidth;if(xequal){ctx.moveTo(xrange.to+subPixel,yrange.from);ctx.lineTo(xrange.to+subPixel,yrange.to)}else{ctx.moveTo(xrange.from,yrange.to+subPixel);ctx.lineTo(xrange.to,yrange.to+subPixel)}ctx.stroke()}else{ctx.fillStyle=m.color||options.grid.markingsColor;ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}}axes=allAxes();bw=options.grid.borderWidth;for(var j=0;j<axes.length;++j){var axis=axes[j],box=axis.box,t=axis.tickLength,x,y,xoff,yoff;if(!axis.show||axis.ticks.length==0)continue;ctx.lineWidth=1;if(axis.direction=="x"){x=0;if(t=="full")y=axis.position=="top"?0:plotHeight;else y=box.top-plotOffset.top+(axis.position=="top"?box.height:0)}else{y=0;if(t=="full")x=axis.position=="left"?0:plotWidth;else x=box.left-plotOffset.left+(axis.position=="left"?box.width:0)}if(!axis.innermost){ctx.strokeStyle=axis.options.color;ctx.beginPath();xoff=yoff=0;if(axis.direction=="x")xoff=plotWidth+1;else yoff=plotHeight+1;if(ctx.lineWidth==1){if(axis.direction=="x"){y=Math.floor(y)+.5}else{x=Math.floor(x)+.5}}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff);ctx.stroke()}ctx.strokeStyle=axis.options.tickColor;ctx.beginPath();for(i=0;i<axis.ticks.length;++i){var v=axis.ticks[i].v;xoff=yoff=0;if(isNaN(v)||v<axis.min||v>axis.max||t=="full"&&(_typeof(bw)=="object"&&bw[axis.position]>0||bw>0)&&(v==axis.min||v==axis.max))continue;if(axis.direction=="x"){x=axis.p2c(v);yoff=t=="full"?-plotHeight:t;if(axis.position=="top")yoff=-yoff}else{y=axis.p2c(v);xoff=t=="full"?-plotWidth:t;if(axis.position=="left")xoff=-xoff}if(ctx.lineWidth==1){if(axis.direction=="x")x=Math.floor(x)+.5;else y=Math.floor(y)+.5}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff)}ctx.stroke()}if(bw){bc=options.grid.borderColor;if(_typeof(bw)=="object"||_typeof(bc)=="object"){if(_typeof(bw)!=="object"){bw={top:bw,right:bw,bottom:bw,left:bw}}if(_typeof(bc)!=="object"){bc={top:bc,right:bc,bottom:bc,left:bc}}if(bw.top>0){ctx.strokeStyle=bc.top;ctx.lineWidth=bw.top;ctx.beginPath();ctx.moveTo(0-bw.left,0-bw.top/2);ctx.lineTo(plotWidth,0-bw.top/2);ctx.stroke()}if(bw.right>0){ctx.strokeStyle=bc.right;ctx.lineWidth=bw.right;ctx.beginPath();ctx.moveTo(plotWidth+bw.right/2,0-bw.top);ctx.lineTo(plotWidth+bw.right/2,plotHeight);ctx.stroke()}if(bw.bottom>0){ctx.strokeStyle=bc.bottom;ctx.lineWidth=bw.bottom;ctx.beginPath();ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2);ctx.lineTo(0,plotHeight+bw.bottom/2);ctx.stroke()}if(bw.left>0){ctx.strokeStyle=bc.left;ctx.lineWidth=bw.left;ctx.beginPath();ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom);ctx.lineTo(0-bw.left/2,0);ctx.stroke()}}else{ctx.lineWidth=bw;ctx.strokeStyle=options.grid.borderColor;ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw)}}ctx.restore()}function drawAxisLabels(){$.each(allAxes(),(function(_,axis){var box=axis.box,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel",tick,x,y,halign,valign;surface.removeText(layer);if(!axis.show||axis.ticks.length==0)return;for(var i=0;i<axis.ticks.length;++i){tick=axis.ticks[i];if(!tick.label||tick.v<axis.min||tick.v>axis.max)continue;if(axis.direction=="x"){halign="center";x=plotOffset.left+axis.p2c(tick.v);if(axis.position=="bottom"){y=box.top+box.padding}else{y=box.top+box.height-box.padding;valign="bottom"}}else{valign="middle";y=plotOffset.top+axis.p2c(tick.v);if(axis.position=="left"){x=box.left+box.width-box.padding;halign="right"}else{x=box.left+box.padding}}surface.addText(layer,x,y,tick.label,font,null,null,halign,valign)}}))}function drawSeries(series){if(series.lines.show)drawSeriesLines(series);if(series.bars.show)drawSeriesBars(series);if(series.points.show)drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(var i=ps;i<points.length;i+=ps){var x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(x1==null||x2==null)continue;if(y1<=y2&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(x1!=prevx||y1!=prevy)ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset);prevx=x2;prevy=y2;ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}ctx.stroke()}function plotLineArea(datapoints,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,top,areaOpen=false,ypos=1,segmentStart=0,segmentEnd=0;while(true){if(ps>0&&i>points.length+ps)break;i+=ps;var x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&x1!=null&&x2==null){segmentEnd=i;ps=-ps;ypos=2;continue}if(ps<0&&i==segmentStart+ps){ctx.fill();areaOpen=false;ps=-ps;ypos=1;i=segmentStart=segmentEnd+ps;continue}}if(x1==null||x2==null)continue;if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(!areaOpen){ctx.beginPath();ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom));areaOpen=true}if(y1>=axisy.max&&y2>=axisy.max){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));continue}else if(y1<=axisy.min&&y2<=axisy.min){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));continue}var x1old=x1,x2old=x2;if(y1<=y2&&y1<axisy.min&&y2>=axisy.min){x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min&&y1>=axisy.min){x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max&&y2<=axisy.max){x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max&&y1<=axisy.max){x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1!=x1old){ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1))}ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1));ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));if(x2!=x2old){ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2))}}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineJoin="round";var lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw;ctx.strokeStyle="rgba(0,0,0,0.1)";var angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis);ctx.lineWidth=sw/2;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;var fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);if(fillStyle){ctx.fillStyle=fillStyle;plotLineArea(series.datapoints,series.xaxis,series.yaxis)}if(lw>0)plotLine(series.datapoints,0,0,series.xaxis,series.yaxis);ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){var points=datapoints.points,ps=datapoints.pointsize;for(var i=0;i<points.length;i+=ps){var x=points[i],y=points[i+1];if(x==null||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)continue;ctx.beginPath();x=axisx.p2c(x);y=axisy.p2c(y)+offset;if(symbol=="circle")ctx.arc(x,y,radius,0,shadow?Math.PI:Math.PI*2,false);else symbol(ctx,x,y,radius,shadow);ctx.closePath();if(fillStyle){ctx.fillStyle=fillStyle;ctx.fill()}ctx.stroke()}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(lw==0)lw=1e-4;if(lw>0&&sw>0){var w=sw/2;ctx.lineWidth=w;ctx.strokeStyle="rgba(0,0,0,0.1)";plotPoints(series.datapoints,radius,null,w+w/2,true,series.xaxis,series.yaxis,symbol);ctx.strokeStyle="rgba(0,0,0,0.2)";plotPoints(series.datapoints,radius,null,w/2,true,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,false,series.xaxis,series.yaxis,symbol);ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;if(horizontal){drawBottom=drawRight=drawTop=true;drawLeft=false;left=b;right=x;top=y+barLeft;bottom=y+barRight;if(right<left){tmp=right;right=left;left=tmp;drawLeft=true;drawRight=false}}else{drawLeft=drawRight=drawTop=true;drawBottom=false;left=x+barLeft;right=x+barRight;bottom=b;top=y;if(top<bottom){tmp=top;top=bottom;bottom=tmp;drawBottom=true;drawTop=false}}if(right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max)return;if(left<axisx.min){left=axisx.min;drawLeft=false}if(right>axisx.max){right=axisx.max;drawRight=false}if(bottom<axisy.min){bottom=axisy.min;drawBottom=false}if(top>axisy.max){top=axisy.max;drawTop=false}left=axisx.p2c(left);bottom=axisy.p2c(bottom);right=axisx.p2c(right);top=axisy.p2c(top);if(fillStyleCallback){c.fillStyle=fillStyleCallback(bottom,top);c.fillRect(left,top,right-left,bottom-top)}if(lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)){c.beginPath();c.moveTo(left,bottom);if(drawLeft)c.lineTo(left,top);else c.moveTo(left,top);if(drawTop)c.lineTo(right,top);else c.moveTo(right,top);if(drawRight)c.lineTo(right,bottom);else c.moveTo(right,bottom);if(drawBottom)c.lineTo(left,bottom);else c.moveTo(left,bottom);c.stroke()}}function drawSeriesBars(series){function plotBars(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize;for(var i=0;i<points.length;i+=ps){if(points[i]==null)continue;drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineWidth=series.bars.lineWidth;ctx.strokeStyle=series.color;var barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}var fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;plotBars(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis);ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);var c=$.color.parse(seriesColor);c.a=typeof fill=="number"?fill:.4;c.normalize();return c.toString()}function insertLegend(){if(options.legend.container!=null){$(options.legend.container).html("")}else{placeholder.find(".legend").remove()}if(!options.legend.show){return}var fragments=[],entries=[],rowStarted=false,lf=options.legend.labelFormatter,s,label;for(var i=0;i<series.length;++i){s=series[i];if(s.label){label=lf?lf(s.label,s):s.label;if(label){entries.push({label:label,color:s.color})}}}if(options.legend.sorted){if($.isFunction(options.legend.sorted)){entries.sort(options.legend.sorted)}else if(options.legend.sorted=="reverse"){entries.reverse()}else{var ascending=options.legend.sorted!="descending";entries.sort((function(a,b){return a.label==b.label?0:a.label<b.label!=ascending?1:-1}))}}for(var i=0;i<entries.length;++i){var entry=entries[i];if(i%options.legend.noColumns==0){if(rowStarted)fragments.push("</tr>");fragments.push("<tr>");rowStarted=true}fragments.push('<td class="legendColorBox"><div style="border:1px solid '+options.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel" data-test-subj="flotLegendLabel">'+entry.label+"</td>")}if(rowStarted)fragments.push("</tr>");if(fragments.length==0)return;var table='<table style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+"</table>";if(options.legend.container!=null)$(options.legend.container).html(table);else{var pos="",p=options.legend.position,m=options.legend.margin;if(m[0]==null)m=[m,m];if(p.charAt(0)=="n")pos+="top:"+(m[1]+plotOffset.top)+"px;";else if(p.charAt(0)=="s")pos+="bottom:"+(m[1]+plotOffset.bottom)+"px;";if(p.charAt(1)=="e")pos+="right:"+(m[0]+plotOffset.right)+"px;";else if(p.charAt(1)=="w")pos+="left:"+(m[0]+plotOffset.left)+"px;";var legend=$('<div class="legend">'+table.replace('style="','style="position:absolute;'+pos+";")+"</div>").appendTo(placeholder);if(options.legend.backgroundOpacity!=0){var c=options.legend.backgroundColor;if(c==null){c=options.grid.backgroundColor;if(c&&typeof c=="string")c=$.color.parse(c);else c=$.color.extract(legend,"background-color");c.a=1;c=c.toString()}var div=legend.children();$('<div style="position:absolute;width:'+div.width()+"px;height:"+div.height()+"px;"+pos+"background-color:"+c+';"> </div>').prependTo(legend).css("opacity",options.legend.backgroundOpacity)}}}var highlights=[],redrawTimeout=null;function findNearbyItem(mouseX,mouseY,seriesFilter){var maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null,foundPoint=false,i,j,ps;for(i=series.length-1;i>=0;--i){if(!seriesFilter(series[i]))continue;var s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;ps=s.datapoints.pointsize;if(axisx.options.inverseTransform)maxx=Number.MAX_VALUE;if(axisy.options.inverseTransform)maxy=Number.MAX_VALUE;if(s.lines.show||s.points.show){for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(x==null)continue;if(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy)continue;var dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;if(dist<smallestDistance){smallestDistance=dist;item=[i,j/ps]}}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}barRight=barLeft+s.bars.barWidth;for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];if(x==null)continue;if(series[i].bars.horizontal?mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&my<=y+barRight:mx>=x+barLeft&&mx<=x+barRight&&my>=Math.min(b,y)&&my<=Math.max(b,y))item=[i,j/ps]}}}if(item){i=item[0];j=item[1];ps=series[i].datapoints.pointsize;return{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}}return null}function onMouseMove(e){if(options.grid.hoverable)triggerClickHoverEvent("plothover",e,(function(s){return s["hoverable"]!=false}))}function onMouseLeave(e){if(options.grid.hoverable)triggerClickHoverEvent("plothover",e,(function(s){return false}))}function onClick(e){triggerClickHoverEvent("plotclick",e,(function(s){return s["clickable"]!=false}))}function triggerClickHoverEvent(eventname,event,seriesFilter){var offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX;pos.pageY=event.pageY;var item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item){item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10);item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)}if(options.grid.autoHighlight){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.auto==eventname&&!(item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]))unhighlight(h.series,h.point)}if(item)highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;if(t==-1){drawOverlay();return}if(!redrawTimeout)redrawTimeout=setTimeout(drawOverlay,t)}function drawOverlay(){redrawTimeout=null;octx.save();overlay.clear();octx.translate(plotOffset.left,plotOffset.top);var i,hi;for(i=0;i<highlights.length;++i){hi=highlights[i];if(hi.series.bars.show)drawBarHighlight(hi.series,hi.point);else drawPointHighlight(hi.series,hi.point)}octx.restore();executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if(typeof s=="number")s=series[s];if(typeof point=="number"){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);if(i==-1){highlights.push({series:s,point:point,auto:auto});triggerRedrawOverlay()}else if(!auto)highlights[i].auto=false}function unhighlight(s,point){if(s==null&&point==null){highlights=[];triggerRedrawOverlay();return}if(typeof s=="number")s=series[s];if(typeof point=="number"){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);if(i!=-1){highlights.splice(i,1);triggerRedrawOverlay()}}function indexOfHighlight(s,p){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor=typeof series.highlightColor==="string"?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString();if(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)return;var pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius;octx.strokeStyle=highlightColor;var radius=1.5*pointRadius;x=axisx.p2c(x);y=axisy.p2c(y);octx.beginPath();if(series.points.symbol=="circle")octx.arc(x,y,radius,0,2*Math.PI,false);else series.points.symbol(octx,x,y,radius,false);octx.closePath();octx.stroke()}function drawBarHighlight(series,point){var highlightColor=typeof series.highlightColor==="string"?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString(),fillStyle=highlightColor,barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth;octx.strokeStyle=highlightColor;drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,(function(){return fillStyle}),series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if(typeof spec=="string")return spec;else{var gradient=ctx.createLinearGradient(0,top,0,bottom);for(var i=0,l=spec.colors.length;i<l;++i){var c=spec.colors[i];if(typeof c!="string"){var co=$.color.parse(defaultColor);if(c.brightness!=null)co=co.scale("rgb",c.brightness);if(c.opacity!=null)co.a*=c.opacity;c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}}}$.plot=function(placeholder,data,options){var plot=new Plot($(placeholder),data,options,$.plot.plugins);return plot};$.plot.version="0.8.3";$.plot.plugins=[];$.fn.plot=function(data,options){return this.each((function(){$.plot(this,data,options)}))};function floorInBase(n,base){return base*Math.floor(n/base)}})(jQuery)},3108:function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(1);(function($){var options={xaxis:{timezone:null,timeformat:null,twelveHourClock:false,monthNames:null}};function floorInBase(n,base){return base*Math.floor(n/base)}function formatDate(d,fmt,monthNames,dayNames){if(typeof d.strftime=="function"){return d.strftime(fmt)}var leftPad=function leftPad(n,pad){n=""+n;pad=""+(pad==null?"0":pad);return n.length==1?pad+n:n};var r=[];var escape=false;var hours=d.getHours();var isAM=hours<12;if(monthNames==null){monthNames=[_i18n.i18n.translate("common.ui.flotCharts.janLabel",{defaultMessage:"Jan"}),_i18n.i18n.translate("common.ui.flotCharts.febLabel",{defaultMessage:"Feb"}),_i18n.i18n.translate("common.ui.flotCharts.marLabel",{defaultMessage:"Mar"}),_i18n.i18n.translate("common.ui.flotCharts.aprLabel",{defaultMessage:"Apr"}),_i18n.i18n.translate("common.ui.flotCharts.mayLabel",{defaultMessage:"May"}),_i18n.i18n.translate("common.ui.flotCharts.junLabel",{defaultMessage:"Jun"}),_i18n.i18n.translate("common.ui.flotCharts.julLabel",{defaultMessage:"Jul"}),_i18n.i18n.translate("common.ui.flotCharts.augLabel",{defaultMessage:"Aug"}),_i18n.i18n.translate("common.ui.flotCharts.sepLabel",{defaultMessage:"Sep"}),_i18n.i18n.translate("common.ui.flotCharts.octLabel",{defaultMessage:"Oct"}),_i18n.i18n.translate("common.ui.flotCharts.novLabel",{defaultMessage:"Nov"}),_i18n.i18n.translate("common.ui.flotCharts.decLabel",{defaultMessage:"Dec"})]}if(dayNames==null){dayNames=[_i18n.i18n.translate("common.ui.flotCharts.sunLabel",{defaultMessage:"Sun"}),_i18n.i18n.translate("common.ui.flotCharts.monLabel",{defaultMessage:"Mon"}),_i18n.i18n.translate("common.ui.flotCharts.tueLabel",{defaultMessage:"Tue"}),_i18n.i18n.translate("common.ui.flotCharts.wedLabel",{defaultMessage:"Wed"}),_i18n.i18n.translate("common.ui.flotCharts.thuLabel",{defaultMessage:"Thu"}),_i18n.i18n.translate("common.ui.flotCharts.friLabel",{defaultMessage:"Fri"}),_i18n.i18n.translate("common.ui.flotCharts.satLabel",{defaultMessage:"Sat"})]}var hours12;if(hours>12){hours12=hours-12}else if(hours==0){hours12=12}else{hours12=hours}for(var i=0;i<fmt.length;++i){var c=fmt.charAt(i);if(escape){switch(c){case"a":c=""+dayNames[d.getDay()];break;case"b":c=""+monthNames[d.getMonth()];break;case"d":c=leftPad(d.getDate());break;case"e":c=leftPad(d.getDate()," ");break;case"h":case"H":c=leftPad(hours);break;case"I":c=leftPad(hours12);break;case"l":c=leftPad(hours12," ");break;case"m":c=leftPad(d.getMonth()+1);break;case"M":c=leftPad(d.getMinutes());break;case"q":c=""+(Math.floor(d.getMonth()/3)+1);break;case"S":c=leftPad(d.getSeconds());break;case"y":c=leftPad(d.getFullYear()%100);break;case"Y":c=""+d.getFullYear();break;case"p":c=isAM?""+"am":""+"pm";break;case"P":c=isAM?""+"AM":""+"PM";break;case"w":c=""+d.getDay();break}r.push(c);escape=false}else{if(c=="%"){escape=true}else{r.push(c)}}}return r.join("")}function makeUtcWrapper(d){function addProxyMethod(sourceObj,sourceMethod,targetObj,targetMethod){sourceObj[sourceMethod]=function(){return targetObj[targetMethod].apply(targetObj,arguments)}}var utc={date:d};if(d.strftime!=undefined){addProxyMethod(utc,"strftime",d,"strftime")}addProxyMethod(utc,"getTime",d,"getTime");addProxyMethod(utc,"setTime",d,"setTime");var props=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var p=0;p<props.length;p++){addProxyMethod(utc,"get"+props[p],d,"getUTC"+props[p]);addProxyMethod(utc,"set"+props[p],d,"setUTC"+props[p])}return utc}function dateGenerator(ts,opts){if(opts.timezone=="browser"){return new Date(ts)}else if(!opts.timezone||opts.timezone=="utc"){return makeUtcWrapper(new Date(ts))}else if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var d=new timezoneJS.Date;d.setTimezone(opts.timezone);d.setTime(ts);return d}else{return makeUtcWrapper(new Date(ts))}}var timeUnitSize={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3};var baseSpec=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]];var specMonths=baseSpec.concat([[3,"month"],[6,"month"],[1,"year"]]);var specQuarters=baseSpec.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function init(plot){plot.hooks.processOptions.push((function(plot,options){$.each(plot.getAxes(),(function(axisName,axis){var opts=axis.options;if(opts.mode=="time"){axis.tickGenerator=function(axis){var ticks=[];var d=dateGenerator(axis.min,opts);var minSize=0;var spec=opts.tickSize&&opts.tickSize[1]==="quarter"||opts.minTickSize&&opts.minTickSize[1]==="quarter"?specQuarters:specMonths;if(opts.minTickSize!=null){if(typeof opts.tickSize=="number"){minSize=opts.tickSize}else{minSize=opts.minTickSize[0]*timeUnitSize[opts.minTickSize[1]]}}for(var i=0;i<spec.length-1;++i){if(axis.delta<(spec[i][0]*timeUnitSize[spec[i][1]]+spec[i+1][0]*timeUnitSize[spec[i+1][1]])/2&&spec[i][0]*timeUnitSize[spec[i][1]]>=minSize){break}}var size=spec[i][0];var unit=spec[i][1];if(unit=="year"){if(opts.minTickSize!=null&&opts.minTickSize[1]=="year"){size=Math.floor(opts.minTickSize[0])}else{var magn=Math.pow(10,Math.floor(Math.log(axis.delta/timeUnitSize.year)/Math.LN10));var norm=axis.delta/timeUnitSize.year/magn;if(norm<1.5){size=1}else if(norm<3){size=2}else if(norm<7.5){size=5}else{size=10}size*=magn}if(size<1){size=1}}axis.tickSize=opts.tickSize||[size,unit];var tickSize=axis.tickSize[0];unit=axis.tickSize[1];var step=tickSize*timeUnitSize[unit];if(unit=="second"){d.setSeconds(floorInBase(d.getSeconds(),tickSize))}else if(unit=="minute"){d.setMinutes(floorInBase(d.getMinutes(),tickSize))}else if(unit=="hour"){d.setHours(floorInBase(d.getHours(),tickSize))}else if(unit=="month"){d.setMonth(floorInBase(d.getMonth(),tickSize))}else if(unit=="quarter"){d.setMonth(3*floorInBase(d.getMonth()/3,tickSize))}else if(unit=="year"){d.setFullYear(floorInBase(d.getFullYear(),tickSize))}d.setMilliseconds(0);if(step>=timeUnitSize.minute){d.setSeconds(0)}if(step>=timeUnitSize.hour){d.setMinutes(0)}if(step>=timeUnitSize.day){d.setHours(0)}if(step>=timeUnitSize.day*4){d.setDate(1)}if(step>=timeUnitSize.month*2){d.setMonth(floorInBase(d.getMonth(),3))}if(step>=timeUnitSize.quarter*2){d.setMonth(floorInBase(d.getMonth(),6))}if(step>=timeUnitSize.year){d.setMonth(0)}var carry=0;var v=Number.NaN;var prev;do{prev=v;v=d.getTime();ticks.push(v);if(unit=="month"||unit=="quarter"){if(tickSize<1){d.setDate(1);var start=d.getTime();d.setMonth(d.getMonth()+(unit=="quarter"?3:1));var end=d.getTime();d.setTime(v+carry*timeUnitSize.hour+(end-start)*tickSize);carry=d.getHours();d.setHours(0)}else{d.setMonth(d.getMonth()+tickSize*(unit=="quarter"?3:1))}}else if(unit=="year"){d.setFullYear(d.getFullYear()+tickSize)}else{d.setTime(v+step)}}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(v,axis){var d=dateGenerator(v,axis.options);if(opts.timeformat!=null){return formatDate(d,opts.timeformat,opts.monthNames,opts.dayNames)}var useQuarters=axis.options.tickSize&&axis.options.tickSize[1]=="quarter"||axis.options.minTickSize&&axis.options.minTickSize[1]=="quarter";var t=axis.tickSize[0]*timeUnitSize[axis.tickSize[1]];var span=axis.max-axis.min;var suffix=opts.twelveHourClock?" %p":"";var hourCode=opts.twelveHourClock?"%I":"%H";var fmt;if(t<timeUnitSize.minute){fmt=hourCode+":%M:%S"+suffix}else if(t<timeUnitSize.day){if(span<2*timeUnitSize.day){fmt=hourCode+":%M"+suffix}else{fmt="%b %d "+hourCode+":%M"+suffix}}else if(t<timeUnitSize.month){fmt="%b %d"}else if(useQuarters&&t<timeUnitSize.quarter||!useQuarters&&t<timeUnitSize.year){if(span<timeUnitSize.year){fmt="%b"}else{fmt="%b %Y"}}else if(useQuarters&&t<timeUnitSize.year){if(span<timeUnitSize.year){fmt="Q%q"}else{fmt="Q%q %Y"}}else{fmt="%Y"}var rt=formatDate(d,fmt,opts.monthNames,opts.dayNames);return rt}}}))}))}$.plot.plugins.push({init:init,options:options,name:"time",version:"1.0"});$.plot.formatDate=formatDate;$.plot.dateGenerator=dateGenerator})(jQuery)},3109:function(module,exports,__webpack_require__){"use strict";(function($){var options={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function init(plot){var crosshair={x:-1,y:-1,locked:false};plot.setCrosshair=function setCrosshair(pos){if(!pos)crosshair.x=-1;else{var o=plot.p2c(pos);crosshair.x=Math.max(0,Math.min(o.left,plot.width()));crosshair.y=Math.max(0,Math.min(o.top,plot.height()))}plot.triggerRedrawOverlay()};plot.clearCrosshair=plot.setCrosshair;plot.lockCrosshair=function lockCrosshair(pos){if(pos)plot.setCrosshair(pos);crosshair.locked=true};plot.unlockCrosshair=function unlockCrosshair(){crosshair.locked=false};function onMouseOut(e){if(crosshair.locked)return;if(crosshair.x!=-1){crosshair.x=-1;plot.triggerRedrawOverlay()}}function onMouseMove(e){if(crosshair.locked)return;if(plot.getSelection&&plot.getSelection()){crosshair.x=-1;return}var offset=plot.offset();crosshair.x=Math.max(0,Math.min(e.pageX-offset.left,plot.width()));crosshair.y=Math.max(0,Math.min(e.pageY-offset.top,plot.height()));plot.triggerRedrawOverlay()}plot.hooks.bindEvents.push((function(plot,eventHolder){if(!plot.getOptions().crosshair.mode)return;eventHolder.mouseout(onMouseOut);eventHolder.mousemove(onMouseMove)}));plot.hooks.drawOverlay.push((function(plot,ctx){var c=plot.getOptions().crosshair;if(!c.mode)return;var plotOffset=plot.getPlotOffset();ctx.save();ctx.translate(plotOffset.left,plotOffset.top);if(crosshair.x!=-1){var adj=plot.getOptions().crosshair.lineWidth%2?.5:0;ctx.strokeStyle=c.color;ctx.lineWidth=c.lineWidth;ctx.lineJoin="round";ctx.beginPath();if(c.mode.indexOf("x")!=-1){var drawX=Math.floor(crosshair.x)+adj;ctx.moveTo(drawX,0);ctx.lineTo(drawX,plot.height())}if(c.mode.indexOf("y")!=-1){var drawY=Math.floor(crosshair.y)+adj;ctx.moveTo(0,drawY);ctx.lineTo(plot.width(),drawY)}ctx.stroke()}ctx.restore()}));plot.hooks.shutdown.push((function(plot,eventHolder){eventHolder.unbind("mouseout",onMouseOut);eventHolder.unbind("mousemove",onMouseMove)}))}$.plot.plugins.push({init:init,options:options,name:"crosshair",version:"1.0"})})(jQuery)},3110:function(module,exports,__webpack_require__){"use strict";(function($){function init(plot){var selection={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var savedhandlers={};var mouseUpHandler=null;function onMouseMove(e){if(selection.active){updateSelection(e);plot.getPlaceholder().trigger("plotselecting",[getSelection()])}}function onMouseDown(e){if(e.which!=1)return;document.body.focus();if(document.onselectstart!==undefined&&savedhandlers.onselectstart==null){savedhandlers.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&savedhandlers.ondrag==null){savedhandlers.ondrag=document.ondrag;document.ondrag=function(){return false}}setSelectionPos(selection.first,e);selection.active=true;mouseUpHandler=function mouseUpHandler(e){onMouseUp(e)};$(document).one("mouseup",mouseUpHandler)}function onMouseUp(e){mouseUpHandler=null;if(document.onselectstart!==undefined)document.onselectstart=savedhandlers.onselectstart;if(document.ondrag!==undefined)document.ondrag=savedhandlers.ondrag;selection.active=false;updateSelection(e);if(selectionIsSane())triggerSelectedEvent();else{plot.getPlaceholder().trigger("plotunselected",[]);plot.getPlaceholder().trigger("plotselecting",[null])}return false}function getSelection(){if(!selectionIsSane())return null;if(!selection.show)return null;var r={},c1=selection.first,c2=selection.second;$.each(plot.getAxes(),(function(name,axis){if(axis.used){var p1=axis.c2p(c1[axis.direction]),p2=axis.c2p(c2[axis.direction]);r[name]={from:Math.min(p1,p2),to:Math.max(p1,p2)}}}));return r}function triggerSelectedEvent(){var r=getSelection();plot.getPlaceholder().trigger("plotselected",[r]);if(r.xaxis&&r.yaxis)plot.getPlaceholder().trigger("selected",[{x1:r.xaxis.from,y1:r.yaxis.from,x2:r.xaxis.to,y2:r.yaxis.to}])}function clamp(min,value,max){return value<min?min:value>max?max:value}function setSelectionPos(pos,e){var o=plot.getOptions();var offset=plot.getPlaceholder().offset();var plotOffset=plot.getPlotOffset();pos.x=clamp(0,e.pageX-offset.left-plotOffset.left,plot.width());pos.y=clamp(0,e.pageY-offset.top-plotOffset.top,plot.height());if(o.selection.mode=="y")pos.x=pos==selection.first?0:plot.width();if(o.selection.mode=="x")pos.y=pos==selection.first?0:plot.height()}function updateSelection(pos){if(pos.pageX==null)return;setSelectionPos(selection.second,pos);if(selectionIsSane()){selection.show=true;plot.triggerRedrawOverlay()}else clearSelection(true)}function clearSelection(preventEvent){if(selection.show){selection.show=false;plot.triggerRedrawOverlay();if(!preventEvent)plot.getPlaceholder().trigger("plotunselected",[])}}function extractRange(ranges,coord){var axis,from,to,key,axes=plot.getAxes();for(var k in axes){axis=axes[k];if(axis.direction==coord){key=coord+axis.n+"axis";if(!ranges[key]&&axis.n==1)key=coord+"axis";if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis=coord=="x"?plot.getXAxes()[0]:plot.getYAxes()[0];from=ranges[coord+"1"];to=ranges[coord+"2"]}if(from!=null&&to!=null&&from>to){var tmp=from;from=to;to=tmp}return{from:from,to:to,axis:axis}}function setSelection(ranges,preventEvent){var axis,range,o=plot.getOptions();if(o.selection.mode=="y"){selection.first.x=0;selection.second.x=plot.width()}else{range=extractRange(ranges,"x");selection.first.x=range.axis.p2c(range.from);selection.second.x=range.axis.p2c(range.to)}if(o.selection.mode=="x"){selection.first.y=0;selection.second.y=plot.height()}else{range=extractRange(ranges,"y");selection.first.y=range.axis.p2c(range.from);selection.second.y=range.axis.p2c(range.to)}selection.show=true;plot.triggerRedrawOverlay();if(!preventEvent&&selectionIsSane())triggerSelectedEvent()}function selectionIsSane(){var minSize=plot.getOptions().selection.minSize;return Math.abs(selection.second.x-selection.first.x)>=minSize&&Math.abs(selection.second.y-selection.first.y)>=minSize}plot.clearSelection=clearSelection;plot.setSelection=setSelection;plot.getSelection=getSelection;plot.hooks.bindEvents.push((function(plot,eventHolder){var o=plot.getOptions();if(o.selection.mode!=null){eventHolder.mousemove(onMouseMove);eventHolder.mousedown(onMouseDown)}}));plot.hooks.drawOverlay.push((function(plot,ctx){if(selection.show&&selectionIsSane()){var plotOffset=plot.getPlotOffset();var o=plot.getOptions();ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var c=$.color.parse(o.selection.color);ctx.strokeStyle=c.scale("a",.8).toString();ctx.lineWidth=1;ctx.lineJoin=o.selection.shape;ctx.fillStyle=c.scale("a",.4).toString();var x=Math.min(selection.first.x,selection.second.x)+.5,y=Math.min(selection.first.y,selection.second.y)+.5,w=Math.abs(selection.second.x-selection.first.x)-1,h=Math.abs(selection.second.y-selection.first.y)-1;ctx.fillRect(x,y,w,h);ctx.strokeRect(x,y,w,h);ctx.restore()}}));plot.hooks.shutdown.push((function(plot,eventHolder){eventHolder.unbind("mousemove",onMouseMove);eventHolder.unbind("mousedown",onMouseDown);if(mouseUpHandler)$(document).unbind("mouseup",mouseUpHandler)}))}$.plot.plugins.push({init:init,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery)},3111:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.eventBus=void 0;var _jquery=_interopRequireDefault(__webpack_require__(23));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var eventBus=(0,_jquery.default)({});exports.eventBus=eventBus},3112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChartOptions=getChartOptions;var _chrome=_interopRequireDefault(__webpack_require__(140));var _lodash=__webpack_require__(3);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getChartOptions(_x){return _getChartOptions.apply(this,arguments)}function _getChartOptions(){_getChartOptions=_asyncToGenerator(regeneratorRuntime.mark((function _callee(axisOptions){var $injector,timezone,opts;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:$injector=_chrome.default.dangerouslyGetActiveInjector();timezone=$injector.get("config").get("dateFormat:tz");opts={legend:{show:false},xaxis:{color:_constants.CHART_LINE_COLOR,timezone:timezone==="Browser"?"browser":"utc",mode:"time",font:{color:_constants.CHART_TEXT_COLOR}},yaxis:{color:_constants.CHART_LINE_COLOR,font:{color:_constants.CHART_TEXT_COLOR}},series:{points:{show:true,radius:1},lines:{show:true,lineWidth:2},shadowSize:0},grid:{margin:0,borderWidth:1,borderColor:_constants.CHART_LINE_COLOR,hoverable:true},crosshair:{mode:"x",color:"#c66",lineWidth:2},selection:{mode:"x",color:_constants.CHART_TEXT_COLOR}};return _context.abrupt("return",(0,_lodash.merge)(opts,axisOptions));case 4:case"end":return _context.stop()}}}),_callee)})));return _getChartOptions.apply(this,arguments)}},3113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HorizontalLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HorizontalLegend=function(_React$Component){_inherits(HorizontalLegend,_React$Component);function HorizontalLegend(){var _this;_classCallCheck(this,HorizontalLegend);_this=_possibleConstructorReturn(this,_getPrototypeOf(HorizontalLegend).call(this));_this.formatter=_this.formatter.bind(_assertThisInitialized(_this));_this.createSeries=_this.createSeries.bind(_assertThisInitialized(_this));return _this}_createClass(HorizontalLegend,[{key:"displayValue",value:function displayValue(value){return _react.default.createElement("span",{className:"monRhythmChart__legendValue"},value)}},{key:"validValue",value:function validValue(value){return value!==null&&value!==undefined&&(typeof value==="string"||!isNaN(value))}},{key:"formatter",value:function formatter(value,row){if(!this.validValue(value)){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.horizontalLegend.notAvailableLabel",defaultMessage:"N/A"})}if(row&&row.tickFormatter){return this.displayValue(row.tickFormatter(value))}if((0,_lodash.isFunction)(this.props.tickFormatter)){return this.displayValue(this.props.tickFormatter(value))}return this.displayValue(value)}},{key:"createSeries",value:function createSeries(row,rowIdx){var _this2=this;var classes=["monRhythmChart__legendItem"];if(!(0,_lodash.includes)(this.props.seriesFilter,row.id)){classes.push("monRhythmChart__legendItem-isDisabled")}if(!row.label||row.legend===false){return _react.default.createElement("div",{key:rowIdx,style:{display:"none"}})}return _react.default.createElement(_eui.EuiKeyboardAccessible,{key:rowIdx},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("button",{className:classes.join(" "),onClick:function onClick(event){return _this2.props.onToggle(event,row.id)}},_react.default.createElement("span",{className:"monRhythmChart__legendLabel"},_react.default.createElement(_eui.EuiIcon,{className:"monRhythmChart__legendIndicator","aria-label":_i18n.i18n.translate("xpack.monitoring.chart.horizontalLegend.toggleButtonAriaLabel",{defaultMessage:"toggle button"}),size:"l",type:"dot",color:row.color})," "+row.label+" "),this.formatter(this.props.seriesValues[row.id],row))))}},{key:"render",value:function render(){var rows=this.props.series.map(this.createSeries);return _react.default.createElement("div",{className:"monRhythmChart__legendHorizontal"},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,gutterSize:"s",className:"monRhythmChart__legendSeries"},rows))}}]);return HorizontalLegend}(_react.default.Component);exports.HorizontalLegend=HorizontalLegend},3114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getValuesForSeriesIndex=getValuesForSeriesIndex;exports.getValuesByX=getValuesByX;exports.findIndexByX=findIndexByX;function getValuesForSeriesIndex(datasets,index,callback){for(var i=0;i<datasets.length;i++){var series=datasets[i];var data=series.data;var y=null;if(data.length>index&&data[index]){y=data[index][1]}callback(series.id,y)}}function getValuesByX(datasets,x,callback){for(var i=0;i<datasets.length;i++){var index=findIndexByX(datasets[i].data,x);if(index!==-1){getValuesForSeriesIndex(datasets,index,callback);break}}}function findIndexByX(data,x){var length=data.length;if(length===1){return 0}else if(length!==0){var prev=null;if(data[0]){prev=0}for(var j=1;j<length;++j){if(data[j]){if(data[j][0]>x){var currentDistance=data[j][0]-x;if(prev!==null&&currentDistance>Math.abs(x-data[prev][0])){return prev}return j}prev=j}}}return length-1}},3115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseriesContainer=MonitoringTimeseriesContainer;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _get_title=__webpack_require__(1093);var _get_units=__webpack_require__(1094);var _monitoring_timeseries=__webpack_require__(1090);var _info_tooltip=__webpack_require__(1092);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var zoomOutBtn=function zoomOutBtn(zoomInfo){if(!zoomInfo||!zoomInfo.showZoomOutBtn()){return null}return _react.default.createElement(_eui.EuiFlexItem,{className:"monRhythmChart__zoom"},_react.default.createElement(_eui.EuiTextAlign,{textAlign:"right"},_react.default.createElement(_eui.EuiButtonEmpty,{color:"primary",size:"s",iconType:"magnifyWithMinus",onClick:zoomInfo.zoomOutHandler},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.timeSeries.zoomOut",defaultMessage:"Zoom out"}))))};function MonitoringTimeseriesContainer(_ref){var series=_ref.series,onBrush=_ref.onBrush,zoomInfo=_ref.zoomInfo;if(series===undefined){return null}var title=(0,_get_title.getTitle)(series);var titleForAriaIds=title.replace(/\s+/,"--");var units=(0,_get_units.getUnits)(series);var bucketSize=(0,_lodash.get)((0,_lodash.first)(series),"bucket_size");var seriesScreenReaderTextList=[_i18n.i18n.translate("xpack.monitoring.chart.seriesScreenReaderListDescription",{defaultMessage:"Interval: {bucketSize}",values:{bucketSize:bucketSize}})].concat(series.map((function(item){return"".concat(item.metric.label,": ").concat(item.metric.description)})));return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"s",className:"monRhythmChart__wrapper"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s",tabIndex:"0"},_react.default.createElement("h2",null,(0,_get_title.getTitle)(series),units?" (".concat(units,")"):"",_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.screenReaderUnaccessibleTitle",defaultMessage:"This chart is not screen reader accessible"})))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiIconTip,{anchorClassName:"eui-textRight eui-alignMiddle monChart__tooltipTrigger",type:"iInCircle",position:"right",content:_react.default.createElement(_info_tooltip.InfoTooltip,{series:series,bucketSize:bucketSize})}),_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("span",{id:"monitoringChart".concat(titleForAriaIds)},seriesScreenReaderTextList.join(". "))))),zoomOutBtn(zoomInfo))),_react.default.createElement(_eui.EuiFlexItem,{style:{minHeight:"200px"}},_react.default.createElement(_monitoring_timeseries.MonitoringTimeseries,{series:series,onBrush:onBrush})))}},3116:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _modules=__webpack_require__(150);var _beat=__webpack_require__(3117);var _i18n=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsBeat",(function(){return{restrict:"E",scope:{data:"=",onBrush:"<",zoomInfo:"<"},link:function link(scope,$el){scope.$on("$destroy",(function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])}));scope.$watch("data",(function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_beat.Beat,{summary:data.summary,metrics:data.metrics,onBrush:scope.onBrush,zoomInfo:scope.zoomInfo})),$el[0])}))}}}))},3117:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Beat",{enumerable:true,get:function get(){return _beat.Beat}});var _beat=__webpack_require__(3118)},3118:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Beat=Beat;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(115);var _format_number=__webpack_require__(49);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _summary_status=__webpack_require__(144);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function Beat(_ref){var summary=_ref.summary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["summary","metrics"]);var metricsToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors,metrics.beat_memory,metrics.beat_cpu_utilization,metrics.beat_os_load,metrics.beat_handles];var summarytStatsTop=[{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.nameLabel",{defaultMessage:"Name"}),value:summary.name,"data-test-subj":"name"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.hostLabel",{defaultMessage:"Host"}),value:summary.transportAddress,"data-test-subj":"host"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.versionLabel",{defaultMessage:"Version"}),value:summary.version,"data-test-subj":"version"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.typeLabel",{defaultMessage:"Type"}),value:summary.type,"data-test-subj":"type"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.outputLabel",{defaultMessage:"Output"}),value:summary.output,"data-test-subj":"output"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.configReloadsLabel",{defaultMessage:"Config reloads"}),value:(0,_format_number.formatMetric)(summary.configReloads,"int_commas"),"data-test-subj":"configReloads"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.uptimeLabel",{defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(summary.uptime,"time_since"),"data-test-subj":"uptime"}];var summarytStatsBot=[{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.eventsTotalLabel",{defaultMessage:"Events total"}),value:(0,_format_number.formatMetric)(summary.eventsTotal,"int_commas"),"data-test-subj":"eventsTotal"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.eventsEmittedLabel",{defaultMessage:"Events emitted"}),value:(0,_format_number.formatMetric)(summary.eventsEmitted,"int_commas"),"data-test-subj":"eventsEmitted"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.eventsDroppedLabel",{defaultMessage:"Events dropped"}),value:(0,_format_number.formatMetric)(summary.eventsDropped,"int_commas"),"data-test-subj":"eventsDropped"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.bytesSentLabel",{defaultMessage:"Bytes sent"}),value:(0,_format_number.formatMetric)(summary.bytesWritten,"byte"),"data-test-subj":"bytesWritten"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.handlesLimitSoftLabel",{defaultMessage:"Handles limit (soft)"}),value:(0,_format_number.formatMetric)(summary.handlesSoftLimit,"int_commas"),"data-test-subj":"handlesLimitSoft"},{label:_i18n.i18n.translate("xpack.monitoring.beats.instance.handlesLimitHardLabel",{defaultMessage:"Handles limit (hard)"}),value:(0,_format_number.formatMetric)(summary.handlesHardLimit,"int_commas"),"data-test-subj":"handlesLimitHard"}];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsTop,"data-test-subj":"beatSummaryStatus01"}),_react.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsBot,"data-test-subj":"beatSummaryStatus02"})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))))))}},3119:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3120);__webpack_require__(3161);__webpack_require__(3172);__webpack_require__(3174);__webpack_require__(3180);__webpack_require__(3183);__webpack_require__(3188);__webpack_require__(3227);__webpack_require__(3230);__webpack_require__(3232);__webpack_require__(3243);__webpack_require__(3246);__webpack_require__(3248);__webpack_require__(3254);__webpack_require__(3257);__webpack_require__(3263);__webpack_require__(3269);__webpack_require__(3272);__webpack_require__(3274);__webpack_require__(3279);__webpack_require__(3282);__webpack_require__(3286);__webpack_require__(3291);__webpack_require__(3293);__webpack_require__(3295);__webpack_require__(3299);__webpack_require__(3301);__webpack_require__(3329);__webpack_require__(3332);__webpack_require__(3336);__webpack_require__(3339);__webpack_require__(3342);__webpack_require__(3346)},3120:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _components=__webpack_require__(234);var _routes=_interopRequireDefault(__webpack_require__(43));var _i18n=__webpack_require__(25);var _index=_interopRequireDefault(__webpack_require__(3160));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var REACT_DOM_ID="monitoringLoadingReactApp";_routes.default.when("/loading",{template:_index.default,controller:function(){function controller($injector,$scope){var _this=this;_classCallCheck(this,controller);var monitoringClusters=$injector.get("monitoringClusters");var kbnUrl=$injector.get("kbnUrl");$scope.$on("$destroy",(function(){(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_DOM_ID))}));$scope.$$postDigest((function(){_this.renderReact()}));monitoringClusters(undefined,undefined,[_constants.CODE_PATH_LICENSE]).then((function(clusters){if(clusters&&clusters.length){kbnUrl.changePath("/home");return}kbnUrl.changePath("/no-data");return}))}_createClass(controller,[{key:"renderReact",value:function renderReact(){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.PageLoading,null)),document.getElementById(REACT_DOM_ID))}}]);return controller}()})},3121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});var _no_data=__webpack_require__(3122)},3122:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoData=NoData;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _setup_mode=__webpack_require__(275);var _checking_settings=__webpack_require__(3123);var _reasons=__webpack_require__(3128);var _checker_errors=__webpack_require__(3136);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function NoDataMessage(props){var isLoading=props.isLoading,reason=props.reason,checkMessage=props.checkMessage;if(isLoading){return _react.default.createElement(_checking_settings.CheckingSettings,{checkMessage:checkMessage})}if(reason){return _react.default.createElement(_reasons.ReasonFound,props)}return _react.default.createElement(_reasons.WeTried,null)}function NoData(props){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(props.isCloudEnabled),_useState4=_slicedToArray(_useState3,2),useInternalCollection=_useState4[0],setUseInternalCollection=_useState4[1];function startSetup(){return _startSetup.apply(this,arguments)}function _startSetup(){_startSetup=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return(0,_setup_mode.toggleSetupMode)(true);case 3:props.changePath("/elasticsearch/nodes");case 4:case"end":return _context.stop()}}}),_callee)})));return _startSetup.apply(this,arguments)}if(useInternalCollection){return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,{restrictWidth:600},_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},_react.default.createElement(_eui.EuiIcon,{type:"monitoringApp",size:"xxl"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(NoDataMessage,props),_react.default.createElement(_checker_errors.CheckerErrors,{errors:props.errors}),!props.isCloudEnabled?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiButtonEmpty,{isDisabled:props.isCollectionEnabledUpdated,onClick:function onClick(){return setUseInternalCollection(false)}},_react.default.createElement(_eui.EuiTextColor,{color:"default"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.setupMetricbeatInstead",defaultMessage:"Or, set up with Metricbeat (recommended)"})))):null)))}return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,{restrictWidth:600},_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},_react.default.createElement(_eui.EuiIcon,{type:"monitoringApp",size:"xxl"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.noMonitoringDetected",defaultMessage:"No monitoring data found"}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.noMonitoringDataFound",defaultMessage:"Have you set up monitoring yet? If so, make sure that the selected time period in the upper right includes monitoring data."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:startSetup,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isLoading},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Set up monitoring with Metricbeat"})))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){return setUseInternalCollection(true)},"data-test-subj":"useInternalCollection"},_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.setupInternalInstead",defaultMessage:"Or, set up with self monitoring"}))))))}NoData.propTypes={changePath:_propTypes.default.func,isLoading:_propTypes.default.bool.isRequired,reason:_propTypes.default.object,checkMessage:_propTypes.default.string}},3123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckingSettings=CheckingSettings;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(331);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function CheckingSettings(_ref){var checkMessage=_ref.checkMessage;var message=checkMessage||_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.defaultLoadingMessage",defaultMessage:"Loading, please wait"});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.LookingFor,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},message,"...")))}CheckingSettings.propTypes={checkMessage:_propTypes.default.string}},3124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LookingFor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LookingFor=function LookingFor(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataTitle",defaultMessage:"We're looking for your monitoring data"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))};exports.LookingFor=LookingFor},3125:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WhatIs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var WhatIs=function WhatIs(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffTitle",defaultMessage:"Monitoring is currently off"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))};exports.WhatIs=WhatIs},3126:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChangesNeeded=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ChangesNeeded=function ChangesNeeded(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededTitle",defaultMessage:"You need to make some adjustments"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededDescription",defaultMessage:"To run monitoring please perform the following steps"})))))};exports.ChangesNeeded=ChangesNeeded},3127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CloudDeployment=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var CloudDeployment=function CloudDeployment(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.cloudDeploymentTitle",defaultMessage:"Your monitoring data is not available here."}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.cloudDeploymentDescription",defaultMessage:"Please return to your "}),_react.default.createElement(_eui.EuiLink,{href:"https://cloud.elastic.co/deployments",target:"_blank"},"cloud dashboard.")," ",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.cloudDeploymentDescriptionMore",defaultMessage:"For more information on Monitoring in Elastic Cloud, please see "}),_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/cloud/current/ec-enable-monitoring.html",target:"_blank"},"the documentation.")))))};exports.CloudDeployment=CloudDeployment},3128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ReasonFound",{enumerable:true,get:function get(){return _reason_found.ReasonFound}});Object.defineProperty(exports,"WeTried",{enumerable:true,get:function get(){return _we_tried.WeTried}});var _reason_found=__webpack_require__(3129);var _we_tried=__webpack_require__(3135)},3129:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReasonFound=ReasonFound;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _explanations=__webpack_require__(3130);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ExplainWhyNoData=function ExplainWhyNoData(props){var reason=props.reason;var property=reason.property,data=reason.data,context=reason.context;switch(property){case"xpack.monitoring.collection.enabled":return _react.default.createElement(_explanations.ExplainCollectionEnabled,props);case"xpack.monitoring.collection.interval":return _react.default.createElement(_explanations.ExplainCollectionInterval,props);case"xpack.monitoring.exporters":return _react.default.createElement(_explanations.ExplainExporters,props);case"xpack.monitoring.exporters.cloud_enabled":return _react.default.createElement(_explanations.ExplainExportersCloud,null);case"xpack.monitoring.enabled":return _react.default.createElement(_explanations.ExplainPluginEnabled,props);case"custom":return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,reason.message));default:return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.explainWhyNoDataDescription",defaultMessage:"There is a {context} setting that has {property} set to {data}.",values:{context:_react.default.createElement(_eui.EuiCode,null,context),property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})))}};function ReasonFound(props){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(ExplainWhyNoData,props))}ReasonFound.propTypes={enabler:_propTypes.default.object.isRequired,reason:_propTypes.default.object.isRequired}},3130:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ExplainCollectionEnabled",{enumerable:true,get:function get(){return _collection_enabled.ExplainCollectionEnabled}});Object.defineProperty(exports,"ExplainCollectionInterval",{enumerable:true,get:function get(){return _collection_interval.ExplainCollectionInterval}});Object.defineProperty(exports,"ExplainPluginEnabled",{enumerable:true,get:function get(){return _plugin_enabled.ExplainPluginEnabled}});Object.defineProperty(exports,"ExplainExporters",{enumerable:true,get:function get(){return _exporters.ExplainExporters}});Object.defineProperty(exports,"ExplainExportersCloud",{enumerable:true,get:function get(){return _exporters.ExplainExportersCloud}});var _collection_enabled=__webpack_require__(3131);var _collection_interval=__webpack_require__(3132);var _plugin_enabled=__webpack_require__(3133);var _exporters=__webpack_require__(3134)},3131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionEnabled=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(331);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ExplainCollectionEnabled=function(_React$Component){_inherits(ExplainCollectionEnabled,_React$Component);function ExplainCollectionEnabled(props){var _this;_classCallCheck(this,ExplainCollectionEnabled);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExplainCollectionEnabled).call(this,props));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.waitedTooLongTimer=null;_this.state={waitedTooLong:false};return _this}_createClass(ExplainCollectionEnabled,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.waitedTooLongTimer)}},{key:"handleClick",value:function handleClick(){var _this2=this;var enabler=this.props.enabler;enabler.enableCollectionEnabled();this.waitedTooLongTimer=setTimeout((function(){_this2.setState({waitedTooLong:true})}),22*1e3)}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,reason=_this$props.reason,isCollectionEnabledUpdated=_this$props.isCollectionEnabledUpdated,isCollectionEnabledUpdating=_this$props.isCollectionEnabledUpdating;var property=reason.property,data=reason.data,context=reason.context;var renderButton=function renderButton(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.WhatIs,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnItOnDescription",defaultMessage:"Would you like to turn it on?"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:_this3.handleClick,type:"button","data-test-subj":"enableCollectionEnabled",isLoading:isCollectionEnabledUpdating},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var stillWaiting=this.state.waitedTooLong?_react.default.createElement("p",null,_react.default.createElement("a",{href:"#/"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.stillWaitingLinkText",defaultMessage:"Still waiting?"}))):null;var renderSuccess=function renderSuccess(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l","data-test-subj":"monitoringCollectionEnabledMessage"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnTitle",defaultMessage:"Success! Getting your monitoring data."}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnDescription",defaultMessage:"When the data is in your cluster, your monitoring dashboard will show up here. This might take a few seconds."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}),_react.default.createElement(_eui.EuiSpacer,null),stillWaiting)};return _react.default.createElement(_react.Fragment,null,isCollectionEnabledUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionEnabled}(_react.default.Component);exports.ExplainCollectionEnabled=ExplainCollectionEnabled;ExplainCollectionEnabled.propTypes={enabler:_propTypes.default.object.isRequired,reason:_propTypes.default.object.isRequired,isCollectionEnabledUpdated:_propTypes.default.bool,isCollectionEnabledUpdating:_propTypes.default.bool}},3132:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionInterval=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(331);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ExplainCollectionInterval=function(_React$Component){_inherits(ExplainCollectionInterval,_React$Component);function ExplainCollectionInterval(props){var _this;_classCallCheck(this,ExplainCollectionInterval);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExplainCollectionInterval).call(this,props));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this}_createClass(ExplainCollectionInterval,[{key:"handleClick",value:function handleClick(){var enabler=this.props.enabler;enabler.enableCollectionInterval()}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,reason=_this$props.reason,isCollectionIntervalUpdated=_this$props.isCollectionIntervalUpdated,isCollectionIntervalUpdating=_this$props.isCollectionIntervalUpdating;var context=reason.context,property=reason.property,data=reason.data;var renderButton=function renderButton(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.WhatIs,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionIntervalDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.wrongIntervalValueDescription",defaultMessage:"The collection interval setting needs to be a positive integer (10s is recommended) in order for the collection agents to be active."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.changeIntervalDescription",defaultMessage:"Would you like us to change it and enable monitoring?"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:_this2.handleClick,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isCollectionIntervalUpdating},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var renderSuccess=function renderSuccess(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnTitle",defaultMessage:"Success! Wait a moment please."}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnDescription",defaultMessage:"As soon as monitoring data appears in your cluster the page will automatically refresh with your monitoring dashboard. This only takes only a few seconds."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))};return _react.default.createElement(_react.Fragment,null,isCollectionIntervalUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionInterval}(_react.default.Component);exports.ExplainCollectionInterval=ExplainCollectionInterval;ExplainCollectionInterval.propTypes={enabler:_propTypes.default.object.isRequired,reason:_propTypes.default.object.isRequired,isCollectionIntervalUpdated:_propTypes.default.bool,isCollectionIntervalUpdating:_propTypes.default.bool}},3133:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainPluginEnabled=ExplainPluginEnabled;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(331);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ExplainPluginEnabled(_ref){var reason=_ref.reason;var context=reason.context,property=reason.property,data=reason.data;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.ChangesNeeded,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.pluginEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data} set, which disables monitoring. Removing the {monitoringEnableFalse} setting from your configuration will put the default into effect and enable Monitoring.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data),monitoringEnableFalse:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.enabled: false")}}))))}ExplainPluginEnabled.propTypes={reason:_propTypes.default.object.isRequired}},3134:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainExporters=ExplainExporters;exports.ExplainExportersCloud=ExplainExportersCloud;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(331);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ExplainExporters(_ref){var reason=_ref.reason;var context=reason.context,property=reason.property,data=reason.data;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.ChangesNeeded,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exportersDescription",defaultMessage:"We checked the {context} settings for {property}, and found the reason: {data}.",values:{context:_react.default.createElement(_eui.EuiCode,null,context),property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.problemWithConfigDescription",defaultMessage:"Using monitoring exporters to ship the monitoring data to a remote monitoring cluster is highly recommended as it keeps the integrity of the monitoring data safe no matter what the state of the production cluster. However, as this instance of Kibana could not find any monitoring data, there seems to be a problem with the {property} configuration, or the {monitoringEs} settings in {kibanaConfig}.",values:{property:_react.default.createElement(_eui.EuiCode,null,property),monitoringEs:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react.default.createElement(_eui.EuiCode,null,"kibana.yml")}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.checkConfigDescription",defaultMessage:"Check that the intended exporters are enabled for sending statistics to the monitoring cluster, and that the monitoring cluster host matches the {monitoringEs} setting in {kibanaConfig} to see monitoring data in this instance of Kibana.",values:{monitoringEs:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react.default.createElement(_eui.EuiCode,null,"kibana.yml")}}))))}ExplainExporters.propTypes={reason:_propTypes.default.object.isRequired};function ExplainExportersCloud(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.CloudDeployment,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exportersCloudDescription",defaultMessage:"In Elastic Cloud, your monitoring data is stored in your dedicated monitoring cluster."}))))}},3135:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WeTried=WeTried;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function WeTried(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.couldNotActivateMonitoringTitle",defaultMessage:"We couldn't activate monitoring"}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.noMonitoringDataFoundDescription",defaultMessage:'No monitoring data found. Try setting the time filter to "Last 1 hour" or check if data is available for a different time period.'})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.ifDataInClusterDescription",defaultMessage:"If data is in your cluster, your monitoring dashboards will show up here."}))))}},3136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckerErrors=CheckerErrors;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ErrorList=function ErrorList(_ref){var errors=_ref.errors;var errorsMap={};return errors.filter((function(err){var statusCode=err.statusCode,error=err.error,message=err.message;var key="".concat(statusCode).concat(error).concat(message);if(!errorsMap[key]){errorsMap[key]=true;return true}})).map((function(error,errorIndex){var message=error.message,statusCode=error.statusCode,friendlyName=error.error;return _react.default.createElement(_react.Fragment,{key:"checker-error-".concat(errorIndex)},_react.default.createElement(_eui.EuiDescriptionListTitle,null,statusCode," ",friendlyName),_react.default.createElement(_eui.EuiDescriptionListDescription,null,message))}))};function CheckerErrors(props){if(props.errors===undefined||props.errors.length===0){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{title:"Errors found",color:"danger",className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.checkerErrors.checkEsSettingsErrorMessage",defaultMessage:"There were some errors encountered in trying to check Elasticsearch settings. You need administrator rights to check the settings and, if needed, to enable the monitoring collection setting."})),_react.default.createElement(_eui.EuiDescriptionList,null,_react.default.createElement(ErrorList,props))))}CheckerErrors.propTypes={errors:_propTypes.default.array}},3137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.License=License;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _components=__webpack_require__(1095);var _react2=__webpack_require__(4);var _chrome=_interopRequireDefault(__webpack_require__(140));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var licenseManagement="".concat(_chrome.default.getBasePath(),"/app/kibana#/management/elasticsearch/license_management");var LicenseUpdateInfoForPrimary=function LicenseUpdateInfoForPrimary(_ref){var isPrimaryCluster=_ref.isPrimaryCluster,uploadLicensePath=_ref.uploadLicensePath;if(!isPrimaryCluster){return null}return _react.default.createElement(_components.AddLicense,{uploadPath:uploadLicensePath})};var LicenseUpdateInfoForRemote=function LicenseUpdateInfoForRemote(_ref2){var isPrimaryCluster=_ref2.isPrimaryCluster;if(isPrimaryCluster){return null}return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.license.howToUpdateLicenseDescription",defaultMessage:"To update the license for this cluster, provide the license file through the Elasticsearch {apiText}:",values:{apiText:"API"}})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCodeBlock,null,"curl -XPUT -u <user> 'https://<host>:<port>/_license' -H 'Content-Type: application/json' -d @license.json"))};function License(props){var status=props.status,type=props.type,isExpired=props.isExpired,expiryDate=props.expiryDate;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_components.LicenseStatus,{isExpired:isExpired,status:status,type:type,expiryDate:expiryDate}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(LicenseUpdateInfoForPrimary,props),_react.default.createElement(LicenseUpdateInfoForRemote,props))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,{size:"s",textAlign:"center"},_react.default.createElement("p",null,"For more license options please visit",_react.default.createElement(_eui.EuiLink,{href:licenseManagement},"License Management"),"."))))}},3138:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var LicenseStatus=function(_React$PureComponent){_inherits(LicenseStatus,_React$PureComponent);function LicenseStatus(){_classCallCheck(this,LicenseStatus);return _possibleConstructorReturn(this,_getPrototypeOf(LicenseStatus).apply(this,arguments))}_createClass(LicenseStatus,[{key:"render",value:function render(){var _this$props=this.props,isExpired=_this$props.isExpired,status=_this$props.status,type=_this$props.type,expiryDate=_this$props.expiryDate;var typeTitleCase=type.charAt(0).toUpperCase()+type.substr(1).toLowerCase();var icon;var title;var message;if(isExpired){icon=_react.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"});message=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusDescription",defaultMessage:"Your license expired on {expiryDate}",values:{expiryDate:_react.default.createElement("strong",null,expiryDate)}}));title=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license has expired",values:{typeTitleCase:typeTitleCase}})}else{icon=_react.default.createElement(_eui.EuiIcon,{color:"success",type:"checkInCircleFilled",size:"l"});message=expiryDate?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusDescription",defaultMessage:"Your license will expire on {expiryDate}",values:{expiryDate:_react.default.createElement("strong",null,expiryDate)}})):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.permanentActiveLicenseStatusDescription",defaultMessage:"Your license will never expire."}));title=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license is {status}",values:{typeTitleCase:typeTitleCase,status:status.toLowerCase()}})}return _react.default.createElement(_eui.EuiTextAlign,{textAlign:"center"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",{"data-test-subj":"licenseText"},title)))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,{"data-test-subj":"licenseSubText"},message))}}]);return LicenseStatus}(_react.default.PureComponent);exports.LicenseStatus=LicenseStatus},3139:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLicense=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _constants=__webpack_require__(504);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AddLicense=function AddLicense(_ref){var _ref$uploadPath=_ref.uploadPath,uploadPath=_ref$uploadPath===void 0?"#".concat(_constants.BASE_PATH,"upload_license"):_ref$uploadPath;return _react.default.createElement(_eui.EuiCard,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseTitle",defaultMessage:"Update your license"}),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.useAvailableLicenseDescription",defaultMessage:"If you already have a new license, upload it now."}),footer:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"updateLicenseButton",href:uploadPath},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseButtonLabel",defaultMessage:"Update license"}))})};exports.AddLicense=AddLicense},3140:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageLoading=PageLoading;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PageLoading(){return _react.default.createElement(_eui.EuiPage,{style:{height:"calc(100vh - 50px)"}},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"noData__content"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.pageLoadingTitle",defaultMessage:"Loading"}))))))))}},3141:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}});var _overview=__webpack_require__(3142);var _nodes=__webpack_require__(3154);var _indices=__webpack_require__(3158)},3142:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}});var _overview=__webpack_require__(3143)},3143:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchOverview=ElasticsearchOverview;var _react=_interopRequireDefault(__webpack_require__(0));var _cluster_status=__webpack_require__(429);var _shard_activity=__webpack_require__(3144);var _chart=__webpack_require__(115);var _eui=__webpack_require__(2);var _logs=__webpack_require__(1096);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ElasticsearchOverview(_ref){var clusterStatus=_ref.clusterStatus,metrics=_ref.metrics,logs=_ref.logs,cluster=_ref.cluster,shardActivity=_ref.shardActivity,props=_objectWithoutProperties(_ref,["clusterStatus","metrics","logs","cluster","shardActivity"]);var metricsToShow=[metrics.cluster_search_request_rate,metrics.cluster_query_latency,metrics.cluster_index_request_rate,metrics.cluster_index_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,clusterUuid:cluster.cluster_uuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_shard_activity.ShardActivity,_extends({data:shardActivity},props)))))}},3144:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ShardActivity",{enumerable:true,get:function get(){return _shard_activity.ShardActivity}});var _shard_activity=__webpack_require__(3145)},3145:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardActivity=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _table=__webpack_require__(131);var _recovery_index=__webpack_require__(3146);var _total_time=__webpack_require__(3148);var _source_destination=__webpack_require__(3149);var _progress=__webpack_require__(3151);var _parse_props=__webpack_require__(3152);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.indexTitle",{defaultMessage:"Index"}),field:"name",render:function render(_name,shard){return _react.default.createElement(_recovery_index.RecoveryIndex,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.stageTitle",{defaultMessage:"Stage"}),field:"stage"},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.totalTimeTitle",{defaultMessage:"Total Time"}),field:null,render:function render(shard){return _react.default.createElement(_total_time.TotalTime,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.sourceDestinationTitle",{defaultMessage:"Source / Destination"}),field:null,render:function render(shard){return _react.default.createElement(_source_destination.SourceDestination,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.filesTitle",{defaultMessage:"Files"}),field:null,render:function render(shard){return _react.default.createElement(_progress.FilesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.bytesTitle",{defaultMessage:"Bytes"}),field:null,render:function render(shard){return _react.default.createElement(_progress.BytesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.translogTitle",{defaultMessage:"Translog"}),field:null,render:function render(shard){return _react.default.createElement(_progress.TranslogProgress,shard)}}];var ShardActivity=function(_React$Component){_inherits(ShardActivity,_React$Component);function ShardActivity(props){var _this;_classCallCheck(this,ShardActivity);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShardActivity).call(this,props));_this.getNoDataMessage=_this.getNoDataMessage.bind(_assertThisInitialized(_this));return _this}_createClass(ShardActivity,[{key:"getNoDataMessage",value:function getNoDataMessage(){if(this.props.showShardActivityHistory){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardActivity.noDataMessage",{defaultMessage:"There are no historical shard activity records for the selected time range."})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextProblem",defaultMessage:"There are no active shard recoveries for this cluster."}),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextSolution",defaultMessage:"Try viewing {shardActivityHistoryLink}.",values:{shardActivityHistoryLink:_react.default.createElement(_eui.EuiLink,{onClick:this.props.toggleShardActivityHistory},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkText",defaultMessage:"completed recoveries"}))}}))}},{key:"render",value:function render(){var _this$props=this.props,rawData=_this$props.data,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange,toggleShardActivityHistory=_this$props.toggleShardActivityHistory,showShardActivityHistory=_this$props.showShardActivityHistory;if(rawData===null){return null}var rows=rawData.map(_parse_props.parseProps);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivityTitle",defaultMessage:"Shard Activity"})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiSwitch,{id:"monitoring_completed_recoveries",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.completedRecoveriesLabel",defaultMessage:"Completed recoveries"}),onChange:toggleShardActivityHistory,checked:showShardActivityHistory}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_table.EuiMonitoringTable,{className:"esShardActivityTable",rows:rows,columns:columns,message:this.getNoDataMessage(),sorting:sorting,search:false,pagination:pagination,onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))}}]);return ShardActivity}(_react.default.Component);exports.ShardActivity=ShardActivity},3146:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecoveryIndex=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _snapshot=__webpack_require__(3147);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecoveryIndex=function RecoveryIndex(props){var name=props.name,shard=props.shard,relocationType=props.relocationType;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/".concat(name)},name),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.shardDescription",defaultMessage:"Shard: {shard}",values:{shard:shard}}),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.recoveryTypeDescription",defaultMessage:"Recovery type: {relocationType}",values:{relocationType:relocationType}}),_react.default.createElement("div",null,_react.default.createElement(_snapshot.Snapshot,props)))};exports.RecoveryIndex=RecoveryIndex},3147:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Snapshot=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Snapshot=function Snapshot(_ref){var isSnapshot=_ref.isSnapshot,repo=_ref.repo,snapshot=_ref.snapshot;return isSnapshot?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.snapshotTitle",defaultMessage:"Repo: {repo} / Snapshot: {snapshot}",values:{repo:repo,snapshot:snapshot}})):null};exports.Snapshot=Snapshot},3148:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TotalTime=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TotalTime=function TotalTime(_ref){var startTime=_ref.startTime,totalTime=_ref.totalTime;return _react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.totalTimeTooltip",defaultMessage:"Started: {startTime}",values:{startTime:startTime}}),position:"bottom"},_react.default.createElement(_eui.EuiLink,null,totalTime))};exports.TotalTime=TotalTime},3149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestination=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _source_tooltip=__webpack_require__(3150);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceDestination=function SourceDestination(props){var sourceName=props.sourceName,targetName=props.targetName,targetTransportAddress=props.targetTransportAddress;var targetTransportAddressContent=targetTransportAddress||_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardActivity.unknownTargetAddressContent",{defaultMessage:"Unknown"});return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center",wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_source_tooltip.SourceTooltip,props,sourceName)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:"arrowRight",size:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:targetTransportAddressContent,position:"bottom"},_react.default.createElement(_eui.EuiLink,null,targetName))))};exports.SourceDestination=SourceDestination},3150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceTooltip=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SourceTooltip=function SourceTooltip(_ref){var isCopiedFromPrimary=_ref.isCopiedFromPrimary,sourceTransportAddress=_ref.sourceTransportAddress,children=_ref.children;if(!sourceTransportAddress){return children}var tipText=_react.default.createElement(_react.Fragment,null,sourceTransportAddress,_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip",defaultMessage:"Copied from {copiedFrom} shard",values:{copiedFrom:isCopiedFromPrimary?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.primarySourceText",defaultMessage:"primary"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.replicaSourceText",defaultMessage:"replica"})}}));return _react.default.createElement(_eui.EuiToolTip,{content:tipText,position:"bottom"},_react.default.createElement(_eui.EuiLink,null,children))};exports.SourceTooltip=SourceTooltip},3151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TranslogProgress=exports.BytesProgress=exports.FilesProgress=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FilesProgress=function FilesProgress(_ref){var filesPercent=_ref.filesPercent,filesDone=_ref.filesDone,filesTotal=_ref.filesTotal;return _react.default.createElement(_react.Fragment,null,filesPercent,_react.default.createElement("br",null),filesDone," / ",filesTotal)};exports.FilesProgress=FilesProgress;var BytesProgress=function BytesProgress(_ref2){var bytesPercent=_ref2.bytesPercent,bytesDone=_ref2.bytesDone,bytesTotal=_ref2.bytesTotal;return _react.default.createElement(_react.Fragment,null,bytesPercent,_react.default.createElement("br",null),bytesDone," / ",bytesTotal)};exports.BytesProgress=BytesProgress;var TranslogProgress=function TranslogProgress(_ref3){var hasTranslog=_ref3.hasTranslog,translogPercent=_ref3.translogPercent,translogDone=_ref3.translogDone,translogTotal=_ref3.translogTotal;return hasTranslog?_react.default.createElement(_react.Fragment,null,translogPercent,_react.default.createElement("br",null),translogDone," / ",translogTotal):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.progress.noTranslogProgressLabel",defaultMessage:"n/a"})};exports.TranslogProgress=TranslogProgress},3152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseProps=void 0;var _chrome=_interopRequireDefault(__webpack_require__(140));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(49);var _formatting=__webpack_require__(185);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getIpAndPort=function getIpAndPort(transport){if(transport!==undefined){var matches=transport.match(/([\d\.:]+)\]$/);if(matches){return matches[1]}}return transport};var normalizeString=function normalizeString(text){return(0,_lodash.capitalize)(text.toLowerCase())};var parseProps=function parseProps(props){var id=props.id,stage=props.stage,index=props.index,indexName=props.index_name,isPrimary=props.primary,startTimeInMillis=props.start_time_in_millis,totalTimeInMillis=props.total_time_in_millis,source=props.source,target=props.target,translog=props.translog,type=props.type;var files=index.files,size=index.size;var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");return{name:indexName||index.name,shard:"".concat(id," / ").concat(isPrimary?"Primary":"Replica"),relocationType:type==="PRIMARY_RELOCATION"?"Primary Relocation":normalizeString(type),stage:normalizeString(stage),startTime:(0,_formatting.formatDateTimeLocal)(startTimeInMillis,timezone),totalTime:(0,_format_number.formatMetric)(Math.floor(totalTimeInMillis/1e3),"00:00:00"),isCopiedFromPrimary:!isPrimary||type==="PRIMARY_RELOCATION",sourceName:source.name===undefined?"n/a":source.name,targetName:target.name,sourceTransportAddress:getIpAndPort(source.transport_address),targetTransportAddress:getIpAndPort(target.transport_address),isSnapshot:type==="SNAPSHOT",repo:source.repository,snapshot:source.snapshot,filesPercent:files.percent,filesDone:files.reused?files.reused:files.recovered,filesTotal:files.total,bytesPercent:size.percent,bytesDone:(0,_format_number.formatMetric)(size.recovered_in_bytes+size.reused_in_bytes,"byte"),bytesTotal:(0,_format_number.formatMetric)(size.total_in_bytes,"byte"),hasTranslog:translog.total>0,translogPercent:translog.percent,translogDone:translog.total,translogTotal:translog.total_on_start}};exports.parseProps=parseProps},3153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.capabilities=void 0;var _legacy_imports=__webpack_require__(387);var capabilities={get:function get(){return _legacy_imports.npStart.core.application.capabilities}};exports.capabilities=capabilities},3154:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}});var _nodes=__webpack_require__(3155)},3155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchNodes=ElasticsearchNodes;var _react=_interopRequireWildcard(__webpack_require__(0));var _node=__webpack_require__(1099);var _extract_ip=__webpack_require__(1088);var _cluster_status=__webpack_require__(429);var _table=__webpack_require__(131);var _cells=__webpack_require__(3157);var _badge=__webpack_require__(332);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _lodash=_interopRequireDefault(__webpack_require__(3));var _constants=__webpack_require__(19);var _listing_callout=__webpack_require__(333);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var getNodeTooltip=function getNodeTooltip(node){var nodeTypeLabel=node.nodeTypeLabel,nodeTypeClass=node.nodeTypeClass;var nodeTypeLabelContent=nodeTypeLabel||_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.unknownNodeTypeLabel",{defaultMessage:"Unknown"});var nodeTypeClassIcon=nodeTypeClass||"empty";if(nodeTypeLabel){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiToolTip,{position:"bottom",content:nodeTypeLabelContent},_react.default.createElement(_eui.EuiIcon,{type:nodeTypeClassIcon}))," ","")}return null};var getSortHandler=function getSortHandler(type){return function(item){return _lodash.default.get(item,[type,"summary","lastVal"])}};var getColumns=function getColumns(showCgroupMetricsElasticsearch,setupMode,clusterUuid){var cols=[];var cpuUsageColumnTitle=_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuUsageColumnTitle",{defaultMessage:"CPU Usage"});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.nameColumnTitle",{defaultMessage:"Name"}),width:"20%",field:"name",sortable:true,render:function render(value,node){var nameLink=_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/nodes/".concat(node.resolver),"data-test-subj":"nodeLink-".concat(node.resolver)},value);var setupModeStatus=null;if(setupMode&&setupMode.enabled){var list=_lodash.default.get(setupMode,"data.byUuid",{});var status=list[node.resolver]||{};var instance={uuid:node.resolver,name:node.name};setupModeStatus=_react.default.createElement("div",{className:"monTableCell__setupModeStatus"},_react.default.createElement(_badge.SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:_constants.ELASTICSEARCH_SYSTEM_ID,clusterUuid:clusterUuid}));if(status.isNetNewUser){nameLink=value}}return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__name"},_react.default.createElement(_eui.EuiText,{size:"m"},getNodeTooltip(node),_react.default.createElement("span",{"data-test-subj":"name"},nameLink))),_react.default.createElement("div",{className:"monTableCell__transportAddress"},(0,_extract_ip.extractIp)(node.transport_address)),setupModeStatus)}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumnTitle",{defaultMessage:"Status"}),field:"isOnline",sortable:true,render:function render(value){var status=value?_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumn.onlineLabel",{defaultMessage:"Online"}):_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumn.offlineLabel",{defaultMessage:"Offline"});return _react.default.createElement("div",{className:"monTableCell__status"},_react.default.createElement(_node.NodeStatusIcon,{isOnline:value,status:status})," ",status)}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.shardsColumnTitle",{defaultMessage:"Shards"}),field:"shardCount",sortable:true,render:function render(value,node){return node.isOnline?_react.default.createElement("div",{className:"monTableCell__number","data-test-subj":"shards"},value):_react.default.createElement(_cells.OfflineCell,null)}});if(showCgroupMetricsElasticsearch){cols.push({name:cpuUsageColumnTitle,field:"node_cgroup_quota",sortable:getSortHandler("node_cgroup_quota"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuQuota"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuThrottlingColumnTitle",{defaultMessage:"CPU Throttling"}),field:"node_cgroup_throttled",sortable:getSortHandler("node_cgroup_throttled"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"cpuThrottled"})}})}else{cols.push({name:cpuUsageColumnTitle,field:"node_cpu_utilization",sortable:getSortHandler("node_cpu_utilization"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuUsage"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"node_load_average",sortable:getSortHandler("node_load_average"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"loadAverage"})}})}cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.jvmMemoryColumnTitle",{defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}}),field:"node_jvm_mem_percent",sortable:getSortHandler("node_jvm_mem_percent"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"jvmMemory"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.diskFreeSpaceColumnTitle",{defaultMessage:"Disk Free Space"}),field:"node_free_space",sortable:getSortHandler("node_free_space"),render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"diskFreeSpace"})}});return cols};function ElasticsearchNodes(_ref){var clusterStatus=_ref.clusterStatus,showCgroupMetricsElasticsearch=_ref.showCgroupMetricsElasticsearch,props=_objectWithoutProperties(_ref,["clusterStatus","showCgroupMetricsElasticsearch"]);var sorting=props.sorting,pagination=props.pagination,onTableChange=props.onTableChange,clusterUuid=props.clusterUuid,setupMode=props.setupMode,fetchMoreData=props.fetchMoreData;var columns=getColumns(showCgroupMetricsElasticsearch,setupMode,clusterUuid);var nodes=props.nodes||[];if(setupMode.enabled&&setupMode.data){var nodesByUuid=nodes.reduce((function(byUuid,node){return _objectSpread({},byUuid,_defineProperty({},node.id||node.resolver,node))}),{});nodes.push.apply(nodes,_toConsumableArray(Object.entries(setupMode.data.byUuid).reduce((function(nodes,_ref2){var _ref3=_slicedToArray(_ref2,2),nodeUuid=_ref3[0],instance=_ref3[1];if(!nodesByUuid[nodeUuid]&&instance.node){nodes.push(instance.node)}return nodes}),[])))}var setupModeCallout=null;if(setupMode.enabled&&setupMode.data){setupModeCallout=_react.default.createElement(_listing_callout.ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:true,productName:_constants.ELASTICSEARCH_SYSTEM_ID,customRenderer:function customRenderer(){var customRenderResponse={shouldRender:false,componentToRender:null};var isNetNewUser=setupMode.data.totalUniqueInstanceCount===0;var hasNoInstances=setupMode.data.totalUniqueInternallyCollectedCount===0&&setupMode.data.totalUniqueFullyMigratedCount===0&&setupMode.data.totalUniquePartiallyMigratedCount===0;if(isNetNewUser||hasNoInstances){customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.detectedNodeTitle",{defaultMessage:"Elasticsearch node detected"}),color:setupMode.data.totalUniqueInstanceCount>0?"danger":"warning",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.detectedNodeDescription",{defaultMessage:"The following nodes are not monitored. Click 'Monitor with Metricbeat' below to start monitoring."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}else if(setupMode.data.totalUniquePartiallyMigratedCount===setupMode.data.totalUniqueInstanceCount){var finishMigrationAction=_lodash.default.get(setupMode.meta,"liveClusterUuid")===clusterUuid?setupMode.shortcutToFinishMigration:setupMode.openFlyout;customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionTitle",{defaultMessage:"Metricbeat is now monitoring your Elasticsearch nodes"}),color:"warning",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionDescription",{defaultMessage:"Disable self monitoring to finish the migration."})),_react.default.createElement(_eui.EuiButton,{onClick:finishMigrationAction,size:"s",color:"warning",fill:true},_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionMigrationButtonLabel",{defaultMessage:"Disable self monitoring"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return customRenderResponse}})}function renderClusterStatus(){if(!clusterStatus){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,renderClusterStatus(),setupModeCallout,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringSSPTable,{className:"elasticsearchNodesTable",rows:nodes,columns:columns,sorting:sorting,pagination:pagination,setupMode:setupMode,productName:_constants.ELASTICSEARCH_SYSTEM_ID,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.monitoringTablePlaceholder",{defaultMessage:"Filter Nodes"})}},onTableChange:onTableChange,fetchMoreData:fetchMoreData}))))}},3156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeStatusIcon=NodeStatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(233);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NodeStatusIcon(_ref){var isOnline=_ref.isOnline,status=_ref.status;var type=isOnline?_status_icon.StatusIcon.TYPES.GREEN:_status_icon.StatusIcon.TYPES.GRAY;return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.node.statusIconLabel",{defaultMessage:"Status: {status}",values:{status:status}})})}},3157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OfflineCell=OfflineCell;exports.MetricCell=MetricCell;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(49);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function OfflineCell(){return _react.default.createElement("div",{className:"monTableCell__number monTableCell__offline"},"N/A")}var getSlopeArrow=function getSlopeArrow(slope){if(slope||slope===0){return slope>0?"up":"down"}return null};var metricVal=function metricVal(metric,format,isPercent){if(isPercent){return(0,_format_number.formatMetric)(metric,format,"%",{prependSpace:false})}return(0,_format_number.formatMetric)(metric,format)};var noWrapStyle={overflowX:"hidden",whiteSpace:"nowrap"};function MetricCell(_ref){var isOnline=_ref.isOnline,_ref$metric=_ref.metric,metric=_ref$metric===void 0?{}:_ref$metric,isPercent=_ref.isPercent,props=_objectWithoutProperties(_ref,["isOnline","metric","isPercent"]);if(isOnline){var _get=(0,_lodash.get)(metric,"summary",{}),lastVal=_get.lastVal,maxVal=_get.maxVal,minVal=_get.minVal,slope=_get.slope;var format=(0,_lodash.get)(metric,"metric.format");return _react.default.createElement(_eui.EuiFlexGroup,_extends({gutterSize:"m",alignItems:"center",wrap:true},props),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s",style:noWrapStyle},_react.default.createElement("span",null,metricVal(lastVal,format,isPercent),"",_react.default.createElement("span",{className:"fa fa-long-arrow-".concat(getSlopeArrow(slope))}))),_react.default.createElement(_eui.EuiText,{size:"xs"},_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cells.maxText",{defaultMessage:"{metric} max",values:{metric:metricVal(maxVal,format,isPercent)}})),_react.default.createElement(_eui.EuiText,{size:"xs"},_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cells.minText",{defaultMessage:"{metric} min",values:{metric:metricVal(minVal,format,isPercent)}}))))}return _react.default.createElement(OfflineCell,null)}},3158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}});var _indices=__webpack_require__(3159)},3159:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchIndices=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _formatting=__webpack_require__(185);var _format_number=__webpack_require__(49);var _status_icon=__webpack_require__(577);var _cluster_status=__webpack_require__(429);var _table=__webpack_require__(131);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.nameTitle",{defaultMessage:"Name"}),field:"name",width:"350px",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"name"},_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/".concat(value),"data-test-subj":"indexLink-".concat(value)},value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.statusTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:function render(value){return _react.default.createElement("div",{className:"monElasticsearchIndicesTable__status",title:"Index status: ".concat(value)},_react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:value}),"",(0,_lodash.capitalize)(value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.documentCountTitle",{defaultMessage:"Document Count"}),field:"doc_count",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"documentCount"},(0,_format_number.formatMetric)(value,_formatting.LARGE_ABBREVIATED))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.dataTitle",{defaultMessage:"Data"}),field:"data_size",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"dataSize"},(0,_format_number.formatMetric)(value,_formatting.LARGE_BYTES))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.indexRateTitle",{defaultMessage:"Index Rate"}),field:"index_rate",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"indexRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.searchRateTitle",{defaultMessage:"Search Rate"}),field:"search_rate",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"searchRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.unassignedShardsTitle",{defaultMessage:"Unassigned Shards"}),field:"unassigned_shards",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"unassignedShards"},(0,_format_number.formatMetric)(value,"0"))}}];var getNoDataMessage=function getNoDataMessage(){return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.noIndicesMatchYourSelectionDescription",defaultMessage:"There are no indices that match your selections. Try changing the time range selection."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.howToShowSystemIndicesDescription",defaultMessage:"If you are looking for system indices (e.g., .kibana), try checking Show system indices."})))};var ElasticsearchIndices=function ElasticsearchIndices(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange,toggleShowSystemIndices=_ref.toggleShowSystemIndices,showSystemIndices=_ref.showSystemIndices;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.systemIndicesLabel",defaultMessage:"System indices"}),checked:showSystemIndices,onChange:function onChange(e){return toggleShowSystemIndices(e.target.checked)}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_table.EuiMonitoringTable,{className:"elasticsearchIndicesTable",rows:indices,columns:columns,sorting:sorting,pagination:pagination,message:getNoDataMessage(),search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.monitoringTablePlaceholder",{defaultMessage:"Filter Indices"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))};exports.ElasticsearchIndices=ElasticsearchIndices},3160:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main name="loading">\n  <div data-test-subj="loadingContainer">\n    <div id="monitoringLoadingReactApp"></div>\n  </div>\n</monitoring-main>\n'},3161:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(43));var _index=_interopRequireDefault(__webpack_require__(3162));var _controller=__webpack_require__(3163);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/no-data",{template:_index.default,controller:_controller.NoDataController}).otherwise({redirectTo:"/home"})},3162:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main name="no-data">\n  <div data-test-subj="noDataContainer">\n    <div id="noDataReact"></div>\n  </div>\n</monitoring-main>\n'},3163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoDataController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _elasticsearch_settings=__webpack_require__(3164);var _model_updater=__webpack_require__(3169);var _components=__webpack_require__(234);var _i18n=__webpack_require__(25);var _constants=__webpack_require__(19);var _base_controller=__webpack_require__(100);var _i18n2=__webpack_require__(1);var _new_platform=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var NoDataController=function(_MonitoringViewBaseCo){_inherits(NoDataController,_MonitoringViewBaseCo);function NoDataController($injector,$scope){var _this;_classCallCheck(this,NoDataController);var monitoringClusters=$injector.get("monitoringClusters");var kbnUrl=$injector.get("kbnUrl");var $http=$injector.get("$http");var checkers=[new _elasticsearch_settings.ClusterSettingsChecker($http),new _elasticsearch_settings.NodeSettingsChecker($http)];var getData=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var catchReason,monitoringClustersData;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return monitoringClusters(undefined,undefined,[_constants.CODE_PATH_LICENSE]);case 3:monitoringClustersData=_context.sent;if(!(monitoringClustersData&&monitoringClustersData.length)){_context.next=7;break}kbnUrl.redirect("/home");return _context.abrupt("return",monitoringClustersData);case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);if(_context.t0&&_context.t0.status===503){catchReason={property:"custom",message:_context.t0.data.message}}case 12:_this.errors.length=0;if(!catchReason){_context.next=17;break}_this.reason=catchReason;_context.next=20;break;case 17:if(!(!_this.isCollectionEnabledUpdating&&!_this.isCollectionIntervalUpdating)){_context.next=20;break}_context.next=20;return(0,_elasticsearch_settings.startChecks)(checkers,updateModel);case 20:case"end":return _context.stop()}}}),_callee,null,[[0,9]])})));return function getData(){return _ref.apply(this,arguments)}}();_this=_possibleConstructorReturn(this,_getPrototypeOf(NoDataController).call(this,{title:_i18n2.i18n.translate("xpack.monitoring.noData.routeTitle",{defaultMessage:"Setup Monitoring"}),getPageData:function(){var _getPageData=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getData();case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));function getPageData(){return _getPageData.apply(this,arguments)}return getPageData}(),reactNodeId:"noDataReact",$scope:$scope,$injector:$injector}));Object.assign(_assertThisInitialized(_this),_this.getDefaultModel());var _ref2=new _model_updater.ModelUpdater($scope,_assertThisInitialized(_this)),updateModel=_ref2.updateModel;var enabler=new _elasticsearch_settings.Enabler($http,updateModel);$scope.$watch((function(){return _assertThisInitialized(_this)}),(function(){if(_this.isCollectionEnabledUpdated&&!_this.reason){return}_this.render(enabler)}),true);_this.changePath=function(path){return kbnUrl.changePath(path)};return _this}_createClass(NoDataController,[{key:"getDefaultModel",value:function getDefaultModel(){return{errors:[],checkMessage:null,isLoading:true,isCollectionEnabledUpdating:false,isCollectionEnabledUpdated:false,isCollectionIntervalUpdating:false,isCollectionIntervalUpdated:false}}},{key:"render",value:function render(enabler){var props=this;var cloud=_new_platform.npSetup.plugins.cloud;var isCloudEnabled=!!(cloud&&cloud.isCloudEnabled);this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.NoData,_extends({},props,{enabler:enabler,changePath:this.changePath,isCloudEnabled:isCloudEnabled}))))}}]);return NoDataController}(_base_controller.MonitoringViewBaseController);exports.NoDataController=NoDataController},3164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Enabler",{enumerable:true,get:function get(){return _enabler.Enabler}});Object.defineProperty(exports,"ClusterSettingsChecker",{enumerable:true,get:function get(){return _cluster_settings.ClusterSettingsChecker}});Object.defineProperty(exports,"NodeSettingsChecker",{enumerable:true,get:function get(){return _node_settings.NodeSettingsChecker}});Object.defineProperty(exports,"startChecks",{enumerable:true,get:function get(){return _start_checks.startChecks}});var _enabler=__webpack_require__(3165);var _cluster_settings=__webpack_require__(3166);var _node_settings=__webpack_require__(3167);var _start_checks=__webpack_require__(3168)},3165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Enabler=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Enabler=function(){function Enabler($http,updateModel){_classCallCheck(this,Enabler);this.$http=$http;this.updateModel=updateModel;this.enableCollectionEnabled=this.enableCollectionEnabled.bind(this);this.enableCollectionInterval=this.enableCollectionInterval.bind(this)}_createClass(Enabler,[{key:"enableCollectionInterval",value:function(){var _enableCollectionInterval=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;this.updateModel({isCollectionIntervalUpdating:true});_context.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_interval");case 4:this.updateModel({isCollectionIntervalUpdated:true,isCollectionIntervalUpdating:false});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);this.updateModel({errors:_context.t0.data,isCollectionIntervalUpdated:false,isCollectionIntervalUpdating:false});case 10:case"end":return _context.stop()}}}),_callee,this,[[0,7]])})));function enableCollectionInterval(){return _enableCollectionInterval.apply(this,arguments)}return enableCollectionInterval}()},{key:"enableCollectionEnabled",value:function(){var _enableCollectionEnabled=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;this.updateModel({isCollectionEnabledUpdating:true});_context2.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_enabled");case 4:this.updateModel({isCollectionEnabledUpdated:true,isCollectionEnabledUpdating:false});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);this.updateModel({errors:_context2.t0.data,isCollectionEnabledUpdated:false,isCollectionEnabledUpdating:false});case 10:case"end":return _context2.stop()}}}),_callee2,this,[[0,7]])})));function enableCollectionEnabled(){return _enableCollectionEnabled.apply(this,arguments)}return enableCollectionEnabled}()}]);return Enabler}();exports.Enabler=Enabler},3166:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterSettingsChecker=void 0;var _settings_checker=__webpack_require__(1100);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ClusterSettingsChecker=function(_SettingsChecker){_inherits(ClusterSettingsChecker,_SettingsChecker);function ClusterSettingsChecker(params){var _this;_classCallCheck(this,ClusterSettingsChecker);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClusterSettingsChecker).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/cluster");_this.setMessage("Checking cluster settings API on production cluster");return _this}return ClusterSettingsChecker}(_settings_checker.SettingsChecker);exports.ClusterSettingsChecker=ClusterSettingsChecker},3167:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeSettingsChecker=void 0;var _settings_checker=__webpack_require__(1100);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var NodeSettingsChecker=function(_SettingsChecker){_inherits(NodeSettingsChecker,_SettingsChecker);function NodeSettingsChecker(params){var _this;_classCallCheck(this,NodeSettingsChecker);_this=_possibleConstructorReturn(this,_getPrototypeOf(NodeSettingsChecker).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/nodes");_this.setMessage("Checking nodes settings API on production cluster");return _this}return NodeSettingsChecker}(_settings_checker.SettingsChecker);exports.NodeSettingsChecker=NodeSettingsChecker},3168:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startChecks=startChecks;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var mapCheckers=function mapCheckers(_checkers){return _checkers.map((function(current,checkerIndex){var next=_checkers[checkerIndex+1];if(next!==undefined){current.setNext(next)}return current}))};function startChecks(_x,_x2){return _startChecks.apply(this,arguments)}function _startChecks(){_startChecks=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(checkers,updateModel){var runCheck,_checkers;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:runCheck=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(currentChecker){var _ref2,found,reason,error,errorReason;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateModel({checkMessage:currentChecker.getMessage()});_context.next=3;return currentChecker.executeCheck();case 3:_ref2=_context.sent;found=_ref2.found;reason=_ref2.reason;error=_ref2.error;errorReason=_ref2.errorReason;if(!error){_context.next=14;break}updateModel({errors:errorReason});if(!currentChecker.hasNext()){_context.next=12;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 12:_context.next=20;break;case 14:if(!found){_context.next=18;break}return _context.abrupt("return",updateModel({reason:reason,isLoading:false,checkMessage:null}));case 18:if(!currentChecker.hasNext()){_context.next=20;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 20:updateModel({reason:null,isLoading:false,checkMessage:null});case 21:case"end":return _context.stop()}}}),_callee)})));return function runCheck(_x3){return _ref.apply(this,arguments)}}();_checkers=mapCheckers(checkers);return _context2.abrupt("return",runCheck(_checkers[0]));case 3:case"end":return _context2.stop()}}}),_callee2)})));return _startChecks.apply(this,arguments)}},3169:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModelUpdater=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var ModelUpdater=function(){function ModelUpdater($scope,model){_classCallCheck(this,ModelUpdater);this.$scope=$scope;this.model=model;this.updateModel=this.updateModel.bind(this)}_createClass(ModelUpdater,[{key:"updateModel",value:function updateModel(properties){var $scope=this.$scope,model=this.model;var keys=Object.keys(properties);$scope.$evalAsync((function(){keys.forEach((function(key){if(Array.isArray(model[key])){model[key].push(properties[key])}else{model[key]=properties[key]}}))}))}}]);return ModelUpdater}();exports.ModelUpdater=ModelUpdater},3170:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector,api){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(api,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3171:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});exports.PromiseWithCancel=exports.Status=void 0;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Status;exports.Status=Status;(function(Status){Status[Status["Canceled"]=0]="Canceled";Status[Status["Failed"]=1]="Failed";Status[Status["Resolved"]=2]="Resolved";Status[Status["Awaiting"]=3]="Awaiting";Status[Status["Idle"]=4]="Idle"})(Status||(exports.Status=Status={}));var PromiseWithCancel=function PromiseWithCancel(promise){var _this=this;_classCallCheck(this,PromiseWithCancel);_defineProperty(this,"_promise",void 0);_defineProperty(this,"_status",Status.Idle);_defineProperty(this,"cancel",(function(){_this._status=Status.Canceled}));_defineProperty(this,"status",(function(){return _this._status}));_defineProperty(this,"promise",(function(){if(_this._status===Status.Canceled){throw Error("Getting a canceled promise is not allowed")}else if(_this._status!==Status.Idle){return _this._promise}return new Promise((function(resolve,reject){_this._status=Status.Awaiting;return _this._promise.then((function(response){if(_this._status!==Status.Canceled){_this._status=Status.Resolved;return resolve(response)}})).catch((function(error){if(_this._status!==Status.Canceled){_this._status=Status.Failed;return reject(error)}}))}))}));this._promise=promise};exports.PromiseWithCancel=PromiseWithCancel},3172:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _chrome=_interopRequireDefault(__webpack_require__(140));var _index=_interopRequireDefault(__webpack_require__(3173));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var tryPrivilege=function tryPrivilege($http,kbnUrl){return $http.get("../api/monitoring/v1/check_access").then((function(){return kbnUrl.redirect("/home")})).catch(_lodash.noop)};_routes.default.when("/access-denied",{template:_index.default,resolve:{initialCheck:function initialCheck($http,kbnUrl){return tryPrivilege($http,kbnUrl)}},controllerAs:"accessDenied",controller:function controller($scope,$injector){var $window=$injector.get("$window");var kbnBaseUrl=$injector.get("kbnBaseUrl");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var $interval=$injector.get("$interval");this.goToKibana=function(){$window.location.href=_chrome.default.getBasePath()+kbnBaseUrl};var accessPoller=$interval((function(){return tryPrivilege($http,kbnUrl)}),5*1e3);$scope.$on("$destroy",(function(){return $interval.cancel(accessPoller)}))}})},3173:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n  <div class="kuiInfoPanel kuiInfoPanel--error">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        data-test-subj="accessDeniedTitle"\n        i18n-id="xpack.monitoring.accessDeniedTitle"\n        i18n-default-message="Access Denied"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.notAuthorizedDescription"\n        i18n-default-message="You are not authorized to access Monitoring. To use Monitoring, you\n        need the privileges granted by both the `{kibanaAdmin}` and\n        `{monitoringUser}` roles."\n        i18n-values="{ kibanaAdmin: \'kibana_admin\', monitoringUser: \'monitoring_user\' }"\n      ></div>\n\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.clusterNotConfiguredDescription"\n        i18n-default-message="If you are attempting to access a dedicated monitoring cluster, this\n        might be because you are logged in as a user that is not configured on\n        the monitoring cluster."\n      ></div>\n\n      <div class="kuiInfoPanelBody__message">\n        <div class="kuiButtonGroup">\n          <button\n            ng-click="accessDenied.goToKibana();"\n            class="kuiButton kuiButton--primary"\n            i18n-id="xpack.monitoring.accessDenied.backToKibanaButtonLabel"\n            i18n-default-message="Back to Kibana"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},3174:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _reactDom=__webpack_require__(11);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _index=_interopRequireDefault(__webpack_require__(3175));var _route_init=__webpack_require__(47);var _ajax_error_handler=__webpack_require__(59);var _i18n2=__webpack_require__(25);var _timefilter=__webpack_require__(55);var _alerts=__webpack_require__(3177);var _base_eui_table_controller=__webpack_require__(1102);var _react2=__webpack_require__(4);var _eui=__webpack_require__(2);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var globalState=$injector.get("globalState");var $http=$injector.get("$http");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/legacy_alerts");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return(0,_lodash.get)(response,"data",[])})).catch((function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/alerts",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ALERTS]})},alerts:getPageData},controllerAs:"alerts",controller:function(_MonitoringViewBaseEu){_inherits(AlertsView,_MonitoringViewBaseEu);function AlertsView($injector,$scope){var _this;_classCallCheck(this,AlertsView);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var kbnUrl=$injector.get("kbnUrl");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(AlertsView).call(this,{title:_i18n.i18n.translate("xpack.monitoring.alerts.clusterAlertsTitle",{defaultMessage:"Cluster Alerts"}),getPageData:getPageData,$scope:$scope,$injector:$injector,storageKey:"alertsTable",reactNodeId:"monitoringAlertsApp"}));_this.data=$route.current.locals.alerts;var renderReact=function renderReact(data){var app=data.message?_react.default.createElement("p",null,data.message):_react.default.createElement(_alerts.Alerts,{alerts:data,angular:{kbnUrl:kbnUrl,scope:$scope},sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange});(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,app,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiLink,{href:"#/overview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.alerts.clusterOverviewLinkLabel",defaultMessage:" Cluster Overview"})))))),document.getElementById("monitoringAlertsApp"))};$scope.$watch((function(){return _this.data}),(function(data){return renderReact(data)}));return _this}return AlertsView}(_base_eui_table_controller.MonitoringViewBaseEuiTableController)})},3175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main name="alerts">\n  <div id="monitoringAlertsApp"></div>\n</monitoring-main>\n'},3176:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getClusterFromClusters=getClusterFromClusters;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getClusterFromClusters(clusters,globalState){var cluster=function(){var existingCurrent=_lodash.default.find(clusters,{cluster_uuid:globalState.cluster_uuid});if(existingCurrent){return existingCurrent}var firstCluster=_lodash.default.first(clusters);if(firstCluster&&firstCluster.cluster_uuid){return firstCluster}return null}();if(cluster&&cluster.license){globalState.cluster_uuid=cluster.cluster_uuid;globalState.ccs=cluster.ccs;globalState.save();return cluster}return null}},3177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Alerts",{enumerable:true,get:function get(){return _alerts.Alerts}});var _alerts=__webpack_require__(3178)},3178:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Alerts=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(140));var _lodash=__webpack_require__(3);var _formatting=__webpack_require__(185);var _common=__webpack_require__(276);var _constants=__webpack_require__(19);var _map_severity=__webpack_require__(578);var _formatted_alert=__webpack_require__(1101);var _table=__webpack_require__(131);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var linkToCategories={"elasticsearch/nodes":"Elasticsearch Nodes","elasticsearch/indices":"Elasticsearch Indices","kibana/instances":"Kibana Instances","logstash/instances":"Logstash Nodes"};var getColumns=function getColumns(kbnUrl,scope,timezone){return[{name:_i18n.i18n.translate("xpack.monitoring.alerts.statusColumnTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:function render(severity){var severityIconDefaults={title:_i18n.i18n.translate("xpack.monitoring.alerts.severityTitle.unknown",{defaultMessage:"Unknown"}),color:"subdued",value:_i18n.i18n.translate("xpack.monitoring.alerts.severityValue.unknown",{defaultMessage:"N/A"})};var severityIcon=_objectSpread({},severityIconDefaults,{},(0,_map_severity.mapSeverity)(severity));return _react.default.createElement(_eui.EuiToolTip,{content:severityIcon.title,position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon","aria-label":severityIcon.title},(0,_lodash.capitalize)(severityIcon.value)))}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.resolvedColumnTitle",{defaultMessage:"Resolved"}),field:"resolved_timestamp",sortable:true,render:function render(resolvedTimestamp){var notResolvedLabel=_i18n.i18n.translate("xpack.monitoring.alerts.notResolvedDescription",{defaultMessage:"Not Resolved"});var resolution={icon:null,text:notResolvedLabel};if(resolvedTimestamp){resolution.text=_i18n.i18n.translate("xpack.monitoring.alerts.resolvedAgoDescription",{defaultMessage:"{duration} ago",values:{duration:(0,_common.formatTimestampToDuration)(resolvedTimestamp,_constants.CALCULATE_DURATION_SINCE)}})}else{resolution.icon=_react.default.createElement(_eui.EuiIcon,{type:"alert",size:"m","aria-label":notResolvedLabel})}return _react.default.createElement("span",null,resolution.icon," ",resolution.text)}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.messageColumnTitle",{defaultMessage:"Message"}),field:"message",sortable:true,render:function render(message,alert){return _react.default.createElement(_formatted_alert.FormattedAlert,{prefix:alert.prefix,suffix:alert.suffix,message:message,metadata:alert.metadata,changeUrl:function changeUrl(target){scope.$evalAsync((function(){kbnUrl.changePath(target)}))}})}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.categoryColumnTitle",{defaultMessage:"Category"}),field:"category",sortable:true,render:function render(link){return linkToCategories[link]?linkToCategories[link]:_i18n.i18n.translate("xpack.monitoring.alerts.categoryColumn.generalLabel",{defaultMessage:"General"})}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.lastCheckedColumnTitle",{defaultMessage:"Last Checked"}),field:"update_timestamp",sortable:true,render:function render(timestamp){return(0,_formatting.formatDateTimeLocal)(timestamp,timezone)}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.triggeredColumnTitle",{defaultMessage:"Triggered"}),field:"timestamp",sortable:true,render:function render(timestamp){return _i18n.i18n.translate("xpack.monitoring.alerts.triggeredColumnValue",{defaultMessage:"{timestamp} ago",values:{timestamp:(0,_common.formatTimestampToDuration)(timestamp,_constants.CALCULATE_DURATION_SINCE)}})}}]};var Alerts=function Alerts(_ref){var alerts=_ref.alerts,angular=_ref.angular,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange;var alertsFlattened=alerts.map((function(alert){return _objectSpread({},alert,{status:alert.metadata.severity,category:alert.metadata.link})}));var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");return _react.default.createElement(_table.EuiMonitoringTable,{className:"alertsTable",rows:alertsFlattened,columns:getColumns(angular.kbnUrl,angular.scope,timezone),sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"status",direction:_constants.EUI_SORT_DESCENDING})}),pagination:pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.alerts.filterAlertsPlaceholder",{defaultMessage:"Filter Alerts"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["message","category"]}})};exports.Alerts=Alerts},3179:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseTableController=void 0;var _=__webpack_require__(101);var _table=__webpack_require__(131);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var MonitoringViewBaseTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseTableController,_MonitoringViewBaseCo);function MonitoringViewBaseTableController(args){var _this;_classCallCheck(this,MonitoringViewBaseTableController);_this=_possibleConstructorReturn(this,_getPrototypeOf(MonitoringViewBaseTableController).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.tableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.tableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),pageIndex=_getLocalStorageData.pageIndex,filterText=_getLocalStorageData.filterText,sortKey=_getLocalStorageData.sortKey,sortOrder=_getLocalStorageData.sortOrder;_this.pageIndex=pageIndex;_this.filterText=filterText;_this.sortKey=sortKey;_this.sortOrder=sortOrder;_this.onNewState=function(newState){setLocalStorageData(storage,newState)};return _this}return MonitoringViewBaseTableController}(_.MonitoringViewBaseController);exports.MonitoringViewBaseTableController=MonitoringViewBaseTableController},3180:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3181));var _controller=__webpack_require__(3182);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/license",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LICENSE]})}},controllerAs:"licenseView",controller:_controller.LicenseViewController})},3181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main data-test-subj="xpackLicensePage">\n  <div id="licenseReact" class="licFeature"></div>\n</monitoring-main>\n'},3182:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseViewController=void 0;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(11);var _chrome=_interopRequireDefault(__webpack_require__(140));var _formatting=__webpack_require__(185);var _components=__webpack_require__(1095);var _components2=__webpack_require__(234);var _timefilter=__webpack_require__(55);var _i18n2=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var REACT_NODE_ID="licenseReact";var LicenseViewController=function(){function LicenseViewController($injector,$scope){_classCallCheck(this,LicenseViewController);_timefilter.timefilter.disableTimeRangeSelector();_timefilter.timefilter.disableAutoRefreshSelector();$scope.$on("$destroy",(function(){(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_NODE_ID))}));this.init($injector,$scope,_i18n.i18n)}_createClass(LicenseViewController,[{key:"init",value:function init($injector,$scope){var globalState=$injector.get("globalState");var title=$injector.get("title");var $route=$injector.get("$route");var cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});$scope.cluster=cluster;var routeTitle=_i18n.i18n.translate("xpack.monitoring.license.licenseRouteTitle",{defaultMessage:"License"});title($scope.cluster,routeTitle);this.license=cluster.license;this.isExpired=Date.now()>(0,_lodash.get)(cluster,"license.expiry_date_in_millis");this.isPrimaryCluster=cluster.isPrimary;var basePath=_chrome.default.getBasePath();this.uploadLicensePath=basePath+"/app/kibana#"+_components.MANAGEMENT_BASE_PATH+"upload_license";this.renderReact($scope)}},{key:"renderReact",value:function renderReact($scope){var _this=this;var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");$scope.$evalAsync((function(){var isPrimaryCluster=_this.isPrimaryCluster,license=_this.license,isExpired=_this.isExpired,uploadLicensePath=_this.uploadLicensePath;var expiryDate=license.expiry_date_in_millis;if(license.expiry_date_in_millis!==undefined){expiryDate=(0,_formatting.formatDateTimeLocal)(license.expiry_date_in_millis,timezone)}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_components2.License,{isPrimaryCluster:isPrimaryCluster,status:license.status,type:license.type,isExpired:isExpired,expiryDate:expiryDate,uploadLicensePath:uploadLicensePath})),document.getElementById(REACT_NODE_ID))}))}}]);return LicenseViewController}();exports.LicenseViewController=LicenseViewController},3183:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _i18n=__webpack_require__(25);var _index=_interopRequireDefault(__webpack_require__(3184));var _listing=__webpack_require__(3185);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var CODE_PATHS=[_constants.CODE_PATH_ALL];var getPageData=function getPageData($injector){var monitoringClusters=$injector.get("monitoringClusters");return monitoringClusters(undefined,undefined,CODE_PATHS)};_routes.default.when("/home",{template:_index.default,resolve:{clusters:function clusters(Private,kbnUrl){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:CODE_PATHS,fetchAllClusters:true}).then((function(clusters){if(!clusters||!clusters.length){kbnUrl.changePath("/no-data");return Promise.reject()}if(clusters.length===1){kbnUrl.changePath("/overview");return Promise.reject()}return clusters}))}},controllerAs:"clusters",controller:function(_MonitoringViewBaseEu){_inherits(ClustersList,_MonitoringViewBaseEu);function ClustersList($injector,$scope){var _this;_classCallCheck(this,ClustersList);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClustersList).call(this,{storageKey:"clusters",getPageData:getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringClusterListingApp"}));var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var globalState=$injector.get("globalState");var storage=$injector.get("localStorage");var showLicenseExpiration=$injector.get("showLicenseExpiration");_this.data=$route.current.locals.clusters;$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_listing.Listing,{clusters:data,angular:{scope:$scope,globalState:globalState,kbnUrl:kbnUrl,storage:storage,showLicenseExpiration:showLicenseExpiration},sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))}));return _this}return ClustersList}(_.MonitoringViewBaseEuiTableController)}).otherwise({redirectTo:"/no-data"})},3184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main name="listing">\n  <div id="monitoringClusterListingApp"></div>\n</monitoring-main>\n'},3185:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Listing",{enumerable:true,get:function get(){return _listing.Listing}});var _listing=__webpack_require__(3186)},3186:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(140));var _moment=_interopRequireDefault(__webpack_require__(15));var _numeral=_interopRequireDefault(__webpack_require__(164));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _notify=__webpack_require__(60);var _table=__webpack_require__(131);var _alerts_indicator=__webpack_require__(3187);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _public=__webpack_require__(14);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IsClusterSupported=function IsClusterSupported(_ref){var isSupported=_ref.isSupported,children=_ref.children;return isSupported?children:"-"};var STANDALONE_CLUSTER_STORAGE_KEY="viewedStandaloneCluster";var IsAlertsSupported=function IsAlertsSupported(props){var _props$cluster$alerts=props.cluster.alerts,_props$cluster$alerts2=_props$cluster$alerts.alertsMeta,alertsMeta=_props$cluster$alerts2===void 0?{enabled:true}:_props$cluster$alerts2,_props$cluster$alerts3=_props$cluster$alerts.clusterMeta,clusterMeta=_props$cluster$alerts3===void 0?{enabled:true}:_props$cluster$alerts3;if(alertsMeta.enabled&&clusterMeta.enabled){return _react.default.createElement("span",null,props.children)}var message=alertsMeta.message||clusterMeta.message||_i18n.i18n.translate("xpack.monitoring.cluster.listing.unknownHealthMessage",{defaultMessage:"Unknown"});return _react.default.createElement(_eui.EuiToolTip,{content:message,position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))};var getColumns=function getColumns(showLicenseExpiration,changeCluster,handleClickIncompatibleLicense,handleClickInvalidLicense){return[{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"cluster_name",sortable:true,render:function render(value,cluster){if(cluster.isSupported){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return changeCluster(cluster.cluster_uuid,cluster.ccs)},"data-test-subj":"clusterLink"},value)}if(cluster.license){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickIncompatibleLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status","data-test-subj":"alertsStatus",sortable:true,render:function render(_status,cluster){return _react.default.createElement(IsClusterSupported,cluster,_react.default.createElement(IsAlertsSupported,{cluster:cluster},_react.default.createElement(_alerts_indicator.AlertsIndicator,{alerts:cluster.alerts})))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nodesColumnTitle",{defaultMessage:"Nodes"}),field:"elasticsearch.cluster_stats.nodes.count.total","data-test-subj":"nodesCount",sortable:true,render:function render(total,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(total).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.indicesColumnTitle",{defaultMessage:"Indices"}),field:"elasticsearch.cluster_stats.indices.count","data-test-subj":"indicesCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.dataColumnTitle",{defaultMessage:"Data"}),field:"elasticsearch.cluster_stats.indices.store.size_in_bytes","data-test-subj":"dataSize",sortable:true,render:function render(size,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(size).format("0,0[.]0 b"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.logstashColumnTitle",{defaultMessage:"Logstash"}),field:"logstash.node_count","data-test-subj":"logstashCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.kibanaColumnTitle",{defaultMessage:"Kibana"}),field:"kibana.count","data-test-subj":"kibanaCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.licenseColumnTitle",{defaultMessage:"License"}),field:"license.type","data-test-subj":"clusterLicense",sortable:true,render:function render(licenseType,cluster){var license=cluster.license;if(!licenseType){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__clusterCellLiscense"},"N/A"))}if(license){var licenseExpiry=function licenseExpiry(){if(license.expiry_date_in_millis<(0,_moment.default)().valueOf()){return _react.default.createElement("span",{className:"monTableCell__clusterCellExpired"},"Expired")}return _react.default.createElement("span",null,"Expires ",(0,_moment.default)(license.expiry_date_in_millis).format("D MMM YY"))};return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__clusterCellLiscense"},(0,_lodash.capitalize)(licenseType)),_react.default.createElement("div",{className:"monTableCell__clusterCellExpiration"},showLicenseExpiration?licenseExpiry():null))}return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)}},_react.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))}}]};var changeCluster=function changeCluster(scope,globalState,kbnUrl,clusterUuid,ccs){scope.$evalAsync((function(){globalState.cluster_uuid=clusterUuid;globalState.ccs=ccs;globalState.save();kbnUrl.changePath("/overview")}))};var licenseWarning=function licenseWarning(scope,_ref2){var title=_ref2.title,text=_ref2.text;scope.$evalAsync((function(){_notify.toastNotifications.addWarning({title:title,text:text,"data-test-subj":"monitoringLicenseWarning"})}))};var handleClickIncompatibleLicense=function handleClickIncompatibleLicense(scope,clusterName){licenseWarning(scope,{title:(0,_public.toMountPoint)(_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}})),text:(0,_public.toMountPoint)(_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.noMultiClusterSupportMessage",defaultMessage:"The Basic license does not support multi-cluster monitoring."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.infoMessage",defaultMessage:"Need to monitor multiple clusters? {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getLicenseInfoLink:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}}))))})};var handleClickInvalidLicense=function handleClickInvalidLicense(scope,clusterName){var licensingPath="".concat(_chrome.default.getBasePath(),"/app/kibana#/management/elasticsearch/license_management/home");licenseWarning(scope,{title:(0,_public.toMountPoint)(_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}})),text:(0,_public.toMountPoint)(_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.invalidInfoMessage",defaultMessage:"The license information is invalid."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.infoMessage",defaultMessage:"Need a license? {getBasicLicenseLink} or {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getBasicLicenseLink:_react.default.createElement(_eui.EuiLink,{href:licensingPath},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getBasicLicenseLinkLabel",defaultMessage:"Get a free Basic license"})),getLicenseInfoLink:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}}))))})};var Listing=function(_Component){_inherits(Listing,_Component);function Listing(props){var _this;_classCallCheck(this,Listing);_this=_possibleConstructorReturn(this,_getPrototypeOf(Listing).call(this,props));_this.state=_defineProperty({},STANDALONE_CLUSTER_STORAGE_KEY,false);return _this}_createClass(Listing,[{key:"renderStandaloneClusterCallout",value:function renderStandaloneClusterCallout(changeCluster,storage){var _this2=this;if(storage.get(STANDALONE_CLUSTER_STORAGE_KEY)){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_i18n.i18n.translate("xpack.monitoring.cluster.listing.standaloneClusterCallOutTitle",{defaultMessage:"It looks like you have instances that aren't connected to an Elasticsearch cluster."}),iconType:"link"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return changeCluster(_constants.STANDALONE_CLUSTER_CLUSTER_UUID)},"data-test-subj":"standaloneClusterLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutLink",defaultMessage:"View these instances."})),"",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutText",defaultMessage:"Or, click Standalone Cluster in the table below"})),_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){storage.set(STANDALONE_CLUSTER_STORAGE_KEY,true);_this2.setState(_defineProperty({},STANDALONE_CLUSTER_STORAGE_KEY,true))}},_react.default.createElement(_eui.EuiIcon,{type:"cross"}),"",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutDismiss",defaultMessage:"Dismiss"})))),_react.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this$props=this.props,angular=_this$props.angular,clusters=_this$props.clusters,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange;var _changeCluster=(0,_lodash.partial)(changeCluster,angular.scope,angular.globalState,angular.kbnUrl);var _handleClickIncompatibleLicense=(0,_lodash.partial)(handleClickIncompatibleLicense,angular.scope);var _handleClickInvalidLicense=(0,_lodash.partial)(handleClickInvalidLicense,angular.scope);var hasStandaloneCluster=!!clusters.find((function(cluster){return cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,hasStandaloneCluster?this.renderStandaloneClusterCallout(_changeCluster,angular.storage):null,_react.default.createElement(_table.EuiMonitoringTable,{className:"clusterTable",rows:clusters,columns:getColumns(angular.showLicenseExpiration,_changeCluster,_handleClickIncompatibleLicense,_handleClickInvalidLicense),rowProps:function rowProps(item){return{"data-test-subj":"clusterRow_".concat(item.cluster_uuid)}},sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"cluster_name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:angular.scope.filterText}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["cluster_name"]}}))))}}]);return Listing}(_react.Component);exports.Listing=Listing},3187:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsIndicator=AlertsIndicator;var _react=_interopRequireDefault(__webpack_require__(0));var _map_severity=__webpack_require__(578);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HIGH_SEVERITY=2e3;var MEDIUM_SEVERITY=1e3;var LOW_SEVERITY=0;function AlertsIndicator(_ref){var alerts=_ref.alerts;if(alerts&&alerts.count>0){var severity=function(){if(alerts.high>0){return HIGH_SEVERITY}if(alerts.medium>0){return MEDIUM_SEVERITY}return LOW_SEVERITY}();var severityIcon=(0,_map_severity.mapSeverity)(severity);var tooltipText=function(){switch(severity){case HIGH_SEVERITY:return _i18n.i18n.translate("xpack.monitoring.cluster.listing.alertsInticator.highSeverityTooltip",{defaultMessage:"There are some critical cluster issues that require your immediate attention!"});case MEDIUM_SEVERITY:return _i18n.i18n.translate("xpack.monitoring.cluster.listing.alertsInticator.mediumSeverityTooltip",{defaultMessage:"There are some issues that might have impact on your cluster."});default:return _i18n.i18n.translate("xpack.monitoring.cluster.listing.alertsInticator.lowSeverityTooltip",{defaultMessage:"There are some low-severity cluster issues"})}}();return _react.default.createElement(_eui.EuiToolTip,{content:tooltipText,position:"bottom",trigger:"hover"},_react.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.alertsTooltip",defaultMessage:"Alerts"})))}return _react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.monitoring.cluster.listing.alertsInticator.clearStatusTooltip",{defaultMessage:"Cluster status is clear!"}),position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:"success","data-test-subj":"alertIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.clearTooltip",defaultMessage:"Clear"})))}},3188:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _chrome=_interopRequireDefault(__webpack_require__(27));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3189));var _=__webpack_require__(101);var _overview=__webpack_require__(3190);var _i18n2=__webpack_require__(25);var _renderers=__webpack_require__(277);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var CODE_PATHS=[_constants.CODE_PATH_ALL];_routes.default.when("/overview",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:CODE_PATHS})}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var monitoringClusters=$injector.get("monitoringClusters");var globalState=$injector.get("globalState");var showLicenseExpiration=$injector.get("showLicenseExpiration");var config=$injector.get("config");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.cluster.overviewTitle",{defaultMessage:"Overview"}),defaultData:{},getPageData:function(){var _getPageData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var clusters;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return monitoringClusters(globalState.cluster_uuid,globalState.ccs,CODE_PATHS);case 2:clusters=_context.sent;return _context.abrupt("return",clusters[0]);case 4:case"end":return _context.stop()}}}),_callee)})));function getPageData(){return _getPageData.apply(this,arguments)}return getPageData}(),reactNodeId:"monitoringClusterOverviewApp",$scope:$scope,$injector:$injector}));var changeUrl=function changeUrl(target){$scope.$evalAsync((function(){kbnUrl.changePath(target)}))};$scope.$watch((function(){return _this.data}),function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(data){var emailAddress;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(0,_lodash.isEmpty)(data)){_context2.next=2;break}return _context2.abrupt("return");case 2:emailAddress=_chrome.default.getInjected("monitoringLegacyEmailAddress")||"";if(_constants.KIBANA_ALERTING_ENABLED){emailAddress=config.get(_constants.MONITORING_CONFIG_ALERTING_EMAIL_ADDRESS)||emailAddress}_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:$scope,injector:$injector,render:function render(_ref2){var setupMode=_ref2.setupMode,flyoutComponent=_ref2.flyoutComponent,bottomBarComponent=_ref2.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_overview.Overview,{cluster:data,emailAddress:emailAddress,setupMode:setupMode,changeUrl:changeUrl,showLicenseExpiration:showLicenseExpiration}),bottomBarComponent)}})));case 5:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref.apply(this,arguments)}}());return _this}return controller}(_.MonitoringViewBaseController)})},3189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main name="overview" data-test-subj="clusterOverviewContainer">\n  <div id="monitoringClusterOverviewApp"></div>\n</monitoring-main>\n'},3190:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=Overview;var _react=_interopRequireWildcard(__webpack_require__(0));var _elasticsearch_panel=__webpack_require__(3191);var _kibana_panel=__webpack_require__(3193);var _logstash_panel=__webpack_require__(3194);var _alerts_panel=__webpack_require__(3195);var _beats_panel=__webpack_require__(3196);var _eui=__webpack_require__(2);var _apm_panel=__webpack_require__(3197);var _status=__webpack_require__(3198);var _constants=__webpack_require__(19);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function Overview(props){var isFromStandaloneCluster=props.cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID;var kibanaAlerts=_constants.KIBANA_ALERTING_ENABLED?_react.default.createElement(_status.AlertsStatus,{emailAddress:props.emailAddress}):null;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,kibanaAlerts,_react.default.createElement(_alerts_panel.AlertsPanel,{alerts:props.cluster.alerts,changeUrl:props.changeUrl}),!isFromStandaloneCluster?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_elasticsearch_panel.ElasticsearchPanel,_extends({},props.cluster.elasticsearch,{version:props.cluster.version,ml:props.cluster.ml,changeUrl:props.changeUrl,license:props.cluster.license,setupMode:props.setupMode,showLicenseExpiration:props.showLicenseExpiration})),_react.default.createElement(_kibana_panel.KibanaPanel,_extends({},props.cluster.kibana,{setupMode:props.setupMode,changeUrl:props.changeUrl}))):null,_react.default.createElement(_logstash_panel.LogstashPanel,_extends({},props.cluster.logstash,{setupMode:props.setupMode,changeUrl:props.changeUrl})),_react.default.createElement(_beats_panel.BeatsPanel,_extends({},props.cluster.beats,{setupMode:props.setupMode,changeUrl:props.changeUrl})),_react.default.createElement(_apm_panel.ApmPanel,_extends({},props.cluster.apm,{setupMode:props.setupMode,changeUrl:props.changeUrl}))))}},3191:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchPanel=ElasticsearchPanel;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(49);var _helpers=__webpack_require__(334);var _eui=__webpack_require__(2);var _license_text=__webpack_require__(3192);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _reason=__webpack_require__(1097);var _tooltip=__webpack_require__(335);var _constants=__webpack_require__(19);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var calculateShards=function calculateShards(shards){var total=(0,_lodash.get)(shards,"total",0);var primaries=(0,_lodash.get)(shards,"primaries","N/A");var replicas="N/A";if(primaries!=="N/A"){replicas=(0,_format_number.formatNumber)(total-primaries,"int_commas");primaries=(0,_format_number.formatNumber)(primaries,"int_commas")}return{primaries:primaries,replicas:replicas}};function getBadgeColorFromLogLevel(level){switch(level){case"warn":return"warning";case"debug":return"hollow";case"info":return"default";case"error":return"danger"}}function renderLogs(props){if(!props.logs.enabled){return _react.default.createElement(_eui.EuiDescriptionList,null,_react.default.createElement(_reason.Reason,{reason:props.logs.reason}))}return _react.default.createElement(_eui.EuiDescriptionList,{type:"column"},props.logs.types.map((function(log,index){return _react.default.createElement(_react.Fragment,{key:index},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logsPanel.logTypeTitle",defaultMessage:"{type}",values:{type:(0,_lodash.capitalize)(log.type)}})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,renderLog(log)))})),props.logs.types.length===0?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logsPanel.noLogsFound",defaultMessage:"No logs found."}):null)}var logLevelText={info:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.infoLogsTooltipText",{defaultMessage:"The number of information logs"}),warn:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.warnLogsTooltipText",{defaultMessage:"The number of warning logs"}),debug:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.debugLogsTooltipText",{defaultMessage:"The number of debug logs"}),error:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.errorLogsTooltipText",{defaultMessage:"The number of error logs"}),fatal:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.fatalLogsTooltipText",{defaultMessage:"The number of fatal logs"}),unknown:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.unknownLogsTooltipText",{defaultMessage:"Unknown"})};function renderLog(log){return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},log.levels.map((function(level,index){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:index},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:logLevelText[level.level]||logLevelText.unknown},_react.default.createElement(_eui.EuiBadge,{color:getBadgeColorFromLogLevel(level.level)},(0,_format_number.formatNumber)(level.count,"int_commas"))))})))}function ElasticsearchPanel(props){var clusterStats=props.cluster_stats||{};var nodes=clusterStats.nodes;var indices=clusterStats.indices;var setupMode=props.setupMode;var goToElasticsearch=function goToElasticsearch(){return props.changeUrl("elasticsearch")};var goToNodes=function goToNodes(){return props.changeUrl("elasticsearch/nodes")};var goToIndices=function goToIndices(){return props.changeUrl("elasticsearch/indices")};var _calculateShards=calculateShards((0,_lodash.get)(props,"cluster_stats.indices.shards",{})),primaries=_calculateShards.primaries,replicas=_calculateShards.replicas;var statusIndicator=_react.default.createElement(_helpers.HealthStatusIndicator,{status:clusterStats.status});var licenseText=_react.default.createElement(_license_text.LicenseText,{license:props.license,showLicenseExpiration:props.showLicenseExpiration});var setupModeData=(0,_lodash.get)(setupMode.data,"elasticsearch");var setupModeTooltip=setupMode&&setupMode.enabled?_react.default.createElement(_tooltip.SetupModeTooltip,{setupModeData:setupModeData,productName:_constants.ELASTICSEARCH_SYSTEM_ID,badgeClickAction:goToNodes}):null;var showMlJobs=function showMlJobs(){if(props.ml){var gotoURL="#/elasticsearch/ml_jobs";return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:gotoURL},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jobsLabel",defaultMessage:"Jobs"}))),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esMlJobs"},_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:gotoURL},props.ml.jobs)))}return null};return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"elasticsearch",title:"Elasticsearch",extras:licenseText}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToElasticsearch,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.overviewLinkAriaLabel",{defaultMessage:"Elasticsearch Overview"}),"data-test-subj":"esOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.versionLabel",defaultMessage:"Version"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esVersion"},props.version||_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.versionNotAvailableDescription",{defaultMessage:"N/A"})),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.uptimeLabel",defaultMessage:"Uptime"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esUptime"},(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"jvm.max_uptime_in_millis"),"time_since")),showMlJobs()))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{"data-test-subj":"esNumberOfNodes",onClick:goToNodes},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.nodesTotalLinkLabel",defaultMessage:"Nodes: {nodesTotal}",values:{nodesTotal:(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"count.total"),"int_commas")}}))))),setupModeTooltip),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskAvailableLabel",defaultMessage:"Disk Available"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskAvailable"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:(0,_lodash.get)(nodes,"fs.available_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"fs.total_in_bytes")})),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esJvmHeap"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_used_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_max_in_bytes")}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToIndices,"data-test-subj":"esNumberOfIndices","aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.indicesCountLinkAriaLabel",{defaultMessage:"Elasticsearch Indices: {indicesCount}",values:{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")}})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkLabel",defaultMessage:"Indices: {indicesCount}",values:{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.documentsLabel",defaultMessage:"Documents"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDocumentsCount"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"docs.count"),"int_commas")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskUsageLabel",defaultMessage:"Disk Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskUsage"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"store.size_in_bytes"),"byte")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.primaryShardsLabel",defaultMessage:"Primary Shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esPrimaryShards"},primaries),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.replicaShardsLabel",defaultMessage:"Replica Shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esReplicaShards"},replicas)))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToElasticsearch,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.logsLinkAriaLabel",{defaultMessage:"Elasticsearch Logs"}),"data-test-subj":"esLogs"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.logsLinkLabel",defaultMessage:"Logs"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),renderLogs(props)))))}},3192:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseText=LicenseText;var _react=_interopRequireDefault(__webpack_require__(0));var _momentTimezone=_interopRequireDefault(__webpack_require__(39));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var formatDateLocal=function formatDateLocal(input){return _momentTimezone.default.tz(input,_momentTimezone.default.tz.guess()).format("LL")};function LicenseText(_ref){var license=_ref.license,showLicenseExpiration=_ref.showLicenseExpiration;if(!showLicenseExpiration){return null}return _react.default.createElement(_eui.EuiLink,{href:"#/license"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.toLicensePageLinkLabel",defaultMessage:"{licenseType} license {willExpireOn}",values:{licenseType:(0,_lodash.capitalize)(license.type),willExpireOn:license.expiry_date_in_millis===undefined?"":_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.expireDateText",defaultMessage:"will expire on {expiryDate}",values:{expiryDate:formatDateLocal(license.expiry_date_in_millis)}})}}))}},3193:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaPanel=KibanaPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(49);var _helpers=__webpack_require__(334);var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _tooltip=__webpack_require__(335);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function KibanaPanel(props){var setupMode=props.setupMode;var showDetectedKibanas=setupMode.enabled&&(0,_lodash.get)(setupMode.data,"kibana.detected.doesExist",false);if(!props.count&&!showDetectedKibanas){return null}var statusIndicator=_react.default.createElement(_helpers.HealthStatusIndicator,{status:props.status});var goToKibana=function goToKibana(){return props.changeUrl("kibana")};var goToInstances=function goToInstances(){return props.changeUrl("kibana/instances")};var setupModeData=(0,_lodash.get)(setupMode.data,"kibana");var setupModeTooltip=setupMode&&setupMode.enabled?_react.default.createElement(_tooltip.SetupModeTooltip,{setupModeData:setupModeData,productName:_constants.KIBANA_SYSTEM_ID,badgeClickAction:goToInstances}):null;return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"kibana",title:_i18n.i18n.translate("xpack.monitoring.cluster.overview.kibanaPanel.kibanaTitle",{defaultMessage:"Kibana"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToKibana,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkAriaLabel",{defaultMessage:"Kibana Overview"}),"data-test-subj":"kbnOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"kibana_overview","data-overview-status":props.status},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.requestsLabel",defaultMessage:"Requests"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnRequests"},props.requests_total),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeLabel",defaultMessage:"Max. Response Time"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMaxResponseTime"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeDescription",defaultMessage:"{maxTime} ms",values:{maxTime:props.response_time_max}}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"data-test-subj":"kbnInstances","aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkAriaLabel",{defaultMessage:"Kibana Instances: {instancesCount}",values:{instancesCount:props.count}})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkLabel",defaultMessage:"Instances: {instancesCount}",values:{instancesCount:_react.default.createElement("span",{"data-test-subj":"number_of_kibana_instances"},props.count)}}))))),setupModeTooltip),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.connectionsLabel",defaultMessage:"Connections"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnConnections"},(0,_format_number.formatNumber)(props.concurrent_connections,"int_commas")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMemoryUsage"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memory_size,maxBytes:props.memory_limit})))))))}},3194:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashPanel=LogstashPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(49);var _helpers=__webpack_require__(334);var _constants=__webpack_require__(19);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _tooltip=__webpack_require__(335);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function LogstashPanel(props){var setupMode=props.setupMode;var nodesCount=props.node_count||0;var queueTypes=props.queue_types||{};if(!nodesCount&&!setupMode.enabled){return null}var goToLogstash=function goToLogstash(){return props.changeUrl("logstash")};var goToNodes=function goToNodes(){return props.changeUrl("logstash/nodes")};var goToPipelines=function goToPipelines(){return props.changeUrl("logstash/pipelines")};var setupModeData=(0,_lodash.get)(setupMode.data,"logstash");var setupModeTooltip=setupMode&&setupMode.enabled?_react.default.createElement(_tooltip.SetupModeTooltip,{setupModeData:setupModeData,productName:_constants.LOGSTASH_SYSTEM_ID,badgeClickAction:goToNodes}):null;return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"logstash",title:_i18n.i18n.translate("xpack.monitoring.cluster.overview.logstashPanel.logstashTitle",{defaultMessage:"Logstash"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToLogstash,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.logstashPanel.overviewLinkAriaLabel",{defaultMessage:"Logstash Overview"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"logstash_overview"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsReceivedLabel",defaultMessage:"Events Received"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsReceived"},(0,_format_number.formatNumber)(props.events_in_total,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsEmitted"},(0,_format_number.formatNumber)(props.events_out_total,"0.[0]a"))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToNodes,"data-test-subj":"lsNodes","aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkAriaLabel",{defaultMessage:"Logstash Nodes: {nodesCount}",values:{nodesCount:nodesCount}})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkLabel",defaultMessage:"Nodes: {nodesCount}",values:{nodesCount:_react.default.createElement("span",{"data-test-subj":"number_of_logstash_instances"},nodesCount)}}))))),setupModeTooltip),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.uptimeLabel",defaultMessage:"Uptime"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsUptime"},props.max_uptime?(0,_format_number.formatNumber)(props.max_uptime,"time_since"):0),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsJvmHeap"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.avg_memory_used,maxBytes:props.avg_memory}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToPipelines,"data-test-subj":"lsPipelines","aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.logstashPanel.pipelineCountLinkAriaLabel",{defaultMessage:"Logstash Pipelines (beta feature): {pipelineCount}",values:{pipelineCount:props.pipeline_count}})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.pipelinesCountLinkLabel",defaultMessage:"Pipelines: {pipelineCount}",values:{pipelineCount:_react.default.createElement("span",{"data-test-subj":"number_of_logstash_pipelines"},props.pipeline_count)}}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIconTip,{content:_i18n.i18n.translate("xpack.monitoring.cluster.overview.logstashPanel.betaFeatureTooltip",{defaultMessage:"Beta feature"}),position:"bottom",type:"beaker","aria-label":"Beta feature"}))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withMemoryQueuesLabel",defaultMessage:"With Memory Queues"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,queueTypes[_constants.LOGSTASH.QUEUE_TYPES.MEMORY]||0),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withPersistentQueuesLabel",defaultMessage:"With Persistent Queues"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,queueTypes[_constants.LOGSTASH.QUEUE_TYPES.PERSISTED]||0))))))}},3195:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsPanel=AlertsPanel;var _react=_interopRequireWildcard(__webpack_require__(0));var _momentTimezone=_interopRequireDefault(__webpack_require__(39));var _chrome=_interopRequireDefault(__webpack_require__(140));var _formatted_alert=__webpack_require__(1101);var _map_severity=__webpack_require__(578);var _format_timestamp_to_duration=__webpack_require__(430);var _constants=__webpack_require__(19);var _formatting=__webpack_require__(185);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function AlertsPanel(_ref){var alerts=_ref.alerts,changeUrl=_ref.changeUrl;var goToAlerts=function goToAlerts(){return changeUrl("/alerts")};if(!alerts||!alerts.length){return null}function TopAlertItem(_ref2){var item=_ref2.item,index=_ref2.index;var severityIcon=(0,_map_severity.mapSeverity)(item.metadata.severity);if(item.resolved_timestamp){severityIcon.title=_i18n.i18n.translate("xpack.monitoring.cluster.overview.alertsPanel.severityIconTitle",{defaultMessage:"{severityIconTitle} (resolved {time} ago)",values:{severityIconTitle:severityIcon.title,time:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.resolved_timestamp,_constants.CALCULATE_DURATION_SINCE)}});severityIcon.color="success";severityIcon.iconType="check"}var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");return _react.default.createElement(_eui.EuiCallOut,{key:"alert-item-".concat(index),"data-test-subj":"topAlertItem",className:"kuiVerticalRhythm",iconType:severityIcon.iconType,color:severityIcon.color,title:severityIcon.title},_react.default.createElement(_formatted_alert.FormattedAlert,{prefix:item.prefix,suffix:item.suffix,message:item.message,metadata:item.metadata,changeUrl:changeUrl}),_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("p",{"data-test-subj":"alertMeta",className:"monCallout--meta"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.lastCheckedTimeText",defaultMessage:"Last checked {updateDateTime} (triggered {duration} ago)",values:{updateDateTime:(0,_formatting.formatDateTimeLocal)(item.update_timestamp,timezone),duration:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.timestamp,_constants.CALCULATE_DURATION_SINCE)}}))))}var alertsList=_constants.KIBANA_ALERTING_ENABLED?alerts.map((function(alert,idx){var callOutProps=(0,_map_severity.mapSeverity)(alert.severity);var message=alert.message.replace("#relative",(0,_format_timestamp_to_duration.formatTimestampToDuration)(alert.expirationTime,_constants.CALCULATE_DURATION_UNTIL)).replace("#absolute",_momentTimezone.default.tz(alert.expirationTime,_momentTimezone.default.tz.guess()).format("LLL z"));if(!alert.isFiring){callOutProps.title=_i18n.i18n.translate("xpack.monitoring.cluster.overview.alertsPanel.severityIconTitle",{defaultMessage:"{severityIconTitle} (resolved {time} ago)",values:{severityIconTitle:callOutProps.title,time:(0,_format_timestamp_to_duration.formatTimestampToDuration)(alert.resolvedMS,_constants.CALCULATE_DURATION_SINCE)}});callOutProps.color="success";callOutProps.iconType="check"}else{if(alert.type===_constants.ALERT_TYPE_LICENSE_EXPIRATION){message=_react.default.createElement(_react.Fragment,null,message,"",_react.default.createElement(_eui.EuiLink,{href:"#license"},"Please update your license"))}}return _react.default.createElement(_eui.EuiCallOut,_extends({key:idx},callOutProps),_react.default.createElement("p",null,message))})):alerts.map((function(item,index){return _react.default.createElement(TopAlertItem,{item:item,key:"top-alert-item-".concat(index),index:index})}));return _react.default.createElement("div",{"data-test-subj":"clusterAlertsContainer"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.topClusterTitle",defaultMessage:"Top cluster alerts"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",onClick:goToAlerts,"data-test-subj":"viewAllAlerts"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.viewAllButtonLabel",defaultMessage:"View all alerts"})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),alertsList,_react.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}},3196:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsPanel=BeatsPanel;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(49);var _eui=__webpack_require__(2);var _helpers=__webpack_require__(334);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _tooltip=__webpack_require__(335);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function BeatsPanel(props){var setupMode=props.setupMode;var beatsTotal=(0,_lodash.get)(props,"beats.total")||0;if(beatsTotal===0&&!setupMode.enabled){return null}var goToBeats=function goToBeats(){return props.changeUrl("beats")};var goToInstances=function goToInstances(){return props.changeUrl("beats/beats")};var setupModeData=(0,_lodash.get)(setupMode.data,"beats");var setupModeTooltip=setupMode&&setupMode.enabled?_react.default.createElement(_tooltip.SetupModeTooltip,{setupModeData:setupModeData,productName:_constants.BEATS_SYSTEM_ID,badgeClickAction:goToInstances}):null;var beatTypes=props.beats.types.map((function(beat,index){return[_react.default.createElement(_eui.EuiDescriptionListTitle,{key:"beat-types-type-".concat(index),"data-test-subj":"beatTypeCount","data-test-beat-type-count":beat.type+":"+beat.count},beat.type),_react.default.createElement(_eui.EuiDescriptionListDescription,{key:"beat-types-count-".concat(index)},beat.count)]}));return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"beats",title:_i18n.i18n.translate("xpack.monitoring.cluster.overview.beatsPanel.beatsTitle",{defaultMessage:"Beats"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToBeats,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.beatsPanel.overviewLinkAriaLabel",{defaultMessage:"Beats Overview"}),"data-test-subj":"beatsOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.totalEventsLabel",defaultMessage:"Total Events"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.bytesSentLabel",defaultMessage:"Bytes Sent"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsBytesSent"},(0,_format_number.formatMetric)(props.bytesSent,"byte"))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.beatsPanel.instancesTotalLinkAriaLabel",{defaultMessage:"Beats Instances: {beatsTotal}",values:{beatsTotal:beatsTotal}}),"data-test-subj":"beatsListing"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTotalLinkLabel",defaultMessage:"Beats: {beatsTotal}",values:{beatsTotal:_react.default.createElement("span",{"data-test-subj":"beatsTotal"},beatsTotal)}}))))),setupModeTooltip),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},beatTypes)))))}},3197:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmPanel=ApmPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(49);var _helpers=__webpack_require__(334);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);var _common=__webpack_require__(276);var _constants=__webpack_require__(19);var _tooltip=__webpack_require__(335);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ApmPanel(props){var setupMode=props.setupMode;var apmsTotal=(0,_lodash.get)(props,"apms.total")||0;if(apmsTotal===0&&!setupMode.enabled){return null}var goToApm=function goToApm(){return props.changeUrl("apm")};var goToInstances=function goToInstances(){return props.changeUrl("apm/instances")};var setupModeData=(0,_lodash.get)(setupMode.data,"apm");var setupModeTooltip=setupMode&&setupMode.enabled?_react.default.createElement(_tooltip.SetupModeTooltip,{setupModeData:setupModeData,badgeClickAction:goToInstances,productName:_constants.APM_SYSTEM_ID}):null;return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"apm",title:_i18n.i18n.translate("xpack.monitoring.cluster.overview.apmPanel.apmTitle",{defaultMessage:"APM"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_helpers.DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,onClick:goToApm,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.apmPanel.overviewLinkAriaLabel",{defaultMessage:"APM Overview"}),"data-test-subj":"apmOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.processedEventsLabel",defaultMessage:"Processed Events"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventLabel",defaultMessage:"Last Event"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsBytesSent"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(props.timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":_i18n.i18n.translate("xpack.monitoring.cluster.overview.apmPanel.instancesTotalLinkAriaLabel",{defaultMessage:"APM Instances: {apmsTotal}",values:{apmsTotal:apmsTotal}}),"data-test-subj":"apmListing"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.serversTotalLinkLabel",defaultMessage:"APM Servers: {apmsTotal}",values:{apmsTotal:_react.default.createElement("span",{"data-test-subj":"apmsTotal"},apmsTotal)}}))))),setupModeTooltip),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmMemoryUsage"},_react.default.createElement(_helpers.BytesUsage,{usedBytes:props.memRss})))))))}},3198:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsStatus=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _kfetch=__webpack_require__(174);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _common=__webpack_require__(378);var _setup_mode=__webpack_require__(275);var _constants=__webpack_require__(19);var _configuration=__webpack_require__(3201);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertsStatus=function AlertsStatus(props){var emailAddress=props.emailAddress;var _React$useState=_react.default.useState((0,_setup_mode.getSetupModeState)().enabled),_React$useState2=_slicedToArray(_React$useState,2),setupModeEnabled=_React$useState2[0],setSetupModeEnabled=_React$useState2[1];var _React$useState3=_react.default.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),kibanaAlerts=_React$useState4[0],setKibanaAlerts=_React$useState4[1];var _React$useState5=_react.default.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),showMigrationFlyout=_React$useState6[0],setShowMigrationFlyout=_React$useState6[1];var _React$useState7=_react.default.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isSecurityConfigured=_React$useState8[0],setIsSecurityConfigured=_React$useState8[1];_react.default.useEffect((function(){function fetchAlertsStatus(){return _fetchAlertsStatus.apply(this,arguments)}function _fetchAlertsStatus(){_fetchAlertsStatus=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var alerts,monitoringAlerts;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:"".concat(_common.BASE_ALERT_API_PATH,"/_find")});case 2:alerts=_context.sent;monitoringAlerts=alerts.data.filter((function(alert){return alert.alertTypeId.startsWith(_constants.ALERT_TYPE_PREFIX)}));setKibanaAlerts(monitoringAlerts);case 5:case"end":return _context.stop()}}}),_callee)})));return _fetchAlertsStatus.apply(this,arguments)}fetchAlertsStatus();fetchSecurityConfigured()}),[setupModeEnabled,showMigrationFlyout]);_react.default.useEffect((function(){if(!setupModeEnabled&&showMigrationFlyout){setShowMigrationFlyout(false)}}),[setupModeEnabled,showMigrationFlyout]);function fetchSecurityConfigured(){return _fetchSecurityConfigured.apply(this,arguments)}function _fetchSecurityConfigured(){_fetchSecurityConfigured=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var response;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_kfetch.kfetch)({pathname:"/internal/security/api_key/privileges"});case 2:response=_context2.sent;setIsSecurityConfigured(response.areApiKeysEnabled);case 4:case"end":return _context2.stop()}}}),_callee2)})));return _fetchSecurityConfigured.apply(this,arguments)}(0,_setup_mode.addSetupModeCallback)((function(){return setSetupModeEnabled((0,_setup_mode.getSetupModeState)().enabled)}));function enterSetupModeAndOpenFlyout(){(0,_setup_mode.toggleSetupMode)(true);setShowMigrationFlyout(true)}function getSecurityConfigurationErrorUi(){if(isSecurityConfigured){return null}var link="".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(_documentation_links.DOC_LINK_VERSION,"/security-settings.html#api-key-service-settings");return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.securityConfigurationErrorTitle",{defaultMessage:"API keys are not enabled in Elasticsearch"}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.alerts.configuration.securityConfigurationErrorMessage",defaultMessage:"Refer to the {link} to enable API keys.",values:{link:_react.default.createElement(_eui.EuiLink,{href:link,target:"_blank"},_i18n.i18n.translate("xpack.monitoring.alerts.configuration.securityConfigurationError.docsLinkLabel",{defaultMessage:"docs"}))}}))))}function renderContent(){var flyout=null;if(showMigrationFlyout){flyout=_react.default.createElement(_eui.EuiFlyout,{onClose:function onClose(){return setShowMigrationFlyout(false)},"aria-labelledby":"flyoutTitle"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_i18n.i18n.translate("xpack.monitoring.alerts.status.flyoutTitle",{defaultMessage:"Monitoring alerts"}))),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.alerts.status.flyoutSubtitle",{defaultMessage:"Configure an email server and email address to receive alerts."}))),getSecurityConfigurationErrorUi()),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_configuration.AlertsConfiguration,{emailAddress:emailAddress,onDone:function onDone(){return setShowMigrationFlyout(false)}})))}var allMigrated=kibanaAlerts.length===_constants.NUMBER_OF_MIGRATED_ALERTS;if(allMigrated){if(setupModeEnabled){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{color:"success",title:_i18n.i18n.translate("xpack.monitoring.alerts.status.upToDate",{defaultMessage:"Kibana alerting is up to date!"}),iconType:"flag"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:enterSetupModeAndOpenFlyout},_i18n.i18n.translate("xpack.monitoring.alerts.status.manage",{defaultMessage:"Want to make changes? Click here."})))),flyout)}}else{return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_i18n.i18n.translate("xpack.monitoring.alerts.status.needToMigrateTitle",{defaultMessage:"Hey! We made alerting better!"})},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:enterSetupModeAndOpenFlyout},_i18n.i18n.translate("xpack.monitoring.alerts.status.needToMigrate",{defaultMessage:"Migrate cluster alerts to our new alerting platform."})))),flyout)}}var content=renderContent();if(content){return _react.default.createElement(_react.Fragment,null,content,_react.default.createElement(_eui.EuiSpacer,null))}return null};exports.AlertsStatus=AlertsStatus},32:function(module,exports){module.exports=vendors_3},3201:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AlertsConfiguration",{enumerable:true,get:function get(){return _configuration.AlertsConfiguration}});var _configuration=__webpack_require__(1103)},3202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Step1=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _kfetch=__webpack_require__(174);var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _common=__webpack_require__(500);var _manage_email_action=__webpack_require__(3203);var _constants=__webpack_require__(19);var _configuration=__webpack_require__(1103);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Step1=function Step1(props){var _React$useState=_react.default.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isTesting=_React$useState2[0],setIsTesting=_React$useState2[1];var _React$useState3=_react.default.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isDeleting=_React$useState4[0],setIsDeleting=_React$useState4[1];var _React$useState5=_react.default.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),testingStatus=_React$useState6[0],setTestingStatus=_React$useState6[1];var _React$useState7=_react.default.useState(""),_React$useState8=_slicedToArray(_React$useState7,2),fullTestingError=_React$useState8[0],setFullTestingError=_React$useState8[1];function createEmailAction(_x){return _createEmailAction.apply(this,arguments)}function _createEmailAction(){_createEmailAction=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(data){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!props.editAction){_context3.next=6;break}_context3.next=3;return(0,_kfetch.kfetch)({method:"PUT",pathname:"".concat(_common.BASE_ACTION_API_PATH,"/").concat(props.editAction.id),body:JSON.stringify({name:props.editAction.name,config:(0,_lodash.omit)(data,["user","password"]),secrets:(0,_lodash.pick)(data,["user","password"])})});case 3:props.setEditAction(null);_context3.next=8;break;case 6:_context3.next=8;return(0,_kfetch.kfetch)({method:"POST",pathname:_common.BASE_ACTION_API_PATH,body:JSON.stringify({name:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.emailAction.name",{defaultMessage:"Email action for Stack Monitoring alerts"}),actionTypeId:_constants.ALERT_ACTION_TYPE_EMAIL,config:(0,_lodash.omit)(data,["user","password"]),secrets:(0,_lodash.pick)(data,["user","password"])})});case 8:_context3.next=10;return props.onActionDone();case 10:case"end":return _context3.stop()}}}),_callee3)})));return _createEmailAction.apply(this,arguments)}function deleteEmailAction(_x2){return _deleteEmailAction.apply(this,arguments)}function _deleteEmailAction(){_deleteEmailAction=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(id){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setIsDeleting(true);_context4.next=3;return(0,_kfetch.kfetch)({method:"DELETE",pathname:"".concat(_common.BASE_ACTION_API_PATH,"/").concat(id)});case 3:if(props.editAction&&props.editAction.id===id){props.setEditAction(null)}if(props.selectedEmailActionId===id){props.setSelectedEmailActionId("")}_context4.next=7;return props.onActionDone();case 7:setIsDeleting(false);setTestingStatus(null);case 9:case"end":return _context4.stop()}}}),_callee4)})));return _deleteEmailAction.apply(this,arguments)}function testEmailAction(){return _testEmailAction.apply(this,arguments)}function _testEmailAction(){_testEmailAction=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var params,result;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setIsTesting(true);setTestingStatus(null);params={subject:"Kibana alerting test configuration",message:"This is a test for the configured email action for Kibana alerting.",to:[props.emailAddress]};_context5.next=5;return(0,_kfetch.kfetch)({method:"POST",pathname:"".concat(_common.BASE_ACTION_API_PATH,"/").concat(props.selectedEmailActionId,"/_execute"),body:JSON.stringify({params:params})});case 5:result=_context5.sent;if(result.status==="ok"){setTestingStatus(true)}else{setTestingStatus(false);setFullTestingError(result.message)}setIsTesting(false);case 8:case"end":return _context5.stop()}}}),_callee5)})));return _testEmailAction.apply(this,arguments)}function getTestButton(){var isTestingDisabled=!props.emailAddress||props.emailAddress.length===0;var testBtn=_react.default.createElement(_eui.EuiButton,{size:"s",iconType:"play",onClick:testEmailAction,isLoading:isTesting,isDisabled:isTestingDisabled},_i18n.i18n.translate("xpack.monitoring.alerts.configuration.testConfiguration.buttonText",{defaultMessage:"Test"}));if(isTestingDisabled){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.testConfiguration.disabledTooltipText",{defaultMessage:"Please configure an email address below to test this action."})},testBtn)}return testBtn}if(props.editAction){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.alerts.configuration.step1.editAction",{defaultMessage:"Edit the action below."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_manage_email_action.ManageEmailAction,{createEmailAction:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(data){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createEmailAction(data);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));return function(_x3){return _ref.apply(this,arguments)}}(),cancel:function cancel(){return props.setEditAction(null)},isNew:false,action:props.editAction}))}var newAction=_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("xpack.monitoring.alerts.configuration.newActionDropdownDisplay",{defaultMessage:"Create new email action..."}));var options=[].concat(_toConsumableArray(props.emailActions.map((function(action){var actionLabel=_i18n.i18n.translate("xpack.monitoring.alerts.configuration.selectAction.inputDisplay",{defaultMessage:"From: {from}, Service: {service}",values:{service:action.config.service,from:action.config.from}});return{value:action.id,inputDisplay:_react.default.createElement(_eui.EuiText,null,actionLabel),dropdownDisplay:_react.default.createElement(_eui.EuiText,null,actionLabel)}}))),[{value:_configuration.NEW_ACTION_ID,inputDisplay:newAction,dropdownDisplay:newAction}]);var selectBox=_react.default.createElement(_eui.EuiSuperSelect,{options:options,valueOfSelected:props.selectedEmailActionId,onChange:function onChange(id){return props.setSelectedEmailActionId(id)},hasDividers:true});var createNew=null;if(props.selectedEmailActionId===_configuration.NEW_ACTION_ID){createNew=_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_manage_email_action.ManageEmailAction,{createEmailAction:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(data){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createEmailAction(data);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));return function(_x4){return _ref2.apply(this,arguments)}}(),isNew:true}));if(props.emailActions.length===0){selectBox=null}else{selectBox=_react.default.createElement(_react.Fragment,null,selectBox,_react.default.createElement(_eui.EuiSpacer,null))}}var manageConfiguration=null;var selectedEmailAction=props.emailActions.find((function(action){return action.id===props.selectedEmailActionId}));if(props.selectedEmailActionId!==_configuration.NEW_ACTION_ID&&props.selectedEmailActionId&&selectedEmailAction){var testingStatusUi=null;if(testingStatus===true){testingStatusUi=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,{color:"secondary"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.alerts.configuration.testConfiguration.success",{defaultMessage:"Looks good on our end!"}))))}else if(testingStatus===false){testingStatusUi=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.step1.testingError",{defaultMessage:"Unable to send test email. Please double check your email configuration."}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,fullTestingError)))}manageConfiguration=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",iconType:"pencil",onClick:function onClick(){var editAction=props.emailActions.find((function(action){return action.id===props.selectedEmailActionId}))||null;props.setEditAction(editAction)}},_i18n.i18n.translate("xpack.monitoring.alerts.configuration.editConfiguration.buttonText",{defaultMessage:"Edit"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},getTestButton()),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",color:"danger",iconType:"trash",onClick:function onClick(){return deleteEmailAction(props.selectedEmailActionId)},isLoading:isDeleting},_i18n.i18n.translate("xpack.monitoring.alerts.configuration.deleteConfiguration.buttonText",{defaultMessage:"Delete"})))),testingStatusUi)}return _react.default.createElement(_react.Fragment,null,selectBox,manageConfiguration,createNew)};exports.Step1=Step1},3203:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManageEmailAction=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _form_validation=__webpack_require__(1104);var _constants=__webpack_require__(19);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_DATA={service:"",host:"",port:0,secure:false,from:"",user:"",password:""};var CREATE_LABEL=_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.createLabel",{defaultMessage:"Create email action"});var SAVE_LABEL=_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.saveLabel",{defaultMessage:"Save email action"});var CANCEL_LABEL=_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.cancelLabel",{defaultMessage:"Cancel"});var NEW_SERVICE_ID="__new__";var ManageEmailAction=function ManageEmailAction(props){var createEmailAction=props.createEmailAction,cancel=props.cancel,isNew=props.isNew,action=props.action;var defaultData=Object.assign({},DEFAULT_DATA,action?action.config:{});var _React$useState=_react.default.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isSaving=_React$useState2[0],setIsSaving=_React$useState2[1];var _React$useState3=_react.default.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showErrors=_React$useState4[0],setShowErrors=_React$useState4[1];var _React$useState5=_react.default.useState((0,_form_validation.getMissingFieldErrors)(defaultData,DEFAULT_DATA)),_React$useState6=_slicedToArray(_React$useState5,2),errors=_React$useState6[0],setErrors=_React$useState6[1];var _React$useState7=_react.default.useState(defaultData),_React$useState8=_slicedToArray(_React$useState7,2),data=_React$useState8[0],setData=_React$useState8[1];var _React$useState9=_react.default.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),createNewService=_React$useState10[0],setCreateNewService=_React$useState10[1];var _React$useState11=_react.default.useState(""),_React$useState12=_slicedToArray(_React$useState11,2),newService=_React$useState12[0],setNewService=_React$useState12[1];_react.default.useEffect((function(){var missingFieldErrors=(0,_form_validation.getMissingFieldErrors)(data,DEFAULT_DATA);if(!missingFieldErrors.service){if(data.service===NEW_SERVICE_ID&&!newService){missingFieldErrors.service=(0,_form_validation.getRequiredFieldError)("service")}}setErrors(missingFieldErrors)}),[data,newService]);function saveEmailAction(){return _saveEmailAction.apply(this,arguments)}function _saveEmailAction(){_saveEmailAction=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var mergedData;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setShowErrors(true);if((0,_form_validation.hasErrors)(errors)){_context.next=13;break}setShowErrors(false);setIsSaving(true);mergedData=_objectSpread({},data,{service:data.service===NEW_SERVICE_ID?newService:data.service});_context.prev=5;_context.next=8;return createEmailAction(mergedData);case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](5);setErrors({general:_context.t0.body.message});case 13:case"end":return _context.stop()}}}),_callee,null,[[5,10]])})));return _saveEmailAction.apply(this,arguments)}var serviceOptions=_constants.ALERT_EMAIL_SERVICES.map((function(service){return{value:service,inputDisplay:_react.default.createElement(_eui.EuiText,null,service),dropdownDisplay:_react.default.createElement(_eui.EuiText,null,service)}}));serviceOptions.push({value:NEW_SERVICE_ID,inputDisplay:_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.addingNewServiceText",{defaultMessage:"Adding new service..."})),dropdownDisplay:_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.addNewServiceText",{defaultMessage:"Add new service..."}))});var addNewServiceUi=null;if(createNewService){addNewServiceUi=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFieldText,{value:newService,onChange:function onChange(e){return setNewService(e.target.value)},isInvalid:showErrors}))}return _react.default.createElement(_eui.EuiForm,{isInvalid:showErrors,error:Object.values(errors)},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.serviceText",{defaultMessage:"Service"}),helpText:_react.default.createElement(_eui.EuiLink,{external:true,target:"_blank",href:"https://nodemailer.com/smtp/well-known/"},_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.serviceHelpText",{defaultMessage:"Find out more"})),error:errors.service,isInvalid:showErrors&&!!errors.service},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSuperSelect,{options:serviceOptions,valueOfSelected:data.service,onChange:function onChange(id){if(id===NEW_SERVICE_ID){setCreateNewService(true);setData(_objectSpread({},data,{service:NEW_SERVICE_ID}))}else{setCreateNewService(false);setData(_objectSpread({},data,{service:id}))}},hasDividers:true,isInvalid:showErrors&&!!errors.service}),addNewServiceUi)),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.hostText",{defaultMessage:"Host"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.hostHelpText",{defaultMessage:"Host name of the service provider"}),error:errors.host,isInvalid:showErrors&&!!errors.host},_react.default.createElement(_eui.EuiFieldText,{value:data.host,onChange:function onChange(e){return setData(_objectSpread({},data,{host:e.target.value}))},isInvalid:showErrors&&!!errors.host})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.portText",{defaultMessage:"Port"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.portHelpText",{defaultMessage:"Port number of the service provider"}),error:errors.port,isInvalid:showErrors&&!!errors.port},_react.default.createElement(_eui.EuiFieldNumber,{value:data.port,onChange:function onChange(e){return setData(_objectSpread({},data,{port:parseInt(e.target.value,10)}))},isInvalid:showErrors&&!!errors.port})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.secureText",{defaultMessage:"Secure"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.secureHelpText",{defaultMessage:"Whether to use TLS with the service provider"})},_react.default.createElement(_eui.EuiSwitch,{label:"",checked:data.secure,onChange:function onChange(e){return setData(_objectSpread({},data,{secure:e.target.checked}))}})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.fromText",{defaultMessage:"From"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.fromHelpText",{defaultMessage:"The from email address for alerts"}),error:errors.from,isInvalid:showErrors&&!!errors.from},_react.default.createElement(_eui.EuiFieldText,{value:data.from,onChange:function onChange(e){return setData(_objectSpread({},data,{from:e.target.value}))},isInvalid:showErrors&&!!errors.from})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.userText",{defaultMessage:"User"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.userHelpText",{defaultMessage:"The user to use with the service provider"}),error:errors.user,isInvalid:showErrors&&!!errors.user},_react.default.createElement(_eui.EuiFieldText,{value:data.user,onChange:function onChange(e){return setData(_objectSpread({},data,{user:e.target.value}))},isInvalid:showErrors&&!!errors.user})),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.passwordText",{defaultMessage:"Password"}),helpText:_i18n.i18n.translate("xpack.monitoring.alerts.migrate.manageAction.passwordHelpText",{defaultMessage:"The password to use with the service provider"}),error:errors.password,isInvalid:showErrors&&!!errors.password},_react.default.createElement(_eui.EuiFieldPassword,{value:data.password,onChange:function onChange(e){return setData(_objectSpread({},data,{password:e.target.value}))},isInvalid:showErrors&&!!errors.password})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{type:"submit",fill:true,onClick:saveEmailAction,isLoading:isSaving},isNew?CREATE_LABEL:SAVE_LABEL)),!action||isNew?null:_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{onClick:cancel},CANCEL_LABEL))))};exports.ManageEmailAction=ManageEmailAction},3204:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Step2=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Step2=function Step2(props){return _react.default.createElement(_eui.EuiForm,{isInvalid:props.showFormErrors},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.emailAddressLabel",{defaultMessage:"Email address"}),error:props.formErrors.email,isInvalid:props.showFormErrors&&!!props.formErrors.email},_react.default.createElement(_eui.EuiFieldText,{value:props.emailAddress,disabled:props.isDisabled,onChange:function onChange(e){return props.setEmailAddress(e.target.value)}})))};exports.Step2=Step2},3205:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Step3=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Step3=function Step3(props){var errorUi=null;if(props.error){errorUi=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.alerts.configuration.step3.saveError",{defaultMessage:"Unable to save"}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,props.error)),_react.default.createElement(_eui.EuiSpacer,null))}return _react.default.createElement(_react.Fragment,null,errorUi,_react.default.createElement(_eui.EuiButton,{isLoading:props.isSaving,isDisabled:props.isDisabled,onClick:props.save},_i18n.i18n.translate("xpack.monitoring.alerts.configuration.save",{defaultMessage:"Save"})))};exports.Step3=Step3},3206:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetupModeRenderer=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _setup_mode=__webpack_require__(275);var _flyout=__webpack_require__(3207);var _eui=__webpack_require__(2);var _find_new_uuid=__webpack_require__(3226);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SetupModeRenderer=function(_React$Component){_inherits(SetupModeRenderer,_React$Component);function SetupModeRenderer(){var _getPrototypeOf2;var _this;_classCallCheck(this,SetupModeRenderer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SetupModeRenderer)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{renderState:false,isFlyoutOpen:false,instance:null,newProduct:null,isSettingUpNew:false});return _this}_createClass(SetupModeRenderer,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var _this2=this;var _this$props=this.props,scope=_this$props.scope,injector=_this$props.injector;(0,_setup_mode.initSetupModeState)(scope,injector,(function(_oldData){var newState={renderState:true};var productName=_this2.props.productName;if(!productName){_this2.setState(newState);return}var setupModeState=(0,_setup_mode.getSetupModeState)();if(!setupModeState.enabled||!setupModeState.data){_this2.setState(newState);return}var data=setupModeState.data[productName];var oldData=_oldData?_oldData[productName]:null;if(data&&oldData){var newUuid=(0,_find_new_uuid.findNewUuid)(Object.keys(oldData.byUuid),Object.keys(data.byUuid));if(newUuid){newState.newProduct=data.byUuid[newUuid]}}_this2.setState(newState)}));(0,_setup_mode.setSetupModeMenuItem)()}},{key:"reset",value:function reset(){this.setState({renderState:false,isFlyoutOpen:false,instance:null,newProduct:null,isSettingUpNew:false})}},{key:"getFlyout",value:function getFlyout(data,meta){var _this3=this;var productName=this.props.productName;var _this$state=this.state,isFlyoutOpen=_this$state.isFlyoutOpen,instance=_this$state.instance,isSettingUpNew=_this$state.isSettingUpNew,newProduct=_this$state.newProduct;if(!data||!isFlyoutOpen){return null}var product=null;if(newProduct){product=newProduct}else if(instance&&Object.keys(instance).length){product=data.byUuid[instance.uuid]}if(!product){var uuids=Object.values(data.byUuid);if(uuids.length&&!isSettingUpNew){product=uuids[0]}else{product={isNetNewUser:true}}}return _react.default.createElement(_flyout.Flyout,{onClose:function onClose(){return _this3.reset()},productName:productName,product:product,meta:meta,instance:instance,updateProduct:_setup_mode.updateSetupModeData,isSettingUpNew:isSettingUpNew})}},{key:"getBottomBar",value:function getBottomBar(setupModeState){if(!setupModeState.enabled){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xxl"}),_react.default.createElement(_eui.EuiBottomBar,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTextColor,{color:"ghost"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.setupMode.description",defaultMessage:"You are in setup mode. The ({flagIcon}) icon indicates configuration options.",values:{flagIcon:_react.default.createElement(_eui.EuiIcon,{type:"flag"})}}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{color:"danger",fill:true,iconType:"flag",iconSide:"right",size:"s",onClick:function onClick(){return(0,_setup_mode.toggleSetupMode)(false)}},_i18n.i18n.translate("xpack.monitoring.setupMode.exit",{defaultMessage:"Exit setup mode"}))))))))}},{key:"shortcutToFinishMigration",value:function(){var _shortcutToFinishMigration=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_setup_mode.disableElasticsearchInternalCollection)();case 2:_context.next=4;return(0,_setup_mode.updateSetupModeData)();case 4:case"end":return _context.stop()}}}),_callee)})));function shortcutToFinishMigration(){return _shortcutToFinishMigration.apply(this,arguments)}return shortcutToFinishMigration}()},{key:"render",value:function render(){var _this4=this;var _this$props2=this.props,render=_this$props2.render,productName=_this$props2.productName;var setupModeState=(0,_setup_mode.getSetupModeState)();var data=null;if(setupModeState.data){if(productName){data=setupModeState.data[productName]}else{data=setupModeState.data}}var meta=setupModeState.data?setupModeState.data._meta:null;return render({setupMode:{data:data,meta:meta,enabled:setupModeState.enabled,productName:productName,updateSetupModeData:_setup_mode.updateSetupModeData,shortcutToFinishMigration:function shortcutToFinishMigration(){return _this4.shortcutToFinishMigration()},openFlyout:function openFlyout(instance,isSettingUpNew){return _this4.setState({isFlyoutOpen:true,instance:instance,isSettingUpNew:isSettingUpNew})},closeFlyout:function closeFlyout(){return _this4.setState({isFlyoutOpen:false})}},flyoutComponent:this.getFlyout(data,meta),bottomBarComponent:this.getBottomBar(setupModeState)})}}]);return SetupModeRenderer}(_react.default.Component);exports.SetupModeRenderer=SetupModeRenderer},3207:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Flyout",{enumerable:true,get:function get(){return _flyout.Flyout}});var _flyout=__webpack_require__(3208)},3208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _instruction_steps=__webpack_require__(3209);var _public=__webpack_require__(24);var _constants=__webpack_require__(19);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _constants2=__webpack_require__(1106);var _documentation_links=__webpack_require__(121);var _formatting=__webpack_require__(330);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var storage=new _public.Storage(window.localStorage);var ES_MONITORING_URL_KEY="".concat(_constants.STORAGE_KEY,".mb_migration.esMonitoringUrl");var DEFAULT_ES_MONITORING_URL="http://localhost:9200";var Flyout=function(_Component){_inherits(Flyout,_Component);function Flyout(props){var _checkedStatusByStep;var _this;_classCallCheck(this,Flyout);_this=_possibleConstructorReturn(this,_getPrototypeOf(Flyout).call(this,props));_defineProperty(_assertThisInitialized(_this),"setEsMonitoringUrl",(function(esMonitoringUrl){storage.set(ES_MONITORING_URL_KEY,esMonitoringUrl);_this.setState({esMonitoringUrl:esMonitoringUrl})}));var _esMonitoringUrl=storage.get(ES_MONITORING_URL_KEY);if(!_esMonitoringUrl){_esMonitoringUrl=props.monitoringHosts?props.monitoringHosts[0]:DEFAULT_ES_MONITORING_URL}_this.checkInterval=null;var activeStep=_constants2.INSTRUCTION_STEP_SET_MONITORING_URL;if(props.product&&props.product.isPartiallyMigrated){activeStep=_constants2.INSTRUCTION_STEP_DISABLE_INTERNAL}_this.state={activeStep:activeStep,esMonitoringUrl:_esMonitoringUrl,checkedStatusByStep:(_checkedStatusByStep={},_defineProperty(_checkedStatusByStep,_constants2.INSTRUCTION_STEP_ENABLE_METRICBEAT,false),_defineProperty(_checkedStatusByStep,_constants2.INSTRUCTION_STEP_DISABLE_INTERNAL,false),_defineProperty(_checkedStatusByStep,"userAcknowledgedNoClusterUuidPrompt",false),_checkedStatusByStep)};return _this}_createClass(Flyout,[{key:"finishedFlyout",value:function finishedFlyout(){var onClose=this.props.onClose;onClose()}},{key:"renderActiveStep",value:function renderActiveStep(){var _this2=this;var _this$props=this.props,product=_this$props.product,productName=_this$props.productName,onClose=_this$props.onClose,meta=_this$props.meta;var _this$state=this.state,activeStep=_this$state.activeStep,esMonitoringUrl=_this$state.esMonitoringUrl,checkedStatusByStep=_this$state.checkedStatusByStep;switch(activeStep){case _constants2.INSTRUCTION_STEP_SET_MONITORING_URL:return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.step1.monitoringUrlLabel",{defaultMessage:"URL of monitoring cluster"}),helpText:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.step1.monitoringUrlHelpText",{defaultMessage:"Typically a single URL. If multiple URLs, separate with a comma.\n                The running Metricbeat instance must be able to communicate with these Elasticsearch servers."})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:esMonitoringUrl,onChange:function onChange(e){return _this2.setEsMonitoringUrl(e.target.value)}})));case _constants2.INSTRUCTION_STEP_ENABLE_METRICBEAT:case _constants2.INSTRUCTION_STEP_DISABLE_INTERNAL:var esMonitoringUrls=esMonitoringUrl.split(",").map((function(url){return'"'.concat(url,'"')}));var instructionSteps=(0,_instruction_steps.getInstructionSteps)(productName,product,activeStep,meta,{doneWithMigration:onClose,esMonitoringUrl:esMonitoringUrls,hasCheckedStatus:checkedStatusByStep[activeStep]});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSteps,{steps:instructionSteps}))}return null}},{key:"renderActiveStepNextButton",value:function renderActiveStepNextButton(){var _this3=this;var _this$props2=this.props,product=_this$props2.product,productName=_this$props2.productName;var _this$state2=this.state,activeStep=_this$state2.activeStep,esMonitoringUrl=_this$state2.esMonitoringUrl,userAcknowledgedNoClusterUuidPrompt=_this$state2.userAcknowledgedNoClusterUuidPrompt;if(!product){return null}var willDisableDoneButton=!product.isFullyMigrated;var willShowNextButton=activeStep!==_constants2.INSTRUCTION_STEP_DISABLE_INTERNAL;if(activeStep===_constants2.INSTRUCTION_STEP_ENABLE_METRICBEAT){if(productName===_constants.ELASTICSEARCH_SYSTEM_ID){willShowNextButton=false;willDisableDoneButton=!product.isPartiallyMigrated&&!product.isFullyMigrated}else{willShowNextButton=!product.isFullyMigrated;willDisableDoneButton=!product.isFullyMigrated}}if(product.isFullyMigrated&&product.clusterUuid===null){if(!userAcknowledgedNoClusterUuidPrompt){willDisableDoneButton=true}}if(willShowNextButton){var isDisabled=false;var nextStep=null;if(activeStep===_constants2.INSTRUCTION_STEP_SET_MONITORING_URL){isDisabled=!esMonitoringUrl||esMonitoringUrl.length===0;if(product.isPartiallyMigrated||product.isFullyMigrated){nextStep=_constants2.INSTRUCTION_STEP_DISABLE_INTERNAL}else{nextStep=_constants2.INSTRUCTION_STEP_ENABLE_METRICBEAT}}else if(activeStep===_constants2.INSTRUCTION_STEP_ENABLE_METRICBEAT){isDisabled=!product.isPartiallyMigrated&&!product.isFullyMigrated;nextStep=_constants2.INSTRUCTION_STEP_DISABLE_INTERNAL}return _react.default.createElement(_eui.EuiButton,{type:"submit",fill:true,iconType:"sortRight",iconSide:"right",isDisabled:isDisabled,onClick:function onClick(){return _this3.setState({activeStep:nextStep})}},_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.nextButtonLabel",{defaultMessage:"Next"}))}return _react.default.createElement(_eui.EuiButton,{type:"submit",fill:true,isDisabled:willDisableDoneButton,onClick:function onClick(){return _this3.finishedFlyout()}},_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.doneButtonLabel",{defaultMessage:"Done"}))}},{key:"getDocumentationTitle",value:function getDocumentationTitle(){var productName=this.props.productName;var documentationUrl=null;if(productName===_constants.KIBANA_SYSTEM_ID){documentationUrl="".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(_documentation_links.DOC_LINK_VERSION,"/monitoring-metricbeat.html")}else if(productName===_constants.ELASTICSEARCH_SYSTEM_ID){documentationUrl="".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(_documentation_links.DOC_LINK_VERSION,"/configuring-metricbeat.html")}if(!documentationUrl){return null}return _react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{href:documentationUrl,target:"_blank"},_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.learnMore",{defaultMessage:"Learn about why."})))}},{key:"render",value:function render(){var _this4=this;var _this$props3=this.props,onClose=_this$props3.onClose,instance=_this$props3.instance,productName=_this$props3.productName,product=_this$props3.product;var instanceIdentifier=(0,_formatting.getIdentifier)(productName);var instanceName=instance&&instance.name||(0,_formatting.formatProductName)(productName);var title=_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.flyoutTitle",{defaultMessage:"Monitor `{instanceName}` {instanceIdentifier} with Metricbeat",values:{instanceName:instanceName,instanceIdentifier:instanceIdentifier}});if(product.isNetNewUser){title=_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.flyoutTitleNewUser",{defaultMessage:"Monitor {instanceName} {instanceIdentifier} with Metricbeat",values:{instanceIdentifier:instanceIdentifier,instanceName:instanceName}})}var noClusterUuidPrompt=null;if(product.isFullyMigrated&&product.clusterUuid===null){noClusterUuidPrompt=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"help",title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.noClusterUuidTitle",{defaultMessage:"No cluster detected"})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.flyout.noClusterUuidDescription",defaultMessage:"This {productName} {instanceIdentifier} is not connected to an Elasticsearch cluster so once fully migrated, this {productName} {instanceIdentifier} will appear in the Standalone cluster instead of this one. {link}",values:{productName:productName,instanceIdentifier:instanceIdentifier,link:_react.default.createElement(_eui.EuiLink,{href:"#/overview?_g=(cluster_uuid:__standalone_cluster__)",target:"_blank"},"Click here to view the Standalone cluster.")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCheckbox,{id:"monitoringFlyoutNoClusterUuidCheckbox",label:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.noClusterUuidCheckboxLabel",{defaultMessage:"Yes, I understand that I will need to look in the Standalone cluster for\n                  this {productName} {instanceIdentifier}.",values:{productName:productName,instanceIdentifier:instanceIdentifier}}),checked:this.state.userAcknowledgedNoClusterUuidPrompt,onChange:function onChange(e){return _this4.setState({userAcknowledgedNoClusterUuidPrompt:e.target.checked})}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"aria-labelledby":"flyoutTitle"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",{id:"flyoutTitle"},title))),_react.default.createElement(_eui.EuiFlyoutBody,null,this.renderActiveStep(),noClusterUuidPrompt),_react.default.createElement(_eui.EuiFlyoutFooter,{style:{marginBottom:"64px"}},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",onClick:onClose,flush:"left"},_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.flyout.closeButtonLabel",{defaultMessage:"Close"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderActiveStepNextButton()))))}}]);return Flyout}(_react.Component);exports.Flyout=Flyout},3209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_instruction_steps=__webpack_require__(3210);Object.keys(_get_instruction_steps).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_instruction_steps[key]}})}))},3210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getInstructionSteps=getInstructionSteps;var _kibana=__webpack_require__(3211);var _elasticsearch=__webpack_require__(3214);var _logstash=__webpack_require__(3217);var _beats=__webpack_require__(3220);var _apm=__webpack_require__(3223);var _constants=__webpack_require__(1106);var _constants2=__webpack_require__(19);function getInstructionSteps(productName,product,step,meta,opts){switch(productName){case _constants2.KIBANA_SYSTEM_ID:if(step===_constants.INSTRUCTION_STEP_ENABLE_METRICBEAT){return(0,_kibana.getKibanaInstructionsForEnablingMetricbeat)(product,meta,opts)}if(step===_constants.INSTRUCTION_STEP_DISABLE_INTERNAL){return(0,_kibana.getKibanaInstructionsForDisablingInternalCollection)(product,meta,opts)}case _constants2.ELASTICSEARCH_SYSTEM_ID:if(step===_constants.INSTRUCTION_STEP_ENABLE_METRICBEAT){return(0,_elasticsearch.getElasticsearchInstructionsForEnablingMetricbeat)(product,meta,opts)}if(step===_constants.INSTRUCTION_STEP_DISABLE_INTERNAL){return(0,_elasticsearch.getElasticsearchInstructionsForDisablingInternalCollection)(product,meta,opts)}case _constants2.LOGSTASH_SYSTEM_ID:if(step===_constants.INSTRUCTION_STEP_ENABLE_METRICBEAT){return(0,_logstash.getLogstashInstructionsForEnablingMetricbeat)(product,meta,opts)}if(step===_constants.INSTRUCTION_STEP_DISABLE_INTERNAL){return(0,_logstash.getLogstashInstructionsForDisablingInternalCollection)(product,meta,opts)}case _constants2.BEATS_SYSTEM_ID:if(step===_constants.INSTRUCTION_STEP_ENABLE_METRICBEAT){return(0,_beats.getBeatsInstructionsForEnablingMetricbeat)(product,meta,opts)}if(step===_constants.INSTRUCTION_STEP_DISABLE_INTERNAL){return(0,_beats.getBeatsInstructionsForDisablingInternalCollection)(product,meta,opts)}case _constants2.APM_SYSTEM_ID:if(step===_constants.INSTRUCTION_STEP_ENABLE_METRICBEAT){return(0,_apm.getApmInstructionsForEnablingMetricbeat)(product,meta,opts)}if(step===_constants.INSTRUCTION_STEP_DISABLE_INTERNAL){return(0,_apm.getApmInstructionsForDisablingInternalCollection)(product,meta,opts)}}return[]}},3211:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getKibanaInstructionsForDisablingInternalCollection",{enumerable:true,get:function get(){return _disable_internal_collection_instructions.getKibanaInstructionsForDisablingInternalCollection}});Object.defineProperty(exports,"getKibanaInstructionsForEnablingMetricbeat",{enumerable:true,get:function get(){return _enable_metricbeat_instructions.getKibanaInstructionsForEnablingMetricbeat}});var _disable_internal_collection_instructions=__webpack_require__(3212);var _enable_metricbeat_instructions=__webpack_require__(3213)},3212:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getKibanaInstructionsForDisablingInternalCollection=getKibanaInstructionsForDisablingInternalCollection;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getKibanaInstructionsForDisablingInternalCollection(product,meta){var restartWarning=null;if(product.isPrimary){restartWarning=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.restartWarningTitle",{defaultMessage:"This step requires you to restart the Kibana server"}),color:"warning",iconType:"help"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.restartNote",defaultMessage:"Expect errors until the server is running again."})))))}var disableInternalCollectionStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of Kibana monitoring metrics"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.description",defaultMessage:"Add this setting to {file}.",values:{file:_react.default.createElement(_monospace.Monospace,null,"kibana.yml")}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"monitoring.kibana.collection.enabled: false"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.note",defaultMessage:"For {config}, leave the default value of ({defaultValue}).",values:{config:_react.default.createElement(_monospace.Monospace,null,"monitoring.enabled"),defaultValue:_react.default.createElement(_monospace.Monospace,null,"true")}}))),restartWarning)};var migrationStatusStep=(0,_common_instructions.getDisableStatusStep)(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}},3213:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getKibanaInstructionsForEnablingMetricbeat=getKibanaInstructionsForEnablingMetricbeat;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getKibanaInstructionsForEnablingMetricbeat(product,_meta,_ref){var esMonitoringUrl=_ref.esMonitoringUrl;var securitySetup=(0,_common_instructions.getSecurityStep)("".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(_documentation_links.DOC_LINK_VERSION,"/monitoring-metricbeat.html"));var installMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Kibana"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-installation.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var enableMetricbeatModuleStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Kibana x-pack module in Metricbeat"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"metricbeat modules enable kibana-xpack"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect Kibana monitoring metrics from http://localhost:5601. If the local Kibana instance has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:_react.default.createElement(_monospace.Monospace,null,"hosts"),file:_react.default.createElement(_monospace.Monospace,null,"modules.d/kibana-xpack.yml")}}))),securitySetup)};var configureMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:_react.default.createElement(_monospace.Monospace,null,"metricbeat.yml")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true},"output.elasticsearch:\n  hosts: [".concat(esMonitoringUrl,'] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n')),securitySetup)};var startMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-starting.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var migrationStatusStep=(0,_common_instructions.getMigrationStatusStep)(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}},3214:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getElasticsearchInstructionsForDisablingInternalCollection",{enumerable:true,get:function get(){return _disable_internal_collection_instructions.getElasticsearchInstructionsForDisablingInternalCollection}});Object.defineProperty(exports,"getElasticsearchInstructionsForEnablingMetricbeat",{enumerable:true,get:function get(){return _enable_metricbeat_instructions.getElasticsearchInstructionsForEnablingMetricbeat}});var _disable_internal_collection_instructions=__webpack_require__(3215);var _enable_metricbeat_instructions=__webpack_require__(3216)},3215:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getElasticsearchInstructionsForDisablingInternalCollection=getElasticsearchInstructionsForDisablingInternalCollection;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getElasticsearchInstructionsForDisablingInternalCollection(product,meta){var disableInternalCollectionStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.disableInternalCollectionTitle",{defaultMessage:"Disable self monitoring of Elasticsearch monitoring metrics"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.disableInternalCollectionDescription",defaultMessage:"Disable self monitoring of Elasticsearch monitoring metrics. Set {monospace} to false on each server in the production cluster.",values:{monospace:_react.default.createElement(_monospace.Monospace,null,"xpack.monitoring.elasticsearch.collection.enabled")}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"curl"},'PUT _cluster/settings\n{\n  "persistent": {\n    "xpack.monitoring.elasticsearch.collection.enabled": false\n  }\n}\n          '))};var migrationStatusStep=(0,_common_instructions.getDisableStatusStep)(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}},3216:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getElasticsearchInstructionsForEnablingMetricbeat=getElasticsearchInstructionsForEnablingMetricbeat;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getElasticsearchInstructionsForEnablingMetricbeat(product,_meta,_ref){var esMonitoringUrl=_ref.esMonitoringUrl;var securitySetup=(0,_common_instructions.getSecurityStep)("".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(_documentation_links.DOC_LINK_VERSION,"/configuring-metricbeat.html"));var installMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Elasticsearch"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-installation.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.installMetricbeatLinkText",defaultMessage:"Follow these instructions."}))))};var enableMetricbeatModuleStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Elasticsearch x-pack module in Metricbeat"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleInstallDirectory",{defaultMessage:"From the installation directory, run:"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"metricbeat modules enable elasticsearch-xpack"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module collects Elasticsearch metrics from {url}. If the local server has a different address, add it to the hosts setting in {module}.",values:{module:_react.default.createElement(_monospace.Monospace,null,"modules.d/elasticsearch-xpack.yml"),url:_react.default.createElement(_monospace.Monospace,null,"http://localhost:9200")}}))),securitySetup)};var configureMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send data to the monitoring cluster"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.configureMetricbeatDescription",defaultMessage:"Modify {file} to set the connection information.",values:{file:_react.default.createElement(_monospace.Monospace,null,"metricbeat.yml")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true},"output.elasticsearch:\n  hosts: [".concat(esMonitoringUrl,'] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n')),securitySetup)};var startMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-starting.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.startMetricbeatLinkText",defaultMessage:"Follow these instructions."}))))};var migrationStatusStep=(0,_common_instructions.getMigrationStatusStep)(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}},3217:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getLogstashInstructionsForDisablingInternalCollection",{enumerable:true,get:function get(){return _disable_internal_collection_instructions.getLogstashInstructionsForDisablingInternalCollection}});Object.defineProperty(exports,"getLogstashInstructionsForEnablingMetricbeat",{enumerable:true,get:function get(){return _enable_metricbeat_instructions.getLogstashInstructionsForEnablingMetricbeat}});var _disable_internal_collection_instructions=__webpack_require__(3218);var _enable_metricbeat_instructions=__webpack_require__(3219)},3218:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogstashInstructionsForDisablingInternalCollection=getLogstashInstructionsForDisablingInternalCollection;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getLogstashInstructionsForDisablingInternalCollection(product,meta){var disableInternalCollectionStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of Logstash monitoring metrics"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in the Logstash configuration file ({file}):",values:{file:_react.default.createElement(_monospace.Monospace,null,"logstash.yml")}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"xpack.monitoring.enabled: false"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart Logstash after making this change."}))))};var migrationStatusStep=(0,_common_instructions.getDisableStatusStep)(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}},3219:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogstashInstructionsForEnablingMetricbeat=getLogstashInstructionsForEnablingMetricbeat;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getLogstashInstructionsForEnablingMetricbeat(product,_meta,_ref){var esMonitoringUrl=_ref.esMonitoringUrl;var securitySetup=(0,_common_instructions.getSecurityStep)("".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/logstash/").concat(_documentation_links.DOC_LINK_VERSION,"/monitoring-with-metricbeat.html"));var installMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.logstashInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Logstash"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-installation.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var enableMetricbeatModuleStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.logstashInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Logstash x-pack module in Metricbeat"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"metricbeat modules enable logstash-xpack"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect Logstash monitoring metrics from http://localhost:9600. If the local Logstash instance has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:_react.default.createElement(_monospace.Monospace,null,"hosts"),file:_react.default.createElement(_monospace.Monospace,null,"modules.d/logstash-xpack.yml")}}))),securitySetup)};var configureMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.logstashInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:_react.default.createElement(_monospace.Monospace,null,"metricbeat.yml")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true},"output.elasticsearch:\n  hosts: [".concat(esMonitoringUrl,'] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n')),securitySetup)};var startMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.logstashInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-starting.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var migrationStatusStep=(0,_common_instructions.getMigrationStatusStep)(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}},3220:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getBeatsInstructionsForDisablingInternalCollection",{enumerable:true,get:function get(){return _disable_internal_collection_instructions.getBeatsInstructionsForDisablingInternalCollection}});Object.defineProperty(exports,"getBeatsInstructionsForEnablingMetricbeat",{enumerable:true,get:function get(){return _enable_metricbeat_instructions.getBeatsInstructionsForEnablingMetricbeat}});var _disable_internal_collection_instructions=__webpack_require__(3221);var _enable_metricbeat_instructions=__webpack_require__(3222)},3221:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBeatsInstructionsForDisablingInternalCollection=getBeatsInstructionsForDisablingInternalCollection;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_beats_instructions=__webpack_require__(1105);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getBeatsInstructionsForDisablingInternalCollection(product,meta){var beatType=product.beatType;var disableInternalCollectionStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of {beatType}'s monitoring metrics",values:{beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE}}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in {beatType}'s configuration file ({file}):",values:{beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE,file:_react.default.createElement(_monospace.Monospace,null,beatType,".yml")}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"monitoring.enabled: false"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart {beatType} after making this change.",values:{beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE}}))))};var migrationStatusStep=(0,_common_instructions.getDisableStatusStep)(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}},3222:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBeatsInstructionsForEnablingMetricbeat=getBeatsInstructionsForEnablingMetricbeat;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_beats_instructions=__webpack_require__(1105);var _documentation_links=__webpack_require__(121);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getBeatsInstructionsForEnablingMetricbeat(product,_meta,_ref){var esMonitoringUrl=_ref.esMonitoringUrl;var beatType=product.beatType;var securitySetup=(0,_common_instructions.getSecurityStep)("".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-configuration.html"));var installMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.beatsInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as this {beatType}",values:{beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE}}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-installation.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var httpEndpointUrl="".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/").concat(beatType||_common_beats_instructions.DEFAULT_BEAT_FOR_URLS)+"/".concat(_documentation_links.DOC_LINK_VERSION,"/http-endpoint.html");var enableMetricbeatModuleStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Beat x-pack module in Metricbeat"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"metricbeat modules enable beat-xpack"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect {beatType} monitoring metrics from http://localhost:5066. If the {beatType} instance being monitored has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:_react.default.createElement(_monospace.Monospace,null,"hosts"),file:_react.default.createElement(_monospace.Monospace,null,"modules.d/beat-xpack.yml"),beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"help",title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleHttpEnabledDirections",defaultMessage:"In order for Metricbeat to collect metrics from the running {beatType}, you need to {link}.",values:{link:_react.default.createElement(_eui.EuiLink,{href:httpEndpointUrl,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleHttpEnabledDirectionsLinkText",defaultMessage:"enable an HTTP endpoint for the {beatType} instance being monitored",values:{beatType:beatType}})),beatType:beatType||_common_beats_instructions.UNDETECTED_BEAT_TYPE}})))}),securitySetup)};var configureMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.beatsInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:_react.default.createElement(_monospace.Monospace,null,"metricbeat.yml")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true},"output.elasticsearch:\n  hosts: [".concat(esMonitoringUrl,'] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n')),securitySetup)};var startMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.beatsInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-starting.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var migrationStatusStep=(0,_common_instructions.getMigrationStatusStep)(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}},3223:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getApmInstructionsForDisablingInternalCollection",{enumerable:true,get:function get(){return _disable_internal_collection_instructions.getApmInstructionsForDisablingInternalCollection}});Object.defineProperty(exports,"getApmInstructionsForEnablingMetricbeat",{enumerable:true,get:function get(){return _enable_metricbeat_instructions.getApmInstructionsForEnablingMetricbeat}});var _disable_internal_collection_instructions=__webpack_require__(3224);var _enable_metricbeat_instructions=__webpack_require__(3225)},3224:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getApmInstructionsForDisablingInternalCollection=getApmInstructionsForDisablingInternalCollection;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getApmInstructionsForDisablingInternalCollection(product,meta){var disableInternalCollectionStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of the APM server's monitoring metrics"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in the APM server's configuration file ({file}):",values:{file:_react.default.createElement(_monospace.Monospace,null,"apm-server.yml")}}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"monitoring.enabled: false"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart the APM server after making this change."}))))};var migrationStatusStep=(0,_common_instructions.getDisableStatusStep)(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}},3225:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getApmInstructionsForEnablingMetricbeat=getApmInstructionsForEnablingMetricbeat;var _i18n=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _monospace=__webpack_require__(175);var _react2=__webpack_require__(4);var _documentation_links=__webpack_require__(121);var _common_instructions=__webpack_require__(176);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getApmInstructionsForEnablingMetricbeat(product,_meta,_ref){var esMonitoringUrl=_ref.esMonitoringUrl;var securitySetup=(0,_common_instructions.getSecurityStep)("".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-configuration.html"));var installMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.apmInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as the APM server"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-installation.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var enableMetricbeatModuleStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.apmInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Beat x-pack module in Metricbeat"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true,language:"bash"},"metricbeat modules enable beat-xpack"),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect APM server monitoring metrics from http://localhost:5066. If the local APM server has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:_react.default.createElement(_monospace.Monospace,null,"hosts"),file:_react.default.createElement(_monospace.Monospace,null,"modules.d/beat-xpack.yml")}}))),securitySetup)};var configureMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.apmInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:_react.default.createElement(_monospace.Monospace,null,"metricbeat.yml")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{isCopyable:true},"output.elasticsearch:\n  hosts: [".concat(esMonitoringUrl,'] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n')),securitySetup)};var startMetricbeatStep={title:_i18n.i18n.translate("xpack.monitoring.metricbeatMigration.apmInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:"".concat(_documentation_links.ELASTIC_WEBSITE_URL,"guide/en/beats/metricbeat/").concat(_documentation_links.DOC_LINK_VERSION,"/metricbeat-starting.html"),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.metricbeatMigration.apmInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};var migrationStatusStep=(0,_common_instructions.getMigrationStatusStep)(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}},3226:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findNewUuid=findNewUuid;function findNewUuid(oldUuids,newUuids){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=newUuids[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var newUuid=_step.value;if(oldUuids.indexOf(newUuid)===-1){return newUuid}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}},3227:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3228));var _controller=__webpack_require__(3229);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/elasticsearch",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})}},controllerAs:"elasticsearchOverview",controller:_controller.ElasticsearchOverviewController})},3228:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="overview"\n  is-ccr-enabled="{{ elasticsearchOverview.isCcrEnabled }}"\n  data-test-subj="elasticsearchOverviewPage"\n>\n  <div id="elasticsearchOverviewReact"></div>\n</monitoring-main>\n'},3229:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchOverviewController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _=__webpack_require__(101);var _components=__webpack_require__(234);var _i18n=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ElasticsearchOverviewController=function(_MonitoringViewBaseCo){_inherits(ElasticsearchOverviewController,_MonitoringViewBaseCo);function ElasticsearchOverviewController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchOverviewController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchOverviewController).call(this,{title:"Elasticsearch",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch"),defaultData:{clusterStatus:{status:""},metrics:null,shardActivity:null},reactNodeId:"elasticsearchOverviewReact",$scope:$scope,$injector:$injector}));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;_this.showShardActivityHistory=false;_this.toggleShardActivityHistory=function(){_this.showShardActivityHistory=!_this.showShardActivityHistory;$scope.$evalAsync((function(){_this.renderReact(_this.data,$scope.cluster)}))};_this.initScope($scope);return _this}_createClass(ElasticsearchOverviewController,[{key:"initScope",value:function initScope($scope){var _this2=this;$scope.$watch((function(){return _this2.data}),(function(data){_this2.renderReact(data,$scope.cluster)}));$scope.$watch((function(){return _this2.showShardActivityHistory}),(function(){var data=_this2.data;var dataWithShardActivityLoading=_objectSpread({},data,{shardActivity:null});_this2.renderReact(dataWithShardActivityLoading,$scope.cluster);_this2.renderReact(data,$scope.cluster)}))}},{key:"filterShardActivityData",value:function filterShardActivityData(shardActivity){var _this3=this;return shardActivity.filter((function(row){return _this3.showShardActivityHistory||row.stage!=="DONE"}))}},{key:"renderReact",value:function renderReact(data,cluster){var clusterStatus=data.clusterStatus,metrics=data.metrics,shardActivity=data.shardActivity,logs=data.logs;var shardActivityData=shardActivity&&this.filterShardActivityData(shardActivity);var component=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.ElasticsearchOverview,{clusterStatus:clusterStatus,metrics:metrics,logs:logs,cluster:cluster,shardActivity:shardActivityData,onBrush:this.onBrush,showShardActivityHistory:this.showShardActivityHistory,toggleShardActivityHistory:this.toggleShardActivityHistory,zoomInfo:this.zoomInfo}));_get(_getPrototypeOf(ElasticsearchOverviewController.prototype),"renderReact",this).call(this,component)}}]);return ElasticsearchOverviewController}(_.MonitoringViewBaseController);exports.ElasticsearchOverviewController=ElasticsearchOverviewController},3230:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _components=__webpack_require__(234);var _index=_interopRequireDefault(__webpack_require__(3231));var _i18n2=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/indices",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})}},controllerAs:"elasticsearchIndices",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchIndicesController,_MonitoringViewBaseEu);function ElasticsearchIndicesController($injector,$scope){var _getPrototypeOf$call;var _this;_classCallCheck(this,ElasticsearchIndicesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var features=$injector.get("features");var clusterUuid=globalState.cluster_uuid;$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:clusterUuid});var showSystemIndices=features.isEnabled("showSystemIndices",false);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchIndicesController).call(this,(_getPrototypeOf$call={title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.routeTitle",{defaultMessage:"Elasticsearch - Indices"}),storageKey:"elasticsearch.indices",apiUrlFn:function apiUrlFn(){return"../api/monitoring/v1/clusters/".concat(clusterUuid,"/elasticsearch/indices?show_system_indices=").concat(showSystemIndices)},reactNodeId:"elasticsearchIndicesReact",defaultData:{},$scope:$scope,$injector:$injector},_defineProperty(_getPrototypeOf$call,"$scope",$scope),_defineProperty(_getPrototypeOf$call,"$injector",$injector),_getPrototypeOf$call)));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;var toggleShowSystemIndices=function toggleShowSystemIndices(isChecked){showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);_this.updateData()};$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(data)}));_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices;_get(_getPrototypeOf(ElasticsearchIndicesController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_components.ElasticsearchIndices,{clusterStatus:clusterStatus,indices:indices,showSystemIndices:showSystemIndices,toggleShowSystemIndices:toggleShowSystemIndices,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))};return _this}return ElasticsearchIndicesController}(_.MonitoringViewBaseEuiTableController)})},3231:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  is-ccr-enabled="{{ elasticsearchIndices.isCcrEnabled }}"\n  data-test-subj="elasticsearchIndicesListingPage"\n>\n  <div id="elasticsearchIndicesReact"></div>\n</monitoring-main>\n'},3232:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _ajax_error_handler=__webpack_require__(59);var _index=_interopRequireDefault(__webpack_require__(3233));var _timefilter=__webpack_require__(55);var _i18n2=__webpack_require__(25);var _labels=__webpack_require__(1107);var _indices_by_nodes=__webpack_require__(3234);var _index2=__webpack_require__(3235);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/indices/").concat($route.current.params.index);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/elasticsearch/indices/:index",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:getPageData},controllerAs:"monitoringElasticsearchIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var indexName=$route.current.params.index;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.overview.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Overview",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;var transformer=(0,_indices_by_nodes.indicesByNodes)();$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.shards){return}var shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=_labels.labels.node;if(shards.some((function(shard){return shard.state==="UNASSIGNED"}))){$scope.labels=_labels.labels.indexWithUnassigned}else{$scope.labels=_labels.labels.index}_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_index2.Index,_extends({scope:$scope,kbnUrl:kbnUrl,onBrush:_this.onBrush,indexUuid:_this.indexName,clusterUuid:$scope.cluster.cluster_uuid,zoomInfo:_this.zoomInfo},data))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  instance="{{ monitoringElasticsearchIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchIndexApp.indexName }}"\n  page="overview"\n>\n  <div id="monitoringElasticsearchIndexApp"></div>\n</monitoring-main>\n'},3234:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indicesByNodes=indicesByNodes;var _lodash=_interopRequireDefault(__webpack_require__(3));var _decorate_shards=__webpack_require__(1108);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function indicesByNodes(){return function indicesByNodesFn(shards,nodes){function createIndex(obj,shard){var id=shard.index;if(obj[id]){return obj}obj[id]={id:id,name:id,children:[],unassigned:[],unassignedPrimaries:false,type:"index"};return obj}function createNodeAddShard(obj,shard){var node=shard.node,index=shard.index;if(!shard.node||shard.node===null){obj[index].unassigned.push(shard);if(shard.primary){obj[index].unassignedPrimaries=true}return obj}var nodeObj=_lodash.default.find(obj[index].children,{id:node});if(!nodeObj){nodeObj={id:node,type:"node",name:nodes[node].name,node_type:nodes[node].type,ip_port:nodes[node].transport_address,children:[]};obj[index].children.push(nodeObj)}nodeObj.children.push(shard);return obj}var data=_lodash.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),(function(obj,shard){obj=createIndex(obj,shard);obj=createNodeAddShard(obj,shard);return obj}),{});return(0,_lodash.default)(data).values().sortBy((function(index){return[!index.unassignedPrimaries,/^\./.test(index.name),index.name]})).value()}}},3235:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Index=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _index_detail_status=__webpack_require__(1109);var _chart=__webpack_require__(115);var _shard_allocation=__webpack_require__(1110);var _logs=__webpack_require__(1113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Index=function Index(_ref){var scope=_ref.scope,indexSummary=_ref.indexSummary,metrics=_ref.metrics,clusterUuid=_ref.clusterUuid,indexUuid=_ref.indexUuid,logs=_ref.logs,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["scope","indexSummary","metrics","clusterUuid","indexUuid","logs","kbnUrl"]);var metricsToShow=[metrics.index_mem,metrics.index_size,metrics.index_search_request_rate,metrics.index_request_rate,metrics.index_segment_count,metrics.index_document_count];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,indexUuid:indexUuid,clusterUuid:clusterUuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_shard_allocation.ShardAllocation,{scope:scope,kbnUrl:kbnUrl,type:"index"}))))};exports.Index=Index},3236:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterView=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _table_head=__webpack_require__(3237);var _table_body=__webpack_require__(3238);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ClusterView=function(_React$Component){_inherits(ClusterView,_React$Component);function ClusterView(props){var _this;_classCallCheck(this,ClusterView);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClusterView).call(this,props));_defineProperty(_assertThisInitialized(_this),"setShowing",(function(data){if(data){_this.setState({showing:data})}}));_defineProperty(_assertThisInitialized(_this),"setShardStats",(function(stats){_this.setState({shardStats:stats})}));_defineProperty(_assertThisInitialized(_this),"hasUnassigned",(function(){return _this.state.showing.length&&_this.state.showing[0].unassigned&&_this.state.showing[0].unassigned.length}));var scope=props.scope;var kbnChangePath=props.kbnUrl.changePath;_this.state={labels:props.scope.labels||[],showing:props.scope.showing||[],shardStats:props.scope.pageData.shardStats,showSystemIndices:props.showSystemIndices,toggleShowSystemIndices:props.toggleShowSystemIndices,angularChangeUrl:function angularChangeUrl(url){scope.$evalAsync((function(){return kbnChangePath(url)}))}};return _this}_createClass(ClusterView,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var _this2=this;this.props.scope.$watch("showing",this.setShowing);this.props.scope.$watch((function(){return _this2.props.scope.pageData.shardStats}),this.setShardStats)}},{key:"render",value:function render(){return _react.default.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"table"},_react.default.createElement(_table_head.TableHead,{hasUnassigned:this.hasUnassigned(),scope:this.props.scope,toggleShowSystemIndices:this.state.toggleShowSystemIndices}),_react.default.createElement(_table_body.TableBody,{filter:this.props.scope.filter,totalCount:this.props.scope.totalCount,rows:this.state.showing,cols:this.state.labels.length,shardStats:this.state.shardStats,changeUrl:this.state.angularChangeUrl}))}}]);return ClusterView}(_react.default.Component);exports.ClusterView=ClusterView;_defineProperty(ClusterView,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.clusterViewDisplayName",{defaultMessage:"ClusterView"}))},3237:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableHead=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IndexLabel=function(_React$Component){_inherits(IndexLabel,_React$Component);function IndexLabel(props){var _this;_classCallCheck(this,IndexLabel);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndexLabel).call(this,props));_this.state={showSystemIndices:props.scope.showSystemIndices};_this.toggleShowSystemIndicesState=_this.toggleShowSystemIndicesState.bind(_assertThisInitialized(_this));return _this}_createClass(IndexLabel,[{key:"toggleShowSystemIndicesState",value:function toggleShowSystemIndicesState(e){var _this2=this;var isChecked=e.target.checked;this.setState({showSystemIndices:isChecked});this.props.scope.$evalAsync((function(){_this2.props.toggleShowSystemIndices(isChecked)}))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableHead.indicesLabel",defaultMessage:"Indices"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSwitch,{label:"System indices",onChange:this.toggleShowSystemIndicesState,checked:this.state.showSystemIndices,"data-test-subj":"shardShowSystemIndices"})))}}]);return IndexLabel}(_react.default.Component);var TableHead=function(_React$Component2){_inherits(TableHead,_React$Component2);function TableHead(props){_classCallCheck(this,TableHead);return _possibleConstructorReturn(this,_getPrototypeOf(TableHead).call(this,props))}_createClass(TableHead,[{key:"createColumn",value:function createColumn(_ref){var key=_ref.key,content=_ref.content;return _react.default.createElement("th",{scope:"col",key:key,colSpan:1},content)}},{key:"render",value:function render(){var _this3=this;var propLabels=this.props.scope.labels||[];var labelColumns=propLabels.map((function(label){var column={key:label.content.toLowerCase()};if(label.showToggleSystemIndicesComponent){column.content=_react.default.createElement(IndexLabel,{scope:_this3.props.scope,toggleShowSystemIndices:_this3.props.toggleShowSystemIndices})}else{column.content=label.content}return column})).map(this.createColumn);return _react.default.createElement("thead",null,_react.default.createElement("tr",null,labelColumns))}}]);return TableHead}(_react.default.Component);exports.TableHead=TableHead},3238:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _unassigned=__webpack_require__(3239);var _assigned=__webpack_require__(3241);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ShardRow=function ShardRow(props){var unassigned;if(props.data.unassigned&&props.data.unassigned.length){unassigned=_react.default.createElement(_unassigned.Unassigned,{shards:props.data.unassigned})}else{if(props.cols===3){unassigned=_react.default.createElement("td",null)}}return _react.default.createElement("tr",null,unassigned,_react.default.createElement(_assigned.Assigned,{shardStats:props.shardStats,data:props.data.children,changeUrl:props.changeUrl}))};var TableBody=function(_React$Component){_inherits(TableBody,_React$Component);function TableBody(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableBody);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableBody)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createRow",(function(data,index){return _react.default.createElement(ShardRow,_extends({key:"shardRow-".concat(index),data:data},_this.props,{changeUrl:_this.props.changeUrl}))}));return _this}_createClass(TableBody,[{key:"render",value:function render(){if(this.props.totalCount===0){return _react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{colSpan:this.props.cols},_react.default.createElement("div",null,_react.default.createElement("p",{style:{margin:"10px 0"},className:"text-center lead"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableBody.noShardsAllocatedDescription",defaultMessage:"There are no shards allocated."}))))))}if(this.props.shardStats){if(this.props.rows.length){return _react.default.createElement("tbody",null,this.props.rows.map(this.createRow))}}return _react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{colSpan:this.props.cols})))}}]);return TableBody}(_react.default.Component);exports.TableBody=TableBody;_defineProperty(TableBody,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.tableBodyDisplayName",{defaultMessage:"TableBody"}))},3239:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Unassigned=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _shard=__webpack_require__(1111);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Unassigned=function(_React$Component){_inherits(Unassigned,_React$Component);function Unassigned(){var _getPrototypeOf2;var _this;_classCallCheck(this,Unassigned);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Unassigned)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createShard",(function(shard){var type=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard+additionId;return _react.default.createElement(_shard.Shard,{shard:shard,key:key})}));return _this}_createClass(Unassigned,[{key:"render",value:function render(){var shards=_lodash.default.sortBy(this.props.shards,"shard").map(this.createShard);return _react.default.createElement("td",{className:"monUnassigned","data-test-subj":"clusterView-Unassigned"},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,className:"monUnassigned__children"},shards))}}]);return Unassigned}(_react.default.Component);exports.Unassigned=Unassigned;_defineProperty(Unassigned,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedDisplayName",{defaultMessage:"Unassigned"}))},3240:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vents=exports._vents=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _vents={};exports._vents=_vents;var vents={vents:_vents,on:function on(id,cb){if(!_lodash.default.isArray(_vents[id])){_vents[id]=[]}_vents[id].push(cb)},clear:function clear(id){delete _vents[id]},trigger:function trigger(){var args=Array.prototype.slice.call(arguments);var id=args.shift();if(_vents[id]){_lodash.default.each(_vents[id],(function(cb){cb.apply(null,args)}))}}};exports.vents=vents},3241:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Assigned=void 0;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _shard=__webpack_require__(1111);var _calculate_class=__webpack_require__(1112);var _generate_query_and_link=__webpack_require__(3242);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function sortByName(item){if(item.type==="node"){return[!item.master,item.name]}return[item.name]}var Assigned=function(_React$Component){_inherits(Assigned,_React$Component);function Assigned(){var _getPrototypeOf2;var _this;_classCallCheck(this,Assigned);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Assigned)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createShard",(function(shard){var type=shard.primary?"primary":"replica";var key="".concat(shard.index,".").concat(shard.node,".").concat(type,".").concat(shard.state,".").concat(shard.shard);return _react.default.createElement(_shard.Shard,{shard:shard,key:key})}));_defineProperty(_assertThisInitialized(_this),"createChild",(function(data){var key=data.id;var initialClasses=["monChild"];var shardStats=(0,_lodash.get)(_this.props.shardStats.indices,key);if(shardStats){switch(shardStats.status){case"red":initialClasses.push("monChild--danger");break;case"yellow":initialClasses.push("monChild--warning");break}}var changeUrl=function changeUrl(){_this.props.changeUrl((0,_generate_query_and_link.generateQueryAndLink)(data))};var name=_react.default.createElement(_eui.EuiKeyboardAccessible,null,_react.default.createElement("a",{onClick:changeUrl},_react.default.createElement("span",null,data.name)));var master=data.node_type==="master"?_react.default.createElement(_eui.EuiIcon,{type:"starFilledSpace",color:"primary"}):null;var shards=(0,_lodash.sortBy)(data.children,"shard").map(_this.createShard);return _react.default.createElement(_eui.EuiFlexItem,{grow:false,className:(0,_calculate_class.calculateClass)(data,initialClasses.join(" ")),key:key,"data-test-subj":"clusterView-Assigned-".concat(key),"data-status":shardStats&&shardStats.status},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"monChild__title eui-textNoWrap"},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},name),_react.default.createElement(_eui.EuiFlexItem,{grow:false},master))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},shards))))}));return _this}_createClass(Assigned,[{key:"render",value:function render(){var data=(0,_lodash.sortBy)(this.props.data,sortByName).map(this.createChild);return _react.default.createElement("td",{className:"monAssigned"},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,className:"monAssigned__children"},data))}}]);return Assigned}(_react.default.Component);exports.Assigned=Assigned},3242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.generateQueryAndLink=generateQueryAndLink;function generateQueryAndLink(data){var type="indices";var ident=data.name;if(data.type==="node"){type="nodes";ident=data.id}return"/elasticsearch/"+type+"/"+ident}},3243:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3244));var _timefilter=__webpack_require__(55);var _advanced=__webpack_require__(3245);var _i18n2=__webpack_require__(25);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/indices/").concat($route.current.params.index);var $http=$injector.get("$http");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/elasticsearch/indices/:index/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:getPageData},controllerAs:"monitoringElasticsearchAdvancedIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var indexName=$route.current.params.index;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.advanced.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Advanced",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_advanced.AdvancedIndex,{indexSummary:data.indexSummary,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3244:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch" name="indices"\n  instance="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  page="advanced"\n>\n  <div id="monitoringElasticsearchAdvancedIndexApp"></div>\n</monitoring-main>\n'},3245:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedIndex=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _index_detail_status=__webpack_require__(1109);var _chart=__webpack_require__(115);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var AdvancedIndex=function AdvancedIndex(_ref){var indexSummary=_ref.indexSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["indexSummary","metrics"]);var metricsToShow=[metrics.index_1,metrics.index_2,metrics.index_3,metrics.index_4,metrics.index_total,metrics.index_time,metrics.index_refresh,metrics.index_throttling,metrics.index_disk,metrics.index_segment_count,metrics.index_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))))))};exports.AdvancedIndex=AdvancedIndex},3246:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _timefilter=__webpack_require__(55);var _index=_interopRequireDefault(__webpack_require__(3247));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _components=__webpack_require__(234);var _i18n2=__webpack_require__(25);var _ajax_error_handler=__webpack_require__(59);var _renderers=__webpack_require__(277);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/nodes",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})}},controllerAs:"elasticsearchNodes",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchNodesController,_MonitoringViewBaseEu);function ElasticsearchNodesController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchNodesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid})||{};var getPageData=function getPageData($injector){var _api=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var routeOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_api;var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var getNodes=function getNodes(){var clusterUuid=arguments.length>0&&arguments[0]!==undefined?arguments[0]:globalState.cluster_uuid;return $http.post("../api/monitoring/v1/clusters/".concat(clusterUuid,"/elasticsearch/nodes"),_objectSpread({ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}},routeOptions))};var promise=globalState.cluster_uuid?getNodes():new Promise((function(resolve){return resolve({})}));return promise.then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))};_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchNodesController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.routeTitle",{defaultMessage:"Elasticsearch - Nodes"}),storageKey:"elasticsearch.nodes",reactNodeId:"elasticsearchNodesReact",defaultData:{},getPageData:getPageData,$scope:$scope,$injector:$injector,fetchDataImmediately:false}));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;$scope.$watch((function(){return _this.data}),(function(){return _this.renderReact(_this.data||{})}));_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,nodes=_ref.nodes,totalNodeCount=_ref.totalNodeCount;var pagination=_objectSpread({},_this.pagination,{totalItemCount:totalNodeCount});_get(_getPrototypeOf(ElasticsearchNodesController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:$scope,injector:$injector,productName:_constants.ELASTICSEARCH_SYSTEM_ID,render:function render(_ref2){var setupMode=_ref2.setupMode,flyoutComponent=_ref2.flyoutComponent,bottomBarComponent=_ref2.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_components.ElasticsearchNodes,_extends({clusterStatus:clusterStatus,clusterUuid:globalState.cluster_uuid,setupMode:setupMode,nodes:nodes,showCgroupMetricsElasticsearch:showCgroupMetricsElasticsearch},_this.getPaginationTableProps(pagination))),bottomBarComponent)}})))};return _this}return ElasticsearchNodesController}(_.MonitoringViewBaseEuiTableController)})},3247:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  is-ccr-enabled="{{ elasticsearchNodes.isCcrEnabled }}"\n  data-test-subj="elasticsearchNodesListingPage"\n>\n  <div id="elasticsearchNodesReact"></div>\n</monitoring-main>\n'},3248:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _get_page_data=__webpack_require__(3249);var _index=_interopRequireDefault(__webpack_require__(3250));var _node=__webpack_require__(3251);var _i18n2=__webpack_require__(25);var _labels=__webpack_require__(1107);var _nodes_by_indices=__webpack_require__(3252);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/elasticsearch/nodes/:node",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:_get_page_data.getPageData},controllerAs:"monitoringElasticsearchNodeApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var nodeName=$route.current.params.node;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.node.overview.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeName} - Overview",values:{nodeName:nodeName}}),defaultData:{},getPageData:_get_page_data.getPageData,reactNodeId:"monitoringElasticsearchNodeApp",$scope:$scope,$injector:$injector}));_this.nodeName=nodeName;var features=$injector.get("features");var callPageData=(0,_lodash.partial)(_get_page_data.getPageData,$injector);$scope.showSystemIndices=features.isEnabled("showSystemIndices",false);$scope.toggleShowSystemIndices=function(isChecked){$scope.showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);callPageData().then((function(data){return _this.data=data}))};var transformer=(0,_nodes_by_indices.nodesByIndices)();$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.shards){return}var shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=_labels.labels.node;_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_node.Node,_extends({scope:$scope,kbnUrl:kbnUrl,nodeId:_this.nodeName,clusterUuid:$scope.cluster.cluster_uuid,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3249:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/nodes/").concat($route.current.params.node);var features=$injector.get("features");var showSystemIndices=features.isEnabled("showSystemIndices",false);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3250:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ monitoringElasticsearchNodeApp.data.nodeSummary.name }}"\n  resolver="{{ monitoringElasticsearchNodeApp.data.nodeSummary.resolver }}"\n  page="overview"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchNodeApp"></div>\n</monitoring-main>\n'},3251:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Node=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _node_detail_status=__webpack_require__(1114);var _logs=__webpack_require__(1113);var _chart=__webpack_require__(115);var _shard_allocation=__webpack_require__(1110);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Node=function Node(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,logs=_ref.logs,nodeId=_ref.nodeId,clusterUuid=_ref.clusterUuid,scope=_ref.scope,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["nodeSummary","metrics","logs","nodeId","clusterUuid","scope","kbnUrl"]);var metricsToShow=[metrics.node_jvm_mem,metrics.node_mem,metrics.node_total_io,metrics.node_cpu_metric,metrics.node_load_average,metrics.node_latency,metrics.node_segment_count];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,nodeId:nodeId,clusterUuid:clusterUuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_shard_allocation.ShardAllocation,{scope:scope,kbnUrl:kbnUrl}))))};exports.Node=Node},3252:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodesByIndices=nodesByIndices;var _lodash=_interopRequireDefault(__webpack_require__(3));var _has_primary_children=__webpack_require__(3253);var _decorate_shards=__webpack_require__(1108);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function nodesByIndices(){return function nodesByIndicesFn(shards,nodes){var getNodeType=function getNodeType(node){var attrs=node.attributes||{};return attrs.master==="true"?"master":"normal"};function createNode(obj,node,id){node.type="node";node.children=[];var nodeType=getNodeType(node);if(nodeType==="normal"||nodeType==="data"){obj[id]=node}return obj}function createIndexAddShard(obj,shard){var node=shard.node||"unassigned";var index=shard.index;if(!obj[node]){createNode(obj,nodes[node],node)}var indexObj=_lodash.default.find(obj[node].children,{id:index});if(!indexObj){indexObj={id:index,name:index,type:"index",children:[]};obj[node].children.push(indexObj)}indexObj.children.push(shard);return obj}function isUnassigned(shard){return shard.state==="UNASSIGNED"}var data={};if(_lodash.default.some(shards,isUnassigned)){data.unassigned={name:"Unassigned",master:false,type:"node",children:[]}}data=_lodash.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),createIndexAddShard,data);return(0,_lodash.default)(data).values().sortBy((function(node){return[node.name!=="Unassigned",!node.master,node.name]})).map((function(node){if(node.name==="Unassigned"){node.unassignedPrimaries=node.children.some(_has_primary_children.hasPrimaryChildren)}return node})).value()}}},3253:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasPrimaryChildren=hasPrimaryChildren;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function hasPrimaryChildren(item){return _lodash.default.some(item.children,{primary:true})}},3254:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3255));var _timefilter=__webpack_require__(55);var _i18n2=__webpack_require__(25);var _advanced=__webpack_require__(3256);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/nodes/").concat($route.current.params.node);return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/elasticsearch/nodes/:node/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.elasticsearch.node.advanced.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeSummaryName} - Advanced",values:{nodeSummaryName:data.nodeSummary.name}}));_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_advanced.AdvancedNode,{nodeSummary:data.nodeSummary,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="advanced"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchAdvancedNodeApp"></div>\n</monitoring-main>\n'},3256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedNode=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(2);var _node_detail_status=__webpack_require__(1114);var _chart=__webpack_require__(115);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var AdvancedNode=function AdvancedNode(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["nodeSummary","metrics"]);var metricsToShow=[metrics.node_gc,metrics.node_gc_time,metrics.node_jvm_mem,metrics.node_cpu_utilization,metrics.node_index_1,metrics.node_index_2,metrics.node_index_3,metrics.node_index_4,metrics.node_index_time,metrics.node_request_total,metrics.node_index_threads,metrics.node_read_threads,metrics.node_cgroup_cpu,metrics.node_cgroup_stats,metrics.node_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))))))};exports.AdvancedNode=AdvancedNode},3257:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _get_page_data=__webpack_require__(3258);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3259));var _ccr=__webpack_require__(3260);var _base_controller=__webpack_require__(100);var _i18n2=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/ccr",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchCcrController);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchCcrController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.routeTitle",{defaultMessage:"Elasticsearch - Ccr"}),reactNodeId:"elasticsearchCcrReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(data)}));_this.renderReact=function(_ref){var data=_ref.data;_get(_getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_ccr.Ccr,{data:data})))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},3258:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ccr");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="ccr"\n  data-test-subj="elasticsearchCcrListingPage"\n>\n  <div id="elasticsearchCcrReact"></div>\n</monitoring-main>\n'},3260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Ccr",{enumerable:true,get:function get(){return _ccr.Ccr}});var _ccr=__webpack_require__(3261)},3261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ccr=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);__webpack_require__(3262);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function toSeconds(ms){return Math.floor(ms/1e3)+"s"}var Ccr=function(_Component){_inherits(Ccr,_Component);function Ccr(props){var _this;_classCallCheck(this,Ccr);_this=_possibleConstructorReturn(this,_getPrototypeOf(Ccr).call(this,props));_this.state={itemIdToExpandedRowMap:{}};return _this}_createClass(Ccr,[{key:"toggleShards",value:function toggleShards(index,shards){var itemIdToExpandedRowMap=_objectSpread({},this.state.itemIdToExpandedRowMap);if(itemIdToExpandedRowMap[index]){delete itemIdToExpandedRowMap[index]}else{var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(shards.length<=pagination.initialPageSize){pagination=false}itemIdToExpandedRowMap[index]=_react.default.createElement(_eui.EuiInMemoryTable,{items:shards,columns:[{field:"shardId",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shardsTable.shardColumnTitle",{defaultMessage:"Shard"}),render:function render(shardId){return _react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/ccr/".concat(index,"/shard/").concat(shardId)},shardId)}},{render:function render(){return null}},{field:"syncLagOps",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumnTitle",{defaultMessage:"Sync Lag (ops)"}),render:function render(syncLagOps,data){return _react.default.createElement("span",null,syncLagOps,"",_react.default.createElement(_eui.EuiIconTip,{size:"m",type:"iInCircle",content:_react.default.createElement(_react.Fragment,null,_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.leaderLagTooltip",defaultMessage:"Leader lag: {syncLagOpsLeader}",values:{syncLagOpsLeader:data.syncLagOpsLeader}})),_react.default.createElement("br",null),_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.followerLagTooltip",defaultMessage:"Follower lag: {syncLagOpsFollower}",values:{syncLagOpsFollower:data.syncLagOpsFollower}}))),position:"right"}))}},{field:"syncLagTime",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shardsTable.lastFetchTimeColumnTitle",{defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shardsTable.opsSyncedColumnTitle",{defaultMessage:"Ops synced"})},{field:"error",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shardsTable.errorColumnTitle",{defaultMessage:"Error"}),render:function render(error){return _react.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],executeQueryOptions:{defaultFields:["shardId"]},sorting:true,pagination:pagination})}this.setState({itemIdToExpandedRowMap:itemIdToExpandedRowMap})}},{key:"renderTable",value:function renderTable(){var _this2=this;var data=this.props.data;var items=data;var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(items.length<=pagination.initialPageSize){pagination=false}var sorting={sort:{field:"index",direction:"asc"}};return _react.default.createElement(_eui.EuiInMemoryTable,{className:"monitoringElasticsearchCcrListingTable",columns:[{field:"index",name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.indexColumnTitle",{defaultMessage:"Index"}),sortable:true,render:function render(index,_ref){var shards=_ref.shards;var expanded=!!_this2.state.itemIdToExpandedRowMap[index];return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return _this2.toggleShards(index,shards)}},index,"",expanded?_react.default.createElement(_eui.EuiIcon,{type:"arrowUp"}):_react.default.createElement(_eui.EuiIcon,{type:"arrowDown"}))}},{field:"follows",sortable:true,name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.followsColumnTitle",{defaultMessage:"Follows"})},{field:"syncLagOps",sortable:true,name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.syncLagOpsColumnTitle",{defaultMessage:"Sync Lag (ops)"})},{field:"syncLagTime",sortable:true,name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.lastFetchTimeColumnTitle",{defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",sortable:true,name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.opsSyncedColumnTitle",{defaultMessage:"Ops synced"})},{field:"error",sortable:true,name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.errorColumnTitle",{defaultMessage:"Error"}),render:function render(error){return _react.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],items:items,pagination:pagination,executeQueryOptions:{defaultFields:["index","follows"]},sorting:sorting,itemId:"id",itemIdToExpandedRowMap:this.state.itemIdToExpandedRowMap})}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiPageContentBody,null,this.renderTable()))))}}]);return Ccr}(_react.Component);exports.Ccr=Ccr},3262:function(module,exports,__webpack_require__){},3263:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _get_page_data=__webpack_require__(3264);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3265));var _base_controller=__webpack_require__(100);var _ccr_shard=__webpack_require__(3266);var _i18n2=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/ccr/:index/shard/:shardId",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH]})},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope,pageData){var _this;_classCallCheck(this,ElasticsearchCcrController);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchCcrController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shard.routeTitle",{defaultMessage:"Elasticsearch - Ccr - Shard"}),reactNodeId:"elasticsearchCcrShardReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.instance=_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shard.instanceTitle",{defaultMessage:"Index: {followerIndex} Shard: {shardId}",values:{followerIndex:(0,_lodash.get)(pageData,"stat.follower_index"),shardId:(0,_lodash.get)(pageData,"stat.shard_id")}});$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(data)}));_this.renderReact=function(props){_get(_getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_ccr_shard.CcrShard,props)))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},3264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ccr/").concat($route.current.params.index,"/shard/").concat($route.current.params.shardId);return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3265:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="elasticsearch"\n  name="ccr_shard"\n  instance="{{ instance }}"\n  data-test-subj="elasticsearchCcrShardPage"\n>\n  <div id="elasticsearchCcrShardReact"></div>\n</monitoring-main>\n'},3266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CcrShard",{enumerable:true,get:function get(){return _ccr_shard.CcrShard}});var _ccr_shard=__webpack_require__(3267)},3267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CcrShard=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(140));var _eui=__webpack_require__(2);var _chart=__webpack_require__(115);var _status=__webpack_require__(3268);var _formatting=__webpack_require__(185);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var CcrShard=function(_PureComponent){_inherits(CcrShard,_PureComponent);function CcrShard(){_classCallCheck(this,CcrShard);return _possibleConstructorReturn(this,_getPrototypeOf(CcrShard).apply(this,arguments))}_createClass(CcrShard,[{key:"renderCharts",value:function renderCharts(){var metrics=this.props.metrics;var seriesToShow=[metrics.ccr_sync_lag_ops,metrics.ccr_sync_lag_time];var charts=seriesToShow.map((function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data})))}));return _react.default.createElement(_react.Fragment,null,charts)}},{key:"renderErrors",value:function renderErrors(){var stat=this.props.stat;if(stat.read_exceptions&&stat.read_exceptions.length>0){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s",color:"danger"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiTextColor,{color:"danger"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.errorsTableTitle",defaultMessage:"Errors"})))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiBasicTable,{items:stat.read_exceptions,columns:[{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.errorsTable.typeColumnTitle",{defaultMessage:"Type"}),field:"exception.type"},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.errorsTable.reasonColumnTitle",{defaultMessage:"Reason"}),field:"exception.reason",width:"75%"}]})),_react.default.createElement(_eui.EuiHorizontalRule,null))}return null}},{key:"renderLatestStat",value:function renderLatestStat(){var _this$props=this.props,stat=_this$props.stat,timestamp=_this$props.timestamp;var injector=_chrome.default.dangerouslyGetActiveInjector();var timezone=injector.get("config").get("dateFormat:tz");return _react.default.createElement(_eui.EuiAccordion,{id:"ccrLatestStat",buttonContent:_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.latestStateAdvancedButtonLabel",defaultMessage:"Advanced"}))),paddingSize:"l"},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,(0,_formatting.formatDateTimeLocal)(timestamp,timezone))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiCodeBlock,{language:"json"},JSON.stringify(stat,null,2))))}},{key:"render",value:function render(){var _this$props2=this.props,stat=_this$props2.stat,oldestStat=_this$props2.oldestStat,formattedLeader=_this$props2.formattedLeader;return _react.default.createElement(_eui.EuiPage,{style:{backgroundColor:"white"}},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_status.Status,{stat:stat,formattedLeader:formattedLeader,oldestStat:oldestStat}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderErrors(),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},this.renderCharts()),_react.default.createElement(_eui.EuiHorizontalRule,null),this.renderLatestStat()))}}]);return CcrShard}(_react.PureComponent);exports.CcrShard=CcrShard},3268:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=Status;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Status(_ref){var stat=_ref.stat,formattedLeader=_ref.formattedLeader,oldestStat=_ref.oldestStat;var followerIndex=stat.follower_index,shardId=stat.shard_id,operationsReceived=stat.operations_written,failedFetches=stat.failed_read_requests;var oldestOperationsReceived=oldestStat.operations_written,oldestFailedFetches=oldestStat.failed_read_requests;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.status.followerIndexLabel",{defaultMessage:"Follower Index"}),value:followerIndex,"data-test-subj":"followerIndex"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.status.shardIdLabel",{defaultMessage:"Shard Id"}),value:shardId,"data-test-subj":"shardId"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.status.leaderIndexLabel",{defaultMessage:"Leader Index"}),value:formattedLeader,"data-test-subj":"leaderIndex"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.status.opsSyncedLabel",{defaultMessage:"Ops Synced"}),value:(0,_format_number.formatMetric)(operationsReceived-oldestOperationsReceived,"int_commas"),"data-test-subj":"operationsReceived"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccrShard.status.failedFetchesLabel",{defaultMessage:"Failed Fetches"}),value:(0,_format_number.formatMetric)(failedFetches-oldestFailedFetches,"int_commas"),"data-test-subj":"failedFetches"}];return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"ccrDetailStatus"})}},3269:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3270);var _index=_interopRequireDefault(__webpack_require__(3271));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/elasticsearch/ml_jobs",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_ELASTICSEARCH,_constants.CODE_PATH_ML]})},pageData:_get_page_data.getPageData},controllerAs:"mlJobs",controller:function(_MonitoringViewBaseEu){_inherits(MlJobsList,_MonitoringViewBaseEu);function MlJobsList($injector,$scope){var _this;_classCallCheck(this,MlJobsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(MlJobsList).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobs.routeTitle",{defaultMessage:"Elasticsearch - Machine Learning Jobs"}),storageKey:"elasticsearch.mlJobs",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this.isCcrEnabled=Boolean($scope.cluster&&$scope.cluster.isCcrEnabled);return _this}return MlJobsList}(_.MonitoringViewBaseEuiTableController)})},3270:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ml_jobs");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main product="elasticsearch" name="ml" is-ccr-enabled="{{ mlJobs.isCcrEnabled }}">\n  <monitoring-ml-listing\n    paginationSettings="mlJobs.pagination"\n    sorting="mlJobs.sorting"\n    on-table-change="mlJobs.onTableChange"\n    jobs="mlJobs.data.rows"\n    status="mlJobs.data.clusterStatus"\n  ></monitoring-ml-listing>\n</monitoring-main>\n'},3272:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _chart=__webpack_require__(115);var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3273));var _timefilter=__webpack_require__(55);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(1115);var _i18n=__webpack_require__(25);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/kibana",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_KIBANA]})},pageData:getPageData},controllerAs:"monitoringKibanaOverviewApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Kibana",defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.clusterStatus){return}_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:data.clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_requests,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_response_times,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}))))))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="kibana"\n  name="overview"\n  data-test-subj="kibanaOverviewPage"\n>\n  <div id="monitoringKibanaOverviewApp"></div>\n</monitoring-main>\n'},3274:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3275);var _index=_interopRequireDefault(__webpack_require__(3276));var _instances=__webpack_require__(3277);var _renderers=__webpack_require__(277);var _i18n=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/kibana/instances",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_KIBANA]})},pageData:_get_page_data.getPageData},controllerAs:"kibanas",controller:function(_MonitoringViewBaseEu){_inherits(KibanaInstancesList,_MonitoringViewBaseEu);function KibanaInstancesList($injector,$scope){var _this;_classCallCheck(this,KibanaInstancesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(KibanaInstancesList).call(this,{title:"Kibana Instances",storageKey:"kibana.instances",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringKibanaInstancesApp",$scope:$scope,$injector:$injector}));var kbnUrl=$injector.get("kbnUrl");var renderReact=function renderReact(){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:$scope,injector:$injector,productName:_constants.KIBANA_SYSTEM_ID,render:function render(_ref){var setupMode=_ref.setupMode,flyoutComponent=_ref.flyoutComponent,bottomBarComponent=_ref.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_instances.KibanaInstances,{instances:_this.data.kibanas,setupMode:setupMode,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,clusterStatus:_this.data.clusterStatus,angular:{$scope:$scope,kbnUrl:kbnUrl}}),bottomBarComponent)}})))};$scope.$watch((function(){return _this.data}),(function(data){if(!data){return}renderReact()}));return _this}return KibanaInstancesList}(_.MonitoringViewBaseEuiTableController)})},3275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana/instances");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="kibana"\n  name="kibanas"\n  data-test-subj="kibanaInstancesPage"\n>\n  <div id="monitoringKibanaInstancesApp"></div>\n</monitoring-main>\n'},3277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"KibanaInstances",{enumerable:true,get:function get(){return _instances.KibanaInstances}});var _instances=__webpack_require__(3278)},3278:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaInstances=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _lodash=__webpack_require__(3);var _cluster_status=__webpack_require__(1115);var _table=__webpack_require__(131);var _status_icon=__webpack_require__(579);var _status_icon2=__webpack_require__(233);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);var _react2=__webpack_require__(4);var _badge=__webpack_require__(332);var _constants=__webpack_require__(19);var _listing_callout=__webpack_require__(333);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getColumns=function getColumns(setupMode){var columns=[{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,kibana){var setupModeStatus=null;if(setupMode&&setupMode.enabled){var list=(0,_lodash.get)(setupMode,"data.byUuid",{});var uuid=(0,_lodash.get)(kibana,"kibana.uuid");var status=list[uuid]||{};var instance={uuid:uuid,name:kibana.name};setupModeStatus=_react.default.createElement("div",{className:"monTableCell__setupModeStatus"},_react.default.createElement(_badge.SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:_constants.KIBANA_SYSTEM_ID}));if(status.isNetNewUser){return _react.default.createElement("div",null,name,setupModeStatus)}}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{href:"#/kibana/instances/".concat(kibana.kibana.uuid),"data-test-subj":"kibanaLink-".concat(name)},name),setupModeStatus)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status",render:function render(status,kibana){return _react.default.createElement("div",{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.instanceStatusTitle",{defaultMessage:"Instance status: {kibanaStatus}",values:{kibanaStatus:status}}),className:"monTableCell__status"},_react.default.createElement(_status_icon.KibanaStatusIcon,{status:status,availability:kibana.availability}),"",!kibana.availability?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.kibana.listing.instanceStatus.offlineLabel",defaultMessage:"Offline"}):(0,_lodash.capitalize)(status))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"os.load.1m",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatMetric)(value,"0.00"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),field:"process.memory.resident_set_size_in_bytes",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatNumber)(value,"byte"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),field:"requests.total",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatNumber)(value,"int_commas"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),field:"response_times.average",render:function render(value,kibana){if(!value){return null}return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(value,"int_commas")+" ms avg"),_react.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(kibana.response_times.max,"int_commas")," ms max"))}}];return columns};var KibanaInstances=function(_PureComponent){_inherits(KibanaInstances,_PureComponent);function KibanaInstances(){_classCallCheck(this,KibanaInstances);return _possibleConstructorReturn(this,_getPrototypeOf(KibanaInstances).apply(this,arguments))}_createClass(KibanaInstances,[{key:"render",value:function render(){var _this$props=this.props,clusterStatus=_this$props.clusterStatus,angular=_this$props.angular,setupMode=_this$props.setupMode,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange;var setupModeCallOut=null;var instances=this.props.instances||[];if(setupMode.enabled&&setupMode.data){var instancesByUuid=instances.reduce((function(byUuid,instance){return _objectSpread({},byUuid,_defineProperty({},(0,_lodash.get)(instance,"kibana.uuid"),instance))}),{});instances.push.apply(instances,_toConsumableArray(Object.entries(setupMode.data.byUuid).reduce((function(instances,_ref){var _ref2=_slicedToArray(_ref,2),nodeUuid=_ref2[0],instance=_ref2[1];if(!instancesByUuid[nodeUuid]){instances.push({kibana:_objectSpread({},instance.instance.kibana,{status:_status_icon2.StatusIcon.TYPES.GRAY})})}return instances}),[])));setupModeCallOut=_react.default.createElement(_listing_callout.ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:_constants.KIBANA_SYSTEM_ID,customRenderer:function customRenderer(){var customRenderResponse={shouldRender:false,componentToRender:null};var hasInstances=setupMode.data.totalUniqueInstanceCount>0;if(!hasInstances){customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.kibana.instances.metricbeatMigration.detectedNodeTitle",{defaultMessage:"Kibana instance detected"}),color:"warning",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.kibana.instances.metricbeatMigration.detectedNodeDescription",{defaultMessage:"The following instances are not monitored.\n                        Click 'Monitor with Metricbeat' below to start monitoring."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return customRenderResponse}})}var dataFlattened=instances.map((function(item){return _objectSpread({},item,{name:item.kibana.name,status:item.kibana.status})}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),setupModeCallOut,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"kibanaInstancesTable",rows:dataFlattened,columns:getColumns(angular.kbnUrl,angular.$scope,setupMode),sorting:sorting,pagination:pagination,setupMode:setupMode,productName:_constants.KIBANA_SYSTEM_ID,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}}]);return KibanaInstances}(_react.PureComponent);exports.KibanaInstances=KibanaInstances},3279:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3280));var _timefilter=__webpack_require__(55);var _eui=__webpack_require__(2);var _chart=__webpack_require__(115);var _detail_status=__webpack_require__(3281);var _i18n=__webpack_require__(25);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/kibana/instances/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_KIBANA]})},pageData:getPageData},controllerAs:"monitoringKibanaInstanceApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Kibana - ".concat((0,_lodash.get)($scope.pageData,"kibanaSummary.name")),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaInstanceApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.metrics){return}_this.setTitle("Kibana - ".concat((0,_lodash.get)(data,"kibanaSummary.name")));_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.kibanaSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_requests,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_response_times,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_memory,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_average_concurrent_connections,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_os_load,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_process_delay,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null))))))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="kibana"\n  name="kibana"\n  instance="{{ pageData.kibanaSummary.name }}"\n  data-test-subj="kibanaInstancePage"\n>\n  <div id="monitoringKibanaInstanceApp"></div>\n</monitoring-main>\n'},3281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=DetailStatus;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(579);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatus(_ref){var stats=_ref.stats;var transportAddress=stats.transport_address,osFreeMemory=stats.os_memory_free,version=stats.version,uptime=stats.uptime,status=stats.status;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.kibana.detailStatus.transportAddressLabel",{defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.detailStatus.osFreeMemoryLabel",{defaultMessage:"OS Free Memory"}),value:(0,_format_number.formatMetric)(osFreeMemory,"byte"),"data-test-subj":"osFreeMemory"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.detailStatus.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:_i18n.i18n.translate("xpack.monitoring.kibana.detailStatus.uptimeLabel",{defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaDetailStatus"})}},3282:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3283));var _timefilter=__webpack_require__(55);var _i18n=__webpack_require__(25);var _overview=__webpack_require__(3284);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/logstash",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Logstash",getPageData:getPageData,reactNodeId:"monitoringLogstashOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.Overview,{stats:data.clusterStatus,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main product="logstash" name="overview">\n  <div id="monitoringLogstashOverviewApp"></div>\n</monitoring-main>\n'},3284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Overview",{enumerable:true,get:function get(){return _overview.Overview}});var _overview=__webpack_require__(3285)},3285:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(580);var _chart=__webpack_require__(115);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Overview=function(_PureComponent){_inherits(Overview,_PureComponent);function Overview(){_classCallCheck(this,Overview);return _possibleConstructorReturn(this,_getPrototypeOf(Overview).apply(this,arguments))}_createClass(Overview,[{key:"render",value:function render(){var _this$props=this.props,stats=_this$props.stats,metrics=_this$props.metrics,props=_objectWithoutProperties(_this$props,["stats","metrics"]);var metricsToShow=[metrics.logstash_cluster_events_input_rate,metrics.logstash_cluster_events_output_rate,metrics.logstash_cluster_events_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:stats})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))))))}}]);return Overview}(_react.PureComponent);exports.Overview=Overview},3286:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3287);var _index=_interopRequireDefault(__webpack_require__(3288));var _i18n=__webpack_require__(25);var _listing=__webpack_require__(3289);var _renderers=__webpack_require__(277);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/logstash/nodes",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})},pageData:_get_page_data.getPageData},controllerAs:"lsNodes",controller:function(_MonitoringViewBaseEu){_inherits(LsNodesList,_MonitoringViewBaseEu);function LsNodesList($injector,$scope){var _this;_classCallCheck(this,LsNodesList);var kbnUrl=$injector.get("kbnUrl");_this=_possibleConstructorReturn(this,_getPrototypeOf(LsNodesList).call(this,{title:"Logstash - Nodes",storageKey:"logstash.nodes",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringLogstashNodesApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:$scope,injector:$injector,productName:_constants.LOGSTASH_SYSTEM_ID,render:function render(_ref){var setupMode=_ref.setupMode,flyoutComponent=_ref.flyoutComponent,bottomBarComponent=_ref.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_listing.Listing,{data:data.nodes,setupMode:setupMode,stats:data.clusterStatus,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,angular:{kbnUrl:kbnUrl,scope:$scope}}),bottomBarComponent)}})))}));return _this}return LsNodesList}(_.MonitoringViewBaseEuiTableController)})},3287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/nodes");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main product="logstash" name="nodes">\n  <div id="monitoringLogstashNodesApp"></div>\n</monitoring-main>\n'},3289:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Listing",{enumerable:true,get:function get(){return _listing.Listing}});var _listing=__webpack_require__(3290)},3290:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _format_number=__webpack_require__(49);var _cluster_status=__webpack_require__(580);var _table=__webpack_require__(131);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);var _badge=__webpack_require__(332);var _listing_callout=__webpack_require__(333);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Listing=function(_PureComponent){_inherits(Listing,_PureComponent);function Listing(){_classCallCheck(this,Listing);return _possibleConstructorReturn(this,_getPrototypeOf(Listing).apply(this,arguments))}_createClass(Listing,[{key:"getColumns",value:function getColumns(){var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;var setupMode=this.props.setupMode;return[{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.nameTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:function render(name,node){var setupModeStatus=null;if(setupMode&&setupMode.enabled){var list=(0,_lodash.get)(setupMode,"data.byUuid",{});var uuid=(0,_lodash.get)(node,"logstash.uuid");var status=list[uuid]||{};var instance={uuid:uuid,name:node.name};setupModeStatus=_react.default.createElement("div",{className:"monTableCell__setupModeStatus"},_react.default.createElement(_badge.SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:_constants.LOGSTASH_SYSTEM_ID}))}return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync((function(){kbnUrl.changePath("/logstash/node/".concat(node.logstash.uuid))}))}},name)),_react.default.createElement("div",null,node.logstash.http_address),setupModeStatus)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.cpuUsageTitle",{defaultMessage:"CPU Usage"}),field:"cpu_usage",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.loadAverageTitle",{defaultMessage:"Load Average"}),field:"load_average",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.00")}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.jvmHeapUsedTitle",{defaultMessage:"{javaVirtualMachine} Heap Used",values:{javaVirtualMachine:"JVM"}}),field:"jvm_heap_used",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.eventsIngestedTitle",{defaultMessage:"Events Ingested"}),field:"events_out",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.[0]a")}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.configReloadsTitle",{defaultMessage:"Config Reloads"}),sortable:true,render:function render(node){return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.nodes.configReloadsSuccessCountLabel",defaultMessage:"{reloadsSuccesses} successes",values:{reloadsSuccesses:node.reloads.successes}})),_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.nodes.configReloadsFailuresCountLabel",defaultMessage:"{reloadsFailures} failures",values:{reloadsFailures:node.reloads.failures}})))}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.versionTitle",{defaultMessage:"Version"}),field:"version",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value)}}]}},{key:"render",value:function render(){var _this$props=this.props,stats=_this$props.stats,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange,data=_this$props.data,setupMode=_this$props.setupMode;var columns=this.getColumns();var flattenedData=data.map((function(item){return _objectSpread({},item,{name:(0,_lodash.get)(item,"logstash.name","N/A"),cpu_usage:(0,_lodash.get)(item,"process.cpu.percent","N/A"),load_average:(0,_lodash.get)(item,"os.cpu.load_average.1m","N/A"),jvm_heap_used:(0,_lodash.get)(item,"jvm.mem.heap_used_percent","N/A"),events_out:(0,_lodash.get)(item,"events.out","N/A"),version:(0,_lodash.get)(item,"logstash.version","N/A")})}));var setupModeCallOut=null;if(setupMode.enabled&&setupMode.data){setupModeCallOut=_react.default.createElement(_listing_callout.ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:true,productName:_constants.LOGSTASH_SYSTEM_ID})}return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:stats})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),setupModeCallOut,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"logstashNodesTable",rows:flattenedData,setupMode:setupMode,productName:_constants.LOGSTASH_SYSTEM_ID,columns:columns,sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.logstash.filterNodesPlaceholder",{defaultMessage:"Filter Nodes"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}}]);return Listing}(_react.PureComponent);exports.Listing=Listing},3291:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3292));var _timefilter=__webpack_require__(55);var _detail_status=__webpack_require__(581);var _eui=__webpack_require__(2);var _chart=__webpack_require__(115);var _i18n2=__webpack_require__(25);var _base_controller=__webpack_require__(100);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/logstash/node/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.routeTitle",{defaultMessage:"Logstash - {nodeName}",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_events_input_rate,data.metrics.logstash_jvm_usage,data.metrics.logstash_events_output_rate,data.metrics.logstash_node_cpu_metric,data.metrics.logstash_events_latency,data.metrics.logstash_os_load];_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data)),_react.default.createElement(_eui.EuiSpacer,null))}))))))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="overview"\n>\n  <div id="monitoringLogstashNodeApp"></div>\n</monitoring-main>\n'},3293:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3294));var _timefilter=__webpack_require__(55);var _base_controller=__webpack_require__(100);var _detail_status=__webpack_require__(581);var _eui=__webpack_require__(2);var _chart=__webpack_require__(115);var _i18n2=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/logstash/node/:uuid/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeAdvancedApp",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.advanced.routeTitle",{defaultMessage:"Logstash - {nodeName} - Advanced",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_node_cpu_utilization,data.metrics.logstash_queue_events_count,data.metrics.logstash_node_cgroup_cpu,data.metrics.logstash_pipeline_queue_size,data.metrics.logstash_node_cgroup_stats];_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map((function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data)),_react.default.createElement(_eui.EuiSpacer,null))}))))))))}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="advanced"\n>\n  <div id="monitoringLogstashNodeAdvancedApp"></div>\n</monitoring-main>\n'},3295:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _pipelines=__webpack_require__(1116);var _index=_interopRequireDefault(__webpack_require__(3297));var _timefilter=__webpack_require__(55);var _=__webpack_require__(101);var _i18n2=__webpack_require__(25);var _pipeline_listing=__webpack_require__(1117);var _detail_status=__webpack_require__(581);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getPageData=function getPageData($injector){var _api=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var routeOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_api;var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var logstashUuid=$route.current.params.uuid;var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat(logstashUuid,"/pipelines");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,_objectSpread({ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}},routeOptions)).then((function(response){return response.data})).catch((function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))};function makeUpgradeMessage(logstashVersion){if((0,_pipelines.isPipelineMonitoringSupportedInVersion)(logstashVersion)){return null}return _i18n.i18n.translate("xpack.monitoring.logstash.node.pipelines.notAvailableDescription",{defaultMessage:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher. This node is running version {logstashVersion}.",values:{logstashVersion:logstashVersion}})}_routes.default.when("/logstash/node/:uuid/pipelines",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})}},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodePipelinesApp",$scope:$scope,$injector:$injector,fetchDataImmediately:false}));$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.pipelines.routeTitle",{defaultMessage:"Logstash - {nodeName} - Pipelines",values:{nodeName:data.nodeSummary.name}}));var pagination=_objectSpread({},_this.pagination,{totalItemCount:data.totalPipelineCount});_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_pipeline_listing.PipelineListing,_extends({className:"monitoringLogstashPipelinesTable",onBrush:_this.onBrush,zoomInfo:_this.zoomInfo,stats:data.nodeSummary,statusComponent:_detail_status.DetailStatus,data:data.pipelines},_this.getPaginationTableProps(pagination),{dateFormat:config.get("dateFormat"),upgradeMessage:makeUpgradeMessage(data.nodeSummary.version,_i18n.i18n),angular:{kbnUrl:kbnUrl,scope:$scope}}))))}));return _this}return controller}(_.MonitoringViewBaseEuiTableController)})},3297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="logstash"\n  name="nodes" instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipelines"\n>\n  <div id="monitoringLogstashNodePipelinesApp"></div>\n</monitoring-main>\n'},3298:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SparklineFlotChart=void 0;var _lodash=__webpack_require__(3);var _jquery_flot=_interopRequireDefault(__webpack_require__(1091));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var flotOptions={grid:{show:false,margin:4,hoverable:true},colors:["#3b73ac"],series:{shadowSize:0,lines:{lineWidth:2},highlightColor:"#3b73ac",points:{radius:2}}};function makeData(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var data=[];data.push(series);data.push({data:[(0,_lodash.last)(series)],points:{show:true,radius:2,fill:1,fillColor:false}});return data}var SparklineFlotChart=function(){function SparklineFlotChart(containerElem,initialSeries,_onBrush,_onHover,overrideOptions){var _this=this;_classCallCheck(this,SparklineFlotChart);_defineProperty(this,"render",(function(){_this.flotChart=_jquery_flot.default.plot(_this.containerElem,_this.data,_this.options)}));_defineProperty(this,"setupBrushHandling",(function(onBrush){_this.options.selection={mode:"x",color:"#9c9c9c"};(0,_jquery_flot.default)(_this.containerElem).off("plotselected");(0,_jquery_flot.default)(_this.containerElem).on("plotselected",(function(_event,range){onBrush(range);_this.flotChart.clearSelection()}))}));_defineProperty(this,"setupHoverHandling",(function(onHover){var container=(0,_jquery_flot.default)(_this.containerElem);var debouncedOnHover=(0,_lodash.debounce)((function(_event,_range,item){if(item===null){return onHover()}onHover({xValue:item.datapoint[0],yValue:item.datapoint[1],xPosition:item.pageX-window.pageXOffset,yPosition:item.pageY-window.pageYOffset,plotTop:container.offset().top,plotLeft:container.offset().left,plotHeight:container.height(),plotWidth:container.width()})}),_constants.DEBOUNCE_FAST_MS,{leading:true});container.off("plothover");container.on("plothover",debouncedOnHover)}));this.containerElem=containerElem;this.data=makeData(initialSeries);this.options=_objectSpread({},flotOptions,{},overrideOptions);if((0,_lodash.isFunction)(_onBrush)){this.setupBrushHandling(_onBrush)}if((0,_lodash.isFunction)(_onHover)){this.setupHoverHandling(_onHover)}this.render();window.addEventListener("resize",this.render)}_createClass(SparklineFlotChart,[{key:"update",value:function update(series){this.flotChart.setData(makeData(series));this.flotChart.setupGrid();this.flotChart.draw()}},{key:"shutdown",value:function shutdown(){this.flotChart.shutdown();var container=(0,_jquery_flot.default)(this.containerElem);container.off("plotselected");container.off("plothover");window.removeEventListener("resize",this.render)}}]);return SparklineFlotChart}();exports.SparklineFlotChart=SparklineFlotChart},3299:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _pipelines=__webpack_require__(1116);var _index=_interopRequireDefault(__webpack_require__(3300));var _timefilter=__webpack_require__(55);var _i18n2=__webpack_require__(25);var _pipeline_listing=__webpack_require__(1117);var _=__webpack_require__(101);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getPageData=function getPageData($injector){var _api=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var routeOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_api;var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/pipelines");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,_objectSpread({ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}},routeOptions)).then((function(response){return response.data})).catch((function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))};function makeUpgradeMessage(logstashVersions){if(!Array.isArray(logstashVersions)||logstashVersions.length===0||logstashVersions.some(_pipelines.isPipelineMonitoringSupportedInVersion)){return null}return"Pipeline monitoring is only available in Logstash version 6.0.0 or higher."}_routes.default.when("/logstash/pipelines",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})}},controller:function(_MonitoringViewBaseEu){_inherits(LogstashPipelinesList,_MonitoringViewBaseEu);function LogstashPipelinesList($injector,$scope){var _this;_classCallCheck(this,LogstashPipelinesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(LogstashPipelinesList).call(this,{title:"Logstash Pipelines",storageKey:"logstash.pipelines",getPageData:getPageData,reactNodeId:"monitoringLogstashPipelinesApp",$scope:$scope,$injector:$injector,fetchDataImmediately:false}));var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var renderReact=function renderReact(pageData){if(!pageData){return}var upgradeMessage=pageData?makeUpgradeMessage(pageData.clusterStatus.versions,_i18n.i18n):null;var pagination=_objectSpread({},_this.pagination,{totalItemCount:pageData.totalPipelineCount});_get(_getPrototypeOf(LogstashPipelinesList.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_pipeline_listing.PipelineListing,_extends({className:"monitoringLogstashPipelinesTable",onBrush:function onBrush(xaxis){return _this.onBrush({xaxis:xaxis})},stats:pageData.clusterStatus,data:pageData.pipelines},_this.getPaginationTableProps(pagination),{upgradeMessage:upgradeMessage,dateFormat:config.get("dateFormat"),angular:{kbnUrl:kbnUrl,scope:$scope}}))))};$scope.$watch((function(){return _this.data}),(function(pageData){renderReact(pageData)}));return _this}return LogstashPipelinesList}(_.MonitoringViewBaseEuiTableController)})},33:function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},330:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatProductName=formatProductName;exports.getIdentifier=getIdentifier;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);var NODE_IDENTIFIER_SINGULAR=_i18n.i18n.translate("xpack.monitoring.setupMode.node",{defaultMessage:"node"});var NODE_IDENTIFIER_PLURAL=_i18n.i18n.translate("xpack.monitoring.setupMode.nodes",{defaultMessage:"nodes"});var INSTANCE_IDENTIFIER_SINGULAR=_i18n.i18n.translate("xpack.monitoring.setupMode.instance",{defaultMessage:"instance"});var INSTANCE_IDENTIFIER_PLURAL=_i18n.i18n.translate("xpack.monitoring.setupMode.instances",{defaultMessage:"instances"});var SERVER_IDENTIFIER_SINGULAR=_i18n.i18n.translate("xpack.monitoring.setupMode.server",{defaultMessage:"server"});var SERVER_IDENTIFIER_PLURAL=_i18n.i18n.translate("xpack.monitoring.setupMode.servers",{defaultMessage:"servers"});function formatProductName(productName){if(productName===_constants.APM_SYSTEM_ID){return productName.toUpperCase()}return(0,_lodash.capitalize)(productName)}var PRODUCTS_THAT_USE_NODES=[_constants.LOGSTASH_SYSTEM_ID,_constants.ELASTICSEARCH_SYSTEM_ID];var PRODUCTS_THAT_USE_INSTANCES=[_constants.KIBANA_SYSTEM_ID,_constants.BEATS_SYSTEM_ID];function getIdentifier(productName){var usePlural=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(PRODUCTS_THAT_USE_INSTANCES.includes(productName)){return usePlural?INSTANCE_IDENTIFIER_PLURAL:INSTANCE_IDENTIFIER_SINGULAR}if(PRODUCTS_THAT_USE_NODES.includes(productName)){return usePlural?NODE_IDENTIFIER_PLURAL:NODE_IDENTIFIER_SINGULAR}if(productName===_constants.APM_SYSTEM_ID){return usePlural?SERVER_IDENTIFIER_PLURAL:SERVER_IDENTIFIER_SINGULAR}return productName}},3300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="logstash"\n  name="pipelines"\n  data-test-subj="logstashPipelinesListing"\n>\n  <div id="monitoringLogstashPipelinesApp"></div>\n</monitoring-main>\n'},3301:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(43));var _moment=_interopRequireDefault(__webpack_require__(15));var _ajax_error_handler=__webpack_require__(59);var _route_init=__webpack_require__(47);var _constants=__webpack_require__(19);var _format_timestamp_to_duration=__webpack_require__(430);var _index=_interopRequireDefault(__webpack_require__(3302));var _i18n=__webpack_require__(1);var _list=__webpack_require__(3303);var _pipeline_state=__webpack_require__(3306);var _pipeline_viewer=__webpack_require__(3312);var _pipeline=__webpack_require__(3324);var _vertex_factory=__webpack_require__(1119);var _base_controller=__webpack_require__(100);var _i18n2=__webpack_require__(25);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var previousPipelineHash=undefined;var detailVertexId=undefined;function getPageData($injector){var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var minIntervalSeconds=$injector.get("minIntervalSeconds");var Private=$injector.get("Private");var ccs=globalState.ccs,clusterUuid=globalState.cluster_uuid;var pipelineId=$route.current.params.id;var pipelineHash=$route.current.params.hash||"";if(pipelineHash!==previousPipelineHash){previousPipelineHash=pipelineHash;detailVertexId=undefined}var url=pipelineHash?"../api/monitoring/v1/clusters/".concat(clusterUuid,"/logstash/pipeline/").concat(pipelineId,"/").concat(pipelineHash):"../api/monitoring/v1/clusters/".concat(clusterUuid,"/logstash/pipeline/").concat(pipelineId);return $http.post(url,{ccs:ccs,detailVertexId:detailVertexId}).then((function(response){return response.data})).then((function(data){data.versions=data.versions.map((function(version){var relativeFirstSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.firstSeen,_constants.CALCULATE_DURATION_SINCE);var relativeLastSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.lastSeen,_constants.CALCULATE_DURATION_SINCE);var fudgeFactorSeconds=2*minIntervalSeconds;var isLastSeenCloseToNow=Date.now()-version.lastSeen<=fudgeFactorSeconds*1e3;return _objectSpread({},version,{relativeFirstSeen:_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeFirstSeenAgoLabel",{defaultMessage:"{relativeFirstSeen} ago",values:{relativeFirstSeen:relativeFirstSeen}}),relativeLastSeen:isLastSeenCloseToNow?_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenNowLabel",{defaultMessage:"now"}):_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenAgoLabel",{defaultMessage:"until {relativeLastSeen} ago",values:{relativeLastSeen:relativeLastSeen}})})}));return data})).catch((function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}_routes.default.when("/logstash/pipelines/:id/:hash?",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_LOGSTASH]})},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var config=$injector.get("config");var dateFormat=config.get("dateFormat");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.routeTitle",{defaultMessage:"Logstash - Pipeline"}),storageKey:"logstash.pipelines",getPageData:getPageData,reactNodeId:"monitoringLogstashPipelineApp",$scope:$scope,options:{enableTimeFilter:false},$injector:$injector}));var timeseriesTooltipXValueFormatter=function timeseriesTooltipXValueFormatter(xValue){return(0,_moment.default)(xValue).format(dateFormat)};var setDetailVertexId=function setDetailVertexId(vertex){if(!vertex){detailVertexId=undefined}else{detailVertexId=vertex.id}return _this.updateData()};$scope.$watch((function(){return _this.data}),(function(data){if(!data||!data.pipeline){return}_this.pipelineState=new _pipeline_state.PipelineState(data.pipeline);_this.detailVertex=data.vertex?(0,_vertex_factory.vertexFactory)(null,data.vertex):null;_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_pipeline_viewer.PipelineViewer,{pipeline:_list.List.fromPipeline(_pipeline.Pipeline.fromPipelineGraph(_this.pipelineState.config.graph)),timeseriesTooltipXValueFormatter:timeseriesTooltipXValueFormatter,setDetailVertexId:setDetailVertexId,detailVertex:_this.detailVertex}))))))}));$scope.$on("$destroy",(function(){previousPipelineHash=undefined;detailVertexId=undefined}));return _this}return controller}(_base_controller.MonitoringViewBaseController)})},3302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="logstash"\n  name="node"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipeline"\n  pipeline-id="{{ pageData.pipeline.id }}"\n  pipeline-hash="{{ pageData.pipeline.hash }}"\n  pipeline-versions="pageData.versions"\n>\n  <div id="monitoringLogstashPipelineApp"></div>\n</monitoring-main>\n'},3303:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _list.List}});var _list=__webpack_require__(3304)},3304:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.List=void 0;var _flatten_pipeline_section=__webpack_require__(3305);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var List=function(){function List(inputs,filters,outputs,queue){_classCallCheck(this,List);this.inputs=inputs;this.filters=filters;this.outputs=outputs;this.queue=queue}_createClass(List,null,[{key:"fromPipeline",value:function fromPipeline(pipeline){var inputStatements=pipeline.inputStatements,filterStatements=pipeline.filterStatements,outputStatements=pipeline.outputStatements,queue=pipeline.queue;return new List((0,_flatten_pipeline_section.flattenPipelineSection)(inputStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(filterStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(outputStatements),queue)}}]);return List}();exports.List=List},3305:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPipelineSection=flattenPipelineSection;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function flattenPipelineSection(pipelineSection){var depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var parentId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var list=[];pipelineSection.forEach((function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,parentId)))}));return list}},3306:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineState=void 0;var _config=__webpack_require__(3307);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var PipelineState=function(){function PipelineState(pipelineState){_classCallCheck(this,PipelineState);this.config=new _config.Config;this.update(pipelineState)}_createClass(PipelineState,[{key:"update",value:function update(pipelineJson){this.config.update(pipelineJson.representation)}}]);return PipelineState}();exports.PipelineState=PipelineState},3307:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Config=void 0;var _graph=__webpack_require__(3308);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Config=function(){function Config(){_classCallCheck(this,Config);this.graph=new _graph.Graph}_createClass(Config,[{key:"update",value:function update(configJson){this.json=configJson;this.graph.update(configJson.graph)}}]);return Config}();exports.Config=Config},3308:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Graph=void 0;var _vertex_factory=__webpack_require__(1119);var _edge_factory=__webpack_require__(3310);var _queue_vertex=__webpack_require__(583);var _plugin_vertex=__webpack_require__(1120);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Graph=function(){function Graph(){_classCallCheck(this,Graph);this.json=null;this.verticesById={};this.edgesById={};this.edgesByFrom={};this.edgesByTo={}}_createClass(Graph,[{key:"getVertexById",value:function getVertexById(id){return this.verticesById[id]}},{key:"getVertices",value:function getVertices(){if(this.vertexCache===undefined){this.vertexCache=Object.values(this.verticesById)}return this.vertexCache}},{key:"update",value:function update(jsonRepresentation){var _this=this;this.json=jsonRepresentation;jsonRepresentation.vertices.forEach((function(vJson){var existingVertex=_this.verticesById[vJson.id];if(existingVertex!==undefined){existingVertex.update(vJson)}else{var newVertex=(0,_vertex_factory.vertexFactory)(_this,vJson);_this.verticesById[vJson.id]=newVertex}}));jsonRepresentation.edges.forEach((function(eJson){var existingEdge=_this.edgesById[eJson.id];if(existingEdge!==undefined){existingEdge.update(eJson)}else{var newEdge=(0,_edge_factory.edgeFactory)(_this,eJson);_this.edgesById[eJson.id]=newEdge;if(_this.edgesByFrom[newEdge.from.json.id]===undefined){_this.edgesByFrom[newEdge.from.json.id]=[]}_this.edgesByFrom[newEdge.from.json.id].push(newEdge);if(_this.edgesByTo[newEdge.to.json.id]===undefined){_this.edgesByTo[newEdge.to.json.id]=[]}_this.edgesByTo[newEdge.to.json.id].push(newEdge)}}));this.annotateVerticesWithStages()}},{key:"annotateVerticesWithStages",value:function annotateVerticesWithStages(){this.annotateInputStageVertices();this.annotateOutputStageVertices();this.annotateFilterStageVertices()}},{key:"annotateInputStageVertices",value:function annotateInputStageVertices(){if(!this.hasQueueVertex){return}this.startVertices.forEach((function(v){return v.pipelineStage="input"}))}},{key:"annotateOutputStageVertices",value:function annotateOutputStageVertices(){if(this.endVertices.length===1&&this.endVertices[0]instanceof _queue_vertex.QueueVertex){return}if(this.endVertices.every((function(v){return v.pluginType==="filter"}))){return}var pending=_toConsumableArray(this.endVertices);while(pending.length>0){var currentVertex=pending.shift();var parents=currentVertex.incomingVertices;var isParentFilterPluginVertex=parents.some((function(p){return p instanceof _plugin_vertex.PluginVertex&&p.pluginType==="filter"}));var isParentQueueVertex=parents.some((function(p){return p instanceof _queue_vertex.QueueVertex}));var isParentNothing=parents.length===0;var isParentOutputStageVertex=!(isParentFilterPluginVertex||isParentQueueVertex||isParentNothing);if(isParentOutputStageVertex){pending.push.apply(pending,_toConsumableArray(parents))}else{currentVertex.pipelineStage="output";var descendantVertices=currentVertex.descendants().vertices;descendantVertices.forEach((function(v){return v.pipelineStage="output"}))}}}},{key:"annotateFilterStageVertices",value:function annotateFilterStageVertices(){var pending=[];if(this.hasQueueVertex){pending.push.apply(pending,_toConsumableArray(this.queueVertex.outgoingVertices))}else{pending.push.apply(pending,_toConsumableArray(this.startVertices))}while(pending.length>0){var currentVertex=pending.shift();if(!currentVertex.pipelineStage){currentVertex.pipelineStage="filter";pending.push.apply(pending,_toConsumableArray(currentVertex.outgoingVertices))}}}},{key:"queueVertex",get:function get(){return this.getVertices().find((function(v){return v instanceof _queue_vertex.QueueVertex}))}},{key:"processorVertices",get:function get(){return this.getVertices().filter((function(v){return v.isProcessor}))}},{key:"edges",get:function get(){return Object.values(this.edgesById)}},{key:"startVertices",get:function get(){return this.getVertices().filter((function(v){return v.incomingEdges.length===0}))}},{key:"endVertices",get:function get(){return this.getVertices().filter((function(v){return v.outgoingEdges.length===0}))}},{key:"hasQueueVertex",get:function get(){return!!this.queueVertex}}]);return Graph}();exports.Graph=Graph},3309:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfVertex=void 0;var _lodash=__webpack_require__(3);var _vertex=__webpack_require__(582);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IfVertex=function(_Vertex){_inherits(IfVertex,_Vertex);function IfVertex(){_classCallCheck(this,IfVertex);return _possibleConstructorReturn(this,_getPrototypeOf(IfVertex).apply(this,arguments))}_createClass(IfVertex,[{key:"typeString",get:function get(){return"if"}},{key:"name",get:function get(){return this.json.condition}},{key:"iconType",get:function get(){return"logstashIf"}},{key:"title",get:function get(){return"if"}},{key:"subtitle",get:function get(){return this.name}},{key:"trueEdge",get:function get(){return this.outgoingEdges.find((function(e){return e.when===true}))}},{key:"trueEdges",get:function get(){return this.outgoingEdges.filter((function(e){return e.when===true}))}},{key:"falseEdge",get:function get(){return this.outgoingEdges.find((function(e){return e.when===false}))}},{key:"falseEdges",get:function get(){return this.outgoingEdges.filter((function(e){return e.when===false}))}},{key:"trueOutgoingVertex",get:function get(){return this.trueEdge?this.trueEdge.to:null}},{key:"trueOutgoingVertices",get:function get(){return this.trueEdges.map((function(e){return e.to}))}},{key:"falseOutgoingVertex",get:function get(){return this.falseEdge?this.falseEdge.to:null}},{key:"falseOutgoingVertices",get:function get(){return this.falseEdges.map((function(e){return e.to}))}},{key:"next",get:function get(){var trueDescendants=this.trueOutgoingVertex?this.trueOutgoingVertex.descendants().vertices:[];var falseDescendants=this.falseOutgoingVertex?this.falseOutgoingVertex.descendants().vertices:[];trueDescendants.unshift(this.trueOutgoingVertex);falseDescendants.unshift(this.falseOutgoingVertex);return(0,_lodash.intersection)(trueDescendants,falseDescendants)[0]}}]);return IfVertex}(_vertex.Vertex);exports.IfVertex=IfVertex},331:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LookingFor",{enumerable:true,get:function get(){return _looking_for.LookingFor}});Object.defineProperty(exports,"WhatIs",{enumerable:true,get:function get(){return _what_is.WhatIs}});Object.defineProperty(exports,"ChangesNeeded",{enumerable:true,get:function get(){return _changes_needed.ChangesNeeded}});Object.defineProperty(exports,"CloudDeployment",{enumerable:true,get:function get(){return _cloud_deployment.CloudDeployment}});var _looking_for=__webpack_require__(3124);var _what_is=__webpack_require__(3125);var _changes_needed=__webpack_require__(3126);var _cloud_deployment=__webpack_require__(3127)},3310:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.edgeFactory=edgeFactory;var _edge=__webpack_require__(1121);var _boolean_edge=__webpack_require__(3311);function edgeFactory(graph,edgeJson){var type=edgeJson.type;switch(type){case"plain":return new _edge.Edge(graph,edgeJson);case"boolean":return new _boolean_edge.BooleanEdge(graph,edgeJson);default:throw new Error("Unknown edge type ".concat(type,"! This shouldn't happen!"))}}},3311:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BooleanEdge=void 0;var _edge=__webpack_require__(1121);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var BooleanEdge=function(_Edge){_inherits(BooleanEdge,_Edge);function BooleanEdge(){_classCallCheck(this,BooleanEdge);return _possibleConstructorReturn(this,_getPrototypeOf(BooleanEdge).apply(this,arguments))}_createClass(BooleanEdge,[{key:"when",get:function get(){return this.json.when}},{key:"isTrue",get:function get(){return this.when===true}},{key:"isFalse",get:function get(){return this.when===false}}]);return BooleanEdge}(_edge.Edge);exports.BooleanEdge=BooleanEdge},3312:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _views.PipelineViewer}});var _views=__webpack_require__(3313)},3313:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _pipeline_viewer.PipelineViewer}});var _pipeline_viewer=__webpack_require__(3314)},3314:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineViewer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _detail_drawer=__webpack_require__(3315);var _queue=__webpack_require__(3316);var _statement_section=__webpack_require__(3317);var _i18n=__webpack_require__(1);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PipelineViewer=function(_React$Component){_inherits(PipelineViewer,_React$Component);function PipelineViewer(){var _this;_classCallCheck(this,PipelineViewer);_this=_possibleConstructorReturn(this,_getPrototypeOf(PipelineViewer).call(this));_defineProperty(_assertThisInitialized(_this),"renderDetailDrawer",(function(){if(!_this.props.detailVertex){return null}return _react.default.createElement(_detail_drawer.DetailDrawer,{vertex:_this.props.detailVertex,onHide:function onHide(){return _this.props.setDetailVertexId(undefined)},timeseriesTooltipXValueFormatter:_this.props.timeseriesTooltipXValueFormatter})}));_this.state={detailDrawer:{vertex:null}};return _this}_createClass(PipelineViewer,[{key:"render",value:function render(){var _this$props$pipeline=this.props.pipeline,inputs=_this$props$pipeline.inputs,filters=_this$props$pipeline.filters,outputs=_this$props$pipeline.outputs,queue=_this$props$pipeline.queue;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"monPipelineViewer"},_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashInput",headingText:_i18n.i18n.translate("xpack.monitoring.logstash.pipelineViewer.inputsTitle",{defaultMessage:"Inputs"}),elements:inputs,onShowVertexDetails:this.props.setDetailVertexId}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_queue.Queue,{queue:queue}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashFilter",headingText:_i18n.i18n.translate("xpack.monitoring.logstash.pipelineViewer.filtersTitle",{defaultMessage:"Filters"}),elements:filters,onShowVertexDetails:this.props.setDetailVertexId}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashOutput",headingText:_i18n.i18n.translate("xpack.monitoring.logstash.pipelineViewer.outputsTitle",{defaultMessage:"Outputs"}),elements:outputs,onShowVertexDetails:this.props.setDetailVertexId}),this.renderDetailDrawer())))}}]);return PipelineViewer}(_react.default.Component);exports.PipelineViewer=PipelineViewer;PipelineViewer.propTypes={pipeline:_propTypes.default.shape({inputs:_propTypes.default.array.isRequired,filters:_propTypes.default.array.isRequired,outputs:_propTypes.default.array.isRequired,queue:_propTypes.default.object.isRequired}).isRequired}},3315:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailDrawer=DetailDrawer;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _sparkline=__webpack_require__(1118);var _format_number=__webpack_require__(49);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderIcon(vertex){return _react.default.createElement(_eui.EuiIcon,{type:vertex.iconType,className:"lspvDetailDrawerIcon"})}function renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter){var eventsLatencyValueFormatter=function eventsLatencyValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[00]a","ms/e")};var latestEventsLatency=Array.isArray(vertex.stats.millis_per_event.data)&&vertex.stats.millis_per_event.data.length>0?(0,_lodash.last)(vertex.stats.millis_per_event.data)[1]:null;var eventsLatencyRow=vertex.pluginType==="input"?null:_react.default.createElement(_eui.EuiTableRow,{key:"events_latency"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsLatencyLabel",defaultMessage:"Events Latency"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.millis_per_event.data,options:{xaxis:vertex.stats.millis_per_event.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsLatencyValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsLatencyValueFormatter(latestEventsLatency)));var eventsOutRateValueFormatter=function eventsOutRateValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[0]a","e/s")};var eventsOutRateRow=_react.default.createElement(_eui.EuiTableRow,{key:"events_out_rate"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedRateLabel",defaultMessage:"Events Emitted Rate"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.eventsPerSecond.data,options:{xaxis:vertex.eventsPerSecond.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutRateValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsOutRateValueFormatter(vertex.latestEventsPerSecond)));var eventsInValueFormatter=function eventsInValueFormatter(value){return(0,_format_number.formatMetric)(value,"0a","events")};var latestEventsIn=Array.isArray(vertex.stats.events_in.data)&&vertex.stats.events_in.data.length>0?(0,_lodash.last)(vertex.stats.events_in.data)[1]:null;var eventsInRow=vertex.pluginType==="input"?null:_react.default.createElement(_eui.EuiTableRow,{key:"events_in"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsReceivedLabel",defaultMessage:"Events Received"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_in.data,options:{xaxis:vertex.stats.events_in.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsInValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsInValueFormatter(latestEventsIn)));var eventsOutValueFormatter=eventsInValueFormatter;var latestEventsOut=Array.isArray(vertex.stats.events_out.data)&&vertex.stats.events_out.data.length>0?(0,_lodash.last)(vertex.stats.events_out.data)[1]:null;var eventsOutRow=_react.default.createElement(_eui.EuiTableRow,{key:"events_out"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_out.data,options:{xaxis:vertex.stats.events_out.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsOutValueFormatter(latestEventsOut)));return _react.default.createElement(_eui.EuiTable,null,_react.default.createElement(_eui.EuiTableBody,null,eventsLatencyRow,eventsOutRateRow,eventsInRow,eventsOutRow))}function renderIfBasicStats(){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForIfDescription",defaultMessage:"There are currently no metrics to show for this if condition."}))}function renderQueueBasicStats(){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForQueueDescription",defaultMessage:"There are currently no metrics to show for the queue."}))}function renderBasicStats(vertex,timeseriesTooltipXValueFormatter){switch(vertex.typeString){case"plugin":return renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"if":return renderIfBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"queue":return renderQueueBasicStats(vertex,timeseriesTooltipXValueFormatter);break}}function renderPluginBasicInfo(vertex){if(vertex.hasExplicitId){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.vertexIdDescription",defaultMessage:"This {vertexType}'s ID is {vertexId}.",values:{vertexType:vertex.typeString,vertexId:_react.default.createElement(_eui.EuiBadge,null,vertex.id)}}))}return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.specifyVertexIdDescription",defaultMessage:"This {vertexType} does not have an ID explicitly specified. Specifying an ID allows you to track differences across pipeline changes. You can explicitly specify an ID for this plugin like so:",values:{vertexType:vertex.typeString}})),_react.default.createElement(_eui.EuiCodeBlock,null,vertex.name," ",'{\n  id => "mySpecialId"\n}'),_react.default.createElement(_eui.EuiSpacer,null))}function renderIfBasicInfo(vertex){var ifCode="if (".concat(vertex.subtitle,") {\n  ...\n}");return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.conditionalStatementDescription",defaultMessage:"This is a conditional statement in your pipeline."})),_react.default.createElement(_eui.EuiCodeBlock,null,ifCode),_react.default.createElement(_eui.EuiSpacer,null))}function renderQueueBasicInfo(){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.structureDescription",defaultMessage:"This is an internal structure used by Logstash to buffer events between inputs and the rest of the pipeline."}))}function renderBasicInfo(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicInfo(vertex);break;case"if":return renderIfBasicInfo(vertex);break;case"queue":return renderQueueBasicInfo(vertex);break}}function renderTitle(vertex){switch(vertex.typeString){case"plugin":return"".concat(vertex.title," ").concat(vertex.pluginType);break;case"if":case"queue":return vertex.title;break}}function DetailDrawer(_ref){var vertex=_ref.vertex,onHide=_ref.onHide,timeseriesTooltipXValueFormatter=_ref.timeseriesTooltipXValueFormatter;return _react.default.createElement(_eui.EuiFlyout,{size:"s",onClose:onHide},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},renderIcon(vertex)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,renderTitle(vertex)))))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,renderBasicInfo(vertex),renderBasicStats(vertex,timeseriesTooltipXValueFormatter))))}},3316:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=Queue;var _react=_interopRequireDefault(__webpack_require__(0));var _statement_list_heading=__webpack_require__(1122);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Queue(){return _react.default.createElement("div",null,_react.default.createElement(_statement_list_heading.StatementListHeading,{iconType:"logstashQueue",title:"Queue"}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{className:"monPipelineViewer__queueMessage"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.queue.noMetricsDescription",defaultMessage:"Queue metrics not available"})))}},3317:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementSection=StatementSection;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _statement_list_heading=__webpack_require__(1122);var _eui=__webpack_require__(2);var _statement_list=__webpack_require__(3318);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementSection(_ref){var iconType=_ref.iconType,headingText=_ref.headingText,elements=_ref.elements,onShowVertexDetails=_ref.onShowVertexDetails;if(!elements.length){return null}return _react.default.createElement("div",null,_react.default.createElement(_statement_list_heading.StatementListHeading,{iconType:iconType,title:headingText}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_statement_list.StatementList,{elements:elements,onShowVertexDetails:onShowVertexDetails}))}StatementSection.propTypes={elements:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,parentId:_propTypes.default.string})).isRequired,headingText:_propTypes.default.string.isRequired,iconType:_propTypes.default.string.isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},3318:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementList=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _statement=__webpack_require__(3319);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getCollapsedChildIds(elements,collapsedIds){var collapsedChildIds=new Set;elements.forEach((function(_ref){var id=_ref.id,parentId=_ref.parentId;if(collapsedIds.has(parentId)||collapsedChildIds.has(parentId)){collapsedChildIds.add(id)}}));return collapsedChildIds}var StatementList=function(_React$PureComponent){_inherits(StatementList,_React$PureComponent);function StatementList(props){var _this;_classCallCheck(this,StatementList);_this=_possibleConstructorReturn(this,_getPrototypeOf(StatementList).call(this,props));_defineProperty(_assertThisInitialized(_this),"expand",(function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.delete(elementId);_this.updateCollapsedElement(collapsedIds)}));_defineProperty(_assertThisInitialized(_this),"collapse",(function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.add(elementId);_this.updateCollapsedElement(collapsedIds)}));_defineProperty(_assertThisInitialized(_this),"updateCollapsedElement",(function(collapsedIds){var elements=_this.props.elements;var collapsedChildIds=getCollapsedChildIds(elements,collapsedIds);_this.setState({collapsedIds:collapsedIds,collapsedChildIds:collapsedChildIds})}));_defineProperty(_assertThisInitialized(_this),"elementIsCollapsed",(function(elementId){return _this.state.collapsedIds.has(elementId)}));_defineProperty(_assertThisInitialized(_this),"renderStatement",(function(element){var id=element.id,parentId=element.parentId;var onShowVertexDetails=_this.props.onShowVertexDetails;return _this.state.collapsedIds.has(parentId)||_this.state.collapsedChildIds.has(parentId)?null:_react.default.createElement(_statement.Statement,{key:id,element:element,collapse:_this.collapse,expand:_this.expand,isCollapsed:_this.elementIsCollapsed(id),onShowVertexDetails:onShowVertexDetails})}));_this.state={collapsedIds:new Set,collapsedChildIds:new Set};return _this}_createClass(StatementList,[{key:"render",value:function render(){var elements=this.props.elements;return _react.default.createElement("ul",{className:"monPipelineViewer__list"},elements.map(this.renderStatement))}}]);return StatementList}(_react.default.PureComponent);exports.StatementList=StatementList;StatementList.propTypes={elements:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,parentId:_propTypes.default.string})).isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},3319:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Statement=Statement;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _plugin_statement=__webpack_require__(1123);var _collapsible_statement=__webpack_require__(3321);var _if_element=__webpack_require__(1124);var _plugin_statement2=__webpack_require__(3322);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderStatementName(name,onVertexSelected){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"statementName"},_react.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,color:"text",size:"xs",onClick:onVertexSelected,flush:"left"},_react.default.createElement("span",{className:"monPipelineViewer__conditional"},name)))}function renderIfStatement(_ref,onVertexSelected){var condition=_ref.condition;return[renderStatementName("if",onVertexSelected),_react.default.createElement(_eui.EuiFlexItem,{key:"ifContent",grow:false},_react.default.createElement(_eui.EuiCodeBlock,{fontSize:"s",paddingSize:"none",transparentBackground:true},condition))]}function getStatementBody(isIf,statement,vertex,onShowVertexDetails){var showVertexDetailsClicked=function showVertexDetailsClicked(){onShowVertexDetails(vertex)};return isIf?renderIfStatement(statement,showVertexDetailsClicked):renderStatementName("else",showVertexDetailsClicked)}function renderNestingSpacers(depth){var spacers=[];for(var i=0;i<depth;i+=1){spacers.push(_react.default.createElement("div",{key:"spacer_".concat(i),className:"monPipelineViewer__spacer"}))}return spacers}function renderStatement(_ref2){var collapse=_ref2.collapse,element=_ref2.element,_ref2$element=_ref2.element,id=_ref2$element.id,statement=_ref2$element.statement,vertex=_ref2$element.statement.vertex,expand=_ref2.expand,isCollapsed=_ref2.isCollapsed,onShowVertexDetails=_ref2.onShowVertexDetails;if(statement instanceof _plugin_statement.PluginStatement){return _react.default.createElement(_plugin_statement2.PluginStatement,{statement:statement,onShowVertexDetails:onShowVertexDetails})}var statementBody=getStatementBody(element instanceof _if_element.IfElement,statement,vertex,onShowVertexDetails);return _react.default.createElement(_collapsible_statement.CollapsibleStatement,{expand:expand,collapse:collapse,isCollapsed:isCollapsed,id:id},statementBody)}function Statement(props){var depth=props.element.depth;return _react.default.createElement("li",{className:"monPipelineViewer__listItem"},_react.default.createElement("div",{className:"monPipelineViewer__spaceContainer"},renderNestingSpacers(depth)),renderStatement(props))}Statement.propTypes={collapse:_propTypes.default.func.isRequired,element:_propTypes.default.shape({depth:_propTypes.default.number.isRequired,id:_propTypes.default.string.isRequired,statement:_propTypes.default.object.isRequired}).isRequired,expand:_propTypes.default.func.isRequired,isCollapsed:_propTypes.default.bool.isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},332:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetupModeBadge=SetupModeBadge;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var clickToMonitorWithMetricbeat=_i18n.i18n.translate("xpack.monitoring.setupMode.clickToMonitorWithMetricbeat",{defaultMessage:"Monitor with Metricbeat"});var clickToDisableInternalCollection=_i18n.i18n.translate("xpack.monitoring.setupMode.clickToDisableInternalCollection",{defaultMessage:"Disable self monitoring"});var monitoredWithMetricbeat=_i18n.i18n.translate("xpack.monitoring.setupMode.usingMetricbeatCollection",{defaultMessage:"Monitored with Metricbeat"});var unknown=_i18n.i18n.translate("xpack.monitoring.setupMode.unknown",{defaultMessage:"N/A"});function SetupModeBadge(_ref){var setupMode=_ref.setupMode,productName=_ref.productName,status=_ref.status,instance=_ref.instance,clusterUuid=_ref.clusterUuid;var customAction=null;var customText=null;var setupModeData=setupMode.data||{};var setupModeMeta=setupMode.meta||{};var allPartiallyMigrated=setupModeData.totalUniquePartiallyMigratedCount===setupModeData.totalUniqueInstanceCount;if(status.isPartiallyMigrated&&productName===_constants.ELASTICSEARCH_SYSTEM_ID){if(allPartiallyMigrated){customText=clickToDisableInternalCollection;if(setupModeMeta.liveClusterUuid===clusterUuid){customAction=setupMode.shortcutToFinishMigration}}else{return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiIcon,{type:"flag"}),"",_react.default.createElement(_eui.EuiTextColor,{color:"warning",size:"xs"},_i18n.i18n.translate("xpack.monitoring.setupMode.monitorAllNodes",{defaultMessage:"Some nodes use only self monitoring"})))}}var badgeProps={};if(status.isInternalCollector||status.isPartiallyMigrated||status.isNetNewUser){badgeProps.onClick=customAction?customAction:function(){return setupMode.openFlyout(instance)}}var statusText=null;if(status.isInternalCollector){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToMonitorWithMetricbeat}statusText=_react.default.createElement(_eui.EuiBadge,_extends({color:"danger",iconType:"flag"},badgeProps),customText||clickToMonitorWithMetricbeat)}else if(status.isPartiallyMigrated){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToDisableInternalCollection}statusText=_react.default.createElement(_eui.EuiBadge,_extends({color:"warning",iconType:"flag"},badgeProps),customText||clickToDisableInternalCollection)}else if(status.isFullyMigrated){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||monitoredWithMetricbeat}statusText=_react.default.createElement(_eui.EuiBadge,_extends({color:"primary",iconType:"flag"},badgeProps),customText||monitoredWithMetricbeat)}else if(status.isNetNewUser){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToMonitorWithMetricbeat}statusText=_react.default.createElement(_eui.EuiBadge,_extends({color:"danger",iconType:"flag"},badgeProps),customText||clickToMonitorWithMetricbeat)}else{if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||unknown}statusText=_react.default.createElement(_eui.EuiBadge,_extends({color:"danger",iconType:"flag"},badgeProps),customText||unknown)}return statusText}},3320:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginElement=void 0;var _element=__webpack_require__(585);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PluginElement=function(_Element){_inherits(PluginElement,_Element);function PluginElement(statement,depth,parentId){_classCallCheck(this,PluginElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(PluginElement).call(this,id,statement,depth,parentId))}return PluginElement}(_element.Element);exports.PluginElement=PluginElement},3321:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollapsibleStatement=CollapsibleStatement;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getToggleIconType(isCollapsed){return isCollapsed?"arrowRight":"arrowDown"}function CollapsibleStatement(props){var collapse=props.collapse,expand=props.expand,id=props.id,isCollapsed=props.isCollapsed;var toggleClicked=function toggleClicked(){if(isCollapsed){expand(id)}else{collapse(id)}};return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"none",alignItems:"center",className:"monPipelineViewer__statement"},_react.default.createElement(_eui.EuiFlexItem,{key:id,grow:false},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":"collapse",color:"text",iconType:getToggleIconType(isCollapsed),onClick:toggleClicked,size:"s"})),props.children)}CollapsibleStatement.propTypes={collapse:_propTypes.default.func.isRequired,expand:_propTypes.default.func.isRequired,id:_propTypes.default.string.isRequired,isCollapsed:_propTypes.default.bool.isRequired}},3322:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=PluginStatement;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _format_number=__webpack_require__(49);var _metric=__webpack_require__(3323);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInputStatementMetrics(_ref){var latestEventsPerSecond=_ref.latestEventsPerSecond;return[_react.default.createElement(_metric.Metric,{key:"eventsEmitted",className:"monPipelineViewer__metric--eventsEmitted",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s emitted")})]}function getProcessorStatementMetrics(processorVertex){var latestMillisPerEvent=processorVertex.latestMillisPerEvent,latestEventsPerSecond=processorVertex.latestEventsPerSecond,percentOfTotalProcessorTime=processorVertex.percentOfTotalProcessorTime;return[_react.default.createElement(_metric.Metric,{key:"cpuMetric",className:"monPipelineViewer__metric--cpuTime",warning:processorVertex.isTimeConsuming(),value:(0,_format_number.formatMetric)(Math.round(percentOfTotalProcessorTime||0),"0","%",{prependSpace:false})}),_react.default.createElement(_metric.Metric,{key:"eventMillis",className:"monPipelineViewer__metric--eventMillis",warning:processorVertex.isSlow(),value:(0,_format_number.formatMetric)(latestMillisPerEvent,"0.[00]a","ms/e")}),_react.default.createElement(_metric.Metric,{key:"eventsReceived",className:"monPipelineViewer__metric--events",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s received")})]}function renderPluginStatementMetrics(pluginType,vertex){return pluginType==="input"?getInputStatementMetrics(vertex):getProcessorStatementMetrics(vertex)}function PluginStatement(_ref2){var _ref2$statement=_ref2.statement,hasExplicitId=_ref2$statement.hasExplicitId,id=_ref2$statement.id,name=_ref2$statement.name,pluginType=_ref2$statement.pluginType,vertex=_ref2$statement.vertex,onShowVertexDetails=_ref2.onShowVertexDetails;var statementMetrics=renderPluginStatementMetrics(pluginType,vertex);var onNameButtonClick=function onNameButtonClick(){onShowVertexDetails(vertex)};return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",className:"monPipelineViewer__statement",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,className:"monPipelineViewer__plugin",color:"primary",flush:"left",iconType:"dot",onClick:onNameButtonClick,size:"xs"},_react.default.createElement("span",null,name))),hasExplicitId&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiBadge,{onClick:onNameButtonClick,onClickAriaLabel:_i18n.i18n.translate("xpack.monitoring.logstash.pipelineStatement.viewDetailsAriaLabel",{defaultMessage:"View details"})},id)))),statementMetrics&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},statementMetrics)))}PluginStatement.propTypes={onShowVertexDetails:_propTypes.default.func.isRequired,statement:_propTypes.default.shape({hasExplicitId:_propTypes.default.bool.isRequired,id:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired,pluginType:_propTypes.default.string.isRequired,vertex:_propTypes.default.shape({latestEventsPerSecond:_propTypes.default.number.isRequired,latestMillisPerEvent:_propTypes.default.number,percentOfTotalProcessorTime:_propTypes.default.number}).isRequired}).isRequired}},3323:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Metric=Metric;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(5));var _eui=__webpack_require__(2);var _classnames=_interopRequireDefault(__webpack_require__(79));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Metric(_ref){var className=_ref.className,warning=_ref.warning,value=_ref.value;var classes=(0,_classnames.default)("monPipelineViewer__metric",className);var stylizedValue;if(warning){stylizedValue=_react.default.createElement(_eui.EuiBadge,{color:"warning",className:className},value)}else{stylizedValue=_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:classes},_react.default.createElement("span",null,value))}return _react.default.createElement(_eui.EuiFlexItem,{className:"monPipelineViewer__metricFlexItem",grow:false},stylizedValue)}Metric.propTypes={className:_propTypes.default.string.isRequired,value:_propTypes.default.string.isRequired,warning:_propTypes.default.bool}},3324:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}});var _pipeline=__webpack_require__(3325)},3325:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=void 0;var _make_statement=__webpack_require__(1125);var _queue_vertex=__webpack_require__(583);var _utils=__webpack_require__(1126);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function getInputStatements(pipelineGraph){return pipelineGraph.getVertices().filter((function(v){return v.pipelineStage==="input"})).map(_make_statement.makeStatement)}function isFilterStageVertex(vertex){return vertex.pipelineStage==="filter"}function isVertexOrphan(vertex){return vertex.incomingVertices.length===0}function isVertexChildOfQueue(vertex){return vertex.incomingVertices.every((function(p){return p instanceof _queue_vertex.QueueVertex}))}function getFilterStatements(pipelineGraph){var allVertices=pipelineGraph.getVertices();var allFilterVertices=allVertices.filter((function(v){return isFilterStageVertex(v)}));var startFilterVertex=pipelineGraph.hasQueueVertex?allFilterVertices.find((function(v){return isVertexChildOfQueue(v)})):allFilterVertices.find((function(v){return isVertexOrphan(v)}));if(!startFilterVertex){return[]}var filterStatements=[];var currentVertex=startFilterVertex;while((0,_utils.isVertexPipelineStage)(currentVertex,"filter")){filterStatements.push((0,_make_statement.makeStatement)(currentVertex,"filter"));currentVertex=currentVertex.next}return filterStatements}function getQueue(pipelineGraph){return pipelineGraph.hasQueueVertex?(0,_make_statement.makeStatement)(pipelineGraph.queueVertex):null}function getOutputStatements(pipelineGraph){return pipelineGraph.getVertices().filter((function(v){return v.pipelineStage==="output"&&!v.incomingVertices.some((function(p){return p.pipelineStage==="output"}))})).map((function(v){return(0,_make_statement.makeStatement)(v,"output")}))}var Pipeline=function(){function Pipeline(inputStatements,filterStatements,outputStatements,queue){_classCallCheck(this,Pipeline);this.inputStatements=inputStatements;this.filterStatements=filterStatements;this.outputStatements=outputStatements;this.queue=queue}_createClass(Pipeline,null,[{key:"fromPipelineGraph",value:function fromPipelineGraph(pipelineGraph){var inputStatements=getInputStatements(pipelineGraph);var filterStatements=getFilterStatements(pipelineGraph);var outputStatements=getOutputStatements(pipelineGraph);var queue=getQueue(pipelineGraph);return new Pipeline(inputStatements,filterStatements,outputStatements,queue)}}]);return Pipeline}();exports.Pipeline=Pipeline},3326:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfStatement=void 0;var _statement=__webpack_require__(584);var _make_statement=__webpack_require__(1125);var _utils=__webpack_require__(1126);var _if_element=__webpack_require__(1124);var _else_element=__webpack_require__(3327);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function makeStatementsForOutgoingVertices(outgoingVertices,statements,next,pipelineStage){outgoingVertices.forEach((function(vertex){var currentVertex=vertex;while((0,_utils.isVertexPipelineStage)(currentVertex,pipelineStage)&&currentVertex!==next){statements.push((0,_make_statement.makeStatement)(currentVertex,pipelineStage));currentVertex=currentVertex.next}}))}function addStatementsToList(list,statements,depth,id){statements.forEach((function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,id)))}))}var IfStatement=function(_Statement){_inherits(IfStatement,_Statement);function IfStatement(vertex,trueStatements,elseStatements){var _this;_classCallCheck(this,IfStatement);_this=_possibleConstructorReturn(this,_getPrototypeOf(IfStatement).call(this,vertex));var name=vertex.name;_this.condition=name;_this.trueStatements=trueStatements;_this.elseStatements=elseStatements;return _this}_createClass(IfStatement,[{key:"toList",value:function toList(depth,parentId){var list=[];var ifElement=new _if_element.IfElement(this,depth,parentId);list.push(ifElement);var nestedElementDepth=depth+1;addStatementsToList(list,this.trueStatements,nestedElementDepth,ifElement.id);if(this.elseStatements.length){var elseElement=new _else_element.ElseElement(this,depth,parentId);list.push(elseElement);addStatementsToList(list,this.elseStatements,nestedElementDepth,elseElement.id)}return list}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(ifVertex,pipelineStage){var trueStatements=[];var elseStatements=[];var trueOutgoingVertices=ifVertex.trueOutgoingVertices,falseOutgoingVertices=ifVertex.falseOutgoingVertices;var next=ifVertex.next;makeStatementsForOutgoingVertices(trueOutgoingVertices,trueStatements,next,pipelineStage);makeStatementsForOutgoingVertices(falseOutgoingVertices,elseStatements,next,pipelineStage);return new IfStatement(ifVertex,trueStatements,elseStatements)}}]);return IfStatement}(_statement.Statement);exports.IfStatement=IfStatement},3327:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElseElement=void 0;var _element=__webpack_require__(585);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ElseElement=function(_Element){_inherits(ElseElement,_Element);function ElseElement(statement,depth,parentId){_classCallCheck(this,ElseElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(ElseElement).call(this,"".concat(id,"_else"),statement,depth,parentId))}return ElseElement}(_element.Element);exports.ElseElement=ElseElement},3328:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=void 0;var _statement=__webpack_require__(584);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Queue=function(_Statement){_inherits(Queue,_Statement);function Queue(){_classCallCheck(this,Queue);return _possibleConstructorReturn(this,_getPrototypeOf(Queue).apply(this,arguments))}_createClass(Queue,null,[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(queueVertex){return new Queue(queueVertex)}}]);return Queue}(_statement.Statement);exports.Queue=Queue},3329:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3330);var _index=_interopRequireDefault(__webpack_require__(3331));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_BEATS]})},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseCo){_inherits(BeatsOverview,_MonitoringViewBaseCo);function BeatsOverview($injector,$scope){var _this;_classCallCheck(this,BeatsOverview);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatsOverview).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.overview.routeTitle",{defaultMessage:"Beats - Overview"}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;return _this}return BeatsOverview}(_.MonitoringViewBaseController)})},333:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListingCallOut=ListingCallOut;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _formatting=__webpack_require__(330);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var MIGRATE_TO_MB_LABEL=_i18n.i18n.translate("xpack.monitoring.setupMode.migrateToMetricbeat",{defaultMessage:"Monitor with Metricbeat"});function ListingCallOut(_ref){var setupModeData=_ref.setupModeData,productName=_ref.productName,_ref$customRenderer=_ref.customRenderer,customRenderer=_ref$customRenderer===void 0?null:_ref$customRenderer;if(customRenderer){var _customRenderer=customRenderer(),shouldRender=_customRenderer.shouldRender,componentToRender=_customRenderer.componentToRender;if(shouldRender){return componentToRender}}var mightExist=(0,_lodash.get)(setupModeData,"detected.mightExist");var hasInstances=setupModeData.totalUniqueInstanceCount>0;if(!hasInstances){if(mightExist){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.setupMode.detectedNodeTitle",{defaultMessage:"{product} {identifier} detected",values:{product:(0,_formatting.formatProductName)(productName),identifier:(0,_formatting.getIdentifier)(productName)}}),color:"warning",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.setupMode.detectedNodeDescription",{defaultMessage:"Click 'Set up monitoring' below to start monitoring this {identifier}.",values:{identifier:(0,_formatting.getIdentifier)(productName)}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.setupMode.noMonitoringDataFound",{defaultMessage:"No {product} {identifier} detected",values:{product:(0,_formatting.formatProductName)(productName),identifier:(0,_formatting.getIdentifier)(productName,true)}}),iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.setupMode.netNewUserDescription",{defaultMessage:"Click 'Set up monitoring' to start monitoring with Metricbeat."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}if(setupModeData.totalUniqueFullyMigratedCount===setupModeData.totalUniqueInstanceCount){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.setupMode.metricbeatAllNodes",{defaultMessage:"Metricbeat is monitoring all {identifier}.",values:{identifier:(0,_formatting.getIdentifier)(productName,true)}}),color:"success",iconType:"flag"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}if(setupModeData.totalUniquePartiallyMigratedCount===setupModeData.totalUniqueInstanceCount){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.monitoring.setupMode.disableInternalCollectionTitle",{defaultMessage:"Disable self monitoring"}),color:"warning",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.setupMode.disableInternalCollectionDescription",{defaultMessage:"Metricbeat is now monitoring your {product} {identifier}. Disable self monitoring to finish the migration.",values:{product:(0,_formatting.formatProductName)(productName),identifier:(0,_formatting.getIdentifier)(productName,true)}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}if(setupModeData.totalUniqueInstanceCount>0){if(setupModeData.totalUniqueFullyMigratedCount===0&&setupModeData.totalUniquePartiallyMigratedCount===0){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:MIGRATE_TO_MB_LABEL,color:"danger",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.setupMode.migrateToMetricbeatDescription",{defaultMessage:"These {product} {identifier} are self monitored.\n                Click 'Monitor with Metricbeat' to migrate.",values:{product:(0,_formatting.formatProductName)(productName),identifier:(0,_formatting.getIdentifier)(productName,true)}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:MIGRATE_TO_MB_LABEL,color:"danger",iconType:"flag"},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.monitoring.setupMode.migrateSomeToMetricbeatDescription",{defaultMessage:"Some {product} {identifier} are monitored through self monitoring. Migrate to monitor with Metricbeat.",values:{product:(0,_formatting.formatProductName)(productName),identifier:(0,_formatting.getIdentifier)(productName,true)}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}return null}},3330:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="beats"\n  name="overview"\n  data-test-subj="beatsOverviewPage"\n>\n  <monitoring-beats-overview data="beats.data" on-brush="beats.onBrush" zoom-info="beats.zoomInfo"></monitoring-beats-overview>\n</monitoring-main>\n'},3332:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3333);var _index=_interopRequireDefault(__webpack_require__(3334));var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n2=__webpack_require__(25);var _listing=__webpack_require__(3335);var _renderers=__webpack_require__(277);var _constants=__webpack_require__(19);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats/beats",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_BEATS]})},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseEu){_inherits(BeatsListing,_MonitoringViewBaseEu);function BeatsListing($injector,$scope){var _this;_classCallCheck(this,BeatsListing);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatsListing).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.routeTitle",{defaultMessage:"Beats"}),storageKey:"beats.beats",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringBeatsInstancesApp",$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;_this.scope=$scope;_this.injector=$injector;_this.kbnUrl=$injector.get("kbnUrl");_this._isDataInitialized=true;$scope.$watch((function(){return _this.data}),(function(){return _this.renderComponent()}));return _this}_createClass(BeatsListing,[{key:"renderComponent",value:function renderComponent(){var _this2=this;var _this$scope$beats=this.scope.beats,sorting=_this$scope$beats.sorting,pagination=_this$scope$beats.pagination,onTableChange=_this$scope$beats.onTableChange;this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:this.scope,injector:this.injector,productName:_constants.BEATS_SYSTEM_ID,render:function render(_ref){var setupMode=_ref.setupMode,flyoutComponent=_ref.flyoutComponent,bottomBarComponent=_ref.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_listing.Listing,{stats:_this2.data.stats,data:_this2.data.listing,setupMode:setupMode,sorting:_this2.sorting||sorting,pagination:_this2.pagination||pagination,onTableChange:_this2.onTableChange||onTableChange,angular:{kbnUrl:_this2.kbnUrl,scope:_this2.scope}}),bottomBarComponent)}})))}}]);return BeatsListing}(_.MonitoringViewBaseEuiTableController)})},3333:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats/beats");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="beats"\n  name="beats"\n  data-test-subj="beatsListingPage"\n>\n  <div id="monitoringBeatsInstancesApp" ng-init="beats.renderComponent()"></div>\n</monitoring-main>'},3335:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _beats=__webpack_require__(1089);var _format_number=__webpack_require__(49);var _table=__webpack_require__(131);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);var _listing_callout=__webpack_require__(333);var _badge=__webpack_require__(332);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Listing=function(_PureComponent){_inherits(Listing,_PureComponent);function Listing(){_classCallCheck(this,Listing);return _possibleConstructorReturn(this,_getPrototypeOf(Listing).apply(this,arguments))}_createClass(Listing,[{key:"getColumns",value:function getColumns(){var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;var setupMode=this.props.setupMode;return[{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,beat){var setupModeStatus=null;if(setupMode&&setupMode.enabled){var list=(0,_lodash.get)(setupMode,"data.byUuid",{});var status=list[beat.uuid]||{};var instance={uuid:beat.uuid,name:beat.name};setupModeStatus=_react.default.createElement("div",{className:"monTableCell__setupModeStatus"},_react.default.createElement(_badge.SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:_constants.BEATS_SYSTEM_ID}))}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync((function(){kbnUrl.changePath("/beats/beat/".concat(beat.uuid))}))},"data-test-subj":"beatLink-".concat(name)},name),setupModeStatus)}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.typeTitle",{defaultMessage:"Type"}),field:"type"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}},{key:"render",value:function render(){var _this$props=this.props,stats=_this$props.stats,data=_this$props.data,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange,setupMode=_this$props.setupMode;var setupModeCallOut=null;if(setupMode.enabled&&setupMode.data){setupModeCallOut=_react.default.createElement(_listing_callout.ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:_constants.BEATS_SYSTEM_ID})}var types=(0,_lodash.uniq)(data.map((function(item){return item.type}))).map((function(type){return{value:type}}));var versions=(0,_lodash.uniq)(data.map((function(item){return item.version}))).map((function(version){return{value:version}}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_beats.Stats,{stats:stats}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),setupModeCallOut,_react.default.createElement(_table.EuiMonitoringTable,{className:"beatsTable",rows:data,setupMode:setupMode,productName:_constants.BEATS_SYSTEM_ID,columns:this.getColumns(),sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.beats.filterBeatsPlaceholder",{defaultMessage:"Filter Beats..."})},filters:[{type:"field_value_selection",field:"type",name:_i18n.i18n.translate("xpack.monitoring.beats.instances.typeFilter",{defaultMessage:"Type"}),options:types,multiSelect:"or"},{type:"field_value_selection",field:"version",name:_i18n.i18n.translate("xpack.monitoring.beats.instances.versionFilter",{defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name","type"]}}))))}}]);return Listing}(_react.PureComponent);exports.Listing=Listing},3336:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _=__webpack_require__(101);var _get_page_data=__webpack_require__(3337);var _index=_interopRequireDefault(__webpack_require__(3338));var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats/beat/:beatUuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_BEATS]})},pageData:_get_page_data.getPageData},controllerAs:"beat",controller:function(_MonitoringViewBaseCo){_inherits(BeatDetail,_MonitoringViewBaseCo);function BeatDetail($injector,$scope){var _this;_classCallCheck(this,BeatDetail);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var pageData=$route.current.locals.pageData;_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatDetail).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.instance.routeTitle",{defaultMessage:"Beats - {instanceName} - Overview",values:{instanceName:pageData.summary.name}}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=pageData;return _this}return BeatDetail}(_.MonitoringViewBaseController)})},3337:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(59);var _timefilter=__webpack_require__(55);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats/beat/").concat($route.current.params.beatUuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then((function(response){return response.data})).catch((function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}))}},3338:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="beats"\n  name="detail"\n  instance="{{ beat.data.summary.name }}"\n  resolver="{{ beat.data.summary.uuid }}"\n  page="overview"\n  data-test-subj="beatDetailPage"\n>\n  <monitoring-beats-beat data="beat.data" on-brush="beat.onBrush" zoom-info="beat.zoomInfo"></monitoring-beats-beat>\n</monitoring-main>\n'},3339:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3340));var _base_controller=__webpack_require__(100);var _overview=__webpack_require__(3341);var _i18n=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_APM]})}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"APM",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm"),defaultData:{},reactNodeId:"apmOverviewReact",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(data)}));return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var component=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.ApmOverview,_extends({},data,{onBrush:this.onBrush,zoomInfo:this.zoomInfo})));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},334:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HealthStatusIndicator=HealthStatusIndicator;exports.ClusterItemContainer=ClusterItemContainer;exports.BytesUsage=BytesUsage;exports.BytesPercentageUsage=BytesPercentageUsage;exports.DisabledIfNoDataAndInSetupModeLink=DisabledIfNoDataAndInSetupModeLink;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(49);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function HealthStatusIndicator(props){var statusColorMap={green:"success",yellow:"warning",red:"danger"};var statusColor=statusColorMap[props.status]||"n/a";return _react.default.createElement(_eui.EuiHealth,{color:statusColor,"data-test-subj":"statusIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.healthStatusDescription",defaultMessage:"Health is {status}",values:{status:props.status||"n/a"}}))}var PanelExtras=function PanelExtras(_ref){var extras=_ref.extras;if(extras===undefined){return null}return _react.default.createElement(_eui.EuiFlexItem,{grow:false},extras)};function ClusterItemContainer(props){var iconMap={elasticsearch:"logoElasticsearch",kibana:"logoKibana",logstash:"logoLogstash",beats:"logoBeats",apm:"apmApp"};var icon=iconMap[props.url];return _react.default.createElement("div",{"data-test-subj":"clusterItemContainer".concat(props.title)},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:icon,size:"l"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,props.title))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},props.statusIndicator),_react.default.createElement(PanelExtras,{extras:props.extras})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),props.children,_react.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}function BytesUsage(_ref2){var usedBytes=_ref2.usedBytes,maxBytes=_ref2.maxBytes;if(usedBytes&&maxBytes){return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiText,null,(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}else if(usedBytes){return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiText,null,(0,_format_number.formatNumber)(usedBytes,"byte")))}return null}function BytesPercentageUsage(_ref3){var usedBytes=_ref3.usedBytes,maxBytes=_ref3.maxBytes;if(usedBytes&&maxBytes){return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}return _react.default.createElement(_eui.EuiText,null,"0")}function DisabledIfNoDataAndInSetupModeLink(_ref4){var setupModeEnabled=_ref4.setupModeEnabled,setupModeData=_ref4.setupModeData,children=_ref4.children,props=_objectWithoutProperties(_ref4,["setupModeEnabled","setupModeData","children"]);if(setupModeEnabled&&(0,_lodash.get)(setupModeData,"totalUniqueInstanceCount",0)===0){return children}return _react.default.createElement(_eui.EuiLink,props,children)}},3340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="apm"\n  name="overview"\n  data-test-subj="apmOverviewPage"\n>\n  <div id="apmOverviewReact"></div>\n</monitoring-main>\n'},3341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmOverview=ApmOverview;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(115);var _eui=__webpack_require__(2);var _status=__webpack_require__(1127);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ApmOverview(_ref){var stats=_ref.stats,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["stats","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map((function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:stats}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},3342:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3343));var _instances=__webpack_require__(3344);var _=__webpack_require__(101);var _i18n2=__webpack_require__(25);var _renderers=__webpack_require__(277);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm/instances",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_APM]})}},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.apm.instances.routeTitle",{defaultMessage:"{apm} - Instances",values:{apm:"APM"}}),storageKey:"apm.instances",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm/instances"),defaultData:{},reactNodeId:"apmInstancesReact",$scope:$scope,$injector:$injector}));_this.scope=$scope;_this.injector=$injector;$scope.$watch((function(){return _this.data}),(function(data){_this.renderReact(data)}));return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var pagination=this.pagination,sorting=this.sorting,onTableChange=this.onTableChange;var component=_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_renderers.SetupModeRenderer,{scope:this.scope,injector:this.injector,productName:_constants.APM_SYSTEM_ID,render:function render(_ref){var setupMode=_ref.setupMode,flyoutComponent=_ref.flyoutComponent,bottomBarComponent=_ref.bottomBarComponent;return _react.default.createElement(_react.Fragment,null,flyoutComponent,_react.default.createElement(_instances.ApmServerInstances,{setupMode:setupMode,apms:{pagination:pagination,sorting:sorting,onTableChange:onTableChange,data:data}}),bottomBarComponent)}}));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_.MonitoringViewBaseEuiTableController)})},3343:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="apm"\n  name="apms"\n  data-test-subj="apmInstancesPage"\n>\n  <div id="apmInstancesReact"></div>\n</monitoring-main>\n'},3344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ApmServerInstances",{enumerable:true,get:function get(){return _instances.ApmServerInstances}});var _instances=__webpack_require__(3345)},3345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmServerInstances=ApmServerInstances;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _lodash=__webpack_require__(3);var _table=__webpack_require__(131);var _eui=__webpack_require__(2);var _status=__webpack_require__(1127);var _format_number=__webpack_require__(49);var _common=__webpack_require__(276);var _i18n=__webpack_require__(1);var _constants=__webpack_require__(19);var _listing_callout=__webpack_require__(333);var _badge=__webpack_require__(332);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getColumns(setupMode){return[{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,apm){var setupModeStatus=null;if(setupMode&&setupMode.enabled){var list=(0,_lodash.get)(setupMode,"data.byUuid",{});var status=list[apm.uuid]||{};var instance={uuid:apm.uuid,name:apm.name};setupModeStatus=_react.default.createElement("div",{className:"monTableCell__setupModeStatus"},_react.default.createElement(_badge.SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:_constants.APM_SYSTEM_ID}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiLink,{href:"#/apm/instances/".concat(apm.uuid),"data-test-subj":"apmLink-".concat(name)},name),setupModeStatus)}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.lastEventTitle",{defaultMessage:"Last Event"}),field:"time_of_last_event",render:function render(value){return _i18n.i18n.translate("xpack.monitoring.apm.instances.lastEventValue",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(value),"since")}})}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}function ApmServerInstances(_ref){var apms=_ref.apms,setupMode=_ref.setupMode;var pagination=apms.pagination,sorting=apms.sorting,onTableChange=apms.onTableChange,data=apms.data;var setupModeCallout=null;if(setupMode.enabled&&setupMode.data){setupModeCallout=_react.default.createElement(_listing_callout.ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:_constants.APM_SYSTEM_ID})}var versions=(0,_lodash.uniq)(data.apms.map((function(item){return item.version}))).map((function(version){return{value:version}}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:data.stats}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),setupModeCallout,_react.default.createElement(_table.EuiMonitoringTable,{className:"apmInstancesTable",rows:data.apms,columns:getColumns(setupMode),sorting:sorting,pagination:pagination,setupMode:setupMode,productName:_constants.APM_SYSTEM_ID,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.apm.instances.filterInstancesPlaceholder",{defaultMessage:"Filter Instances"})},filters:[{type:"field_value_selection",field:"version",name:_i18n.i18n.translate("xpack.monitoring.apm.instances.versionFilter",{defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}},3346:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(1);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(43));var _route_init=__webpack_require__(47);var _index=_interopRequireDefault(__webpack_require__(3347));var _base_controller=__webpack_require__(100);var _instance=__webpack_require__(3348);var _i18n2=__webpack_require__(25);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm/instances/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit({codePaths:[_constants.CODE_PATH_APM]})}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var title=$injector.get("title");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.apm.instance.routeTitle",{defaultMessage:"{apm} - Instance",values:{apm:"APM"}}),api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm/").concat($route.current.params.uuid),defaultData:{},reactNodeId:"apmInstanceReact",$scope:$scope,$injector:$injector}));$scope.$watch((function(){return _this.data}),(function(data){title($scope.cluster,"APM - ".concat((0,_lodash.get)(data,"apmSummary.name")));_this.renderReact(data)}));return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var component=_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_instance.ApmServerInstance,{summary:data.apmSummary||{},metrics:data.metrics||{},onBrush:this.onBrush,zoomInfo:this.zoomInfo}));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},3347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<monitoring-main\n  product="apm"\n  name="apm"\n  instance="{{ pageData.apmSummary.name }}"\n  data-test-subj="apmInstancePage"\n>\n  <div id="apmInstanceReact"></div>\n</monitoring-main>\n'},3348:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ApmServerInstance",{enumerable:true,get:function get(){return _instance.ApmServerInstance}});var _instance=__webpack_require__(3349)},3349:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmServerInstance=ApmServerInstance;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(115);var _eui=__webpack_require__(2);var _status=__webpack_require__(3350);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ApmServerInstance(_ref){var summary=_ref.summary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["summary","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map((function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))}));return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:summary}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},335:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetupModeTooltip=SetupModeTooltip;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(1);var _formatting=__webpack_require__(330);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SetupModeTooltip(_ref){var setupModeData=_ref.setupModeData,badgeClickAction=_ref.badgeClickAction,productName=_ref.productName;if(!setupModeData){return null}var totalUniqueInstanceCount=setupModeData.totalUniqueInstanceCount,totalUniqueFullyMigratedCount=setupModeData.totalUniqueFullyMigratedCount,totalUniquePartiallyMigratedCount=setupModeData.totalUniquePartiallyMigratedCount;var allMonitoredByMetricbeat=totalUniqueInstanceCount>0&&(totalUniqueFullyMigratedCount===totalUniqueInstanceCount||totalUniquePartiallyMigratedCount===totalUniqueInstanceCount);var internalCollectionOn=totalUniquePartiallyMigratedCount>0;var mightExist=(0,_lodash.get)(setupModeData,"detected.mightExist")||(0,_lodash.get)(setupModeData,"detected.doesExist");var tooltip=null;if(totalUniqueInstanceCount===0){if(mightExist){var detectedText=_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.detected",{defaultMessage:"No monitoring"});tooltip=_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.mightExist",{defaultMessage:"We detected usage of this product. Click to start monitoring."})},_react.default.createElement(_eui.EuiBadge,{color:"warning",iconType:"flag",onClick:badgeClickAction,onClickAriaLabel:detectedText},detectedText))}else{var noMonitoringText=_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.noUsage",{defaultMessage:"No usage"});tooltip=_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.noUsageDetected",{defaultMessage:"We did not detect any usage. Click to view {identifier}.",values:{identifier:(0,_formatting.getIdentifier)(productName,true)}})},_react.default.createElement(_eui.EuiBadge,{color:"hollow",iconType:"flag",onClick:badgeClickAction,onClickAriaLabel:noMonitoringText},noMonitoringText))}}else if(!allMonitoredByMetricbeat){var internalCollection=_i18n.i18n.translate("xpack.monitoring.euiTable.isInternalCollectorLabel",{defaultMessage:"Self monitoring"});tooltip=_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.oneInternal",{defaultMessage:"At least one {identifier} isnt monitored using Metricbeat. Click to view status.",values:{identifier:(0,_formatting.getIdentifier)(productName)}})},_react.default.createElement(_eui.EuiBadge,{color:"danger",iconType:"flag",onClick:badgeClickAction,onClickAriaLabel:internalCollection},internalCollection))}else if(internalCollectionOn){var internalAndMB=_i18n.i18n.translate("xpack.monitoring.euiTable.isPartiallyMigratedLabel",{defaultMessage:"Self monitoring is on"});tooltip=_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.disableInternal",{defaultMessage:"Metricbeat is monitoring all {identifierPlural}. Click to view {identifierPlural} and disable self monitoring.",values:{identifierPlural:(0,_formatting.getIdentifier)(productName,true)}})},_react.default.createElement(_eui.EuiBadge,{color:"warning",iconType:"flag",onClick:badgeClickAction,onClickAriaLabel:internalAndMB},internalAndMB))}else{var metricbeatCollection=_i18n.i18n.translate("xpack.monitoring.euiTable.isFullyMigratedLabel",{defaultMessage:"Metricbeat monitoring"});tooltip=_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_i18n.i18n.translate("xpack.monitoring.setupMode.tooltip.allSet",{defaultMessage:"Metricbeat is monitoring all {identifierPlural}.",values:{identifierPlural:(0,_formatting.getIdentifier)(productName,true)}})},_react.default.createElement(_eui.EuiBadge,{color:"secondary",iconType:"flag",onClick:badgeClickAction,onClickAriaLabel:metricbeatCollection},metricbeatCollection))}return _react.default.createElement(_eui.EuiFlexItem,{grow:false},tooltip)}},3350:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=Status;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(15));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(1128);var _format_number=__webpack_require__(49);var _common=__webpack_require__(276);var _constants=__webpack_require__(19);var _react2=__webpack_require__(4);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function Status(_ref){var stats=_ref.stats;var name=stats.name,output=stats.output,version=stats.version,uptime=stats.uptime,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.nameLabel",{defaultMessage:"Name"}),value:name,"data-test-subj":"name"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.outputLabel",{defaultMessage:"Output"}),value:output,"data-test-subj":"output"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.uptimeLabel",{defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"},{label:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.lastEventLabel",{defaultMessage:"Last Event"}),value:_i18n.i18n.translate("xpack.monitoring.apm.instance.status.lastEventDescription",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.apm.instance.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}},3351:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.plugin=plugin;var _plugin=__webpack_require__(3352);function plugin(ctx){return new _plugin.MonitoringPlugin(ctx)}},3352:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringPlugin=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var MonitoringPlugin=function(){function MonitoringPlugin(ctx){_classCallCheck(this,MonitoringPlugin)}_createClass(MonitoringPlugin,[{key:"setup",value:function setup(core,plugins){var app={id:"monitoring",title:"Monitoring",mount:function(){var _mount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(context,params){var _ref,AngularApp,monitoringApp;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(29).then(__webpack_require__.t.bind(null,5219,7));case 2:_ref=_context.sent;AngularApp=_ref.AngularApp;monitoringApp=new AngularApp(context,params);return _context.abrupt("return",monitoringApp.destroy);case 6:case"end":return _context.stop()}}}),_callee)})));function mount(_x,_x2){return _mount.apply(this,arguments)}return mount}()};core.application.register(app)}},{key:"start",value:function start(core,plugins){}},{key:"stop",value:function stop(){}}]);return MonitoringPlugin}();exports.MonitoringPlugin=MonitoringPlugin},37:function(module,exports){module.exports=vendors_2},3707:function(module,exports,__webpack_require__){module.exports=__webpack_require__(41)(1141)},387:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"npSetup",{enumerable:true,get:function get(){return _new_platform.npSetup}});Object.defineProperty(exports,"npStart",{enumerable:true,get:function get(){return _new_platform.npStart}});Object.defineProperty(exports,"GlobalStateProvider",{enumerable:true,get:function get(){return _global_state.GlobalStateProvider}});Object.defineProperty(exports,"StateManagementConfigProvider",{enumerable:true,get:function get(){return _config_provider.StateManagementConfigProvider}});Object.defineProperty(exports,"AppStateProvider",{enumerable:true,get:function get(){return _app_state.AppStateProvider}});Object.defineProperty(exports,"EventsProvider",{enumerable:true,get:function get(){return _events.EventsProvider}});Object.defineProperty(exports,"KbnUrlProvider",{enumerable:true,get:function get(){return _url.KbnUrlProvider}});Object.defineProperty(exports,"registerTimefilterWithGlobalStateFactory",{enumerable:true,get:function get(){return _setup_router.registerTimefilterWithGlobalStateFactory}});var _new_platform=__webpack_require__(9);var _global_state=__webpack_require__(518);var _config_provider=__webpack_require__(871);var _app_state=__webpack_require__(386);var _events=__webpack_require__(868);var _url=__webpack_require__(263);var _setup_router=__webpack_require__(1030)},39:function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},4:function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},40:function(module,exports){module.exports=vendors_1},41:function(module,exports){module.exports=vendors_0},42:function(module,exports){module.exports=__kbnSharedDeps__.Angular},429:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=ClusterStatus;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _status_icon=__webpack_require__(577);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatus(_ref){var stats=_ref.stats;var dataSize=stats.dataSize,nodesCount=stats.nodesCount,indicesCount=stats.indicesCount,memUsed=stats.memUsed,memMax=stats.memMax,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,documentCount=stats.documentCount,status=stats.status;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.nodesLabel",{defaultMessage:"Nodes"}),value:nodesCount,"data-test-subj":"nodesCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.indicesLabel",{defaultMessage:"Indices"}),value:indicesCount,"data-test-subj":"indicesCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.memoryLabel",{defaultMessage:"JVM Heap"}),value:(0,_format_number.formatMetric)(memUsed,"byte")+" / "+(0,_format_number.formatMetric)(memMax,"byte"),"data-test-subj":"memory"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.totalShardsLabel",{defaultMessage:"Total shards"}),value:totalShards,"data-test-subj":"totalShards"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.unassignedShardsLabel",{defaultMessage:"Unassigned shards"}),value:unassignedShards,"data-test-subj":"unassignedShards"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.documentsLabel",{defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"int_commas"),"data-test-subj":"documentCount"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.clusterStatus.dataLabel",{defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"byte"),"data-test-subj":"dataSize"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchClusterStatus"})}},43:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Routes=function Routes(){var _this=this;_classCallCheck(this,Routes);_defineProperty(this,"_routes",[]);_defineProperty(this,"_redirect",void 0);_defineProperty(this,"when",(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var routeOptions=args[1];routeOptions.reloadOnSearch=false;_this._routes.push(args);return _this}));_defineProperty(this,"otherwise",(function(redirect){_this._redirect=redirect;return _this}));_defineProperty(this,"addToProvider",(function($routeProvider){_this._routes.forEach((function(args){$routeProvider.when.apply(_this,args)}));if(_this._redirect){$routeProvider.otherwise(_this._redirect)}}))};var uiRoutes=new Routes;var _default=uiRoutes;exports.default=_default;module.exports=exports.default},430:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatTimestampToDuration=formatTimestampToDuration;var _moment=_interopRequireDefault(__webpack_require__(15));__webpack_require__(663);var _constants=__webpack_require__(19);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTimestampToDuration(timestamp,calculationFlag,initialTime){initialTime=initialTime||(0,_moment.default)();var timeDuration;if(calculationFlag===_constants.CALCULATE_DURATION_SINCE){timeDuration=_moment.default.duration(initialTime-(0,_moment.default)(timestamp))}else if(calculationFlag===_constants.CALCULATE_DURATION_UNTIL){timeDuration=_moment.default.duration((0,_moment.default)(timestamp)-initialTime)}else{throw new Error('[formatTimestampToDuration] requires a [calculationFlag] parameter to specify format as "since" or "until" the given time.')}var duration;if(Math.abs(initialTime.diff(timestamp,"months"))>=1){duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_LONG)}else if(Math.abs(initialTime.diff(timestamp,"minutes"))>=1){duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_SHORT)}else{duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_TINY)}return duration.replace(/ 0 mins$/,"").replace(/ 0 hrs$/,"").replace(/ 0 days$/,"")}},47:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.routeInitProvider=routeInitProvider;var _lodash=_interopRequireDefault(__webpack_require__(3));var _ajax_error_handler=__webpack_require__(59);var _setup_mode=__webpack_require__(275);var _get_cluster_from_clusters=__webpack_require__(3176);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function routeInitProvider(Private,monitoringClusters,globalState,license,kbnUrl){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);function isOnPage(hash){return _lodash.default.contains(window.location.hash,hash)}return function routeInit(_ref){var codePaths=_ref.codePaths,fetchAllClusters=_ref.fetchAllClusters;var clusterUuid=fetchAllClusters?null:globalState.cluster_uuid;return monitoringClusters(clusterUuid,undefined,codePaths).then((function(clusters){var inSetupMode=(0,_setup_mode.isInSetupMode)();var cluster=(0,_get_cluster_from_clusters.getClusterFromClusters)(clusters,globalState);if(!cluster&&!inSetupMode){return kbnUrl.redirect("/no-data")}if(cluster){license.setLicense(cluster.license);if(!(isOnPage("license")||isOnPage("home"))&&license.isExpired()){return kbnUrl.redirect("/license")}var clusterSupported=cluster.isSupported||clusters.length===1;if(!isOnPage("home")&&!clusterSupported){return kbnUrl.redirect("/home")}}return clusters})).catch(ajaxErrorHandlers)}}},48:function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},49:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatBytesUsage=formatBytesUsage;exports.formatPercentageUsage=formatPercentageUsage;exports.formatNumber=formatNumber;exports.formatMetric=formatMetric;var _moment=_interopRequireDefault(__webpack_require__(15));__webpack_require__(663);var _numeral=_interopRequireDefault(__webpack_require__(164));var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatBytesUsage(used,max){return formatNumber(used,"byte")+" / "+formatNumber(max,"byte")}function formatPercentageUsage(used,max){return formatNumber(used/max,"0.00%")}function formatNumber(num,which){var isNan=Number.isNaN(num);var format="0,0.0";if(typeof num!=="number"||isNan){if(num!==undefined&&!isNan){return num}num=0;format="0"}var postfix="";switch(which){case"time_since":return(0,_moment.default)((0,_moment.default)()-num).from((0,_moment.default)(),true);case"time":return(0,_moment.default)(num).format("H:mm:ss");case"int_commas":format="0,0";break;case"byte":case"bytes":format+=" b";break;case"ms":postfix="ms";break;default:if(which){format=which}}return(0,_numeral.default)(num).format(format)+postfix}function formatMetric(value,format,suffix){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var _options$prependSpace=options.prependSpace,prependSpace=_options$prependSpace===void 0?true:_options$prependSpace;if(Boolean(value)||value===0){var _suffix="";if(suffix!==undefined){if(prependSpace){_suffix=" ".concat(suffix)}else{_suffix=suffix}}return formatNumber(value,format)+_suffix}return _i18n.i18n.translate("xpack.monitoring.formatNumbers.notAvailableLabel",{defaultMessage:"N/A"})}},55:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerTimefilterWithGlobalState=exports.timefilter=void 0;var _legacy_imports=__webpack_require__(387);var uiSettings=_legacy_imports.npStart.core.uiSettings;var timefilter=_legacy_imports.npStart.plugins.data.query.timefilter.timefilter;exports.timefilter=timefilter;uiSettings.overrideLocalDefault("timepicker:refreshIntervalDefaults",JSON.stringify({value:1e4,pause:false}));uiSettings.overrideLocalDefault("timepicker:timeDefaults",JSON.stringify({from:"now-1h",to:"now"}));var registerTimefilterWithGlobalState=function registerTimefilterWithGlobalState(app){app.run((function(globalState,$rootScope){globalState.fetch();globalState.$inheritedGlobalState=true;globalState.save();(0,_legacy_imports.registerTimefilterWithGlobalStateFactory)(timefilter,globalState,$rootScope)}))};exports.registerTimefilterWithGlobalState=registerTimefilterWithGlobalState},577:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchStatusIcon=ElasticsearchStatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(233);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ElasticsearchStatusIcon(_ref){var status=_ref.status;var type=function(){var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.GRAY}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.healthStatusLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}},578:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mapSeverity=mapSeverity;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function mapSeverity(severity){var floor=Math.floor(severity/1e3);var mapped;switch(floor){case 0:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.lowSeverityName",{defaultMessage:"low"}),color:"warning",iconType:"iInCircle"};break;case 1:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.mediumSeverityName",{defaultMessage:"medium"}),color:"warning",iconType:"alert"};break;default:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.highSeverityName",{defaultMessage:"high"}),color:"danger",iconType:"bell"};break}return _objectSpread({title:_i18n.i18n.translate("xpack.monitoring.alerts.severityTitle",{defaultMessage:"{severity} severity alert",values:{severity:(0,_lodash.capitalize)(mapped.value)}})},mapped)}},579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaStatusIcon=KibanaStatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(233);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function KibanaStatusIcon(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===void 0?true:_ref$availability;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:_i18n.i18n.translate("xpack.monitoring.kibana.statusIconLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}},580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=ClusterStatus;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatus(_ref){var stats=_ref.stats;var nodeCount=stats.node_count,avgMemoryUsed=stats.avg_memory_used,avgMemory=stats.avg_memory,eventsInTotal=stats.events_in_total,eventsOutTotal=stats.events_out_total;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.logstash.clusterStatus.nodesLabel",{defaultMessage:"Nodes"}),value:nodeCount,"data-test-subj":"node_count"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.clusterStatus.memoryLabel",{defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(avgMemoryUsed,"byte")+" / "+(0,_format_number.formatMetric)(avgMemory,"byte"),"data-test-subj":"memory_used"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.clusterStatus.eventsReceivedLabel",{defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(eventsInTotal,"0.[0]a"),"data-test-subj":"events_in_total"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.clusterStatus.eventsEmittedLabel",{defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(eventsOutTotal,"0.[0]a"),"data-test-subj":"events_out_total"}];return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashClusterStatus"})}},581:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=DetailStatus;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(144);var _format_number=__webpack_require__(49);var _i18n=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatus(_ref){var stats=_ref.stats;var httpAddress=stats.http_address,events=stats.events,reloads=stats.reloads,pipeline=stats.pipeline,queueType=stats.queue_type,version=stats.version,uptime=stats.uptime;var firstMetrics=[{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.transportAddressLabel",{defaultMessage:"Transport Address"}),value:httpAddress,"data-test-subj":"httpAddress"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.eventsReceivedLabel",{defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(events.in,"0.[0]a"),"data-test-subj":"eventsIn"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.eventsEmittedLabel",{defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(events.out,"0.[0]a"),"data-test-subj":"eventsOut"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.configReloadsLabel",{defaultMessage:"Config Reloads"}),value:reloads.successes,"data-test-subj":"numReloads"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.pipelineWorkersLabel",{defaultMessage:"Pipeline Workers"}),value:pipeline.workers,"data-test-subj":"pipelineWorkers"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.batchSizeLabel",{defaultMessage:"Batch Size"}),value:pipeline.batch_size,"data-test-subj":"pipelineBatchSize"}];var lastMetrics=[{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.uptimeLabel",{defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var metrics=[].concat(firstMetrics);if(queueType){metrics.push({label:_i18n.i18n.translate("xpack.monitoring.logstash.detailStatus.queueTypeLabel",{defaultMessage:"Queue Type"}),value:queueType,"data-test-subj":"queueType"})}metrics.push.apply(metrics,lastMetrics);return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashDetailStatus"})}},582:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Vertex=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Vertex=function(){function Vertex(graph,json){_classCallCheck(this,Vertex);this.graph=graph;this.update(json)}_createClass(Vertex,[{key:"update",value:function update(json){this.json=json}},{key:"descendants",value:function descendants(){var vertices=[];var edges=[];var pending=[this];var seen={};while(pending.length>0){var vertex=pending.pop();vertex.outgoingEdges.forEach((function(edge){edges.push(edge);var to=edge.to;if(seen[to.id]!==true){vertices.push(to);seen[to.id]=true;pending.push(to)}}))}return{vertices:vertices,edges:edges}}},{key:"name",get:function get(){return this.json.config_name}},{key:"id",get:function get(){return this.json.id}},{key:"subtitle",get:function get(){return this.id}},{key:"incomingEdges",get:function get(){return this.graph.edgesByTo[this.json.id]||[]}},{key:"incomingVertices",get:function get(){return this.incomingEdges.map((function(e){return e.from}))}},{key:"outgoingEdges",get:function get(){return this.graph.edgesByFrom[this.json.id]||[]}},{key:"outgoingVertices",get:function get(){return this.outgoingEdges.map((function(e){return e.to}))}},{key:"meta",get:function get(){return this.json.meta}},{key:"stats",get:function get(){return this.json.stats||{}}},{key:"hasExplicitId",get:function get(){return Boolean(this.json.explicit_id)}}]);return Vertex}();exports.Vertex=Vertex},583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueueVertex=void 0;var _vertex=__webpack_require__(582);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var QueueVertex=function(_Vertex){_inherits(QueueVertex,_Vertex);function QueueVertex(){_classCallCheck(this,QueueVertex);return _possibleConstructorReturn(this,_getPrototypeOf(QueueVertex).apply(this,arguments))}_createClass(QueueVertex,[{key:"typeString",get:function get(){return"queue"}},{key:"title",get:function get(){return"queue"}},{key:"iconType",get:function get(){return"logstashQueue"}},{key:"next",get:function get(){return this.outgoingVertices}}]);return QueueVertex}(_vertex.Vertex);exports.QueueVertex=QueueVertex},584:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Statement=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Statement=function Statement(vertex){_classCallCheck(this,Statement);var id=vertex.id,hasExplicitId=vertex.hasExplicitId,stats=vertex.stats,meta=vertex.meta;this.id=id;this.hasExplicitId=hasExplicitId;this.stats=stats;this.meta=meta;this.vertex=vertex};exports.Statement=Statement},585:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Element=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Element=function Element(id,statement,depth,parentId){_classCallCheck(this,Element);this.id=id;this.statement=statement;this.depth=depth;this.parentId=parentId};exports.Element=Element},59:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatMonitoringError=formatMonitoringError;exports.ajaxErrorHandlersProvider=ajaxErrorHandlersProvider;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _notify=__webpack_require__(60);var _public=__webpack_require__(51);var _eui=__webpack_require__(2);var _react2=__webpack_require__(4);var _public2=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatMonitoringError(err){if(err.status&&err.status!==-1&&err.data){return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,err.data.message),_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.httpErrorMessage",defaultMessage:"HTTP {errStatus}",values:{errStatus:err.status}})))}return(0,_public.formatMsg)(err)}function ajaxErrorHandlersProvider($injector){var kbnUrl=$injector.get("kbnUrl");return function(err){if(err.status===403){kbnUrl.redirect("access-denied")}else if(err.status===404&&!(0,_lodash.contains)(window.location.hash,"no-data")){_notify.toastNotifications.addDanger({title:(0,_public2.toMountPoint)(_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotificationTitle",defaultMessage:"Monitoring Request Failed"})),text:(0,_public2.toMountPoint)(_react.default.createElement("div",null,formatMonitoringError(err),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiButton,{size:"s",color:"danger",onClick:function onClick(){return window.location.reload()}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotification.retryButtonLabel",defaultMessage:"Retry"}))))})}else{_notify.toastNotifications.addDanger({title:(0,_public2.toMountPoint)(_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestErrorNotificationTitle",defaultMessage:"Monitoring Request Error"})),text:(0,_public2.toMountPoint)(formatMonitoringError(err))})}return Promise.reject(err)}}},663:function(module,exports,__webpack_require__){module.exports=__webpack_require__(37)(1780)},77:function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},95:function(module,exports){module.exports=__kbnSharedDeps__.Monaco}});