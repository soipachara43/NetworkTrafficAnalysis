(window["console_bundle_jsonpfunction"]=window["console_bundle_jsonpfunction"]||[]).push([[2],Array(28).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=renderApp;var _react=_interopRequireDefault(__webpack_require__(21));var _reactDom=__webpack_require__(25);var _contexts=__webpack_require__(38);var _containers=__webpack_require__(100);var _services=__webpack_require__(83);var localStorageObjectClient=_interopRequireWildcard(__webpack_require__(181));var _tracker=__webpack_require__(187);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderApp(_ref){var I18nContext=_ref.I18nContext,notifications=_ref.notifications,docLinkVersion=_ref.docLinkVersion,elasticsearchUrl=_ref.elasticsearchUrl,usageCollection=_ref.usageCollection,element=_ref.element;var trackUiMetric=(0,_tracker.createUsageTracker)(usageCollection);trackUiMetric.load("opened_app");var storage=(0,_services.createStorage)({engine:window.localStorage,prefix:"sense:"});var history=(0,_services.createHistory)({storage:storage});var settings=(0,_services.createSettings)({storage:storage});var objectStorageClient=localStorageObjectClient.create(storage);(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(_contexts.ServicesContextProvider,{value:{elasticsearchUrl:elasticsearchUrl,docLinkVersion:docLinkVersion,services:{storage:storage,history:history,settings:settings,notifications:notifications,trackUiMetric:trackUiMetric,objectStorageClient:objectStorageClient}}},_react.default.createElement(_contexts.RequestContextProvider,null,_react.default.createElement(_contexts.EditorContextProvider,{settings:settings.toJSON()},_react.default.createElement(_containers.Main,null))))),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}}},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useServicesContext",{enumerable:true,get:function get(){return _services_context.useServicesContext}});Object.defineProperty(exports,"ServicesContextProvider",{enumerable:true,get:function get(){return _services_context.ServicesContextProvider}});Object.defineProperty(exports,"ContextValue",{enumerable:true,get:function get(){return _services_context.ContextValue}});Object.defineProperty(exports,"useRequestActionContext",{enumerable:true,get:function get(){return _request_context.useRequestActionContext}});Object.defineProperty(exports,"useRequestReadContext",{enumerable:true,get:function get(){return _request_context.useRequestReadContext}});Object.defineProperty(exports,"RequestContextProvider",{enumerable:true,get:function get(){return _request_context.RequestContextProvider}});Object.defineProperty(exports,"useEditorActionContext",{enumerable:true,get:function get(){return _editor_context.useEditorActionContext}});Object.defineProperty(exports,"useEditorReadContext",{enumerable:true,get:function get(){return _editor_context.useEditorReadContext}});Object.defineProperty(exports,"EditorContextProvider",{enumerable:true,get:function get(){return _editor_context.EditorContextProvider}});var _services_context=__webpack_require__(94);var _request_context=__webpack_require__(95);var _editor_context=__webpack_require__(47)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SharedComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _autocomplete_component=__webpack_require__(76);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SharedComponent=function(_AutocompleteComponen){_inherits(SharedComponent,_AutocompleteComponen);function SharedComponent(name,parent){var _this;_classCallCheck(this,SharedComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(SharedComponent).call(this,name));_this._nextDict={};if(parent){parent.addComponent(_assertThisInitialized(_this))}_this._parent=parent;return _this}_createClass(SharedComponent,[{key:"getComponent",value:function getComponent(name){return(this._nextDict[name]||[undefined])[0]}},{key:"addComponent",value:function addComponent(component){var current=this._nextDict[component.name]||[];current.push(component);this._nextDict[component.name]=current;this.next=[].concat.apply([],_lodash.default.values(this._nextDict))}}]);return SharedComponent}(_autocomplete_component.AutocompleteComponent);exports.SharedComponent=SharedComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var $=__webpack_require__(24);var _=__webpack_require__(35);var es=__webpack_require__(56);var POLL_INTERVAL=6e4;var pollTimeoutId;var perIndexTypes={};var perAliasIndexes=[];var templates=[];var mappingObj={};function expandAliases(indicesOrAliases){if(!indicesOrAliases){return indicesOrAliases}if(typeof indicesOrAliases==="string"){indicesOrAliases=[indicesOrAliases]}indicesOrAliases=$.map(indicesOrAliases,(function(iOrA){if(perAliasIndexes[iOrA]){return perAliasIndexes[iOrA]}return[iOrA]}));var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last;ret=$.map(ret,(function(v){var r=last===v?null:v;last=v;return r}));return ret.length>1?ret:ret[0]}function getTemplates(){return _toConsumableArray(templates)}function getFields(indices,types){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}if(typeof types==="string"){var f=typeDict[types];ret=f?f:[]}else{$.each(typeDict,(function(type,fields){if(!types||types.length===0||$.inArray(type,types)!==-1){ret.push(fields)}}));ret=[].concat.apply([],ret)}}else{$.each(perIndexTypes,(function(index){if(!indices||indices.length===0||$.inArray(index,indices)!==-1){ret.push(getFields(index,types))}}));ret=[].concat.apply([],ret)}return _.uniq(ret,(function(f){return f.name+":"+f.type}))}function getTypes(indices){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}$.each(typeDict,(function(type){ret.push(type)}))}else{$.each(perIndexTypes,(function(index){if(!indices||$.inArray(index,indices)!==-1){ret.push(getTypes(index))}}));ret=[].concat.apply([],ret)}return _.uniq(ret)}function getIndices(includeAliases){var ret=[];$.each(perIndexTypes,(function(index){ret.push(index)}));if(typeof includeAliases==="undefined"?true:includeAliases){$.each(perAliasIndexes,(function(alias){ret.push(alias)}))}return ret}function getFieldNamesFromFieldMapping(fieldName,fieldMapping){if(fieldMapping.enabled===false){return[]}var nestedFields;function applyPathSettings(nestedFieldNames){var pathType=fieldMapping.path||"full";if(pathType==="full"){return $.map(nestedFieldNames,(function(f){f.name=fieldName+"."+f.name;return f}))}return nestedFieldNames}if(fieldMapping.properties){nestedFields=getFieldNamesFromProperties(fieldMapping.properties);return applyPathSettings(nestedFields)}var fieldType=fieldMapping.type;var ret={name:fieldName,type:fieldType};if(fieldMapping.index_name){ret.name=fieldMapping.index_name}if(fieldMapping.fields){nestedFields=$.map(fieldMapping.fields,(function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)}));nestedFields=applyPathSettings(nestedFields);nestedFields.unshift(ret);return nestedFields}return[ret]}function getFieldNamesFromProperties(){var properties=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var fieldList=$.map(properties,(function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)}));return _.uniq(fieldList,(function(f){return f.name+":"+f.type}))}function loadTemplates(){var templatesObject=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};templates=Object.keys(templatesObject)}function loadMappings(mappings){perIndexTypes={};$.each(mappings,(function(index,indexMapping){var normalizedIndexMappings={};if(indexMapping.mappings&&_.keys(indexMapping).length===1){indexMapping=indexMapping.mappings}$.each(indexMapping,(function(typeName,typeMapping){if(typeName==="properties"){var fieldList=getFieldNamesFromProperties(typeMapping);normalizedIndexMappings[typeName]=fieldList}else{normalizedIndexMappings[typeName]=[]}}));perIndexTypes[index]=normalizedIndexMappings}))}function loadAliases(aliases){perAliasIndexes={};$.each(aliases||{},(function(index,omdexAliases){perIndexTypes[index]=perIndexTypes[index]||{};$.each(omdexAliases.aliases||{},(function(alias){if(alias===index){return}var curAliases=perAliasIndexes[alias];if(!curAliases){curAliases=[];perAliasIndexes[alias]=curAliases}curAliases.push(index)}))}));perAliasIndexes._all=getIndices(false)}function clear(){perIndexTypes={};perAliasIndexes={};templates=[]}function retrieveSettings(settingsKey,settingsToRetrieve){var settingKeyToPathMap={fields:"_mapping",indices:"_aliases",templates:"_template"};if(settingsToRetrieve[settingsKey]===true){return es.send("GET",settingKeyToPathMap[settingsKey],null)}else{var settingsPromise=new $.Deferred;if(settingsToRetrieve[settingsKey]===false){return settingsPromise.resolveWith(this,[[JSON.stringify({})]])}else{return settingsPromise.resolve()}}}function clearSubscriptions(){if(pollTimeoutId){clearTimeout(pollTimeoutId)}}function retrieveAutoCompleteInfo(settings,settingsToRetrieve){clearSubscriptions();var mappingPromise=retrieveSettings("fields",settingsToRetrieve);var aliasesPromise=retrieveSettings("indices",settingsToRetrieve);var templatesPromise=retrieveSettings("templates",settingsToRetrieve);$.when(mappingPromise,aliasesPromise,templatesPromise).done((function(mappings,aliases,templates){var mappingsResponse;if(mappings){var maxMappingSize=mappings[0].length>10*1024*1024;if(maxMappingSize){console.warn("Mapping size is larger than 10MB (".concat(mappings[0].length/1024/1024," MB). Ignoring..."));mappingsResponse="[{}]"}else{mappingsResponse=mappings[0]}loadMappings(JSON.parse(mappingsResponse))}if(aliases){loadAliases(JSON.parse(aliases[0]))}if(templates){loadTemplates(JSON.parse(templates[0]))}if(mappings&&aliases){$(mappingObj).trigger("update",[mappingsResponse,aliases[0]])}pollTimeoutId=setTimeout((function(){if(settings.getPolling()){retrieveAutoCompleteInfo(settings,settings.getAutocomplete())}}),POLL_INTERVAL)}))}var _default={getFields:getFields,getTemplates:getTemplates,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,retrieveAutoCompleteInfo:retrieveAutoCompleteInfo,clearSubscriptions:clearSubscriptions};exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AutocompleteComponent",{enumerable:true,get:function get(){return _autocomplete_component.AutocompleteComponent}});Object.defineProperty(exports,"SharedComponent",{enumerable:true,get:function get(){return _shared_component.SharedComponent}});Object.defineProperty(exports,"ConstantComponent",{enumerable:true,get:function get(){return _constant_component.ConstantComponent}});Object.defineProperty(exports,"ListComponent",{enumerable:true,get:function get(){return _list_component.ListComponent}});Object.defineProperty(exports,"SimpleParamComponent",{enumerable:true,get:function get(){return _simple_param_component.SimpleParamComponent}});Object.defineProperty(exports,"ConditionalProxy",{enumerable:true,get:function get(){return _conditional_proxy.ConditionalProxy}});Object.defineProperty(exports,"GlobalOnlyComponent",{enumerable:true,get:function get(){return _global_only_component.GlobalOnlyComponent}});Object.defineProperty(exports,"ObjectComponent",{enumerable:true,get:function get(){return _object_component.ObjectComponent}});Object.defineProperty(exports,"AcceptEndpointComponent",{enumerable:true,get:function get(){return _accept_endpoint_component.AcceptEndpointComponent}});Object.defineProperty(exports,"URL_PATH_END_MARKER",{enumerable:true,get:function get(){return _accept_endpoint_component.URL_PATH_END_MARKER}});Object.defineProperty(exports,"UrlPatternMatcher",{enumerable:true,get:function get(){return _url_pattern_matcher.UrlPatternMatcher}});Object.defineProperty(exports,"IndexAutocompleteComponent",{enumerable:true,get:function get(){return _index_autocomplete_component.IndexAutocompleteComponent}});Object.defineProperty(exports,"FieldAutocompleteComponent",{enumerable:true,get:function get(){return _field_autocomplete_component.FieldAutocompleteComponent}});Object.defineProperty(exports,"TypeAutocompleteComponent",{enumerable:true,get:function get(){return _type_autocomplete_component.TypeAutocompleteComponent}});Object.defineProperty(exports,"IdAutocompleteComponent",{enumerable:true,get:function get(){return _id_autocomplete_component.IdAutocompleteComponent}});Object.defineProperty(exports,"TemplateAutocompleteComponent",{enumerable:true,get:function get(){return _template_autocomplete_component.TemplateAutocompleteComponent}});Object.defineProperty(exports,"UsernameAutocompleteComponent",{enumerable:true,get:function get(){return _username_autocomplete_component.UsernameAutocompleteComponent}});var _autocomplete_component=__webpack_require__(76);var _shared_component=__webpack_require__(39);var _constant_component=__webpack_require__(77);var _list_component=__webpack_require__(42);var _simple_param_component=__webpack_require__(135);var _conditional_proxy=__webpack_require__(136);var _global_only_component=__webpack_require__(137);var _object_component=__webpack_require__(138);var _accept_endpoint_component=__webpack_require__(139);var _url_pattern_matcher=__webpack_require__(140);var _index_autocomplete_component=__webpack_require__(142);var _field_autocomplete_component=__webpack_require__(143);var _type_autocomplete_component=__webpack_require__(144);var _id_autocomplete_component=__webpack_require__(145);var _template_autocomplete_component=__webpack_require__(146);var _username_autocomplete_component=__webpack_require__(147)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _shared_component=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ListComponent=function(_SharedComponent){_inherits(ListComponent,_SharedComponent);function ListComponent(name,list,parent,multiValued,allowNonValidValues){var _this;_classCallCheck(this,ListComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListComponent).call(this,name,parent));_this.listGenerator=Array.isArray(list)?function(){return list}:list;_this.multiValued=_lodash.default.isUndefined(multiValued)?true:multiValued;_this.allowNonValidValues=_lodash.default.isUndefined(allowNonValidValues)?false:allowNonValidValues;return _this}_createClass(ListComponent,[{key:"getTerms",value:function getTerms(context,editor){if(!this.multiValued&&context.otherTokenValues){return[]}var alreadySet=context.otherTokenValues||[];if(_lodash.default.isString(alreadySet)){alreadySet=[alreadySet]}var ret=_lodash.default.difference(this.listGenerator(context,editor),alreadySet);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_lodash.default.map(ret,(function(term){if(_lodash.default.isString(term)){term={name:term}}return _lodash.default.defaults(term,{meta:meta})}))}return ret}},{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}var list=this.listGenerator();var notFound=_lodash.default.any(tokens,(function(token){return list.indexOf(token)===-1}));if(notFound){return false}return true}},{key:"getContextKey",value:function getContextKey(){return this.name}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return this.name}},{key:"match",value:function match(token,context,editor){if(!Array.isArray(token)){token=[token]}if(!this.allowNonValidValues&&!this.validateTokens(token,context,editor)){return null}var result=_get(_getPrototypeOf(ListComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.getContextKey()]=token;return result}}]);return ListComponent}(_shared_component.SharedComponent);exports.ListComponent=ListComponent},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(37);__webpack_require__(115);__webpack_require__(116);__webpack_require__(50);__webpack_require__(117);var _legacy_core_editor=__webpack_require__(69);Object.keys(_legacy_core_editor).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _legacy_core_editor[key]}})}));var _create_readonly=__webpack_require__(71);Object.keys(_create_readonly).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _create_readonly[key]}})}));var _create=__webpack_require__(122);Object.keys(_create).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _create[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"collapseLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.collapseLiteralStrings}});Object.defineProperty(exports,"expandLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.expandLiteralStrings}});var _json_xjson_translation_tools=__webpack_require__(130)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NetworkRequestStatusBar",{enumerable:true,get:function get(){return _network_request_status_bar.NetworkRequestStatusBar}});Object.defineProperty(exports,"SomethingWentWrongCallout",{enumerable:true,get:function get(){return _something_went_wrong_callout.SomethingWentWrongCallout}});Object.defineProperty(exports,"TopNavMenuItem",{enumerable:true,get:function get(){return _top_nav_menu.TopNavMenuItem}});Object.defineProperty(exports,"TopNavMenu",{enumerable:true,get:function get(){return _top_nav_menu.TopNavMenu}});Object.defineProperty(exports,"ConsoleMenu",{enumerable:true,get:function get(){return _console_menu.ConsoleMenu}});Object.defineProperty(exports,"WelcomePanel",{enumerable:true,get:function get(){return _welcome_panel.WelcomePanel}});Object.defineProperty(exports,"AutocompleteOptions",{enumerable:true,get:function get(){return _settings_modal.AutocompleteOptions}});Object.defineProperty(exports,"DevToolsSettingsModal",{enumerable:true,get:function get(){return _settings_modal.DevToolsSettingsModal}});Object.defineProperty(exports,"HelpPanel",{enumerable:true,get:function get(){return _help_panel.HelpPanel}});Object.defineProperty(exports,"EditorContentSpinner",{enumerable:true,get:function get(){return _editor_content_spinner.EditorContentSpinner}});var _network_request_status_bar=__webpack_require__(161);var _something_went_wrong_callout=__webpack_require__(163);var _top_nav_menu=__webpack_require__(164);var _console_menu=__webpack_require__(165);var _welcome_panel=__webpack_require__(166);var _settings_modal=__webpack_require__(168);var _help_panel=__webpack_require__(169);var _editor_content_spinner=__webpack_require__(170)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EditorContextProvider",{enumerable:true,get:function get(){return _editor_context.EditorContextProvider}});Object.defineProperty(exports,"useEditorReadContext",{enumerable:true,get:function get(){return _editor_context.useEditorReadContext}});Object.defineProperty(exports,"useEditorActionContext",{enumerable:true,get:function get(){return _editor_context.useEditorActionContext}});var _editor_context=__webpack_require__(98)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.subscribeResizeChecker=subscribeResizeChecker;var _public=__webpack_require__(30);function subscribeResizeChecker(el){for(var _len=arguments.length,editors=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){editors[_key-1]=arguments[_key]}var checker=new _public.ResizeChecker(el);checker.on("resize",(function(){return editors.forEach((function(e){if(e.getCoreEditor){e.getCoreEditor().resize()}else{e.resize()}if(e.updateActionsBar){e.updateActionsBar()}}))}));return function(){return checker.destroy()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _modes.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _modes.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _modes.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _modes.addXJsonToRules}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _modes.XJsonMode}});var _modes=__webpack_require__(66)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.applyCurrentSettings=applyCurrentSettings;function applyCurrentSettings(editor,settings){if(editor.setStyles){editor.setStyles({wrapLines:settings.wrapMode,fontSize:settings.fontSize+"px"})}else{editor.getSession().setUseWrapMode(settings.wrapMode);editor.container.style.fontSize=settings.fontSize+"px"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useSetInputEditor",{enumerable:true,get:function get(){return _use_set_input_editor.useSetInputEditor}});Object.defineProperty(exports,"useRestoreRequestFromHistory",{enumerable:true,get:function get(){return _use_restore_request_from_history.useRestoreRequestFromHistory}});Object.defineProperty(exports,"useSendCurrentRequestToES",{enumerable:true,get:function get(){return _use_send_current_request_to_es.useSendCurrentRequestToES}});Object.defineProperty(exports,"useSaveCurrentTextObject",{enumerable:true,get:function get(){return _use_save_current_text_object.useSaveCurrentTextObject}});Object.defineProperty(exports,"useDataInit",{enumerable:true,get:function get(){return _use_data_init.useDataInit}});var _use_set_input_editor=__webpack_require__(123);var _use_restore_request_from_history=__webpack_require__(124);var _use_send_current_request_to_es=__webpack_require__(127);var _use_save_current_text_object=__webpack_require__(154);var _use_data_init=__webpack_require__(155)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.instance=exports.EditorRegistry=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EditorRegistry=function(){function EditorRegistry(){_classCallCheck(this,EditorRegistry);_defineProperty(this,"inputEditor",void 0)}_createClass(EditorRegistry,[{key:"setInputEditor",value:function setInputEditor(inputEditor){this.inputEditor=inputEditor}},{key:"getInputEditor",value:function getInputEditor(){return this.inputEditor}}]);return EditorRegistry}();exports.EditorRegistry=EditorRegistry;var instance=new EditorRegistry;exports.instance=instance},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.MODE=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};exports.MODE=MODE;var RowParser=function(){function RowParser(editor){_classCallCheck(this,RowParser);this.editor=editor;_defineProperty(this,"MODE",MODE)}_createClass(RowParser,[{key:"getRowParseMode",value:function getRowParseMode(){var lineNumber=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.editor.getCurrentPosition().lineNumber;var linesCount=this.editor.getLineCount();if(lineNumber>linesCount||lineNumber<1){return MODE.BETWEEN_REQUESTS}var mode=this.editor.getLineState(lineNumber);if(!mode){return MODE.BETWEEN_REQUESTS}if(mode!=="start"&&mode!=="start-sql"){return MODE.IN_REQUEST}var line=(this.editor.getLineValue(lineNumber)||"").trim();if(!line||line[0]==="#"){return MODE.BETWEEN_REQUESTS}if(line.indexOf("}",line.length-1)>=0){lineNumber++;if(lineNumber<linesCount+1){line=(this.editor.getLineValue(lineNumber)||"").trim();if(line.indexOf("{")===0){return MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST}}return MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END}lineNumber++;if(lineNumber>=linesCount+1){return MODE.REQUEST_START|MODE.REQUEST_END}line=(this.editor.getLineValue(lineNumber)||"").trim();if(line.indexOf("{")!==0){return MODE.REQUEST_START|MODE.REQUEST_END}return MODE.REQUEST_START}},{key:"rowPredicate",value:function rowPredicate(lineNumber,editor,value){var mode=this.getRowParseMode(lineNumber);return(mode&value)>0}},{key:"isEndRequestRow",value:function isEndRequestRow(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.REQUEST_END)}},{key:"isRequestEdge",value:function isRequestEdge(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)}},{key:"isStartRequestRow",value:function isStartRequestRow(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.REQUEST_START)}},{key:"isInBetweenRequestsRow",value:function isInBetweenRequestsRow(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)}},{key:"isInRequestsRow",value:function isInRequestsRow(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)}},{key:"isMultiDocDocEndRow",value:function isMultiDocDocEndRow(row,_e){var editor=_e||this.editor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)}},{key:"isEmptyToken",value:function isEmptyToken(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||token.type==="whitespace"}},{key:"isUrlOrMethodToken",value:function isUrlOrMethodToken(tokenOrTokenIter){var _ref,_ref2;var t=(_ref=(_ref2=tokenOrTokenIter)===null||_ref2===void 0?void 0:_ref2.getCurrentToken())!==null&&_ref!==void 0?_ref:tokenOrTokenIter;return t&&t.type&&(t.type==="method"||t.type.indexOf("url")===0)}},{key:"nextNonEmptyToken",value:function nextNonEmptyToken(tokenIter){var t=tokenIter.stepForward();while(t&&this.isEmptyToken(t)){t=tokenIter.stepForward()}return t}},{key:"prevNonEmptyToken",value:function prevNonEmptyToken(tokenIter){var t=tokenIter.stepBackward();while((t||tokenIter.getCurrentPosition().lineNumber>1)&&this.isEmptyToken(t)){t=tokenIter.stepBackward()}return t}}]);return RowParser}();exports.default=RowParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.textFromRequest=textFromRequest;exports.jsonToString=jsonToString;exports.formatRequestBodyDoc=formatRequestBodyDoc;exports.extractDeprecationMessages=extractDeprecationMessages;exports.unescape=unescape;exports.splitOnUnquotedCommaSpace=splitOnUnquotedCommaSpace;var _lodash=_interopRequireDefault(__webpack_require__(35));var _lib=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function textFromRequest(request){var data=request.data;if(typeof data!=="string"){data=data.join("\n")}return request.method+" "+request.url+"\n"+data}function jsonToString(data,indent){return JSON.stringify(data,null,indent?2:0)}function formatRequestBodyDoc(data,indent){var changed=false;var formattedData=[];for(var i=0;i<data.length;i++){var curDoc=data[i];try{var newDoc=jsonToString(JSON.parse((0,_lib.collapseLiteralStrings)(curDoc)),indent);if(indent){newDoc=(0,_lib.expandLiteralStrings)(newDoc)}changed=changed||newDoc!==curDoc;formattedData.push(newDoc)}catch(e){console.log(e);formattedData.push(curDoc)}}return{changed:changed,data:formattedData}}function extractDeprecationMessages(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")?/;return _lodash.default.map(splitOnUnquotedCommaSpace(warnings),(function(warning){var match=re.exec(warning);return"#! Deprecation: "+(match!==null?unescape(match[1]):warning)}))}function unescape(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')}function splitOnUnquotedCommaSpace(s){var quoted=false;var arr=[];var buffer="";var i=0;while(i<s.length){var token=s.charAt(i++);if(token==="\\"&&i<s.length){token+=s.charAt(i++)}else if(token===","&&i<s.length&&s.charAt(i)===" "){token+=s.charAt(i++)}if(token==='"'){quoted=!quoted}else if(!quoted&&token===", "){arr.push(buffer);buffer="";continue}buffer+=token}arr.push(buffer);return arr}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVersion=getVersion;exports.getContentType=getContentType;exports.send=send;exports.constructESUrl=constructESUrl;var _jquery=_interopRequireDefault(__webpack_require__(24));var _queryString=__webpack_require__(73);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esVersion=[];function getVersion(){return esVersion}function getContentType(body){if(!body)return;return"application/json"}function send(method,path,data){var wrappedDfd=_jquery.default.Deferred();var options={url:"../api/console/proxy?"+(0,_queryString.stringify)({path:path,method:method},{sort:false}),data:data,contentType:getContentType(data),cache:false,crossDomain:true,type:"POST",dataType:"text"};_jquery.default.ajax(options).then((function(responseData,textStatus,jqXHR){wrappedDfd.resolveWith({},[responseData,textStatus,jqXHR])}),(function(jqXHR,textStatus,errorThrown){if(jqXHR.status===0){jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running"}wrappedDfd.rejectWith({},[jqXHR,textStatus,errorThrown])}));return wrappedDfd}function constructESUrl(baseUri,path){baseUri=baseUri.replace(/\/+$/,"");path=path.replace(/^\/+/,"");return baseUri+"/"+path}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEndpointFromPosition=getEndpointFromPosition;var _autocomplete=__webpack_require__(74);var _kb=__webpack_require__(75);var _engine=__webpack_require__(58);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getEndpointFromPosition(editor,pos,parser){var lineValue=editor.getLineValue(pos.lineNumber);var context=_objectSpread({},(0,_autocomplete.getCurrentMethodAndTokenPaths)(editor,{column:lineValue.length+1,lineNumber:pos.lineNumber},parser,true));var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(context.urlTokenPath,context,editor,true,components);return context.endpoint}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapComponentWithDefaults=wrapComponentWithDefaults;exports.WalkingState=WalkingState;exports.walkTokenPath=walkTokenPath;exports.populateContext=populateContext;var _=__webpack_require__(35);function wrapComponentWithDefaults(component,defaults){var originalGetTerms=component.getTerms;component.getTerms=function(context,editor){var result=originalGetTerms.call(component,context,editor);if(!result){return result}result=_.map(result,(function(term){if(!_.isObject(term)){term={name:term}}return _.defaults(term,defaults)}),this);return result};return component}var tracer=function tracer(){if(window.engine_trace){var _console$log;(_console$log=console.log).call.apply(_console$log,[console].concat(Array.prototype.slice.call(arguments)))}};function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;if(extensionList){extensionList.unshift(result);_.assign.apply(_,extensionList);extensionList.shift()}return result}function WalkingState(parentName,components,contextExtensionList,depth,priority){this.parentName=parentName;this.components=components;this.contextExtensionList=contextExtensionList;this.depth=depth||0;this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||tokenPath.length===0){return walkingStates}var token=tokenPath[0];var nextWalkingStates=[];tracer("starting token evaluation ["+token+"]");_.each(walkingStates,(function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,(function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next;var extensionList;if(result.next&&!Array.isArray(result.next)){next=[result.next]}else{next=result.next}if(result.context_values){extensionList=[];[].push.apply(extensionList,ws.contextExtensionList);extensionList.push(result.context_values)}else{extensionList=ws.contextExtensionList}var priority=ws.priority;if(_.isNumber(result.priority)){if(_.isNumber(priority)){priority=Math.min(priority,result.priority)}else{priority=result.priority}}nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}}))}));if(nextWalkingStates.length===0){return _.map(walkingStates,(function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)}))}return walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,(function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,(function(component){_.each(component.getTerms(contextForState,editor),(function(term){if(!_.isObject(term)){term={name:term}}autoCompleteSet.push(term)}))}))}));autoCompleteSet=_.uniq(autoCompleteSet,false);context.autoCompleteSet=autoCompleteSet}if(walkStates.length!==0){var wsToUse;walkStates=_.sortBy(walkStates,(function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE}));wsToUse=_.find(walkStates,(function(ws){return _.isEmpty(ws.components)}));if(!wsToUse&&walkStates.length>1&&!includeAutoComplete){console.info("more then one context active for current path, but autocomplete isn't requested",walkStates)}if(!wsToUse){wsToUse=walkStates[0]}_.each(wsToUse.contextExtensionList,(function(extension){_.assign(context,extension)}))}}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createUseContext=void 0;var _react=__webpack_require__(21);var createUseContext=function createUseContext(Ctx,name){return function(){var ctx=(0,_react.useContext)(Ctx);if(!ctx){throw new Error("".concat(name," should be used inside of ").concat(name,"Provider!"))}return ctx}};exports.createUseContext=createUseContext},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=_interopRequireDefault(__webpack_require__(37));var _worker=__webpack_require__(106);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var TextMode=_brace.default.acequire("ace/mode/text").Mode;var ScriptMode=__webpack_require__(108).ScriptMode;var MatchingBraceOutdent=_brace.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace.default.acequire("ace/mode/folding/cstyle").FoldMode;var WorkerClient=_brace.default.acequire("ace/worker/worker_client").WorkerClient;var AceTokenizer=_brace.default.acequire("ace/tokenizer").Tokenizer;var HighlightRules=__webpack_require__(114).InputHighlightRules;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode;this.createModeDelegates({"script-":ScriptMode})}oop.inherits(Mode,TextMode);(function(){this.getCompletions=function(){return[]};this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if(state!=="string_literal"){var match=line.match(/^.*[\{\(\[]\s*$/);if(match){indent+=tab}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],_worker.workerModule,"SenseWorker");worker.attachToDocument(session.getDocument());worker.on("error",(function(e){session.setAnnotations([e.data])}));worker.on("ok",(function(anno){session.setAnnotations(anno.data)}));return worker}}).call(Mode.prototype)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _lexer_rules.addXJsonToRules}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json.XJsonMode}});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _x_json.installXJsonMode}});var _lexer_rules=__webpack_require__(109);var _x_json=__webpack_require__(112)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchSqlHighlightRules=void 0;var _brace=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _brace$default$acequi=_brace.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_brace$default$acequi.TextHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var ElasticsearchSqlHighlightRules=function ElasticsearchSqlHighlightRules(){var keywords="describe|between|in|like|not|and|or|desc|select|from|where|having|group|by|order"+"asc|desc|pivot|for|in|as|show|columns|include|frozen|tables|escape|limit|rlike|all|distinct|is";var builtinConstants="true|false";var builtinFunctions="avg|count|first|first_value|last|last_value|max|min|sum|kurtosis|mad|percentile|percentile_rank|skewness"+"|stddev_pop|sum_of_squares|var_pop|histogram|case|coalesce|greatest|ifnull|iif|isnull|least|nullif|nvl"+"|curdate|current_date|current_time|current_timestamp|curtime|dateadd|datediff|datepart|datetrunc|date_add"+"|date_diff|date_part|date_trunc|day|dayname|dayofmonth|dayofweek|dayofyear|day_name|day_of_month|day_of_week"+"|day_of_year|dom|dow|doy|hour|hour_of_day|idow|isodayofweek|isodow|isoweek|isoweekofyear|iso_day_of_week|iso_week_of_year"+"|iw|iwoy|minute|minute_of_day|minute_of_hour|month|monthname|month_name|month_of_year|now|quarter|second|second_of_minute"+"|timestampadd|timestampdiff|timestamp_add|timestamp_diff|today|week|week_of_year|year|abs|acos|asin|atan|atan2|cbrt"+"|ceil|ceiling|cos|cosh|cot|degrees|e|exp|expm1|floor|log|log10|mod|pi|power|radians|rand|random|round|sign|signum|sin"+"|sinh|sqrt|tan|truncate|ascii|bit_length|char|character_length|char_length|concat|insert|lcase|left|length|locate"+"|ltrim|octet_length|position|repeat|replace|right|rtrim|space|substring|ucase|cast|convert|database|user|st_astext|st_aswkt"+"|st_distance|st_geometrytype|st_geomfromtext|st_wkttosql|st_x|st_y|st_z|score";var dataTypes="null|boolean|byte|short|integer|long|double|float|half_float|scaled_float|keyword|text|binary|date|ip|object|nested|time"+"|interval_year|interval_month|interval_day|interval_hour|interval_minute|interval_second|interval_year_to_month"+"inteval_day_to_hour|interval_day_to_minute|interval_day_to_second|interval_hour_to_minute|interval_hour_to_second"+"interval_minute_to_second|geo_point|geo_shape|shape";var keywordMapper=this.createKeywordMapper({keyword:[keywords,builtinFunctions,builtinConstants,dataTypes].join("|")},"identifier",true);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"constant",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"entity.name.function",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"⇐|<⇒|\\*|\\.|\\:\\:|\\+|\\-|\\/|\\/\\/|%|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]};this.normalizeRules()};exports.ElasticsearchSqlHighlightRules=ElasticsearchSqlHighlightRules;oop.inherits(ElasticsearchSqlHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(37);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LegacyCoreEditor=void 0;var _brace=_interopRequireDefault(__webpack_require__(37));var _jquery=_interopRequireDefault(__webpack_require__(24));var _ace_token_provider=__webpack_require__(118);var curl=_interopRequireWildcard(__webpack_require__(120));var _smart_resize=_interopRequireDefault(__webpack_require__(70));var InputMode=_interopRequireWildcard(__webpack_require__(64));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _AceRange=_brace.default.acequire("ace/range").Range;var rangeToAceRange=function rangeToAceRange(_ref){var start=_ref.start,end=_ref.end;return new _AceRange(start.lineNumber-1,start.column-1,end.lineNumber-1,end.column-1)};var LegacyCoreEditor=function(){function LegacyCoreEditor(editor,actions){var _this=this;_classCallCheck(this,LegacyCoreEditor);this.editor=editor;_defineProperty(this,"_aceOnPaste",void 0);_defineProperty(this,"$actions",void 0);_defineProperty(this,"resize",void 0);_defineProperty(this,"setActionsBar",(function(value){var topOrBottom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top";if(value===null){_this.$actions.css("visibility","hidden")}else{if(topOrBottom==="top"){_this.$actions.css({bottom:"auto",top:value,visibility:"visible"})}else{_this.$actions.css({top:"auto",bottom:value,visibility:"visible"})}}}));_defineProperty(this,"hideActionsBar",(function(){_this.setActionsBar()}));this.$actions=(0,_jquery.default)(actions);this.editor.setShowPrintMargin(false);var session=this.editor.getSession();session.setMode(new InputMode.Mode);session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true);this.resize=(0,_smart_resize.default)(this.editor);this._aceOnPaste=this.editor.onPaste;this.editor.onPaste=this.DO_NOT_USE_onPaste.bind(this);this.editor.setOptions({enableBasicAutocompletion:true});this.editor.$blockScrolling=Infinity;this.hideActionsBar();this.editor.focus()}_createClass(LegacyCoreEditor,[{key:"waitForLatestTokens",value:function waitForLatestTokens(){var _this2=this;return new Promise((function(resolve){var session=_this2.editor.getSession();var checkInterval=25;var check=function check(){if(session.bgTokenizer){if(session.bgTokenizer.running){setTimeout(check,checkInterval)}else{resolve()}}};setTimeout(check,0)}))}},{key:"getLineState",value:function getLineState(lineNumber){var session=this.editor.getSession();return session.getState(lineNumber-1)}},{key:"getValueInRange",value:function getValueInRange(range){return this.editor.getSession().getTextRange(rangeToAceRange(range))}},{key:"getTokenProvider",value:function getTokenProvider(){return new _ace_token_provider.AceTokensProvider(this.editor.getSession())}},{key:"getValue",value:function getValue(){return this.editor.getValue()}},{key:"setValue",value:function(){var _setValue=_asyncToGenerator(regeneratorRuntime.mark((function _callee(text,forceRetokenize){var session;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:session=this.editor.getSession();session.setValue(text);if(!forceRetokenize){_context.next=5;break}_context.next=5;return this.forceRetokenize();case 5:case"end":return _context.stop()}}}),_callee,this)})));function setValue(_x,_x2){return _setValue.apply(this,arguments)}return setValue}()},{key:"getLineValue",value:function getLineValue(lineNumber){var session=this.editor.getSession();return session.getLine(lineNumber-1)}},{key:"getCurrentPosition",value:function getCurrentPosition(){var cursorPosition=this.editor.getCursorPosition();return{lineNumber:cursorPosition.row+1,column:cursorPosition.column+1}}},{key:"clearSelection",value:function clearSelection(){this.editor.clearSelection()}},{key:"getTokenAt",value:function getTokenAt(pos){var provider=this.getTokenProvider();return provider.getTokenAt(pos)}},{key:"insert",value:function insert(valueOrPos,value){if(typeof valueOrPos==="string"){this.editor.insert(valueOrPos);return}var document=this.editor.getSession().getDocument();document.insert({column:valueOrPos.column-1,row:valueOrPos.lineNumber-1},value||"")}},{key:"moveCursorToPosition",value:function moveCursorToPosition(pos){this.editor.moveCursorToPosition({row:pos.lineNumber-1,column:pos.column-1})}},{key:"replace",value:function replace(range,value){var session=this.editor.getSession();session.replace(rangeToAceRange(range),value)}},{key:"getLines",value:function getLines(startLine,endLine){var session=this.editor.getSession();return session.getLines(startLine-1,endLine-1)}},{key:"replaceRange",value:function replaceRange(range,value){var pos=this.editor.getCursorPosition();this.editor.getSession().replace(rangeToAceRange(range),value);var maxRow=Math.max(range.start.lineNumber-1+value.split("\n").length-1,1);pos.row=Math.min(pos.row,maxRow);this.editor.moveCursorToPosition(pos);this.editor.clearSelection()}},{key:"getSelectionRange",value:function getSelectionRange(){var result=this.editor.getSelectionRange();return{start:{lineNumber:result.start.row+1,column:result.start.column+1},end:{lineNumber:result.end.row+1,column:result.end.column+1}}}},{key:"getLineCount",value:function getLineCount(){return this.editor.getSession().getLength()}},{key:"addMarker",value:function addMarker(range){return this.editor.getSession().addMarker(rangeToAceRange(range),"ace_snippet-marker","fullLine",false)}},{key:"removeMarker",value:function removeMarker(ref){this.editor.getSession().removeMarker(ref)}},{key:"getWrapLimit",value:function getWrapLimit(){return this.editor.getSession().getWrapLimit()}},{key:"on",value:function on(event,listener){if(event==="changeCursor"){this.editor.getSession().selection.on(event,listener)}else if(event==="changeSelection"){this.editor.on(event,listener)}else{this.editor.getSession().on(event,listener)}}},{key:"off",value:function off(event,listener){if(event==="changeSelection"){this.editor.off(event,listener)}}},{key:"isCompleterActive",value:function isCompleterActive(){return Boolean(this.editor.completer&&this.editor.completer.activated)}},{key:"forceRetokenize",value:function forceRetokenize(){var session=this.editor.getSession();return new Promise((function(resolve){setTimeout((function(){var i;for(i=0;i<session.getLength();i++){session.getTokens(i)}resolve()}))}))}},{key:"DO_NOT_USE_onPaste",value:function DO_NOT_USE_onPaste(text){if(text&&curl.detectCURL(text)){var curlInput=curl.parseCURL(text);this.editor.insert(curlInput);return}this._aceOnPaste.call(this.editor,text)}},{key:"execCommand",value:function execCommand(cmd){this.editor.execCommand(cmd)}},{key:"getContainer",value:function getContainer(){return this.editor.container}},{key:"setStyles",value:function setStyles(styles){this.editor.getSession().setUseWrapMode(styles.wrapLines);this.editor.container.style.fontSize=styles.fontSize}},{key:"registerKeyboardShortcut",value:function registerKeyboardShortcut(opts){this.editor.commands.addCommand({exec:opts.fn,name:opts.name,bindKey:opts.keys})}},{key:"legacyUpdateUI",value:function legacyUpdateUI(range){var _this3=this;if(!this.$actions){return}if(range){var offsetFromPage=(0,_jquery.default)(this.editor.container).offset().top;var startLine=range.start.lineNumber;var startColumn=range.start.column;var firstLine=this.getLineValue(startLine);var maxLineLength=this.getWrapLimit()-5;var isWrapping=firstLine.length>maxLineLength;var totalOffset=offsetFromPage-(window.pageYOffset||0);var getScreenCoords=function getScreenCoords(line){return _this3.editor.renderer.textToScreenCoordinates(line-1,startColumn).pageY-totalOffset};var topOfReq=getScreenCoords(startLine);if(topOfReq>=0){var _this$editor$containe=this.editor.container.getBoundingClientRect(),maxBottom=_this$editor$containe.bottom;if(topOfReq>maxBottom-totalOffset){this.setActionsBar(0,"bottom");return}var offset=0;if(isWrapping){var textArea=(0,_jquery.default)(this.editor.container.querySelector("textArea"));var hasRoomOnNextLine=this.getLineValue(startLine).length<maxLineLength;if(textArea&&hasRoomOnNextLine){offset+=this.getLineValue(startLine).length*textArea.height()}else{if(startLine>1){this.setActionsBar(getScreenCoords(startLine-1));return}this.setActionsBar(getScreenCoords(startLine+1));return}}this.setActionsBar(topOfReq+offset);return}var bottomOfReq=this.editor.renderer.textToScreenCoordinates(range.end.lineNumber,range.end.column).pageY-offsetFromPage;if(bottomOfReq>=0){this.setActionsBar(0);return}}}},{key:"registerAutocompleter",value:function registerAutocompleter(autocompleter){_brace.default.define("ace/autocomplete/text_completer",["require","exports","module"],(function(require,exports){exports.getCompletions=function(innerEditor,session,pos,prefix,callback){callback(null,[])}}));var langTools=_brace.default.acequire("ace/ext/language_tools");langTools.setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function getCompletions(DO_NOT_USE_1,DO_NOT_USE_2,pos,prefix,callback){var position={lineNumber:pos.row+1,column:pos.column+1};autocompleter(position,prefix,callback)}}])}}]);return LegacyCoreEditor}();exports.LegacyCoreEditor=LegacyCoreEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _lodash=__webpack_require__(35);function _default(editor){var resize=editor.resize;var throttledResize=(0,_lodash.throttle)((function(){resize.call(editor,false);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);if(userRow!==0){editor.renderer.scrollToLine(userRow,false,false,(function(){}))}}),35);return throttledResize}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createReadOnlyAceEditor=createReadOnlyAceEditor;var _lodash=_interopRequireDefault(__webpack_require__(35));var _brace=_interopRequireDefault(__webpack_require__(37));var OutputMode=_interopRequireWildcard(__webpack_require__(121));var _smart_resize=_interopRequireDefault(__webpack_require__(70));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createReadOnlyAceEditor(element){var output=_brace.default.acequire("ace/ace").edit(element);var outputMode=new OutputMode.Mode;output.$blockScrolling=Infinity;output.resize=(0,_smart_resize.default)(output);output.update=function(val,mode,cb){if(typeof mode==="function"){cb=mode;mode=void 0}var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text");session.setValue(val);if(typeof cb==="function"){setTimeout(cb)}};output.append=function(val,foldPrevious,cb){if(typeof foldPrevious==="function"){cb=foldPrevious;foldPrevious=true}if(_lodash.default.isUndefined(foldPrevious)){foldPrevious=true}var session=output.getSession();var lastLine=session.getLength();if(foldPrevious){output.moveCursorTo(Math.max(0,lastLine-1),0)}session.insert({row:lastLine,column:0},"\n"+val);output.moveCursorTo(lastLine+1,0);if(typeof cb==="function"){setTimeout(cb)}};(function setupSession(session){session.setMode("ace/mode/text");session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(output.getSession());output.setShowPrintMargin(false);output.setReadOnly(true);return output}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputJsonHighlightRules=OutputJsonHighlightRules;__webpack_require__(50);var _console_lang=__webpack_require__(49);var ace=__webpack_require__(37);var oop=ace.acequire("ace/lib/oop");var JsonHighlightRules=ace.acequire("ace/mode/json_highlight_rules").JsonHighlightRules;function OutputJsonHighlightRules(){this.$rules={};(0,_console_lang.addXJsonToRules)(this,"start");this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"});if(this.constructor===OutputJsonHighlightRules){this.normalizeRules()}}oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},,function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.getCurrentMethodAndTokenPaths=getCurrentMethodAndTokenPaths;exports.default=_default;var _lodash=_interopRequireDefault(__webpack_require__(35));var _i18n=__webpack_require__(3);var _kb=__webpack_require__(75);var utils=_interopRequireWildcard(__webpack_require__(55));var _engine=__webpack_require__(58);var _index=__webpack_require__(41);var _factories=__webpack_require__(78);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}var lastEvaluatedToken=null;function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return true;default:return false}}function getCurrentMethodAndTokenPaths(editor,pos,parser,forceEndOfUrl){var tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:pos});var startPos=pos;var bodyTokenPath=[];var ret={};var STATES={looking_for_key:0,looking_for_scope_start:1,start:3};var state=STATES.start;var t=tokenIter.getCurrentToken();if(t){if(startPos.column===1){t=tokenIter.stepBackward();state=STATES.looking_for_scope_start}}else{if(startPos.column===1){t=tokenIter.stepBackward();state=STATES.start}}var walkedSomeBody=false;for(;t&&t.type.indexOf("url")===-1&&t.type!=="method";t=tokenIter.stepBackward()){if(t.type!=="whitespace"){walkedSomeBody=true}switch(t.type){case"variable":if(state===STATES.looking_for_key){bodyTokenPath.unshift(t.value.trim().replace(/"/g,""))}state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value);if(state===STATES.looking_for_scope_start){state=STATES.looking_for_key}break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;t=tokenIter.stepBackward();while(t&&parenCount>0){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++;break}if(parenCount>0){t=tokenIter.stepBackward()}}if(!t){return{}}continue;case"punctuation.end_triple_quote":state=STATES.looking_for_scope_start;for(t=tokenIter.stepBackward();t;t=tokenIter.stepBackward()){if(t.type==="punctuation.start_triple_quote"){t=tokenIter.stepBackward();break}}if(!t){return{}}continue;case"punctuation.start_triple_quote":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}break;case"punctuation.comma":if(state===STATES.start){state=STATES.looking_for_scope_start}break;case"punctuation.colon":case"whitespace":if(state===STATES.start){state=STATES.looking_for_key}break}}if(walkedSomeBody&&(!bodyTokenPath||bodyTokenPath.length===0)&&!forceEndOfUrl){return{}}ret.urlTokenPath=[];if(tokenIter.getCurrentPosition().lineNumber===startPos.lineNumber){if(t&&(t.type==="url.part"||t.type==="url.param"||t.type==="url.value")){if(forceEndOfUrl&&t.type==="url.part"){ret.urlTokenPath.push(t.value);ret.urlTokenPath.push(_index.URL_PATH_END_MARKER)}t=tokenIter.stepBackward();while(t.type==="whitespace"){t=tokenIter.stepBackward()}}bodyTokenPath=null}ret.bodyTokenPath=bodyTokenPath;ret.urlParamsTokenPath=null;ret.requestStartRow=tokenIter.getCurrentPosition().lineNumber;var curUrlPart;while(t&&isUrlParamsToken(t)){switch(t.type){case"url.value":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.param":var v=curUrlPart;curUrlPart={};curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":if(!ret.urlParamsTokenPath){ret.urlParamsTokenPath=[]}ret.urlParamsTokenPath.unshift(curUrlPart||{});curUrlPart=null;break}t=tokenIter.stepBackward()}curUrlPart=null;while(t&&t.type.indexOf("url")!==-1){switch(t.type){case"url.part":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.slash":if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart);curUrlPart=null}break}t=parser.prevNonEmptyToken(tokenIter)}if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart)}if(!ret.bodyTokenPath&&!ret.urlParamsTokenPath){if(ret.urlTokenPath.length>0){ret.otherTokenValues=ret.urlTokenPath[0]}}else{ret.urlTokenPath.push(_index.URL_PATH_END_MARKER)}if(t&&t.type==="method"){ret.method=t.value}return ret}function _default(_ref){var editor=_ref.coreEditor,parser=_ref.parser;function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return true;default:return false}}function addMetaToTermsList(list,meta,template){return _lodash.default.map(list,(function(t){if(_typeof(t)!=="object"){t={name:t}}return _lodash.default.defaults(t,{meta:meta,template:template})}))}function applyTerm(term){var context=term.context;addReplacementInfoToContext(context,editor.getCurrentPosition(),term.insertValue);var termAsString;if(context.autoCompleteType==="body"){termAsString=typeof term.insertValue==="string"?'"'+term.insertValue+'"':term.insertValue+"";if(term.insertValue==="["||term.insertValue==="{"){termAsString=""}}else{termAsString=term.insertValue+""}var valueToInsert=termAsString;var templateInserted=false;if(context.addTemplate&&!_lodash.default.isUndefined(term.template)&&!_lodash.default.isNull(term.template)){var indentedTemplateLines;if(term.template.__raw&&term.template.value){indentedTemplateLines=term.template.value.split("\n")}else{indentedTemplateLines=utils.jsonToString(term.template,true).split("\n")}var currentIndentation=editor.getLineValue(context.rangeToReplace.start.lineNumber);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++){indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i]}valueToInsert+=": "+indentedTemplateLines.join("\n");templateInserted=true}else{templateInserted=true;if(term.value==="["){valueToInsert+="[]"}else if(term.value==="{"){valueToInsert+="{}"}else{templateInserted=false}}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd;editor.off("changeSelection",editorChangeListener);if(context.rangeToReplace.start.column!==context.rangeToReplace.end.column){editor.replace(context.rangeToReplace,valueToInsert)}else{editor.insert(valueToInsert)}editor.clearSelection();var newPos={lineNumber:context.rangeToReplace.start.lineNumber,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)};var tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:newPos});if(context.autoCompleteType==="body"){var nonEmptyToken=parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos=tokenIter.getCurrentPosition();break;case"punctuation.colon":nonEmptyToken=parser.nextNonEmptyToken(tokenIter);if((nonEmptyToken||{}).type==="paren.lparen"){nonEmptyToken=parser.nextNonEmptyToken(tokenIter);newPos=tokenIter.getCurrentPosition();if(nonEmptyToken&&nonEmptyToken.value.indexOf('"')===0){newPos.column++}}break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward();newPos=tokenIter.getCurrentPosition();break}editor.moveCursorToPosition(newPos)}editor.on("changeSelection",editorChangeListener)}function getAutoCompleteContext(ctxEditor,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:ctxEditor};context.autoCompleteType=getAutoCompleteType(pos);switch(context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}if(!context.autoCompleteSet){return null}addReplacementInfoToContext(context,pos);context.createdWithToken=_lodash.default.clone(context.updatedForToken);return context}function getAutoCompleteType(pos){var rowMode=parser.getRowParseMode();if(rowMode&parser.MODE.IN_REQUEST){return"body"}if(rowMode&parser.MODE.REQUEST_START){var tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:pos});var t=tokenIter.getCurrentToken();while(t.type==="url.comma"){t=tokenIter.stepBackward()}switch(t.type){case"method":return"method";case"whitespace":t=parser.prevNonEmptyToken(tokenIter);switch((t||{}).type){case"method":return"path";break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}}if(rowMode&parser.MODE.REQUEST_END){return"body"}if(editor.getLineValue(pos.lineNumber).trim()===""){rowMode=parser.getRowParseMode(pos.lineNumber-1);if(rowMode&parser.MODE.REQUEST_START&&rowMode&parser.MODE.REQUEST_END){return"body"}return"method"}return null}function addReplacementInfoToContext(context,pos,replacingTerm){context.updatedForToken=_lodash.default.clone(editor.getTokenAt({lineNumber:pos.lineNumber,column:pos.column}));if(!context.updatedForToken){context.updatedForToken={value:"",type:"",position:{column:pos.column,lineNumber:pos.lineNumber}}}var anchorToken=context.createdWithToken;if(!anchorToken){anchorToken=context.updatedForToken}switch(context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace={start:{lineNumber:pos.lineNumber,column:anchorToken.position.column},end:{lineNumber:pos.lineNumber,column:context.updatedForToken.position.column+context.updatedForToken.value.length}};context.replacingToken=true;break;default:if(replacingTerm&&context.updatedForToken.value===replacingTerm){context.rangeToReplace={start:{lineNumber:pos.lineNumber,column:anchorToken.column},end:{lineNumber:pos.lineNumber,column:context.updatedForToken.position.column+context.updatedForToken.value.length}};context.replacingToken=true}else{context.rangeToReplace={start:{lineNumber:pos.lineNumber,column:pos.column},end:{lineNumber:pos.lineNumber,column:pos.column}};context.replacingToken=false}break}context.textBoxPosition={lineNumber:context.rangeToReplace.start.lineNumber,column:context.rangeToReplace.start.column};switch(context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context);break}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:editor.getCurrentPosition()});var nonEmptyToken=parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=true;break;case"punctuation.colon":context.addTemplate=false;nonEmptyToken=parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="{")){break}nonEmptyToken=parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="}")){break}context.addTemplate=true;context.rangeToReplace.end.lineNumber=tokenIter.getCurrentTokenLineNumber();context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length;nonEmptyToken=parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=true;context.suffixToAdd=", ";break}tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:editor.getCurrentPosition()});nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken;if(context.replacingToken){insertingRelativeToToken=0}else{var pos=editor.getCurrentPosition();if(pos.column===context.updatedForToken.position.column){insertingRelativeToToken=-1}else if(pos.column<context.updatedForToken.position.column+context.updatedForToken.value.length){insertingRelativeToToken=0}else{insertingRelativeToToken=1}}if(parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0){nonEmptyToken=parser.prevNonEmptyToken(tokenIter)}switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:if(nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0){context.prefixToAdd=", "}}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=(0,_factories.createTokenIterator)({editor:editor,position:editor.getCurrentPosition()});var lineNumber=tokenIter.getCurrentPosition().lineNumber;var t=parser.nextNonEmptyToken(tokenIter);if(tokenIter.getCurrentPosition().lineNumber!==lineNumber||!t){context.suffixToAdd=" "}}function addPathPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map((function(m,i){return{name:m,score:-i,meta:_i18n.i18n.translate("console.autocomplete.addMethodMetaText",{defaultMessage:"method"})}}))}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos,parser);context.method=ret.method;context.token=ret.token;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(ret.urlTokenPath,context,editor,true,components);context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos,parser);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;if(!ret.urlTokenPath){return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));if(!context.endpoint){return context}if(!ret.urlParamsTokenPath){return context}var tokenPath=[];var currentParam=ret.urlParamsTokenPath.pop();if(currentParam){tokenPath=Object.keys(currentParam);context.otherTokenValues=currentParam[tokenPath[0]]}(0,_engine.populateContext)(tokenPath,context,editor,true,context.endpoint.paramsAutocomplete.getTopLevelComponents(context.method));return context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos,parser);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;context.requestStartRow=ret.requestStartRow;if(!ret.urlTokenPath){return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));context.bodyTokenPath=ret.bodyTokenPath;if(!ret.bodyTokenPath){return context}context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents;context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components;if(context.endpoint){components=context.endpoint.bodyAutocompleteRootComponents}else{components=(0,_kb.getUnmatchedEndpointComponents)()}(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,true,components);return context}var evaluateCurrentTokenAfterAChange=_lodash.default.debounce((function evaluateCurrentTokenAfterAChange(pos){var currentToken=editor.getTokenAt(pos);if(!currentToken){if(pos.lineNumber===1){lastEvaluatedToken=null;return}currentToken={position:{column:0,lineNumber:0},value:"",type:""}}currentToken.position.lineNumber=pos.lineNumber;if(parser.isEmptyToken(currentToken)){var nextToken=editor.getTokenAt(_objectSpread({},pos,{column:pos.column+1}));if(parser.isEmptyToken(nextToken)){currentToken.position.column=pos.column;lastEvaluatedToken=currentToken}else{nextToken.position.lineNumber=pos.lineNumber;lastEvaluatedToken=nextToken}return}if(!lastEvaluatedToken){lastEvaluatedToken=currentToken;return}if(lastEvaluatedToken.position.column!==currentToken.position.column||lastEvaluatedToken.position.lineNumber!==currentToken.position.lineNumber||lastEvaluatedToken.value===currentToken.value){lastEvaluatedToken=currentToken;return}switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKNOWN":return}lastEvaluatedToken=currentToken;editor.execCommand("startAutocomplete")}),100);function editorChangeListener(){var position=editor.getCurrentPosition();if(position&&!editor.isCompleterActive()){evaluateCurrentTokenAfterAChange(position)}}function _getCompletions(position,prefix,callback){try{var context=getAutoCompleteContext(editor,position);if(!context){callback(null,[])}else{var terms=_lodash.default.map(context.autoCompleteSet.filter((function(term){return Boolean(term)&&term.name!=null})),(function(term){if(_typeof(term)!=="object"){term={name:term}}else{term=_lodash.default.clone(term)}var defaults={value:term.name,meta:"API",score:0,context:context};if(context.autoCompleteType==="body"){defaults.completer={insertMatch:function insertMatch(){return applyTerm(term)}}}return _lodash.default.defaults(term,defaults)}));terms.sort((function(t1,t2){if(t1.score>t2.score){return-1}if(t1.score<t2.score){return 1}if(t1.name<t2.name){return-1}if(t1.name===t2.name){return 0}return 1}));callback(null,_lodash.default.map(terms,(function(t,i){t.insertValue=t.insertValue||t.value;t.value=""+t.value;t.score=-i;return t})))}}catch(e){console.error(e);callback(e,null)}}editor.on("changeSelection",editorChangeListener);return{getCompletions:_getCompletions,_test:{getCompletions:function getCompletions(_editor,_editSession,pos,prefix,callback){return _getCompletions(pos,prefix,callback)},addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:function addChangeListener(){return editor.on("changeSelection",editorChangeListener)},removeChangeListener:function removeChangeListener(){return editor.off("changeSelection",editorChangeListener)}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents;exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint;exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents;exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents;exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents;exports.setActiveApi=setActiveApi;exports._test=void 0;var _components=__webpack_require__(41);var _jquery=_interopRequireDefault(__webpack_require__(24));var _lodash=_interopRequireDefault(__webpack_require__(35));var _api=_interopRequireDefault(__webpack_require__(148));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ACTIVE_API=new _api.default;var isNotAnIndexName=function isNotAnIndexName(name){return name[0]==="_"&&name!=="_all"};var idAutocompleteComponentFactory=function idAutocompleteComponentFactory(name,parent){return new _components.IdAutocompleteComponent(name,parent)};var parametrizedComponentFactories={getComponent:function getComponent(name,parent,provideDefault){if(this[name]){return this[name]}else if(provideDefault){return idAutocompleteComponentFactory}},index:function index(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,false)},indices:function indices(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,true)},type:function type(name,parent){return new _components.TypeAutocompleteComponent(name,parent,false)},types:function types(name,parent){return new _components.TypeAutocompleteComponent(name,parent,true)},id:function id(name,parent){return idAutocompleteComponentFactory(name,parent)},transform_id:function transform_id(name,parent){return idAutocompleteComponentFactory(name,parent)},username:function username(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},user:function user(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},template:function template(name,parent){return new _components.TemplateAutocompleteComponent(name,parent)},task_id:function task_id(name,parent){return idAutocompleteComponentFactory(name,parent)},ids:function ids(name,parent){return idAutocompleteComponentFactory(name,parent,true)},fields:function fields(name,parent){return new _components.FieldAutocompleteComponent(name,parent,true)},field:function field(name,parent){return new _components.FieldAutocompleteComponent(name,parent,false)},nodes:function nodes(name,parent){return new _components.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function node(name,parent){return new _components.ListComponent(name,[],parent,false)}};function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc){throw new Error("failed to resolve endpoint ['"+endpoint+"']")}return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(method){return ACTIVE_API.getTopLevelUrlCompleteComponents(method)}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories;bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new _api.default(urlParametrizedComponentFactories,bodyParametrizedComponentFactories);var names=[];_lodash.default.each(json,(function(apiJson,name){names.unshift(name);_lodash.default.each(apiJson.globals||{},(function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)}));_lodash.default.each(apiJson.endpoints||{},(function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)}))}));api.name=names.join(",");return api}function setActiveApi(api){if(!api){_jquery.default.ajax({url:"../api/console/api_server",dataType:"json"}).then((function(data){setActiveApi(loadApisFromJson(data))}),(function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)}));return}ACTIVE_API=api}setActiveApi();var _test={loadApisFromJson:loadApisFromJson};exports._test=_test},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutocompleteComponent=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AutocompleteComponent=function(){function AutocompleteComponent(name){_classCallCheck(this,AutocompleteComponent);this.name=name}_createClass(AutocompleteComponent,[{key:"getTerms",value:function getTerms(){return[]}},{key:"match",value:function match(){return{next:this.next}}}]);return AutocompleteComponent}();exports.AutocompleteComponent=AutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConstantComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _shared_component=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ConstantComponent=function(_SharedComponent){_inherits(ConstantComponent,_SharedComponent);function ConstantComponent(name,parent,options){var _this;_classCallCheck(this,ConstantComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConstantComponent).call(this,name,parent));if(_lodash.default.isString(options)){options=[options]}_this.options=options||[name];return _this}_createClass(ConstantComponent,[{key:"getTerms",value:function getTerms(){return this.options}},{key:"addOption",value:function addOption(options){if(!Array.isArray(options)){options=[options]}[].push.apply(this.options,options);this.options=_lodash.default.uniq(this.options)}},{key:"match",value:function match(token,context,editor){if(token!==this.name){return null}return _get(_getPrototypeOf(ConstantComponent.prototype),"match",this).call(this,token,context,editor)}}]);return ConstantComponent}(_shared_component.SharedComponent);exports.ConstantComponent=ConstantComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _token_iterator=__webpack_require__(151);Object.keys(_token_iterator).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _token_iterator[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Editor",{enumerable:true,get:function get(){return _editor.Editor}});Object.defineProperty(exports,"EditorOutput",{enumerable:true,get:function get(){return _editor_output.EditorOutput}});var _editor=__webpack_require__(160);var _editor_output=__webpack_require__(174)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditorExample=EditorExample;var _eui=__webpack_require__(22);var _i18n=__webpack_require__(3);var _help_example=_interopRequireDefault(__webpack_require__(167));var _react=_interopRequireWildcard(__webpack_require__(21));var _legacy_core_editor=__webpack_require__(44);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EditorExample(props){var elemId="help-example-".concat(props.panel);var inputId="help-example-".concat(props.panel,"-input");(0,_react.useEffect)((function(){var el=document.getElementById(elemId);el.textContent=_help_example.default.trim();var editor=(0,_legacy_core_editor.createReadOnlyAceEditor)(el);var textarea=el.querySelector("textarea");textarea.setAttribute("id",inputId);textarea.setAttribute("readonly","true");return function(){editor.destroy()}}),[elemId,inputId]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("label",{htmlFor:inputId},_i18n.i18n.translate("console.exampleOutputTextarea",{defaultMessage:"Dev Tools Console editor example"}))),_react.default.createElement("div",{id:elemId,className:"conHelp__example"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SenseEditor=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _row_parser=_interopRequireDefault(__webpack_require__(54));var _lib=__webpack_require__(45);var utils=_interopRequireWildcard(__webpack_require__(55));var es=_interopRequireWildcard(__webpack_require__(56));var _factories=__webpack_require__(78);var _autocomplete=_interopRequireDefault(__webpack_require__(74));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SenseEditor=function(){function SenseEditor(coreEditor){var _this=this;_classCallCheck(this,SenseEditor);this.coreEditor=coreEditor;_defineProperty(this,"currentReqRange",void 0);_defineProperty(this,"parser",void 0);_defineProperty(this,"autocomplete",void 0);_defineProperty(this,"prevRequestStart",(function(rowOrPos){var curRow;if(rowOrPos==null){curRow=_this.coreEditor.getCurrentPosition().lineNumber}else if(_lodash.default.isObject(rowOrPos)){curRow=rowOrPos.lineNumber}else{curRow=rowOrPos}while(curRow>0&&!_this.parser.isStartRequestRow(curRow,_this.coreEditor)){curRow--}return{lineNumber:curRow,column:1}}));_defineProperty(this,"nextRequestStart",(function(rowOrPos){var curRow;if(rowOrPos==null){curRow=_this.coreEditor.getCurrentPosition().lineNumber}else if(_lodash.default.isObject(rowOrPos)){curRow=rowOrPos.lineNumber}else{curRow=rowOrPos}var maxLines=_this.coreEditor.getLineCount();for(;curRow<maxLines-1;curRow++){if(_this.parser.isStartRequestRow(curRow,_this.coreEditor)){break}}return{row:curRow,column:0}}));_defineProperty(this,"autoIndent",_lodash.default.debounce(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var reqRange,parsedReq,indent,formattedData;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.coreEditor.waitForLatestTokens();case 2:_context.next=4;return _this.getRequestRange();case 4:reqRange=_context.sent;if(reqRange){_context.next=7;break}return _context.abrupt("return");case 7:_context.next=9;return _this.getRequest();case 9:parsedReq=_context.sent;if(parsedReq){_context.next=12;break}return _context.abrupt("return");case 12:if(parsedReq.data&&parsedReq.data.length>0){indent=parsedReq.data.length===1;formattedData=utils.formatRequestBodyDoc(parsedReq.data,indent);if(!formattedData.changed){indent=!indent;formattedData=utils.formatRequestBodyDoc(parsedReq.data,indent)}parsedReq.data=formattedData.data;_this.replaceRequestRange(parsedReq,reqRange)}case 13:case"end":return _context.stop()}}}),_callee)}))),25));_defineProperty(this,"update",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(data){var reTokenizeAll,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:reTokenizeAll=_args2.length>1&&_args2[1]!==undefined?_args2[1]:false;return _context2.abrupt("return",_this.coreEditor.setValue(data,reTokenizeAll));case 2:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}());_defineProperty(this,"replaceRequestRange",(function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){_this.coreEditor.replaceRange(requestRange,text)}else{_this.coreEditor.insert(_this.coreEditor.getCurrentPosition(),text)}}));_defineProperty(this,"getRequestRange",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(lineNumber){var reqStart,reqEnd;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.coreEditor.waitForLatestTokens();case 2:if(!_this.parser.isInBetweenRequestsRow(lineNumber)){_context3.next=4;break}return _context3.abrupt("return",null);case 4:reqStart=_this.prevRequestStart(lineNumber);reqEnd=_this.nextRequestEnd(reqStart);return _context3.abrupt("return",{start:_objectSpread({},reqStart),end:_objectSpread({},reqEnd)});case 7:case"end":return _context3.stop()}}}),_callee3)})));return function(_x2){return _ref3.apply(this,arguments)}}());_defineProperty(this,"expandRangeToRequestEdges",function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var range,startLineNumber,endLineNumber,maxLine,endColumn,_args4=arguments;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:range=_args4.length>0&&_args4[0]!==undefined?_args4[0]:_this.coreEditor.getSelectionRange();_context4.next=3;return _this.coreEditor.waitForLatestTokens();case 3:startLineNumber=range.start.lineNumber;endLineNumber=range.end.lineNumber;maxLine=Math.max(1,_this.coreEditor.getLineCount());if(!_this.parser.isInBetweenRequestsRow(startLineNumber)){_context4.next=9;break}_context4.next=15;break;case 9:if(!(startLineNumber>=1)){_context4.next=15;break}if(!_this.parser.isStartRequestRow(startLineNumber)){_context4.next=12;break}return _context4.abrupt("break",15);case 12:startLineNumber--;_context4.next=9;break;case 15:if(!(startLineNumber<1||startLineNumber>endLineNumber)){_context4.next=17;break}return _context4.abrupt("return",null);case 17:if(!_this.parser.isInBetweenRequestsRow(endLineNumber)){_context4.next=26;break}case 18:if(!(endLineNumber>=startLineNumber)){_context4.next=24;break}if(!_this.parser.isEndRequestRow(endLineNumber)){_context4.next=21;break}return _context4.abrupt("break",24);case 21:endLineNumber--;_context4.next=18;break;case 24:_context4.next=32;break;case 26:if(!(endLineNumber<=maxLine)){_context4.next=32;break}if(!_this.parser.isEndRequestRow(endLineNumber)){_context4.next=29;break}return _context4.abrupt("break",32);case 29:endLineNumber++;_context4.next=26;break;case 32:if(!(endLineNumber<startLineNumber||endLineNumber>maxLine)){_context4.next=34;break}return _context4.abrupt("return",null);case 34:endColumn=(_this.coreEditor.getLineValue(endLineNumber)||"").replace(/\s+$/,"").length+1;return _context4.abrupt("return",{start:{lineNumber:startLineNumber,column:1},end:{lineNumber:endLineNumber,column:endColumn}});case 36:case"end":return _context4.stop()}}}),_callee4)})));return function(){return _ref4.apply(this,arguments)}}());_defineProperty(this,"getRequestInRange",function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(range){var request,pos,tokenIter,t,bodyStartLineNumber,dataEndPos,bodyRange,data;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.coreEditor.waitForLatestTokens();case 2:if(range){_context5.next=4;break}return _context5.abrupt("return",null);case 4:request={method:"",data:[],url:null,range:range};pos=range.start;tokenIter=(0,_factories.createTokenIterator)({editor:_this.coreEditor,position:pos});t=tokenIter.getCurrentToken();if(_this.parser.isEmptyToken(t)){t=_this.parser.nextNonEmptyToken(tokenIter)}if(!(t==null)){_context5.next=11;break}return _context5.abrupt("return",null);case 11:request.method=t.value;t=_this.parser.nextNonEmptyToken(tokenIter);if(!(!t||t.type==="method")){_context5.next=15;break}return _context5.abrupt("return",null);case 15:request.url="";while(t&&t.type&&t.type.indexOf("url")===0){request.url+=t.value;t=tokenIter.stepForward()}if(_this.parser.isEmptyToken(t)){t=_this.parser.nextNonEmptyToken(tokenIter)}bodyStartLineNumber=(t?0:1)+tokenIter.getCurrentPosition().lineNumber;while(bodyStartLineNumber<range.end.lineNumber||bodyStartLineNumber===range.end.lineNumber&&1<range.end.column){dataEndPos=_this.nextDataDocEnd({lineNumber:bodyStartLineNumber,column:1});bodyRange={start:{lineNumber:bodyStartLineNumber,column:1},end:dataEndPos};data=_this.coreEditor.getValueInRange(bodyRange);request.data.push(data.trim());bodyStartLineNumber=dataEndPos.lineNumber+1}return _context5.abrupt("return",request);case 21:case"end":return _context5.stop()}}}),_callee5)})));return function(_x3){return _ref5.apply(this,arguments)}}());_defineProperty(this,"getRequestsInRange",function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var range,includeNonRequestBlocks,expandedRange,requests,rangeStartCursor,endLineNumber,currentLineNumber,flushNonRequestBlock,request,_args6=arguments;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:range=_args6.length>0&&_args6[0]!==undefined?_args6[0]:_this.coreEditor.getSelectionRange();includeNonRequestBlocks=_args6.length>1&&_args6[1]!==undefined?_args6[1]:false;_context6.next=4;return _this.coreEditor.waitForLatestTokens();case 4:if(range){_context6.next=6;break}return _context6.abrupt("return",[]);case 6:_context6.next=8;return _this.expandRangeToRequestEdges(range);case 8:expandedRange=_context6.sent;if(expandedRange){_context6.next=11;break}return _context6.abrupt("return",[]);case 11:requests=[];rangeStartCursor=expandedRange.start.lineNumber;endLineNumber=expandedRange.end.lineNumber;currentLineNumber=expandedRange.start.lineNumber;flushNonRequestBlock=function flushNonRequestBlock(){if(includeNonRequestBlocks){var nonRequestPrefixBlock=_this.coreEditor.getLines(rangeStartCursor,currentLineNumber-1).join("\n");if(nonRequestPrefixBlock){requests.push(nonRequestPrefixBlock)}}};case 16:if(!(currentLineNumber<=endLineNumber)){_context6.next=33;break}if(!_this.parser.isStartRequestRow(currentLineNumber)){_context6.next=30;break}flushNonRequestBlock();_context6.next=21;return _this.getRequest(currentLineNumber);case 21:request=_context6.sent;if(request){_context6.next=26;break}return _context6.abrupt("return",requests);case 26:requests.push(request);rangeStartCursor=currentLineNumber=request.range.end.lineNumber+1;case 28:_context6.next=31;break;case 30:++currentLineNumber;case 31:_context6.next=16;break;case 33:flushNonRequestBlock();return _context6.abrupt("return",requests);case 35:case"end":return _context6.stop()}}}),_callee6)})));return function(){return _ref6.apply(this,arguments)}}());_defineProperty(this,"getRequest",function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(row){var range;return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _this.coreEditor.waitForLatestTokens();case 2:if(!_this.parser.isInBetweenRequestsRow(row)){_context7.next=4;break}return _context7.abrupt("return",null);case 4:_context7.next=6;return _this.getRequestRange(row);case 6:range=_context7.sent;return _context7.abrupt("return",_this.getRequestInRange(range));case 8:case"end":return _context7.stop()}}}),_callee7)})));return function(_x4){return _ref7.apply(this,arguments)}}());_defineProperty(this,"moveToPreviousRequestEdge",_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var pos;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _this.coreEditor.waitForLatestTokens();case 2:pos=_this.coreEditor.getCurrentPosition();for(pos.lineNumber--;pos.lineNumber>1&&!_this.parser.isRequestEdge(pos.lineNumber);pos.lineNumber--){}_this.coreEditor.moveCursorToPosition({lineNumber:pos.lineNumber,column:1});case 5:case"end":return _context8.stop()}}}),_callee8)}))));_defineProperty(this,"moveToNextRequestEdge",function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(moveOnlyIfNotOnEdge){var pos,maxRow;return regeneratorRuntime.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _this.coreEditor.waitForLatestTokens();case 2:pos=_this.coreEditor.getCurrentPosition();maxRow=_this.coreEditor.getLineCount();if(!moveOnlyIfNotOnEdge){pos.lineNumber++}for(;pos.lineNumber<maxRow&&!_this.parser.isRequestEdge(pos.lineNumber);pos.lineNumber++){}_this.coreEditor.moveCursorToPosition({lineNumber:pos.lineNumber,column:1});case 7:case"end":return _context9.stop()}}}),_callee9)})));return function(_x5){return _ref9.apply(this,arguments)}}());_defineProperty(this,"nextRequestEnd",(function(pos){pos=pos||_this.coreEditor.getCurrentPosition();var maxLines=_this.coreEditor.getLineCount();var curLineNumber=pos.lineNumber;for(;curLineNumber<=maxLines;++curLineNumber){var curRowMode=_this.parser.getRowParseMode(curLineNumber);if((curRowMode&_this.parser.MODE.REQUEST_END)>0){break}if(curLineNumber!==pos.lineNumber&&(curRowMode&_this.parser.MODE.REQUEST_START)>0){break}}var column=(_this.coreEditor.getLineValue(curLineNumber)||"").replace(/\s+$/,"").length+1;return{lineNumber:curLineNumber,column:column}}));_defineProperty(this,"nextDataDocEnd",(function(pos){pos=pos||_this.coreEditor.getCurrentPosition();var curLineNumber=pos.lineNumber;var maxLines=_this.coreEditor.getLineCount();for(;curLineNumber<maxLines;curLineNumber++){var curRowMode=_this.parser.getRowParseMode(curLineNumber);if((curRowMode&_this.parser.MODE.REQUEST_END)>0){break}if((curRowMode&_this.parser.MODE.MULTI_DOC_CUR_DOC_END)>0){break}if(curLineNumber!==pos.lineNumber&&(curRowMode&_this.parser.MODE.REQUEST_START)>0){break}}var column=(_this.coreEditor.getLineValue(curLineNumber)||"").length+1;return{lineNumber:curLineNumber,column:column}}));_defineProperty(this,"highlightCurrentRequestsAndUpdateActionBar",_lodash.default.debounce(_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){var expandedRange,cursorLineNumber;return regeneratorRuntime.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return _this.coreEditor.waitForLatestTokens();case 2:_context10.next=4;return _this.expandRangeToRequestEdges();case 4:expandedRange=_context10.sent;if(!(expandedRange===null&&_this.currentReqRange===null)){_context10.next=7;break}return _context10.abrupt("return");case 7:if(!(expandedRange!==null&&_this.currentReqRange!==null&&expandedRange.start.lineNumber===_this.currentReqRange.start.lineNumber&&expandedRange.end.lineNumber===_this.currentReqRange.end.lineNumber)){_context10.next=11;break}cursorLineNumber=_this.coreEditor.getCurrentPosition().lineNumber;if(cursorLineNumber===_this.currentReqRange.start.lineNumber){_this.updateActionsBar()}return _context10.abrupt("return");case 11:if(_this.currentReqRange){_this.coreEditor.removeMarker(_this.currentReqRange.markerRef)}_this.currentReqRange=expandedRange;if(_this.currentReqRange){_this.currentReqRange.markerRef=_this.coreEditor.addMarker(_this.currentReqRange)}_this.updateActionsBar();case 15:case"end":return _context10.stop()}}}),_callee10)}))),25));_defineProperty(this,"getRequestsAsCURL",function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(elasticsearchBaseUrl,range){var requests,result;return regeneratorRuntime.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return _this.getRequestsInRange(range,true);case 2:requests=_context11.sent;result=_lodash.default.map(requests,(function(req){if(typeof req==="string"){return req}var esPath=req.url;var esMethod=req.method;var esData=req.data;var url=es.constructESUrl(elasticsearchBaseUrl,esPath);var ret="curl -X"+esMethod+' "'+url+'"';if(esData&&esData.length){ret+=" -H 'Content-Type: application/json' -d'\n";var dataAsString=(0,_lib.collapseLiteralStrings)(esData.join("\n"));ret+=dataAsString.replace(/'/g,"'\\''");if(esData.length>1){ret+="\n"}ret+="'"}return ret}));return _context11.abrupt("return",result.join("\n"));case 5:case"end":return _context11.stop()}}}),_callee11)})));return function(_x6,_x7){return _ref11.apply(this,arguments)}}());_defineProperty(this,"updateActionsBar",(function(){return _this.coreEditor.legacyUpdateUI(_this.currentReqRange)}));this.currentReqRange=null;this.parser=new _row_parser.default(this.coreEditor);this.autocomplete=new _autocomplete.default({coreEditor:coreEditor,parser:this.parser});this.coreEditor.registerAutocompleter(this.autocomplete.getCompletions);this.coreEditor.on("tokenizerUpdate",this.highlightCurrentRequestsAndUpdateActionBar.bind(this));this.coreEditor.on("changeCursor",this.highlightCurrentRequestsAndUpdateActionBar.bind(this));this.coreEditor.on("changeScrollTop",this.updateActionsBar.bind(this))}_createClass(SenseEditor,[{key:"getCoreEditor",value:function getCoreEditor(){return this.coreEditor}}]);return SenseEditor}();exports.SenseEditor=SenseEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.autoIndent=autoIndent;exports.getDocumentation=getDocumentation;var _get_endpoint_from_position=__webpack_require__(57);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function autoIndent(_x,_x2){return _autoIndent.apply(this,arguments)}function _autoIndent(){_autoIndent=_asyncToGenerator(regeneratorRuntime.mark((function _callee(editor,event){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return editor.autoIndent();case 3:editor.getCoreEditor().getContainer().focus();case 4:case"end":return _context.stop()}}}),_callee)})));return _autoIndent.apply(this,arguments)}function getDocumentation(editor,docLinkVersion){return editor.getRequestsInRange().then((function(requests){if(!requests||requests.length===0){return null}var position=requests[0].range.end;position.column=position.column-1;var endpoint=(0,_get_endpoint_from_position.getEndpointFromPosition)(editor.getCoreEditor(),position,editor.parser);if(endpoint&&endpoint.documentation&&endpoint.documentation.indexOf("http")!==-1){return endpoint.documentation.replace("/master/","/".concat(docLinkVersion,"/")).replace("/current/","/".concat(docLinkVersion,"/"))}else{return null}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"createHistory",{enumerable:true,get:function get(){return _history.createHistory}});Object.defineProperty(exports,"History",{enumerable:true,get:function get(){return _history.History}});Object.defineProperty(exports,"createStorage",{enumerable:true,get:function get(){return _storage.createStorage}});Object.defineProperty(exports,"Storage",{enumerable:true,get:function get(){return _storage.Storage}});Object.defineProperty(exports,"StorageKeys",{enumerable:true,get:function get(){return _storage.StorageKeys}});Object.defineProperty(exports,"createSettings",{enumerable:true,get:function get(){return _settings.createSettings}});Object.defineProperty(exports,"Settings",{enumerable:true,get:function get(){return _settings.Settings}});Object.defineProperty(exports,"DevToolsSettings",{enumerable:true,get:function get(){return _settings.DevToolsSettings}});var _history=__webpack_require__(176);var _storage=__webpack_require__(177);var _settings=__webpack_require__(178)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LocalObjectStorage=void 0;var _uuid=_interopRequireDefault(__webpack_require__(184));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LocalObjectStorage=function(){function LocalObjectStorage(client,type){_classCallCheck(this,LocalObjectStorage);this.client=client;_defineProperty(this,"prefix",void 0);this.prefix="console_local_".concat(type)}_createClass(LocalObjectStorage,[{key:"create",value:function(){var _create=_asyncToGenerator(regeneratorRuntime.mark((function _callee(obj){var id,newObj;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_uuid.default.v4();newObj=_objectSpread({id:id},obj);this.client.set("".concat(this.prefix,"_").concat(id),newObj);return _context.abrupt("return",newObj);case 4:case"end":return _context.stop()}}}),_callee,this)})));function create(_x){return _create.apply(this,arguments)}return create}()},{key:"update",value:function(){var _update=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(obj){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.client.set("".concat(this.prefix,"_").concat(obj.id),obj);case 1:case"end":return _context2.stop()}}}),_callee2,this)})));function update(_x2){return _update.apply(this,arguments)}return update}()},{key:"findAll",value:function(){var _findAll=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _this=this;var allLocalKeys,result,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,key;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:allLocalKeys=this.client.keys().filter((function(key){return key.includes(_this.prefix)}));result=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context3.prev=5;for(_iterator=allLocalKeys[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){key=_step.value;result.push(this.client.get(key))}_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](5);_didIteratorError=true;_iteratorError=_context3.t0;case 13:_context3.prev=13;_context3.prev=14;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 16:_context3.prev=16;if(!_didIteratorError){_context3.next=19;break}throw _iteratorError;case 19:return _context3.finish(16);case 20:return _context3.finish(13);case 21:return _context3.abrupt("return",result);case 22:case"end":return _context3.stop()}}}),_callee3,this,[[5,9,13,21],[14,,16,20]])})));function findAll(){return _findAll.apply(this,arguments)}return findAll}()}]);return LocalObjectStorage}();exports.LocalObjectStorage=LocalObjectStorage},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ServicesContextProvider=ServicesContextProvider;exports.useServicesContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ServicesContext=(0,_react.createContext)(null);function ServicesContextProvider(_ref){var children=_ref.children,value=_ref.value;return _react.default.createElement(ServicesContext.Provider,{value:value},children)}var useServicesContext=function useServicesContext(){var context=(0,_react.useContext)(ServicesContext);if(context===undefined){throw new Error("useServicesContext must be used inside the ServicesContextProvider.")}return context};exports.useServicesContext=useServicesContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestContextProvider=RequestContextProvider;exports.useRequestActionContext=exports.useRequestReadContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));var _create_use_context=__webpack_require__(61);var store=_interopRequireWildcard(__webpack_require__(96));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RequestReadContext=(0,_react.createContext)(null);var RequestActionContext=(0,_react.createContext)(null);function RequestContextProvider(_ref){var children=_ref.children;var _useReducer=(0,_react.useReducer)(store.reducer,store.initialValue),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return _react.default.createElement(RequestReadContext.Provider,{value:state},_react.default.createElement(RequestActionContext.Provider,{value:dispatch},children))}var useRequestReadContext=(0,_create_use_context.createUseContext)(RequestReadContext,"RequestReadContext");exports.useRequestReadContext=useRequestReadContext;var useRequestActionContext=(0,_create_use_context.createUseContext)(RequestActionContext,"RequestActionContext");exports.useRequestActionContext=useRequestActionContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.initialValue=void 0;var _immer=__webpack_require__(62);var _function=__webpack_require__(63);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialResultValue={data:null,type:"unknown"};var initialValue=(0,_immer.produce)({requestInFlight:false,lastResult:initialResultValue},_function.identity);exports.initialValue=initialValue;var reducer=function reducer(state,action){return(0,_immer.produce)(state,(function(draft){if(action.type==="sendRequest"){draft.requestInFlight=true;draft.lastResult=initialResultValue;return}if(action.type==="requestSuccess"){draft.requestInFlight=false;draft.lastResult=action.payload;return}if(action.type==="requestFail"){draft.requestInFlight=false;draft.lastResult=_objectSpread({},initialResultValue,{error:action.payload});return}}))};exports.reducer=reducer},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditorContextProvider=EditorContextProvider;exports.useEditorActionContext=exports.useEditorReadContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));var editor=_interopRequireWildcard(__webpack_require__(99));var _create_use_context=__webpack_require__(61);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var EditorReadContext=(0,_react.createContext)(null);var EditorActionContext=(0,_react.createContext)(null);function EditorContextProvider(_ref){var children=_ref.children,settings=_ref.settings;var _useReducer=(0,_react.useReducer)(editor.reducer,editor.initialValue,(function(value){return _objectSpread({},value,{settings:settings})})),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return _react.default.createElement(EditorReadContext.Provider,{value:state},_react.default.createElement(EditorActionContext.Provider,{value:dispatch},children))}var useEditorReadContext=(0,_create_use_context.createUseContext)(EditorReadContext,"EditorReadContext");exports.useEditorReadContext=useEditorReadContext;var useEditorActionContext=(0,_create_use_context.createUseContext)(EditorActionContext,"EditorActionContext");exports.useEditorActionContext=useEditorActionContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.initialValue=void 0;var _immer=__webpack_require__(62);var _function=__webpack_require__(63);var initialValue=(0,_immer.produce)({ready:false,settings:null,currentTextObject:null},_function.identity);exports.initialValue=initialValue;var reducer=function reducer(state,action){return(0,_immer.produce)(state,(function(draft){if(action.type==="setInputEditor"){if(action.payload){draft.ready=true}return}if(action.type==="updateSettings"){draft.settings=action.payload;return}if(action.type==="setCurrentTextObject"){draft.currentTextObject=action.payload;return}return draft}))};exports.reducer=reducer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Main",{enumerable:true,get:function get(){return _main.Main}});var _main=__webpack_require__(101)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Main",{enumerable:true,get:function get(){return _main.Main}});var _main=__webpack_require__(102)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Main=Main;var _react=_interopRequireWildcard(__webpack_require__(21));var _i18n=__webpack_require__(3);var _eui=__webpack_require__(22);var _console_history=__webpack_require__(103);var _editor=__webpack_require__(158);var _settings=__webpack_require__(179);var _components=__webpack_require__(46);var _contexts=__webpack_require__(38);var _hooks=__webpack_require__(52);var _get_top_nav=__webpack_require__(180);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function Main(){var _ref;var _useServicesContext=(0,_contexts.useServicesContext)(),storage=_useServicesContext.services.storage;var _useEditorReadContext=(0,_contexts.useEditorReadContext)(),editorsReady=_useEditorReadContext.ready;var _useRequestReadContex=(0,_contexts.useRequestReadContext)(),requestInProgress=_useRequestReadContex.requestInFlight,_useRequestReadContex2=_useRequestReadContex.lastResult,requestData=_useRequestReadContex2.data,requestError=_useRequestReadContex2.error;var _useState=(0,_react.useState)((function(){return storage.get("version_welcome_shown")!=="@@SENSE_REVISION"})),_useState2=_slicedToArray(_useState,2),showWelcome=_useState2[0],setShowWelcomePanel=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),showingHistory=_useState4[0],setShowHistory=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),showSettings=_useState6[0],setShowSettings=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),showHelp=_useState8[0],setShowHelp=_useState8[1];var renderConsoleHistory=function renderConsoleHistory(){return editorsReady?_react.default.createElement(_console_history.ConsoleHistory,{close:function close(){return setShowHistory(false)}}):null};var _useDataInit=(0,_hooks.useDataInit)(),done=_useDataInit.done,error=_useDataInit.error,retry=_useDataInit.retry;if(error){return _react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_components.SomethingWentWrongCallout,{onButtonClick:retry,error:error}))}var lastDatum=(_ref=requestData===null||requestData===void 0?void 0:requestData[requestData.length-1])!==null&&_ref!==void 0?_ref:requestError;return _react.default.createElement("div",{id:"consoleRoot"},_react.default.createElement(_eui.EuiFlexGroup,{className:"consoleContainer",gutterSize:"none",direction:"column",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{className:"euiScreenReaderOnly"},_react.default.createElement("h1",null,_i18n.i18n.translate("console.pageHeading",{defaultMessage:"Console"}))),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_components.TopNavMenu,{disabled:!done,items:(0,_get_top_nav.getTopNavConfig)({onClickHistory:function onClickHistory(){return setShowHistory(!showingHistory)},onClickSettings:function onClickSettings(){return setShowSettings(true)},onClickHelp:function onClickHelp(){return setShowHelp(!showHelp)}})})),_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"conApp__tabsExtension"},_react.default.createElement(_components.NetworkRequestStatusBar,{requestInProgress:requestInProgress,requestResult:lastDatum?{method:lastDatum.request.method.toUpperCase(),endpoint:lastDatum.request.path,statusCode:lastDatum.response.statusCode,statusText:lastDatum.response.statusText,timeElapsedMs:lastDatum.response.timeMs}:undefined})))),showingHistory?_react.default.createElement(_eui.EuiFlexItem,{grow:false},renderConsoleHistory()):null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_editor.Editor,{loading:!done}))),done&&showWelcome?_react.default.createElement(_components.WelcomePanel,{onDismiss:function onDismiss(){storage.set("version_welcome_shown","@@SENSE_REVISION");setShowWelcomePanel(false)}}):null,showSettings?_react.default.createElement(_settings.Settings,{onClose:function onClose(){return setShowSettings(false)}}):null,showHelp?_react.default.createElement(_components.HelpPanel,{onClose:function onClose(){return setShowHelp(false)}}):null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ConsoleHistory",{enumerable:true,get:function get(){return _console_history.ConsoleHistory}});var _console_history=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConsoleHistory=ConsoleHistory;var _react=_interopRequireWildcard(__webpack_require__(21));var _i18n=__webpack_require__(3);var _lodash=__webpack_require__(35);var _moment=_interopRequireDefault(__webpack_require__(29));var _eui=__webpack_require__(22);var _contexts=__webpack_require__(38);var _history_viewer=__webpack_require__(105);var _editor_context=__webpack_require__(47);var _hooks=__webpack_require__(52);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CHILD_ELEMENT_PREFIX="historyReq";function ConsoleHistory(_ref){var close=_ref.close;var _useServicesContext=(0,_contexts.useServicesContext)(),history=_useServicesContext.services.history;var _useEditorReadContext=(0,_editor_context.useEditorReadContext)(),readOnlySettings=_useEditorReadContext.settings;var _useState=(0,_react.useState)(history.getHistory()),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setPastRequests=_useState2[1];var clearHistory=(0,_react.useCallback)((function(){history.clearHistory();setPastRequests(history.getHistory())}),[history]);var listRef=(0,_react.useRef)(null);var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),viewingReq=_useState4[0],setViewingReq=_useState4[1];var _useState5=(0,_react.useState)(0),_useState6=_slicedToArray(_useState5,2),selectedIndex=_useState6[0],setSelectedIndex=_useState6[1];var selectedReq=(0,_react.useRef)(null);var describeReq=(0,_react.useMemo)((function(){var _describeReq=function _describeReq(req){var endpoint=req.endpoint;var date=(0,_moment.default)(req.time);var formattedDate=date.format("MMM D");if(date.diff((0,_moment.default)(),"days")>-7){formattedDate=date.fromNow()}return"".concat(endpoint," (").concat(formattedDate,")")};_describeReq.cache=new WeakMap;return(0,_lodash.memoize)(_describeReq)}),[]);var scrollIntoView=(0,_react.useCallback)((function(idx){var activeDescendant=listRef.current.querySelector("#".concat(CHILD_ELEMENT_PREFIX).concat(idx));if(activeDescendant){activeDescendant.scrollIntoView()}}),[]);var initialize=(0,_react.useCallback)((function(){var nextSelectedIndex=0;describeReq.cache=new WeakMap;setViewingReq(requests[nextSelectedIndex]);selectedReq.current=requests[nextSelectedIndex];setSelectedIndex(nextSelectedIndex);scrollIntoView(nextSelectedIndex)}),[describeReq,requests,scrollIntoView]);var clear=function clear(){clearHistory();initialize()};var restoreRequestFromHistory=(0,_hooks.useRestoreRequestFromHistory)();(0,_react.useEffect)((function(){initialize()}),[initialize]);(0,_react.useEffect)((function(){var done=history.change(setPastRequests);return function(){return done()}}),[history]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("div",{className:"conHistory"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_i18n.i18n.translate("console.historyPage.pageTitle",{defaultMessage:"History"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("div",{className:"conHistory__body"},_react.default.createElement("ul",{ref:listRef,onKeyDown:function onKeyDown(ev){if(ev.keyCode===_eui.keyCodes.ENTER){restoreRequestFromHistory(selectedReq.current);return}var currentIdx=selectedIndex;if(ev.keyCode===_eui.keyCodes.UP){ev.preventDefault();--currentIdx}else if(ev.keyCode===_eui.keyCodes.DOWN){ev.preventDefault();++currentIdx}var nextSelectedIndex=Math.min(Math.max(0,currentIdx),requests.length-1);setViewingReq(requests[nextSelectedIndex]);selectedReq.current=requests[nextSelectedIndex];setSelectedIndex(nextSelectedIndex);scrollIntoView(nextSelectedIndex)},role:"listbox",className:"list-group conHistory__reqs",tabIndex:0,"aria-activedescendant":"".concat(CHILD_ELEMENT_PREFIX).concat(selectedIndex),"aria-label":_i18n.i18n.translate("console.historyPage.requestListAriaLabel",{defaultMessage:"History of sent requests"})},requests.map((function(req,idx){var reqDescription=describeReq(req);var isSelected=viewingReq===req;return(_react.default.createElement("li",{key:idx,id:"".concat(CHILD_ELEMENT_PREFIX).concat(idx),className:"list-group-item conHistory__req ".concat(isSelected?"conHistory__req-selected":""),onClick:function onClick(){setViewingReq(req);selectedReq.current=req;setSelectedIndex(idx)},role:"option",onMouseEnter:function onMouseEnter(){return setViewingReq(req)},onMouseLeave:function onMouseLeave(){return setViewingReq(selectedReq.current)},onDoubleClick:function onDoubleClick(){return restoreRequestFromHistory(selectedReq.current)},"aria-label":_i18n.i18n.translate("console.historyPage.itemOfRequestListAriaLabel",{defaultMessage:"Request: {historyItem}",values:{historyItem:reqDescription}}),"aria-selected":isSelected},reqDescription,_react.default.createElement("span",{className:"conHistory__reqIcon"},_react.default.createElement(_eui.EuiIcon,{type:"arrowRight"}))))}))),_react.default.createElement("div",{className:"conHistory__body__spacer"}),_react.default.createElement(_history_viewer.HistoryViewer,{settings:readOnlySettings,req:viewingReq})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:function onClick(){return clear()}},_i18n.i18n.translate("console.historyPage.clearHistoryButtonLabel",{defaultMessage:"Clear"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:function onClick(){return close()}},_i18n.i18n.translate("console.historyPage.closehistoryButtonLabel",{defaultMessage:"Close"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{color:"primary",disabled:!selectedReq,onClick:function onClick(){return restoreRequestFromHistory(selectedReq.current)}},_i18n.i18n.translate("console.historyPage.applyHistoryButtonLabel",{defaultMessage:"Apply"}))))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HistoryViewer=HistoryViewer;var _react=_interopRequireWildcard(__webpack_require__(21));var _i18n=__webpack_require__(3);var _subscribe_console_resize_checker=__webpack_require__(48);var InputMode=_interopRequireWildcard(__webpack_require__(64));var editor=_interopRequireWildcard(__webpack_require__(44));var _apply_editor_settings=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var inputMode=new InputMode.Mode;function HistoryViewer(_ref){var settings=_ref.settings,req=_ref.req;var divRef=(0,_react.useRef)(null);var viewerRef=(0,_react.useRef)(null);(0,_react.useEffect)((function(){var viewer=editor.createReadOnlyAceEditor(divRef.current);viewerRef.current=viewer;var unsubscribe=(0,_subscribe_console_resize_checker.subscribeResizeChecker)(divRef.current,viewer);return function(){return unsubscribe()}}),[]);(0,_react.useEffect)((function(){(0,_apply_editor_settings.applyCurrentSettings)(viewerRef.current,settings)}),[settings]);if(viewerRef.current){var viewer=viewerRef.current;if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.update(s,inputMode);viewer.clearSelection()}else{viewer.update(_i18n.i18n.translate("console.historyPage.noHistoryTextMessage",{defaultMessage:"No history available"}),inputMode)}}return _react.default.createElement("div",{className:"conHistory__viewer",ref:divRef})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.workerModule=void 0;var _worker=_interopRequireDefault(__webpack_require__(107));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var workerModule={id:"sense_editor/mode/worker",src:_worker.default};exports.workerModule=workerModule},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]="/* eslint-disable */\n/* \n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the javascript\n  mode from the brace distro.\n*/\n\n(function (window) {\n  function resolveModuleId(id, paths) {\n    for (let testPath = id, tail = ''; testPath;) {\n      let alias = paths[testPath];\n      if ('string' === typeof alias) return alias + tail;\n      if (alias)\n        {return (\n          alias.location.replace(/\\/*$/, '/') +\n          (tail || alias.main || alias.name)\n        );}\n      if (alias === !1) return '';\n      let i = testPath.lastIndexOf('/');\n      if (-1 === i) break;\n      (tail = testPath.substr(i) + tail), (testPath = testPath.slice(0, i));\n    }\n    return id;\n  }\n  if (\n    !(\n      (void 0 !== window.window && window.document) ||\n      (window.acequire && window.define)\n    )\n  ) {\n    window.console ||\n      ((window.console = function () {\n        let msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({ type: 'log', data: msgs });\n      }),\n        (window.console.error = window.console.warn = window.console.log = window.console.trace =\n        window.console)),\n    (window.window = window),\n    (window.ace = window),\n    (window.onerror = function (message, file, line, col, err) {\n      postMessage({\n        type: 'error',\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack,\n        },\n      });\n    }),\n    (window.normalizeModule = function (parentId, moduleName) {\n      if (-1 !== moduleName.indexOf('!')) {\n        let chunks = moduleName.split('!');\n        return (\n          window.normalizeModule(parentId, chunks[0]) +\n            '!' +\n            window.normalizeModule(parentId, chunks[1])\n        );\n      }\n      if ('.' == moduleName.charAt(0)) {\n        let base = parentId\n          .split('/')\n          .slice(0, -1)\n          .join('/');\n        for (\n          moduleName = (base ? base + '/' : '') + moduleName;\n          -1 !== moduleName.indexOf('.') && previous != moduleName;\n\n        ) {\n          var previous = moduleName;\n          moduleName = moduleName\n            .replace(/^\\.\\//, '')\n            .replace(/\\/\\.\\//, '/')\n            .replace(/[^\\/]+\\/\\.\\.\\//, '');\n        }\n      }\n      return moduleName;\n    }),\n    (window.acequire = function acequire(parentId, id) {\n      if ((id || ((id = parentId), (parentId = null)), !id.charAt))\n        {throw Error(\n            'worker.js acequire() accepts only (parentId, id) as arguments'\n          );}\n      id = window.normalizeModule(parentId, id);\n      let module = window.acequire.modules[id];\n      if (module)\n        {return (\n            module.initialized ||\n              ((module.initialized = !0),\n              (module.exports = module.factory().exports)),\n            module.exports\n          );}\n      if (!window.acequire.tlns) return console.log('unable to load ' + id);\n      let path = resolveModuleId(id, window.acequire.tlns);\n      return (\n        '.js' != path.slice(-3) && (path += '.js'),\n        (window.acequire.id = id),\n        (window.acequire.modules[id] = {}),\n        importScripts(path),\n        window.acequire(parentId, id)\n      );\n    }),\n    (window.acequire.modules = {}),\n    (window.acequire.tlns = {}),\n    (window.define = function (id, deps, factory) {\n      if (\n        (2 == arguments.length\n          ? ((factory = deps),\n            'string' !== typeof id && ((deps = id), (id = window.acequire.id)))\n          : 1 == arguments.length &&\n              ((factory = id), (deps = []), (id = window.acequire.id)),\n          'function' !== typeof factory)\n      )\n        {return (\n            (window.acequire.modules[id] = {\n              exports: factory,\n              initialized: !0,\n            }),\n            void 0\n          );}\n      deps.length || (deps = ['require', 'exports', 'module']);\n      let req = function (childId) {\n        return window.acequire(id, childId);\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function () {\n          let module = this,\n            returnExports = factory.apply(\n              this,\n              deps.map(function (dep) {\n                switch (dep) {\n                  case 'require':\n                    return req;\n                  case 'exports':\n                    return module.exports;\n                  case 'module':\n                    return module;\n                  default:\n                    return req(dep);\n                }\n              })\n            );\n          return returnExports && (module.exports = returnExports), module;\n        },\n      };\n    }),\n    (window.define.amd = {}),\n    (acequire.tlns = {}),\n    (window.initBaseUrls = function (topLevelNamespaces) {\n      for (let i in topLevelNamespaces)\n        {acequire.tlns[i] = topLevelNamespaces[i];}\n    }),\n    (window.initSender = function () {\n      let EventEmitter = window.acequire('ace/lib/event_emitter')\n          .EventEmitter,\n        oop = window.acequire('ace/lib/oop'),\n        Sender = function () {};\n      return (\n        function () {\n          oop.implement(this, EventEmitter),\n          (this.callback = function (data, callbackId) {\n            postMessage({ type: 'call', id: callbackId, data: data });\n          }),\n          (this.emit = function (name, data) {\n            postMessage({ type: 'event', name: name, data: data });\n          });\n        }.call(Sender.prototype),\n        new Sender()\n      );\n    });\n    let main = (window.main = null),\n      sender = (window.sender = null);\n    window.onmessage = function (e) {\n      let msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        {if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command])\n            throw Error('Unknown command:' + msg.command);\n          window[msg.command].apply(window, msg.args);\n        }}\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns),\n        acequire('ace/lib/es5-shim'),\n        (sender = window.sender = window.initSender());\n        let clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n      }\n    };\n  }\n}(this)),\nace.define('ace/lib/oop', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.inherits = function (ctor, superCtor) {\n    (ctor.super_ = superCtor),\n    (ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0,\n      },\n    }));\n  }),\n  (exports.mixin = function (obj, mixin) {\n    for (let key in mixin) obj[key] = mixin[key];\n    return obj;\n  }),\n  (exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  });\n}),\nace.define('ace/range', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  let comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    },\n    Range = function (startRow, startColumn, endRow, endColumn) {\n      (this.start = { row: startRow, column: startColumn }),\n      (this.end = { row: endRow, column: endColumn });\n    };\n  (function () {\n    (this.isEqual = function (range) {\n      return (\n        this.start.row === range.start.row &&\n          this.end.row === range.end.row &&\n          this.start.column === range.start.column &&\n          this.end.column === range.end.column\n      );\n    }),\n    (this.toString = function () {\n      return (\n        'Range: [' +\n            this.start.row +\n            '/' +\n            this.start.column +\n            '] -> [' +\n            this.end.row +\n            '/' +\n            this.end.column +\n            ']'\n      );\n    }),\n    (this.contains = function (row, column) {\n      return 0 == this.compare(row, column);\n    }),\n    (this.compareRange = function (range) {\n      let cmp,\n        end = range.end,\n        start = range.start;\n      return (\n        (cmp = this.compare(end.row, end.column)),\n        1 == cmp\n          ? ((cmp = this.compare(start.row, start.column)),\n            1 == cmp ? 2 : 0 == cmp ? 1 : 0)\n          : -1 == cmp\n            ? -2\n            : ((cmp = this.compare(start.row, start.column)),\n              -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n      );\n    }),\n    (this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    }),\n    (this.containsRange = function (range) {\n      return (\n        0 == this.comparePoint(range.start) &&\n            0 == this.comparePoint(range.end)\n      );\n    }),\n    (this.intersects = function (range) {\n      let cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp;\n    }),\n    (this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    }),\n    (this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    }),\n    (this.setStart = function (row, column) {\n      'object' === typeof row\n        ? ((this.start.column = row.column), (this.start.row = row.row))\n        : ((this.start.row = row), (this.start.column = column));\n    }),\n    (this.setEnd = function (row, column) {\n      'object' === typeof row\n        ? ((this.end.column = row.column), (this.end.row = row.row))\n        : ((this.end.row = row), (this.end.column = column));\n    }),\n    (this.inside = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column) || this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideStart = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideEnd = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.compare = function (row, column) {\n      return this.isMultiLine() || row !== this.start.row\n        ? this.start.row > row\n          ? -1\n          : row > this.end.row\n            ? 1\n            : this.start.row === row\n              ? column >= this.start.column\n                ? 0\n                : -1\n              : this.end.row === row\n                ? this.end.column >= column\n                  ? 0\n                  : 1\n                : 0\n        : this.start.column > column\n          ? -1\n          : column > this.end.column\n            ? 1\n            : 0;\n    }),\n    (this.compareStart = function (row, column) {\n      return this.start.row == row && this.start.column == column\n        ? -1\n        : this.compare(row, column);\n    }),\n    (this.compareEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.compare(row, column);\n    }),\n    (this.compareInside = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.start.row == row && this.start.column == column\n          ? -1\n          : this.compare(row, column);\n    }),\n    (this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (firstRow > this.end.row)\n        {var end = { row: firstRow, column: 0 };}\n      if (this.start.row > lastRow)\n        {var start = { row: lastRow + 1, column: 0 };}\n      else if (firstRow > this.start.row)\n        {var start = { row: firstRow, column: 0 };}\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.extend = function (row, column) {\n      let cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.isEmpty = function () {\n      return (\n        this.start.row === this.end.row &&\n            this.start.column === this.end.column\n      );\n    }),\n    (this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    }),\n    (this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    }),\n    (this.collapseRows = function () {\n      return 0 == this.end.column\n        ? new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        )\n        : new Range(this.start.row, 0, this.end.row, 0);\n    }),\n    (this.toScreenRange = function (session) {\n      let screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    }),\n    (this.moveBy = function (row, column) {\n      (this.start.row += row),\n      (this.start.column += column),\n      (this.end.row += row),\n      (this.end.column += column);\n    });\n  }.call(Range.prototype),\n    (Range.fromPoints = function (start, end) {\n      return new Range(start.row, start.column, end.row, end.column);\n    }),\n    (Range.comparePoints = comparePoints),\n    (Range.comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    }),\n    (exports.Range = Range));\n}),\nace.define('ace/apply_delta', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  exports.applyDelta = function (docLines, delta) {\n    let row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || '';\n    switch (delta.action) {\n      case 'insert':\n        var lines = delta.lines;\n        if (1 === lines.length)\n          {docLines[row] =\n              line.substring(0, startColumn) +\n              delta.lines[0] +\n              line.substring(startColumn);}\n        else {\n          let args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args),\n          (docLines[row] = line.substring(0, startColumn) + docLines[row]),\n          (docLines[row + delta.lines.length - 1] += line.substring(\n            startColumn\n          ));\n        }\n        break;\n      case 'remove':\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow\n          ? (docLines[row] =\n                line.substring(0, startColumn) + line.substring(endColumn))\n          : docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n                  docLines[endRow].substring(endColumn)\n          );\n    }\n  };\n}),\nace.define(\n  'ace/lib/event_emitter',\n  ['require', 'exports', 'module'],\n  function (acequire, exports) {\n    \n    let EventEmitter = {},\n      stopPropagation = function () {\n        this.propagationStopped = !0;\n      },\n      preventDefault = function () {\n        this.defaultPrevented = !0;\n      };\n    (EventEmitter._emit = EventEmitter._dispatchEvent = function (\n      eventName,\n      e\n    ) {\n      this._eventRegistry || (this._eventRegistry = {}),\n      this._defaultHandlers || (this._defaultHandlers = {});\n      let listeners = this._eventRegistry[eventName] || [],\n        defaultHandler = this._defaultHandlers[eventName];\n      if (listeners.length || defaultHandler) {\n        ('object' === typeof e && e) || (e = {}),\n        e.type || (e.type = eventName),\n        e.stopPropagation || (e.stopPropagation = stopPropagation),\n        e.preventDefault || (e.preventDefault = preventDefault),\n        (listeners = listeners.slice());\n        for (\n          let i = 0;\n          listeners.length > i &&\n            (listeners[i](e, this), !e.propagationStopped);\n          i++\n        );\n        return defaultHandler && !e.defaultPrevented\n          ? defaultHandler(e, this)\n          : void 0;\n      }\n    }),\n    (EventEmitter._signal = function (eventName, e) {\n      let listeners = (this._eventRegistry || {})[eventName];\n      if (listeners) {\n        listeners = listeners.slice();\n        for (let i = 0; listeners.length > i; i++) listeners[i](e, this);\n      }\n    }),\n    (EventEmitter.once = function (eventName, callback) {\n      let _self = this;\n      callback &&\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback),\n              callback.apply(null, arguments);\n            });\n    }),\n    (EventEmitter.setDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (\n        (handlers ||\n              (handlers = this._defaultHandlers = { _disabled_: {} }),\n          handlers[eventName])\n      ) {\n        let old = handlers[eventName],\n          disabled = handlers._disabled_[eventName];\n        disabled || (handlers._disabled_[eventName] = disabled = []),\n        disabled.push(old);\n        let i = disabled.indexOf(callback);\n        -1 != i && disabled.splice(i, 1);\n      }\n      handlers[eventName] = callback;\n    }),\n    (EventEmitter.removeDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (handlers) {\n        let disabled = handlers._disabled_[eventName];\n        if (handlers[eventName] == callback)\n          {handlers[eventName],\n                disabled && this.setDefaultHandler(eventName, disabled.pop());}\n        else if (disabled) {\n          let i = disabled.indexOf(callback);\n          -1 != i && disabled.splice(i, 1);\n        }\n      }\n    }),\n    (EventEmitter.on = EventEmitter.addEventListener = function (\n      eventName,\n      callback,\n      capturing\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      return (\n        listeners || (listeners = this._eventRegistry[eventName] = []),\n        -1 == listeners.indexOf(callback) &&\n              listeners[capturing ? 'unshift' : 'push'](callback),\n        callback\n      );\n    }),\n    (EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (\n      eventName,\n      callback\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      if (listeners) {\n        let index = listeners.indexOf(callback);\n        -1 !== index && listeners.splice(index, 1);\n      }\n    }),\n    (EventEmitter.removeAllListeners = function (eventName) {\n      this._eventRegistry && (this._eventRegistry[eventName] = []);\n    }),\n    (exports.EventEmitter = EventEmitter);\n  }\n),\nace.define(\n  'ace/anchor',\n  ['require', 'exports', 'module', 'ace/lib/oop', 'ace/lib/event_emitter'],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Anchor = (exports.Anchor = function (doc, row, column) {\n        (this.$onChange = this.onChange.bind(this)),\n        this.attach(doc),\n        column === void 0\n          ? this.setPosition(row.row, row.column)\n          : this.setPosition(row, column);\n      });\n    (function () {\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        let bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        let deltaIsInsert = 'insert' == delta.action,\n          deltaRowShift =\n              (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n          deltaColShift =\n              (deltaIsInsert ? 1 : -1) *\n              (delta.end.column - delta.start.column),\n          deltaStart = delta.start,\n          deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n        return $pointsInOrder(point, deltaStart, moveIfEqual)\n          ? { row: point.row, column: point.column }\n          : $pointsInOrder(deltaEnd, point, !moveIfEqual)\n            ? {\n              row: point.row + deltaRowShift,\n              column:\n                    point.column +\n                    (point.row == deltaEnd.row ? deltaColShift : 0),\n            }\n            : { row: deltaStart.row, column: deltaStart.column };\n      }\n      oop.implement(this, EventEmitter),\n      (this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n      }),\n      (this.getDocument = function () {\n        return this.document;\n      }),\n      (this.$insertRight = !1),\n      (this.onChange = function (delta) {\n        if (\n          !(\n            (delta.start.row == delta.end.row &&\n                  delta.start.row != this.row) ||\n                delta.start.row > this.row\n          )\n        ) {\n          let point = $getTransformedPoint(\n            delta,\n            { row: this.row, column: this.column },\n            this.$insertRight\n          );\n          this.setPosition(point.row, point.column, !0);\n        }\n      }),\n      (this.setPosition = function (row, column, noClip) {\n        let pos;\n        if (\n          ((pos = noClip\n            ? { row: row, column: column }\n            : this.$clipPositionToDocument(row, column)),\n            this.row != pos.row || this.column != pos.column)\n        ) {\n          let old = { row: this.row, column: this.column };\n          (this.row = pos.row),\n          (this.column = pos.column),\n          this._signal('change', { old: old, value: pos });\n        }\n      }),\n      (this.detach = function () {\n        this.document.removeEventListener('change', this.$onChange);\n      }),\n      (this.attach = function (doc) {\n        (this.document = doc || this.document),\n        this.document.on('change', this.$onChange);\n      }),\n      (this.$clipPositionToDocument = function (row, column) {\n        let pos = {};\n        return (\n          row >= this.document.getLength()\n            ? ((pos.row = Math.max(0, this.document.getLength() - 1)),\n              (pos.column = this.document.getLine(pos.row).length))\n            : 0 > row\n              ? ((pos.row = 0), (pos.column = 0))\n              : ((pos.row = row),\n                (pos.column = Math.min(\n                  this.document.getLine(pos.row).length,\n                  Math.max(0, column)\n                ))),\n          0 > column && (pos.column = 0),\n          pos\n        );\n      });\n    }.call(Anchor.prototype));\n  }\n),\nace.define(\n  'ace/document',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/apply_delta',\n    'ace/lib/event_emitter',\n    'ace/range',\n    'ace/anchor',\n  ],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      applyDelta = acequire('./apply_delta').applyDelta,\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Range = acequire('./range').Range,\n      Anchor = acequire('./anchor').Anchor,\n      Document = function (textOrLines) {\n        (this.$lines = ['']),\n        0 === textOrLines.length\n          ? (this.$lines = [''])\n          : Array.isArray(textOrLines)\n            ? this.insertMergedLines({ row: 0, column: 0 }, textOrLines)\n            : this.insert({ row: 0, column: 0 }, textOrLines);\n      };\n    (function () {\n      oop.implement(this, EventEmitter),\n      (this.setValue = function (text) {\n        let len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length)),\n        this.insert({ row: 0, column: 0 }, text);\n      }),\n      (this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      }),\n      (this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n      }),\n      (this.$split =\n            0 === 'aaa'.split(/a/).length\n              ? function (text) {\n                return text.replace(/\\r\\n|\\r/g, '\\n').split('\\n');\n              }\n              : function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              }),\n      (this.$detectNewLine = function (text) {\n        let match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        (this.$autoNewLine = match ? match[1] : '\\n'),\n        this._signal('changeNewLineMode');\n      }),\n      (this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n          case 'windows':\n            return '\\r\\n';\n          case 'unix':\n            return '\\n';\n          default:\n            return this.$autoNewLine || '\\n';\n        }\n      }),\n      (this.$autoNewLine = ''),\n      (this.$newLineMode = 'auto'),\n      (this.setNewLineMode = function (newLineMode) {\n        this.$newLineMode !== newLineMode &&\n              ((this.$newLineMode = newLineMode),\n                this._signal('changeNewLineMode'));\n      }),\n      (this.getNewLineMode = function () {\n        return this.$newLineMode;\n      }),\n      (this.isNewLine = function (text) {\n        return '\\r\\n' == text || '\\r' == text || '\\n' == text;\n      }),\n      (this.getLine = function (row) {\n        return this.$lines[row] || '';\n      }),\n      (this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      }),\n      (this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n      }),\n      (this.getLength = function () {\n        return this.$lines.length;\n      }),\n      (this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(\n          this.getNewLineCharacter()\n        );\n      }),\n      (this.getLinesForRange = function (range) {\n        let lines;\n        if (range.start.row === range.end.row)\n          {lines = [\n                this.getLine(range.start.row).substring(\n                  range.start.column,\n                  range.end.column\n                ),\n              ];}\n        else {\n          (lines = this.getLines(range.start.row, range.end.row)),\n          (lines[0] = (lines[0] || '').substring(range.start.column));\n          let l = lines.length - 1;\n          range.end.row - range.start.row == l &&\n                (lines[l] = lines[l].substring(0, range.end.column));\n        }\n        return lines;\n      }),\n      (this.insertLines = function (row, lines) {\n        return (\n          console.warn(\n            'Use of document.insertLines is deprecated. Use the insertFullLines method instead.'\n          ),\n          this.insertFullLines(row, lines)\n        );\n      }),\n      (this.removeLines = function (firstRow, lastRow) {\n        return (\n          console.warn(\n            'Use of document.removeLines is deprecated. Use the removeFullLines method instead.'\n          ),\n          this.removeFullLines(firstRow, lastRow)\n        );\n      }),\n      (this.insertNewLine = function (position) {\n        return (\n          console.warn(\n            'Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.'\n          ),\n          this.insertMergedLines(position, ['', ''])\n        );\n      }),\n      (this.insert = function (position, text) {\n        return (\n          1 >= this.getLength() && this.$detectNewLine(text),\n          this.insertMergedLines(position, this.$split(text))\n        );\n      }),\n      (this.insertInLine = function (position, text) {\n        let start = this.clippedPos(position.row, position.column),\n          end = this.pos(position.row, position.column + text.length);\n        return (\n          this.applyDelta(\n            { start: start, end: end, action: 'insert', lines: [text] },\n            !0\n          ),\n          this.clonePos(end)\n        );\n      }),\n      (this.clippedPos = function (row, column) {\n        let length = this.getLength();\n        void 0 === row\n          ? (row = length)\n          : 0 > row\n            ? (row = 0)\n            : row >= length && ((row = length - 1), (column = void 0));\n        let line = this.getLine(row);\n        return (\n          void 0 == column && (column = line.length),\n          (column = Math.min(Math.max(column, 0), line.length)),\n          { row: row, column: column }\n        );\n      }),\n      (this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n      }),\n      (this.pos = function (row, column) {\n        return { row: row, column: column };\n      }),\n      (this.$clipPosition = function (position) {\n        let length = this.getLength();\n        return (\n          position.row >= length\n            ? ((position.row = Math.max(0, length - 1)),\n              (position.column = this.getLine(length - 1).length))\n            : ((position.row = Math.max(0, position.row)),\n              (position.column = Math.min(\n                Math.max(position.column, 0),\n                this.getLine(position.row).length\n              ))),\n          position\n        );\n      }),\n      (this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        let column = 0;\n        this.getLength() > row\n          ? ((lines = lines.concat([''])), (column = 0))\n          : ((lines = [''].concat(lines)),\n            row--,\n            (column = this.$lines[row].length)),\n        this.insertMergedLines({ row: row, column: column }, lines);\n      }),\n      (this.insertMergedLines = function (position, lines) {\n        let start = this.clippedPos(position.row, position.column),\n          end = {\n            row: start.row + lines.length - 1,\n            column:\n                  (1 == lines.length ? start.column : 0) +\n                  lines[lines.length - 1].length,\n          };\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'insert',\n            lines: lines,\n          }),\n          this.clonePos(end)\n        );\n      }),\n      (this.remove = function (range) {\n        let start = this.clippedPos(range.start.row, range.start.column),\n          end = this.clippedPos(range.end.row, range.end.column);\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'remove',\n            lines: this.getLinesForRange({ start: start, end: end }),\n          }),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeInLine = function (row, startColumn, endColumn) {\n        let start = this.clippedPos(row, startColumn),\n          end = this.clippedPos(row, endColumn);\n        return (\n          this.applyDelta(\n            {\n              start: start,\n              end: end,\n              action: 'remove',\n              lines: this.getLinesForRange({ start: start, end: end }),\n            },\n            !0\n          ),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeFullLines = function (firstRow, lastRow) {\n        (firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1)),\n        (lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1));\n        let deleteFirstNewLine =\n                lastRow == this.getLength() - 1 && firstRow > 0,\n          deleteLastNewLine = this.getLength() - 1 > lastRow,\n          startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n          startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n          endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n          endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n          range = new Range(startRow, startCol, endRow, endCol),\n          deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        return (\n          this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: 'remove',\n            lines: this.getLinesForRange(range),\n          }),\n          deletedLines\n        );\n      }),\n      (this.removeNewLine = function (row) {\n        this.getLength() - 1 > row &&\n              row >= 0 &&\n              this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: 'remove',\n                lines: ['', ''],\n              });\n      }),\n      (this.replace = function (range, text) {\n        if (\n          (range instanceof Range ||\n                (range = Range.fromPoints(range.start, range.end)),\n            0 === text.length && range.isEmpty())\n        )\n          {return range.start;}\n        if (text == this.getTextRange(range)) return range.end;\n        this.remove(range);\n        let end;\n        return (end = text ? this.insert(range.start, text) : range.start);\n      }),\n      (this.applyDeltas = function (deltas) {\n        for (let i = 0; deltas.length > i; i++) this.applyDelta(deltas[i]);\n      }),\n      (this.revertDeltas = function (deltas) {\n        for (let i = deltas.length - 1; i >= 0; i--)\n          {this.revertDelta(deltas[i]);}\n      }),\n      (this.applyDelta = function (delta, doNotValidate) {\n        let isInsert = 'insert' == delta.action;\n        (isInsert\n          ? 1 >= delta.lines.length && !delta.lines[0]\n          : !Range.comparePoints(delta.start, delta.end)) ||\n              (isInsert &&\n                delta.lines.length > 2e4 &&\n                this.$splitAndapplyLargeDelta(delta, 2e4),\n                applyDelta(this.$lines, delta, doNotValidate),\n                this._signal('change', delta));\n      }),\n      (this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        for (\n          let lines = delta.lines,\n            l = lines.length,\n            row = delta.start.row,\n            column = delta.start.column,\n            from = 0,\n            to = 0;\n          ;\n\n        ) {\n          (from = to), (to += MAX - 1);\n          let chunk = lines.slice(from, to);\n          if (to > l) {\n            (delta.lines = chunk),\n            (delta.start.row = row + from),\n            (delta.start.column = column);\n            break;\n          }\n          chunk.push(''),\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk,\n            },\n            !0\n          );\n        }\n      }),\n      (this.revertDelta = function (delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: 'insert' == delta.action ? 'remove' : 'insert',\n          lines: delta.lines.slice(),\n        });\n      }),\n      (this.indexToPosition = function (index, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            i = startRow || 0,\n            l = lines.length;\n          l > i;\n          i++\n        )\n          {if (((index -= lines[i].length + newlineLength), 0 > index))\n                return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength,\n                };}\n        return { row: l - 1, column: lines[l - 1].length };\n      }),\n      (this.positionToIndex = function (pos, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            index = 0,\n            row = Math.min(pos.row, lines.length),\n            i = startRow || 0;\n          row > i;\n          ++i\n        )\n          {index += lines[i].length + newlineLength;}\n        return index + pos.column;\n      });\n    }.call(Document.prototype),\n      (exports.Document = Document));\n  }\n),\nace.define('ace/lib/lang', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.last = function (a) {\n    return a[a.length - 1];\n  }),\n  (exports.stringReverse = function (string) {\n    return string\n      .split('')\n      .reverse()\n      .join('');\n  }),\n  (exports.stringRepeat = function (string, count) {\n    for (var result = ''; count > 0;)\n      {1 & count && (result += string), (count >>= 1) && (string += string);}\n    return result;\n  });\n  let trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  (exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  }),\n  (exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  }),\n  (exports.copyObject = function (obj) {\n    let copy = {};\n    for (let key in obj) copy[key] = obj[key];\n    return copy;\n  }),\n  (exports.copyArray = function (array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++)\n      {copy[i] =\n            array[i] && 'object' == typeof array[i]\n              ? this.copyObject(array[i])\n              : array[i];}\n    return copy;\n  }),\n  (exports.deepCopy = function deepCopy(obj) {\n    if ('object' !== typeof obj || !obj) return obj;\n    let copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++)\n        {copy[key] = deepCopy(obj[key]);}\n      return copy;\n    }\n    if ('[object Object]' !== Object.prototype.toString.call(obj))\n      {return obj;}\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  }),\n  (exports.arrayToMap = function (arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map;\n  }),\n  (exports.createMap = function (props) {\n    let map = Object.create(null);\n    for (let i in props) map[i] = props[i];\n    return map;\n  }),\n  (exports.arrayRemove = function (array, value) {\n    for (let i = 0; array.length >= i; i++)\n      {value === array[i] && array.splice(i, 1);}\n  }),\n  (exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }),\n  (exports.escapeHTML = function (str) {\n    return str\n      .replace(/&/g, '&#38;')\n      .replace(/\"/g, '&#34;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&#60;');\n  }),\n  (exports.getMatchOffsets = function (string, regExp) {\n    let matches = [];\n    return (\n      string.replace(regExp, function (str) {\n        matches.push({\n          offset: arguments[arguments.length - 2],\n          length: str.length,\n        });\n      }),\n      matches\n    );\n  }),\n  (exports.deferredCall = function (fcn) {\n    var timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      deferred = function (timeout) {\n        return (\n          deferred.cancel(),\n          (timer = setTimeout(callback, timeout || 0)),\n          deferred\n        );\n      };\n    return (\n      (deferred.schedule = deferred),\n      (deferred.call = function () {\n        return this.cancel(), fcn(), deferred;\n      }),\n      (deferred.cancel = function () {\n        return clearTimeout(timer), (timer = null), deferred;\n      }),\n      (deferred.isPending = function () {\n        return timer;\n      }),\n      deferred\n    );\n  }),\n  (exports.delayedCall = function (fcn, defaultTimeout) {\n    let timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      _self = function (timeout) {\n        null == timer &&\n              (timer = setTimeout(callback, timeout || defaultTimeout));\n      };\n    return (\n      (_self.delay = function (timeout) {\n        timer && clearTimeout(timer),\n        (timer = setTimeout(callback, timeout || defaultTimeout));\n      }),\n      (_self.schedule = _self),\n      (_self.call = function () {\n        this.cancel(), fcn();\n      }),\n      (_self.cancel = function () {\n        timer && clearTimeout(timer), (timer = null);\n      }),\n      (_self.isPending = function () {\n        return timer;\n      }),\n      _self\n    );\n  });\n}),\nace.define(\n  'ace/worker/mirror',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/range',\n    'ace/document',\n    'ace/lib/lang',\n  ],\n  function (acequire, exports) {\n    \n    acequire('../range').Range;\n    let Document = acequire('../document').Document,\n      lang = acequire('../lib/lang'),\n      Mirror = (exports.Mirror = function (sender) {\n        this.sender = sender;\n        let doc = (this.doc = new Document('')),\n          deferredUpdate = (this.deferredUpdate = lang.delayedCall(\n            this.onUpdate.bind(this)\n          )),\n          _self = this;\n        sender.on('change', function (e) {\n          let data = e.data;\n          if (data[0].start) doc.applyDeltas(data);\n          else\n            {for (var i = 0; data.length > i; i += 2) {\n                if (Array.isArray(data[i + 1]))\n                  var d = {\n                    action: 'insert',\n                    start: data[i],\n                    lines: data[i + 1],\n                  };\n                else\n                  var d = {\n                    action: 'remove',\n                    start: data[i],\n                    end: data[i + 1],\n                  };\n                doc.applyDelta(d, !0);\n              }}\n          return _self.$timeout\n            ? deferredUpdate.schedule(_self.$timeout)\n            : (_self.onUpdate(), void 0);\n        });\n      });\n    (function () {\n      (this.$timeout = 500),\n      (this.setTimeout = function (timeout) {\n        this.$timeout = timeout;\n      }),\n      (this.setValue = function (value) {\n        this.doc.setValue(value),\n        this.deferredUpdate.schedule(this.$timeout);\n      }),\n      (this.getValue = function (callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n      }),\n      (this.onUpdate = function () {}),\n      (this.isPending = function () {\n        return this.deferredUpdate.isPending();\n      });\n    }.call(Mirror.prototype));\n  }\n),\nace.define('ace/lib/es5-shim', ['require', 'exports', 'module'], function () {\n  function Empty() {}\n  function doesDefinePropertyWork(object) {\n    try {\n      return (\n        Object.defineProperty(object, 'sentinel', {}), 'sentinel' in object\n      );\n    } catch (exception) {}\n  }\n  function toInteger(n) {\n    return (\n      (n = +n),\n      n !== n\n        ? (n = 0)\n        : 0 !== n &&\n            n !== 1 / 0 &&\n            n !== -(1 / 0) &&\n            (n = (n > 0 || -1) * Math.floor(Math.abs(n))),\n      n\n    );\n  }\n  Function.prototype.bind ||\n      (Function.prototype.bind = function (that) {\n        let target = this;\n        if ('function' !== typeof target)\n          {throw new TypeError(\n            'Function.prototype.bind called on incompatible ' + target\n          );}\n        var args = slice.call(arguments, 1),\n          bound = function () {\n            if (this instanceof bound) {\n              let result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n              );\n              return Object(result) === result ? result : this;\n            }\n            return target.apply(that, args.concat(slice.call(arguments)));\n          };\n        return (\n          target.prototype &&\n            ((Empty.prototype = target.prototype),\n              (bound.prototype = new Empty()),\n              (Empty.prototype = null)),\n          bound\n        );\n      });\n  var defineGetter,\n    defineSetter,\n    lookupGetter,\n    lookupSetter,\n    supportsAccessors,\n    call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if (\n    ((supportsAccessors = owns(prototypeOfObject, '__defineGetter__')) &&\n        ((defineGetter = call.bind(prototypeOfObject.__defineGetter__)),\n          (defineSetter = call.bind(prototypeOfObject.__defineSetter__)),\n          (lookupGetter = call.bind(prototypeOfObject.__lookupGetter__)),\n          (lookupSetter = call.bind(prototypeOfObject.__lookupSetter__))),\n      2 != [1, 2].splice(0).length)\n  )\n    {if (\n        (function() {\n          function makeArray(l) {\n            var a = Array(l + 2);\n            return (a[0] = a[1] = 0), a;\n          }\n          var lengthBefore,\n            array = [];\n          return (\n            array.splice.apply(array, makeArray(20)),\n            array.splice.apply(array, makeArray(26)),\n            (lengthBefore = array.length),\n            array.splice(5, 0, 'XXX'),\n            lengthBefore + 1 == array.length,\n            lengthBefore + 1 == array.length ? !0 : void 0\n          );\n        })()\n      ) {\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n          return arguments.length\n            ? array_splice.apply(\n                this,\n                [\n                  void 0 === start ? 0 : start,\n                  void 0 === deleteCount ? this.length - start : deleteCount,\n                ].concat(slice.call(arguments, 2))\n              )\n            : [];\n        };\n      } else\n        Array.prototype.splice = function(pos, removeCount) {\n          var length = this.length;\n          pos > 0\n            ? pos > length && (pos = length)\n            : void 0 == pos\n              ? (pos = 0)\n              : 0 > pos && (pos = Math.max(length + pos, 0)),\n            length > pos + removeCount || (removeCount = length - pos);\n          var removed = this.slice(pos, pos + removeCount),\n            insert = slice.call(arguments, 2),\n            add = insert.length;\n          if (pos === length) add && this.push.apply(this, insert);\n          else {\n            var remove = Math.min(removeCount, length - pos),\n              tailOldPos = pos + remove,\n              tailNewPos = tailOldPos + add - remove,\n              tailCount = length - tailOldPos,\n              lengthAfterRemove = length - remove;\n            if (tailOldPos > tailNewPos)\n              for (var i = 0; tailCount > i; ++i)\n                this[tailNewPos + i] = this[tailOldPos + i];\n            else if (tailNewPos > tailOldPos)\n              for (i = tailCount; i--; )\n                this[tailNewPos + i] = this[tailOldPos + i];\n            if (add && pos === lengthAfterRemove)\n              (this.length = lengthAfterRemove), this.push.apply(this, insert);\n            else\n              for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i)\n                this[pos + i] = insert[i];\n          }\n          return removed;\n        };}\n  Array.isArray ||\n      (Array.isArray = function (obj) {\n        return '[object Array]' == _toString(obj);\n      });\n  let boxedString = Object('a'),\n    splitString = 'a' != boxedString[0] || !(0 in boxedString);\n  if (\n    (Array.prototype.forEach ||\n        (Array.prototype.forEach = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun)) throw new TypeError();\n          for (; length > ++i;)\n            {i in self && fun.call(thisp, self[i], i, object);}\n        }),\n      Array.prototype.map ||\n        (Array.prototype.map = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self && (result[i] = fun.call(thisp, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.filter ||\n        (Array.prototype.filter = function (fun) {\n          let value,\n            object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = [],\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self &&\n              ((value = self[i]),\n              fun.call(thisp, value, i, object) && result.push(value));}\n          return result;\n        }),\n      Array.prototype.every ||\n        (Array.prototype.every = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && !fun.call(thisp, self[i], i, object)) return !1;}\n          return !0;\n        }),\n      Array.prototype.some ||\n        (Array.prototype.some = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && fun.call(thisp, self[i], i, object)) return !0;}\n          return !1;\n        }),\n      Array.prototype.reduce ||\n        (Array.prototype.reduce = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError('reduce of empty array with no initial value');}\n          let result,\n            i = 0;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i++];\n                break;\n              }\n              if (++i >= length)\n                throw new TypeError(\n                  'reduce of empty array with no initial value'\n                );\n            }}\n          for (; length > i; i++)\n            {i in self &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.reduceRight ||\n        (Array.prototype.reduceRight = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError(\n              'reduceRight of empty array with no initial value'\n            );}\n          let result,\n            i = length - 1;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i--];\n                break;\n              }\n              if (0 > --i)\n                throw new TypeError(\n                  'reduceRight of empty array with no initial value'\n                );\n            }}\n          do\n            {i in this &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          while (i--);\n          return result;\n        }),\n      (Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2)) ||\n        (Array.prototype.indexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = 0;\n          for (\n            arguments.length > 1 && (i = toInteger(arguments[1])),\n            i = i >= 0 ? i : Math.max(0, length + i);\n            length > i;\n            i++\n          )\n            {if (i in self && self[i] === sought) return i;}\n          return -1;\n        }),\n      (Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3)) ||\n        (Array.prototype.lastIndexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = length - 1;\n          for (\n            arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))),\n            i = i >= 0 ? i : length - Math.abs(i);\n            i >= 0;\n            i--\n          )\n            {if (i in self && sought === self[i]) return i;}\n          return -1;\n        }),\n      Object.getPrototypeOf ||\n        (Object.getPrototypeOf = function (object) {\n          return (\n            object.__proto__ ||\n            (object.constructor\n              ? object.constructor.prototype\n              : prototypeOfObject)\n          );\n        }),\n      !Object.getOwnPropertyDescriptor)\n  ) {\n    let ERR_NON_OBJECT =\n        'Object.getOwnPropertyDescriptor called on a non-object: ';\n    Object.getOwnPropertyDescriptor = function (object, property) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT + object);}\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (\n          ((descriptor = { enumerable: !0, configurable: !0 }),\n            supportsAccessors)\n        ) {\n          let prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (((object.__proto__ = prototype), getter || setter))\n            {return (\n                getter && (descriptor.get = getter),\n                setter && (descriptor.set = setter),\n                descriptor\n              );}\n        }\n        return (descriptor.value = object[property]), descriptor;\n      }\n    };\n  }\n  if (\n    (Object.getOwnPropertyNames ||\n        (Object.getOwnPropertyNames = function (object) {\n          return Object.keys(object);\n        }),\n      !Object.create)\n  ) {\n    let createEmpty;\n    (createEmpty =\n        null === Object.prototype.__proto__\n          ? function () {\n            return { __proto__: null };\n          }\n          : function () {\n            let empty = {};\n            for (let i in empty) empty[i] = null;\n            return (\n              (empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null),\n              empty\n            );\n          }),\n    (Object.create = function (prototype, properties) {\n      let object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ('object' !== typeof prototype)\n          {throw new TypeError(\n                'typeof prototype[' + typeof prototype + \"] != 'object'\"\n              );}\n        let Type = function () {};\n        (Type.prototype = prototype),\n        (object = new Type()),\n        (object.__proto__ = prototype);\n      }\n      return (\n        void 0 !== properties &&\n              Object.defineProperties(object, properties),\n        object\n      );\n    });\n  }\n  if (Object.defineProperty) {\n    let definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom =\n          'undefined' === typeof document ||\n          doesDefinePropertyWork(document.createElement('div'));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom)\n      {var definePropertyFallback = Object.defineProperty;}\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    let ERR_NON_OBJECT_DESCRIPTOR =\n          'Property description must be an object: ',\n      ERR_NON_OBJECT_TARGET = 'Object.defineProperty called on non-object: ',\n      ERR_ACCESSORS_NOT_SUPPORTED =\n          'getters & setters can not be defined on this javascript engine';\n    Object.defineProperty = function (object, property, descriptor) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT_TARGET + object);}\n      if (\n        ('object' !== typeof descriptor && 'function' !== typeof descriptor) ||\n          null === descriptor\n      )\n        {throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);}\n      if (definePropertyFallback)\n        {try {\n            return definePropertyFallback.call(\n              Object,\n              object,\n              property,\n              descriptor\n            );\n          } catch (exception) {}}\n      if (owns(descriptor, 'value'))\n        {if (\n            supportsAccessors &&\n            (lookupGetter(object, property) || lookupSetter(object, property))\n          ) {\n            var prototype = object.__proto__;\n            (object.__proto__ = prototypeOfObject),\n              delete object[property],\n              (object[property] = descriptor.value),\n              (object.__proto__ = prototype);\n          } else object[property] = descriptor.value;}\n      else {\n        if (!supportsAccessors)\n          {throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);}\n        owns(descriptor, 'get') &&\n            defineGetter(object, property, descriptor.get),\n        owns(descriptor, 'set') &&\n              defineSetter(object, property, descriptor.set);\n      }\n      return object;\n    };\n  }\n  Object.defineProperties ||\n      (Object.defineProperties = function (object, properties) {\n        for (let property in properties)\n          {owns(properties, property) &&\n            Object.defineProperty(object, property, properties[property]);}\n        return object;\n      }),\n  Object.seal ||\n        (Object.seal = function (object) {\n          return object;\n        }),\n  Object.freeze ||\n        (Object.freeze = function (object) {\n          return object;\n        });\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = (function (freezeObject) {\n      return function (object) {\n        return 'function' === typeof object ? object : freezeObject(object);\n      };\n    }(Object.freeze));\n  }\n  if (\n    (Object.preventExtensions ||\n        (Object.preventExtensions = function (object) {\n          return object;\n        }),\n      Object.isSealed ||\n        (Object.isSealed = function () {\n          return !1;\n        }),\n      Object.isFrozen ||\n        (Object.isFrozen = function () {\n          return !1;\n        }),\n      Object.isExtensible ||\n        (Object.isExtensible = function (object) {\n          if (Object(object) === object) throw new TypeError();\n          for (var name = ''; owns(object, name);) name += '?';\n          object[name] = !0;\n          let returnValue = owns(object, name);\n          return delete object[name], returnValue;\n        }),\n      !Object.keys)\n  ) {\n    let hasDontEnumBug = !0,\n      dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor',\n      ],\n      dontEnumsLength = dontEnums.length;\n    for (let key in { toString: null }) hasDontEnumBug = !1;\n    Object.keys = function (object) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError('Object.keys called on a non-object');}\n      let keys = [];\n      for (let name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        {for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n            var dontEnum = dontEnums[i];\n            owns(object, dontEnum) && keys.push(dontEnum);\n          }}\n      return keys;\n    };\n  }\n  Date.now ||\n      (Date.now = function () {\n        return new Date().getTime();\n      });\n  let ws = '\t\\nv\\f\\r   ᠎             　\\u2028\\u2029\ufeff';\n  if (!String.prototype.trim || ws.trim()) {\n    ws = '[' + ws + ']';\n    let trimBeginRegexp = RegExp('^' + ws + ws + '*'),\n      trimEndRegexp = RegExp(ws + ws + '*$');\n    String.prototype.trim = function () {\n      return (this + '')\n        .replace(trimBeginRegexp, '')\n        .replace(trimEndRegexp, '');\n    };\n  }\n  var toObject = function (o) {\n    if (null == o) throw new TypeError('can\\'t convert ' + o + ' to object');\n    return Object(o);\n  };\n});\nace.define(\n  'sense_editor/mode/worker_parser',\n  ['require', 'exports', 'module'],\n  function () {\n    let at, // The index of the current character\n      ch, // The current character\n      annos, // annotations\n      escapee = {\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        b: '\\b',\n        f: '\\f',\n        n: '\\n',\n        r: '\\r',\n        t: '\\t',\n      },\n      text,\n      annotate = function (type, text) {\n        annos.push({ type: type, text: text, at: at });\n      },\n      error = function (m) {\n        throw {\n          name: 'SyntaxError',\n          message: m,\n          at: at,\n          text: text,\n        };\n      },\n      reset = function (newAt) {\n        ch = text.charAt(newAt);\n        at = newAt + 1;\n      },\n      next = function (c) {\n        if (c && c !== ch) {\n          error('Expected \\'' + c + '\\' instead of \\'' + ch + '\\'');\n        }\n\n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n      },\n      nextUpTo = function (upTo, errorMessage) {\n        let currentAt = at,\n          i = text.indexOf(upTo, currentAt);\n        if (i < 0) {\n          error(errorMessage || 'Expected \\'' + upTo + '\\'');\n        }\n        reset(i + upTo.length);\n        return text.substring(currentAt, i);\n      },\n      peek = function (c) {\n        return text.substr(at, c.length) === c; // nocommit - double check\n      },\n      number = function () {\n        let number,\n          string = '';\n\n        if (ch === '-') {\n          string = '-';\n          next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n        if (ch === '.') {\n          string += '.';\n          while (next() && ch >= '0' && ch <= '9') {\n            string += ch;\n          }\n        }\n        if (ch === 'e' || ch === 'E') {\n          string += ch;\n          next();\n          if (ch === '-' || ch === '+') {\n            string += ch;\n            next();\n          }\n          while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n          }\n        }\n        number = +string;\n        if (isNaN(number)) {\n          error('Bad number');\n        } else {\n          return number;\n        }\n      },\n      string = function () {\n        let hex,\n          i,\n          string = '',\n          uffff;\n\n        if (ch === '\"') {\n          if (peek('\"\"')) {\n            // literal\n            next('\"');\n            next('\"');\n            return nextUpTo('\"\"\"', 'failed to find closing \\'\"\"\"\\'');\n          } else {\n            while (next()) {\n              if (ch === '\"') {\n                next();\n                return string;\n              } else if (ch === '\\\\') {\n                next();\n                if (ch === 'u') {\n                  uffff = 0;\n                  for (i = 0; i < 4; i += 1) {\n                    hex = parseInt(next(), 16);\n                    if (!isFinite(hex)) {\n                      break;\n                    }\n                    uffff = uffff * 16 + hex;\n                  }\n                  string += String.fromCharCode(uffff);\n                } else if (typeof escapee[ch] === 'string') {\n                  string += escapee[ch];\n                } else {\n                  break;\n                }\n              } else {\n                string += ch;\n              }\n            }\n          }\n        }\n        error('Bad string');\n      },\n      white = function () {\n        while (ch && ch <= ' ') {\n          next();\n        }\n      },\n      strictWhite = function () {\n        while (ch && (ch == ' ' || ch == '\\t')) {\n          next();\n        }\n      },\n      newLine = function () {\n        if (ch == '\\n') next();\n      },\n      word = function () {\n        switch (ch) {\n          case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n          case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n          case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error('Unexpected \\'' + ch + '\\'');\n      },\n      // parses and returns the method\n      method = function () {\n        switch (ch) {\n          case 'G':\n            next('G');\n            next('E');\n            next('T');\n            return 'GET';\n          case 'H':\n            next('H');\n            next('E');\n            next('A');\n            next('D');\n            return 'HEAD';\n          case 'D':\n            next('D');\n            next('E');\n            next('L');\n            next('E');\n            next('T');\n            next('E');\n            return 'DELETE';\n          case 'P':\n            next('P');\n            switch (ch) {\n              case 'U':\n                next('U');\n                next('T');\n                return 'PUT';\n              case 'O':\n                next('O');\n                next('S');\n                next('T');\n                return 'POST';\n              default:\n                error('Unexpected \\'' + ch + '\\'');\n            }\n            break;\n          default:\n            error('Expected one of GET/POST/PUT/DELETE/HEAD');\n        }\n      },\n      value, // Place holder for the value function.\n      array = function () {\n        const array = [];\n\n        if (ch === '[') {\n          next('[');\n          white();\n          if (ch === ']') {\n            next(']');\n            return array; // empty array\n          }\n          while (ch) {\n            array.push(value());\n            white();\n            if (ch === ']') {\n              next(']');\n              return array;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad array');\n      },\n      object = function () {\n        let key,\n          object = {};\n\n        if (ch === '{') {\n          next('{');\n          white();\n          if (ch === '}') {\n            next('}');\n            return object; // empty object\n          }\n          while (ch) {\n            key = string();\n            white();\n            next(':');\n            if (Object.hasOwnProperty.call(object, key)) {\n              error('Duplicate key \"' + key + '\"');\n            }\n            object[key] = value();\n            white();\n            if (ch === '}') {\n              next('}');\n              return object;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad object');\n      };\n\n    value = function () {\n      white();\n      switch (ch) {\n        case '{':\n          return object();\n        case '[':\n          return array();\n        case '\"':\n          return string();\n        case '-':\n          return number();\n        default:\n          return ch >= '0' && ch <= '9' ? number() : word();\n      }\n    };\n\n    let url = function () {\n        let url = '';\n        while (ch && ch != '\\n') {\n          url += ch;\n          next();\n        }\n        if (url == '') {\n          error('Missing url');\n        }\n        return url;\n      },\n      request = function () {\n        white();\n        method();\n        strictWhite();\n        url();\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        if (ch == '{') {\n          object();\n        }\n        // multi doc request\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        while (ch == '{') {\n          // another object\n          object();\n          strictWhite();\n          newLine();\n          strictWhite();\n        }\n      },\n      comment = function () {\n        while (ch == '#') {\n          while (ch && ch !== '\\n') {\n            next();\n          }\n          white();\n        }\n      },\n      multi_request = function () {\n        while (ch && ch != '') {\n          white();\n          if (!ch) {\n            continue;\n          }\n          try {\n            comment();\n            white();\n            if (!ch) {\n              continue;\n            }\n            request();\n            white();\n          } catch (e) {\n            annotate('error', e.message);\n            // snap\n            const substring = text.substr(at);\n            const nextMatch = substring.search(/^POST|HEAD|GET|PUT|DELETE/m);\n            if (nextMatch < 1) return;\n            reset(at + nextMatch);\n          }\n        }\n      };\n\n    return function (source, reviver) {\n      let result;\n\n      text = source;\n      at = 0;\n      annos = [];\n      next();\n      multi_request();\n      white();\n      if (ch) {\n        annotate('error', 'Syntax error');\n      }\n\n      result = { annotations: annos };\n\n      return typeof reviver === 'function'\n        ? (function walk(holder, key) {\n          let k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            for (k in value) {\n              if (Object.hasOwnProperty.call(value, k)) {\n                v = walk(value, k);\n                if (v !== undefined) {\n                  value[k] = v;\n                } else {\n                  delete value[k];\n                }\n              }\n            }\n          }\n          return reviver.call(holder, key, value);\n        }({ '': result }, ''))\n        : result;\n    };\n  }\n);\n\nace.define(\n  'sense_editor/mode/worker',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/worker/mirror',\n    'sense_editor/mode/worker_parser',\n  ],\n  function (require, exports) {\n    const oop = require('ace/lib/oop');\n    const Mirror = require('ace/worker/mirror').Mirror;\n    const parse = require('sense_editor/mode/worker_parser');\n\n    const SenseWorker = (exports.SenseWorker = function (sender) {\n      Mirror.call(this, sender);\n      this.setTimeout(200);\n    });\n\n    oop.inherits(SenseWorker, Mirror);\n\n    (function () {\n      this.id = 'senseWorker';\n      this.onUpdate = function () {\n        const value = this.doc.getValue();\n        let pos, result;\n        try {\n          result = parse(value);\n        } catch (e) {\n          pos = this.charToDocumentPosition(e.at - 1);\n          this.sender.emit('error', {\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: 'error',\n          });\n          return;\n        }\n        for (let i = 0; i < result.annotations.length; i++) {\n          pos = this.charToDocumentPosition(result.annotations[i].at - 1);\n          result.annotations[i].row = pos.row;\n          result.annotations[i].column = pos.column;\n        }\n        this.sender.emit('ok', result.annotations);\n      };\n\n      this.charToDocumentPosition = function (charPos) {\n        let i = 0;\n        const len = this.doc.getLength();\n        const nl = this.doc.getNewLineCharacter().length;\n\n        if (!len) {\n          return { row: 0, column: 0 };\n        }\n\n        let lineStart = 0,\n          line;\n        while (i < len) {\n          line = this.doc.getLine(i);\n          const lineLength = line.length + nl;\n          if (lineStart + lineLength > charPos) {\n            return {\n              row: i,\n              column: charPos - lineStart,\n            };\n          }\n\n          lineStart += lineLength;\n          i += 1;\n        }\n\n        return {\n          row: i - 1,\n          column: line.length,\n        };\n      };\n    }.call(SenseWorker.prototype));\n  }\n);\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptMode=ScriptMode;var _brace=_interopRequireDefault(__webpack_require__(37));var _console_lang=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var TextMode=_brace.default.acequire("ace/mode/text").Mode;var MatchingBraceOutdent=_brace.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace.default.acequire("ace/tokenizer");function ScriptMode(){this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(ScriptMode,TextMode);(function(){this.HighlightRules=_console_lang.ScriptHighlightRules;this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var match=line.match(/^.*[\{\[]\s*$/);if(match){indent+=tab}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}).call(ScriptMode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _script_highlight_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.addToRules}});var _elasticsearch_sql_highlight_rules=__webpack_require__(67);var _script_highlight_rules=__webpack_require__(68);var _x_json_highlight_rules=__webpack_require__(110)},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonHighlightRules=XJsonHighlightRules;exports.addToRules=addToRules;var _=_interopRequireWildcard(__webpack_require__(35));var _brace=_interopRequireDefault(__webpack_require__(37));__webpack_require__(50);var _elasticsearch_sql_highlight_rules=__webpack_require__(67);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var _require=__webpack_require__(68),ScriptHighlightRules=_require.ScriptHighlightRules;var _brace$default$acequi=_brace.default.acequire("ace/mode/json_highlight_rules"),JsonHighlightRules=_brace$default$acequi.JsonHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var jsonRules=function jsonRules(root){root=root?root:"json";var rules={};var xJsonRules=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules[root]=xJsonRules;rules[root+"-sql"]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("query")(\\s*?)(:)(\\s*?)(""")',next:"sql-start",merge:false,push:true}].concat(xJsonRules);rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function XJsonHighlightRules(){this.$rules=_objectSpread({},jsonRules("start"));this.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);this.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}oop.inherits(XJsonHighlightRules,JsonHighlightRules);function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);otherRules.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json_mode.XJsonMode}});var _x_json_mode=__webpack_require__(113)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonMode=XJsonMode;var _brace=_interopRequireDefault(__webpack_require__(37));var _index=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var _brace$default$acequi=_brace.default.acequire("ace/mode/json"),JSONMode=_brace$default$acequi.Mode;var _brace$default$acequi2=_brace.default.acequire("ace/tokenizer"),AceTokenizer=_brace$default$acequi2.Tokenizer;var _brace$default$acequi3=_brace.default.acequire("ace/mode/matching_brace_outdent"),MatchingBraceOutdent=_brace$default$acequi3.MatchingBraceOutdent;var _brace$default$acequi4=_brace.default.acequire("ace/mode/behaviour/cstyle"),CstyleBehaviour=_brace$default$acequi4.CstyleBehaviour;var _brace$default$acequi5=_brace.default.acequire("ace/mode/folding/cstyle"),CStyleFoldMode=_brace$default$acequi5.FoldMode;function XJsonMode(){var ruleset=new _index.XJsonHighlightRules;ruleset.normalizeRules();this.$tokenizer=new AceTokenizer(ruleset.getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(XJsonMode,JSONMode)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addEOL=addEOL;exports.mergeTokens=mergeTokens;exports.InputHighlightRules=InputHighlightRules;var _console_lang=__webpack_require__(49);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var ace=__webpack_require__(37);function addEOL(tokens,reg,nextIfEOL,normalNext){if(_typeof(reg)==="object"){reg=reg.source}return[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}function mergeTokens(){return[].concat.apply([],arguments)}var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;function InputHighlightRules(){this.$rules={"start-sql":[{token:"whitespace",regex:"\\s+"},{token:"paren.lparen",regex:"{",next:"json-sql",push:true},{regex:"",next:"start"}],start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:true}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/(_sql)/,"start-sql","url-sql"),addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start")),"url-sql":mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start-sql"),addEOL(["url.comma"],/(,)/,"start-sql"),addEOL(["url.slash"],/(\/)/,"start-sql"),addEOL(["url.questionmark"],/(\?)/,"start-sql","urlParams-sql")),"urlParams-sql":mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start-sql"),addEOL(["url.param"],/([^&=]+)/,"start-sql"),addEOL(["url.amp"],/(&)/,"start-sql"))};(0,_console_lang.addXJsonToRules)(this);if(this.constructor===InputHighlightRules){this.normalizeRules()}}oop.inherits(InputHighlightRules,TextHighlightRules)},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _token_provider=__webpack_require__(119);Object.keys(_token_provider).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _token_provider[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AceTokensProvider=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var toToken=function toToken(lineNumber,column,token){return{type:token.type,value:token.value,position:{lineNumber:lineNumber,column:column}}};var toTokens=function toTokens(lineNumber,tokens){var acc="";return tokens.map((function(token){var column=acc.length+1;acc+=token.value;return toToken(lineNumber,column,token)}))};var extractTokenFromAceTokenRow=function extractTokenFromAceTokenRow(lineNumber,column,aceTokens){var acc="";var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=aceTokens[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var token=_step.value;var start=acc.length+1;acc+=token.value;var end=acc.length;if(column<start)continue;if(column>end+1)continue;return toToken(lineNumber,start,token)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return null};var AceTokensProvider=function(){function AceTokensProvider(session){_classCallCheck(this,AceTokensProvider);this.session=session}_createClass(AceTokensProvider,[{key:"getTokens",value:function getTokens(lineNumber){if(lineNumber<1)return null;var lineCount=this.session.getLength();if(lineNumber>lineCount){return null}var tokens=this.session.getTokens(lineNumber-1);if(!tokens||!tokens.length){return[]}return toTokens(lineNumber,tokens)}},{key:"getTokenAt",value:function getTokenAt(pos){var tokens=this.session.getTokens(pos.lineNumber-1);if(tokens){return extractTokenFromAceTokenRow(pos.lineNumber,pos.column,tokens)}return null}}]);return AceTokensProvider}();exports.AceTokensProvider=AceTokensProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detectCURL=detectCURL;exports.parseCURL=parseCURL;function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=text.split("\n")[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var line=_step.value;if(detectCURLinLine(line)){return true}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return false}function parseCURL(text){var state="NONE";var out=[];var body=[];var line="";var lines=text.trim().split("\n");var matches;var EmptyLine=/^\s*$/;var Comment=/^\s*(?:#|\/{2,})(.*)\n?$/;var ExecutionComment=/^\s*#!/;var ClosingSingleQuote=/^([^']*)'/;var ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/;var EscapedQuotes=/^((?:[^\\"']|\\.)+)/;var LooksLikeCurl=/^\s*curl\s+/;var CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/;var HasProtocol=/[\s"']https?:\/\//;var CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/;var CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/;var CurlData=/^.+\s(--data|-d)\s*/;var SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;if(lines.length>0&&ExecutionComment.test(lines[0])){lines.shift()}function nextLine(){if(line.length>0){return true}if(lines.length===0){return false}line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n";return true}function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){if(line.substr(0,1)==="'"){line=line.substr(1);state="SINGLE_QUOTE"}else if(line.substr(0,1)==='"'){line=line.substr(1);state="DOUBLE_QUOTE"}else{state="UNQUOTED"}}function addBodyToOut(){if(body.length>0){out.push(body.join(""));body=[]}state="LF";out.push("\n")}function consumeMatching(pattern){var result=line.match(pattern);if(result){body.push(result[1]);line=line.substr(result[0].length);detectQuote()}else{body.push(line);line=""}}function parseCurlLine(){var verb="GET";var request="";var result;if(result=line.match(CurlVerb)){verb=result[1]}var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;if(result=line.match(pattern)){request=result[1]}out.push(verb+" /"+request+"\n");if(result=line.match(CurlData)){line=line.substr(result[0].length);detectQuote();if(EmptyLine.test(line)){line=""}}else{state="NONE";line="";out.push("")}}while(nextLine()){if(state==="SINGLE_QUOTE"){consumeMatching(ClosingSingleQuote)}else if(state==="DOUBLE_QUOTE"){consumeMatching(ClosingDoubleQuote);unescapeLastBodyEl()}else if(state==="UNQUOTED"){consumeMatching(EscapedQuotes);if(body.length){unescapeLastBodyEl()}if(state==="UNQUOTED"){addBodyToOut();line=""}}else if(state==="BODY"){if(Comment.test(line)||EmptyLine.test(line)){addBodyToOut()}else{body.push(line);line=""}}else if(EmptyLine.test(line)){if(state!=="LF"){out.push("\n");state="LF"}line=""}else if(matches=line.match(Comment)){out.push("#"+matches[1]+"\n");state="NONE";line=""}else if(LooksLikeCurl.test(line)){parseCurlLine()}else if(matches=line.match(SenseLine)){out.push(matches[1]+" /"+matches[2]+"\n");line="";state="BODY"}else{out.push("### "+line);line=""}}addBodyToOut();return out.join("").trim()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(72);var oop=_brace.default.acequire("ace/lib/oop");var JSONMode=_brace.default.acequire("ace/mode/json").Mode;var HighlightRules=__webpack_require__(72).OutputJsonHighlightRules;var MatchingBraceOutdent=_brace.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace.default.acequire("ace/worker/worker_client");var AceTokenizer=_brace.default.acequire("ace/tokenizer").Tokenizer;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(Mode,JSONMode);(function(){this.createWorker=function(){return null};this.$id="sense/mode/input"}).call(Mode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.create=void 0;var _brace=_interopRequireDefault(__webpack_require__(37));var _legacy_core_editor=__webpack_require__(69);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var create=function create(el){var actions=document.querySelector("#ConAppEditorActions");if(!actions){throw new Error("Could not find ConAppEditorActions element!")}var aceEditor=_brace.default.edit(el);return new _legacy_core_editor.LegacyCoreEditor(aceEditor,actions)};exports.create=create},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSetInputEditor=void 0;var _react=__webpack_require__(21);var _editor_context=__webpack_require__(47);var _editor_registry=__webpack_require__(53);var useSetInputEditor=function useSetInputEditor(){var dispatch=(0,_editor_context.useEditorActionContext)();return(0,_react.useCallback)((function(editor){dispatch({type:"setInputEditor",payload:editor});_editor_registry.instance.setInputEditor(editor)}),[dispatch])};exports.useSetInputEditor=useSetInputEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useRestoreRequestFromHistory",{enumerable:true,get:function get(){return _use_restore_request_from_history.useRestoreRequestFromHistory}});var _use_restore_request_from_history=__webpack_require__(125)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRestoreRequestFromHistory=void 0;var _react=__webpack_require__(21);var _editor_registry=__webpack_require__(53);var _restore_request_from_history=__webpack_require__(126);var useRestoreRequestFromHistory=function useRestoreRequestFromHistory(){return(0,_react.useCallback)((function(req){var editor=_editor_registry.instance.getInputEditor();(0,_restore_request_from_history.restoreRequestFromHistory)(editor,req)}),[])};exports.useRestoreRequestFromHistory=useRestoreRequestFromHistory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.restoreRequestFromHistory=restoreRequestFromHistory;var _row_parser=_interopRequireDefault(__webpack_require__(54));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function restoreRequestFromHistory(editor,req){var coreEditor=editor.getCoreEditor();var pos=coreEditor.getCurrentPosition();var prefix="";var suffix="\n";var parser=new _row_parser.default(coreEditor);if(parser.isStartRequestRow(pos.lineNumber)){pos.column=1;suffix+="\n"}else if(parser.isEndRequestRow(pos.lineNumber)){var line=coreEditor.getLineValue(pos.lineNumber);pos.column=line.length+1;prefix="\n\n"}else if(parser.isInBetweenRequestsRow(pos.lineNumber)){pos.column=1}else{pos=editor.nextRequestEnd(pos);prefix="\n\n"}var s=prefix+req.method+" "+req.endpoint;if(req.data){s+="\n"+req.data}s+=suffix;coreEditor.insert(pos,s);coreEditor.moveCursorToPosition({lineNumber:pos.lineNumber+prefix.length,column:1});coreEditor.clearSelection();coreEditor.getContainer().focus()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useSendCurrentRequestToES",{enumerable:true,get:function get(){return _use_send_current_request_to_es.useSendCurrentRequestToES}});var _use_send_current_request_to_es=__webpack_require__(128)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSendCurrentRequestToES=void 0;var _i18n=__webpack_require__(3);var _react=__webpack_require__(21);var _editor_registry=__webpack_require__(53);var _contexts=__webpack_require__(38);var _send_request_to_es=__webpack_require__(129);var _track=__webpack_require__(134);var _mappings=_interopRequireDefault(__webpack_require__(40));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var useSendCurrentRequestToES=function useSendCurrentRequestToES(){var _useServicesContext=(0,_contexts.useServicesContext)(),_useServicesContext$s=_useServicesContext.services,history=_useServicesContext$s.history,settings=_useServicesContext$s.settings,notifications=_useServicesContext$s.notifications,trackUiMetric=_useServicesContext$s.trackUiMetric;var dispatch=(0,_contexts.useRequestActionContext)();return(0,_react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var editor,requests,results,_settings$toJSON,polling;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;editor=_editor_registry.instance.getInputEditor();_context.next=4;return editor.getRequestsInRange();case 4:requests=_context.sent;if(requests.length){_context.next=8;break}notifications.toasts.add(_i18n.i18n.translate("console.notification.error.noRequestSelectedTitle",{defaultMessage:"No request selected. Select a request by placing the cursor inside it."}));return _context.abrupt("return");case 8:dispatch({type:"sendRequest",payload:undefined});setTimeout((function(){return(0,_track.track)(requests,editor,trackUiMetric)}),0);_context.next=12;return(0,_send_request_to_es.sendRequestToES)({requests:requests});case 12:results=_context.sent;results.forEach((function(_ref2){var _ref2$request=_ref2.request,path=_ref2$request.path,method=_ref2$request.method,data=_ref2$request.data;try{history.addToHistory(path,method,data)}catch(e){notifications.toasts.addError(e,{title:_i18n.i18n.translate("console.notification.error.couldNotSaveRequestTitle",{defaultMessage:"Could not save request to history."})})}}));_settings$toJSON=settings.toJSON(),polling=_settings$toJSON.polling;if(polling){_mappings.default.retrieveAutoCompleteInfo(settings,settings.getAutocomplete())}dispatch({type:"requestSuccess",payload:{data:results}});_context.next=22;break;case 19:_context.prev=19;_context.t0=_context["catch"](0);if(_context.t0===null||_context.t0===void 0?void 0:_context.t0.response){dispatch({type:"requestFail",payload:_context.t0})}else{dispatch({type:"requestFail",payload:undefined});notifications.toasts.addError(_context.t0,{title:_i18n.i18n.translate("console.notification.error.unknownErrorTitle",{defaultMessage:"Unknown Request Error"})})}case 22:case"end":return _context.stop()}}}),_callee,null,[[0,19]])}))),[dispatch,settings,history,notifications,trackUiMetric])};exports.useSendCurrentRequestToES=useSendCurrentRequestToES},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sendRequestToES=sendRequestToES;var _utils=__webpack_require__(55);var _lib=__webpack_require__(45);var es=_interopRequireWildcard(__webpack_require__(56));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var CURRENT_REQ_ID=0;function sendRequestToES(args){var requests=args.requests.slice();return new Promise((function(resolve,reject){var reqId=++CURRENT_REQ_ID;var results=[];if(reqId!==CURRENT_REQ_ID){return}if(requests.length===0){return}var isMultiRequest=requests.length>1;var sendNextRequest=function sendNextRequest(){if(reqId!==CURRENT_REQ_ID){resolve(results);return}if(requests.length===0){resolve(results);return}var req=requests.shift();var esPath=req.url;var esMethod=req.method;var esData=(0,_lib.collapseLiteralStrings)(req.data.join("\n"));if(esData){esData+="\n"}var startTime=Date.now();es.send(esMethod,esPath,esData).always((function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){if(reqId!==CURRENT_REQ_ID){return}var xhr=dataOrjqXHR.promise?dataOrjqXHR:jqXhrORerrorThrown;var isSuccess=typeof xhr.status==="number"&&(xhr.status>=200&&xhr.status<300||xhr.status===404);if(isSuccess){var value=xhr.responseText;var warnings=xhr.getResponseHeader("warning");if(warnings){var deprecationMessages=(0,_utils.extractDeprecationMessages)(warnings);value=deprecationMessages.join("\n")+"\n"+value}if(isMultiRequest){value="# "+req.method+" "+req.url+"\n"+value}results.push({response:{timeMs:Date.now()-startTime,statusCode:xhr.status,statusText:xhr.statusText,contentType:xhr.getResponseHeader("Content-Type"),value:value},request:{data:esData,method:esMethod,path:esPath}});sendNextRequest()}else{var _value;var contentType;if(xhr.responseText){_value=xhr.responseText;contentType=xhr.getResponseHeader("Content-Type")}else{_value="Request failed to get to the server (status code: "+xhr.status+")";contentType="text/plain"}if(isMultiRequest){_value="# "+req.method+" "+req.url+"\n"+_value}reject({response:{value:_value,contentType:contentType,timeMs:Date.now()-startTime,statusCode:xhr.status,statusText:xhr.statusText},request:{data:esData,method:esMethod,path:esPath}})}}))};sendNextRequest()}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.collapseLiteralStrings=collapseLiteralStrings;exports.expandLiteralStrings=expandLiteralStrings;function collapseLiteralStrings(data){var splitData=data.split('"""');for(var idx=1;idx<splitData.length-1;idx+=2){splitData[idx]=JSON.stringify(splitData[idx])}return splitData.join("")}var LITERAL_STRING_CANDIDATES=/((:[\s\r\n]*)([^\\])"(\\"|[^"\n])*\\?")/g;function expandLiteralStrings(data){return data.replace(LITERAL_STRING_CANDIDATES,(function(match,string){if(string.match(/\\./)){var firstDoubleQuoteIdx=string.indexOf('"');var lastDoubleQuoteIdx=string.lastIndexOf('"');if(string[firstDoubleQuoteIdx+1]==="\\"&&string[firstDoubleQuoteIdx+2]==='"'){return string}if(string[lastDoubleQuoteIdx-1]==='"'&&string[lastDoubleQuoteIdx-2]==="\\"){return string}var colonAndAnySpacing=string.slice(0,firstDoubleQuoteIdx);var rawStringifiedValue=string.slice(firstDoubleQuoteIdx,string.length);var jsonValue=JSON.parse(rawStringifiedValue);return"".concat(colonAndAnySpacing,'"""').concat(jsonValue,'"""')}else{return string}}))}},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.track=void 0;var _get_endpoint_from_position=__webpack_require__(57);var track=function track(requests,editor,trackUiMetric){var coreEditor=editor.getCoreEditor();var endpointDescription=(0,_get_endpoint_from_position.getEndpointFromPosition)(coreEditor,coreEditor.getCurrentPosition(),editor.parser);if(requests[0]&&endpointDescription){var _endpointDescription$;var eventName="".concat(requests[0].method,"_").concat((_endpointDescription$=endpointDescription.id)!==null&&_endpointDescription$!==void 0?_endpointDescription$:"unknown");trackUiMetric.count(eventName)}};exports.track=track},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleParamComponent=void 0;var _shared_component=__webpack_require__(39);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SimpleParamComponent=function(_SharedComponent){_inherits(SimpleParamComponent,_SharedComponent);function SimpleParamComponent(name,parent){_classCallCheck(this,SimpleParamComponent);return _possibleConstructorReturn(this,_getPrototypeOf(SimpleParamComponent).call(this,name,parent))}_createClass(SimpleParamComponent,[{key:"match",value:function match(token,context,editor){var result=_get(_getPrototypeOf(SimpleParamComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.name]=token;return result}}]);return SimpleParamComponent}(_shared_component.SharedComponent);exports.SimpleParamComponent=SimpleParamComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalProxy=void 0;var _shared_component=__webpack_require__(39);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ConditionalProxy=function(_SharedComponent){_inherits(ConditionalProxy,_SharedComponent);function ConditionalProxy(predicate,delegate){var _this;_classCallCheck(this,ConditionalProxy);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConditionalProxy).call(this,"__condition"));_this.predicate=predicate;_this.delegate=delegate;return _this}_createClass(ConditionalProxy,[{key:"getTerms",value:function getTerms(context,editor){if(this.predicate(context,editor)){return this.delegate.getTerms(context,editor)}else{return null}}},{key:"match",value:function match(token,context,editor){if(this.predicate(context,editor)){return this.delegate.match(token,context,editor)}else{return false}}}]);return ConditionalProxy}(_shared_component.SharedComponent);exports.ConditionalProxy=ConditionalProxy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalOnlyComponent=void 0;var _shared_component=__webpack_require__(39);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var GlobalOnlyComponent=function(_SharedComponent){_inherits(GlobalOnlyComponent,_SharedComponent);function GlobalOnlyComponent(){_classCallCheck(this,GlobalOnlyComponent);return _possibleConstructorReturn(this,_getPrototypeOf(GlobalOnlyComponent).apply(this,arguments))}_createClass(GlobalOnlyComponent,[{key:"getTerms",value:function getTerms(){return null}},{key:"match",value:function match(token,context){var result={next:[]};var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}result.next=[this];return result}}]);return GlobalOnlyComponent}(_shared_component.SharedComponent);exports.GlobalOnlyComponent=GlobalOnlyComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _index=__webpack_require__(41);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ObjectComponent=function(_SharedComponent){_inherits(ObjectComponent,_SharedComponent);function ObjectComponent(name,constants,patternsAndWildCards){var _this;_classCallCheck(this,ObjectComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ObjectComponent).call(this,name));_this.constants=constants;_this.patternsAndWildCards=patternsAndWildCards;return _this}_createClass(ObjectComponent,[{key:"getTerms",value:function getTerms(context,editor){var options=[];_lodash.default.each(this.constants,(function(component){options.push.apply(options,component.getTerms(context,editor))}));_lodash.default.each(this.patternsAndWildCards,(function(component){options.push.apply(options,component.getTerms(context,editor))}));return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};_lodash.default.each(this.constants,(function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}}));var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}_lodash.default.each(this.patternsAndWildCards,(function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}}));return result}}]);return ObjectComponent}(_index.SharedComponent);exports.ObjectComponent=ObjectComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AcceptEndpointComponent=exports.URL_PATH_END_MARKER=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _shared_component=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var URL_PATH_END_MARKER="__url_path_end__";exports.URL_PATH_END_MARKER=URL_PATH_END_MARKER;var AcceptEndpointComponent=function(_SharedComponent){_inherits(AcceptEndpointComponent,_SharedComponent);function AcceptEndpointComponent(endpoint,parent){var _this;_classCallCheck(this,AcceptEndpointComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AcceptEndpointComponent).call(this,endpoint.id,parent));_this.endpoint=endpoint;return _this}_createClass(AcceptEndpointComponent,[{key:"match",value:function match(token,context,editor){if(token!==URL_PATH_END_MARKER){return null}if(this.endpoint.methods&&-1===_lodash.default.indexOf(this.endpoint.methods,context.method)){return null}var r=_get(_getPrototypeOf(AcceptEndpointComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.endpoint=this.endpoint;if(_lodash.default.isNumber(this.endpoint.priority)){r.priority=this.endpoint.priority}return r}}]);return AcceptEndpointComponent}(_shared_component.SharedComponent);exports.AcceptEndpointComponent=AcceptEndpointComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPatternMatcher=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _index=__webpack_require__(41);var _full_request_component=__webpack_require__(141);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UrlPatternMatcher=function(){function UrlPatternMatcher(parametrizedComponentFactories){var _this=this;_classCallCheck(this,UrlPatternMatcher);_defineProperty(this,"getTopLevelComponents",(function(method){var methodRoot=this[method];if(!methodRoot){return[]}return methodRoot.rootComponent.next}));["HEAD","GET","PUT","POST","DELETE"].forEach((function(method){_this[method]={rootComponent:new _index.SharedComponent("ROOT"),parametrizedComponentFactories:parametrizedComponentFactories||{getComponent:function getComponent(){}}}}))}_createClass(UrlPatternMatcher,[{key:"addEndpoint",value:function addEndpoint(pattern,endpoint){var _this2=this;endpoint.methods.forEach((function(method){var c;var activeComponent=_this2[method].rootComponent;if(endpoint.template){new _full_request_component.FullRequestComponent(pattern+"[body]",activeComponent,endpoint.template)}var endpointComponents=endpoint.url_components||{};var partList=pattern.split("/");_lodash.default.each(partList,(function(part,partIndex){if(part.search(/^{.+}$/)>=0){part=part.substr(1,part.length-2);if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);return}if(c=endpointComponents[part]){if(Array.isArray(c)){c=new _index.ListComponent(part,c,activeComponent)}else if(_lodash.default.isObject(c)&&c.type==="list"){c=new _index.ListComponent(part,c.list,activeComponent,c.multiValued,c.allow_non_valid)}else{console.warn("incorrectly configured url component ",part," in endpoint",endpoint);c=new _index.SharedComponent(part)}}else if(c=this[method].parametrizedComponentFactories.getComponent(part)){c=c(part,activeComponent)}else{c=new _index.SimpleParamComponent(part,activeComponent)}activeComponent=c}else{var lookAhead=part;var s;for(partIndex++;partIndex<partList.length;partIndex++){s=partList[partIndex];if(s.indexOf("{")>=0){break}lookAhead+="/"+s}if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);activeComponent.addOption(lookAhead)}else{c=new _index.ConstantComponent(part,activeComponent,lookAhead);activeComponent=c}}}),_this2);new _index.AcceptEndpointComponent(endpoint,activeComponent)}))}}]);return UrlPatternMatcher}();exports.UrlPatternMatcher=UrlPatternMatcher},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.FullRequestComponent=void 0;var _constant_component=__webpack_require__(77);function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FullRequestComponent=function(_ConstantComponent){_inherits(FullRequestComponent,_ConstantComponent);function FullRequestComponent(name,parent,template){var _this;_classCallCheck(this,FullRequestComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(FullRequestComponent).call(this,name,parent));_this.template=template;_defineProperty(_assertThisInitialized(_this),"name",void 0);_this.name=name;return _this}_createClass(FullRequestComponent,[{key:"getTerms",value:function getTerms(){return[{name:this.name,snippet:this.template}]}}]);return FullRequestComponent}(_constant_component.ConstantComponent);exports.FullRequestComponent=FullRequestComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _mappings=_interopRequireDefault(__webpack_require__(40));var _list_component=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var IndexAutocompleteComponent=function(_ListComponent){_inherits(IndexAutocompleteComponent,_ListComponent);function IndexAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,IndexAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(IndexAutocompleteComponent).call(this,name,_mappings.default.getIndices,parent,multiValued))}_createClass(IndexAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"index"}},{key:"getContextKey",value:function getContextKey(){return"indices"}}]);return IndexAutocompleteComponent}(_list_component.ListComponent);exports.IndexAutocompleteComponent=IndexAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _mappings=_interopRequireDefault(__webpack_require__(40));var _list_component=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function FieldGenerator(context){return _lodash.default.map(_mappings.default.getFields(context.indices,context.types),(function(field){return{name:field.name,meta:field.type}}))}var FieldAutocompleteComponent=function(_ListComponent){_inherits(FieldAutocompleteComponent,_ListComponent);function FieldAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,FieldAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(FieldAutocompleteComponent).call(this,name,FieldGenerator,parent,multiValued))}_createClass(FieldAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,(function(token){return token.match(/[^\w.?*]/)}))}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"field"}},{key:"getContextKey",value:function getContextKey(){return"fields"}}]);return FieldAutocompleteComponent}(_list_component.ListComponent);exports.FieldAutocompleteComponent=FieldAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _list_component=__webpack_require__(42);var _mappings=_interopRequireDefault(__webpack_require__(40));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function TypeGenerator(context){return _mappings.default.getTypes(context.indices)}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var TypeAutocompleteComponent=function(_ListComponent){_inherits(TypeAutocompleteComponent,_ListComponent);function TypeAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,TypeAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(TypeAutocompleteComponent).call(this,name,TypeGenerator,parent,multiValued))}_createClass(TypeAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"type"}},{key:"getContextKey",value:function getContextKey(){return"types"}}]);return TypeAutocompleteComponent}(_list_component.ListComponent);exports.TypeAutocompleteComponent=TypeAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IdAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _shared_component=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IdAutocompleteComponent=function(_SharedComponent){_inherits(IdAutocompleteComponent,_SharedComponent);function IdAutocompleteComponent(name,parent,multi){var _this;_classCallCheck(this,IdAutocompleteComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(IdAutocompleteComponent).call(this,name,parent));_this.multi_match=multi;return _this}_createClass(IdAutocompleteComponent,[{key:"match",value:function match(token,context,editor){if(!token){return null}if(!this.multi_match&&Array.isArray(token)){return null}token=Array.isArray(token)?token:[token];if(_lodash.default.find(token,(function(t){return t.match(/[\/,]/)}))){return null}var r=_get(_getPrototypeOf(IdAutocompleteComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.id=token;return r}}]);return IdAutocompleteComponent}(_shared_component.SharedComponent);exports.IdAutocompleteComponent=IdAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateAutocompleteComponent=void 0;var _mappings=_interopRequireDefault(__webpack_require__(40));var _list_component=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TemplateAutocompleteComponent=function(_ListComponent){_inherits(TemplateAutocompleteComponent,_ListComponent);function TemplateAutocompleteComponent(name,parent){_classCallCheck(this,TemplateAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(TemplateAutocompleteComponent).call(this,name,_mappings.default.getTemplates,parent,true,true))}_createClass(TemplateAutocompleteComponent,[{key:"getContextKey",value:function getContextKey(){return"template"}}]);return TemplateAutocompleteComponent}(_list_component.ListComponent);exports.TemplateAutocompleteComponent=TemplateAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UsernameAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(35));var _mappings=_interopRequireDefault(__webpack_require__(40));var _list_component=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function nonValidUsernameType(token){return token[0]==="_"}var UsernameAutocompleteComponent=function(_ListComponent){_inherits(UsernameAutocompleteComponent,_ListComponent);function UsernameAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,UsernameAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(UsernameAutocompleteComponent).call(this,name,_mappings.default.getIndices,parent,multiValued))}_createClass(UsernameAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidUsernameType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"username"}},{key:"getContextKey",value:function getContextKey(){return"username"}}]);return UsernameAutocompleteComponent}(_list_component.ListComponent);exports.UsernameAutocompleteComponent=UsernameAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _components=__webpack_require__(41);var _url_params=__webpack_require__(149);var _body_completer=__webpack_require__(150);var _=__webpack_require__(35);function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules=Object.create(null);this.endpoints=Object.create(null);this.urlPatternMatcher=new _components.UrlPatternMatcher(urlParametrizedComponentFactories);this.globalBodyComponentFactories=bodyParametrizedComponentFactories;this.name=""}(function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=(0,_body_completer.compileBodyDescription)("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)};cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing))){throw new Error("failed to resolve global components for  ['"+term+"']")}return result};cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{});_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]});_.each(copiedDescription.patterns,(function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)}),this);copiedDescription.paramsAutocomplete=new _url_params.UrlParams(copiedDescription.url_params);copiedDescription.bodyAutocompleteRootComponents=(0,_body_completer.compileBodyDescription)(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories);this.endpoints[endpoint]=copiedDescription};cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]};cls.getTopLevelUrlCompleteComponents=function(method){return this.urlPatternMatcher.getTopLevelComponents(method)};cls.getUnmatchedEndpointComponents=function(){return(0,_body_completer.globalsOnlyAutocompleteComponents)()};cls.clear=function(){this.endpoints={};this.globalRules={}}})(Api.prototype);var _default=Api;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlParams=exports.ParamComponent=void 0;var _components=__webpack_require__(41);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var _=__webpack_require__(35);var ParamComponent=function(_ConstantComponent){_inherits(ParamComponent,_ConstantComponent);function ParamComponent(name,parent,description){var _this;_classCallCheck(this,ParamComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ParamComponent).call(this,name,parent));_this.description=description;return _this}_createClass(ParamComponent,[{key:"getTerms",value:function getTerms(){var t={name:this.name};if(this.description==="__flag__"){t.meta="flag"}else{t.meta="param";t.insertValue=this.name+"="}return[t]}}]);return ParamComponent}(_components.ConstantComponent);exports.ParamComponent=ParamComponent;var UrlParams=function(){function UrlParams(description,defaults){_classCallCheck(this,UrlParams);this.rootComponent=new _components.SharedComponent("ROOT");if(_.isUndefined(defaults)){defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""}}description=_.clone(description||{});_.defaults(description,defaults);_.each(description,(function(pDescription,param){var component=new ParamComponent(param,this.rootComponent,pDescription);if(Array.isArray(pDescription)){new _components.ListComponent(param,pDescription,component)}else if(pDescription==="__flag__"){new _components.ListComponent(param,["true","false"],component)}}),this)}_createClass(UrlParams,[{key:"getTopLevelComponents",value:function getTopLevelComponents(){return this.rootComponent.next}}]);return UrlParams}();exports.UrlParams=UrlParams},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents;exports.compileBodyDescription=compileBodyDescription;var _engine=__webpack_require__(58);var _components=__webpack_require__(41);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var _=__webpack_require__(35);function CompilingContext(endpointId,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories;this.endpointId=endpointId}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=(0,_engine.walkTokenPath)(tokenPath,[new _engine.WalkingState("ROOT",components,[])],context,editor);var result=[].concat.apply([],_.pluck(walkStates,"components"));return result}var ScopeResolver=function(_SharedComponent){_inherits(ScopeResolver,_SharedComponent);function ScopeResolver(link,compilingContext){var _this;_classCallCheck(this,ScopeResolver);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScopeResolver).call(this,"__scope_link"));if(_.isString(link)&&link[0]==="."){if(link==="."){link=compilingContext.endpointId}else{link=compilingContext.endpointId+link}}_this.link=link;_this.compilingContext=compilingContext;return _this}_createClass(ScopeResolver,[{key:"resolveLinkToComponents",value:function resolveLinkToComponents(context,editor){if(_.isFunction(this.link)){var desc=this.link(context,editor);return compileDescription(desc,this.compilingContext)}if(!_.isString(this.link)){throw new Error("unsupported link format",this.link)}var path=this.link.replace(/\./g,"{").split(/(\{)/);var endpoint=path[0];var components;try{if(endpoint==="GLOBAL"){if(path.length<3){throw new Error("missing term in global link: "+this.link)}var term=path[2];components=context.globalComponentResolver(term);path=path.slice(3)}else{path=path.slice(1);components=context.endpointComponentResolver(endpoint)}}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return resolvePathToComponents(path,context,editor,components)}},{key:"getTerms",value:function getTerms(context,editor){var options=[];var components=this.resolveLinkToComponents(context,editor);_.each(components,(function(component){options.push.apply(options,component.getTerms(context,editor))}));return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};var components=this.resolveLinkToComponents(context,editor);_.each(components,(function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}}));return result}}]);return ScopeResolver}(_components.SharedComponent);function getTemplate(description){if(description.__template){if(description.__raw&&_.isString(description.__template)){return{__raw:true,value:description.__template}}return description.__template}else if(description.__one_of){return getTemplate(description.__one_of[0])}else if(description.__any_of){return[]}else if(description.__scope_link){return{}}else if(Array.isArray(description)){if(description.length===1){if(_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return innerTemplate!=null?[innerTemplate]:[]}}return[]}else if(_.isObject(description)){return{}}else if(_.isString(description)&&!/^\{.*\}$/.test(description)){return description}else{return description}}function getOptions(description){var options={};var template=getTemplate(description);if(!_.isUndefined(template)){options.template=template}return options}function compileDescription(description,compilingContext){if(Array.isArray(description)){return[compileList(description,compilingContext)]}else if(_.isObject(description)){if(description.__scope_link){return[new ScopeResolver(description.__scope_link,compilingContext)]}if(description.__any_of){return[compileList(description.__any_of,compilingContext)]}if(description.__one_of){return _.flatten(_.map(description.__one_of,(function(d){return compileDescription(d,compilingContext)})))}var obj=compileObject(description,compilingContext);if(description.__condition){return[compileCondition(description.__condition,obj,compilingContext)]}else{return[obj]}}else if(_.isString(description)&&/^\{.*\}$/.test(description)){return[compileParametrizedValue(description,compilingContext)]}else{return[new _components.ConstantComponent(description)]}}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories.getComponent(value,true);if(!component){throw new Error("no factory found for '"+value+"'")}component=component(value,null,template);if(!_.isUndefined(template)){component=(0,_engine.wrapComponentWithDefaults)(component,{template:template})}return component}function compileObject(objDescription,compilingContext){var objectC=new _components.ConstantComponent("{");var constants=[];var patterns=[];_.each(objDescription,(function(desc,key){if(key.indexOf("__")===0){return}var options=getOptions(desc);var component;if(/^\{.*\}$/.test(key)){component=compileParametrizedValue(key,compilingContext,options.template);patterns.push(component)}else if(key==="*"){component=new _components.SharedComponent(key);patterns.push(component)}else{options.name=key;component=new _components.ConstantComponent(key,null,[options]);constants.push(component)}_.map(compileDescription(desc,compilingContext),(function(subComponent){component.addComponent(subComponent)}))}));objectC.addComponent(new _components.ObjectComponent("inner",constants,patterns));return objectC}function compileList(listRule,compilingContext){var listC=new _components.ConstantComponent("[");_.each(listRule,(function(desc){_.each(compileDescription(desc,compilingContext),(function(component){listC.addComponent(component)}))}));return listC}function compileCondition(description,compiledObject){if(description.lines_regex){return new _components.ConditionalProxy((function(context,editor){var lines=editor.getLines(context.requestStartRow,editor.getCurrentPosition().lineNumber).join("\n");return new RegExp(description.lines_regex,"m").test(lines)}),compiledObject)}else{throw"unknown condition type - got: "+JSON.stringify(description)}}function globalsOnlyAutocompleteComponents(){return[new _components.GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpointId,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpointId,parametrizedComponentFactories))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTokenIterator=createTokenIterator;var _token_iterator=__webpack_require__(152);function createTokenIterator(_ref){var editor=_ref.editor,position=_ref.position;var provider=editor.getTokenProvider();return new _token_iterator.TokenIterator(provider,position)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TokenIterator",{enumerable:true,get:function get(){return _token_iterator.TokenIterator}});var _token_iterator=__webpack_require__(153)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TokenIterator=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function isColumnInTokenRange(column,token){if(column<token.position.column){return false}return column<=token.position.column+token.value.length}var TokenIterator=function(){function TokenIterator(provider,startPosition){_classCallCheck(this,TokenIterator);this.provider=provider;_defineProperty(this,"currentTokenIdx",-1);_defineProperty(this,"currentPosition",{lineNumber:-1,column:-1});_defineProperty(this,"tokensLineCache",void 0);this.tokensLineCache=this.provider.getTokens(startPosition.lineNumber)||[];var tokenIdx=this.tokensLineCache.findIndex((function(token){return isColumnInTokenRange(startPosition.column,token)}));if(tokenIdx>-1){this.updatePosition({tokenIdx:tokenIdx,position:this.tokensLineCache[tokenIdx].position})}else{this.updatePosition({tokenIdx:-1,position:startPosition})}}_createClass(TokenIterator,[{key:"updateLineTokens",value:function updateLineTokens(tokens){this.tokensLineCache=tokens}},{key:"updatePosition",value:function updatePosition(info){this.currentTokenIdx=info.tokenIdx;this.currentPosition=_objectSpread({},info.position)}},{key:"step",value:function step(direction){var nextIdx=this.currentTokenIdx+direction;var nextToken=this.tokensLineCache[nextIdx];if(nextToken){this.updatePosition({tokenIdx:nextIdx,position:nextToken.position});return nextToken}var nextLineNumber=this.currentPosition.lineNumber+direction;var nextLineTokens=this.provider.getTokens(nextLineNumber);if(nextLineTokens){this.updateLineTokens(nextLineTokens);var idx;if(direction>0){nextToken=nextLineTokens[0];idx=0}else{nextToken=nextLineTokens[nextLineTokens.length-1];idx=nextToken?nextLineTokens.length-1:0}var nextPosition=nextToken?nextToken.position:{column:1,lineNumber:nextLineNumber};this.updatePosition({tokenIdx:idx,position:nextPosition});return nextToken||null}return null}},{key:"getCurrentToken",value:function getCurrentToken(){return this.tokensLineCache[this.currentTokenIdx]||null}},{key:"getCurrentPosition",value:function getCurrentPosition(){return this.currentPosition}},{key:"stepBackward",value:function stepBackward(){return this.step(-1)}},{key:"stepForward",value:function stepForward(){return this.step(1)}},{key:"getCurrentTokenLineNumber",value:function getCurrentTokenLineNumber(){var currentToken=this.getCurrentToken();if(currentToken){return currentToken.position.lineNumber}return null}},{key:"getCurrentTokenColumn",value:function getCurrentTokenColumn(){var currentToken=this.getCurrentToken();if(currentToken){return currentToken.position.column}return null}}]);return TokenIterator}();exports.TokenIterator=TokenIterator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSaveCurrentTextObject=void 0;var _react=__webpack_require__(21);var _lodash=__webpack_require__(35);var _contexts=__webpack_require__(38);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var WAIT_MS=500;var useSaveCurrentTextObject=function useSaveCurrentTextObject(){var promiseChainRef=(0,_react.useRef)(Promise.resolve());var _useServicesContext=(0,_contexts.useServicesContext)(),objectStorageClient=_useServicesContext.services.objectStorageClient;var _useEditorReadContext=(0,_contexts.useEditorReadContext)(),currentTextObject=_useEditorReadContext.currentTextObject;return(0,_react.useCallback)((0,_lodash.throttle)((function(text){var promise=promiseChainRef.current;if(!currentTextObject)return;promise.finally((function(){return objectStorageClient.text.update(_objectSpread({},currentTextObject,{text:text,updatedAt:Date.now()}))}))}),WAIT_MS,{trailing:true}),[objectStorageClient,currentTextObject])};exports.useSaveCurrentTextObject=useSaveCurrentTextObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useDataInit",{enumerable:true,get:function get(){return _use_data_init.useDataInit}});var _use_data_init=__webpack_require__(156)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useDataInit=void 0;var _react=__webpack_require__(21);var _data_migration=__webpack_require__(157);var _contexts=__webpack_require__(38);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useDataInit=function useDataInit(){var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),done=_useState4[0],setDone=_useState4[1];var _useState5=(0,_react.useState)({}),_useState6=_slicedToArray(_useState5,2),retryToken=_useState6[0],setRetryToken=_useState6[1];var retry=(0,_react.useCallback)((function(){setRetryToken({});setDone(false);setError(null)}),[]);var _useServicesContext=(0,_contexts.useServicesContext)(),_useServicesContext$s=_useServicesContext.services,objectStorageClient=_useServicesContext$s.objectStorageClient,history=_useServicesContext$s.history;var dispatch=(0,_contexts.useEditorActionContext)();(0,_react.useEffect)((function(){var load=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var results,newObject;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_data_migration.migrateToTextObjects)({history:history,objectStorageClient:objectStorageClient});case 3:_context.next=5;return objectStorageClient.text.findAll();case 5:results=_context.sent;if(results.length){_context.next=13;break}_context.next=9;return objectStorageClient.text.create({createdAt:Date.now(),updatedAt:Date.now(),text:""});case 9:newObject=_context.sent;dispatch({type:"setCurrentTextObject",payload:newObject});_context.next=14;break;case 13:dispatch({type:"setCurrentTextObject",payload:results.sort((function(a,b){return a.createdAt-b.createdAt}))[0]});case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context["catch"](0);setError(_context.t0);case 19:_context.prev=19;setDone(true);return _context.finish(19);case 22:case"end":return _context.stop()}}}),_callee,null,[[0,16,19,22]])})));return function load(){return _ref.apply(this,arguments)}}();load()}),[dispatch,objectStorageClient,history,retryToken]);return{error:error,done:done,retry:retry}};exports.useDataInit=useDataInit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.migrateToTextObjects=migrateToTextObjects;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function migrateToTextObjects(_x){return _migrateToTextObjects.apply(this,arguments)}function _migrateToTextObjects(){_migrateToTextObjects=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var history,objectStorageClient,legacyTextContent;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history=_ref.history,objectStorageClient=_ref.objectStorageClient;legacyTextContent=history.getLegacySavedEditorState();if(legacyTextContent){_context.next=4;break}return _context.abrupt("return");case 4:_context.next=6;return objectStorageClient.text.create({createdAt:Date.now(),updatedAt:Date.now(),text:legacyTextContent.content});case 6:history.deleteLegacySavedEditorState();case 7:case"end":return _context.stop()}}}),_callee)})));return _migrateToTextObjects.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"autoIndent",{enumerable:true,get:function get(){return _legacy.autoIndent}});Object.defineProperty(exports,"getDocumentation",{enumerable:true,get:function get(){return _legacy.getDocumentation}});Object.defineProperty(exports,"Editor",{enumerable:true,get:function get(){return _editor.Editor}});var _legacy=__webpack_require__(159);var _editor=__webpack_require__(175)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EditorOutput",{enumerable:true,get:function get(){return _console_editor.EditorOutput}});Object.defineProperty(exports,"Editor",{enumerable:true,get:function get(){return _console_editor.Editor}});Object.defineProperty(exports,"getDocumentation",{enumerable:true,get:function get(){return _console_menu_actions.getDocumentation}});Object.defineProperty(exports,"autoIndent",{enumerable:true,get:function get(){return _console_menu_actions.autoIndent}});var _console_editor=__webpack_require__(79);var _console_menu_actions=__webpack_require__(82)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Editor=void 0;var _eui=__webpack_require__(22);var _i18n=__webpack_require__(3);var _lodash=__webpack_require__(35);var _queryString=__webpack_require__(73);var _react=_interopRequireWildcard(__webpack_require__(21));var _public=__webpack_require__(31);var _mappings=_interopRequireDefault(__webpack_require__(40));var _components=__webpack_require__(46);var _contexts=__webpack_require__(38);var _hooks=__webpack_require__(52);var senseEditor=_interopRequireWildcard(__webpack_require__(171));var _console_menu_actions=__webpack_require__(82);var _subscribe_console_resize_checker=__webpack_require__(48);var _apply_editor_settings=__webpack_require__(51);var _keyboard_shortcuts=__webpack_require__(173);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var abs={position:"absolute",top:"0",left:"0",bottom:"0",right:"0"};var DEFAULT_INPUT_VALUE='GET _search\n{\n  "query": {\n    "match_all": {}\n  }\n}';var inputId="ConAppInputTextarea";function EditorUI(_ref){var initialTextValue=_ref.initialTextValue;var _useServicesContext=(0,_contexts.useServicesContext)(),_useServicesContext$s=_useServicesContext.services,history=_useServicesContext$s.history,notifications=_useServicesContext$s.notifications,settingsService=_useServicesContext$s.settings,docLinkVersion=_useServicesContext.docLinkVersion,elasticsearchUrl=_useServicesContext.elasticsearchUrl;var _useEditorReadContext=(0,_contexts.useEditorReadContext)(),settings=_useEditorReadContext.settings;var setInputEditor=(0,_hooks.useSetInputEditor)();var sendCurrentRequestToES=(0,_hooks.useSendCurrentRequestToES)();var saveCurrentTextObject=(0,_hooks.useSaveCurrentTextObject)();var editorRef=(0,_react.useRef)(null);var editorInstanceRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),textArea=_useState2[0],setTextArea=_useState2[1];(0,_public.useUIAceKeyboardMode)(textArea);var openDocumentation=(0,_react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var documentation;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_console_menu_actions.getDocumentation)(editorInstanceRef.current,docLinkVersion);case 2:documentation=_context.sent;if(documentation){_context.next=5;break}return _context.abrupt("return");case 5:window.open(documentation,"_blank");case 6:case"end":return _context.stop()}}}),_callee)}))),[docLinkVersion]);(0,_react.useEffect)((function(){editorInstanceRef.current=senseEditor.create(editorRef.current);var editor=editorInstanceRef.current;var textareaElement=editorRef.current.querySelector("textarea");if(textareaElement){textareaElement.setAttribute("id",inputId)}var readQueryParams=function readQueryParams(){var _split=(window.location.hash||"").split("?"),_split2=_slicedToArray(_split,2),queryString=_split2[1];return(0,_queryString.parse)(queryString||"",{sort:false})};var loadBufferFromRemote=function loadBufferFromRemote(url){if(/^https?:\/\//.test(url)){var loadFrom={url:url,dataType:"text",kbnXsrfToken:false};if(/https?:\/\/api\.github\.com/.test(url)){loadFrom.headers={Accept:"application/vnd.github.v3.raw"}}$.ajax(loadFrom).done(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(data){var coreEditor;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:coreEditor=editor.getCoreEditor();_context2.next=3;return editor.update(data,true);case 3:editor.moveToNextRequestEdge(false);coreEditor.clearSelection();editor.highlightCurrentRequestsAndUpdateActionBar();coreEditor.getContainer().focus();case 7:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref3.apply(this,arguments)}}())}};var onHashChange=(0,_lodash.debounce)((function(){var _readQueryParams=readQueryParams(),url=_readQueryParams.load_from;if(!url){return}loadBufferFromRemote(url)}),200);window.addEventListener("hashchange",onHashChange);var initialQueryParams=readQueryParams();if(initialQueryParams.load_from){loadBufferFromRemote(initialQueryParams.load_from)}else{editor.update(initialTextValue||DEFAULT_INPUT_VALUE)}function setupAutosave(){var timer;var saveDelay=500;editor.getCoreEditor().on("change",(function(){if(timer){clearTimeout(timer)}timer=window.setTimeout(saveCurrentState,saveDelay)}))}function saveCurrentState(){try{var content=editor.getCoreEditor().getValue();saveCurrentTextObject(content)}catch(e){}}setInputEditor(editor);setTextArea(editorRef.current.querySelector("textarea"));_mappings.default.retrieveAutoCompleteInfo(settingsService,settingsService.getAutocomplete());var unsubscribeResizer=(0,_subscribe_console_resize_checker.subscribeResizeChecker)(editorRef.current,editor);setupAutosave();return function(){unsubscribeResizer();_mappings.default.clearSubscriptions();window.removeEventListener("hashchange",onHashChange)}}),[saveCurrentTextObject,initialTextValue,history,setInputEditor,settingsService]);(0,_react.useEffect)((function(){var editor=editorInstanceRef.current;(0,_apply_editor_settings.applyCurrentSettings)(editor.getCoreEditor(),settings);editor.getCoreEditor().getContainer().focus()}),[settings]);(0,_react.useEffect)((function(){(0,_keyboard_shortcuts.registerCommands)({senseEditor:editorInstanceRef.current,sendCurrentRequestToES:sendCurrentRequestToES,openDocumentation:openDocumentation})}),[sendCurrentRequestToES,openDocumentation]);return _react.default.createElement("div",{style:abs,className:"conApp"},_react.default.createElement("div",{className:"conApp__editor"},_react.default.createElement("ul",{className:"conApp__autoComplete",id:"autocomplete"}),_react.default.createElement(_eui.EuiFlexGroup,{className:"conApp__editorActions",id:"ConAppEditorActions",gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("console.sendRequestButtonTooltip",{defaultMessage:"Click to send request"})},_react.default.createElement("button",{onClick:sendCurrentRequestToES,"data-test-subj":"sendRequestButton","aria-label":_i18n.i18n.translate("console.sendRequestButtonTooltip",{defaultMessage:"Click to send request"}),className:"conApp__editorActionButton conApp__editorActionButton--success"},_react.default.createElement(_eui.EuiIcon,{type:"play"})))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_components.ConsoleMenu,{getCurl:function getCurl(){return editorInstanceRef.current.getRequestsAsCURL(elasticsearchUrl)},getDocumentation:function getDocumentation(){return(0,_console_menu_actions.getDocumentation)(editorInstanceRef.current,docLinkVersion)},autoIndent:function autoIndent(event){(0,_console_menu_actions.autoIndent)(editorInstanceRef.current,event)},addNotification:function addNotification(_ref4){var title=_ref4.title;return notifications.toasts.add({title:title})}}))),_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("label",{htmlFor:inputId},_i18n.i18n.translate("console.inputTextarea",{defaultMessage:"Dev Tools Console"}))),_react.default.createElement("div",{ref:editorRef,id:"ConAppEditor",className:"conApp__editorContent","data-test-subj":"request-editor"})))}var Editor=_react.default.memo(EditorUI);exports.Editor=Editor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NetworkRequestStatusBar",{enumerable:true,get:function get(){return _network_request_status_bar.NetworkRequestStatusBar}});var _network_request_status_bar=__webpack_require__(162)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NetworkRequestStatusBar=void 0;var _i18n=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(21));var _eui=__webpack_require__(22);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mapStatusCodeToBadgeColor=function mapStatusCodeToBadgeColor(statusCode){if(statusCode<=199){return"default"}if(statusCode<=299){return"secondary"}if(statusCode<=399){return"primary"}if(statusCode<=499){return"warning"}return"danger"};var NetworkRequestStatusBar=function NetworkRequestStatusBar(_ref){var requestInProgress=_ref.requestInProgress,requestResult=_ref.requestResult;var content=null;if(requestInProgress){content=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiBadge,{color:"hollow"},_i18n.i18n.translate("console.requestInProgressBadgeText",{defaultMessage:"Request in progress"})))}else if(requestResult){var endpoint=requestResult.endpoint,method=requestResult.method,statusCode=requestResult.statusCode,statusText=requestResult.statusText,timeElapsedMs=requestResult.timeElapsedMs;content=_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_react.default.createElement(_eui.EuiText,{size:"s"},"".concat(method," ").concat(endpoint.startsWith("/")?endpoint:"/"+endpoint))},_react.default.createElement(_eui.EuiBadge,{color:mapStatusCodeToBadgeColor(statusCode)},statusCode," - ",statusText))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_react.default.createElement(_eui.EuiText,{size:"s"},_i18n.i18n.translate("console.requestTimeElapasedBadgeTooltipContent",{defaultMessage:"Time Elapsed"}))},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiBadge,{color:"default"},timeElapsedMs," ","ms")))))}return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center",direction:"row",gutterSize:"s",responsive:false},content)};exports.NetworkRequestStatusBar=NetworkRequestStatusBar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SomethingWentWrongCallout=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));var _react2=__webpack_require__(23);var _i18n=__webpack_require__(3);var _eui=__webpack_require__(22);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SomethingWentWrongCallout=function SomethingWentWrongCallout(_ref){var error=_ref.error,onButtonClick=_ref.onButtonClick;(0,_react.useEffect)((function(){console.error(error)}),[error]);return _react.default.createElement(_eui.EuiCallOut,{iconType:"alert",color:"danger",title:_i18n.i18n.translate("console.loadingError.title",{defaultMessage:"Cannot load Console"})},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.loadingError.message",defaultMessage:"Try reloading to get the latest data."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{color:"danger",onClick:function onClick(){return onButtonClick()}},_react.default.createElement(_react2.FormattedMessage,{id:"console.loadingError.buttonLabel",defaultMessage:"Reload Console"})))};exports.SomethingWentWrongCallout=SomethingWentWrongCallout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TopNavMenu=void 0;var _react=_interopRequireDefault(__webpack_require__(21));var _eui=__webpack_require__(22);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TopNavMenu=function TopNavMenu(_ref){var items=_ref.items,disabled=_ref.disabled;return _react.default.createElement(_eui.EuiTabs,{size:"s"},items.map((function(item,idx){return _react.default.createElement(_eui.EuiTab,{key:idx,disabled:disabled,onClick:item.onClick,title:item.label,"data-test-subj":item.testId},item.label)})))};exports.TopNavMenu=TopNavMenu},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ConsoleMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));var _eui=__webpack_require__(22);var _react2=__webpack_require__(23);var _i18n=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ConsoleMenu=function(_Component){_inherits(ConsoleMenu,_Component);function ConsoleMenu(props){var _this;_classCallCheck(this,ConsoleMenu);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConsoleMenu).call(this,props));_defineProperty(_assertThisInitialized(_this),"mouseEnter",(function(){if(_this.state.isPopoverOpen)return;_this.props.getCurl().then((function(text){_this.setState({curlCode:text})}))}));_defineProperty(_assertThisInitialized(_this),"onButtonClick",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"closePopover",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"openDocs",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var documentation;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.closePopover();_context.next=3;return _this.props.getDocumentation();case 3:documentation=_context.sent;if(documentation){_context.next=6;break}return _context.abrupt("return");case 6:window.open(documentation,"_blank");case 7:case"end":return _context.stop()}}}),_callee)}))));_defineProperty(_assertThisInitialized(_this),"autoIndent",(function(event){_this.closePopover();_this.props.autoIndent(event)}));_this.state={curlCode:"",isPopoverOpen:false};return _this}_createClass(ConsoleMenu,[{key:"copyAsCurl",value:function copyAsCurl(){this.copyText(this.state.curlCode);var addNotification=this.props.addNotification;if(addNotification){addNotification({title:_i18n.i18n.translate("console.consoleMenu.copyAsCurlMessage",{defaultMessage:"Request copied as cURL"})})}}},{key:"copyText",value:function copyText(text){var textField=document.createElement("textarea");textField.innerText=text;document.body.appendChild(textField);textField.select();document.execCommand("copy");textField.remove()}},{key:"render",value:function render(){var _this2=this;var button=_react.default.createElement("button",{className:"euiButtonIcon--primary",onClick:this.onButtonClick,"data-test-subj":"toggleConsoleMenu","aria-label":_i18n.i18n.translate("console.requestOptionsButtonAriaLabel",{defaultMessage:"Request options"})},_react.default.createElement(_eui.EuiIcon,{type:"wrench"}));var items=[_react.default.createElement(_eui.EuiContextMenuItem,{key:"Copy as cURL",id:"ConCopyAsCurl",disabled:!document.queryCommandSupported("copy"),onClick:function onClick(){_this2.closePopover();_this2.copyAsCurl()}},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.copyAsUrlButtonLabel",defaultMessage:"Copy as cURL"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"Open documentation","data-test-subj":"consoleMenuOpenDocs",onClick:function onClick(){_this2.openDocs()}},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.openDocumentationButtonLabel",defaultMessage:"Open documentation"})),_react.default.createElement(_eui.EuiContextMenuItem,{"data-test-subj":"consoleMenuAutoIndent",key:"Auto indent",onClick:this.autoIndent},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.autoIndentButtonLabel",defaultMessage:"Auto indent"}))];return _react.default.createElement("span",{onMouseEnter:this.mouseEnter},_react.default.createElement(_eui.EuiPopover,{id:"contextMenu",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:items})))}}]);return ConsoleMenu}(_react.Component);exports.ConsoleMenu=ConsoleMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WelcomePanel=WelcomePanel;var _react=_interopRequireDefault(__webpack_require__(21));var _react2=__webpack_require__(23);var _eui=__webpack_require__(22);var _editor_example=__webpack_require__(80);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function WelcomePanel(props){return _react.default.createElement(_eui.EuiFlyout,{onClose:props.onDismiss,"data-test-subj":"welcomePanel",size:"s"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.pageTitle",defaultMessage:"Welcome to Console"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickIntroTitle",defaultMessage:"Quick intro to the UI"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickIntroDescription",defaultMessage:"The Console UI is split into two panes: an editor pane (left) and a response pane (right). Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in the response pane on the right side."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.supportedRequestFormatTitle",defaultMessage:"Console understands requests in a compact format, similar to cURL:"})),_react.default.createElement(_editor_example.EditorExample,{panel:"welcome"}),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.supportedRequestFormatDescription",defaultMessage:"While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab. These suggestions are made based on the request structure as well as your indices and types."})),_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTipsTitle",defaultMessage:"A few quick tips, while I have your attention"})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.submitRequestDescription",defaultMessage:"Submit requests to ES using the green triangle button."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.useWrenchMenuDescription",defaultMessage:"Use the wrench menu for other useful things."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.cUrlFormatForRequestsDescription",defaultMessage:"You can paste requests in cURL format and they will be translated to the Console syntax."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.resizeEditorDescription",defaultMessage:"You can resize the editor and output panes by dragging the separator between them."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.keyboardShortcutsDescription",defaultMessage:"Study the keyboard shortcuts under the Help button. Good stuff in there!"}))))),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiButton,{fill:true,fullWidth:false,"data-test-subj":"help-close-button",onClick:props.onDismiss},_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.closeButtonLabel",defaultMessage:"Dismiss"}))))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='export default "# index a doc\\nPUT index/type/1\\n{\\n  \\"body\\": \\"here\\"\\n}\\n\\n# and get it ...\\nGET index/type/1\\n"'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DevToolsSettingsModal=DevToolsSettingsModal;var _react=_interopRequireWildcard(__webpack_require__(21));var _i18n=__webpack_require__(3);var _react2=__webpack_require__(23);var _eui=__webpack_require__(22);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DevToolsSettingsModal(props){var _useState=(0,_react.useState)(props.settings.fontSize),_useState2=_slicedToArray(_useState,2),fontSize=_useState2[0],setFontSize=_useState2[1];var _useState3=(0,_react.useState)(props.settings.wrapMode),_useState4=_slicedToArray(_useState3,2),wrapMode=_useState4[0],setWrapMode=_useState4[1];var _useState5=(0,_react.useState)(props.settings.autocomplete.fields),_useState6=_slicedToArray(_useState5,2),fields=_useState6[0],setFields=_useState6[1];var _useState7=(0,_react.useState)(props.settings.autocomplete.indices),_useState8=_slicedToArray(_useState7,2),indices=_useState8[0],setIndices=_useState8[1];var _useState9=(0,_react.useState)(props.settings.autocomplete.templates),_useState10=_slicedToArray(_useState9,2),templates=_useState10[0],setTemplates=_useState10[1];var _useState11=(0,_react.useState)(props.settings.polling),_useState12=_slicedToArray(_useState11,2),polling=_useState12[0],setPolling=_useState12[1];var _useState13=(0,_react.useState)(props.settings.tripleQuotes),_useState14=_slicedToArray(_useState13,2),tripleQuotes=_useState14[0],setTripleQuotes=_useState14[1];var autoCompleteCheckboxes=[{id:"fields",label:_i18n.i18n.translate("console.settingsPage.fieldsLabelText",{defaultMessage:"Fields"}),stateSetter:setFields},{id:"indices",label:_i18n.i18n.translate("console.settingsPage.indicesAndAliasesLabelText",{defaultMessage:"Indices & Aliases"}),stateSetter:setIndices},{id:"templates",label:_i18n.i18n.translate("console.settingsPage.templatesLabelText",{defaultMessage:"Templates"}),stateSetter:setTemplates}];var checkboxIdToSelectedMap={fields:fields,indices:indices,templates:templates};var onAutocompleteChange=function onAutocompleteChange(optionId){var option=_.find(autoCompleteCheckboxes,(function(item){return item.id===optionId}));if(option){option.stateSetter(!checkboxIdToSelectedMap[optionId])}};function saveSettings(){props.onSaveSettings({fontSize:fontSize,wrapMode:wrapMode,autocomplete:{fields:fields,indices:indices,templates:templates},polling:polling,tripleQuotes:tripleQuotes})}var pollingFields=fields||indices||templates?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.refreshingDataLabel",defaultMessage:"Refreshing autocomplete suggestions"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.refreshingDataDescription",defaultMessage:"Console refreshes autocomplete suggestions by querying Elasticsearch. Automatic refreshes may be an issue if you have a large cluster or if you have network limitations."})},_react.default.createElement(_eui.EuiSwitch,{checked:polling,"data-test-subj":"autocompletePolling",id:"autocompletePolling",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Automatically refresh autocomplete suggestions",id:"console.settingsPage.pollingLabelText"}),onChange:function onChange(e){return setPolling(e.target.checked)}})),_react.default.createElement(_eui.EuiButton,{"data-test-subj":"autocompletePolling",id:"autocompletePolling",onClick:function onClick(){props.refreshAutocompleteSettings({fields:fields,indices:indices,templates:templates})}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Refresh autocomplete suggestions",id:"console.settingsPage.refreshButtonLabel"}))):undefined;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{"data-test-subj":"devToolsSettingsModal",className:"conApp__settingsModal",onClose:props.onClose},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.pageTitle",defaultMessage:"Console Settings"}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.fontSizeLabel",defaultMessage:"Font Size"})},_react.default.createElement(_eui.EuiFieldNumber,{autoFocus:true,"data-test-subj":"setting-font-size-input",value:fontSize,min:6,max:50,onChange:function onChange(e){var val=parseInt(e.target.value,10);if(!val)return;setFontSize(val)}})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{checked:wrapMode,"data-test-subj":"settingsWrapLines",id:"wrapLines",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Wrap long lines",id:"console.settingsPage.wrapLongLinesLabelText"}),onChange:function onChange(e){return setWrapMode(e.target.checked)}})),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.jsonSyntaxLabel",defaultMessage:"JSON syntax"})},_react.default.createElement(_eui.EuiSwitch,{checked:tripleQuotes,"data-test-subj":"tripleQuotes",id:"tripleQuotes",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Use triple quotes in output pane",id:"console.settingsPage.tripleQuotesMessage"}),onChange:function onChange(e){return setTripleQuotes(e.target.checked)}})),_react.default.createElement(_eui.EuiFormRow,{labelType:"legend",label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.autocompleteLabel",defaultMessage:"Autocomplete"})},_react.default.createElement(_eui.EuiCheckboxGroup,{options:autoCompleteCheckboxes.map((function(opts){var stateSetter=opts.stateSetter,rest=_objectWithoutProperties(opts,["stateSetter"]);return rest})),idToSelectedMap:checkboxIdToSelectedMap,onChange:function onChange(e){onAutocompleteChange(e)}})),pollingFields),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"settingsCancelButton",onClick:props.onClose},_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.cancelButtonLabel",defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"settings-save-button",onClick:saveSettings},_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.saveButtonLabel",defaultMessage:"Save"})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HelpPanel=HelpPanel;var _react=_interopRequireDefault(__webpack_require__(21));var _react2=__webpack_require__(23);var _eui=__webpack_require__(22);var _editor_example=__webpack_require__(80);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HelpPanel(props){return _react.default.createElement(_eui.EuiFlyout,{onClose:props.onClose,"data-test-subj":"helpFlyout",size:"s"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.pageTitle",defaultMessage:"Help"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Request format",id:"console.helpPage.requestFormatTitle"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.requestFormatDescription",defaultMessage:"You can type one or more requests in the white editor. Console understands requests in a compact format:"})),_react.default.createElement(_editor_example.EditorExample,{panel:"help"}),_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommandsTitle",defaultMessage:"Keyboard commands"})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement("dl",null,_react.default.createElement("dt",null,"Ctrl/Cmd + I"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.autoIndentDescription",defaultMessage:"Auto indent current request"})),_react.default.createElement("dt",null,"Ctrl/Cmd + /"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.openDocumentationDescription",defaultMessage:"Open documentation for current request"})),_react.default.createElement("dt",null,"Ctrl + Space"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.openAutoCompleteDescription",defaultMessage:"Open Auto complete (even if not typing)"})),_react.default.createElement("dt",null,"Ctrl/Cmd + Enter"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.submitRequestDescription",defaultMessage:"Submit request"})),_react.default.createElement("dt",null,"Ctrl/Cmd + Up/Down"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.jumpToPreviousNextRequestDescription",defaultMessage:"Jump to the previous/next request start or end."})),_react.default.createElement("dt",null,"Ctrl/Cmd + Alt + L"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.collapseExpandCurrentScopeDescription",defaultMessage:"Collapse/expand current scope."})),_react.default.createElement("dt",null,"Ctrl/Cmd + Option + 0"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.collapseAllScopesDescription",defaultMessage:"Collapse all scopes but the current one. Expand by adding a shift."})),_react.default.createElement("dt",null,"Down arrow"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.switchFocusToAutoCompleteMenuDescription",defaultMessage:"Switch focus to auto-complete menu. Use arrows to further select a term"})),_react.default.createElement("dt",null,"Enter/Tab"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.selectCurrentlySelectedInAutoCompleteMenuDescription",defaultMessage:"Select the currently selected or the top most term in auto-complete menu"})),_react.default.createElement("dt",null,"Esc"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.closeAutoCompleteMenuDescription",defaultMessage:"Close auto-complete menu"}))))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditorContentSpinner=void 0;var _react=_interopRequireDefault(__webpack_require__(21));var _eui=__webpack_require__(22);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EditorContentSpinner=function EditorContentSpinner(){return _react.default.createElement(_eui.EuiPageContent,{className:"conApp__editor__spinner"},_react.default.createElement(_eui.EuiLoadingContent,{lines:10}))};exports.EditorContentSpinner=EditorContentSpinner},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={MODE:true,SenseEditor:true,getEndpointFromPosition:true};Object.defineProperty(exports,"MODE",{enumerable:true,get:function get(){return _row_parser.MODE}});Object.defineProperty(exports,"SenseEditor",{enumerable:true,get:function get(){return _sense_editor.SenseEditor}});Object.defineProperty(exports,"getEndpointFromPosition",{enumerable:true,get:function get(){return _get_endpoint_from_position.getEndpointFromPosition}});var _create=__webpack_require__(172);Object.keys(_create).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _create[key]}})}));var _create_readonly=__webpack_require__(71);Object.keys(_create_readonly).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _create_readonly[key]}})}));var _row_parser=__webpack_require__(54);var _sense_editor=__webpack_require__(81);var _get_endpoint_from_position=__webpack_require__(57)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.create=create;var _sense_editor=__webpack_require__(81);var core=_interopRequireWildcard(__webpack_require__(44));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function create(element){var coreEditor=core.create(element);var senseEditor=new _sense_editor.SenseEditor(coreEditor);senseEditor.highlightCurrentRequestsAndUpdateActionBar();return senseEditor}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerCommands=registerCommands;var _lodash=__webpack_require__(35);function registerCommands(_ref){var senseEditor=_ref.senseEditor,sendCurrentRequestToES=_ref.sendCurrentRequestToES,openDocumentation=_ref.openDocumentation;var throttledAutoIndent=(0,_lodash.throttle)((function(){return senseEditor.autoIndent()}),500,{leading:true,trailing:true});var coreEditor=senseEditor.getCoreEditor();coreEditor.registerKeyboardShortcut({keys:{win:"Ctrl-Enter",mac:"Command-Enter"},name:"send to Elasticsearch",fn:function fn(){return sendCurrentRequestToES()}});coreEditor.registerKeyboardShortcut({name:"open documentation",keys:{win:"Ctrl-/",mac:"Command-/"},fn:function fn(){openDocumentation()}});coreEditor.registerKeyboardShortcut({name:"auto indent request",keys:{win:"Ctrl-I",mac:"Command-I"},fn:function fn(){throttledAutoIndent()}});coreEditor.registerKeyboardShortcut({name:"move to previous request start or end",keys:{win:"Ctrl-Up",mac:"Command-Up"},fn:function fn(){senseEditor.moveToPreviousRequestEdge()}});coreEditor.registerKeyboardShortcut({name:"move to next request start or end",keys:{win:"Ctrl-Down",mac:"Command-Down"},fn:function fn(){senseEditor.moveToNextRequestEdge(false)}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditorOutput=void 0;var _eui=__webpack_require__(22);var _i18n=__webpack_require__(3);var _react=_interopRequireWildcard(__webpack_require__(21));var _lib=__webpack_require__(45);var _contexts=__webpack_require__(38);var _legacy_core_editor=__webpack_require__(44);var _subscribe_console_resize_checker=__webpack_require__(48);var _apply_editor_settings=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function modeForContentType(contentType){if(!contentType){return"ace/mode/text"}if(contentType.indexOf("application/json")>=0){return"ace/mode/json"}else if(contentType.indexOf("application/yaml")>=0){return"ace/mode/yaml"}return"ace/mode/text"}function EditorOutputUI(){var editorRef=(0,_react.useRef)(null);var editorInstanceRef=(0,_react.useRef)(null);var _useServicesContext=(0,_contexts.useServicesContext)(),services=_useServicesContext.services;var _useEditorReadContext=(0,_contexts.useEditorReadContext)(),readOnlySettings=_useEditorReadContext.settings;var _useRequestReadContex=(0,_contexts.useRequestReadContext)(),_useRequestReadContex2=_useRequestReadContex.lastResult,data=_useRequestReadContex2.data,error=_useRequestReadContex2.error;var inputId="ConAppOutputTextarea";(0,_react.useEffect)((function(){editorInstanceRef.current=(0,_legacy_core_editor.createReadOnlyAceEditor)(editorRef.current);var unsubscribe=(0,_subscribe_console_resize_checker.subscribeResizeChecker)(editorRef.current,editorInstanceRef.current);var textarea=editorRef.current.querySelector("textarea");textarea.setAttribute("id",inputId);textarea.setAttribute("readonly","true");return function(){unsubscribe();editorInstanceRef.current.destroy()}}),[services.settings]);(0,_react.useEffect)((function(){var editor=editorInstanceRef.current;if(data){var mode=modeForContentType(data[0].response.contentType);editor.session.setMode(mode);editor.update(data.map((function(d){return d.response.value})).map(readOnlySettings.tripleQuotes?_lib.expandLiteralStrings:function(a){return a}).join("\n"))}else if(error){editor.session.setMode(modeForContentType(error.response.contentType));editor.update(error.response.value)}else{editor.update("")}}),[readOnlySettings,data,error]);(0,_react.useEffect)((function(){(0,_apply_editor_settings.applyCurrentSettings)(editorInstanceRef.current,readOnlySettings)}),[readOnlySettings]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("label",{htmlFor:inputId},_i18n.i18n.translate("console.outputTextarea",{defaultMessage:"Dev Tools Console output"}))),_react.default.createElement("div",{ref:editorRef,className:"conApp__output","data-test-subj":"response-editor"},_react.default.createElement("div",{className:"conApp__outputContent",id:"ConAppOutput"})))}var EditorOutput=_react.default.memo(EditorOutputUI);exports.EditorOutput=EditorOutput},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Editor=void 0;var _react=_interopRequireWildcard(__webpack_require__(21));var _lodash=__webpack_require__(35);var _eui=__webpack_require__(22);var _components=__webpack_require__(46);var _public=__webpack_require__(26);var _console_editor=__webpack_require__(79);var _services=__webpack_require__(83);var _contexts=__webpack_require__(38);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var INITIAL_PANEL_WIDTH=50;var PANEL_MIN_WIDTH="100px";var Editor=(0,_react.memo)((function(_ref){var loading=_ref.loading;var _useServicesContext=(0,_contexts.useServicesContext)(),storage=_useServicesContext.services.storage;var _useEditorReadContext=(0,_contexts.useEditorReadContext)(),currentTextObject=_useEditorReadContext.currentTextObject;var _useRequestReadContex=(0,_contexts.useRequestReadContext)(),requestInFlight=_useRequestReadContex.requestInFlight;var _storage$get=storage.get(_services.StorageKeys.WIDTH,[INITIAL_PANEL_WIDTH,INITIAL_PANEL_WIDTH]),_storage$get2=_slicedToArray(_storage$get,2),firstPanelWidth=_storage$get2[0],secondPanelWidth=_storage$get2[1];var onPanelWidthChange=(0,_react.useCallback)((0,_lodash.debounce)((function(widths){storage.set(_services.StorageKeys.WIDTH,widths)}),300),[]);if(!currentTextObject)return null;return _react.default.createElement(_react.default.Fragment,null,requestInFlight?_react.default.createElement("div",{className:"conApp__requestProgressBarContainer"},_react.default.createElement(_eui.EuiProgress,{size:"xs",color:"accent",position:"absolute"})):null,_react.default.createElement(_public.PanelsContainer,{onPanelWidthChange:onPanelWidthChange,resizerClassName:"conApp__resizer"},_react.default.createElement(_public.Panel,{style:{height:"100%",position:"relative",minWidth:PANEL_MIN_WIDTH},initialWidth:firstPanelWidth},loading?_react.default.createElement(_components.EditorContentSpinner,null):_react.default.createElement(_console_editor.Editor,{initialTextValue:currentTextObject.text})),_react.default.createElement(_public.Panel,{style:{height:"100%",position:"relative",minWidth:PANEL_MIN_WIDTH},initialWidth:secondPanelWidth},loading?_react.default.createElement(_components.EditorContentSpinner,null):_react.default.createElement(_console_editor.EditorOutput,null))))}));exports.Editor=Editor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createHistory=createHistory;exports.History=void 0;var _rxjs=__webpack_require__(32);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var History=function(){function History(storage){_classCallCheck(this,History);this.storage=storage;_defineProperty(this,"changeEmitter",new _rxjs.BehaviorSubject(this.getHistory()||[]))}_createClass(History,[{key:"getHistoryKeys",value:function getHistoryKeys(){return this.storage.keys().filter((function(key){return key.indexOf("hist_elem")===0})).sort().reverse()}},{key:"getHistory",value:function getHistory(){var _this=this;return this.getHistoryKeys().map((function(key){return _this.storage.get(key)}))}},{key:"change",value:function change(listener){var subscription=this.changeEmitter.subscribe(listener);return function(){return subscription.unsubscribe()}}},{key:"addToHistory",value:function addToHistory(endpoint,method,data){var _this2=this;var keys=this.getHistoryKeys();keys.splice(0,500);keys.forEach((function(key){_this2.storage.delete(key)}));var timestamp=(new Date).getTime();var k="hist_elem_"+timestamp;this.storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data});this.changeEmitter.next(this.getHistory())}},{key:"updateCurrentState",value:function updateCurrentState(content){var timestamp=(new Date).getTime();this.storage.set("editor_state",{time:timestamp,content:content})}},{key:"getLegacySavedEditorState",value:function getLegacySavedEditorState(){var saved=this.storage.get("editor_state");if(!saved)return;var time=saved.time,content=saved.content;return{time:time,content:content}}},{key:"deleteLegacySavedEditorState",value:function deleteLegacySavedEditorState(){this.storage.delete("editor_state")}},{key:"clearHistory",value:function clearHistory(){var _this3=this;this.getHistoryKeys().forEach((function(key){return _this3.storage.delete(key)}))}}]);return History}();exports.History=History;function createHistory(deps){return new History(deps.storage)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createStorage=createStorage;exports.Storage=exports.StorageKeys=void 0;var _lodash=__webpack_require__(35);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var StorageKeys;exports.StorageKeys=StorageKeys;(function(StorageKeys){StorageKeys["WIDTH"]="widths"})(StorageKeys||(exports.StorageKeys=StorageKeys={}));var Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage);this.engine=engine;this.prefix=prefix}_createClass(Storage,[{key:"encode",value:function encode(val){return JSON.stringify(val)}},{key:"decode",value:function decode(val){if(typeof val==="string"){return JSON.parse(val)}}},{key:"encodeKey",value:function encodeKey(key){return"".concat(this.prefix).concat(key)}},{key:"decodeKey",value:function decodeKey(key){if((0,_lodash.startsWith)(key,this.prefix)){return"".concat(key.slice(this.prefix.length))}}},{key:"set",value:function set(key,val){this.engine.setItem(this.encodeKey(key),this.encode(val));return val}},{key:"has",value:function has(key){return this.engine.getItem(this.encodeKey(key))!=null}},{key:"get",value:function get(key,_default){if(this.has(key)){return this.decode(this.engine.getItem(this.encodeKey(key)))}else{return _default}}},{key:"delete",value:function _delete(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function keys(){var _this=this;return(0,_lodash.transform)((0,_lodash.keys)(this.engine),(function(ours,key){var ourKey=_this.decodeKey(key);if(ourKey!=null)ours.push(ourKey)}))}}]);return Storage}();exports.Storage=Storage;function createStorage(deps){return new Storage(deps.engine,deps.prefix)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSettings=createSettings;exports.Settings=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Settings=function(){function Settings(storage){_classCallCheck(this,Settings);this.storage=storage}_createClass(Settings,[{key:"getFontSize",value:function getFontSize(){return this.storage.get("font_size",14)}},{key:"setFontSize",value:function setFontSize(size){this.storage.set("font_size",size);return true}},{key:"getWrapMode",value:function getWrapMode(){return this.storage.get("wrap_mode",true)}},{key:"setWrapMode",value:function setWrapMode(mode){this.storage.set("wrap_mode",mode);return true}},{key:"setTripleQuotes",value:function setTripleQuotes(tripleQuotes){this.storage.set("triple_quotes",tripleQuotes);return true}},{key:"getTripleQuotes",value:function getTripleQuotes(){return this.storage.get("triple_quotes",true)}},{key:"getAutocomplete",value:function getAutocomplete(){return this.storage.get("autocomplete_settings",{fields:true,indices:true,templates:true})}},{key:"setAutocomplete",value:function setAutocomplete(settings){this.storage.set("autocomplete_settings",settings);return true}},{key:"getPolling",value:function getPolling(){return this.storage.get("console_polling",true)}},{key:"setPolling",value:function setPolling(polling){this.storage.set("console_polling",polling);return true}},{key:"toJSON",value:function toJSON(){return{autocomplete:this.getAutocomplete(),wrapMode:this.getWrapMode(),tripleQuotes:this.getTripleQuotes(),fontSize:parseFloat(this.getFontSize()),polling:Boolean(this.getPolling())}}},{key:"updateSettings",value:function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,tripleQuotes=_ref.tripleQuotes,autocomplete=_ref.autocomplete,polling=_ref.polling;this.setFontSize(fontSize);this.setWrapMode(wrapMode);this.setTripleQuotes(tripleQuotes);this.setAutocomplete(autocomplete);this.setPolling(polling)}}]);return Settings}();exports.Settings=Settings;function createSettings(_ref2){var storage=_ref2.storage;return new Settings(storage)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Settings=Settings;var _react=_interopRequireDefault(__webpack_require__(21));var _components=__webpack_require__(46);var _mappings=_interopRequireDefault(__webpack_require__(40));var _contexts=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getAutocompleteDiff=function getAutocompleteDiff(newSettings,prevSettings){return Object.keys(newSettings.autocomplete).filter((function(key){return prevSettings.autocomplete[key]!==newSettings.autocomplete[key]}))};var _refreshAutocompleteSettings=function refreshAutocompleteSettings(settings,selectedSettings){_mappings.default.retrieveAutoCompleteInfo(settings,selectedSettings)};var fetchAutocompleteSettingsIfNeeded=function fetchAutocompleteSettingsIfNeeded(settings,newSettings,prevSettings){if(newSettings.polling){var autocompleteDiff=getAutocompleteDiff(newSettings,prevSettings);var isSettingsChanged=autocompleteDiff.length>0;var isPollingChanged=prevSettings.polling!==newSettings.polling;if(isSettingsChanged){var changedSettings=autocompleteDiff.reduce((function(changedSettingsAccum,setting){changedSettingsAccum[setting]=newSettings.autocomplete[setting];return changedSettingsAccum}),{});_mappings.default.retrieveAutoCompleteInfo(settings,changedSettings)}else if(isPollingChanged&&newSettings.polling){_mappings.default.retrieveAutoCompleteInfo(settings,settings.getAutocomplete())}}};function Settings(_ref){var onClose=_ref.onClose;var _useServicesContext=(0,_contexts.useServicesContext)(),settings=_useServicesContext.services.settings;var dispatch=(0,_contexts.useEditorActionContext)();var onSaveSettings=function onSaveSettings(newSettings){var prevSettings=settings.toJSON();fetchAutocompleteSettingsIfNeeded(settings,newSettings,prevSettings);settings.updateSettings(newSettings);dispatch({type:"updateSettings",payload:newSettings});onClose()};return _react.default.createElement(_components.DevToolsSettingsModal,{onClose:onClose,onSaveSettings:onSaveSettings,refreshAutocompleteSettings:function refreshAutocompleteSettings(selectedSettings){return _refreshAutocompleteSettings(settings,selectedSettings)},settings:settings.toJSON()})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTopNavConfig=getTopNavConfig;var _i18n=__webpack_require__(3);function getTopNavConfig(_ref){var onClickHistory=_ref.onClickHistory,onClickSettings=_ref.onClickSettings,onClickHelp=_ref.onClickHelp;return[{id:"history",label:_i18n.i18n.translate("console.topNav.historyTabLabel",{defaultMessage:"History"}),description:_i18n.i18n.translate("console.topNav.historyTabDescription",{defaultMessage:"History"}),onClick:function onClick(){onClickHistory()},testId:"consoleHistoryButton"},{id:"settings",label:_i18n.i18n.translate("console.topNav.settingsTabLabel",{defaultMessage:"Settings"}),description:_i18n.i18n.translate("console.topNav.settingsTabDescription",{defaultMessage:"Settings"}),onClick:function onClick(){onClickSettings()},testId:"consoleSettingsButton"},{id:"help",label:_i18n.i18n.translate("console.topNav.helpTabLabel",{defaultMessage:"Help"}),description:_i18n.i18n.translate("console.topNav.helpTabDescription",{defaultMessage:"Help"}),onClick:function onClick(){onClickHelp()},testId:"consoleHelpButton"}]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"create",{enumerable:true,get:function get(){return _create.create}});Object.defineProperty(exports,"LocalObjectStorage",{enumerable:true,get:function get(){return _local_storage_object_client.LocalObjectStorage}});var _create=__webpack_require__(182);var _local_storage_object_client=__webpack_require__(84)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.create=void 0;var _text_object=__webpack_require__(183);var _local_storage_object_client=__webpack_require__(84);var create=function create(storage){return{text:new _local_storage_object_client.LocalObjectStorage(storage,_text_object.textObjectTypeName)}};exports.create=create},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.textObjectTypeName=void 0;var textObjectTypeName="text-object";exports.textObjectTypeName=textObjectTypeName},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createUsageTracker=void 0;var _analytics=__webpack_require__(87);var APP_TRACKER_NAME="console";var createUsageTracker=function createUsageTracker(usageCollection){var track=function track(type,name){return usageCollection===null||usageCollection===void 0?void 0:usageCollection.reportUiStats(APP_TRACKER_NAME,type,name)};return{count:function count(eventName){track(_analytics.METRIC_TYPE.COUNT,eventName)},load:function load(eventName){track(_analytics.METRIC_TYPE.LOADED,eventName)}}};exports.createUsageTracker=createUsageTracker}])]);