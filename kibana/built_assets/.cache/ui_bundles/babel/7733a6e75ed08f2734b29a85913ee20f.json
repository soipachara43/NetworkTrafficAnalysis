{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/uptime/public/components/functional/kuery_bar/typeahead/index.js","dependencies":[{"path":"x-pack/legacy/plugins/uptime/public/components/functional/kuery_bar/typeahead/index.js","mtime":1589249553608},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlR5cGVhaGVhZCA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9zdWdnZXN0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9zdWdnZXN0aW9ucyIpKTsKCnZhciBfY2xpY2tfb3V0c2lkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9jbGlja19vdXRzaWRlIikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgS0VZX0NPREVTID0gewogIExFRlQ6IDM3LAogIFVQOiAzOCwKICBSSUdIVDogMzksCiAgRE9XTjogNDAsCiAgRU5URVI6IDEzLAogIEVTQzogMjcsCiAgVEFCOiA5Cn07Cgp2YXIgVHlwZWFoZWFkID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhUeXBlYWhlYWQsIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBUeXBlYWhlYWQoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR5cGVhaGVhZCk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihUeXBlYWhlYWQpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIHsKICAgICAgaXNTdWdnZXN0aW9uc1Zpc2libGU6IGZhbHNlLAogICAgICBpbmRleDogbnVsbCwKICAgICAgdmFsdWU6ICcnLAogICAgICBpbnB1dElzUHJpc3RpbmU6IHRydWUsCiAgICAgIGxhc3RTdWJtaXR0ZWQ6ICcnCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpbmNyZW1lbnRJbmRleCIsIGZ1bmN0aW9uIChjdXJyZW50SW5kZXgpIHsKICAgICAgdmFyIG5leHRJbmRleCA9IGN1cnJlbnRJbmRleCArIDE7CgogICAgICBpZiAoY3VycmVudEluZGV4ID09PSBudWxsIHx8IG5leHRJbmRleCA+PSBfdGhpcy5wcm9wcy5zdWdnZXN0aW9ucy5sZW5ndGgpIHsKICAgICAgICBuZXh0SW5kZXggPSAwOwogICAgICB9CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaW5kZXg6IG5leHRJbmRleAogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImRlY3JlbWVudEluZGV4IiwgZnVuY3Rpb24gKGN1cnJlbnRJbmRleCkgewogICAgICB2YXIgcHJldmlvdXNJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7CgogICAgICBpZiAocHJldmlvdXNJbmRleCA8IDApIHsKICAgICAgICBwcmV2aW91c0luZGV4ID0gbnVsbDsKICAgICAgfQoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGluZGV4OiBwcmV2aW91c0luZGV4CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25LZXlVcCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uU3RhcnQ7CiAgICAgIHZhciB2YWx1ZSA9IF90aGlzLnN0YXRlLnZhbHVlOwoKICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7CiAgICAgICAgY2FzZSBLRVlfQ09ERVMuTEVGVDoKICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgaXNTdWdnZXN0aW9uc1Zpc2libGU6IHRydWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlLCBzZWxlY3Rpb25TdGFydCk7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgS0VZX0NPREVTLlJJR0hUOgogICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogdHJ1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UodmFsdWUsIHNlbGVjdGlvblN0YXJ0KTsKCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25LZXlEb3duIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgaXNTdWdnZXN0aW9uc1Zpc2libGUgPSBfdGhpcyRzdGF0ZS5pc1N1Z2dlc3Rpb25zVmlzaWJsZSwKICAgICAgICAgIGluZGV4ID0gX3RoaXMkc3RhdGUuaW5kZXgsCiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHN0YXRlLnZhbHVlOwoKICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7CiAgICAgICAgY2FzZSBLRVlfQ09ERVMuRE9XTjoKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgaWYgKGlzU3VnZ2VzdGlvbnNWaXNpYmxlKSB7CiAgICAgICAgICAgIF90aGlzLmluY3JlbWVudEluZGV4KGluZGV4KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBpbmRleDogMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBLRVlfQ09ERVMuVVA6CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgIGlmIChpc1N1Z2dlc3Rpb25zVmlzaWJsZSkgewogICAgICAgICAgICBfdGhpcy5kZWNyZW1lbnRJbmRleChpbmRleCk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgS0VZX0NPREVTLkVOVEVSOgogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICBpZiAoaXNTdWdnZXN0aW9uc1Zpc2libGUgJiYgX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnNbaW5kZXhdKSB7CiAgICAgICAgICAgIF90aGlzLnNlbGVjdFN1Z2dlc3Rpb24oX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnNbaW5kZXhdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy5wcm9wcy5vblN1Ym1pdCh2YWx1ZSk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgS0VZX0NPREVTLkVTQzoKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogZmFsc2UKICAgICAgICAgIH0pOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIEtFWV9DT0RFUy5UQUI6CiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIGlzU3VnZ2VzdGlvbnNWaXNpYmxlOiBmYWxzZQogICAgICAgICAgfSk7CgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNlbGVjdFN1Z2dlc3Rpb24iLCBmdW5jdGlvbiAoc3VnZ2VzdGlvbikgewogICAgICB2YXIgbmV4dElucHV0VmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZS5zdWJzdHIoMCwgc3VnZ2VzdGlvbi5zdGFydCkgKyBzdWdnZXN0aW9uLnRleHQgKyBfdGhpcy5zdGF0ZS52YWx1ZS5zdWJzdHIoc3VnZ2VzdGlvbi5lbmQpOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHZhbHVlOiBuZXh0SW5wdXRWYWx1ZSwKICAgICAgICBpbmRleDogbnVsbAogICAgICB9KTsKCiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKG5leHRJbnB1dFZhbHVlLCBuZXh0SW5wdXRWYWx1ZS5sZW5ndGgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25DbGlja091dHNpZGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogZmFsc2UKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkNoYW5nZUlucHV0VmFsdWUiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIF9ldmVudCR0YXJnZXQgPSBldmVudC50YXJnZXQsCiAgICAgICAgICB2YWx1ZSA9IF9ldmVudCR0YXJnZXQudmFsdWUsCiAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IF9ldmVudCR0YXJnZXQuc2VsZWN0aW9uU3RhcnQ7CiAgICAgIHZhciBoYXNWYWx1ZSA9IEJvb2xlYW4odmFsdWUudHJpbSgpKTsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgaW5wdXRJc1ByaXN0aW5lOiBmYWxzZSwKICAgICAgICBpc1N1Z2dlc3Rpb25zVmlzaWJsZTogaGFzVmFsdWUsCiAgICAgICAgaW5kZXg6IG51bGwKICAgICAgfSk7CgogICAgICBpZiAoIWhhc1ZhbHVlKSB7CiAgICAgICAgX3RoaXMucHJvcHMub25TdWJtaXQodmFsdWUpOwogICAgICB9CgogICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25DbGlja0lucHV0IiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25TdGFydDsKCiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLnZhbHVlLCBzZWxlY3Rpb25TdGFydCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkNsaWNrU3VnZ2VzdGlvbiIsIGZ1bmN0aW9uIChzdWdnZXN0aW9uKSB7CiAgICAgIF90aGlzLnNlbGVjdFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbik7CgogICAgICBfdGhpcy5pbnB1dFJlZi5mb2N1cygpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Nb3VzZUVudGVyU3VnZ2VzdGlvbiIsIGZ1bmN0aW9uIChpbmRleCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaW5kZXg6IGluZGV4CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25TdWJtaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5zdGF0ZS5sYXN0U3VibWl0dGVkICE9PSBfdGhpcy5zdGF0ZS52YWx1ZSkgewogICAgICAgIF90aGlzLnByb3BzLm9uU3VibWl0KF90aGlzLnN0YXRlLnZhbHVlKTsKCiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgbGFzdFN1Ym1pdHRlZDogX3RoaXMuc3RhdGUudmFsdWUKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzU3VnZ2VzdGlvbnNWaXNpYmxlOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUeXBlYWhlYWQsIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2xpY2tfb3V0c2lkZS5kZWZhdWx0LCB7CiAgICAgICAgb25DbGlja091dHNpZGU6IHRoaXMub25DbGlja091dHNpZGUsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnCiAgICAgICAgfQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogdGhpcy5wcm9wc1snZGF0YS10ZXN0LXN1YmonXSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScKICAgICAgICB9CiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFNlYXJjaCwgewogICAgICAgICJhcmlhLWxhYmVsIjogdGhpcy5wcm9wc1snYXJpYS1sYWJlbCddLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAnbm9uZScKICAgICAgICB9LAogICAgICAgIHBsYWNlaG9sZGVyOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudXB0aW1lLmt1ZXJ5QmFyLnNlYXJjaFBsYWNlaG9sZGVyJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTZWFyY2ggbW9uaXRvciBJRHMsIG5hbWVzLCBhbmQgcHJvdG9jb2wgdHlwZXMuLi4nCiAgICAgICAgfSksCiAgICAgICAgaW5wdXRSZWY6IGZ1bmN0aW9uIGlucHV0UmVmKG5vZGUpIHsKICAgICAgICAgIGlmIChub2RlKSB7CiAgICAgICAgICAgIF90aGlzMi5pbnB1dFJlZiA9IG5vZGU7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkaXNhYmxlZDogdGhpcy5wcm9wcy5kaXNhYmxlZCwKICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS52YWx1ZSwKICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLAogICAgICAgIG9uS2V5VXA6IHRoaXMub25LZXlVcCwKICAgICAgICBvbkJsdXI6IHRoaXMub25TdWJtaXQsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VJbnB1dFZhbHVlLAogICAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGlja0lucHV0LAogICAgICAgIGF1dG9Db21wbGV0ZTogIm9mZiIsCiAgICAgICAgc3BlbGxDaGVjazogZmFsc2UKICAgICAgfSksIHRoaXMucHJvcHMuaXNMb2FkaW5nICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQcm9ncmVzcywgewogICAgICAgIHNpemU6ICJ4cyIsCiAgICAgICAgY29sb3I6ICJhY2NlbnQiLAogICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBib3R0b206IDAsCiAgICAgICAgICB0b3A6ICdpbml0aWFsJwogICAgICAgIH0KICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zdWdnZXN0aW9ucy5kZWZhdWx0LCB7CiAgICAgICAgc2hvdzogdGhpcy5zdGF0ZS5pc1N1Z2dlc3Rpb25zVmlzaWJsZSwKICAgICAgICBzdWdnZXN0aW9uczogdGhpcy5wcm9wcy5zdWdnZXN0aW9ucywKICAgICAgICBpbmRleDogdGhpcy5zdGF0ZS5pbmRleCwKICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2tTdWdnZXN0aW9uLAogICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbk1vdXNlRW50ZXJTdWdnZXN0aW9uCiAgICAgIH0pKTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkgewogICAgICBpZiAoc3RhdGUuaW5wdXRJc1ByaXN0aW5lICYmIHByb3BzLmluaXRpYWxWYWx1ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogcHJvcHMuaW5pdGlhbFZhbHVlCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVHlwZWFoZWFkOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5UeXBlYWhlYWQgPSBUeXBlYWhlYWQ7ClR5cGVhaGVhZC5wcm9wVHlwZXMgPSB7CiAgaW5pdGlhbFZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIGlzTG9hZGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIG9uQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIG9uU3VibWl0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHN1Z2dlc3Rpb25zOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXkuaXNSZXF1aXJlZCwKICBxdWVyeUV4YW1wbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZAp9OwpUeXBlYWhlYWQuZGVmYXVsdFByb3BzID0gewogIGlzTG9hZGluZzogZmFsc2UsCiAgZGlzYWJsZWQ6IGZhbHNlLAogIHN1Z2dlc3Rpb25zOiBbXQp9Ow=="},null]}