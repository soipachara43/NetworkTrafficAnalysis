{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/data/public/query/saved_query/saved_query_service.js","dependencies":[{"path":"src/plugins/data/public/query/saved_query/saved_query_service.js","mtime":1589249550619},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmNyZWF0ZVNhdmVkUXVlcnlTZXJ2aWNlID0gdm9pZCAwOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCgp2YXIgY3JlYXRlU2F2ZWRRdWVyeVNlcnZpY2UgPSBmdW5jdGlvbiBjcmVhdGVTYXZlZFF1ZXJ5U2VydmljZShzYXZlZE9iamVjdHNDbGllbnQpIHsKICB2YXIgc2F2ZVF1ZXJ5ID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYXR0cmlidXRlcykgewogICAgICB2YXIgX3JlZjIsCiAgICAgICAgICBfcmVmMiRvdmVyd3JpdGUsCiAgICAgICAgICBvdmVyd3JpdGUsCiAgICAgICAgICBxdWVyeSwKICAgICAgICAgIHF1ZXJ5T2JqZWN0LAogICAgICAgICAgcmF3UXVlcnlSZXNwb25zZSwKICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9yZWYyID0gX2FyZ3MubGVuZ3RoID4gMSAmJiBfYXJnc1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMV0gOiB7fSwgX3JlZjIkb3ZlcndyaXRlID0gX3JlZjIub3ZlcndyaXRlLCBvdmVyd3JpdGUgPSBfcmVmMiRvdmVyd3JpdGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkb3ZlcndyaXRlOwoKICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy50aXRsZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgc2F2ZWQgcXVlcnkgd2l0aG91dCBhIHRpdGxlJyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcXVlcnkgPSB7CiAgICAgICAgICAgICAgICBxdWVyeTogdHlwZW9mIGF0dHJpYnV0ZXMucXVlcnkucXVlcnkgPT09ICdzdHJpbmcnID8gYXR0cmlidXRlcy5xdWVyeS5xdWVyeSA6IEpTT04uc3RyaW5naWZ5KGF0dHJpYnV0ZXMucXVlcnkucXVlcnkpLAogICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGF0dHJpYnV0ZXMucXVlcnkubGFuZ3VhZ2UKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHF1ZXJ5T2JqZWN0ID0gewogICAgICAgICAgICAgICAgdGl0bGU6IGF0dHJpYnV0ZXMudGl0bGUudHJpbSgpLAogICAgICAgICAgICAgICAgLy8gdHJpbSB3aGl0ZXNwYWNlIGJlZm9yZSBzYXZlIGFzIGFuIGV4dHJhIHByZWNhdXRpb24gYWdhaW5zdCBjaXJjdW12ZW50aW5nIHRoZSBmcm9udCBlbmQKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGVzLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuZmlsdGVycykgewogICAgICAgICAgICAgICAgcXVlcnlPYmplY3QuZmlsdGVycyA9IGF0dHJpYnV0ZXMuZmlsdGVyczsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLnRpbWVmaWx0ZXIpIHsKICAgICAgICAgICAgICAgIHF1ZXJ5T2JqZWN0LnRpbWVmaWx0ZXIgPSBhdHRyaWJ1dGVzLnRpbWVmaWx0ZXI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRPYmplY3RzQ2xpZW50LmNyZWF0ZSgncXVlcnknLCBxdWVyeU9iamVjdCwgewogICAgICAgICAgICAgICAgaWQ6IGF0dHJpYnV0ZXMudGl0bGUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmF3UXVlcnlSZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5jcmVhdGUoJ3F1ZXJ5JywgcXVlcnlPYmplY3QsIHsKICAgICAgICAgICAgICAgIGlkOiBhdHRyaWJ1dGVzLnRpdGxlLAogICAgICAgICAgICAgICAgb3ZlcndyaXRlOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIHJhd1F1ZXJ5UmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBpZiAoIXJhd1F1ZXJ5UmVzcG9uc2UuZXJyb3IpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJhd1F1ZXJ5UmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHBhcnNlU2F2ZWRRdWVyeU9iamVjdChyYXdRdWVyeVJlc3BvbnNlKSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gc2F2ZVF1ZXJ5KF94KSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsgLy8gd2UgaGF2ZSB0byB0ZWxsIHRoZSBzYXZlZCBvYmplY3RzIGNsaWVudCBob3cgbWFueSB0byBmZXRjaCwgb3RoZXJ3aXNlIGl0IGRlZmF1bHRzIHRvIGZldGNoaW5nIDIwIHBlciBwYWdlCgoKICB2YXIgZ2V0QWxsU2F2ZWRRdWVyaWVzID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvdW50LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldFNhdmVkUXVlcnlDb3VudCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvdW50ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBzYXZlZE9iamVjdHNDbGllbnQuZmluZCh7CiAgICAgICAgICAgICAgICB0eXBlOiAncXVlcnknLAogICAgICAgICAgICAgICAgcGVyUGFnZTogY291bnQsCiAgICAgICAgICAgICAgICBwYWdlOiAxCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2Uuc2F2ZWRPYmplY3RzLm1hcChmdW5jdGlvbiAoc2F2ZWRPYmplY3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVNhdmVkUXVlcnlPYmplY3Qoc2F2ZWRPYmplY3QpOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QWxsU2F2ZWRRdWVyaWVzKCkgewogICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOyAvLyBmaW5kU2F2ZWRRdWVyaWVzIHdpbGwgZG8gYSAnbWF0Y2hfYWxsJyBpZiBubyBzZWFyY2ggc3RyaW5nIGlzIHBhc3NlZCBpbgoKCiAgdmFyIGZpbmRTYXZlZFF1ZXJpZXMgPQogIC8qI19fUFVSRV9fKi8KICBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgc2VhcmNoVGV4dCwKICAgICAgICAgIHBlclBhZ2UsCiAgICAgICAgICBhY3RpdmVQYWdlLAogICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICBfYXJnczMgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2VhcmNoVGV4dCA9IF9hcmdzMy5sZW5ndGggPiAwICYmIF9hcmdzM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzBdIDogJyc7CiAgICAgICAgICAgICAgcGVyUGFnZSA9IF9hcmdzMy5sZW5ndGggPiAxICYmIF9hcmdzM1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzFdIDogNTA7CiAgICAgICAgICAgICAgYWN0aXZlUGFnZSA9IF9hcmdzMy5sZW5ndGggPiAyICYmIF9hcmdzM1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzJdIDogMTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5maW5kKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdxdWVyeScsCiAgICAgICAgICAgICAgICBzZWFyY2g6IHNlYXJjaFRleHQsCiAgICAgICAgICAgICAgICBzZWFyY2hGaWVsZHM6IFsndGl0bGVeNScsICdkZXNjcmlwdGlvbiddLAogICAgICAgICAgICAgICAgc29ydEZpZWxkOiAnX3Njb3JlJywKICAgICAgICAgICAgICAgIHBlclBhZ2U6IHBlclBhZ2UsCiAgICAgICAgICAgICAgICBwYWdlOiBhY3RpdmVQYWdlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgdG90YWw6IHJlc3BvbnNlLnRvdGFsLAogICAgICAgICAgICAgICAgcXVlcmllczogcmVzcG9uc2Uuc2F2ZWRPYmplY3RzLm1hcChmdW5jdGlvbiAoc2F2ZWRPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2F2ZWRRdWVyeU9iamVjdChzYXZlZE9iamVjdCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBmaW5kU2F2ZWRRdWVyaWVzKCkgewogICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgZ2V0U2F2ZWRRdWVyeSA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaWQpIHsKICAgICAgdmFyIHNhdmVkT2JqZWN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRPYmplY3RzQ2xpZW50LmdldCgncXVlcnknLCBpZCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgc2F2ZWRPYmplY3QgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFzYXZlZE9iamVjdC5lcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc2F2ZWRPYmplY3QuZXJyb3IubWVzc2FnZSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHBhcnNlU2F2ZWRRdWVyeU9iamVjdChzYXZlZE9iamVjdCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRTYXZlZFF1ZXJ5KF94MikgewogICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgZGVsZXRlU2F2ZWRRdWVyeSA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoaWQpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5kZWxldGUoJ3F1ZXJ5JywgaWQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUuc2VudCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGV0ZVNhdmVkUXVlcnkoX3gzKSB7CiAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBwYXJzZVNhdmVkUXVlcnlPYmplY3QgPSBmdW5jdGlvbiBwYXJzZVNhdmVkUXVlcnlPYmplY3Qoc2F2ZWRRdWVyeSkgewogICAgdmFyIHF1ZXJ5U3RyaW5nOwoKICAgIHRyeSB7CiAgICAgIHF1ZXJ5U3RyaW5nID0gSlNPTi5wYXJzZShzYXZlZFF1ZXJ5LmF0dHJpYnV0ZXMucXVlcnkucXVlcnkpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgcXVlcnlTdHJpbmcgPSBzYXZlZFF1ZXJ5LmF0dHJpYnV0ZXMucXVlcnkucXVlcnk7CiAgICB9CgogICAgdmFyIHNhdmVkUXVlcnlJdGVtcyA9IHsKICAgICAgdGl0bGU6IHNhdmVkUXVlcnkuYXR0cmlidXRlcy50aXRsZSB8fCAnJywKICAgICAgZGVzY3JpcHRpb246IHNhdmVkUXVlcnkuYXR0cmlidXRlcy5kZXNjcmlwdGlvbiB8fCAnJywKICAgICAgcXVlcnk6IHsKICAgICAgICBxdWVyeTogcXVlcnlTdHJpbmcsCiAgICAgICAgbGFuZ3VhZ2U6IHNhdmVkUXVlcnkuYXR0cmlidXRlcy5xdWVyeS5sYW5ndWFnZQogICAgICB9CiAgICB9OwoKICAgIGlmIChzYXZlZFF1ZXJ5LmF0dHJpYnV0ZXMuZmlsdGVycykgewogICAgICBzYXZlZFF1ZXJ5SXRlbXMuZmlsdGVycyA9IHNhdmVkUXVlcnkuYXR0cmlidXRlcy5maWx0ZXJzOwogICAgfQoKICAgIGlmIChzYXZlZFF1ZXJ5LmF0dHJpYnV0ZXMudGltZWZpbHRlcikgewogICAgICBzYXZlZFF1ZXJ5SXRlbXMudGltZWZpbHRlciA9IHNhdmVkUXVlcnkuYXR0cmlidXRlcy50aW1lZmlsdGVyOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGlkOiBzYXZlZFF1ZXJ5LmlkLAogICAgICBhdHRyaWJ1dGVzOiBzYXZlZFF1ZXJ5SXRlbXMKICAgIH07CiAgfTsKCiAgdmFyIGdldFNhdmVkUXVlcnlDb3VudCA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHZhciByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5maW5kKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdxdWVyeScsCiAgICAgICAgICAgICAgICBwZXJQYWdlOiAwLAogICAgICAgICAgICAgICAgcGFnZTogMQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLnRvdGFsKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0U2F2ZWRRdWVyeUNvdW50KCkgewogICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICByZXR1cm4gewogICAgc2F2ZVF1ZXJ5OiBzYXZlUXVlcnksCiAgICBnZXRBbGxTYXZlZFF1ZXJpZXM6IGdldEFsbFNhdmVkUXVlcmllcywKICAgIGZpbmRTYXZlZFF1ZXJpZXM6IGZpbmRTYXZlZFF1ZXJpZXMsCiAgICBnZXRTYXZlZFF1ZXJ5OiBnZXRTYXZlZFF1ZXJ5LAogICAgZGVsZXRlU2F2ZWRRdWVyeTogZGVsZXRlU2F2ZWRRdWVyeSwKICAgIGdldFNhdmVkUXVlcnlDb3VudDogZ2V0U2F2ZWRRdWVyeUNvdW50CiAgfTsKfTsKCmV4cG9ydHMuY3JlYXRlU2F2ZWRRdWVyeVNlcnZpY2UgPSBjcmVhdGVTYXZlZFF1ZXJ5U2VydmljZTs="},null]}