{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/rollup/public/crud_app/sections/components/job_action_menu/job_action_menu.js","dependencies":[{"path":"x-pack/legacy/plugins/rollup/public/crud_app/sections/components/job_action_menu/job_action_menu.js","mtime":1589249552812},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYkFjdGlvbk1lbnUgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2NvbmZpcm1fZGVsZXRlX21vZGFsID0gcmVxdWlyZSgiLi9jb25maXJtX2RlbGV0ZV9tb2RhbCIpOwoKdmFyIF9zZXJ2aWNlcyA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBKb2JBY3Rpb25NZW51VWkgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEpvYkFjdGlvbk1lbnVVaSwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEpvYkFjdGlvbk1lbnVVaShwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBKb2JBY3Rpb25NZW51VWkpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEpvYkFjdGlvbk1lbnVVaSkuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uQnV0dG9uQ2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNQb3BvdmVyT3BlbjogIXByZXZTdGF0ZS5pc1BvcG92ZXJPcGVuCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjbG9zZVBvcG92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1BvcG92ZXJPcGVuOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNsb3NlRGVsZXRlQ29uZmlybWF0aW9uTW9kYWwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBzaG93RGVsZXRlQ29uZmlybWF0aW9uOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9wZW5EZWxldGVDb25maXJtYXRpb25Nb2RhbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHNob3dEZWxldGVDb25maXJtYXRpb246IHRydWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjb25maXJtRGVsZXRlTW9kYWwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzaG93RGVsZXRlQ29uZmlybWF0aW9uID0gX3RoaXMuc3RhdGUuc2hvd0RlbGV0ZUNvbmZpcm1hdGlvbjsKCiAgICAgIGlmICghc2hvd0RlbGV0ZUNvbmZpcm1hdGlvbikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIGRlbGV0ZUpvYnMgPSBfdGhpcyRwcm9wcy5kZWxldGVKb2JzLAogICAgICAgICAgam9icyA9IF90aGlzJHByb3BzLmpvYnM7CgogICAgICB2YXIgb25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gb25Db25maXJtRGVsZXRlKCkgewogICAgICAgIF90aGlzLmNsb3NlUG9wb3ZlcigpOwoKICAgICAgICBkZWxldGVKb2JzKCk7CiAgICAgIH07CgogICAgICB2YXIgaXNTaW5nbGVTZWxlY3Rpb24gPSBfdGhpcy5pc1NpbmdsZVNlbGVjdGlvbigpOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbmZpcm1fZGVsZXRlX21vZGFsLkNvbmZpcm1EZWxldGVNb2RhbCwgewogICAgICAgIGlzU2luZ2xlU2VsZWN0aW9uOiBpc1NpbmdsZVNlbGVjdGlvbiwKICAgICAgICBqb2JzOiBqb2JzLAogICAgICAgIG9uQ29uZmlybTogb25Db25maXJtRGVsZXRlLAogICAgICAgIG9uQ2FuY2VsOiBfdGhpcy5jbG9zZURlbGV0ZUNvbmZpcm1hdGlvbk1vZGFsCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaXNTaW5nbGVTZWxlY3Rpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5qb2JzLmxlbmd0aCA9PT0gMTsKICAgIH0pOwoKICAgIF90aGlzLnN0YXRlID0gewogICAgICBpc1BvcG92ZXJPcGVuOiBmYWxzZSwKICAgICAgc2hvd0RlbGV0ZUNvbmZpcm1hdGlvbjogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSm9iQWN0aW9uTWVudVVpLCBbewogICAga2V5OiAicGFuZWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwYW5lbHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBzdGFydEpvYnMgPSBfdGhpcyRwcm9wczIuc3RhcnRKb2JzLAogICAgICAgICAgc3RvcEpvYnMgPSBfdGhpcyRwcm9wczIuc3RvcEpvYnMsCiAgICAgICAgICBjbG9uZUpvYiA9IF90aGlzJHByb3BzMi5jbG9uZUpvYjsKICAgICAgdmFyIGlzU2luZ2xlU2VsZWN0aW9uID0gdGhpcy5pc1NpbmdsZVNlbGVjdGlvbigpID8gMSA6IDA7CiAgICAgIHZhciBpdGVtcyA9IFtdOwoKICAgICAgaWYgKHRoaXMuY2FuU3RhcnRKb2JzKCkpIHsKICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYkFjdGlvbk1lbnUuc3RhcnRKb2JMYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTdGFydCB7aXNTaW5nbGVTZWxlY3Rpb24sIHBsdXJhbCwgb25lIHtqb2J9IG90aGVyIHtqb2JzfX0nLAogICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICBpc1NpbmdsZVNlbGVjdGlvbjogaXNTaW5nbGVTZWxlY3Rpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSksCiAgICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgICB0eXBlOiAicGxheSIKICAgICAgICAgIH0pLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgX3RoaXMyLmNsb3NlUG9wb3ZlcigpOwoKICAgICAgICAgICAgc3RhcnRKb2JzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNhblN0b3BKb2JzKCkpIHsKICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYkFjdGlvbk1lbnUuc3RvcEpvYkxhYmVsJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1N0b3Age2lzU2luZ2xlU2VsZWN0aW9uLCBwbHVyYWwsIG9uZSB7am9ifSBvdGhlciB7am9ic319JywKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgaXNTaW5nbGVTZWxlY3Rpb246IGlzU2luZ2xlU2VsZWN0aW9uCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLAogICAgICAgICAgaWNvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb24sIHsKICAgICAgICAgICAgdHlwZTogInN0b3AiCiAgICAgICAgICB9KSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzMi5jbG9zZVBvcG92ZXIoKTsKCiAgICAgICAgICAgIHN0b3BKb2JzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNhbkNsb25lSm9iKCkpIHsKICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYkFjdGlvbk1lbnUuY2xvbmVKb2JMYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDbG9uZSBqb2InCiAgICAgICAgICB9KSwKICAgICAgICAgIGljb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJqb2JDbG9uZUFjdGlvbkNvbnRleHRNZW51IiwKICAgICAgICAgICAgdHlwZTogImNvcHkiCiAgICAgICAgICB9KSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzMi5jbG9zZVBvcG92ZXIoKTsKCiAgICAgICAgICAgIHZhciBqb2JzID0gX3RoaXMyLnByb3BzLmpvYnM7CiAgICAgICAgICAgIGNsb25lSm9iKGpvYnNbMF0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5jYW5EZWxldGVKb2JzKCkpIHsKICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYkFjdGlvbk1lbnUuZGVsZXRlSm9iTGFiZWwnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlIHtpc1NpbmdsZVNlbGVjdGlvbiwgcGx1cmFsLCBvbmUge2pvYn0gb3RoZXIge2pvYnN9fScsCiAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgIGlzU2luZ2xlU2VsZWN0aW9uOiBpc1NpbmdsZVNlbGVjdGlvbgogICAgICAgICAgICB9CiAgICAgICAgICB9KSwKICAgICAgICAgIGljb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICAgIHR5cGU6ICJ0cmFzaCIKICAgICAgICAgIH0pLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgX3RoaXMyLmNsb3NlUG9wb3ZlcigpOwoKICAgICAgICAgICAgX3RoaXMyLm9wZW5EZWxldGVDb25maXJtYXRpb25Nb2RhbCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcGFuZWxUcmVlID0gewogICAgICAgIGlkOiAwLAogICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JBY3Rpb25NZW51LnBhbmVsVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0pvYiBvcHRpb25zJwogICAgICAgIH0pLAogICAgICAgIGl0ZW1zOiBpdGVtcwogICAgICB9OwogICAgICByZXR1cm4gKDAsIF9zZXJ2aWNlcy5mbGF0dGVuUGFuZWxUcmVlKShwYW5lbFRyZWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhblN0YXJ0Sm9icyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuU3RhcnRKb2JzKCkgewogICAgICB2YXIgam9icyA9IHRoaXMucHJvcHMuam9iczsKICAgICAgcmV0dXJuIGpvYnMuc29tZShmdW5jdGlvbiAoam9iKSB7CiAgICAgICAgcmV0dXJuIGpvYi5zdGF0dXMgPT09ICdzdG9wcGVkJzsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuU3RvcEpvYnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhblN0b3BKb2JzKCkgewogICAgICB2YXIgam9icyA9IHRoaXMucHJvcHMuam9iczsKICAgICAgcmV0dXJuIGpvYnMuc29tZShmdW5jdGlvbiAoam9iKSB7CiAgICAgICAgcmV0dXJuIGpvYi5zdGF0dXMgPT09ICdzdGFydGVkJzsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ2xvbmVKb2IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkNsb25lSm9iKCkgewogICAgICB2YXIgam9icyA9IHRoaXMucHJvcHMuam9iczsKICAgICAgcmV0dXJuIEJvb2xlYW4oam9icyAmJiBqb2JzLmxlbmd0aCA9PT0gMSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuRGVsZXRlSm9icyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuRGVsZXRlSm9icygpIHsKICAgICAgdmFyIGpvYnMgPSB0aGlzLnByb3BzLmpvYnM7CiAgICAgIHZhciBhcmVBbGxKb2JzU3RvcHBlZCA9IGpvYnMuZmluZEluZGV4KGZ1bmN0aW9uIChqb2IpIHsKICAgICAgICByZXR1cm4gam9iLnN0YXR1cyA9PT0gJ3N0YXJ0ZWQnOwogICAgICB9KSA9PT0gLTE7CiAgICAgIHJldHVybiBhcmVBbGxKb2JzU3RvcHBlZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIGlzVXBkYXRpbmcgPSB0aGlzLnByb3BzLmlzVXBkYXRpbmc7CgogICAgICBpZiAoaXNVcGRhdGluZykgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogImZsZXhTdGFydCIsCiAgICAgICAgICBndXR0ZXJTaXplOiAibSIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxvYWRpbmdTcGlubmVyLCB7CiAgICAgICAgICBzaXplOiAibCIKICAgICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2sucm9sbHVwSm9icy5qb2JBY3Rpb25NZW51LnVwZGF0aW5nVGV4dCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlVwZGF0aW5nIgogICAgICAgIH0pKSkpOwogICAgICB9CgogICAgICB2YXIgam9iQ291bnQgPSB0aGlzLnByb3BzLmpvYnMubGVuZ3RoOwogICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcywKICAgICAgICAgIGljb25TaWRlID0gX3RoaXMkcHJvcHMzLmljb25TaWRlLAogICAgICAgICAgYW5jaG9yUG9zaXRpb24gPSBfdGhpcyRwcm9wczMuYW5jaG9yUG9zaXRpb24sCiAgICAgICAgICBpY29uVHlwZSA9IF90aGlzJHByb3BzMy5pY29uVHlwZSwKICAgICAgICAgIF90aGlzJHByb3BzMyRsYWJlbCA9IF90aGlzJHByb3BzMy5sYWJlbCwKICAgICAgICAgIGxhYmVsID0gX3RoaXMkcHJvcHMzJGxhYmVsID09PSB2b2lkIDAgPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JBY3Rpb25NZW51LmJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTWFuYWdlIHtqb2JDb3VudCwgcGx1cmFsLCBvbmUge2pvYn0gb3RoZXIge2pvYnN9fScsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBqb2JDb3VudDogam9iQ291bnQKICAgICAgICB9CiAgICAgIH0pIDogX3RoaXMkcHJvcHMzJGxhYmVsOwogICAgICB2YXIgcGFuZWxzID0gdGhpcy5wYW5lbHMoKTsKCiAgICAgIHZhciBhY3Rpb25zQXJpYUxhYmVsID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iQWN0aW9uTWVudS5qb2JBY3Rpb25NZW51QnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSm9iIG9wdGlvbnMnCiAgICAgIH0pOwoKICAgICAgdmFyIGJ1dHRvbiA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiam9iQWN0aW9uTWVudUJ1dHRvbiIsCiAgICAgICAgaWNvblNpZGU6IGljb25TaWRlLAogICAgICAgICJhcmlhLWxhYmVsIjogYWN0aW9uc0FyaWFMYWJlbCwKICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQnV0dG9uQ2xpY2ssCiAgICAgICAgaWNvblR5cGU6IGljb25UeXBlLAogICAgICAgIGZpbGw6IHRydWUKICAgICAgfSwgbGFiZWwpOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIHRoaXMuY29uZmlybURlbGV0ZU1vZGFsKCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQb3BvdmVyLCB7CiAgICAgICAgYnV0dG9uOiBidXR0b24sCiAgICAgICAgaXNPcGVuOiB0aGlzLnN0YXRlLmlzUG9wb3Zlck9wZW4sCiAgICAgICAgY2xvc2VQb3BvdmVyOiB0aGlzLmNsb3NlUG9wb3ZlciwKICAgICAgICBwYW5lbFBhZGRpbmdTaXplOiAibm9uZSIsCiAgICAgICAgd2l0aFRpdGxlOiB0cnVlLAogICAgICAgIGFuY2hvclBvc2l0aW9uOiBhbmNob3JQb3NpdGlvbiwKICAgICAgICByZXBvc2l0aW9uT25TY3JvbGw6IHRydWUKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbnRleHRNZW51LCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImpvYkFjdGlvbkNvbnRleHRNZW51IiwKICAgICAgICBpbml0aWFsUGFuZWxJZDogMCwKICAgICAgICBwYW5lbHM6IHBhbmVscwogICAgICB9KSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEpvYkFjdGlvbk1lbnVVaTsKfShfcmVhY3QuQ29tcG9uZW50KTsKCl9kZWZpbmVQcm9wZXJ0eShKb2JBY3Rpb25NZW51VWksICJwcm9wVHlwZXMiLCB7CiAgc3RhcnRKb2JzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHN0b3BKb2JzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIGRlbGV0ZUpvYnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgY2xvbmVKb2I6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgaXNVcGRhdGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCwKICBpY29uU2lkZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywKICBhbmNob3JQb3NpdGlvbjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywKICBsYWJlbDogX3Byb3BUeXBlcy5kZWZhdWx0Lm5vZGUsCiAgaWNvblR5cGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgam9iczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5Cn0pOwoKX2RlZmluZVByb3BlcnR5KEpvYkFjdGlvbk1lbnVVaSwgImRlZmF1bHRQcm9wcyIsIHsKICBpY29uU2lkZTogJ3JpZ2h0JywKICBhbmNob3JQb3NpdGlvbjogJ3JpZ2h0VXAnLAogIGljb25UeXBlOiAnYXJyb3dEb3duJywKICBqb2JzOiBbXQp9KTsKCnZhciBKb2JBY3Rpb25NZW51ID0gSm9iQWN0aW9uTWVudVVpOwpleHBvcnRzLkpvYkFjdGlvbk1lbnUgPSBKb2JBY3Rpb25NZW51Ow=="},null]}