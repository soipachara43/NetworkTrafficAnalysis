{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/lib/axis/axis_scale.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/lib/axis/axis_scale.js","mtime":1589249550146},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkF4aXNTY2FsZSA9IHZvaWQgMDsKCnZhciBfZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZDMiKSk7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfZXJyb3JzID0gcmVxdWlyZSgiLi4vLi4vZXJyb3JzIik7Cgp2YXIgX3RpbWVfdGlja3MgPSByZXF1aXJlKCIuL3RpbWVfdGlja3MiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKdmFyIEF4aXNTY2FsZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF4aXNTY2FsZShheGlzQ29uZmlnLCB2aXNDb25maWcpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBeGlzU2NhbGUpOwoKICAgIHRoaXMuYXhpc0NvbmZpZyA9IGF4aXNDb25maWc7CiAgICB0aGlzLnZpc0NvbmZpZyA9IHZpc0NvbmZpZzsKCiAgICBpZiAodGhpcy5heGlzQ29uZmlnLmdldCgndHlwZScpID09PSAnY2F0ZWdvcnknKSB7CiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5heGlzQ29uZmlnLnZhbHVlczsKICAgICAgdGhpcy5vcmRlcmVkID0gdGhpcy5heGlzQ29uZmlnLm9yZGVyZWQ7CiAgICB9CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXhpc1NjYWxlLCBbewogICAga2V5OiAiZ2V0U2NhbGVUeXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY2FsZVR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmF4aXNDb25maWcuZ2V0U2NhbGVUeXBlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdGVVc2VyRXh0ZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGVVc2VyRXh0ZW50cyhkb21haW4pIHsKICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuYXhpc0NvbmZpZzsKICAgICAgcmV0dXJuIGRvbWFpbi5tYXAoZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTsKICAgICAgICBpZiAoaXNOYU4odmFsKSkgdGhyb3cgbmV3IEVycm9yKHZhbCArICcgaXMgbm90IGEgdmFsaWQgbnVtYmVyJyk7CiAgICAgICAgaWYgKGNvbmZpZy5pc1BlcmNlbnRhZ2UoKSAmJiBjb25maWcuaXNVc2VyRGVmaW5lZCgpKSByZXR1cm4gdmFsIC8gMTAwOwogICAgICAgIHJldHVybiB2YWw7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFRpbWVEb21haW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpbWVEb21haW4oZGF0YSkgewogICAgICByZXR1cm4gW3RoaXMubWluRXh0ZW50KGRhdGEpLCB0aGlzLm1heEV4dGVudChkYXRhKV07CiAgICB9CiAgfSwgewogICAga2V5OiAibWluRXh0ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtaW5FeHRlbnQoZGF0YSkgewogICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVFeHRlbnQoZGF0YSB8fCB0aGlzLnZhbHVlcywgJ21pbicpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1heEV4dGVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWF4RXh0ZW50KGRhdGEpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRXh0ZW50KGRhdGEgfHwgdGhpcy52YWx1ZXMsICdtYXgnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxjdWxhdGVFeHRlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUV4dGVudChkYXRhLCBleHRlbnQpIHsKICAgICAgdmFyIG9yZGVyZWQgPSB0aGlzLm9yZGVyZWQ7CiAgICAgIHZhciBvcHRzID0gW29yZGVyZWRbZXh0ZW50XV07CgogICAgICB2YXIgcG9pbnQgPSBfZC5kZWZhdWx0W2V4dGVudF0oZGF0YSk7CgogICAgICBpZiAodGhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUuZXhwYW5kTGFzdEJ1Y2tldCcpICYmIGV4dGVudCA9PT0gJ21heCcpIHsKICAgICAgICBwb2ludCA9IHRoaXMuYWRkSW50ZXJ2YWwocG9pbnQpOwogICAgICB9CgogICAgICBvcHRzLnB1c2gocG9pbnQpOwogICAgICByZXR1cm4gX2QuZGVmYXVsdFtleHRlbnRdKG9wdHMucmVkdWNlKGZ1bmN0aW9uIChvcHRzLCB2KSB7CiAgICAgICAgaWYgKCFfbG9kYXNoLmRlZmF1bHQuaXNOdW1iZXIodikpIHYgPSArdjsKICAgICAgICBpZiAoIWlzTmFOKHYpKSBvcHRzLnB1c2godik7CiAgICAgICAgcmV0dXJuIG9wdHM7CiAgICAgIH0sIFtdKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkSW50ZXJ2YWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEludGVydmFsKHgpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kQnlJbnRlcnZhbCh4LCArMSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3VidHJhY3RJbnRlcnZhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3VidHJhY3RJbnRlcnZhbCh4KSB7CiAgICAgIHJldHVybiB0aGlzLm1vZEJ5SW50ZXJ2YWwoeCwgLTEpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1vZEJ5SW50ZXJ2YWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vZEJ5SW50ZXJ2YWwoeCwgbikgewogICAgICB2YXIgb3JkZXJlZCA9IHRoaXMub3JkZXJlZDsKICAgICAgaWYgKCFvcmRlcmVkKSByZXR1cm4geDsKICAgICAgdmFyIGludGVydmFsID0gb3JkZXJlZC5pbnRlcnZhbDsKICAgICAgaWYgKCFpbnRlcnZhbCkgcmV0dXJuIHg7CgogICAgICBpZiAoIW9yZGVyZWQuZGF0ZSkgewogICAgICAgIHJldHVybiB4ICs9IG9yZGVyZWQuaW50ZXJ2YWwgKiBuOwogICAgICB9CgogICAgICB2YXIgeSA9ICgwLCBfbW9tZW50LmRlZmF1bHQpKHgpOwogICAgICB2YXIgbWV0aG9kID0gbiA+IDAgPyAnYWRkJyA6ICdzdWJ0cmFjdCc7CgogICAgICBfbG9kYXNoLmRlZmF1bHQudGltZXMoTWF0aC5hYnMobiksIGZ1bmN0aW9uICgpIHsKICAgICAgICB5W21ldGhvZF0oaW50ZXJ2YWwpOwogICAgICB9KTsKCiAgICAgIHJldHVybiB5LnZhbHVlT2YoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRBbGxQb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFBvaW50cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB0aGlzLmF4aXNDb25maWc7CiAgICAgIHZhciBkYXRhID0gdGhpcy52aXNDb25maWcuZGF0YS5jaGFydERhdGEoKTsKCiAgICAgIHZhciBjaGFydFBvaW50cyA9IF9sb2Rhc2guZGVmYXVsdC5yZWR1Y2UoZGF0YSwgZnVuY3Rpb24gKGNoYXJ0UG9pbnRzLCBjaGFydCwgY2hhcnRJbmRleCkgewogICAgICAgIHZhciBwb2ludHMgPSBjaGFydC5zZXJpZXMucmVkdWNlKGZ1bmN0aW9uIChwb2ludHMsIHNlcmksIHNlcmlJbmRleCkgewogICAgICAgICAgdmFyIHNlcmlDb25maWcgPSBfdGhpcy52aXNDb25maWcuZ2V0KCJjaGFydHNbIi5jb25jYXQoY2hhcnRJbmRleCwgIl0uc2VyaWVzWyIpLmNvbmNhdChzZXJpSW5kZXgsICJdIikpOwoKICAgICAgICAgIHZhciBtYXRjaGluZ1ZhbHVlQXhpcyA9ICEhc2VyaUNvbmZpZy52YWx1ZUF4aXMgJiYgc2VyaUNvbmZpZy52YWx1ZUF4aXMgPT09IGNvbmZpZy5nZXQoJ2lkJyk7CgogICAgICAgICAgdmFyIGlzRmlyc3RBeGlzID0gY29uZmlnLmdldCgnaWQnKSA9PT0gX3RoaXMudmlzQ29uZmlnLmdldCgndmFsdWVBeGVzWzBdLmlkJyk7CgogICAgICAgICAgaWYgKG1hdGNoaW5nVmFsdWVBeGlzIHx8ICFzZXJpQ29uZmlnLnZhbHVlQXhpcyAmJiBpc0ZpcnN0QXhpcykgewogICAgICAgICAgICB2YXIgYXhpc1BvaW50cyA9IHNlcmkudmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgaWYgKHZhbC55MCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHZhbC55MCArIHZhbC55OwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHZhbC55OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHBvaW50cy5jb25jYXQoYXhpc1BvaW50cyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHBvaW50czsKICAgICAgICB9LCBbXSk7CiAgICAgICAgcmV0dXJuIGNoYXJ0UG9pbnRzLmNvbmNhdChwb2ludHMpOwogICAgICB9LCBbXSk7CgogICAgICByZXR1cm4gY2hhcnRQb2ludHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0WU1pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0WU1pbigpIHsKICAgICAgcmV0dXJuIF9kLmRlZmF1bHQubWluKHRoaXMuZ2V0QWxsUG9pbnRzKCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFlNYXgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFlNYXgoKSB7CiAgICAgIHJldHVybiBfZC5kZWZhdWx0Lm1heCh0aGlzLmdldEFsbFBvaW50cygpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRFeHRlbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHRlbnRzKCkgewogICAgICBpZiAodGhpcy5heGlzQ29uZmlnLmdldCgndHlwZScpID09PSAnY2F0ZWdvcnknKSB7CiAgICAgICAgaWYgKHRoaXMuYXhpc0NvbmZpZy5pc1RpbWVEb21haW4oKSkgcmV0dXJuIHRoaXMuZ2V0VGltZURvbWFpbih0aGlzLnZhbHVlcyk7CiAgICAgICAgaWYgKHRoaXMuYXhpc0NvbmZpZy5pc09yZGluYWwoKSkgcmV0dXJuIHRoaXMudmFsdWVzOwogICAgICB9CgogICAgICB2YXIgbWluID0gdGhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUubWluJywgdGhpcy5nZXRZTWluKCkpOwogICAgICB2YXIgbWF4ID0gdGhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUubWF4JywgdGhpcy5nZXRZTWF4KCkpOwogICAgICB2YXIgZG9tYWluID0gW21pbiwgbWF4XTsKICAgICAgaWYgKHRoaXMuYXhpc0NvbmZpZy5pc1VzZXJEZWZpbmVkKCkpIHJldHVybiB0aGlzLnZhbGlkYXRlVXNlckV4dGVudHMoZG9tYWluKTsKICAgICAgaWYgKHRoaXMuYXhpc0NvbmZpZy5pc0xvZ1NjYWxlKCkpIHJldHVybiB0aGlzLmxvZ0RvbWFpbihtaW4sIG1heCk7CgogICAgICBpZiAodGhpcy5heGlzQ29uZmlnLmlzWUV4dGVudHMoKSkgewogICAgICAgIHZhciBzY2FsZUJvdW5kc01hcmdpbiA9IHRoaXMuYXhpc0NvbmZpZy5nZXQoJ3NjYWxlLmJvdW5kc01hcmdpbicpOwoKICAgICAgICBpZiAoc2NhbGVCb3VuZHNNYXJnaW4gPT09IDApIHsKICAgICAgICAgIHJldHVybiBkb21haW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChtYXggPCAwKSB7CiAgICAgICAgICAgIGRvbWFpblsxXSA9IGRvbWFpblsxXSArIHNjYWxlQm91bmRzTWFyZ2luOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChtaW4gPiAwKSB7CiAgICAgICAgICAgIGRvbWFpblswXSA9IGRvbWFpblswXSAtIHNjYWxlQm91bmRzTWFyZ2luOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBkb21haW47CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gW01hdGgubWluKDAsIG1pbiksIE1hdGgubWF4KDAsIG1heCldOwogICAgfQogIH0sIHsKICAgIGtleTogImdldERvbWFpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluKGxlbmd0aCkgewogICAgICB2YXIgZG9tYWluID0gdGhpcy5nZXRFeHRlbnRzKCk7CiAgICAgIHZhciBwYWQgPSB0aGlzLmF4aXNDb25maWcuZ2V0KCdwYWRGb3JMYWJlbHMnKTsKCiAgICAgIGlmIChwYWQgPiAwICYmIHRoaXMuY2FuQXBwbHlOaWNlKCkpIHsKICAgICAgICB2YXIgZG9tYWluTGVuZ3RoID0gZG9tYWluWzFdIC0gZG9tYWluWzBdOwogICAgICAgIHZhciB2YWx1ZVBlclBpeGVsID0gZG9tYWluTGVuZ3RoIC8gbGVuZ3RoOwogICAgICAgIHZhciBwYWRWYWx1ZSA9IHZhbHVlUGVyUGl4ZWwgKiBwYWQ7CgogICAgICAgIGlmIChkb21haW5bMF0gPCAwKSB7CiAgICAgICAgICBkb21haW5bMF0gLT0gcGFkVmFsdWU7CiAgICAgICAgfQoKICAgICAgICBkb21haW5bMV0gKz0gcGFkVmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBkb21haW47CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhbmdlKGxlbmd0aCkgewogICAgICBpZiAodGhpcy5heGlzQ29uZmlnLmlzSG9yaXpvbnRhbCgpKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLmF4aXNDb25maWcuZ2V0KCdzY2FsZS5pbnZlcnRlZCcpID8gWzAsIGxlbmd0aF0gOiBbbGVuZ3RoLCAwXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUuaW52ZXJ0ZWQnKSA/IFswLCBsZW5ndGhdIDogW2xlbmd0aCwgMF07CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0aHJvd0N1c3RvbUVycm9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0aHJvd0N1c3RvbUVycm9yKG1lc3NhZ2UpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOwogICAgfQogIH0sIHsKICAgIGtleTogInRocm93TG9nU2NhbGVWYWx1ZXNFcnJvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGhyb3dMb2dTY2FsZVZhbHVlc0Vycm9yKCkgewogICAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkTG9nU2NhbGVWYWx1ZXMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dEb21haW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ0RvbWFpbihtaW4sIG1heCkgewogICAgICBpZiAobWluIDwgMCB8fCBtYXggPCAwKSByZXR1cm4gdGhpcy50aHJvd0xvZ1NjYWxlVmFsdWVzRXJyb3IoKTsKICAgICAgcmV0dXJuIFsxLCBtYXhdOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEQzU2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEQzU2NhbGUoc2NhbGVUeXBlQXJnKSB7CiAgICAgIHZhciBzY2FsZVR5cGUgPSBzY2FsZVR5cGVBcmcgfHwgJ2xpbmVhcic7CiAgICAgIGlmIChzY2FsZVR5cGUgPT09ICdzcXVhcmUgcm9vdCcpIHNjYWxlVHlwZSA9ICdzcXJ0JzsKCiAgICAgIGlmICh0aGlzLmF4aXNDb25maWcuaXNUaW1lRG9tYWluKCkpIHsKICAgICAgICByZXR1cm4gX2QuZGVmYXVsdC50aW1lLnNjYWxlLnV0YygpOyAvLyBhbGxvdyB0aW1lIHNjYWxlCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmF4aXNDb25maWcuaXNPcmRpbmFsKCkpIHJldHVybiBfZC5kZWZhdWx0LnNjYWxlLm9yZGluYWwoKTsKCiAgICAgIGlmICh0eXBlb2YgX2QuZGVmYXVsdC5zY2FsZVtzY2FsZVR5cGVdICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGhyb3dDdXN0b21FcnJvcigiQXhpcy5nZXRTY2FsZVR5cGU6ICIuY29uY2F0KHNjYWxlVHlwZSwgIiBpcyBub3QgYSBmdW5jdGlvbiIpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9kLmRlZmF1bHQuc2NhbGVbc2NhbGVUeXBlXSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbkFwcGx5TmljZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuQXBwbHlOaWNlKCkgewogICAgICB2YXIgY29uZmlnID0gdGhpcy5heGlzQ29uZmlnOwogICAgICByZXR1cm4gIWNvbmZpZy5pc1VzZXJEZWZpbmVkKCkgJiYgIWNvbmZpZy5pc1lFeHRlbnRzKCkgJiYgIWNvbmZpZy5pc09yZGluYWwoKSAmJiAhY29uZmlnLmlzVGltZURvbWFpbigpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNjYWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY2FsZShsZW5ndGgpIHsKICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuYXhpc0NvbmZpZzsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXREM1NjYWxlKGNvbmZpZy5nZXRTY2FsZVR5cGUoKSk7CiAgICAgIHZhciBkb21haW4gPSB0aGlzLmdldERvbWFpbihsZW5ndGgpOwogICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKGxlbmd0aCk7CiAgICAgIHZhciBwYWRkaW5nID0gY29uZmlnLmdldCgnc3R5bGUucmFuZ2VQYWRkaW5nJyk7CiAgICAgIHZhciBvdXRlclBhZGRpbmcgPSBjb25maWcuZ2V0KCdzdHlsZS5yYW5nZU91dGVyUGFkZGluZycpOwogICAgICB0aGlzLnNjYWxlID0gc2NhbGUuZG9tYWluKGRvbWFpbik7CgogICAgICBpZiAoY29uZmlnLmlzT3JkaW5hbCgpKSB7CiAgICAgICAgdGhpcy5zY2FsZS5yYW5nZUJhbmRzKHJhbmdlLCBwYWRkaW5nLCBvdXRlclBhZGRpbmcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2NhbGUucmFuZ2UocmFuZ2UpOwogICAgICB9CgogICAgICBpZiAodGhpcy5jYW5BcHBseU5pY2UoKSkgdGhpcy5zY2FsZS5uaWNlKCk7IC8vIFByZXZlbnRzIGJhcnMgZnJvbSBnb2luZyBvZmYgdGhlIGNoYXJ0IHdoZW4gdGhlIHkgZXh0ZW50cyBhcmUgd2l0aGluIHRoZSBkb21haW4gcmFuZ2UKCiAgICAgIGlmICh0aGlzLnNjYWxlLmNsYW1wKSB0aGlzLnNjYWxlLmNsYW1wKHRydWUpOwogICAgICB0aGlzLnZhbGlkYXRlU2NhbGUodGhpcy5zY2FsZSk7CgogICAgICBpZiAodGhpcy5heGlzQ29uZmlnLmlzVGltZURvbWFpbigpKSB7CiAgICAgICAgdGhpcy5zY2FsZS50aW1lem9uZUNvcnJlY3RlZFRpY2tzID0gKDAsIF90aW1lX3RpY2tzLnRpbWVUaWNrcykoc2NhbGUpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zY2FsZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZVNjYWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVNjYWxlKHNjYWxlKSB7CiAgICAgIGlmICghc2NhbGUgfHwgX2xvZGFzaC5kZWZhdWx0LmlzTmFOKHNjYWxlKSkgdGhyb3cgbmV3IEVycm9yKCdzY2FsZSBpcyAnICsgc2NhbGUpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF4aXNTY2FsZTsKfSgpOwoKZXhwb3J0cy5BeGlzU2NhbGUgPSBBeGlzU2NhbGU7"},null]}