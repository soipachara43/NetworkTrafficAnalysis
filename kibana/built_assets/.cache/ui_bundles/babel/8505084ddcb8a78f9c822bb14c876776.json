{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/triggers_actions_ui/public/application/sections/action_connector_form/connector_add_flyout.js","dependencies":[{"path":"x-pack/plugins/triggers_actions_ui/public/application/sections/action_connector_form/connector_add_flyout.js","mtime":1589249555557},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvbm5lY3RvckFkZEZseW91dCA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2FjdGlvbl90eXBlX21lbnUgPSByZXF1aXJlKCIuL2FjdGlvbl90eXBlX21lbnUiKTsKCnZhciBfYWN0aW9uX2Nvbm5lY3Rvcl9mb3JtID0gcmVxdWlyZSgiLi9hY3Rpb25fY29ubmVjdG9yX2Zvcm0iKTsKCnZhciBfY29ubmVjdG9yX3JlZHVjZXIgPSByZXF1aXJlKCIuL2Nvbm5lY3Rvcl9yZWR1Y2VyIik7Cgp2YXIgX2NhcGFiaWxpdGllcyA9IHJlcXVpcmUoIi4uLy4uL2xpYi9jYXBhYmlsaXRpZXMiKTsKCnZhciBfYWN0aW9uX2Nvbm5lY3Rvcl9hcGkgPSByZXF1aXJlKCIuLi8uLi9saWIvYWN0aW9uX2Nvbm5lY3Rvcl9hcGkiKTsKCnZhciBfYWN0aW9uc19jb25uZWN0b3JzX2NvbnRleHQgPSByZXF1aXJlKCIuLi8uLi9jb250ZXh0L2FjdGlvbnNfY29ubmVjdG9yc19jb250ZXh0Iik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMiKTsKCnZhciBfcGx1Z2luID0gcmVxdWlyZSgiLi4vLi4vY29uc3RhbnRzL3BsdWdpbiIpOwoKdmFyIF9jb25zdGFudHMyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vbGljZW5zZV9tYW5hZ2VtZW50L2NvbW1vbi9jb25zdGFudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBDb25uZWN0b3JBZGRGbHlvdXQgPSBmdW5jdGlvbiBDb25uZWN0b3JBZGRGbHlvdXQoX3JlZikgewogIHZhciBfcmVmMjsKCiAgdmFyIGFkZEZseW91dFZpc2libGUgPSBfcmVmLmFkZEZseW91dFZpc2libGUsCiAgICAgIHNldEFkZEZseW91dFZpc2liaWxpdHkgPSBfcmVmLnNldEFkZEZseW91dFZpc2liaWxpdHksCiAgICAgIGFjdGlvblR5cGVzID0gX3JlZi5hY3Rpb25UeXBlczsKICB2YXIgaGFzRXJyb3JzID0gZmFsc2U7CgogIHZhciBfdXNlQWN0aW9uc0Nvbm5lY3RvcnMgPSAoMCwgX2FjdGlvbnNfY29ubmVjdG9yc19jb250ZXh0LnVzZUFjdGlvbnNDb25uZWN0b3JzQ29udGV4dCkoKSwKICAgICAgaHR0cCA9IF91c2VBY3Rpb25zQ29ubmVjdG9ycy5odHRwLAogICAgICB0b2FzdE5vdGlmaWNhdGlvbnMgPSBfdXNlQWN0aW9uc0Nvbm5lY3RvcnMudG9hc3ROb3RpZmljYXRpb25zLAogICAgICBjYXBhYmlsaXRpZXMgPSBfdXNlQWN0aW9uc0Nvbm5lY3RvcnMuY2FwYWJpbGl0aWVzLAogICAgICBhY3Rpb25UeXBlUmVnaXN0cnkgPSBfdXNlQWN0aW9uc0Nvbm5lY3RvcnMuYWN0aW9uVHlwZVJlZ2lzdHJ5LAogICAgICByZWxvYWRDb25uZWN0b3JzID0gX3VzZUFjdGlvbnNDb25uZWN0b3JzLnJlbG9hZENvbm5lY3RvcnM7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSh1bmRlZmluZWQpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgYWN0aW9uVHlwZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldEFjdGlvblR5cGUgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBoYXNBY3Rpb25zRGlzYWJsZWRCeUxpY2Vuc2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRIYXNBY3Rpb25zRGlzYWJsZWRCeUxpY2Vuc2UgPSBfdXNlU3RhdGU0WzFdOyAvLyBob29rcwoKCiAgdmFyIGluaXRpYWxDb25uZWN0b3IgPSB7CiAgICBhY3Rpb25UeXBlSWQ6IChfcmVmMiA9IGFjdGlvblR5cGUgPT09IG51bGwgfHwgYWN0aW9uVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aW9uVHlwZS5pZCkgIT09IG51bGwgJiYgX3JlZjIgIT09IHZvaWQgMCA/IF9yZWYyIDogJycsCiAgICBjb25maWc6IHt9LAogICAgc2VjcmV0czoge30KICB9OwoKICB2YXIgX3VzZVJlZHVjZXIgPSAoMCwgX3JlYWN0LnVzZVJlZHVjZXIpKF9jb25uZWN0b3JfcmVkdWNlci5jb25uZWN0b3JSZWR1Y2VyLCB7CiAgICBjb25uZWN0b3I6IGluaXRpYWxDb25uZWN0b3IKICB9KSwKICAgICAgX3VzZVJlZHVjZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVJlZHVjZXIsIDIpLAogICAgICBjb25uZWN0b3IgPSBfdXNlUmVkdWNlcjJbMF0uY29ubmVjdG9yLAogICAgICBkaXNwYXRjaCA9IF91c2VSZWR1Y2VyMlsxXTsKCiAgdmFyIHNldEFjdGlvblByb3BlcnR5ID0gZnVuY3Rpb24gc2V0QWN0aW9uUHJvcGVydHkoa2V5LCB2YWx1ZSkgewogICAgZGlzcGF0Y2goewogICAgICBjb21tYW5kOiB7CiAgICAgICAgdHlwZTogJ3NldFByb3BlcnR5JwogICAgICB9LAogICAgICBwYXlsb2FkOiB7CiAgICAgICAga2V5OiBrZXksCiAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgIH0KICAgIH0pOwogIH07CgogIHZhciBzZXRDb25uZWN0b3IgPSBmdW5jdGlvbiBzZXRDb25uZWN0b3IodmFsdWUpIHsKICAgIGRpc3BhdGNoKHsKICAgICAgY29tbWFuZDogewogICAgICAgIHR5cGU6ICdzZXRDb25uZWN0b3InCiAgICAgIH0sCiAgICAgIHBheWxvYWQ6IHsKICAgICAgICBrZXk6ICdjb25uZWN0b3InLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9CiAgICB9KTsKICB9OwoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBpc1NhdmluZyA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldElzU2F2aW5nID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGNsb3NlRmx5b3V0ID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKCkgewogICAgc2V0QWRkRmx5b3V0VmlzaWJpbGl0eShmYWxzZSk7CiAgICBzZXRBY3Rpb25UeXBlKHVuZGVmaW5lZCk7CiAgICBzZXRDb25uZWN0b3IoaW5pdGlhbENvbm5lY3Rvcik7CiAgfSwgW3NldEFkZEZseW91dFZpc2liaWxpdHksIGluaXRpYWxDb25uZWN0b3JdKTsKICB2YXIgY2FuU2F2ZSA9ICgwLCBfY2FwYWJpbGl0aWVzLmhhc1NhdmVBY3Rpb25zQ2FwYWJpbGl0eSkoY2FwYWJpbGl0aWVzKTsKCiAgaWYgKCFhZGRGbHlvdXRWaXNpYmxlKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIGZ1bmN0aW9uIG9uQWN0aW9uVHlwZUNoYW5nZShuZXdBY3Rpb25UeXBlKSB7CiAgICBzZXRBY3Rpb25UeXBlKG5ld0FjdGlvblR5cGUpOwogICAgc2V0QWN0aW9uUHJvcGVydHkoJ2FjdGlvblR5cGVJZCcsIG5ld0FjdGlvblR5cGUuaWQpOwogIH0KCiAgdmFyIGN1cnJlbnRGb3JtOwogIHZhciBhY3Rpb25UeXBlTW9kZWw7CgogIGlmICghYWN0aW9uVHlwZSkgewogICAgY3VycmVudEZvcm0gPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hY3Rpb25fdHlwZV9tZW51LkFjdGlvblR5cGVNZW51LCB7CiAgICAgIG9uQWN0aW9uVHlwZUNoYW5nZTogb25BY3Rpb25UeXBlQ2hhbmdlLAogICAgICBhY3Rpb25UeXBlczogYWN0aW9uVHlwZXMsCiAgICAgIHNldEhhc0FjdGlvbnNEaXNhYmxlZEJ5TGljZW5zZTogc2V0SGFzQWN0aW9uc0Rpc2FibGVkQnlMaWNlbnNlCiAgICB9KTsKICB9IGVsc2UgewogICAgdmFyIF9hY3Rpb25UeXBlTW9kZWw7CgogICAgYWN0aW9uVHlwZU1vZGVsID0gYWN0aW9uVHlwZVJlZ2lzdHJ5LmdldChhY3Rpb25UeXBlLmlkKTsKCiAgICB2YXIgZXJyb3JzID0gX29iamVjdFNwcmVhZCh7fSwgKF9hY3Rpb25UeXBlTW9kZWwgPSBhY3Rpb25UeXBlTW9kZWwpID09PSBudWxsIHx8IF9hY3Rpb25UeXBlTW9kZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY3Rpb25UeXBlTW9kZWwudmFsaWRhdGVDb25uZWN0b3IoY29ubmVjdG9yKS5lcnJvcnMsIHt9LCAoMCwgX2FjdGlvbl9jb25uZWN0b3JfZm9ybS52YWxpZGF0ZUJhc2VQcm9wZXJ0aWVzKShjb25uZWN0b3IpLmVycm9ycyk7CgogICAgaGFzRXJyb3JzID0gISFPYmplY3Qua2V5cyhlcnJvcnMpLmZpbmQoZnVuY3Rpb24gKGVycm9yS2V5KSB7CiAgICAgIHJldHVybiBlcnJvcnNbZXJyb3JLZXldLmxlbmd0aCA+PSAxOwogICAgfSk7CiAgICBjdXJyZW50Rm9ybSA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2FjdGlvbl9jb25uZWN0b3JfZm9ybS5BY3Rpb25Db25uZWN0b3JGb3JtLCB7CiAgICAgIGFjdGlvblR5cGVOYW1lOiBhY3Rpb25UeXBlLm5hbWUsCiAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yLAogICAgICBkaXNwYXRjaDogZGlzcGF0Y2gsCiAgICAgIGVycm9yczogZXJyb3JzLAogICAgICBhY3Rpb25UeXBlUmVnaXN0cnk6IGFjdGlvblR5cGVSZWdpc3RyeSwKICAgICAgaHR0cDogaHR0cAogICAgfSk7CiAgfQoKICB2YXIgb25BY3Rpb25Db25uZWN0b3JTYXZlID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfYWN0aW9uX2Nvbm5lY3Rvcl9hcGkuY3JlYXRlQWN0aW9uQ29ubmVjdG9yKSh7CiAgICAgICAgICAgICAgICBodHRwOiBodHRwLAogICAgICAgICAgICAgICAgY29ubmVjdG9yOiBjb25uZWN0b3IKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzYXZlZENvbm5lY3RvcikgewogICAgICAgICAgICAgICAgaWYgKHRvYXN0Tm90aWZpY2F0aW9ucykgewogICAgICAgICAgICAgICAgICB0b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcyhfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJpZ2dlcnNBY3Rpb25zVUkuc2VjdGlvbnMuYWRkQ29ubmVjdG9yRm9ybS51cGRhdGVTdWNjZXNzTm90aWZpY2F0aW9uVGV4dCcsIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNyZWF0ZWQgJ3tjb25uZWN0b3JOYW1lfSciLAogICAgICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTmFtZTogc2F2ZWRDb25uZWN0b3IubmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZENvbm5lY3RvcjsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZXMpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmNCwgX2Vycm9yUmVzJGJvZHk7CgogICAgICAgICAgICAgICAgdG9hc3ROb3RpZmljYXRpb25zLmFkZERhbmdlcigoX3JlZjQgPSAoX2Vycm9yUmVzJGJvZHkgPSBlcnJvclJlcy5ib2R5KSA9PT0gbnVsbCB8fCBfZXJyb3JSZXMkYm9keSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yUmVzJGJvZHkubWVzc2FnZSkgIT09IG51bGwgJiYgX3JlZjQgIT09IHZvaWQgMCA/IF9yZWY0IDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyaWdnZXJzQWN0aW9uc1VJLnNlY3Rpb25zLmFkZENvbm5lY3RvckZvcm0udXBkYXRlRXJyb3JOb3RpZmljYXRpb25UZXh0JywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0Nhbm5vdCBjcmVhdGUgYSBjb25uZWN0b3IuJwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIG9uQWN0aW9uQ29ubmVjdG9yU2F2ZSgpIHsKICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbHlvdXQsIHsKICAgIG9uQ2xvc2U6IGNsb3NlRmx5b3V0LAogICAgImFyaWEtbGFiZWxsZWRieSI6ICJmbHlvdXRBY3Rpb25BZGRUaXRsZSIsCiAgICBzaXplOiAibSIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmx5b3V0SGVhZGVyLCB7CiAgICBoYXNCb3JkZXI6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBndXR0ZXJTaXplOiAibSIsCiAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIgogIH0sIGFjdGlvblR5cGVNb2RlbCAmJiBhY3Rpb25UeXBlTW9kZWwuaWNvbkNsYXNzID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICB0eXBlOiBhY3Rpb25UeXBlTW9kZWwuaWNvbkNsYXNzLAogICAgc2l6ZTogInhsIgogIH0pKSA6IG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgYWN0aW9uVHlwZU1vZGVsICYmIGFjdGlvblR5cGUgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICBzaXplOiAicyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIHsKICAgIGlkOiAiZmx5b3V0VGl0bGUiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAie2FjdGlvblR5cGVOYW1lfSBjb25uZWN0b3IiLAogICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hZGRDb25uZWN0b3JGb3JtLmZseW91dFRpdGxlIiwKICAgIHZhbHVlczogewogICAgICBhY3Rpb25UeXBlTmFtZTogYWN0aW9uVHlwZS5uYW1lCiAgICB9CiAgfSksICJcdTIwMDMiLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQmV0YUJhZGdlLCB7CiAgICBsYWJlbDogIkJldGEiLAogICAgdG9vbHRpcENvbnRlbnQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hZGRDb25uZWN0b3JGb3JtLmJldGFCYWRnZVRvb2x0aXBDb250ZW50JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ3twbHVnaW5OYW1lfSBpcyBpbiBiZXRhIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZS4gVGhlIGRlc2lnbiBhbmQgY29kZSBpcyBsZXNzIG1hdHVyZSB0aGFuIG9mZmljaWFsIEdBIGZlYXR1cmVzIGFuZCBpcyBiZWluZyBwcm92aWRlZCBhcy1pcyB3aXRoIG5vIHdhcnJhbnRpZXMuIEJldGEgZmVhdHVyZXMgYXJlIG5vdCBzdWJqZWN0IHRvIHRoZSBzdXBwb3J0IFNMQSBvZiBvZmZpY2lhbCBHQSBmZWF0dXJlcy4nLAogICAgICB2YWx1ZXM6IHsKICAgICAgICBwbHVnaW5OYW1lOiBfcGx1Z2luLlBMVUdJTi5nZXRJMThuTmFtZShfaTE4bi5pMThuKQogICAgICB9CiAgICB9KQogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICBzaXplOiAicyIsCiAgICBjb2xvcjogInN1YmR1ZWQiCiAgfSwgYWN0aW9uVHlwZU1vZGVsLnNlbGVjdE1lc3NhZ2UpKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgc2l6ZTogInMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCB7CiAgICBpZDogInNlbGVjdENvbm5lY3RvckZseW91dFRpdGxlIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogIlNlbGVjdCBhIGNvbm5lY3RvciIsCiAgICBpZDogInhwYWNrLnRyaWdnZXJzQWN0aW9uc1VJLnNlY3Rpb25zLmFkZENvbm5lY3RvckZvcm0uc2VsZWN0Q29ubmVjdG9yRmx5b3V0VGl0bGUiCiAgfSksICJcdTIwMDMiLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQmV0YUJhZGdlLCB7CiAgICBsYWJlbDogIkJldGEiLAogICAgdG9vbHRpcENvbnRlbnQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hZGRGbHlvdXQuYmV0YUJhZGdlVG9vbHRpcENvbnRlbnQnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAne3BsdWdpbk5hbWV9IGlzIGluIGJldGEgYW5kIGlzIHN1YmplY3QgdG8gY2hhbmdlLiBUaGUgZGVzaWduIGFuZCBjb2RlIGlzIGxlc3MgbWF0dXJlIHRoYW4gb2ZmaWNpYWwgR0EgZmVhdHVyZXMgYW5kIGlzIGJlaW5nIHByb3ZpZGVkIGFzLWlzIHdpdGggbm8gd2FycmFudGllcy4gQmV0YSBmZWF0dXJlcyBhcmUgbm90IHN1YmplY3QgdG8gdGhlIHN1cHBvcnQgU0xBIG9mIG9mZmljaWFsIEdBIGZlYXR1cmVzLicsCiAgICAgIHZhbHVlczogewogICAgICAgIHBsdWdpbk5hbWU6IF9wbHVnaW4uUExVR0lOLmdldEkxOG5OYW1lKF9pMThuLmkxOG4pCiAgICAgIH0KICAgIH0pCiAgfSkpKSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZseW91dEJvZHksIHsKICAgIGJhbm5lcjogIWFjdGlvblR5cGUgJiYgaGFzQWN0aW9uc0Rpc2FibGVkQnlMaWNlbnNlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChVcGdyYWRlWW91ckxpY2Vuc2VDYWxsT3V0LCB7CiAgICAgIGh0dHA6IGh0dHAKICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwpCiAgfSwgY3VycmVudEZvcm0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmx5b3V0Rm9vdGVyLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBvbkNsaWNrOiBjbG9zZUZseW91dAogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQuY2FuY2VsQnV0dG9uTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0NhbmNlbCcKICB9KSkpLCBjYW5TYXZlICYmIGFjdGlvblR5cGVNb2RlbCAmJiBhY3Rpb25UeXBlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgIGZpbGw6IHRydWUsCiAgICBjb2xvcjogInNlY29uZGFyeSIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZU5ld0FjdGlvbkJ1dHRvbiIsCiAgICB0eXBlOiAic3VibWl0IiwKICAgIGljb25UeXBlOiAiY2hlY2siLAogICAgaXNEaXNhYmxlZDogaGFzRXJyb3JzLAogICAgaXNMb2FkaW5nOiBpc1NhdmluZywKICAgIG9uQ2xpY2s6CiAgICAvKiNfX1BVUkVfXyovCiAgICBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgc2F2ZWRBY3Rpb247CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2V0SXNTYXZpbmcodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBvbkFjdGlvbkNvbm5lY3RvclNhdmUoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBzYXZlZEFjdGlvbiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHNldElzU2F2aW5nKGZhbHNlKTsKCiAgICAgICAgICAgICAgaWYgKHNhdmVkQWN0aW9uKSB7CiAgICAgICAgICAgICAgICBjbG9zZUZseW91dCgpOwoKICAgICAgICAgICAgICAgIGlmIChyZWxvYWRDb25uZWN0b3JzKSB7CiAgICAgICAgICAgICAgICAgIHJlbG9hZENvbm5lY3RvcnMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQuc2F2ZUJ1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZSIKICB9KSkpIDogbnVsbCkpKTsKfTsKCmV4cG9ydHMuQ29ubmVjdG9yQWRkRmx5b3V0ID0gQ29ubmVjdG9yQWRkRmx5b3V0OwoKdmFyIFVwZ3JhZGVZb3VyTGljZW5zZUNhbGxPdXQgPSBmdW5jdGlvbiBVcGdyYWRlWW91ckxpY2Vuc2VDYWxsT3V0KF9yZWY2KSB7CiAgdmFyIGh0dHAgPSBfcmVmNi5odHRwOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQudXBncmFkZVlvdXJQbGFuQmFubmVyVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVXBncmFkZSB5b3VyIGxpY2Vuc2UgdG8gYWNjZXNzIGFsbCBjb25uZWN0b3JzJwogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQudXBncmFkZVlvdXJQbGFuQmFubmVyTWVzc2FnZSIsCiAgICBkZWZhdWx0TWVzc2FnZTogIlVwZ3JhZGUgeW91ciBsaWNlbnNlIG9yIHN0YXJ0IGEgMzAtZGF5IGZyZWUgdHJpYWwgZm9yIGltbWVkaWF0ZSBhY2Nlc3MgdG8gYWxsIHRoaXJkLXBhcnR5IGNvbm5lY3RvcnMuIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAicyIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZ3V0dGVyU2l6ZTogInMiLAogICAgd3JhcDogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICBocmVmOiAiIi5jb25jYXQoaHR0cC5iYXNlUGF0aC5nZXQoKSwgIi9hcHAva2liYW5hIyIpLmNvbmNhdChfY29uc3RhbnRzMi5CQVNFX1BBVEgpLAogICAgaWNvblR5cGU6ICJnZWFyIiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQubWFuYWdlTGljZW5zZVBsYW5CYW5uZXJMaW5rVGl0bGUiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJNYW5hZ2UgbGljZW5zZSIKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBocmVmOiBfY29uc3RhbnRzLlZJRVdfTElDRU5TRV9PUFRJT05TX0xJTkssCiAgICBpY29uVHlwZTogInBvcG91dCIsCiAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hY3Rpb25Db25uZWN0b3JBZGQudXBncmFkZVlvdXJQbGFuQmFubmVyTGlua1RpdGxlIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiU3Vic2NyaXB0aW9uIHBsYW5zIgogIH0pKSkpKTsKfTs="},null]}