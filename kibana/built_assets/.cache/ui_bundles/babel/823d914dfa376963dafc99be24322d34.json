{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/infra/public/components/waffle/node.js","dependencies":[{"path":"x-pack/plugins/infra/public/components/waffle/node.js","mtime":1589249554265},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuTm9kZSA9IHZvaWQgMDsKCnZhciBfcG9saXNoZWQgPSByZXF1aXJlKCJwb2xpc2hlZCIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfY29uZGl0aW9uYWxfdG9vbHRpcCA9IHJlcXVpcmUoIi4vY29uZGl0aW9uYWxfdG9vbHRpcCIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9vYnNlcnZhYmlsaXR5L3B1YmxpYyIpOwoKdmFyIF9jb2xvcl9mcm9tX3ZhbHVlID0gcmVxdWlyZSgiLi9saWIvY29sb3JfZnJvbV92YWx1ZSIpOwoKdmFyIF9ub2RlX2NvbnRleHRfbWVudSA9IHJlcXVpcmUoIi4vbm9kZV9jb250ZXh0X21lbnUiKTsKCnZhciBfdGVtcDsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDcoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGZvbnQtc2l6ZTogMC43ZW07XG4gIG1hcmdpbi1ib3R0b206IDAuN2VtO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q3ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NygpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q2KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAgbGluZS1oZWlnaHQ6IDEuMmVtO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q2ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q1KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgZmxleDogMSAwIGF1dG87XG4gIGNvbG9yOiAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q1ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NSgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q0KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgbGluZS1oZWlnaHQ6IDEuMmVtO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDFlbTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZmxleC13cmFwOiB3cmFwO1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyOiBub25lO1xuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyOiAiLCAiIHNvbGlkXG4gICAgICAiLCAiO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cbiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0NCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMnB4O1xuICBsZWZ0OiAwO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICIsICI7XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdDMgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA0cHg7XG4gIGxlZnQ6IDRweDtcbiAgYm90dG9tOiA0cHg7XG4gIHJpZ2h0OiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICIsICI7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7CiAgaWYgKCFyYXcpIHsKICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7CiAgfQoKICByZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7CiAgICByYXc6IHsKICAgICAgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KQogICAgfQogIH0pKTsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgewogIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgIHJldHVybiBjYWxsOwogIH0KCiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogIH0KCiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogewogICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0KICB9KTsKICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgIG8uX19wcm90b19fID0gcDsKICAgIHJldHVybiBvOwogIH07CgogIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgaW5pdGlhbFN0YXRlID0gewogIGlzUG9wb3Zlck9wZW46IGZhbHNlCn07CnZhciBOb2RlID0gKF90ZW1wID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoTm9kZSwgX1JlYWN0JFB1cmVDb21wb25lbnQpOwoKICBmdW5jdGlvbiBOb2RlKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKE5vZGUpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIGluaXRpYWxTdGF0ZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlUG9wb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1BvcG92ZXJPcGVuOiAhcHJldlN0YXRlLmlzUG9wb3Zlck9wZW4KICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNsb3NlUG9wb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzLnN0YXRlLmlzUG9wb3Zlck9wZW4pIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBpc1BvcG92ZXJPcGVuOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTm9kZSwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbm9kZVR5cGUgPSBfdGhpcyRwcm9wcy5ub2RlVHlwZSwKICAgICAgICAgIG5vZGUgPSBfdGhpcyRwcm9wcy5ub2RlLAogICAgICAgICAgb3B0aW9ucyA9IF90aGlzJHByb3BzLm9wdGlvbnMsCiAgICAgICAgICBzcXVhcmVTaXplID0gX3RoaXMkcHJvcHMuc3F1YXJlU2l6ZSwKICAgICAgICAgIGJvdW5kcyA9IF90aGlzJHByb3BzLmJvdW5kcywKICAgICAgICAgIGZvcm1hdHRlciA9IF90aGlzJHByb3BzLmZvcm1hdHRlciwKICAgICAgICAgIGN1cnJlbnRUaW1lID0gX3RoaXMkcHJvcHMuY3VycmVudFRpbWU7CiAgICAgIHZhciBpc1BvcG92ZXJPcGVuID0gdGhpcy5zdGF0ZS5pc1BvcG92ZXJPcGVuOwogICAgICB2YXIgbWV0cmljID0gbm9kZS5tZXRyaWM7CiAgICAgIHZhciB2YWx1ZU1vZGUgPSBzcXVhcmVTaXplID4gNzA7CiAgICAgIHZhciBlbGxpcHNpc01vZGUgPSBzcXVhcmVTaXplID4gMzA7CiAgICAgIHZhciByYXdWYWx1ZSA9IG1ldHJpYyAmJiBtZXRyaWMudmFsdWUgfHwgMDsKICAgICAgdmFyIGNvbG9yID0gKDAsIF9jb2xvcl9mcm9tX3ZhbHVlLmNvbG9yRnJvbVZhbHVlKShvcHRpb25zLmxlZ2VuZCwgcmF3VmFsdWUsIGJvdW5kcyk7CiAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdHRlcihyYXdWYWx1ZSk7CgogICAgICB2YXIgbm9kZUFyaWFMYWJlbCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5pbmZyYS5ub2RlLmFyaWFMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ3tub2RlTmFtZX0sIGNsaWNrIHRvIG9wZW4gbWVudScsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBub2RlTmFtZTogbm9kZS5uYW1lCiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ub2RlX2NvbnRleHRfbWVudS5Ob2RlQ29udGV4dE1lbnUsIHsKICAgICAgICBub2RlOiBub2RlLAogICAgICAgIG5vZGVUeXBlOiBub2RlVHlwZSwKICAgICAgICBpc1BvcG92ZXJPcGVuOiBpc1BvcG92ZXJPcGVuLAogICAgICAgIGNsb3NlUG9wb3ZlcjogdGhpcy5jbG9zZVBvcG92ZXIsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICBjdXJyZW50VGltZTogY3VycmVudFRpbWUsCiAgICAgICAgcG9wb3ZlclBvc2l0aW9uOiAiZG93bkNlbnRlciIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29uZGl0aW9uYWxfdG9vbHRpcC5Db25kaXRpb25hbFRvb2xUaXAsIHsKICAgICAgICBkZWxheTogInJlZ3VsYXIiLAogICAgICAgIGhpZGRlbjogaXNQb3BvdmVyT3BlbiwKICAgICAgICBwb3NpdGlvbjogInRvcCIsCiAgICAgICAgY29udGVudDogIiIuY29uY2F0KG5vZGUubmFtZSwgIiB8ICIpLmNvbmNhdCh2YWx1ZSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChOb2RlQ29udGFpbmVyLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogIm5vZGVDb250YWluZXIiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogc3F1YXJlU2l6ZSB8fCAwLAogICAgICAgICAgaGVpZ2h0OiBzcXVhcmVTaXplIHx8IDAKICAgICAgICB9LAogICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlUG9wb3ZlcgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNxdWFyZU91dGVyLCB7CiAgICAgICAgY29sb3I6IGNvbG9yCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3F1YXJlSW5uZXIsIHsKICAgICAgICBjb2xvcjogY29sb3IKICAgICAgfSwgdmFsdWVNb2RlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChWYWx1ZUlubmVyLCB7CiAgICAgICAgImFyaWEtbGFiZWwiOiBub2RlQXJpYUxhYmVsCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIHsKICAgICAgICBjb2xvcjogY29sb3IKICAgICAgfSwgbm9kZS5uYW1lKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChWYWx1ZSwgewogICAgICAgIGNvbG9yOiBjb2xvcgogICAgICB9LCB2YWx1ZSkpIDogZWxsaXBzaXNNb2RlICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVmFsdWVJbm5lciwgewogICAgICAgICJhcmlhLWxhYmVsIjogbm9kZUFyaWFMYWJlbAogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KExhYmVsLCB7CiAgICAgICAgY29sb3I6IGNvbG9yCiAgICAgIH0sICIuLi4iKSkpKSkpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBOb2RlOwp9KF9yZWFjdC5kZWZhdWx0LlB1cmVDb21wb25lbnQpLCBfdGVtcCk7CmV4cG9ydHMuTm9kZSA9IE5vZGU7Cgp2YXIgTm9kZUNvbnRhaW5lciA9IF9wdWJsaWMuZXVpU3R5bGVkLmRpdihfdGVtcGxhdGVPYmplY3QoKSk7Cgp2YXIgU3F1YXJlT3V0ZXIgPSBfcHVibGljLmV1aVN0eWxlZC5kaXYoX3RlbXBsYXRlT2JqZWN0MigpLCBmdW5jdGlvbiAocHJvcHMpIHsKICByZXR1cm4gKDAsIF9wb2xpc2hlZC5kYXJrZW4pKDAuMSwgcHJvcHMuY29sb3IpOwp9KTsKCnZhciBTcXVhcmVJbm5lciA9IF9wdWJsaWMuZXVpU3R5bGVkLmRpdihfdGVtcGxhdGVPYmplY3QzKCksIGZ1bmN0aW9uIChwcm9wcykgewogIHJldHVybiBwcm9wcy5jb2xvcjsKfSk7Cgp2YXIgVmFsdWVJbm5lciA9IF9wdWJsaWMuZXVpU3R5bGVkLmJ1dHRvbihfdGVtcGxhdGVPYmplY3Q0KCksIGZ1bmN0aW9uIChwYXJhbXMpIHsKICByZXR1cm4gcGFyYW1zLnRoZW1lLmV1aS5ldWlGb2N1c1JpbmdTaXplOwp9LCBmdW5jdGlvbiAocGFyYW1zKSB7CiAgcmV0dXJuIHBhcmFtcy50aGVtZS5ldWkuZXVpRm9jdXNSaW5nQ29sb3I7Cn0pOwoKdmFyIFNxdWFyZVRleHRDb250ZW50ID0gX3B1YmxpYy5ldWlTdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDUoKSwgZnVuY3Rpb24gKHByb3BzKSB7CiAgcmV0dXJuICgwLCBfcG9saXNoZWQucmVhZGFibGVDb2xvcikocHJvcHMuY29sb3IpOwp9KTsKCnZhciBWYWx1ZSA9ICgwLCBfcHVibGljLmV1aVN0eWxlZCkoU3F1YXJlVGV4dENvbnRlbnQpKF90ZW1wbGF0ZU9iamVjdDYoKSk7CnZhciBMYWJlbCA9ICgwLCBfcHVibGljLmV1aVN0eWxlZCkoU3F1YXJlVGV4dENvbnRlbnQpKF90ZW1wbGF0ZU9iamVjdDcoKSk7"},null]}