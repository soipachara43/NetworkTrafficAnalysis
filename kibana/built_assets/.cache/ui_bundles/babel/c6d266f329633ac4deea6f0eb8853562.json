{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/timeline/search_or_filter/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/timeline/search_or_filter/index.js","mtime":1589249553200},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlN0YXRlZnVsU2VhcmNoT3JGaWx0ZXIgPSBleHBvcnRzLmNvbm5lY3RvciA9IHZvaWQgMDsKCnZhciBfZnAgPSByZXF1aXJlKCJsb2Rhc2gvZnAiKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJlZHV4Iik7Cgp2YXIgX2Zhc3REZWVwRXF1YWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImZhc3QtZGVlcC1lcXVhbCIpKTsKCnZhciBfa2V1cnkgPSByZXF1aXJlKCIuLi8uLi8uLi9saWIva2V1cnkiKTsKCnZhciBfc3RvcmUgPSByZXF1aXJlKCIuLi8uLi8uLi9zdG9yZSIpOwoKdmFyIF9hY3Rpb25zID0gcmVxdWlyZSgiLi4vLi4vLi4vc3RvcmUvYWN0aW9ucyIpOwoKdmFyIF9kZWZhdWx0cyA9IHJlcXVpcmUoIi4uLy4uLy4uL3N0b3JlL3RpbWVsaW5lL2RlZmF1bHRzIik7Cgp2YXIgX3N1cGVyX2RhdGVfcGlja2VyID0gcmVxdWlyZSgiLi4vLi4vc3VwZXJfZGF0ZV9waWNrZXIiKTsKCnZhciBfc2VhcmNoX29yX2ZpbHRlciA9IHJlcXVpcmUoIi4vc2VhcmNoX29yX2ZpbHRlciIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9Ci8qCiAqIENvcHlyaWdodCBFbGFzdGljc2VhcmNoIEIuVi4gYW5kL29yIGxpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIExpY2Vuc2VkIHVuZGVyIHRoZSBFbGFzdGljIExpY2Vuc2U7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgRWxhc3RpYyBMaWNlbnNlLgogKi8KCgp2YXIgU3RhdGVmdWxTZWFyY2hPckZpbHRlckNvbXBvbmVudCA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKF9yZWYpIHsKICB2YXIgYXBwbHlLcWxGaWx0ZXJRdWVyeSA9IF9yZWYuYXBwbHlLcWxGaWx0ZXJRdWVyeSwKICAgICAgYnJvd3NlckZpZWxkcyA9IF9yZWYuYnJvd3NlckZpZWxkcywKICAgICAgZGF0YVByb3ZpZGVycyA9IF9yZWYuZGF0YVByb3ZpZGVycywKICAgICAgZXZlbnRUeXBlID0gX3JlZi5ldmVudFR5cGUsCiAgICAgIGZpbHRlcnMgPSBfcmVmLmZpbHRlcnMsCiAgICAgIGZpbHRlclF1ZXJ5ID0gX3JlZi5maWx0ZXJRdWVyeSwKICAgICAgZmlsdGVyUXVlcnlEcmFmdCA9IF9yZWYuZmlsdGVyUXVlcnlEcmFmdCwKICAgICAgZnJvbSA9IF9yZWYuZnJvbSwKICAgICAgZnJvbVN0ciA9IF9yZWYuZnJvbVN0ciwKICAgICAgaW5kZXhQYXR0ZXJuID0gX3JlZi5pbmRleFBhdHRlcm4sCiAgICAgIGlzUmVmcmVzaFBhdXNlZCA9IF9yZWYuaXNSZWZyZXNoUGF1c2VkLAogICAgICBrcWxNb2RlID0gX3JlZi5rcWxNb2RlLAogICAgICByZWZyZXNoSW50ZXJ2YWwgPSBfcmVmLnJlZnJlc2hJbnRlcnZhbCwKICAgICAgc2F2ZWRRdWVyeUlkID0gX3JlZi5zYXZlZFF1ZXJ5SWQsCiAgICAgIHNldEZpbHRlcnMgPSBfcmVmLnNldEZpbHRlcnMsCiAgICAgIHNldEtxbEZpbHRlclF1ZXJ5RHJhZnQgPSBfcmVmLnNldEtxbEZpbHRlclF1ZXJ5RHJhZnQsCiAgICAgIHNldFNhdmVkUXVlcnlJZCA9IF9yZWYuc2V0U2F2ZWRRdWVyeUlkLAogICAgICB0aW1lbGluZUlkID0gX3JlZi50aW1lbGluZUlkLAogICAgICB0byA9IF9yZWYudG8sCiAgICAgIHRvU3RyID0gX3JlZi50b1N0ciwKICAgICAgdXBkYXRlRXZlbnRUeXBlID0gX3JlZi51cGRhdGVFdmVudFR5cGUsCiAgICAgIHVwZGF0ZUtxbE1vZGUgPSBfcmVmLnVwZGF0ZUtxbE1vZGUsCiAgICAgIHVwZGF0ZVJlZHV4VGltZSA9IF9yZWYudXBkYXRlUmVkdXhUaW1lOwogIHZhciBhcHBseUZpbHRlclF1ZXJ5RnJvbUt1ZXJ5RXhwcmVzc2lvbiA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChleHByZXNzaW9uLCBraW5kKSB7CiAgICByZXR1cm4gYXBwbHlLcWxGaWx0ZXJRdWVyeSh7CiAgICAgIGlkOiB0aW1lbGluZUlkLAogICAgICBmaWx0ZXJRdWVyeTogewogICAgICAgIGt1ZXJ5OiB7CiAgICAgICAgICBraW5kOiBraW5kLAogICAgICAgICAgZXhwcmVzc2lvbjogZXhwcmVzc2lvbgogICAgICAgIH0sCiAgICAgICAgc2VyaWFsaXplZFF1ZXJ5OiAoMCwgX2tldXJ5LmNvbnZlcnRLdWVyeVRvRWxhc3RpY1NlYXJjaFF1ZXJ5KShleHByZXNzaW9uLCBpbmRleFBhdHRlcm4pCiAgICAgIH0KICAgIH0pOwogIH0sIFtpbmRleFBhdHRlcm4sIHRpbWVsaW5lSWRdKTsKICB2YXIgc2V0RmlsdGVyUXVlcnlEcmFmdEZyb21LdWVyeUV4cHJlc3Npb24gPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoZXhwcmVzc2lvbiwga2luZCkgewogICAgcmV0dXJuIHNldEtxbEZpbHRlclF1ZXJ5RHJhZnQoewogICAgICBpZDogdGltZWxpbmVJZCwKICAgICAgZmlsdGVyUXVlcnlEcmFmdDogewogICAgICAgIGtpbmQ6IGtpbmQsCiAgICAgICAgZXhwcmVzc2lvbjogZXhwcmVzc2lvbgogICAgICB9CiAgICB9KTsKICB9LCBbdGltZWxpbmVJZF0pOwogIHZhciBzZXRGaWx0ZXJzSW5UaW1lbGluZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChuZXdGaWx0ZXJzKSB7CiAgICByZXR1cm4gc2V0RmlsdGVycyh7CiAgICAgIGlkOiB0aW1lbGluZUlkLAogICAgICBmaWx0ZXJzOiBuZXdGaWx0ZXJzCiAgICB9KTsKICB9LCBbdGltZWxpbmVJZF0pOwogIHZhciBzZXRTYXZlZFF1ZXJ5SW5UaW1lbGluZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChuZXdTYXZlZFF1ZXJ5SWQpIHsKICAgIHJldHVybiBzZXRTYXZlZFF1ZXJ5SWQoewogICAgICBpZDogdGltZWxpbmVJZCwKICAgICAgc2F2ZWRRdWVyeUlkOiBuZXdTYXZlZFF1ZXJ5SWQKICAgIH0pOwogIH0sIFt0aW1lbGluZUlkXSk7CiAgdmFyIGhhbmRsZVVwZGF0ZUV2ZW50VHlwZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChuZXdFdmVudFR5cGUpIHsKICAgIHJldHVybiB1cGRhdGVFdmVudFR5cGUoewogICAgICBpZDogdGltZWxpbmVJZCwKICAgICAgZXZlbnRUeXBlOiBuZXdFdmVudFR5cGUKICAgIH0pOwogIH0sIFt0aW1lbGluZUlkXSk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlYXJjaF9vcl9maWx0ZXIuU2VhcmNoT3JGaWx0ZXIsIHsKICAgIGFwcGx5S3FsRmlsdGVyUXVlcnk6IGFwcGx5RmlsdGVyUXVlcnlGcm9tS3VlcnlFeHByZXNzaW9uLAogICAgYnJvd3NlckZpZWxkczogYnJvd3NlckZpZWxkcywKICAgIGRhdGFQcm92aWRlcnM6IGRhdGFQcm92aWRlcnMsCiAgICBldmVudFR5cGU6IGV2ZW50VHlwZSwKICAgIGZpbHRlcnM6IGZpbHRlcnMsCiAgICBmaWx0ZXJRdWVyeTogZmlsdGVyUXVlcnksCiAgICBmaWx0ZXJRdWVyeURyYWZ0OiBmaWx0ZXJRdWVyeURyYWZ0LAogICAgZnJvbTogZnJvbSwKICAgIGZyb21TdHI6IGZyb21TdHIsCiAgICBpbmRleFBhdHRlcm46IGluZGV4UGF0dGVybiwKICAgIGlzUmVmcmVzaFBhdXNlZDogaXNSZWZyZXNoUGF1c2VkLAogICAga3FsTW9kZToga3FsTW9kZSwKICAgIHJlZnJlc2hJbnRlcnZhbDogcmVmcmVzaEludGVydmFsLAogICAgc2F2ZWRRdWVyeUlkOiBzYXZlZFF1ZXJ5SWQsCiAgICBzZXRGaWx0ZXJzOiBzZXRGaWx0ZXJzSW5UaW1lbGluZSwKICAgIHNldEtxbEZpbHRlclF1ZXJ5RHJhZnQ6IHNldEZpbHRlclF1ZXJ5RHJhZnRGcm9tS3VlcnlFeHByZXNzaW9uLAogICAgc2V0U2F2ZWRRdWVyeUlkOiBzZXRTYXZlZFF1ZXJ5SW5UaW1lbGluZSwKICAgIHRpbWVsaW5lSWQ6IHRpbWVsaW5lSWQsCiAgICB0bzogdG8sCiAgICB0b1N0cjogdG9TdHIsCiAgICB1cGRhdGVFdmVudFR5cGU6IGhhbmRsZVVwZGF0ZUV2ZW50VHlwZSwKICAgIHVwZGF0ZUtxbE1vZGU6IHVwZGF0ZUtxbE1vZGUsCiAgICB1cGRhdGVSZWR1eFRpbWU6IHVwZGF0ZVJlZHV4VGltZQogIH0pOwp9LCBmdW5jdGlvbiAocHJldlByb3BzLCBuZXh0UHJvcHMpIHsKICByZXR1cm4gcHJldlByb3BzLmV2ZW50VHlwZSA9PT0gbmV4dFByb3BzLmV2ZW50VHlwZSAmJiBwcmV2UHJvcHMuZnJvbSA9PT0gbmV4dFByb3BzLmZyb20gJiYgcHJldlByb3BzLmZyb21TdHIgPT09IG5leHRQcm9wcy5mcm9tU3RyICYmIHByZXZQcm9wcy50byA9PT0gbmV4dFByb3BzLnRvICYmIHByZXZQcm9wcy50b1N0ciA9PT0gbmV4dFByb3BzLnRvU3RyICYmIHByZXZQcm9wcy5pc1JlZnJlc2hQYXVzZWQgPT09IG5leHRQcm9wcy5pc1JlZnJlc2hQYXVzZWQgJiYgcHJldlByb3BzLnJlZnJlc2hJbnRlcnZhbCA9PT0gbmV4dFByb3BzLnJlZnJlc2hJbnRlcnZhbCAmJiBwcmV2UHJvcHMudGltZWxpbmVJZCA9PT0gbmV4dFByb3BzLnRpbWVsaW5lSWQgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5icm93c2VyRmllbGRzLCBuZXh0UHJvcHMuYnJvd3NlckZpZWxkcykgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5kYXRhUHJvdmlkZXJzLCBuZXh0UHJvcHMuZGF0YVByb3ZpZGVycykgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5maWx0ZXJzLCBuZXh0UHJvcHMuZmlsdGVycykgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5maWx0ZXJRdWVyeSwgbmV4dFByb3BzLmZpbHRlclF1ZXJ5KSAmJiAoMCwgX2Zhc3REZWVwRXF1YWwuZGVmYXVsdCkocHJldlByb3BzLmZpbHRlclF1ZXJ5RHJhZnQsIG5leHRQcm9wcy5maWx0ZXJRdWVyeURyYWZ0KSAmJiAoMCwgX2Zhc3REZWVwRXF1YWwuZGVmYXVsdCkocHJldlByb3BzLmluZGV4UGF0dGVybiwgbmV4dFByb3BzLmluZGV4UGF0dGVybikgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5rcWxNb2RlLCBuZXh0UHJvcHMua3FsTW9kZSkgJiYgKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHByZXZQcm9wcy5zYXZlZFF1ZXJ5SWQsIG5leHRQcm9wcy5zYXZlZFF1ZXJ5SWQpICYmICgwLCBfZmFzdERlZXBFcXVhbC5kZWZhdWx0KShwcmV2UHJvcHMudGltZWxpbmVJZCwgbmV4dFByb3BzLnRpbWVsaW5lSWQpOwp9KTsKClN0YXRlZnVsU2VhcmNoT3JGaWx0ZXJDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnU3RhdGVmdWxTZWFyY2hPckZpbHRlckNvbXBvbmVudCc7Cgp2YXIgbWFrZU1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1ha2VNYXBTdGF0ZVRvUHJvcHMoKSB7CiAgdmFyIGdldFRpbWVsaW5lID0gX3N0b3JlLnRpbWVsaW5lU2VsZWN0b3JzLmdldFRpbWVsaW5lQnlJZFNlbGVjdG9yKCk7CgogIHZhciBnZXRLcWxGaWx0ZXJRdWVyeURyYWZ0ID0gX3N0b3JlLnRpbWVsaW5lU2VsZWN0b3JzLmdldEtxbEZpbHRlclF1ZXJ5RHJhZnRTZWxlY3RvcigpOwoKICB2YXIgZ2V0S3FsRmlsdGVyUXVlcnkgPSBfc3RvcmUudGltZWxpbmVTZWxlY3RvcnMuZ2V0S3FsRmlsdGVyS3VlcnlTZWxlY3RvcigpOwoKICB2YXIgZ2V0SW5wdXRzVGltZWxpbmUgPSBfc3RvcmUuaW5wdXRzU2VsZWN0b3JzLmdldFRpbWVsaW5lU2VsZWN0b3IoKTsKCiAgdmFyIGdldElucHV0c1BvbGljeSA9IF9zdG9yZS5pbnB1dHNTZWxlY3RvcnMuZ2V0VGltZWxpbmVQb2xpY3lTZWxlY3RvcigpOwoKICB2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBfcmVmMikgewogICAgdmFyIF9nZXRUaW1lbGluZSwgX3RpbWVsaW5lJGV2ZW50VHlwZTsKCiAgICB2YXIgdGltZWxpbmVJZCA9IF9yZWYyLnRpbWVsaW5lSWQ7CiAgICB2YXIgdGltZWxpbmUgPSAoX2dldFRpbWVsaW5lID0gZ2V0VGltZWxpbmUoc3RhdGUsIHRpbWVsaW5lSWQpKSAhPT0gbnVsbCAmJiBfZ2V0VGltZWxpbmUgIT09IHZvaWQgMCA/IF9nZXRUaW1lbGluZSA6IF9kZWZhdWx0cy50aW1lbGluZURlZmF1bHRzOwogICAgdmFyIGlucHV0ID0gZ2V0SW5wdXRzVGltZWxpbmUoc3RhdGUpOwogICAgdmFyIHBvbGljeSA9IGdldElucHV0c1BvbGljeShzdGF0ZSk7CiAgICByZXR1cm4gewogICAgICBkYXRhUHJvdmlkZXJzOiB0aW1lbGluZS5kYXRhUHJvdmlkZXJzLAogICAgICBldmVudFR5cGU6IChfdGltZWxpbmUkZXZlbnRUeXBlID0gdGltZWxpbmUuZXZlbnRUeXBlKSAhPT0gbnVsbCAmJiBfdGltZWxpbmUkZXZlbnRUeXBlICE9PSB2b2lkIDAgPyBfdGltZWxpbmUkZXZlbnRUeXBlIDogJ3JhdycsCiAgICAgIGZpbHRlclF1ZXJ5OiBnZXRLcWxGaWx0ZXJRdWVyeShzdGF0ZSwgdGltZWxpbmVJZCksCiAgICAgIGZpbHRlclF1ZXJ5RHJhZnQ6IGdldEtxbEZpbHRlclF1ZXJ5RHJhZnQoc3RhdGUsIHRpbWVsaW5lSWQpLAogICAgICBmaWx0ZXJzOiB0aW1lbGluZS5maWx0ZXJzLAogICAgICBmcm9tOiBpbnB1dC50aW1lcmFuZ2UuZnJvbSwKICAgICAgZnJvbVN0cjogaW5wdXQudGltZXJhbmdlLmZyb21TdHIsCiAgICAgIGlzUmVmcmVzaFBhdXNlZDogcG9saWN5LmtpbmQgPT09ICdtYW51YWwnLAogICAgICBrcWxNb2RlOiAoMCwgX2ZwLmdldE9yKSgnZmlsdGVyJywgJ2txbE1vZGUnLCB0aW1lbGluZSksCiAgICAgIHJlZnJlc2hJbnRlcnZhbDogcG9saWN5LmR1cmF0aW9uLAogICAgICBzYXZlZFF1ZXJ5SWQ6ICgwLCBfZnAuZ2V0T3IpKG51bGwsICdzYXZlZFF1ZXJ5SWQnLCB0aW1lbGluZSksCiAgICAgIHRvOiBpbnB1dC50aW1lcmFuZ2UudG8sCiAgICAgIHRvU3RyOiBpbnB1dC50aW1lcmFuZ2UudG9TdHIKICAgIH07CiAgfTsKCiAgcmV0dXJuIG1hcFN0YXRlVG9Qcm9wczsKfTsKCnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHsKICByZXR1cm4gewogICAgYXBwbHlLcWxGaWx0ZXJRdWVyeTogZnVuY3Rpb24gYXBwbHlLcWxGaWx0ZXJRdWVyeShfcmVmMykgewogICAgICB2YXIgaWQgPSBfcmVmMy5pZCwKICAgICAgICAgIGZpbHRlclF1ZXJ5ID0gX3JlZjMuZmlsdGVyUXVlcnk7CiAgICAgIHJldHVybiBkaXNwYXRjaChfYWN0aW9ucy50aW1lbGluZUFjdGlvbnMuYXBwbHlLcWxGaWx0ZXJRdWVyeSh7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIGZpbHRlclF1ZXJ5OiBmaWx0ZXJRdWVyeQogICAgICB9KSk7CiAgICB9LAogICAgdXBkYXRlRXZlbnRUeXBlOiBmdW5jdGlvbiB1cGRhdGVFdmVudFR5cGUoX3JlZjQpIHsKICAgICAgdmFyIGlkID0gX3JlZjQuaWQsCiAgICAgICAgICBldmVudFR5cGUgPSBfcmVmNC5ldmVudFR5cGU7CiAgICAgIHJldHVybiBkaXNwYXRjaChfYWN0aW9ucy50aW1lbGluZUFjdGlvbnMudXBkYXRlRXZlbnRUeXBlKHsKICAgICAgICBpZDogaWQsCiAgICAgICAgZXZlbnRUeXBlOiBldmVudFR5cGUKICAgICAgfSkpOwogICAgfSwKICAgIHVwZGF0ZUtxbE1vZGU6IGZ1bmN0aW9uIHVwZGF0ZUtxbE1vZGUoX3JlZjUpIHsKICAgICAgdmFyIGlkID0gX3JlZjUuaWQsCiAgICAgICAgICBrcWxNb2RlID0gX3JlZjUua3FsTW9kZTsKICAgICAgcmV0dXJuIGRpc3BhdGNoKF9hY3Rpb25zLnRpbWVsaW5lQWN0aW9ucy51cGRhdGVLcWxNb2RlKHsKICAgICAgICBpZDogaWQsCiAgICAgICAga3FsTW9kZToga3FsTW9kZQogICAgICB9KSk7CiAgICB9LAogICAgc2V0S3FsRmlsdGVyUXVlcnlEcmFmdDogZnVuY3Rpb24gc2V0S3FsRmlsdGVyUXVlcnlEcmFmdChfcmVmNikgewogICAgICB2YXIgaWQgPSBfcmVmNi5pZCwKICAgICAgICAgIGZpbHRlclF1ZXJ5RHJhZnQgPSBfcmVmNi5maWx0ZXJRdWVyeURyYWZ0OwogICAgICByZXR1cm4gZGlzcGF0Y2goX2FjdGlvbnMudGltZWxpbmVBY3Rpb25zLnNldEtxbEZpbHRlclF1ZXJ5RHJhZnQoewogICAgICAgIGlkOiBpZCwKICAgICAgICBmaWx0ZXJRdWVyeURyYWZ0OiBmaWx0ZXJRdWVyeURyYWZ0CiAgICAgIH0pKTsKICAgIH0sCiAgICBzZXRTYXZlZFF1ZXJ5SWQ6IGZ1bmN0aW9uIHNldFNhdmVkUXVlcnlJZChfcmVmNykgewogICAgICB2YXIgaWQgPSBfcmVmNy5pZCwKICAgICAgICAgIHNhdmVkUXVlcnlJZCA9IF9yZWY3LnNhdmVkUXVlcnlJZDsKICAgICAgcmV0dXJuIGRpc3BhdGNoKF9hY3Rpb25zLnRpbWVsaW5lQWN0aW9ucy5zZXRTYXZlZFF1ZXJ5SWQoewogICAgICAgIGlkOiBpZCwKICAgICAgICBzYXZlZFF1ZXJ5SWQ6IHNhdmVkUXVlcnlJZAogICAgICB9KSk7CiAgICB9LAogICAgc2V0RmlsdGVyczogZnVuY3Rpb24gc2V0RmlsdGVycyhfcmVmOCkgewogICAgICB2YXIgaWQgPSBfcmVmOC5pZCwKICAgICAgICAgIGZpbHRlcnMgPSBfcmVmOC5maWx0ZXJzOwogICAgICByZXR1cm4gZGlzcGF0Y2goX2FjdGlvbnMudGltZWxpbmVBY3Rpb25zLnNldEZpbHRlcnMoewogICAgICAgIGlkOiBpZCwKICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzCiAgICAgIH0pKTsKICAgIH0sCiAgICB1cGRhdGVSZWR1eFRpbWU6ICgwLCBfc3VwZXJfZGF0ZV9waWNrZXIuZGlzcGF0Y2hVcGRhdGVSZWR1eFRpbWUpKGRpc3BhdGNoKQogIH07Cn07Cgp2YXIgY29ubmVjdG9yID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1ha2VNYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcyk7CmV4cG9ydHMuY29ubmVjdG9yID0gY29ubmVjdG9yOwp2YXIgU3RhdGVmdWxTZWFyY2hPckZpbHRlciA9IGNvbm5lY3RvcihTdGF0ZWZ1bFNlYXJjaE9yRmlsdGVyQ29tcG9uZW50KTsKZXhwb3J0cy5TdGF0ZWZ1bFNlYXJjaE9yRmlsdGVyID0gU3RhdGVmdWxTZWFyY2hPckZpbHRlcjs="},null]}