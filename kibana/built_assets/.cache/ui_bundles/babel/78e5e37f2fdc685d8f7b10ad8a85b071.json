{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/apm/public/components/shared/charts/CustomPlot/index.js","dependencies":[{"path":"x-pack/legacy/plugins/apm/public/components/shared/charts/CustomPlot/index.js","mtime":1589249551659},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLklubmVyQ3VzdG9tUGxvdCA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX3JlYWN0VmlzID0gcmVxdWlyZSgicmVhY3QtdmlzIik7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfTGVnZW5kcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9MZWdlbmRzIikpOwoKdmFyIF9TdGF0aWNQbG90ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL1N0YXRpY1Bsb3QiKSk7Cgp2YXIgX0ludGVyYWN0aXZlUGxvdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9JbnRlcmFjdGl2ZVBsb3QiKSk7Cgp2YXIgX1Zvcm9ub2lQbG90ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL1Zvcm9ub2lQbG90IikpOwoKdmFyIF9Bbm5vdGF0aW9uc1Bsb3QgPSByZXF1aXJlKCIuL0Fubm90YXRpb25zUGxvdCIpOwoKdmFyIF9yZXNlbGVjdCA9IHJlcXVpcmUoInJlc2VsZWN0Iik7Cgp2YXIgX3Bsb3RVdGlscyA9IHJlcXVpcmUoIi4vcGxvdFV0aWxzIik7Cgp2YXIgX2lzVmFsaWRDb29yZGluYXRlVmFsdWUgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi91dGlscy9pc1ZhbGlkQ29vcmRpbmF0ZVZhbHVlIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIFZJU0lCTEVfTEVHRU5EX0NPVU5UID0gNDsKCmZ1bmN0aW9uIGdldEhpZGRlbkxlZ2VuZENvdW50KHNlcmllcykgewogIHJldHVybiBzZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChzZXJpZSkgewogICAgcmV0dXJuIHNlcmllLmhpZGVMZWdlbmQ7CiAgfSkubGVuZ3RoOwp9Cgp2YXIgSW5uZXJDdXN0b21QbG90ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoSW5uZXJDdXN0b21QbG90LCBfUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIElubmVyQ3VzdG9tUGxvdCgpIHsKICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyOwoKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5uZXJDdXN0b21QbG90KTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoSW5uZXJDdXN0b21QbG90KSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KF9hcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBzZXJpZXNFbmFibGVkU3RhdGU6IFtdLAogICAgICBpc0RyYXdpbmc6IGZhbHNlLAogICAgICBzZWxlY3Rpb25TdGFydDogbnVsbCwKICAgICAgc2VsZWN0aW9uRW5kOiBudWxsLAogICAgICBzaG93QW5ub3RhdGlvbnM6IHRydWUKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldEVuYWJsZWRTZXJpZXMiLCAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnZpc2libGVTZXJpZXM7CiAgICB9LCBmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlcmllc0VuYWJsZWRTdGF0ZTsKICAgIH0sIGZ1bmN0aW9uICh2aXNpYmxlU2VyaWVzLCBzZXJpZXNFbmFibGVkU3RhdGUpIHsKICAgICAgcmV0dXJuIHZpc2libGVTZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChzZXJpZSwgaSkgewogICAgICAgIHJldHVybiAhc2VyaWVzRW5hYmxlZFN0YXRlW2ldOwogICAgICB9KTsKICAgIH0pKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRPcHRpb25zIiwgKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS53aWR0aDsKICAgIH0sIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUueU1pbjsKICAgIH0sIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUueU1heDsKICAgIH0sIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaGVpZ2h0OwogICAgfSwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGFja0J5OwogICAgfSwgZnVuY3Rpb24gKHdpZHRoLCB5TWluLCB5TWF4LCBoZWlnaHQsIHN0YWNrQnkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogd2lkdGgsCiAgICAgICAgeU1pbjogeU1pbiwKICAgICAgICB5TWF4OiB5TWF4LAogICAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICAgIHN0YWNrQnk6IHN0YWNrQnkKICAgICAgfTsKICAgIH0pKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRQbG90VmFsdWVzIiwgKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS52aXNpYmxlU2VyaWVzOwogICAgfSwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lbmFibGVkU2VyaWVzOwogICAgfSwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5vcHRpb25zOwogICAgfSwgX3Bsb3RVdGlscy5nZXRQbG90VmFsdWVzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0VmlzaWJsZVNlcmllcyIsICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2VyaWVzOwogICAgfSwgZnVuY3Rpb24gKHNlcmllcykgewogICAgICByZXR1cm4gc2VyaWVzLnNsaWNlKDAsIFZJU0lCTEVfTEVHRU5EX0NPVU5UICsgZ2V0SGlkZGVuTGVnZW5kQ291bnQoc2VyaWVzKSk7CiAgICB9KSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2xpY2tMZWdlbmQiLCBmdW5jdGlvbiAoaSkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBzZXJpZXNFbmFibGVkU3RhdGUgPSBfcmVmLnNlcmllc0VuYWJsZWRTdGF0ZTsKCiAgICAgICAgdmFyIG5leHRTZXJpZXNFbmFibGVkU3RhdGUgPSBfdGhpcy5wcm9wcy5zZXJpZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgX2kpIHsKICAgICAgICAgIHZhciBkaXNhYmxlZFZhbHVlID0gc2VyaWVzRW5hYmxlZFN0YXRlW19pXTsKICAgICAgICAgIHJldHVybiBpID09PSBfaSA/ICFkaXNhYmxlZFZhbHVlIDogISFkaXNhYmxlZFZhbHVlOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgc2VyaWVzRW5hYmxlZFN0YXRlOiBuZXh0U2VyaWVzRW5hYmxlZFN0YXRlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbk1vdXNlTGVhdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wczsKCiAgICAgIChfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzKS5vbk1vdXNlTGVhdmUuYXBwbHkoX3RoaXMkcHJvcHMsIGFyZ3VtZW50cyk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbk1vdXNlRG93biIsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNEcmF3aW5nOiB0cnVlLAogICAgICAgIHNlbGVjdGlvblN0YXJ0OiBub2RlLngsCiAgICAgICAgc2VsZWN0aW9uRW5kOiBudWxsCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Nb3VzZVVwIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXMuc3RhdGUuaXNEcmF3aW5nICYmIF90aGlzLnN0YXRlLnNlbGVjdGlvbkVuZCAhPT0gbnVsbCkgewogICAgICAgIHZhciBfc29ydCA9IFtfdGhpcy5zdGF0ZS5zZWxlY3Rpb25TdGFydCwgX3RoaXMuc3RhdGUuc2VsZWN0aW9uRW5kXS5zb3J0KCksCiAgICAgICAgICAgIF9zb3J0MiA9IF9zbGljZWRUb0FycmF5KF9zb3J0LCAyKSwKICAgICAgICAgICAgc3RhcnQgPSBfc29ydDJbMF0sCiAgICAgICAgICAgIGVuZCA9IF9zb3J0MlsxXTsKCiAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3Rpb25FbmQoewogICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgZW5kOiBlbmQKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzRHJhd2luZzogZmFsc2UKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkhvdmVyIiwgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgX3RoaXMucHJvcHMub25Ib3Zlcihub2RlLngpOwoKICAgICAgaWYgKF90aGlzLnN0YXRlLmlzRHJhd2luZykgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHNlbGVjdGlvbkVuZDogbm9kZS54CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhJbm5lckN1c3RvbVBsb3QsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIHNlcmllcyA9IF90aGlzJHByb3BzMi5zZXJpZXMsCiAgICAgICAgICB0cnVuY2F0ZUxlZ2VuZHMgPSBfdGhpcyRwcm9wczIudHJ1bmNhdGVMZWdlbmRzLAogICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczIud2lkdGgsCiAgICAgICAgICBhbm5vdGF0aW9ucyA9IF90aGlzJHByb3BzMi5hbm5vdGF0aW9uczsKCiAgICAgIGlmICghd2lkdGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIGhpZGRlblNlcmllc0NvdW50ID0gTWF0aC5tYXgoc2VyaWVzLmxlbmd0aCAtIFZJU0lCTEVfTEVHRU5EX0NPVU5UIC0gZ2V0SGlkZGVuTGVnZW5kQ291bnQoc2VyaWVzKSwgMCk7CiAgICAgIHZhciB2aXNpYmxlU2VyaWVzID0gdGhpcy5nZXRWaXNpYmxlU2VyaWVzKHsKICAgICAgICBzZXJpZXM6IHNlcmllcwogICAgICB9KTsKICAgICAgdmFyIGVuYWJsZWRTZXJpZXMgPSB0aGlzLmdldEVuYWJsZWRTZXJpZXMoewogICAgICAgIHZpc2libGVTZXJpZXM6IHZpc2libGVTZXJpZXMsCiAgICAgICAgc2VyaWVzRW5hYmxlZFN0YXRlOiB0aGlzLnN0YXRlLnNlcmllc0VuYWJsZWRTdGF0ZQogICAgICB9KTsKICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnModGhpcy5wcm9wcyk7CiAgICAgIHZhciBoYXNWYWxpZENvb3JkaW5hdGVzID0gKDAsIF9sb2Rhc2guZmxhdHRlbikoc2VyaWVzLm1hcChmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLmRhdGE7CiAgICAgIH0pKS5zb21lKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuICgwLCBfaXNWYWxpZENvb3JkaW5hdGVWYWx1ZS5pc1ZhbGlkQ29vcmRpbmF0ZVZhbHVlKShwLnkpOwogICAgICB9KTsKICAgICAgdmFyIG5vSGl0cyA9ICFoYXNWYWxpZENvb3JkaW5hdGVzOwogICAgICB2YXIgcGxvdFZhbHVlcyA9IHRoaXMuZ2V0UGxvdFZhbHVlcyh7CiAgICAgICAgdmlzaWJsZVNlcmllczogdmlzaWJsZVNlcmllcywKICAgICAgICBlbmFibGVkU2VyaWVzOiBlbmFibGVkU2VyaWVzLAogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMKICAgICAgfSk7CgogICAgICBpZiAoKDAsIF9sb2Rhc2guaXNFbXB0eSkocGxvdFZhbHVlcykpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLAogICAgICAgICAgaGVpZ2h0OiBwbG90VmFsdWVzLlhZX0hFSUdIVAogICAgICAgIH0KICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU3RhdGljUGxvdC5kZWZhdWx0LCB7CiAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgIG5vSGl0czogbm9IaXRzLAogICAgICAgIHBsb3RWYWx1ZXM6IHBsb3RWYWx1ZXMsCiAgICAgICAgc2VyaWVzOiBlbmFibGVkU2VyaWVzLAogICAgICAgIHRpY2tGb3JtYXRZOiB0aGlzLnByb3BzLnRpY2tGb3JtYXRZLAogICAgICAgIHRpY2tGb3JtYXRYOiB0aGlzLnByb3BzLnRpY2tGb3JtYXRYCiAgICAgIH0pLCB0aGlzLnN0YXRlLnNob3dBbm5vdGF0aW9ucyAmJiAhKDAsIF9sb2Rhc2guaXNFbXB0eSkoYW5ub3RhdGlvbnMpICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Fubm90YXRpb25zUGxvdC5Bbm5vdGF0aW9uc1Bsb3QsIHsKICAgICAgICBwbG90VmFsdWVzOiBwbG90VmFsdWVzLAogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnMgfHwgW10KICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ludGVyYWN0aXZlUGxvdC5kZWZhdWx0LCB7CiAgICAgICAgcGxvdFZhbHVlczogcGxvdFZhbHVlcywKICAgICAgICBob3Zlclg6IHRoaXMucHJvcHMuaG92ZXJYLAogICAgICAgIHNlcmllczogZW5hYmxlZFNlcmllcywKICAgICAgICBmb3JtYXRUb29sdGlwVmFsdWU6IHRoaXMucHJvcHMuZm9ybWF0VG9vbHRpcFZhbHVlLAogICAgICAgIGlzRHJhd2luZzogdGhpcy5zdGF0ZS5pc0RyYXdpbmcsCiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHRoaXMuc3RhdGUuc2VsZWN0aW9uU3RhcnQsCiAgICAgICAgc2VsZWN0aW9uRW5kOiB0aGlzLnN0YXRlLnNlbGVjdGlvbkVuZAogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVm9yb25vaVBsb3QuZGVmYXVsdCwgewogICAgICAgIG5vSGl0czogbm9IaXRzLAogICAgICAgIHBsb3RWYWx1ZXM6IHBsb3RWYWx1ZXMsCiAgICAgICAgc2VyaWVzOiBlbmFibGVkU2VyaWVzLAogICAgICAgIG9uSG92ZXI6IHRoaXMub25Ib3ZlciwKICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLAogICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uTW91c2VEb3duCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGVnZW5kcy5kZWZhdWx0LCB7CiAgICAgICAgbm9IaXRzOiBub0hpdHMsCiAgICAgICAgdHJ1bmNhdGVMZWdlbmRzOiB0cnVuY2F0ZUxlZ2VuZHMsCiAgICAgICAgc2VyaWVzOiB2aXNpYmxlU2VyaWVzLAogICAgICAgIGhpZGRlblNlcmllc0NvdW50OiBoaWRkZW5TZXJpZXNDb3VudCwKICAgICAgICBjbGlja0xlZ2VuZDogdGhpcy5jbGlja0xlZ2VuZCwKICAgICAgICBzZXJpZXNFbmFibGVkU3RhdGU6IHRoaXMuc3RhdGUuc2VyaWVzRW5hYmxlZFN0YXRlLAogICAgICAgIGhhc0Fubm90YXRpb25zOiAhKDAsIF9sb2Rhc2guaXNFbXB0eSkoYW5ub3RhdGlvbnMpLAogICAgICAgIHNob3dBbm5vdGF0aW9uczogdGhpcy5zdGF0ZS5zaG93QW5ub3RhdGlvbnMsCiAgICAgICAgb25Bbm5vdGF0aW9uc1RvZ2dsZTogZnVuY3Rpb24gb25Bbm5vdGF0aW9uc1RvZ2dsZSgpIHsKICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIHNob3dBbm5vdGF0aW9ucyA9IF9yZWYyLnNob3dBbm5vdGF0aW9uczsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBzaG93QW5ub3RhdGlvbnM6ICFzaG93QW5ub3RhdGlvbnMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIElubmVyQ3VzdG9tUGxvdDsKfShfcmVhY3QuUHVyZUNvbXBvbmVudCk7CgpleHBvcnRzLklubmVyQ3VzdG9tUGxvdCA9IElubmVyQ3VzdG9tUGxvdDsKSW5uZXJDdXN0b21QbG90LnByb3BUeXBlcyA9IHsKICBmb3JtYXRUb29sdGlwVmFsdWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIGhvdmVyWDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciwKICBvbkhvdmVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIG9uTW91c2VMZWF2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBvblNlbGVjdGlvbkVuZDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBzZXJpZXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheS5pc1JlcXVpcmVkLAogIHRpY2tGb3JtYXRZOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICB0cnVuY2F0ZUxlZ2VuZHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIHdpZHRoOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsCiAgaGVpZ2h0OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLAogIHN0YWNrQnk6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgYW5ub3RhdGlvbnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7CiAgICB0eXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogICAgaWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgICBmaXJzdFNlZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIKICB9KSkKfTsKSW5uZXJDdXN0b21QbG90LmRlZmF1bHRQcm9wcyA9IHsKICBmb3JtYXRUb29sdGlwVmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFRvb2x0aXBWYWx1ZShwKSB7CiAgICByZXR1cm4gcC55OwogIH0sCiAgdGlja0Zvcm1hdFg6IHVuZGVmaW5lZCwKICB0aWNrRm9ybWF0WTogZnVuY3Rpb24gdGlja0Zvcm1hdFkoeSkgewogICAgcmV0dXJuIHk7CiAgfSwKICB0cnVuY2F0ZUxlZ2VuZHM6IGZhbHNlCn07Cgp2YXIgX2RlZmF1bHQgPSAoMCwgX3JlYWN0VmlzLm1ha2VXaWR0aEZsZXhpYmxlKShJbm5lckN1c3RvbVBsb3QpOwoKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},null]}