{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_page/workpad_interactive_page/index.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_page/workpad_interactive_page/index.js","mtime":1589249552035},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkludGVyYWN0aXZlUGFnZSA9IHZvaWQgMDsKCnZhciBfcmVjb21wb3NlID0gcmVxdWlyZSgicmVjb21wb3NlIik7Cgp2YXIgX3JlYWN0UmVkdXggPSByZXF1aXJlKCJyZWFjdC1yZWR1eCIpOwoKdmFyIF9zdG9yZSA9IHJlcXVpcmUoIi4uLy4uLy4uL2xpYi9hZXJvZWxhc3RpYy9zdG9yZSIpOwoKdmFyIF9sYXlvdXQgPSByZXF1aXJlKCIuLi8uLi8uLi9saWIvYWVyb2VsYXN0aWMvbGF5b3V0Iik7Cgp2YXIgX3dvcmtwYWQgPSByZXF1aXJlKCIuLi8uLi8uLi9zdGF0ZS9zZWxlY3RvcnMvd29ya3BhZCIpOwoKdmFyIF9mdW5jdGlvbmFsID0gcmVxdWlyZSgiLi4vLi4vLi4vbGliL2Flcm9lbGFzdGljL2Z1bmN0aW9uYWwiKTsKCnZhciBfYXBwID0gcmVxdWlyZSgiLi4vLi4vLi4vc3RhdGUvc2VsZWN0b3JzL2FwcCIpOwoKdmFyIF9lbGVtZW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL3N0YXRlL2FjdGlvbnMvZWxlbWVudHMiKTsKCnZhciBfdHJhbnNpZW50ID0gcmVxdWlyZSgiLi4vLi4vLi4vc3RhdGUvYWN0aW9ucy90cmFuc2llbnQiKTsKCnZhciBfaW50ZWdyYXRpb25fdXRpbHMgPSByZXF1aXJlKCIuLi9pbnRlZ3JhdGlvbl91dGlscyIpOwoKdmFyIF9saWIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb21tb24vbGliIik7Cgp2YXIgX2ludGVyYWN0aXZlX3dvcmtwYWRfcGFnZSA9IHJlcXVpcmUoIi4vaW50ZXJhY3RpdmVfd29ya3BhZF9wYWdlIik7Cgp2YXIgX2V2ZW50X2hhbmRsZXJzID0gcmVxdWlyZSgiLi9ldmVudF9oYW5kbGVycyIpOwoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgY29uZmlndXJhdGlvbiA9IHsKICBnZXRBZEhvY0NoaWxkQW5ub3RhdGlvbk5hbWU6ICdhZEhvY0NoaWxkQW5ub3RhdGlvbicsCiAgYWRIb2NHcm91cE5hbWU6ICdhZEhvY0dyb3VwJywKICBhbGlnbm1lbnRHdWlkZU5hbWU6ICdhbGlnbm1lbnRHdWlkZScsCiAgYXRvcFo6IDEwMDAsCiAgZGVwdGhTZWxlY3Q6IHRydWUsCiAgZGV2Q29sb3I6ICdtYWdlbnRhJywKICBkcmFnQm94QW5ub3RhdGlvbk5hbWU6ICdkcmFnQm94QW5ub3RhdGlvbicsCiAgZHJhZ0JveFo6IDEwNTAsCiAgLy8gYWJvdmUgYWxpZ25tZW50IGd1aWRlcyBidXQgYmVsb3cgdGhlIHVwY29taW5nIGhvdmVyIHRvb2x0aXAKICBncm91cE5hbWU6ICdncm91cCcsCiAgZ3JvdXBSZXNpemU6IHRydWUsCiAgZ3VpZGVEaXN0YW5jZTogMywKICBob3ZlckFubm90YXRpb25OYW1lOiAnaG92ZXJBbm5vdGF0aW9uJywKICBob3ZlckxpZnQ6IDEwMCwKICBpbnRyYUdyb3VwTWFuaXB1bGF0aW9uOiBmYWxzZSwKICBpbnRyYUdyb3VwU25hcE9ubHk6IGZhbHNlLAogIG1pbmltdW1FbGVtZW50U2l6ZTogMiwKICBwZXJzaXN0ZW50R3JvdXBOYW1lOiAncGVyc2lzdGVudEdyb3VwJywKICByZXNpemVBbm5vdGF0aW9uQ29ubmVjdG9yT2Zmc2V0OiAwLAogIHJlc2l6ZUFubm90YXRpb25PZmZzZXQ6IDAsCiAgcmVzaXplQW5ub3RhdGlvbk9mZnNldFo6IDAuMSwKICAvLyBjYXVzZXMgcmVzaXplIG1hcmtlcnMgdG8gYmUgc2xpZ2h0bHkgYWJvdmUgdGhlIHNoYXBlIHBsYW5lCiAgcmVzaXplQW5ub3RhdGlvblNpemU6IDEwLAogIHJlc2l6ZUNvbm5lY3Rvck5hbWU6ICdyZXNpemVDb25uZWN0b3InLAogIHJlc2l6ZUhhbmRsZU5hbWU6ICdyZXNpemVIYW5kbGUnLAogIHJvdGF0ZUFubm90YXRpb25PZmZzZXQ6IDEyLAogIHJvdGF0ZVNuYXBJblBpeGVsczogMTAsCiAgcm90YXRpb25FcHNpbG9uOiAwLjAwMSwKICByb3RhdGlvbkhhbmRsZU5hbWU6ICdyb3RhdGlvbkhhbmRsZScsCiAgcm90YXRpb25IYW5kbGVTaXplOiAxNCwKICByb3RhdGlvblRvb2x0aXBOYW1lOiAncm90YXRpb25Ub29sdGlwJywKICBzaG9ydGN1dHM6IGZhbHNlLAogIHNpbmdsZVNlbGVjdDogZmFsc2UsCiAgc25hcENvbnN0cmFpbnQ6IHRydWUsCiAgdG9vbHRpcFo6IDExMDAKfTsgLy8gUG9seWZpbGwgZm9yIGJyb3dzZXJzIChJRTExKSB0aGF0IGRvbid0IGhhdmUgZWxlbWVudC5jbG9zZXN0Ci8vIEZyb206IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L2Nsb3Nlc3QKCmZ1bmN0aW9uIGNsb3Nlc3QocykgewogIHZhciBlbCA9IHRoaXM7CiAgdmFyIG1hdGNoRm4gPSBlbC5tYXRjaGVzID8gJ21hdGNoZXMnIDogJ21zTWF0Y2hlc1NlbGVjdG9yJzsKCiAgZG8gewogICAgaWYgKGVsW21hdGNoRm5dKHMpKSB7CiAgICAgIHJldHVybiBlbDsKICAgIH0KCiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQgfHwgZWwucGFyZW50Tm9kZTsKICB9IHdoaWxlIChlbCAhPT0gbnVsbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSk7CgogIHJldHVybiBudWxsOwp9IC8vIElmIHlvdSBpbnRlcmFjdCB3aXRoIGFuIGVtYmVkZGFibGUgcGFuZWwsIG9ubHkgdGhlIGhlYWRlciBzaG91bGQgYmUgZHJhZ2dhYmxlCi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBkZXRlcm1pbmUgaWYgYW4gZWxlbWVudCBpcyBhbiBlbWJlZGRhYmxlIGJvZHkgb3Igbm90CgoKdmFyIGlzRW1iZWRkYWJsZUJvZHkgPSBmdW5jdGlvbiBpc0VtYmVkZGFibGVCb2R5KGVsZW1lbnQpIHsKICB2YXIgaGFzQ2xvc2VzdCA9IHR5cGVvZiBlbGVtZW50LmNsb3Nlc3QgPT09ICdmdW5jdGlvbic7CgogIGlmIChoYXNDbG9zZXN0KSB7CiAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KCIuIi5jb25jYXQoX2xpYi5DQU5WQVNfRU1CRUREQUJMRV9DTEFTU05BTUUpKSAmJiAhZWxlbWVudC5jbG9zZXN0KCcuZW1iUGFuZWxfX2hlYWRlcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gY2xvc2VzdC5jYWxsKGVsZW1lbnQsICIuIi5jb25jYXQoX2xpYi5DQU5WQVNfRU1CRUREQUJMRV9DTEFTU05BTUUpKSAmJiAhY2xvc2VzdC5jYWxsKGVsZW1lbnQsICcuZW1iUGFuZWxfX2hlYWRlcicpOwogIH0KfTsgLy8gU29tZSBlbGVtZW50cyBpbiBhbiBlbWJlZGRhYmxlIG1heSBiZSBwb3J0YWxlZCBvdXQgb2YgdGhlIGVtYmVkZGFibGUgY29udGFpbmVyLgovLyBXZSBkbyBub3Qgd2FudCBjbGlja3Mgb24gdGhvc2UgdG8gdHJpZ2dlciBkcmFncywgZXRjLCBpbiB0aGUgd29ya3BhZC4gVGhpcyBmdW5jdGlvbgovLyB3aWxsIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgY2xpY2tlZCBpdGVtIGlzIGFjdHVhbGx5IGluIHRoZSBjb250YWluZXIKCgp2YXIgaXNJbldvcmtwYWQgPSBmdW5jdGlvbiBpc0luV29ya3BhZChlbGVtZW50KSB7CiAgdmFyIGhhc0Nsb3Nlc3QgPSB0eXBlb2YgZWxlbWVudC5jbG9zZXN0ID09PSAnZnVuY3Rpb24nOwogIHZhciB3b3JrcGFkQ29udGFpbmVyU2VsZWN0b3IgPSAnLmNhbnZhc1dvcmtwYWRDb250YWluZXInOwoKICBpZiAoaGFzQ2xvc2VzdCkgewogICAgcmV0dXJuICEhZWxlbWVudC5jbG9zZXN0KHdvcmtwYWRDb250YWluZXJTZWxlY3Rvcik7CiAgfSBlbHNlIHsKICAgIHJldHVybiAhIWNsb3Nlc3QuY2FsbChlbGVtZW50LCB3b3JrcGFkQ29udGFpbmVyU2VsZWN0b3IpOwogIH0KfTsKCnZhciBjb21wb25lbnRMYXlvdXRTdGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudExheW91dFN0YXRlKF9yZWYpIHsKICB2YXIgYWVyb1N0b3JlID0gX3JlZi5hZXJvU3RvcmUsCiAgICAgIHNldEFlcm9TdG9yZSA9IF9yZWYuc2V0QWVyb1N0b3JlLAogICAgICBlbGVtZW50cyA9IF9yZWYuZWxlbWVudHMsCiAgICAgIHNlbGVjdGVkVG9wbGV2ZWxOb2RlcyA9IF9yZWYuc2VsZWN0ZWRUb3BsZXZlbE5vZGVzLAogICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCwKICAgICAgd2lkdGggPSBfcmVmLndpZHRoOwogIHZhciBzaGFwZXMgPSAoMCwgX2ludGVncmF0aW9uX3V0aWxzLnNoYXBlc0Zvck5vZGVzKShlbGVtZW50cyk7CiAgdmFyIHNlbGVjdGVkU2hhcGVzID0gc2VsZWN0ZWRUb3BsZXZlbE5vZGVzLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIHNoYXBlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHJldHVybiBzLmlkID09PSBlOwogICAgfSk7CiAgfSk7CiAgdmFyIG5ld1N0YXRlID0gewogICAgcHJpbWFyeVVwZGF0ZTogbnVsbCwKICAgIGN1cnJlbnRTY2VuZTogewogICAgICBzaGFwZXM6IHNoYXBlcywKICAgICAgY29uZmlndXJhdGlvbjogX29iamVjdFNwcmVhZCh7fSwgY29uZmlndXJhdGlvbiwgewogICAgICAgIHBhZ2VIZWlnaHQ6IGhlaWdodCwKICAgICAgICBwYWdlV2lkdGg6IHdpZHRoCiAgICAgIH0pLAogICAgICBzZWxlY3RlZFNoYXBlczogc2VsZWN0ZWRTaGFwZXMsCiAgICAgIHNlbGVjdGlvblN0YXRlOiBhZXJvU3RvcmUgPyBhZXJvU3RvcmUuZ2V0Q3VycmVudFN0YXRlKCkuY3VycmVudFNjZW5lLnNlbGVjdGlvblN0YXRlIDogewogICAgICAgIHVpZDogMCwKICAgICAgICBkZXB0aEluZGV4OiAwLAogICAgICAgIGRvd246IGZhbHNlCiAgICAgIH0sCiAgICAgIGdlc3R1cmVTdGF0ZTogYWVyb1N0b3JlID8gYWVyb1N0b3JlLmdldEN1cnJlbnRTdGF0ZSgpLmN1cnJlbnRTY2VuZS5nZXN0dXJlU3RhdGUgOiB7CiAgICAgICAgY3Vyc29yOiB7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMAogICAgICAgIH0sCiAgICAgICAgbW91c2VJc0Rvd246IGZhbHNlLAogICAgICAgIG1vdXNlQnV0dG9uU3RhdGU6IHsKICAgICAgICAgIGJ1dHRvblN0YXRlOiAndXAnLAogICAgICAgICAgZG93blg6IG51bGwsCiAgICAgICAgICBkb3duWTogbnVsbAogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIGlmIChhZXJvU3RvcmUpIHsKICAgIGFlcm9TdG9yZS5zZXRDdXJyZW50U3RhdGUobmV3U3RhdGUpOwogIH0gZWxzZSB7CiAgICBzZXRBZXJvU3RvcmUoYWVyb1N0b3JlID0gKDAsIF9zdG9yZS5jcmVhdGVTdG9yZSkobmV3U3RhdGUsIF9sYXlvdXQudXBkYXRlcikpOwogIH0KCiAgcmV0dXJuIHsKICAgIGFlcm9TdG9yZTogYWVyb1N0b3JlCiAgfTsKfTsKCnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKSB7CiAgdmFyIHNlbGVjdGVkVG9wbGV2ZWxOb2RlcyA9IHN0YXRlLnRyYW5zaWVudC5zZWxlY3RlZFRvcGxldmVsTm9kZXM7CiAgdmFyIG5vZGVzID0gKDAsIF93b3JrcGFkLmdldE5vZGVzKShzdGF0ZSwgb3duUHJvcHMucGFnZUlkKTsKICB2YXIgc2VsZWN0ZWRQcmltYXJ5U2hhcGVPYmplY3RzID0gc2VsZWN0ZWRUb3BsZXZlbE5vZGVzLm1hcChmdW5jdGlvbiAoaWQpIHsKICAgIHJldHVybiBub2Rlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHJldHVybiBzLmlkID09PSBpZDsKICAgIH0pOwogIH0pLmZpbHRlcihmdW5jdGlvbiAoc2hhcGUpIHsKICAgIHJldHVybiBzaGFwZTsKICB9KTsKICB2YXIgc2VsZWN0ZWRQZXJzaXN0ZW50UHJpbWFyeU5vZGVzID0gKDAsIF9mdW5jdGlvbmFsLmZsYXR0ZW4pKHNlbGVjdGVkUHJpbWFyeVNoYXBlT2JqZWN0cy5tYXAoZnVuY3Rpb24gKHNoYXBlKSB7CiAgICByZXR1cm4gbm9kZXMuZmluZChmdW5jdGlvbiAobikgewogICAgICByZXR1cm4gbi5pZCA9PT0gc2hhcGUuaWQ7CiAgICB9KSAvLyBpcyBpdCBhIGxlYWYgb3IgYSBwZXJzaXN0ZWQgZ3JvdXA/CiAgICA/IFtzaGFwZS5pZF0gOiBub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsKICAgICAgcmV0dXJuIHMucGFyZW50ID09PSBzaGFwZS5pZDsKICAgIH0pLm1hcChmdW5jdGlvbiAocykgewogICAgICByZXR1cm4gcy5pZDsKICAgIH0pOwogIH0pKTsKICB2YXIgc2VsZWN0ZWROb2RlSWRzID0gKDAsIF9mdW5jdGlvbmFsLmZsYXR0ZW4pKHNlbGVjdGVkUGVyc2lzdGVudFByaW1hcnlOb2Rlcy5tYXAoKDAsIF9pbnRlZ3JhdGlvbl91dGlscy5jcmF3bFRyZWUpKG5vZGVzKSkpOwogIHJldHVybiB7CiAgICBzdGF0ZTogc3RhdGUsCiAgICBpc0VkaXRhYmxlOiAhKDAsIF9hcHAuZ2V0RnVsbHNjcmVlbikoc3RhdGUpICYmICgwLCBfd29ya3BhZC5pc1dyaXRlYWJsZSkoc3RhdGUpICYmICgwLCBfYXBwLmNhblVzZXJXcml0ZSkoc3RhdGUpLAogICAgZWxlbWVudHM6IG5vZGVzLAogICAgc2VsZWN0ZWRUb3BsZXZlbE5vZGVzOiBzZWxlY3RlZFRvcGxldmVsTm9kZXMsCiAgICBzZWxlY3RlZE5vZGVzOiBzZWxlY3RlZE5vZGVJZHMubWFwKGZ1bmN0aW9uIChpZCkgewogICAgICByZXR1cm4gbm9kZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLmlkID09PSBpZDsKICAgICAgfSk7CiAgICB9KSwKICAgIHBhZ2VTdHlsZTogKDAsIF93b3JrcGFkLmdldFBhZ2VCeUlkKShzdGF0ZSwgb3duUHJvcHMucGFnZUlkKS5zdHlsZSwKICAgIHpvb21TY2FsZTogKDAsIF9hcHAuZ2V0Wm9vbVNjYWxlKShzdGF0ZSkKICB9Owp9OwoKdmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkgewogIHJldHVybiB7CiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsCiAgICBpbnNlcnROb2RlczogZnVuY3Rpb24gaW5zZXJ0Tm9kZXMoc2VsZWN0ZWROb2RlcywgcGFnZUlkKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2VsZW1lbnRzLmluc2VydE5vZGVzKShzZWxlY3RlZE5vZGVzLCBwYWdlSWQpKTsKICAgIH0sCiAgICByZW1vdmVOb2RlczogZnVuY3Rpb24gcmVtb3ZlTm9kZXMobm9kZUlkcywgcGFnZUlkKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2VsZW1lbnRzLnJlbW92ZUVsZW1lbnRzKShub2RlSWRzLCBwYWdlSWQpKTsKICAgIH0sCiAgICBzZWxlY3RUb3BsZXZlbE5vZGVzOiBmdW5jdGlvbiBzZWxlY3RUb3BsZXZlbE5vZGVzKG5vZGVzKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX3RyYW5zaWVudC5zZWxlY3RUb3BsZXZlbE5vZGVzKShub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gIWUucG9zaXRpb24ucGFyZW50OwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZDsKICAgICAgfSkpKTsKICAgIH0sCiAgICBlbGVtZW50TGF5ZXI6IGZ1bmN0aW9uIGVsZW1lbnRMYXllcihwYWdlSWQsIGVsZW1lbnRJZCwgbW92ZW1lbnQpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZWxlbWVudHMuZWxlbWVudExheWVyKSh7CiAgICAgICAgcGFnZUlkOiBwYWdlSWQsCiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWQsCiAgICAgICAgbW92ZW1lbnQ6IG1vdmVtZW50CiAgICAgIH0pKTsKICAgIH0sCiAgICBzZXRNdWx0aXBsZVBvc2l0aW9uczogZnVuY3Rpb24gc2V0TXVsdGlwbGVQb3NpdGlvbnMocGFnZUlkKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAocmVwb3NpdGlvbmVkTm9kZXMpIHsKICAgICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9lbGVtZW50cy5zZXRNdWx0aXBsZVBvc2l0aW9ucykocmVwb3NpdGlvbmVkTm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgbm9kZSwgewogICAgICAgICAgICBwYWdlSWQ6IHBhZ2VJZCwKICAgICAgICAgICAgZWxlbWVudElkOiBub2RlLmlkCiAgICAgICAgICB9KTsKICAgICAgICB9KSkpOwogICAgICB9OwogICAgfQogIH07Cn07Cgp2YXIgbWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIG1lcmdlUHJvcHMoX3JlZjMsIF9yZWYyLCBvd25Qcm9wcykgewogIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlLAogICAgICByZXN0U3RhdGVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMywgWyJzdGF0ZSJdKTsKCiAgdmFyIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2gsCiAgICAgIHJlc3REaXNwYXRjaFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbImRpc3BhdGNoIl0pOwoKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgb3duUHJvcHMsIHt9LCByZXN0RGlzcGF0Y2hQcm9wcywge30sIHJlc3RTdGF0ZVByb3BzLCB7CiAgICB1cGRhdGVHbG9iYWxTdGF0ZTogKDAsIF9pbnRlZ3JhdGlvbl91dGlscy5nbG9iYWxTdGF0ZVVwZGF0ZXIpKGRpc3BhdGNoLCBzdGF0ZSksCiAgICBzZXRNdWx0aXBsZVBvc2l0aW9uczogcmVzdERpc3BhdGNoUHJvcHMuc2V0TXVsdGlwbGVQb3NpdGlvbnMob3duUHJvcHMucGFnZUlkKQogIH0pOwp9OwoKdmFyIEludGVyYWN0aXZlUGFnZSA9ICgwLCBfcmVjb21wb3NlLmNvbXBvc2UpKCgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcyksICgwLCBfcmVjb21wb3NlLndpdGhTdGF0ZSkoJ2Flcm9TdG9yZScsICdzZXRBZXJvU3RvcmUnKSwgKDAsIF9yZWNvbXBvc2Uud2l0aFByb3BzKShjb21wb25lbnRMYXlvdXRTdGF0ZSksICgwLCBfcmVjb21wb3NlLndpdGhQcm9wcykoZnVuY3Rpb24gKF9yZWY0KSB7CiAgdmFyIGFlcm9TdG9yZSA9IF9yZWY0LmFlcm9TdG9yZSwKICAgICAgdXBkYXRlR2xvYmFsU3RhdGUgPSBfcmVmNC51cGRhdGVHbG9iYWxTdGF0ZTsKICByZXR1cm4gewogICAgY29tbWl0OiBmdW5jdGlvbiBjb21taXQodHlwZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3TGF5b3V0U3RhdGUgPSBhZXJvU3RvcmUuY29tbWl0KHR5cGUsIHBheWxvYWQpOwoKICAgICAgaWYgKG5ld0xheW91dFN0YXRlLmN1cnJlbnRTY2VuZS5nZXN0dXJlRW5kKSB7CiAgICAgICAgdXBkYXRlR2xvYmFsU3RhdGUobmV3TGF5b3V0U3RhdGUpOwogICAgICB9CiAgICB9CiAgfTsKfSksICgwLCBfcmVjb21wb3NlLmxpZmVjeWNsZSkoewogIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgIHRoaXMucHJvcHMudW5yZWdpc3RlckxheW91dCh0aGlzLnByb3BzLmFlcm9TdG9yZSk7CiAgfQp9KSwgKDAsIF9yZWNvbXBvc2Uud2l0aFN0YXRlKSgnY2FudmFzT3JpZ2luJywgJ3NhdmVDYW52YXNPcmlnaW4nKSwgKDAsIF9yZWNvbXBvc2Uud2l0aFN0YXRlKSgnX2ZvcmNlUmVyZW5kZXInLCAnZm9yY2VSZXJlbmRlcicpLCAoMCwgX3JlY29tcG9zZS53aXRoUHJvcHMpKGZ1bmN0aW9uIChfcmVmNSkgewogIHZhciByZWdpc3RlckxheW91dCA9IF9yZWY1LnJlZ2lzdGVyTGF5b3V0LAogICAgICBhZXJvU3RvcmUgPSBfcmVmNS5hZXJvU3RvcmUsCiAgICAgIHVwZGF0ZUdsb2JhbFN0YXRlID0gX3JlZjUudXBkYXRlR2xvYmFsU3RhdGUsCiAgICAgIGZvcmNlUmVyZW5kZXIgPSBfcmVmNS5mb3JjZVJlcmVuZGVyOwogIHJlZ2lzdGVyTGF5b3V0KGZ1bmN0aW9uICh0eXBlLCBwYXlsb2FkKSB7CiAgICB2YXIgbmV3TGF5b3V0U3RhdGUgPSBhZXJvU3RvcmUuY29tbWl0KHR5cGUsIHBheWxvYWQpOwoKICAgIGlmIChuZXdMYXlvdXRTdGF0ZS5jdXJyZW50U2NlbmUuZ2VzdHVyZUVuZCkgewogICAgICAvLyBjb25kaXRpb25hbGl6aW5nIHRoZSBnbG9iYWwgdXBkYXRlIHNvIGFzIHRvIGVuYWJsZSBwZXJzaXN0LWZyZWUgbnVkZ2Ugc2VyaWVzCiAgICAgIHVwZGF0ZUdsb2JhbFN0YXRlKG5ld0xheW91dFN0YXRlKTsKICAgIH0KCiAgICBmb3JjZVJlcmVuZGVyKG5ld0xheW91dFN0YXRlKTsKICAgIHJldHVybiBuZXdMYXlvdXRTdGF0ZTsKICB9KTsKICByZXR1cm4gewogICAgY3Vyc29yOiBhZXJvU3RvcmUuZ2V0Q3VycmVudFN0YXRlKCkuY3VycmVudFNjZW5lLmN1cnNvcgogIH07Cn0pLCAoMCwgX3JlY29tcG9zZS53aXRoUHJvcHMpKGZ1bmN0aW9uIChfcmVmNikgewogIHZhciBhZXJvU3RvcmUgPSBfcmVmNi5hZXJvU3RvcmUsCiAgICAgIGVsZW1lbnRzID0gX3JlZjYuZWxlbWVudHM7CiAgdmFyIGVsZW1lbnRMb29rdXAgPSBuZXcgTWFwKGVsZW1lbnRzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgcmV0dXJuIFtlbGVtZW50LmlkLCBlbGVtZW50XTsKICB9KSk7CiAgdmFyIGVsZW1lbnRzVG9SZW5kZXIgPSBhZXJvU3RvcmUuZ2V0Q3VycmVudFN0YXRlKCkuY3VycmVudFNjZW5lLnNoYXBlcy5tYXAoZnVuY3Rpb24gKHNoYXBlKSB7CiAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRMb29rdXAuZ2V0KHNoYXBlLmlkKTsKICAgIHJldHVybiBlbGVtZW50ID8gX29iamVjdFNwcmVhZCh7fSwgc2hhcGUsIHsKICAgICAgd2lkdGg6IHNoYXBlLmEgKiAyLAogICAgICBoZWlnaHQ6IHNoYXBlLmIgKiAyLAogICAgICBmaWx0ZXI6IGVsZW1lbnQuZmlsdGVyCiAgICB9KSA6IHNoYXBlOwogIH0pOwogIHJldHVybiB7CiAgICBlbGVtZW50czogZWxlbWVudHNUb1JlbmRlcgogIH07Cn0pLCAoMCwgX3JlY29tcG9zZS53aXRoUHJvcHMpKGZ1bmN0aW9uIChfcmVmNykgewogIHZhciBfY29tbWl0ID0gX3JlZjcuY29tbWl0LAogICAgICBmb3JjZVJlcmVuZGVyID0gX3JlZjcuZm9yY2VSZXJlbmRlcjsKICByZXR1cm4gewogICAgY29tbWl0OiBmdW5jdGlvbiBjb21taXQoKSB7CiAgICAgIHJldHVybiBmb3JjZVJlcmVuZGVyKF9jb21taXQuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTsKICAgIH0KICB9Owp9KSwgKDAsIF9yZWNvbXBvc2Uud2l0aFByb3BzKShmdW5jdGlvbiAoKSB7CiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgcHJvcHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgfQoKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcHJvcHMsIHsKICAgIGNhbkRyYWdFbGVtZW50OiBmdW5jdGlvbiBjYW5EcmFnRWxlbWVudChlbGVtZW50KSB7CiAgICAgIHJldHVybiAhaXNFbWJlZGRhYmxlQm9keShlbGVtZW50KSAmJiBpc0luV29ya3BhZChlbGVtZW50KTsKICAgICAgdmFyIGhhc0Nsb3Nlc3QgPSB0eXBlb2YgZWxlbWVudC5jbG9zZXN0ID09PSAnZnVuY3Rpb24nOwoKICAgICAgaWYgKGhhc0Nsb3Nlc3QpIHsKICAgICAgICByZXR1cm4gIWVsZW1lbnQuY2xvc2VzdCgnLmVtYmVkZGFibGUnKSB8fCBlbGVtZW50LmNsb3Nlc3QoJy5lbWJQYW5lbF9faGVhZGVyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICFjbG9zZXN0LmNhbGwoZWxlbWVudCwgJy5lbWJlZGRhYmxlJykgfHwgY2xvc2VzdC5jYWxsKGVsZW1lbnQsICcuZW1iUGFuZWxfX2hlYWRlcicpOwogICAgICB9CiAgICB9CiAgfSk7Cn0pLCAoMCwgX3JlY29tcG9zZS53aXRoSGFuZGxlcnMpKF9ldmVudF9oYW5kbGVycy5ldmVudEhhbmRsZXJzKSwgLy8gQ2FwdHVyZXMgdXNlciBpbnRlbnQsIG5lZWRzIHRvIGhhdmUgcmVjb25jaWxlZCBzdGF0ZQpmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIF9pbnRlcmFjdGl2ZV93b3JrcGFkX3BhZ2UuSW50ZXJhY3RpdmVXb3JrcGFkUGFnZTsKfSk7CmV4cG9ydHMuSW50ZXJhY3RpdmVQYWdlID0gSW50ZXJhY3RpdmVQYWdlOw=="},null]}