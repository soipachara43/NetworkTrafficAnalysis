{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/apm/public/components/app/Settings/ApmIndices/index.js","dependencies":[{"path":"x-pack/legacy/plugins/apm/public/components/app/Settings/ApmIndices/index.js","mtime":1589249551603},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFwbUluZGljZXMgPSBBcG1JbmRpY2VzOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF91c2VGZXRjaGVyMiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2hvb2tzL3VzZUZldGNoZXIiKTsKCnZhciBfY3JlYXRlQ2FsbEFwbUFwaSA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL3NlcnZpY2VzL3Jlc3QvY3JlYXRlQ2FsbEFwbUFwaSIpOwoKdmFyIF9jYWxsQXBpID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vc2VydmljZXMvcmVzdC9jYWxsQXBpIik7Cgp2YXIgX3VzZUFwbVBsdWdpbkNvbnRleHQgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9ob29rcy91c2VBcG1QbHVnaW5Db250ZXh0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgdHJ5IHsKICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsKICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlamVjdChlcnJvcik7CiAgICByZXR1cm47CiAgfQoKICBpZiAoaW5mby5kb25lKSB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9IGVsc2UgewogICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogIH0KfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgIH0KCiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICB9KTsKICB9Owp9Cgp2YXIgQVBNX0lOREVYX0xBQkVMUyA9IFt7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLnNvdXJjZW1hcEluZGljZXMnLAogIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuc291cmNlbWFwSW5kaWNlc0xhYmVsJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTb3VyY2VtYXAgSW5kaWNlcycKICB9KQp9LCB7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLmVycm9ySW5kaWNlcycsCiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5lcnJvckluZGljZXNMYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnRXJyb3IgSW5kaWNlcycKICB9KQp9LCB7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLm9uYm9hcmRpbmdJbmRpY2VzJywKICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLm9uYm9hcmRpbmdJbmRpY2VzTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ09uYm9hcmRpbmcgSW5kaWNlcycKICB9KQp9LCB7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLnNwYW5JbmRpY2VzJywKICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLnNwYW5JbmRpY2VzTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1NwYW4gSW5kaWNlcycKICB9KQp9LCB7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLnRyYW5zYWN0aW9uSW5kaWNlcycsCiAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy50cmFuc2FjdGlvbkluZGljZXNMYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnVHJhbnNhY3Rpb24gSW5kaWNlcycKICB9KQp9LCB7CiAgY29uZmlndXJhdGlvbk5hbWU6ICdhcG1fb3NzLm1ldHJpY3NJbmRpY2VzJywKICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLm1ldHJpY3NJbmRpY2VzTGFiZWwnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ01ldHJpY3MgSW5kaWNlcycKICB9KQp9XTsKCmZ1bmN0aW9uIHNhdmVBcG1JbmRpY2VzKF94KSB7CiAgcmV0dXJuIF9zYXZlQXBtSW5kaWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIGF2b2lkIGluZmluaXRlIGxvb3AgYnkgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZSBvdXRzaWRlIHRoZSBjb21wb25lbnQKCgpmdW5jdGlvbiBfc2F2ZUFwbUluZGljZXMoKSB7CiAgX3NhdmVBcG1JbmRpY2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKF9yZWY2KSB7CiAgICB2YXIgYXBtSW5kaWNlczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGFwbUluZGljZXMgPSBfcmVmNi5hcG1JbmRpY2VzOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiAoMCwgX2NyZWF0ZUNhbGxBcG1BcGkuY2FsbEFwbUFwaSkoewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2FwaS9hcG0vc2V0dGluZ3MvYXBtLWluZGljZXMvc2F2ZScsCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBib2R5OiBhcG1JbmRpY2VzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICgwLCBfY2FsbEFwaS5jbGVhckNhY2hlKSgpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX3NhdmVBcG1JbmRpY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCnZhciBJTklUSUFMX1NUQVRFID0gW107CgpmdW5jdGlvbiBBcG1JbmRpY2VzKCkgewogIHZhciB0b2FzdHMgPSAoMCwgX3VzZUFwbVBsdWdpbkNvbnRleHQudXNlQXBtUGx1Z2luQ29udGV4dCkoKS5jb3JlLm5vdGlmaWNhdGlvbnMudG9hc3RzOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoe30pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgYXBtSW5kaWNlcyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldEFwbUluZGljZXMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpc1NhdmluZyA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldElzU2F2aW5nID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VGZXRjaGVyID0gKDAsIF91c2VGZXRjaGVyMi51c2VGZXRjaGVyKShmdW5jdGlvbiAoX2NhbGxBcG1BcGkpIHsKICAgIHJldHVybiBfY2FsbEFwbUFwaSh7CiAgICAgIHBhdGhuYW1lOiAiL2FwaS9hcG0vc2V0dGluZ3MvYXBtLWluZGV4LXNldHRpbmdzIgogICAgfSk7CiAgfSwgW10pLAogICAgICBfdXNlRmV0Y2hlciRkYXRhID0gX3VzZUZldGNoZXIuZGF0YSwKICAgICAgZGF0YSA9IF91c2VGZXRjaGVyJGRhdGEgPT09IHZvaWQgMCA/IElOSVRJQUxfU1RBVEUgOiBfdXNlRmV0Y2hlciRkYXRhLAogICAgICBzdGF0dXMgPSBfdXNlRmV0Y2hlci5zdGF0dXMsCiAgICAgIHJlZmV0Y2ggPSBfdXNlRmV0Y2hlci5yZWZldGNoOwoKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgc2V0QXBtSW5kaWNlcyhkYXRhLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfcmVmKSB7CiAgICAgIHZhciBjb25maWd1cmF0aW9uTmFtZSA9IF9yZWYuY29uZmlndXJhdGlvbk5hbWUsCiAgICAgICAgICBzYXZlZFZhbHVlID0gX3JlZi5zYXZlZFZhbHVlOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYWNjLCBfZGVmaW5lUHJvcGVydHkoe30sIGNvbmZpZ3VyYXRpb25OYW1lLCBzYXZlZFZhbHVlKSk7CiAgICB9LCB7fSkpOwogIH0sIFtkYXRhXSk7CgogIHZhciBoYW5kbGVBcHBseUNoYW5nZXNFdmVudCA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShldmVudCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKTsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gc2F2ZUFwbUluZGljZXMoewogICAgICAgICAgICAgICAgYXBtSW5kaWNlczogYXBtSW5kaWNlcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHRvYXN0cy5hZGRTdWNjZXNzKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuYXBwbHlDaGFuZ2VzLnN1Y2NlZWRlZC50aXRsZScsIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdJbmRpY2VzIGFwcGxpZWQnCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHRleHQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5hcHBseUNoYW5nZXMuc3VjY2VlZGVkLnRleHQnLCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIGluZGljZXMgY2hhbmdlcyB3ZXJlIHN1Y2Nlc3NmdWxseSBhcHBsaWVkLiBUaGVzZSBjaGFuZ2VzIGFyZSByZWZsZWN0ZWQgaW1tZWRpYXRlbHkgaW4gdGhlIEFQTSBVSScKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgdG9hc3RzLmFkZERhbmdlcih7CiAgICAgICAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLmFwcGx5Q2hhbmdlcy5mYWlsZWQudGl0bGUnLCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5kaWNlcyBjb3VsZCBub3QgYmUgYXBwbGllZC4nCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHRleHQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5hcHBseUNoYW5nZXMuZmFpbGVkLnRleHQnLCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBhcHBseWluZyBpbmRpY2VzLiBFcnJvcjoge2Vycm9yTWVzc2FnZX0nLAogICAgICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IF9jb250ZXh0LnQwLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA4XV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVBcHBseUNoYW5nZXNFdmVudChfeDIpIHsKICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIGhhbmRsZUNoYW5nZUluZGV4Q29uZmlndXJhdGlvbkV2ZW50ID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihldmVudCkgewogICAgICB2YXIgX2V2ZW50JHRhcmdldCwgbmFtZSwgdmFsdWU7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9ldmVudCR0YXJnZXQgPSBldmVudC50YXJnZXQsIG5hbWUgPSBfZXZlbnQkdGFyZ2V0Lm5hbWUsIHZhbHVlID0gX2V2ZW50JHRhcmdldC52YWx1ZTsKICAgICAgICAgICAgICBzZXRBcG1JbmRpY2VzKF9vYmplY3RTcHJlYWQoe30sIGFwbUluZGljZXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdmFsdWUpKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUluZGV4Q29uZmlndXJhdGlvbkV2ZW50KF94MykgewogICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhbmVsLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImgyIiwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLnRpdGxlJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdJbmRpY2VzJwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgc2l6ZTogInMiLAogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5zZXR0aW5ncy5hcG1JbmRpY2VzLmRlc2NyaXB0aW9uJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgQVBNIFVJIHVzZXMgaW5kZXggcGF0dGVybnMgdG8gcXVlcnkgeW91ciBBUE0gaW5kaWNlcy4gSWYgeW91J3ZlIGN1c3RvbWl6ZWQgdGhlIGluZGV4IG5hbWVzIHRoYXQgQVBNIFNlcnZlciB3cml0ZXMgZXZlbnRzIHRvLCB5b3UgbWF5IG5lZWQgdG8gdXBkYXRlIHRoZXNlIHBhdHRlcm5zIGZvciB0aGUgQVBNIFVJIHRvIHdvcmsuIFNldHRpbmdzIGhlcmUgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhvc2Ugc2V0IGluIGtpYmFuYS55bWwuIgogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIG51bGwsIEFQTV9JTkRFWF9MQUJFTFMubWFwKGZ1bmN0aW9uIChfcmVmNCkgewogICAgdmFyIGNvbmZpZ3VyYXRpb25OYW1lID0gX3JlZjQuY29uZmlndXJhdGlvbk5hbWUsCiAgICAgICAgbGFiZWwgPSBfcmVmNC5sYWJlbDsKICAgIHZhciBtYXRjaGVkQ29uZmlndXJhdGlvbiA9IGRhdGEuZmluZChmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgdmFyIGNvbmZpZ05hbWUgPSBfcmVmNS5jb25maWd1cmF0aW9uTmFtZTsKICAgICAgcmV0dXJuIGNvbmZpZ05hbWUgPT09IGNvbmZpZ3VyYXRpb25OYW1lOwogICAgfSk7CiAgICB2YXIgZGVmYXVsdFZhbHVlID0gbWF0Y2hlZENvbmZpZ3VyYXRpb24gPyBtYXRjaGVkQ29uZmlndXJhdGlvbi5kZWZhdWx0VmFsdWUgOiAnJzsKICAgIHZhciBzYXZlZFVpSW5kZXhWYWx1ZSA9IGFwbUluZGljZXNbY29uZmlndXJhdGlvbk5hbWVdIHx8ICcnOwogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgIGtleTogY29uZmlndXJhdGlvbk5hbWUsCiAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgaGVscFRleHQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uc2V0dGluZ3MuYXBtSW5kaWNlcy5oZWxwVGV4dCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ092ZXJyaWRlcyB7Y29uZmlndXJhdGlvbk5hbWV9OiB7ZGVmYXVsdFZhbHVlfScsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBjb25maWd1cmF0aW9uTmFtZTogY29uZmlndXJhdGlvbk5hbWUsCiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZQogICAgICAgIH0KICAgICAgfSksCiAgICAgIGZ1bGxXaWR0aDogdHJ1ZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgICBmdWxsV2lkdGg6IHRydWUsCiAgICAgIG5hbWU6IGNvbmZpZ3VyYXRpb25OYW1lLAogICAgICBwbGFjZWhvbGRlcjogZGVmYXVsdFZhbHVlLAogICAgICB2YWx1ZTogc2F2ZWRVaUluZGV4VmFsdWUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2VJbmRleENvbmZpZ3VyYXRpb25FdmVudAogICAgfSkpOwogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCBudWxsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAganVzdGlmeUNvbnRlbnQ6ICJmbGV4RW5kIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgIG9uQ2xpY2s6IHJlZmV0Y2gKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuY2FuY2VsQnV0dG9uJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdDYW5jZWwnCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgIGZpbGw6IHRydWUsCiAgICBvbkNsaWNrOiBoYW5kbGVBcHBseUNoYW5nZXNFdmVudCwKICAgIGlzTG9hZGluZzogaXNTYXZpbmcsCiAgICBkaXNhYmxlZDogc3RhdHVzICE9PSAnc3VjY2VzcycKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLnNldHRpbmdzLmFwbUluZGljZXMuYXBwbHlCdXR0b24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0FwcGx5IGNoYW5nZXMnCiAgfSkpKSkpKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibSIKICB9KSk7Cn0="},null]}