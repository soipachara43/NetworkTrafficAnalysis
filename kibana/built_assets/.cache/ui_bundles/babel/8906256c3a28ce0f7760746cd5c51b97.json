{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/containers/network_dns/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/containers/network_dns/index.js","mtime":1589249553240},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuTmV0d29ya0Ruc0hpc3RvZ3JhbVF1ZXJ5ID0gZXhwb3J0cy5OZXR3b3JrRG5zUXVlcnkgPSBleHBvcnRzLk5ldHdvcmtEbnNDb21wb25lbnRRdWVyeSA9IGV4cG9ydHMuSElTVE9HUkFNX0lEID0gdm9pZCAwOwoKdmFyIF9mcCA9IHJlcXVpcmUoImxvZGFzaC9mcCIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3JlYWN0QXBvbGxvID0gcmVxdWlyZSgicmVhY3QtYXBvbGxvIik7Cgp2YXIgX3JlYWN0UmVkdXggPSByZXF1aXJlKCJyZWFjdC1yZWR1eCIpOwoKdmFyIF9yZWR1eCA9IHJlcXVpcmUoInJlZHV4Iik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMiKTsKCnZhciBfc3RvcmUgPSByZXF1aXJlKCIuLi8uLi9zdG9yZSIpOwoKdmFyIF9raWJhbmEgPSByZXF1aXJlKCIuLi8uLi9saWIva2liYW5hIik7Cgp2YXIgX2hlbHBlcnMgPSByZXF1aXJlKCIuLi8uLi9jb21wb25lbnRzL3BhZ2luYXRlZF90YWJsZS9oZWxwZXJzIik7Cgp2YXIgX2hlbHBlcnMyID0gcmVxdWlyZSgiLi4vaGVscGVycyIpOwoKdmFyIF9xdWVyeV90ZW1wbGF0ZV9wYWdpbmF0ZWQgPSByZXF1aXJlKCIuLi9xdWVyeV90ZW1wbGF0ZV9wYWdpbmF0ZWQiKTsKCnZhciBfaW5kZXggPSByZXF1aXJlKCIuL2luZGV4LmdxbF9xdWVyeSIpOwoKdmFyIF9jb25zdGFudHMyID0gcmVxdWlyZSgiLi4vLi4vc3RvcmUvY29uc3RhbnRzIik7Cgp2YXIgX21hdHJpeF9oaXN0b2dyYW0gPSByZXF1aXJlKCIuLi8uLi9jb21wb25lbnRzL21hdHJpeF9oaXN0b2dyYW0iKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9Cgp2YXIgSUQgPSAnbmV0d29ya0Ruc1F1ZXJ5JzsKdmFyIEhJU1RPR1JBTV9JRCA9ICduZXR3b3JrRG5zSGlzdG9ncmFtUXVlcnknOwpleHBvcnRzLkhJU1RPR1JBTV9JRCA9IEhJU1RPR1JBTV9JRDsKCnZhciBOZXR3b3JrRG5zQ29tcG9uZW50UXVlcnkgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUXVlcnlUZW1wbGF0ZVBhZ2luYXQpIHsKICBfaW5oZXJpdHMoTmV0d29ya0Ruc0NvbXBvbmVudFF1ZXJ5LCBfUXVlcnlUZW1wbGF0ZVBhZ2luYXQpOwoKICBmdW5jdGlvbiBOZXR3b3JrRG5zQ29tcG9uZW50UXVlcnkoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmV0d29ya0Ruc0NvbXBvbmVudFF1ZXJ5KTsKCiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE5ldHdvcmtEbnNDb21wb25lbnRRdWVyeSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTmV0d29ya0Ruc0NvbXBvbmVudFF1ZXJ5LCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgYWN0aXZlUGFnZSA9IF90aGlzJHByb3BzLmFjdGl2ZVBhZ2UsCiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLAogICAgICAgICAgc29ydCA9IF90aGlzJHByb3BzLnNvcnQsCiAgICAgICAgICBlbmREYXRlID0gX3RoaXMkcHJvcHMuZW5kRGF0ZSwKICAgICAgICAgIGZpbHRlclF1ZXJ5ID0gX3RoaXMkcHJvcHMuZmlsdGVyUXVlcnksCiAgICAgICAgICBfdGhpcyRwcm9wcyRpZCA9IF90aGlzJHByb3BzLmlkLAogICAgICAgICAgaWQgPSBfdGhpcyRwcm9wcyRpZCA9PT0gdm9pZCAwID8gSUQgOiBfdGhpcyRwcm9wcyRpZCwKICAgICAgICAgIGlzSW5zcGVjdGVkID0gX3RoaXMkcHJvcHMuaXNJbnNwZWN0ZWQsCiAgICAgICAgICBpc1B0ckluY2x1ZGVkID0gX3RoaXMkcHJvcHMuaXNQdHJJbmNsdWRlZCwKICAgICAgICAgIGtpYmFuYSA9IF90aGlzJHByb3BzLmtpYmFuYSwKICAgICAgICAgIGxpbWl0ID0gX3RoaXMkcHJvcHMubGltaXQsCiAgICAgICAgICBza2lwID0gX3RoaXMkcHJvcHMuc2tpcCwKICAgICAgICAgIHNvdXJjZUlkID0gX3RoaXMkcHJvcHMuc291cmNlSWQsCiAgICAgICAgICBzdGFydERhdGUgPSBfdGhpcyRwcm9wcy5zdGFydERhdGU7CiAgICAgIHZhciB2YXJpYWJsZXMgPSB7CiAgICAgICAgZGVmYXVsdEluZGV4OiBraWJhbmEuc2VydmljZXMudWlTZXR0aW5ncy5nZXQoX2NvbnN0YW50cy5ERUZBVUxUX0lOREVYX0tFWSksCiAgICAgICAgZmlsdGVyUXVlcnk6ICgwLCBfaGVscGVyczIuY3JlYXRlRmlsdGVyKShmaWx0ZXJRdWVyeSksCiAgICAgICAgaW5zcGVjdDogaXNJbnNwZWN0ZWQsCiAgICAgICAgaXNQdHJJbmNsdWRlZDogaXNQdHJJbmNsdWRlZCwKICAgICAgICBwYWdpbmF0aW9uOiAoMCwgX2hlbHBlcnMuZ2VuZXJhdGVUYWJsZVBhZ2luYXRpb25PcHRpb25zKShhY3RpdmVQYWdlLCBsaW1pdCksCiAgICAgICAgc29ydDogc29ydCwKICAgICAgICBzb3VyY2VJZDogc291cmNlSWQsCiAgICAgICAgdGltZXJhbmdlOiB7CiAgICAgICAgICBpbnRlcnZhbDogJzEyaCcsCiAgICAgICAgICBmcm9tOiBzdGFydERhdGUsCiAgICAgICAgICB0bzogZW5kRGF0ZQogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0QXBvbGxvLlF1ZXJ5LCB7CiAgICAgICAgZmV0Y2hQb2xpY3k6ICgwLCBfaGVscGVyczIuZ2V0RGVmYXVsdEZldGNoUG9saWN5KSgpLAogICAgICAgIG5vdGlmeU9uTmV0d29ya1N0YXR1c0NoYW5nZTogdHJ1ZSwKICAgICAgICBxdWVyeTogX2luZGV4Lm5ldHdvcmtEbnNRdWVyeSwKICAgICAgICBza2lwOiBza2lwLAogICAgICAgIHZhcmlhYmxlczogdmFyaWFibGVzCiAgICAgIH0sIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGxvYWRpbmcgPSBfcmVmLmxvYWRpbmcsCiAgICAgICAgICAgIGZldGNoTW9yZSA9IF9yZWYuZmV0Y2hNb3JlLAogICAgICAgICAgICBuZXR3b3JrU3RhdHVzID0gX3JlZi5uZXR3b3JrU3RhdHVzLAogICAgICAgICAgICByZWZldGNoID0gX3JlZi5yZWZldGNoOwogICAgICAgIHZhciBuZXR3b3JrRG5zID0gKDAsIF9mcC5nZXRPcikoW10sICJzb3VyY2UuTmV0d29ya0Rucy5lZGdlcyIsIGRhdGEpOwoKICAgICAgICBfdGhpcy5zZXRGZXRjaE1vcmUoZmV0Y2hNb3JlKTsKCiAgICAgICAgX3RoaXMuc2V0RmV0Y2hNb3JlT3B0aW9ucyhmdW5jdGlvbiAobmV3QWN0aXZlUGFnZSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgcGFnaW5hdGlvbjogKDAsIF9oZWxwZXJzLmdlbmVyYXRlVGFibGVQYWdpbmF0aW9uT3B0aW9ucykobmV3QWN0aXZlUGFnZSwgbGltaXQpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVwZGF0ZVF1ZXJ5OiBmdW5jdGlvbiB1cGRhdGVRdWVyeShwcmV2LCBfcmVmMikgewogICAgICAgICAgICAgIHZhciBmZXRjaE1vcmVSZXN1bHQgPSBfcmVmMi5mZXRjaE1vcmVSZXN1bHQ7CgogICAgICAgICAgICAgIGlmICghZmV0Y2hNb3JlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBmZXRjaE1vcmVSZXN1bHQsIHsKICAgICAgICAgICAgICAgIHNvdXJjZTogX29iamVjdFNwcmVhZCh7fSwgZmV0Y2hNb3JlUmVzdWx0LnNvdXJjZSwgewogICAgICAgICAgICAgICAgICBOZXR3b3JrRG5zOiBfb2JqZWN0U3ByZWFkKHt9LCBmZXRjaE1vcmVSZXN1bHQuc291cmNlLk5ldHdvcmtEbnMsIHsKICAgICAgICAgICAgICAgICAgICBlZGdlczogX3RvQ29uc3VtYWJsZUFycmF5KGZldGNoTW9yZVJlc3VsdC5zb3VyY2UuTmV0d29ya0Rucy5lZGdlcykKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgIHZhciBpc0xvYWRpbmcgPSBfdGhpcy5pc0l0QVZhbGlkTG9hZGluZyhsb2FkaW5nLCB2YXJpYWJsZXMsIG5ldHdvcmtTdGF0dXMpOwoKICAgICAgICByZXR1cm4gY2hpbGRyZW4oewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgaW5zcGVjdDogKDAsIF9mcC5nZXRPcikobnVsbCwgJ3NvdXJjZS5OZXR3b3JrRG5zLmluc3BlY3QnLCBkYXRhKSwKICAgICAgICAgIGlzSW5zcGVjdGVkOiBpc0luc3BlY3RlZCwKICAgICAgICAgIGxvYWRpbmc6IGlzTG9hZGluZywKICAgICAgICAgIGxvYWRQYWdlOiBfdGhpcy53cmFwcGVkTG9hZE1vcmUsCiAgICAgICAgICBuZXR3b3JrRG5zOiBuZXR3b3JrRG5zLAogICAgICAgICAgcGFnZUluZm86ICgwLCBfZnAuZ2V0T3IpKHt9LCAnc291cmNlLk5ldHdvcmtEbnMucGFnZUluZm8nLCBkYXRhKSwKICAgICAgICAgIHJlZmV0Y2g6IF90aGlzLm1lbW9pemVkUmVmZXRjaFF1ZXJ5KHZhcmlhYmxlcywgbGltaXQsIHJlZmV0Y2gpLAogICAgICAgICAgdG90YWxDb3VudDogKDAsIF9mcC5nZXRPcikoLTEsICdzb3VyY2UuTmV0d29ya0Rucy50b3RhbENvdW50JywgZGF0YSksCiAgICAgICAgICBoaXN0b2dyYW06ICgwLCBfZnAuZ2V0T3IpKG51bGwsICdzb3VyY2UuTmV0d29ya0Rucy5oaXN0b2dyYW0nLCBkYXRhKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBOZXR3b3JrRG5zQ29tcG9uZW50UXVlcnk7Cn0oX3F1ZXJ5X3RlbXBsYXRlX3BhZ2luYXRlZC5RdWVyeVRlbXBsYXRlUGFnaW5hdGVkKTsKCmV4cG9ydHMuTmV0d29ya0Ruc0NvbXBvbmVudFF1ZXJ5ID0gTmV0d29ya0Ruc0NvbXBvbmVudFF1ZXJ5OwoKdmFyIG1ha2VNYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYWtlTWFwU3RhdGVUb1Byb3BzKCkgewogIHZhciBnZXROZXR3b3JrRG5zU2VsZWN0b3IgPSBfc3RvcmUubmV0d29ya1NlbGVjdG9ycy5kbnNTZWxlY3RvcigpOwoKICB2YXIgZ2V0UXVlcnkgPSBfc3RvcmUuaW5wdXRzU2VsZWN0b3JzLmdsb2JhbFF1ZXJ5QnlJZFNlbGVjdG9yKCk7CgogIHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIF9yZWYzKSB7CiAgICB2YXIgX3JlZjMkaWQgPSBfcmVmMy5pZCwKICAgICAgICBpZCA9IF9yZWYzJGlkID09PSB2b2lkIDAgPyBJRCA6IF9yZWYzJGlkOwoKICAgIHZhciBfZ2V0UXVlcnkgPSBnZXRRdWVyeShzdGF0ZSwgaWQpLAogICAgICAgIGlzSW5zcGVjdGVkID0gX2dldFF1ZXJ5LmlzSW5zcGVjdGVkOwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBnZXROZXR3b3JrRG5zU2VsZWN0b3Ioc3RhdGUpLCB7CiAgICAgIGlzSW5zcGVjdGVkOiBpc0luc3BlY3RlZCwKICAgICAgaWQ6IGlkCiAgICB9KTsKICB9OwoKICByZXR1cm4gbWFwU3RhdGVUb1Byb3BzOwp9OwoKdmFyIG1ha2VNYXBIaXN0b2dyYW1TdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYWtlTWFwSGlzdG9ncmFtU3RhdGVUb1Byb3BzKCkgewogIHZhciBnZXROZXR3b3JrRG5zU2VsZWN0b3IgPSBfc3RvcmUubmV0d29ya1NlbGVjdG9ycy5kbnNTZWxlY3RvcigpOwoKICB2YXIgZ2V0UXVlcnkgPSBfc3RvcmUuaW5wdXRzU2VsZWN0b3JzLmdsb2JhbFF1ZXJ5QnlJZFNlbGVjdG9yKCk7CgogIHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIF9yZWY0KSB7CiAgICB2YXIgX3JlZjQkaWQgPSBfcmVmNC5pZCwKICAgICAgICBpZCA9IF9yZWY0JGlkID09PSB2b2lkIDAgPyBISVNUT0dSQU1fSUQgOiBfcmVmNCRpZDsKCiAgICB2YXIgX2dldFF1ZXJ5MiA9IGdldFF1ZXJ5KHN0YXRlLCBpZCksCiAgICAgICAgaXNJbnNwZWN0ZWQgPSBfZ2V0UXVlcnkyLmlzSW5zcGVjdGVkOwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBnZXROZXR3b3JrRG5zU2VsZWN0b3Ioc3RhdGUpLCB7CiAgICAgIGFjdGl2ZVBhZ2U6IF9jb25zdGFudHMyLkRFRkFVTFRfVEFCTEVfQUNUSVZFX1BBR0UsCiAgICAgIGxpbWl0OiBfY29uc3RhbnRzMi5ERUZBVUxUX1RBQkxFX0xJTUlULAogICAgICBpc0luc3BlY3RlZDogaXNJbnNwZWN0ZWQsCiAgICAgIGlkOiBpZAogICAgfSk7CiAgfTsKCiAgcmV0dXJuIG1hcFN0YXRlVG9Qcm9wczsKfTsKCnZhciBOZXR3b3JrRG5zUXVlcnkgPSAoMCwgX3JlZHV4LmNvbXBvc2UpKCgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYWtlTWFwU3RhdGVUb1Byb3BzKSwgX2tpYmFuYS53aXRoS2liYW5hKShOZXR3b3JrRG5zQ29tcG9uZW50UXVlcnkpOwpleHBvcnRzLk5ldHdvcmtEbnNRdWVyeSA9IE5ldHdvcmtEbnNRdWVyeTsKdmFyIE5ldHdvcmtEbnNIaXN0b2dyYW1RdWVyeSA9ICgwLCBfcmVkdXguY29tcG9zZSkoKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1ha2VNYXBIaXN0b2dyYW1TdGF0ZVRvUHJvcHMpLCBfa2liYW5hLndpdGhLaWJhbmEpKF9tYXRyaXhfaGlzdG9ncmFtLk1hdHJpeEhpc3RvZ3JhbSk7CmV4cG9ydHMuTmV0d29ya0Ruc0hpc3RvZ3JhbVF1ZXJ5ID0gTmV0d29ya0Ruc0hpc3RvZ3JhbVF1ZXJ5Ow=="},null]}