{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/canvas_plugin_src/lib/flot-charts/jquery.flot.time.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/canvas_plugin_src/lib/flot-charts/jquery.flot.time.js","mtime":1589249551807},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKLyogUHJldHR5IGhhbmRsaW5nIG9mIHRpbWUgYXhlcy4KCkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLgpMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCgpTZXQgYXhpcy5tb2RlIHRvICJ0aW1lIiB0byBlbmFibGUuIFNlZSB0aGUgc2VjdGlvbiAiVGltZSBzZXJpZXMgZGF0YSIgaW4KQVBJLnR4dCBmb3IgZGV0YWlscy4KCiovCihmdW5jdGlvbiAoJCkgewogIHZhciBvcHRpb25zID0gewogICAgeGF4aXM6IHsKICAgICAgdGltZXpvbmU6IG51bGwsCiAgICAgIC8vICJicm93c2VyIiBmb3IgbG9jYWwgdG8gdGhlIGNsaWVudCBvciB0aW1lem9uZSBmb3IgdGltZXpvbmUtanMKICAgICAgdGltZWZvcm1hdDogbnVsbCwKICAgICAgLy8gZm9ybWF0IHN0cmluZyB0byB1c2UKICAgICAgdHdlbHZlSG91ckNsb2NrOiBmYWxzZSwKICAgICAgLy8gMTIgb3IgMjQgdGltZSBpbiB0aW1lIG1vZGUKICAgICAgbW9udGhOYW1lczogbnVsbCAvLyBsaXN0IG9mIG5hbWVzIG9mIG1vbnRocwoKICAgIH0KICB9OyAvLyByb3VuZCB0byBuZWFyYnkgbG93ZXIgbXVsdGlwbGUgb2YgYmFzZQoKICBmdW5jdGlvbiBmbG9vckluQmFzZShuLCBiYXNlKSB7CiAgICByZXR1cm4gYmFzZSAqIE1hdGguZmxvb3IobiAvIGJhc2UpOwogIH0gLy8gUmV0dXJucyBhIHN0cmluZyB3aXRoIHRoZSBkYXRlIGQgZm9ybWF0dGVkIGFjY29yZGluZyB0byBmbXQuCiAgLy8gQSBzdWJzZXQgb2YgdGhlIE9wZW4gR3JvdXAncyBzdHJmdGltZSBmb3JtYXQgaXMgc3VwcG9ydGVkLgoKCiAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkLCBmbXQsIG1vbnRoTmFtZXMsIGRheU5hbWVzKSB7CiAgICBpZiAodHlwZW9mIGQuc3RyZnRpbWUgPT0gImZ1bmN0aW9uIikgewogICAgICByZXR1cm4gZC5zdHJmdGltZShmbXQpOwogICAgfQoKICAgIHZhciBsZWZ0UGFkID0gZnVuY3Rpb24gbGVmdFBhZChuLCBwYWQpIHsKICAgICAgbiA9ICIiICsgbjsKICAgICAgcGFkID0gIiIgKyAocGFkID09IG51bGwgPyAiMCIgOiBwYWQpOwogICAgICByZXR1cm4gbi5sZW5ndGggPT0gMSA/IHBhZCArIG4gOiBuOwogICAgfTsKCiAgICB2YXIgciA9IFtdOwogICAgdmFyIGVzY2FwZSA9IGZhbHNlOwogICAgdmFyIGhvdXJzID0gZC5nZXRIb3VycygpOwogICAgdmFyIGlzQU0gPSBob3VycyA8IDEyOwoKICAgIGlmIChtb250aE5hbWVzID09IG51bGwpIHsKICAgICAgbW9udGhOYW1lcyA9IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXTsKICAgIH0KCiAgICBpZiAoZGF5TmFtZXMgPT0gbnVsbCkgewogICAgICBkYXlOYW1lcyA9IFsiU3VuIiwgIk1vbiIsICJUdWUiLCAiV2VkIiwgIlRodSIsICJGcmkiLCAiU2F0Il07CiAgICB9CgogICAgdmFyIGhvdXJzMTI7CgogICAgaWYgKGhvdXJzID4gMTIpIHsKICAgICAgaG91cnMxMiA9IGhvdXJzIC0gMTI7CiAgICB9IGVsc2UgaWYgKGhvdXJzID09IDApIHsKICAgICAgaG91cnMxMiA9IDEyOwogICAgfSBlbHNlIHsKICAgICAgaG91cnMxMiA9IGhvdXJzOwogICAgfQoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm10Lmxlbmd0aDsgKytpKSB7CiAgICAgIHZhciBjID0gZm10LmNoYXJBdChpKTsKCiAgICAgIGlmIChlc2NhcGUpIHsKICAgICAgICBzd2l0Y2ggKGMpIHsKICAgICAgICAgIGNhc2UgJ2EnOgogICAgICAgICAgICBjID0gIiIgKyBkYXlOYW1lc1tkLmdldERheSgpXTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAgIGMgPSAiIiArIG1vbnRoTmFtZXNbZC5nZXRNb250aCgpXTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnZCc6CiAgICAgICAgICAgIGMgPSBsZWZ0UGFkKGQuZ2V0RGF0ZSgpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnZSc6CiAgICAgICAgICAgIGMgPSBsZWZ0UGFkKGQuZ2V0RGF0ZSgpLCAiICIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdoJzogLy8gRm9yIGJhY2stY29tcGF0IHdpdGggMC43OyByZW1vdmUgaW4gMS4wCgogICAgICAgICAgY2FzZSAnSCc6CiAgICAgICAgICAgIGMgPSBsZWZ0UGFkKGhvdXJzKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnSSc6CiAgICAgICAgICAgIGMgPSBsZWZ0UGFkKGhvdXJzMTIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdsJzoKICAgICAgICAgICAgYyA9IGxlZnRQYWQoaG91cnMxMiwgIiAiKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnbSc6CiAgICAgICAgICAgIGMgPSBsZWZ0UGFkKGQuZ2V0TW9udGgoKSArIDEpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdNJzoKICAgICAgICAgICAgYyA9IGxlZnRQYWQoZC5nZXRNaW51dGVzKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIC8vIHF1YXJ0ZXJzIG5vdCBpbiBPcGVuIEdyb3VwJ3Mgc3RyZnRpbWUgc3BlY2lmaWNhdGlvbgoKICAgICAgICAgIGNhc2UgJ3EnOgogICAgICAgICAgICBjID0gIiIgKyAoTWF0aC5mbG9vcihkLmdldE1vbnRoKCkgLyAzKSArIDEpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdTJzoKICAgICAgICAgICAgYyA9IGxlZnRQYWQoZC5nZXRTZWNvbmRzKCkpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICd5JzoKICAgICAgICAgICAgYyA9IGxlZnRQYWQoZC5nZXRGdWxsWWVhcigpICUgMTAwKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnWSc6CiAgICAgICAgICAgIGMgPSAiIiArIGQuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAncCc6CiAgICAgICAgICAgIGMgPSBpc0FNID8gIiIgKyAiYW0iIDogIiIgKyAicG0iOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdQJzoKICAgICAgICAgICAgYyA9IGlzQU0gPyAiIiArICJBTSIgOiAiIiArICJQTSI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ3cnOgogICAgICAgICAgICBjID0gIiIgKyBkLmdldERheSgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHIucHVzaChjKTsKICAgICAgICBlc2NhcGUgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoYyA9PSAiJSIpIHsKICAgICAgICAgIGVzY2FwZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHIucHVzaChjKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gci5qb2luKCIiKTsKICB9IC8vIFRvIGhhdmUgYSBjb25zaXN0ZW50IHZpZXcgb2YgdGltZS1iYXNlZCBkYXRhIGluZGVwZW5kZW50IG9mIHdoaWNoIHRpbWUKICAvLyB6b25lIHRoZSBjbGllbnQgaGFwcGVucyB0byBiZSBpbiB3ZSBuZWVkIGEgZGF0ZS1saWtlIG9iamVjdCBpbmRlcGVuZGVudAogIC8vIG9mIHRpbWUgem9uZXMuICBUaGlzIGlzIGRvbmUgdGhyb3VnaCBhIHdyYXBwZXIgdGhhdCBvbmx5IGNhbGxzIHRoZSBVVEMKICAvLyB2ZXJzaW9ucyBvZiB0aGUgYWNjZXNzb3IgbWV0aG9kcy4KCgogIGZ1bmN0aW9uIG1ha2VVdGNXcmFwcGVyKGQpIHsKICAgIGZ1bmN0aW9uIGFkZFByb3h5TWV0aG9kKHNvdXJjZU9iaiwgc291cmNlTWV0aG9kLCB0YXJnZXRPYmosIHRhcmdldE1ldGhvZCkgewogICAgICBzb3VyY2VPYmpbc291cmNlTWV0aG9kXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGFyZ2V0T2JqW3RhcmdldE1ldGhvZF0uYXBwbHkodGFyZ2V0T2JqLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfQoKICAgIDsKICAgIHZhciB1dGMgPSB7CiAgICAgIGRhdGU6IGQKICAgIH07IC8vIHN1cHBvcnQgc3RyZnRpbWUsIGlmIGZvdW5kCgogICAgaWYgKGQuc3RyZnRpbWUgIT0gdW5kZWZpbmVkKSB7CiAgICAgIGFkZFByb3h5TWV0aG9kKHV0YywgInN0cmZ0aW1lIiwgZCwgInN0cmZ0aW1lIik7CiAgICB9CgogICAgYWRkUHJveHlNZXRob2QodXRjLCAiZ2V0VGltZSIsIGQsICJnZXRUaW1lIik7CiAgICBhZGRQcm94eU1ldGhvZCh1dGMsICJzZXRUaW1lIiwgZCwgInNldFRpbWUiKTsKICAgIHZhciBwcm9wcyA9IFsiRGF0ZSIsICJEYXkiLCAiRnVsbFllYXIiLCAiSG91cnMiLCAiTWlsbGlzZWNvbmRzIiwgIk1pbnV0ZXMiLCAiTW9udGgiLCAiU2Vjb25kcyJdOwoKICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHsKICAgICAgYWRkUHJveHlNZXRob2QodXRjLCAiZ2V0IiArIHByb3BzW3BdLCBkLCAiZ2V0VVRDIiArIHByb3BzW3BdKTsKICAgICAgYWRkUHJveHlNZXRob2QodXRjLCAic2V0IiArIHByb3BzW3BdLCBkLCAic2V0VVRDIiArIHByb3BzW3BdKTsKICAgIH0KCiAgICByZXR1cm4gdXRjOwogIH0KCiAgOyAvLyBzZWxlY3QgdGltZSB6b25lIHN0cmF0ZWd5LiAgVGhpcyByZXR1cm5zIGEgZGF0ZS1saWtlIG9iamVjdCB0aWVkIHRvIHRoZQogIC8vIGRlc2lyZWQgdGltZXpvbmUKCiAgZnVuY3Rpb24gZGF0ZUdlbmVyYXRvcih0cywgb3B0cykgewogICAgaWYgKG9wdHMudGltZXpvbmUgPT0gImJyb3dzZXIiKSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZSh0cyk7CiAgICB9IGVsc2UgaWYgKCFvcHRzLnRpbWV6b25lIHx8IG9wdHMudGltZXpvbmUgPT0gInV0YyIpIHsKICAgICAgcmV0dXJuIG1ha2VVdGNXcmFwcGVyKG5ldyBEYXRlKHRzKSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aW1lem9uZUpTICE9ICJ1bmRlZmluZWQiICYmIHR5cGVvZiB0aW1lem9uZUpTLkRhdGUgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgdmFyIGQgPSBuZXcgdGltZXpvbmVKUy5EYXRlKCk7IC8vIHRpbWV6b25lLWpzIGlzIGZpY2tsZSwgc28gYmUgc3VyZSB0byBzZXQgdGhlIHRpbWUgem9uZSBiZWZvcmUKICAgICAgLy8gc2V0dGluZyB0aGUgdGltZS4KCiAgICAgIGQuc2V0VGltZXpvbmUob3B0cy50aW1lem9uZSk7CiAgICAgIGQuc2V0VGltZSh0cyk7CiAgICAgIHJldHVybiBkOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG1ha2VVdGNXcmFwcGVyKG5ldyBEYXRlKHRzKSk7CiAgICB9CiAgfSAvLyBtYXAgb2YgYXBwLiBzaXplIG9mIHRpbWUgdW5pdHMgaW4gbWlsbGlzZWNvbmRzCgoKICB2YXIgdGltZVVuaXRTaXplID0gewogICAgInNlY29uZCI6IDEwMDAsCiAgICAibWludXRlIjogNjAgKiAxMDAwLAogICAgImhvdXIiOiA2MCAqIDYwICogMTAwMCwKICAgICJkYXkiOiAyNCAqIDYwICogNjAgKiAxMDAwLAogICAgIm1vbnRoIjogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwLAogICAgInF1YXJ0ZXIiOiAzICogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwLAogICAgInllYXIiOiAzNjUuMjQyNSAqIDI0ICogNjAgKiA2MCAqIDEwMDAKICB9OyAvLyB0aGUgYWxsb3dlZCB0aWNrIHNpemVzLCBhZnRlciAxIHllYXIgd2UgdXNlCiAgLy8gYW4gaW50ZWdlciBhbGdvcml0aG0KCiAgdmFyIGJhc2VTcGVjID0gW1sxLCAic2Vjb25kIl0sIFsyLCAic2Vjb25kIl0sIFs1LCAic2Vjb25kIl0sIFsxMCwgInNlY29uZCJdLCBbMzAsICJzZWNvbmQiXSwgWzEsICJtaW51dGUiXSwgWzIsICJtaW51dGUiXSwgWzUsICJtaW51dGUiXSwgWzEwLCAibWludXRlIl0sIFszMCwgIm1pbnV0ZSJdLCBbMSwgImhvdXIiXSwgWzIsICJob3VyIl0sIFs0LCAiaG91ciJdLCBbOCwgImhvdXIiXSwgWzEyLCAiaG91ciJdLCBbMSwgImRheSJdLCBbMiwgImRheSJdLCBbMywgImRheSJdLCBbMC4yNSwgIm1vbnRoIl0sIFswLjUsICJtb250aCJdLCBbMSwgIm1vbnRoIl0sIFsyLCAibW9udGgiXV07IC8vIHdlIGRvbid0IGtub3cgd2hpY2ggdmFyaWFudChzKSB3ZSdsbCBuZWVkIHlldCwgYnV0IGdlbmVyYXRpbmcgYm90aCBpcwogIC8vIGNoZWFwCgogIHZhciBzcGVjTW9udGhzID0gYmFzZVNwZWMuY29uY2F0KFtbMywgIm1vbnRoIl0sIFs2LCAibW9udGgiXSwgWzEsICJ5ZWFyIl1dKTsKICB2YXIgc3BlY1F1YXJ0ZXJzID0gYmFzZVNwZWMuY29uY2F0KFtbMSwgInF1YXJ0ZXIiXSwgWzIsICJxdWFydGVyIl0sIFsxLCAieWVhciJdXSk7CgogIGZ1bmN0aW9uIGluaXQocGxvdCkgewogICAgcGxvdC5ob29rcy5wcm9jZXNzT3B0aW9ucy5wdXNoKGZ1bmN0aW9uIChwbG90LCBvcHRpb25zKSB7CiAgICAgICQuZWFjaChwbG90LmdldEF4ZXMoKSwgZnVuY3Rpb24gKGF4aXNOYW1lLCBheGlzKSB7CiAgICAgICAgdmFyIG9wdHMgPSBheGlzLm9wdGlvbnM7CgogICAgICAgIGlmIChvcHRzLm1vZGUgPT0gInRpbWUiKSB7CiAgICAgICAgICBheGlzLnRpY2tHZW5lcmF0b3IgPSBmdW5jdGlvbiAoYXhpcykgewogICAgICAgICAgICB2YXIgdGlja3MgPSBbXTsKICAgICAgICAgICAgdmFyIGQgPSBkYXRlR2VuZXJhdG9yKGF4aXMubWluLCBvcHRzKTsKICAgICAgICAgICAgdmFyIG1pblNpemUgPSAwOyAvLyBtYWtlIHF1YXJ0ZXIgdXNlIGEgcG9zc2liaWxpdHkgaWYgcXVhcnRlcnMgYXJlCiAgICAgICAgICAgIC8vIG1lbnRpb25lZCBpbiBlaXRoZXIgb2YgdGhlc2Ugb3B0aW9ucwoKICAgICAgICAgICAgdmFyIHNwZWMgPSBvcHRzLnRpY2tTaXplICYmIG9wdHMudGlja1NpemVbMV0gPT09ICJxdWFydGVyIiB8fCBvcHRzLm1pblRpY2tTaXplICYmIG9wdHMubWluVGlja1NpemVbMV0gPT09ICJxdWFydGVyIiA/IHNwZWNRdWFydGVycyA6IHNwZWNNb250aHM7CgogICAgICAgICAgICBpZiAob3B0cy5taW5UaWNrU2l6ZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRzLnRpY2tTaXplID09ICJudW1iZXIiKSB7CiAgICAgICAgICAgICAgICBtaW5TaXplID0gb3B0cy50aWNrU2l6ZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbWluU2l6ZSA9IG9wdHMubWluVGlja1NpemVbMF0gKiB0aW1lVW5pdFNpemVbb3B0cy5taW5UaWNrU2l6ZVsxXV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwZWMubGVuZ3RoIC0gMTsgKytpKSB7CiAgICAgICAgICAgICAgaWYgKGF4aXMuZGVsdGEgPCAoc3BlY1tpXVswXSAqIHRpbWVVbml0U2l6ZVtzcGVjW2ldWzFdXSArIHNwZWNbaSArIDFdWzBdICogdGltZVVuaXRTaXplW3NwZWNbaSArIDFdWzFdXSkgLyAyICYmIHNwZWNbaV1bMF0gKiB0aW1lVW5pdFNpemVbc3BlY1tpXVsxXV0gPj0gbWluU2l6ZSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc2l6ZSA9IHNwZWNbaV1bMF07CiAgICAgICAgICAgIHZhciB1bml0ID0gc3BlY1tpXVsxXTsgLy8gc3BlY2lhbC1jYXNlIHRoZSBwb3NzaWJpbGl0eSBvZiBzZXZlcmFsIHllYXJzCgogICAgICAgICAgICBpZiAodW5pdCA9PSAieWVhciIpIHsKICAgICAgICAgICAgICAvLyBpZiBnaXZlbiBhIG1pblRpY2tTaXplIGluIHllYXJzLCBqdXN0IHVzZSBpdCwKICAgICAgICAgICAgICAvLyBlbnN1cmluZyB0aGF0IGl0J3MgYW4gaW50ZWdlcgogICAgICAgICAgICAgIGlmIChvcHRzLm1pblRpY2tTaXplICE9IG51bGwgJiYgb3B0cy5taW5UaWNrU2l6ZVsxXSA9PSAieWVhciIpIHsKICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmZsb29yKG9wdHMubWluVGlja1NpemVbMF0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgbWFnbiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKGF4aXMuZGVsdGEgLyB0aW1lVW5pdFNpemUueWVhcikgLyBNYXRoLkxOMTApKTsKICAgICAgICAgICAgICAgIHZhciBub3JtID0gYXhpcy5kZWx0YSAvIHRpbWVVbml0U2l6ZS55ZWFyIC8gbWFnbjsKCiAgICAgICAgICAgICAgICBpZiAobm9ybSA8IDEuNSkgewogICAgICAgICAgICAgICAgICBzaXplID0gMTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9ybSA8IDMpIHsKICAgICAgICAgICAgICAgICAgc2l6ZSA9IDI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vcm0gPCA3LjUpIHsKICAgICAgICAgICAgICAgICAgc2l6ZSA9IDU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzaXplID0gMTA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2l6ZSAqPSBtYWduOwogICAgICAgICAgICAgIH0gLy8gbWluaW11bSBzaXplIGZvciB5ZWFycyBpcyAxCgoKICAgICAgICAgICAgICBpZiAoc2l6ZSA8IDEpIHsKICAgICAgICAgICAgICAgIHNpemUgPSAxOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXhpcy50aWNrU2l6ZSA9IG9wdHMudGlja1NpemUgfHwgW3NpemUsIHVuaXRdOwogICAgICAgICAgICB2YXIgdGlja1NpemUgPSBheGlzLnRpY2tTaXplWzBdOwogICAgICAgICAgICB1bml0ID0gYXhpcy50aWNrU2l6ZVsxXTsKICAgICAgICAgICAgdmFyIHN0ZXAgPSB0aWNrU2l6ZSAqIHRpbWVVbml0U2l6ZVt1bml0XTsKCiAgICAgICAgICAgIGlmICh1bml0ID09ICJzZWNvbmQiKSB7CiAgICAgICAgICAgICAgZC5zZXRTZWNvbmRzKGZsb29ySW5CYXNlKGQuZ2V0U2Vjb25kcygpLCB0aWNrU2l6ZSkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT0gIm1pbnV0ZSIpIHsKICAgICAgICAgICAgICBkLnNldE1pbnV0ZXMoZmxvb3JJbkJhc2UoZC5nZXRNaW51dGVzKCksIHRpY2tTaXplKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PSAiaG91ciIpIHsKICAgICAgICAgICAgICBkLnNldEhvdXJzKGZsb29ySW5CYXNlKGQuZ2V0SG91cnMoKSwgdGlja1NpemUpKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1bml0ID09ICJtb250aCIpIHsKICAgICAgICAgICAgICBkLnNldE1vbnRoKGZsb29ySW5CYXNlKGQuZ2V0TW9udGgoKSwgdGlja1NpemUpKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1bml0ID09ICJxdWFydGVyIikgewogICAgICAgICAgICAgIGQuc2V0TW9udGgoMyAqIGZsb29ySW5CYXNlKGQuZ2V0TW9udGgoKSAvIDMsIHRpY2tTaXplKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PSAieWVhciIpIHsKICAgICAgICAgICAgICBkLnNldEZ1bGxZZWFyKGZsb29ySW5CYXNlKGQuZ2V0RnVsbFllYXIoKSwgdGlja1NpemUpKTsKICAgICAgICAgICAgfSAvLyByZXNldCBzbWFsbGVyIGNvbXBvbmVudHMKCgogICAgICAgICAgICBkLnNldE1pbGxpc2Vjb25kcygwKTsKCiAgICAgICAgICAgIGlmIChzdGVwID49IHRpbWVVbml0U2l6ZS5taW51dGUpIHsKICAgICAgICAgICAgICBkLnNldFNlY29uZHMoMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzdGVwID49IHRpbWVVbml0U2l6ZS5ob3VyKSB7CiAgICAgICAgICAgICAgZC5zZXRNaW51dGVzKDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RlcCA+PSB0aW1lVW5pdFNpemUuZGF5KSB7CiAgICAgICAgICAgICAgZC5zZXRIb3VycygwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHN0ZXAgPj0gdGltZVVuaXRTaXplLmRheSAqIDQpIHsKICAgICAgICAgICAgICBkLnNldERhdGUoMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzdGVwID49IHRpbWVVbml0U2l6ZS5tb250aCAqIDIpIHsKICAgICAgICAgICAgICBkLnNldE1vbnRoKGZsb29ySW5CYXNlKGQuZ2V0TW9udGgoKSwgMykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RlcCA+PSB0aW1lVW5pdFNpemUucXVhcnRlciAqIDIpIHsKICAgICAgICAgICAgICBkLnNldE1vbnRoKGZsb29ySW5CYXNlKGQuZ2V0TW9udGgoKSwgNikpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RlcCA+PSB0aW1lVW5pdFNpemUueWVhcikgewogICAgICAgICAgICAgIGQuc2V0TW9udGgoMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBjYXJyeSA9IDA7CiAgICAgICAgICAgIHZhciB2ID0gTnVtYmVyLk5hTjsKICAgICAgICAgICAgdmFyIHByZXY7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgcHJldiA9IHY7CiAgICAgICAgICAgICAgdiA9IGQuZ2V0VGltZSgpOwogICAgICAgICAgICAgIHRpY2tzLnB1c2godik7CgogICAgICAgICAgICAgIGlmICh1bml0ID09ICJtb250aCIgfHwgdW5pdCA9PSAicXVhcnRlciIpIHsKICAgICAgICAgICAgICAgIGlmICh0aWNrU2l6ZSA8IDEpIHsKICAgICAgICAgICAgICAgICAgLy8gYSBiaXQgY29tcGxpY2F0ZWQgLSB3ZSdsbCBkaXZpZGUgdGhlCiAgICAgICAgICAgICAgICAgIC8vIG1vbnRoL3F1YXJ0ZXIgdXAgYnV0IHdlIG5lZWQgdG8gdGFrZQogICAgICAgICAgICAgICAgICAvLyBjYXJlIG9mIGZyYWN0aW9ucyBzbyB3ZSBkb24ndCBlbmQgdXAgaW4KICAgICAgICAgICAgICAgICAgLy8gdGhlIG1pZGRsZSBvZiBhIGRheQogICAgICAgICAgICAgICAgICBkLnNldERhdGUoMSk7CiAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGQuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgICBkLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArICh1bml0ID09ICJxdWFydGVyIiA/IDMgOiAxKSk7CiAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBkLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgICAgZC5zZXRUaW1lKHYgKyBjYXJyeSAqIHRpbWVVbml0U2l6ZS5ob3VyICsgKGVuZCAtIHN0YXJ0KSAqIHRpY2tTaXplKTsKICAgICAgICAgICAgICAgICAgY2FycnkgPSBkLmdldEhvdXJzKCk7CiAgICAgICAgICAgICAgICAgIGQuc2V0SG91cnMoMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBkLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArIHRpY2tTaXplICogKHVuaXQgPT0gInF1YXJ0ZXIiID8gMyA6IDEpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT0gInllYXIiKSB7CiAgICAgICAgICAgICAgICBkLnNldEZ1bGxZZWFyKGQuZ2V0RnVsbFllYXIoKSArIHRpY2tTaXplKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZC5zZXRUaW1lKHYgKyBzdGVwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gd2hpbGUgKHYgPCBheGlzLm1heCAmJiB2ICE9IHByZXYpOwoKICAgICAgICAgICAgcmV0dXJuIHRpY2tzOwogICAgICAgICAgfTsKCiAgICAgICAgICBheGlzLnRpY2tGb3JtYXR0ZXIgPSBmdW5jdGlvbiAodiwgYXhpcykgewogICAgICAgICAgICB2YXIgZCA9IGRhdGVHZW5lcmF0b3IodiwgYXhpcy5vcHRpb25zKTsgLy8gZmlyc3QgY2hlY2sgZ2xvYmFsIGZvcm1hdAoKICAgICAgICAgICAgaWYgKG9wdHMudGltZWZvcm1hdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZCwgb3B0cy50aW1lZm9ybWF0LCBvcHRzLm1vbnRoTmFtZXMsIG9wdHMuZGF5TmFtZXMpOwogICAgICAgICAgICB9IC8vIHBvc3NpYmx5IHVzZSBxdWFydGVycyBpZiBxdWFydGVycyBhcmUgbWVudGlvbmVkIGluCiAgICAgICAgICAgIC8vIGFueSBvZiB0aGVzZSBwbGFjZXMKCgogICAgICAgICAgICB2YXIgdXNlUXVhcnRlcnMgPSBheGlzLm9wdGlvbnMudGlja1NpemUgJiYgYXhpcy5vcHRpb25zLnRpY2tTaXplWzFdID09ICJxdWFydGVyIiB8fCBheGlzLm9wdGlvbnMubWluVGlja1NpemUgJiYgYXhpcy5vcHRpb25zLm1pblRpY2tTaXplWzFdID09ICJxdWFydGVyIjsKICAgICAgICAgICAgdmFyIHQgPSBheGlzLnRpY2tTaXplWzBdICogdGltZVVuaXRTaXplW2F4aXMudGlja1NpemVbMV1dOwogICAgICAgICAgICB2YXIgc3BhbiA9IGF4aXMubWF4IC0gYXhpcy5taW47CiAgICAgICAgICAgIHZhciBzdWZmaXggPSBvcHRzLnR3ZWx2ZUhvdXJDbG9jayA/ICIgJXAiIDogIiI7CiAgICAgICAgICAgIHZhciBob3VyQ29kZSA9IG9wdHMudHdlbHZlSG91ckNsb2NrID8gIiVJIiA6ICIlSCI7CiAgICAgICAgICAgIHZhciBmbXQ7CgogICAgICAgICAgICBpZiAodCA8IHRpbWVVbml0U2l6ZS5taW51dGUpIHsKICAgICAgICAgICAgICBmbXQgPSBob3VyQ29kZSArICI6JU06JVMiICsgc3VmZml4OwogICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCB0aW1lVW5pdFNpemUuZGF5KSB7CiAgICAgICAgICAgICAgaWYgKHNwYW4gPCAyICogdGltZVVuaXRTaXplLmRheSkgewogICAgICAgICAgICAgICAgZm10ID0gaG91ckNvZGUgKyAiOiVNIiArIHN1ZmZpeDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm10ID0gIiViICVkICIgKyBob3VyQ29kZSArICI6JU0iICsgc3VmZml4OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgdGltZVVuaXRTaXplLm1vbnRoKSB7CiAgICAgICAgICAgICAgZm10ID0gIiViICVkIjsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VRdWFydGVycyAmJiB0IDwgdGltZVVuaXRTaXplLnF1YXJ0ZXIgfHwgIXVzZVF1YXJ0ZXJzICYmIHQgPCB0aW1lVW5pdFNpemUueWVhcikgewogICAgICAgICAgICAgIGlmIChzcGFuIDwgdGltZVVuaXRTaXplLnllYXIpIHsKICAgICAgICAgICAgICAgIGZtdCA9ICIlYiI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZtdCA9ICIlYiAlWSI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZVF1YXJ0ZXJzICYmIHQgPCB0aW1lVW5pdFNpemUueWVhcikgewogICAgICAgICAgICAgIGlmIChzcGFuIDwgdGltZVVuaXRTaXplLnllYXIpIHsKICAgICAgICAgICAgICAgIGZtdCA9ICJRJXEiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmbXQgPSAiUSVxICVZIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZm10ID0gIiVZIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJ0ID0gZm9ybWF0RGF0ZShkLCBmbXQsIG9wdHMubW9udGhOYW1lcywgb3B0cy5kYXlOYW1lcyk7CiAgICAgICAgICAgIHJldHVybiBydDsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgJC5wbG90LnBsdWdpbnMucHVzaCh7CiAgICBpbml0OiBpbml0LAogICAgb3B0aW9uczogb3B0aW9ucywKICAgIG5hbWU6ICd0aW1lJywKICAgIHZlcnNpb246ICcxLjAnCiAgfSk7IC8vIFRpbWUtYXhpcyBzdXBwb3J0IHVzZWQgdG8gYmUgaW4gRmxvdCBjb3JlLCB3aGljaCBleHBvc2VkIHRoZQogIC8vIGZvcm1hdERhdGUgZnVuY3Rpb24gb24gdGhlIHBsb3Qgb2JqZWN0LiAgVmFyaW91cyBwbHVnaW5zIGRlcGVuZAogIC8vIG9uIHRoZSBmdW5jdGlvbiwgc28gd2UgbmVlZCB0byByZS1leHBvc2UgaXQgaGVyZS4KCiAgJC5wbG90LmZvcm1hdERhdGUgPSBmb3JtYXREYXRlOwogICQucGxvdC5kYXRlR2VuZXJhdG9yID0gZGF0ZUdlbmVyYXRvcjsKfSkoalF1ZXJ5KTs="},null]}