{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/discover/plugin.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/discover/plugin.js","mtime":1589249549670},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkRpc2NvdmVyUGx1Z2luID0gdm9pZCAwOwoKdmFyIF9yeGpzID0gcmVxdWlyZSgicnhqcyIpOwoKdmFyIF9vcGVyYXRvcnMgPSByZXF1aXJlKCJyeGpzL29wZXJhdG9ycyIpOwoKdmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJhbmd1bGFyIikpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2RhdGEvcHVibGljIik7Cgp2YXIgX3JlZ2lzdGVyX2ZlYXR1cmUgPSByZXF1aXJlKCIuL25wX3JlYWR5L3JlZ2lzdGVyX2ZlYXR1cmUiKTsKCnZhciBfa2liYW5hX3NlcnZpY2VzID0gcmVxdWlyZSgiLi9raWJhbmFfc2VydmljZXMiKTsKCnZhciBfZ2V0X2lubmVyX2FuZ3VsYXIgPSByZXF1aXJlKCIuL2dldF9pbm5lcl9hbmd1bGFyIik7Cgp2YXIgX2J1aWxkX3NlcnZpY2VzID0gcmVxdWlyZSgiLi9idWlsZF9zZXJ2aWNlcyIpOwoKdmFyIF9wdWJsaWMyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9raWJhbmFfdXRpbHMvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgdHJ5IHsKICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsKICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlamVjdChlcnJvcik7CiAgICByZXR1cm47CiAgfQoKICBpZiAoaW5mby5kb25lKSB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9IGVsc2UgewogICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogIH0KfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgIH0KCiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICB9KTsKICB9Owp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIGlubmVyQW5ndWxhck5hbWUgPSAnYXBwL2Rpc2NvdmVyJzsKdmFyIGVtYmVkZGFibGVBbmd1bGFyTmFtZSA9ICdhcHAvZGlzY292ZXJFbWJlZGRhYmxlJzsKLyoqCiAqIENvbnRhaW5zIERpc2NvdmVyLCBvbmUgb2YgdGhlIG9sZGVzdCBwYXJ0cyBvZiBLaWJhbmEKICogVGhlcmUgYXJlIDIga2luZHMgb2YgQW5ndWxhciBib290c3RyYXBwZWQgZm9yIHJlbmRlcmluZywgYWRkaXRpb25hbGx5IHRvIHRoZSBtYWluIEFuZ3VsYXIKICogRGlzY292ZXIgcHJvdmlkZXMgZW1iZWRkYWJsZXMsIHRob3NlIGNvbnRhaW4gYSBzbGltbWVyIEFuZ3VsYXIKICovCgp2YXIgRGlzY292ZXJQbHVnaW4gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBEaXNjb3ZlclBsdWdpbigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNjb3ZlclBsdWdpbik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXJ2aWNlc0luaXRpYWxpemVkIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaW5uZXJBbmd1bGFySW5pdGlhbGl6ZWQiLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbWJlZGRhYmxlSW5qZWN0b3IiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEVtYmVkZGFibGVJbmplY3RvciIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiYXBwU3RhdGVVcGRhdGVyIiwgbmV3IF9yeGpzLkJlaGF2aW9yU3ViamVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0pKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInN0b3BVcmxUcmFja2luZyIsIHVuZGVmaW5lZCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpbml0aWFsaXplSW5uZXJBbmd1bGFyIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImluaXRpYWxpemVTZXJ2aWNlcyIsIHZvaWQgMCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRGlzY292ZXJQbHVnaW4sIFt7CiAgICBrZXk6ICJzZXR1cCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXAoY29yZSwgcGx1Z2lucykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIF9jcmVhdGVLYm5VcmxUcmFja2VyID0gKDAsIF9wdWJsaWMyLmNyZWF0ZUtiblVybFRyYWNrZXIpKHsKICAgICAgICBiYXNlVXJsOiBjb3JlLmh0dHAuYmFzZVBhdGgucHJlcGVuZCgnL2FwcC9raWJhbmEnKSwKICAgICAgICBkZWZhdWx0U3ViVXJsOiAnIy9kaXNjb3ZlcicsCiAgICAgICAgc3RvcmFnZUtleTogImxhc3RVcmw6Ii5jb25jYXQoY29yZS5odHRwLmJhc2VQYXRoLmdldCgpLCAiOmRpc2NvdmVyIiksCiAgICAgICAgbmF2TGlua1VwZGF0ZXIkOiB0aGlzLmFwcFN0YXRlVXBkYXRlciwKICAgICAgICB0b2FzdE5vdGlmaWNhdGlvbnM6IGNvcmUubm90aWZpY2F0aW9ucy50b2FzdHMsCiAgICAgICAgc3RhdGVQYXJhbXM6IFt7CiAgICAgICAgICBrYm5VcmxLZXk6ICdfZycsCiAgICAgICAgICBzdGF0ZVVwZGF0ZSQ6IHBsdWdpbnMuZGF0YS5xdWVyeS5zdGF0ZSQucGlwZSgoMCwgX29wZXJhdG9ycy5maWx0ZXIpKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gX3JlZi5jaGFuZ2VzOwogICAgICAgICAgICByZXR1cm4gISEoY2hhbmdlcy5nbG9iYWxGaWx0ZXJzIHx8IGNoYW5nZXMudGltZSB8fCBjaGFuZ2VzLnJlZnJlc2hJbnRlcnZhbCk7CiAgICAgICAgICB9KSwgKDAsIF9vcGVyYXRvcnMubWFwKShmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIF9zdGF0ZSRmaWx0ZXJzOwoKICAgICAgICAgICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwgewogICAgICAgICAgICAgIGZpbHRlcnM6IChfc3RhdGUkZmlsdGVycyA9IHN0YXRlLmZpbHRlcnMpID09PSBudWxsIHx8IF9zdGF0ZSRmaWx0ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkZmlsdGVycy5maWx0ZXIoX3B1YmxpYy5lc0ZpbHRlcnMuaXNGaWx0ZXJQaW5uZWQpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkpCiAgICAgICAgfV0KICAgICAgfSksCiAgICAgICAgICBhcHBNb3VudGVkID0gX2NyZWF0ZUtiblVybFRyYWNrZXIuYXBwTW91bnRlZCwKICAgICAgICAgIGFwcFVuTW91bnRlZCA9IF9jcmVhdGVLYm5VcmxUcmFja2VyLmFwcFVuTW91bnRlZCwKICAgICAgICAgIHN0b3BVcmxUcmFja2VyID0gX2NyZWF0ZUtiblVybFRyYWNrZXIuc3RvcCwKICAgICAgICAgIHNldFRyYWNrZWRVcmwgPSBfY3JlYXRlS2JuVXJsVHJhY2tlci5zZXRBY3RpdmVVcmw7CgogICAgICAoMCwgX2tpYmFuYV9zZXJ2aWNlcy5zZXRVcmxUcmFja2VyKSh7CiAgICAgICAgc2V0VHJhY2tlZFVybDogc2V0VHJhY2tlZFVybAogICAgICB9KTsKCiAgICAgIHRoaXMuc3RvcFVybFRyYWNraW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN0b3BVcmxUcmFja2VyKCk7CiAgICAgIH07CgogICAgICB0aGlzLmdldEVtYmVkZGFibGVJbmplY3RvciA9IHRoaXMuZ2V0SW5qZWN0b3IuYmluZCh0aGlzKTsKICAgICAgcGx1Z2lucy5kaXNjb3Zlci5kb2NWaWV3cy5zZXRBbmd1bGFySW5qZWN0b3JHZXR0ZXIodGhpcy5nZXRFbWJlZGRhYmxlSW5qZWN0b3IpOwogICAgICBwbHVnaW5zLmtpYmFuYUxlZ2FjeS5yZWdpc3RlckxlZ2FjeUFwcCh7CiAgICAgICAgaWQ6ICdkaXNjb3ZlcicsCiAgICAgICAgdGl0bGU6ICdEaXNjb3ZlcicsCiAgICAgICAgdXBkYXRlciQ6IHRoaXMuYXBwU3RhdGVVcGRhdGVyLmFzT2JzZXJ2YWJsZSgpLAogICAgICAgIG5hdkxpbmtJZDogJ2tpYmFuYTpkaXNjb3ZlcicsCiAgICAgICAgb3JkZXI6IC0xMDA0LAogICAgICAgIGV1aUljb25UeXBlOiAnZGlzY292ZXJBcHAnLAogICAgICAgIG1vdW50OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX21vdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhcmFtcykgewogICAgICAgICAgICB2YXIgX3JlZjMsIHJlbmRlckFwcCwgdW5tb3VudDsKCiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5pdGlhbGl6ZVNlcnZpY2VzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Rpc2NvdmVyIHBsdWdpbiBtZXRob2QgaW5pdGlhbGl6ZVNlcnZpY2VzIGlzIHVuZGVmaW5lZCcpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbml0aWFsaXplSW5uZXJBbmd1bGFyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Rpc2NvdmVyIHBsdWdpbiBtZXRob2QgaW5pdGlhbGl6ZUlubmVyQW5ndWxhciBpcyB1bmRlZmluZWQnKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICBhcHBNb3VudGVkKCk7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmluaXRpYWxpemVTZXJ2aWNlcygpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0aWFsaXplSW5uZXJBbmd1bGFyKCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4vbnBfcmVhZHkvYXBwbGljYXRpb24nKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgX3JlZjMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIHJlbmRlckFwcCA9IF9yZWYzLnJlbmRlckFwcDsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlckFwcChpbm5lckFuZ3VsYXJOYW1lLCBwYXJhbXMuZWxlbWVudCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAgIHVubW91bnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHVubW91bnQoKTsKICAgICAgICAgICAgICAgICAgICAgIGFwcFVuTW91bnRlZCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgZnVuY3Rpb24gbW91bnQoX3gpIHsKICAgICAgICAgICAgcmV0dXJuIF9tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBtb3VudDsKICAgICAgICB9KCkKICAgICAgfSk7CiAgICAgICgwLCBfcmVnaXN0ZXJfZmVhdHVyZS5yZWdpc3RlckZlYXR1cmUpKHBsdWdpbnMuaG9tZSk7CiAgICAgIHRoaXMucmVnaXN0ZXJFbWJlZGRhYmxlKGNvcmUsIHBsdWdpbnMpOwogICAgfQogIH0sIHsKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydChjb3JlLCBwbHVnaW5zKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOyAvLyB3ZSBuZWVkIHRvIHJlZ2lzdGVyIHRoZSBhcHBsaWNhdGlvbiBzZXJ2aWNlIGF0IHNldHVwLCBidXQgdG8gcmVuZGVyIGl0CiAgICAgIC8vIHRoZXJlIGFyZSBzb21lIHN0YXJ0IGRlcGVuZGVuY2llcyBuZWNlc3NhcnksIGZvciB0aGlzIHJlYXNvbgogICAgICAvLyBpbml0aWFsaXplSW5uZXJBbmd1bGFyICsgaW5pdGlhbGl6ZVNlcnZpY2VzIGFyZSBhc3NpZ25lZCBhdCBzdGFydCBhbmQgdXNlZAogICAgICAvLyB3aGVuIHRoZSBhcHBsaWNhdGlvbi9lbWJlZGRhYmxlIGlzIG1vdW50ZWQKCgogICAgICB0aGlzLmluaXRpYWxpemVJbm5lckFuZ3VsYXIgPQogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBtb2R1bGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmlubmVyQW5ndWxhckluaXRpYWxpemVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHVzZWQgYnkgYXBwbGljYXRpb24gbW91bnQgYW5kIHRlc3RzCiAgICAgICAgICAgICAgICBtb2R1bGUgPSAoMCwgX2dldF9pbm5lcl9hbmd1bGFyLmdldElubmVyQW5ndWxhck1vZHVsZSkoaW5uZXJBbmd1bGFyTmFtZSwgY29yZSwgcGx1Z2lucyk7CiAgICAgICAgICAgICAgICAoMCwgX2tpYmFuYV9zZXJ2aWNlcy5zZXRBbmd1bGFyTW9kdWxlKShtb2R1bGUpOwogICAgICAgICAgICAgICAgX3RoaXMyLmlubmVyQW5ndWxhckluaXRpYWxpemVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwogICAgICB0aGlzLmluaXRpYWxpemVTZXJ2aWNlcyA9CiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHNlcnZpY2VzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5zZXJ2aWNlc0luaXRpYWxpemVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgY29yZTogY29yZSwKICAgICAgICAgICAgICAgICAgcGx1Z2luczogcGx1Z2lucwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2J1aWxkX3NlcnZpY2VzLmJ1aWxkU2VydmljZXMpKGNvcmUsIHBsdWdpbnMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBzZXJ2aWNlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgKDAsIF9raWJhbmFfc2VydmljZXMuc2V0U2VydmljZXMpKHNlcnZpY2VzKTsKICAgICAgICAgICAgICAgIF90aGlzMi5zZXJ2aWNlc0luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIGNvcmU6IGNvcmUsCiAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IHBsdWdpbnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgaWYgKHRoaXMuc3RvcFVybFRyYWNraW5nKSB7CiAgICAgICAgdGhpcy5zdG9wVXJsVHJhY2tpbmcoKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiByZWdpc3RlciBlbWJlZGRhYmxlIHdpdGggYSBzbGltbWVyIGVtYmVkZGFibGUgdmVyc2lvbiBvZiBpbm5lciBhbmd1bGFyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicmVnaXN0ZXJFbWJlZGRhYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVnaXN0ZXJFbWJlZGRhYmxlID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoY29yZSwgcGx1Z2lucykgewogICAgICAgIHZhciBfcmVmNiwgU2VhcmNoRW1iZWRkYWJsZUZhY3RvcnksIGdldFN0YXJ0U2VydmljZXMsIGZhY3Rvcnk7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuL25wX3JlYWR5L2VtYmVkZGFibGUnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3JlZjYgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIFNlYXJjaEVtYmVkZGFibGVGYWN0b3J5ID0gX3JlZjYuU2VhcmNoRW1iZWRkYWJsZUZhY3Rvcnk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RW1iZWRkYWJsZUluamVjdG9yKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Rpc2NvdmVyIHBsdWdpbiBtZXRob2QgZ2V0RW1iZWRkYWJsZUluamVjdG9yIGlzIHVuZGVmaW5lZCcpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBnZXRTdGFydFNlcnZpY2VzID0KICAgICAgICAgICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAgICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAgICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWY4LCBfcmVmOSwgY29yZVN0YXJ0LCBkZXBzOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuZ2V0U3RhcnRTZXJ2aWNlcygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVmOCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlZjkgPSBfc2xpY2VkVG9BcnJheShfcmVmOCwgMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlU3RhcnQgPSBfcmVmOVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMgPSBfcmVmOVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVUcmlnZ2VyQWN0aW9uczogZGVwcy51aUFjdGlvbnMuZXhlY3V0ZVRyaWdnZXJBY3Rpb25zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0VkaXRhYmxlOiBmdW5jdGlvbiBpc0VkaXRhYmxlKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlU3RhcnQuYXBwbGljYXRpb24uY2FwYWJpbGl0aWVzLmRpc2NvdmVyLnNhdmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0U3RhcnRTZXJ2aWNlcygpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgICBmYWN0b3J5ID0gbmV3IFNlYXJjaEVtYmVkZGFibGVGYWN0b3J5KGdldFN0YXJ0U2VydmljZXMsIHRoaXMuZ2V0RW1iZWRkYWJsZUluamVjdG9yKTsKICAgICAgICAgICAgICAgIHBsdWdpbnMuZW1iZWRkYWJsZS5yZWdpc3RlckVtYmVkZGFibGVGYWN0b3J5KGZhY3RvcnkudHlwZSwgZmFjdG9yeSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRW1iZWRkYWJsZShfeDIsIF94MykgewogICAgICAgIHJldHVybiBfcmVnaXN0ZXJFbWJlZGRhYmxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWdpc3RlckVtYmVkZGFibGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRJbmplY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEluamVjdG9yID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIF9yZWYxMCwgY29yZSwgcGx1Z2lucywgbW91bnRwb2ludDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmVtYmVkZGFibGVJbmplY3RvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplU2VydmljZXMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignRGlzY292ZXIgcGx1Z2luIGdldEVtYmVkZGFibGVJbmplY3RvcjogIGluaXRpYWxpemVTZXJ2aWNlcyBpcyB1bmRlZmluZWQnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZVNlcnZpY2VzKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9yZWYxMCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgY29yZSA9IF9yZWYxMC5jb3JlOwogICAgICAgICAgICAgICAgcGx1Z2lucyA9IF9yZWYxMC5wbHVnaW5zOwogICAgICAgICAgICAgICAgKDAsIF9nZXRfaW5uZXJfYW5ndWxhci5nZXRJbm5lckFuZ3VsYXJNb2R1bGVFbWJlZGRhYmxlKShlbWJlZGRhYmxlQW5ndWxhck5hbWUsIGNvcmUsIHBsdWdpbnMpOwogICAgICAgICAgICAgICAgbW91bnRwb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgdGhpcy5lbWJlZGRhYmxlSW5qZWN0b3IgPSBfYW5ndWxhci5kZWZhdWx0LmJvb3RzdHJhcChtb3VudHBvaW50LCBbZW1iZWRkYWJsZUFuZ3VsYXJOYW1lXSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgdGhpcy5lbWJlZGRhYmxlSW5qZWN0b3IpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0SW5qZWN0b3IoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRJbmplY3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0SW5qZWN0b3I7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBEaXNjb3ZlclBsdWdpbjsKfSgpOwoKZXhwb3J0cy5EaXNjb3ZlclBsdWdpbiA9IERpc2NvdmVyUGx1Z2luOw=="},null]}