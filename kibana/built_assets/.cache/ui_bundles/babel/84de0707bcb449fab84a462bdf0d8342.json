{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_header/workpad_header.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_header/workpad_header.js","mtime":1589249552015},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuV29ya3BhZEhlYWRlciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX3JlYWN0U2hvcnRjdXRzID0gcmVxdWlyZSgicmVhY3Qtc2hvcnRjdXRzIik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiLi4vLi4vLi4vaTE4biIpOwoKdmFyIF9hc3NldF9tYW5hZ2VyID0gcmVxdWlyZSgiLi4vYXNzZXRfbWFuYWdlciIpOwoKdmFyIF9lbGVtZW50X3R5cGVzID0gcmVxdWlyZSgiLi4vZWxlbWVudF90eXBlcyIpOwoKdmFyIF90b29sX3RpcF9zaG9ydGN1dCA9IHJlcXVpcmUoIi4uL3Rvb2xfdGlwX3Nob3J0Y3V0LyIpOwoKdmFyIF9lbWJlZGRhYmxlX2ZseW91dCA9IHJlcXVpcmUoIi4uL2VtYmVkZGFibGVfZmx5b3V0Iik7Cgp2YXIgX2NvbnRyb2xfc2V0dGluZ3MgPSByZXF1aXJlKCIuL2NvbnRyb2xfc2V0dGluZ3MiKTsKCnZhciBfcmVmcmVzaF9jb250cm9sID0gcmVxdWlyZSgiLi9yZWZyZXNoX2NvbnRyb2wiKTsKCnZhciBfZnVsbHNjcmVlbl9jb250cm9sID0gcmVxdWlyZSgiLi9mdWxsc2NyZWVuX2NvbnRyb2wiKTsKCnZhciBfd29ya3BhZF9leHBvcnQgPSByZXF1aXJlKCIuL3dvcmtwYWRfZXhwb3J0Iik7Cgp2YXIgX3dvcmtwYWRfem9vbSA9IHJlcXVpcmUoIi4vd29ya3BhZF96b29tIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogIGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09ICJzeW1ib2wiKSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7CiAgICB9OwogIH0gZWxzZSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfQoKICByZXR1cm4gX3R5cGVvZihvYmopOwp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7CiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgewogICAgcmV0dXJuIGNhbGw7CiAgfQoKICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsKfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsKICB9OwogIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7Cn0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgewogIGlmIChzZWxmID09PSB2b2lkIDApIHsKICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7CiAgfQoKICByZXR1cm4gc2VsZjsKfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7CiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7CiAgfQoKICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsKICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgIHZhbHVlOiBzdWJDbGFzcywKICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgfQogIH0pOwogIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOwp9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgewogIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgewogICAgby5fX3Byb3RvX18gPSBwOwogICAgcmV0dXJuIG87CiAgfTsKCiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBzdHJpbmdzID0gX2kxOG4uQ29tcG9uZW50U3RyaW5ncy5Xb3JrcGFkSGVhZGVyOwoKdmFyIFdvcmtwYWRIZWFkZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkgewogIF9pbmhlcml0cyhXb3JrcGFkSGVhZGVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFdvcmtwYWRIZWFkZXIoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdvcmtwYWRIZWFkZXIpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoV29ya3BhZEhlYWRlcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGlzUGFuZWxWaXNpYmxlOiBmYWxzZQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX2Z1bGxzY3JlZW5CdXR0b24iLCBmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgdG9nZ2xlRnVsbHNjcmVlbiA9IF9yZWYudG9nZ2xlRnVsbHNjcmVlbjsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUb29sVGlwLCB7CiAgICAgICAgcG9zaXRpb246ICJib3R0b20iLAogICAgICAgIGNvbnRlbnQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBzdHJpbmdzLmdldEZ1bGxTY3JlZW5Ub29sdGlwKCksICcgJywgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdG9vbF90aXBfc2hvcnRjdXQuVG9vbFRpcFNob3J0Y3V0LCB7CiAgICAgICAgICBuYW1lc3BhY2U6ICJQUkVTRU5UQVRJT04iLAogICAgICAgICAgYWN0aW9uOiAiRlVMTFNDUkVFTiIKICAgICAgICB9KSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIHsKICAgICAgICBpY29uVHlwZTogImZ1bGxTY3JlZW4iLAogICAgICAgICJhcmlhLWxhYmVsIjogc3RyaW5ncy5nZXRGdWxsU2NyZWVuQnV0dG9uQXJpYUxhYmVsKCksCiAgICAgICAgb25DbGljazogdG9nZ2xlRnVsbHNjcmVlbgogICAgICB9KSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfa2V5SGFuZGxlciIsIGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgaWYgKGFjdGlvbiA9PT0gJ0VESVRJTkcnKSB7CiAgICAgICAgX3RoaXMucHJvcHMudG9nZ2xlV3JpdGVhYmxlKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9oaWRlRWxlbWVudE1vZGFsIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzTW9kYWxWaXNpYmxlOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9zaG93RWxlbWVudE1vZGFsIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzTW9kYWxWaXNpYmxlOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX2hpZGVFbWJlZGRhYmxlUGFuZWwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNQYW5lbFZpc2libGU6IGZhbHNlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX3Nob3dFbWJlZGRhYmxlUGFuZWwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNQYW5lbFZpc2libGU6IHRydWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfZWxlbWVudEFkZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlPdmVybGF5TWFzaywgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsLCB7CiAgICAgICAgb25DbG9zZTogX3RoaXMuX2hpZGVFbGVtZW50TW9kYWwsCiAgICAgICAgY2xhc3NOYW1lOiAiY2FudmFzTW9kYWwtLWZpeGVkU2l6ZSIsCiAgICAgICAgbWF4V2lkdGg6ICIxMDAwcHgiLAogICAgICAgIGluaXRpYWxGb2N1czogIi5jYW52YXNFbGVtZW50c19fZmlsdGVyIGlucHV0IgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9lbGVtZW50X3R5cGVzLkVsZW1lbnRUeXBlcywgewogICAgICAgIG9uQ2xvc2U6IF90aGlzLl9oaWRlRWxlbWVudE1vZGFsCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTW9kYWxGb290ZXIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICBzaXplOiAicyIsCiAgICAgICAgb25DbGljazogX3RoaXMuX2hpZGVFbGVtZW50TW9kYWwKICAgICAgfSwgc3RyaW5ncy5nZXRBZGRFbGVtZW50TW9kYWxDbG9zZUJ1dHRvbkxhYmVsKCkpKSkpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX2VtYmVkZGFibGVBZGQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9lbWJlZGRhYmxlX2ZseW91dC5BZGRFbWJlZGRhYmxlUGFuZWwsIHsKICAgICAgICBvbkNsb3NlOiBfdGhpcy5faGlkZUVtYmVkZGFibGVQYW5lbAogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9nZXRFZGl0VG9nZ2xlVG9vbFRpcFRleHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghX3RoaXMucHJvcHMuY2FuVXNlcldyaXRlKSB7CiAgICAgICAgcmV0dXJuIHN0cmluZ3MuZ2V0Tm9Xcml0ZVBlcm1pc3Npb25Ub29sdGlwVGV4dCgpOwogICAgICB9CgogICAgICB2YXIgY29udGVudCA9IF90aGlzLnByb3BzLmlzV3JpdGVhYmxlID8gc3RyaW5ncy5nZXRIaWRlRWRpdENvbnRyb2xUb29sdGlwKCkgOiBzdHJpbmdzLmdldFNob3dFZGl0Q29udHJvbFRvb2x0aXAoKTsKICAgICAgcmV0dXJuIGNvbnRlbnQ7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfZ2V0RWRpdFRvZ2dsZVRvb2xUaXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogewogICAgICAgIHRleHRPbmx5OiBmYWxzZQogICAgICB9LAogICAgICAgICAgdGV4dE9ubHkgPSBfcmVmMi50ZXh0T25seTsKCiAgICAgIHZhciBjb250ZW50ID0gX3RoaXMuX2dldEVkaXRUb2dnbGVUb29sVGlwVGV4dCgpOwoKICAgICAgaWYgKHRleHRPbmx5KSB7CiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgY29udGVudCwgIiAiLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90b29sX3RpcF9zaG9ydGN1dC5Ub29sVGlwU2hvcnRjdXQsIHsKICAgICAgICBuYW1lc3BhY2U6ICJFRElUT1IiLAogICAgICAgIGFjdGlvbjogIkVESVRJTkciCiAgICAgIH0pKTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhXb3JrcGFkSGVhZGVyLCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBpc1dyaXRlYWJsZSA9IF90aGlzJHByb3BzLmlzV3JpdGVhYmxlLAogICAgICAgICAgY2FuVXNlcldyaXRlID0gX3RoaXMkcHJvcHMuY2FuVXNlcldyaXRlLAogICAgICAgICAgdG9nZ2xlV3JpdGVhYmxlID0gX3RoaXMkcHJvcHMudG9nZ2xlV3JpdGVhYmxlOwogICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLAogICAgICAgICAgaXNNb2RhbFZpc2libGUgPSBfdGhpcyRzdGF0ZS5pc01vZGFsVmlzaWJsZSwKICAgICAgICAgIGlzUGFuZWxWaXNpYmxlID0gX3RoaXMkc3RhdGUuaXNQYW5lbFZpc2libGU7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBpc01vZGFsVmlzaWJsZSA/IHRoaXMuX2VsZW1lbnRBZGQoKSA6IG51bGwsIGlzUGFuZWxWaXNpYmxlID8gdGhpcy5fZW1iZWRkYWJsZUFkZCgpIDogbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGd1dHRlclNpemU6ICJzIiwKICAgICAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIiwKICAgICAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIsCiAgICAgICAgY2xhc3NOYW1lOiAiY2FudmFzTGF5b3V0X19zdGFnZUhlYWRlcklubmVyIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAgICAgZ3V0dGVyU2l6ZTogInhzIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb250cm9sX3NldHRpbmdzLkNvbnRyb2xTZXR0aW5ncywgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWZyZXNoX2NvbnRyb2wuUmVmcmVzaENvbnRyb2wsIG51bGwpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZnVsbHNjcmVlbl9jb250cm9sLkZ1bGxzY3JlZW5Db250cm9sLCBudWxsLCB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3dvcmtwYWRfem9vbS5Xb3JrcGFkWm9vbSwgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF93b3JrcGFkX2V4cG9ydC5Xb3JrcGFkRXhwb3J0LCBudWxsKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIGNhblVzZXJXcml0ZSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFNob3J0Y3V0cy5TaG9ydGN1dHMsIHsKICAgICAgICBuYW1lOiAiRURJVE9SIiwKICAgICAgICBoYW5kbGVyOiB0aGlzLl9rZXlIYW5kbGVyLAogICAgICAgIHRhcmdldE5vZGVTZWxlY3RvcjogImJvZHkiLAogICAgICAgIGdsb2JhbDogdHJ1ZSwKICAgICAgICBpc29sYXRlOiB0cnVlCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgIHBvc2l0aW9uOiAiYm90dG9tIiwKICAgICAgICBjb250ZW50OiB0aGlzLl9nZXRFZGl0VG9nZ2xlVG9vbFRpcCgpCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25JY29uLCB7CiAgICAgICAgaWNvblR5cGU6IGlzV3JpdGVhYmxlID8gJ2xvY2tPcGVuJyA6ICdsb2NrJywKICAgICAgICBvbkNsaWNrOiB0b2dnbGVXcml0ZWFibGUsCiAgICAgICAgc2l6ZTogInMiLAogICAgICAgICJhcmlhLWxhYmVsIjogdGhpcy5fZ2V0RWRpdFRvZ2dsZVRvb2xUaXBUZXh0KCksCiAgICAgICAgaXNEaXNhYmxlZDogIWNhblVzZXJXcml0ZQogICAgICB9KSkpKSksIGlzV3JpdGVhYmxlID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiLAogICAgICAgIGd1dHRlclNpemU6ICJzIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hc3NldF9tYW5hZ2VyLkFzc2V0TWFuYWdlciwgbnVsbCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgICAgICBvbkNsaWNrOiB0aGlzLl9zaG93RW1iZWRkYWJsZVBhbmVsCiAgICAgIH0sIHN0cmluZ3MuZ2V0RW1iZWRPYmplY3RCdXR0b25MYWJlbCgpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIHNpemU6ICJzIiwKICAgICAgICBpY29uVHlwZTogInZlY3RvciIsCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImFkZC1lbGVtZW50LWJ1dHRvbiIsCiAgICAgICAgb25DbGljazogdGhpcy5fc2hvd0VsZW1lbnRNb2RhbAogICAgICB9LCBzdHJpbmdzLmdldEFkZEVsZW1lbnRCdXR0b25MYWJlbCgpKSkpKSA6IG51bGwpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBXb3JrcGFkSGVhZGVyOwp9KF9yZWFjdC5kZWZhdWx0LlB1cmVDb21wb25lbnQpOwoKZXhwb3J0cy5Xb3JrcGFkSGVhZGVyID0gV29ya3BhZEhlYWRlcjsKCl9kZWZpbmVQcm9wZXJ0eShXb3JrcGFkSGVhZGVyLCAicHJvcFR5cGVzIiwgewogIGlzV3JpdGVhYmxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCwKICB0b2dnbGVXcml0ZWFibGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jCn0pOw=="},null]}