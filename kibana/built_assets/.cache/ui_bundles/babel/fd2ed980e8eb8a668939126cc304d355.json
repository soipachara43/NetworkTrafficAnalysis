{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_page/integration_utils.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_page/integration_utils.js","mtime":1589249552027},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwp2YXIgX2V4cG9ydE5hbWVzID0gewogIHNoYXBlc0Zvck5vZGVzOiB0cnVlLAogIGdsb2JhbFN0YXRlVXBkYXRlcjogdHJ1ZSwKICBjcmF3bFRyZWU6IHRydWUKfTsKZXhwb3J0cy5jcmF3bFRyZWUgPSBleHBvcnRzLmdsb2JhbFN0YXRlVXBkYXRlciA9IGV4cG9ydHMuc2hhcGVzRm9yTm9kZXMgPSB2b2lkIDA7Cgp2YXIgX3JlY29tcG9zZSA9IHJlcXVpcmUoInJlY29tcG9zZSIpOwoKdmFyIF93b3JrcGFkID0gcmVxdWlyZSgiLi4vLi4vc3RhdGUvc2VsZWN0b3JzL3dvcmtwYWQiKTsKCnZhciBfZWxlbWVudHMgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9hY3Rpb25zL2VsZW1lbnRzIik7Cgp2YXIgX3RyYW5zaWVudCA9IHJlcXVpcmUoIi4uLy4uL3N0YXRlL2FjdGlvbnMvdHJhbnNpZW50Iik7Cgp2YXIgX2Z1bmN0aW9uYWwgPSByZXF1aXJlKCIuLi8uLi9saWIvYWVyb2VsYXN0aWMvZnVuY3Rpb25hbCIpOwoKdmFyIF9sYXlvdXRfZnVuY3Rpb25zID0gcmVxdWlyZSgiLi4vLi4vbGliL2Flcm9lbGFzdGljL2xheW91dF9mdW5jdGlvbnMiKTsKCnZhciBfbWF0cml4ID0gcmVxdWlyZSgiLi4vLi4vbGliL2Flcm9lbGFzdGljL21hdHJpeCIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoIi4vdXRpbHMiKTsKCk9iamVjdC5rZXlzKF91dGlscykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgaWYgKGtleSA9PT0gImRlZmF1bHQiIHx8IGtleSA9PT0gIl9fZXNNb2R1bGUiKSByZXR1cm47CiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBfdXRpbHNba2V5XTsKICAgIH0KICB9KTsKfSk7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgc2hhcGVUb0VsZW1lbnQgPSBmdW5jdGlvbiBzaGFwZVRvRWxlbWVudChzaGFwZSkgewogIHJldHVybiB7CiAgICBsZWZ0OiBzaGFwZS50cmFuc2Zvcm1NYXRyaXhbMTJdIC0gc2hhcGUuYSwKICAgIHRvcDogc2hhcGUudHJhbnNmb3JtTWF0cml4WzEzXSAtIHNoYXBlLmIsCiAgICB3aWR0aDogc2hhcGUuYSAqIDIsCiAgICBoZWlnaHQ6IHNoYXBlLmIgKiAyLAogICAgYW5nbGU6IE1hdGgucm91bmQoKDAsIF9tYXRyaXgubWF0cml4VG9BbmdsZSkoc2hhcGUudHJhbnNmb3JtTWF0cml4KSAqIDE4MCAvIE1hdGguUEkpLAogICAgcGFyZW50OiBzaGFwZS5wYXJlbnQgfHwgbnVsbCwKICAgIHR5cGU6IHNoYXBlLnR5cGUgPT09ICdncm91cCcgPyAnZ3JvdXAnIDogJ2VsZW1lbnQnCiAgfTsKfTsKCnZhciBnbG9iYWxQb3NpdGlvblVwZGF0ZXMgPSBmdW5jdGlvbiBnbG9iYWxQb3NpdGlvblVwZGF0ZXMoc2V0TXVsdGlwbGVQb3NpdGlvbnMsIF9yZWYsIHVuc29ydGVkRWxlbWVudHMpIHsKICB2YXIgc2hhcGVzID0gX3JlZi5zaGFwZXMsCiAgICAgIGdlc3R1cmVFbmQgPSBfcmVmLmdlc3R1cmVFbmQ7CgogIHZhciBhc2NlbmRpbmcgPSBmdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikgewogICAgcmV0dXJuIGEuaWQgPCBiLmlkID8gLTEgOiAxOwogIH07CgogIHZhciByZWxldmFudCA9IGZ1bmN0aW9uIHJlbGV2YW50KHMpIHsKICAgIHJldHVybiBzLnR5cGUgIT09ICdhbm5vdGF0aW9uJyAmJiBzLnN1YnR5cGUgIT09ICdhZEhvY0dyb3VwJzsKICB9OwoKICB2YXIgZWxlbWVudHMgPSB1bnNvcnRlZEVsZW1lbnRzLmZpbHRlcihyZWxldmFudCkuc29ydChhc2NlbmRpbmcpOwogIHZhciByZXBvc2l0aW9uaW5ncyA9IHNoYXBlcy5maWx0ZXIocmVsZXZhbnQpLnNvcnQoYXNjZW5kaW5nKS5tYXAoZnVuY3Rpb24gKHNoYXBlLCBpKSB7CiAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldOwogICAgdmFyIGVsZW1Qb3MgPSBlbGVtZW50ICYmIGVsZW1lbnQucG9zaXRpb247CgogICAgaWYgKGVsZW1Qb3MgJiYgZ2VzdHVyZUVuZCkgewogICAgICAvLyBnZXQgZXhpc3RpbmcgcG9zaXRpb24gaW5mb3JtYXRpb24gZnJvbSBlbGVtZW50CiAgICAgIHZhciBvbGRQcm9wcyA9IHsKICAgICAgICBsZWZ0OiBlbGVtUG9zLmxlZnQsCiAgICAgICAgdG9wOiBlbGVtUG9zLnRvcCwKICAgICAgICB3aWR0aDogZWxlbVBvcy53aWR0aCwKICAgICAgICBoZWlnaHQ6IGVsZW1Qb3MuaGVpZ2h0LAogICAgICAgIGFuZ2xlOiBNYXRoLnJvdW5kKGVsZW1Qb3MuYW5nbGUpLAogICAgICAgIHR5cGU6IGVsZW1Qb3MudHlwZSwKICAgICAgICBwYXJlbnQ6IGVsZW1Qb3MucGFyZW50IHx8IG51bGwKICAgICAgfTsgLy8gY2FzdCBzaGFwZSBpbnRvIGVsZW1lbnQtbGlrZSBvYmplY3QgdG8gY29tcGFyZQoKICAgICAgdmFyIG5ld1Byb3BzID0gc2hhcGVUb0VsZW1lbnQoc2hhcGUpOwoKICAgICAgaWYgKDEgLyBuZXdQcm9wcy5hbmdsZSA9PT0gLUluZmluaXR5KSB7CiAgICAgICAgbmV3UHJvcHMuYW5nbGUgPSAwOwogICAgICB9IC8vIHJlY29tcG9zZS5zaGFsbG93RXF1YWwgZGlzY2VybnMgYmV0d2VlbiAwIGFuZCAtMAoKCiAgICAgIHJldHVybiAoMCwgX3JlY29tcG9zZS5zaGFsbG93RXF1YWwpKG9sZFByb3BzLCBuZXdQcm9wcykgPyBudWxsIDogewogICAgICAgIHBvc2l0aW9uOiBuZXdQcm9wcywKICAgICAgICBlbGVtZW50SWQ6IHNoYXBlLmlkCiAgICAgIH07CiAgICB9CiAgfSkuZmlsdGVyKF9mdW5jdGlvbmFsLmlkZW50aXR5KTsKICByZXR1cm4gcmVwb3NpdGlvbmluZ3M7Cn07Cgp2YXIgZGVkdXBlID0gZnVuY3Rpb24gZGVkdXBlKGQsIGksIGEpIHsKICByZXR1cm4gYS5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHsKICAgIHJldHVybiBzLmlkID09PSBkLmlkOwogIH0pID09PSBpOwp9OwoKdmFyIG1pc3NpbmdQYXJlbnRDaGVjayA9IGZ1bmN0aW9uIG1pc3NpbmdQYXJlbnRDaGVjayhncm91cHMpIHsKICB2YXIgaWRNYXAgPSAoMCwgX2Z1bmN0aW9uYWwuYXJyYXlUb01hcCkoZ3JvdXBzLm1hcChmdW5jdGlvbiAoZykgewogICAgcmV0dXJuIGcuaWQ7CiAgfSkpOwogIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChnKSB7CiAgICBpZiAoZy5wYXJlbnQgJiYgIWlkTWFwW2cucGFyZW50XSkgewogICAgICBnLnBhcmVudCA9IG51bGw7CiAgICB9CiAgfSk7Cn07Cgp2YXIgc2hhcGVzRm9yTm9kZXMgPSBmdW5jdGlvbiBzaGFwZXNGb3JOb2Rlcyhub2RlcykgewogIHZhciByYXdTaGFwZXMgPSBub2Rlcy5tYXAoX3V0aWxzLmVsZW1lbnRUb1NoYXBlKSAvLyBmaWx0ZXJpbmcgdG8gZWxpbWluYXRlIHJlc2lkdWFsIGVsZW1lbnQgb2YgYSBwb3NzaWJsZSBncm91cCB0aGF0IGhhZCBiZWVuIGRlbGV0ZWQgaW4gUmVkdXgKICAuZmlsdGVyKGZ1bmN0aW9uIChkLCBpLCBhKSB7CiAgICByZXR1cm4gISgwLCBfdXRpbHMuaXNHcm91cElkKShkLmlkKSB8fCBhLmZpbmQoZnVuY3Rpb24gKHMpIHsKICAgICAgcmV0dXJuIHMucGFyZW50ID09PSBkLmlkOwogICAgfSk7CiAgfSkuZmlsdGVyKGRlZHVwZSk7CiAgbWlzc2luZ1BhcmVudENoZWNrKHJhd1NoYXBlcyk7CiAgdmFyIGdldExvY2FsTWF0cml4ID0gKDAsIF9sYXlvdXRfZnVuY3Rpb25zLmdldExvY2FsVHJhbnNmb3JtTWF0cml4KShyYXdTaGFwZXMpOwogIHJldHVybiByYXdTaGFwZXMubWFwKGZ1bmN0aW9uIChzKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcywgewogICAgICBsb2NhbFRyYW5zZm9ybU1hdHJpeDogZ2V0TG9jYWxNYXRyaXgocykKICAgIH0pOwogIH0pOwp9OwoKZXhwb3J0cy5zaGFwZXNGb3JOb2RlcyA9IHNoYXBlc0Zvck5vZGVzOwoKdmFyIHVwZGF0ZUdsb2JhbFBvc2l0aW9uc0luUmVkdXggPSBmdW5jdGlvbiB1cGRhdGVHbG9iYWxQb3NpdGlvbnNJblJlZHV4KHNldE11bHRpcGxlUG9zaXRpb25zLCBzY2VuZSwgdW5zb3J0ZWRFbGVtZW50cykgewogIHZhciByZXBvc2l0aW9uaW5ncyA9IGdsb2JhbFBvc2l0aW9uVXBkYXRlcyhzZXRNdWx0aXBsZVBvc2l0aW9ucywgc2NlbmUsIHVuc29ydGVkRWxlbWVudHMpOwoKICBpZiAocmVwb3NpdGlvbmluZ3MubGVuZ3RoKSB7CiAgICBzZXRNdWx0aXBsZVBvc2l0aW9ucyhyZXBvc2l0aW9uaW5ncyk7CiAgfQp9OwoKdmFyIGdsb2JhbFN0YXRlVXBkYXRlciA9IGZ1bmN0aW9uIGdsb2JhbFN0YXRlVXBkYXRlcihkaXNwYXRjaCwgZ2xvYmFsU3RhdGUpIHsKICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICB2YXIgbmV4dFNjZW5lID0gc3RhdGUuY3VycmVudFNjZW5lOwogICAgdmFyIHBhZ2UgPSAoMCwgX3dvcmtwYWQuZ2V0U2VsZWN0ZWRQYWdlKShnbG9iYWxTdGF0ZSk7CiAgICB2YXIgZWxlbWVudHMgPSAoMCwgX3dvcmtwYWQuZ2V0Tm9kZXMpKGdsb2JhbFN0YXRlLCBwYWdlKTsKICAgIHZhciBzaGFwZXMgPSBuZXh0U2NlbmUuc2hhcGVzOwogICAgdmFyIHBlcnNpc3RhYmxlR3JvdXBzID0gc2hhcGVzLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICByZXR1cm4gcy5zdWJ0eXBlID09PSAncGVyc2lzdGVudEdyb3VwJzsKICAgIH0pLmZpbHRlcihkZWR1cGUpOwogICAgdmFyIHBlcnNpc3RlZEdyb3VwcyA9IGVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gKDAsIF91dGlscy5pc0dyb3VwSWQpKGUuaWQpOwogICAgfSkuZmlsdGVyKGRlZHVwZSk7CiAgICBwZXJzaXN0YWJsZUdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChnKSB7CiAgICAgIGlmICghcGVyc2lzdGVkR3JvdXBzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICBpZiAoIXAuaWQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBoYXMgbm8gaWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwLmlkID09PSBnLmlkOwogICAgICB9KSkgewogICAgICAgIHZhciBwYXJ0aWFsRWxlbWVudCA9IHsKICAgICAgICAgIGlkOiBnLmlkLAogICAgICAgICAgZmlsdGVyOiB1bmRlZmluZWQsCiAgICAgICAgICBleHByZXNzaW9uOiAnc2hhcGUgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgfCByZW5kZXInLAogICAgICAgICAgcG9zaXRpb246IF9vYmplY3RTcHJlYWQoe30sIHNoYXBlVG9FbGVtZW50KGcpKQogICAgICAgIH07CiAgICAgICAgZGlzcGF0Y2goKDAsIF9lbGVtZW50cy5hZGRFbGVtZW50KShwYWdlLCBwYXJ0aWFsRWxlbWVudCkpOwogICAgICB9CiAgICB9KTsKICAgIHZhciBlbGVtZW50c1RvUmVtb3ZlID0gcGVyc2lzdGVkR3JvdXBzLmZpbHRlciggLy8gbGlzdCBlbGVtZW50cyBmb3IgcmVtb3ZhbCBpZiB0aGV5J3JlIG5vdCBpbiB0aGUgcGVyc2lzdGFibGUgc2V0LCBvciBpZiB0aGVyZSdzIG5vIGxvbmdlciBhbiBhc3NvY2lhdGVkIGVsZW1lbnQKICAgIC8vIHRoZSBsYXR0ZXIgb2Ygd2hpY2ggc2hvdWxkbid0IGhhcHBlbiwgc28gaXQncyBiZWx0cyBhbmQgYnJhY2VzCiAgICBmdW5jdGlvbiAocCkgewogICAgICByZXR1cm4gIXBlcnNpc3RhYmxlR3JvdXBzLmZpbmQoZnVuY3Rpb24gKGcpIHsKICAgICAgICByZXR1cm4gcC5pZCA9PT0gZy5pZDsKICAgICAgfSkgfHwgIWVsZW1lbnRzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5wb3NpdGlvbi5wYXJlbnQgPT09IHAuaWQ7CiAgICAgIH0pOwogICAgfSk7CiAgICB1cGRhdGVHbG9iYWxQb3NpdGlvbnNJblJlZHV4KGZ1bmN0aW9uIChwb3NpdGlvbnMpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZWxlbWVudHMuc2V0TXVsdGlwbGVQb3NpdGlvbnMpKHBvc2l0aW9ucy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcCwgewogICAgICAgICAgcGFnZUlkOiBwYWdlCiAgICAgICAgfSk7CiAgICAgIH0pKSk7CiAgICB9LCBuZXh0U2NlbmUsIGVsZW1lbnRzKTsKCiAgICBpZiAoZWxlbWVudHNUb1JlbW92ZS5sZW5ndGgpIHsKICAgICAgLy8gcmVtb3ZlIGVsZW1lbnRzIGZvciBncm91cHMgdGhhdCB3ZXJlIHVuZ3JvdXBlZAogICAgICBkaXNwYXRjaCgoMCwgX2VsZW1lbnRzLnJlbW92ZUVsZW1lbnRzKShlbGVtZW50c1RvUmVtb3ZlLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkOwogICAgICB9KSwgcGFnZSkpOwogICAgfSAvLyBzZXQgdGhlIHNlbGVjdGVkIGVsZW1lbnQgb24gdGhlIGdsb2JhbCBzdG9yZSwgaWYgb25lIGVsZW1lbnQgaXMgc2VsZWN0ZWQKCgogICAgdmFyIHNlbGVjdGVkUHJpbWFyeVNoYXBlcyA9IG5leHRTY2VuZS5zZWxlY3RlZFByaW1hcnlTaGFwZXM7CgogICAgaWYgKCEoMCwgX3JlY29tcG9zZS5zaGFsbG93RXF1YWwpKHNlbGVjdGVkUHJpbWFyeVNoYXBlcywgZ2xvYmFsU3RhdGUudHJhbnNpZW50LnNlbGVjdGVkVG9wbGV2ZWxOb2RlcykpIHsKICAgICAgZGlzcGF0Y2goKDAsIF90cmFuc2llbnQuc2VsZWN0VG9wbGV2ZWxOb2RlcykoKDAsIF9mdW5jdGlvbmFsLmZsYXR0ZW4pKHNlbGVjdGVkUHJpbWFyeVNoYXBlcy5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi5zdGFydHNXaXRoKCdncm91cCcpICYmIChzaGFwZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgcmV0dXJuIHMuaWQgPT09IG47CiAgICAgICAgfSkgfHwge30pLnN1YnR5cGUgPT09ICdhZEhvY0dyb3VwJyA/IHNoYXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIHJldHVybiBzLnR5cGUgIT09ICdhbm5vdGF0aW9uJyAmJiBzLnBhcmVudCA9PT0gbjsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIHJldHVybiBzLmlkOwogICAgICAgIH0pIDogW25dOwogICAgICB9KSkpKTsKICAgIH0KICB9Owp9OwoKZXhwb3J0cy5nbG9iYWxTdGF0ZVVwZGF0ZXIgPSBnbG9iYWxTdGF0ZVVwZGF0ZXI7Cgp2YXIgY3Jhd2xUcmVlID0gZnVuY3Rpb24gY3Jhd2xUcmVlKHNoYXBlcykgewogIHJldHVybiBmdW5jdGlvbiAoc2hhcGVJZCkgewogICAgdmFyIHJlYyA9IGZ1bmN0aW9uIHJlYyhzaGFwZUlkKSB7CiAgICAgIHJldHVybiBbc2hhcGVJZF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSgoMCwgX2Z1bmN0aW9uYWwuZmxhdHRlbikoc2hhcGVzLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLnBvc2l0aW9uLnBhcmVudCA9PT0gc2hhcGVJZDsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgcmV0dXJuIHJlYyhzLmlkKTsKICAgICAgfSkpKSk7CiAgICB9OwoKICAgIHJldHVybiByZWMoc2hhcGVJZCk7CiAgfTsKfTsKCmV4cG9ydHMuY3Jhd2xUcmVlID0gY3Jhd2xUcmVlOw=="},null]}