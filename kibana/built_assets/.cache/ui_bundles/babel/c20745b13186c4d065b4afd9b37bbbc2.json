{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/lens/public/editor_frame_service/editor_frame/expression_helpers.js","dependencies":[{"path":"x-pack/legacy/plugins/lens/public/editor_frame_service/editor_frame/expression_helpers.js","mtime":1589249552296},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnByZXBlbmREYXRhc291cmNlRXhwcmVzc2lvbiA9IHByZXBlbmREYXRhc291cmNlRXhwcmVzc2lvbjsKZXhwb3J0cy5wcmVwZW5kS2liYW5hQ29udGV4dCA9IHByZXBlbmRLaWJhbmFDb250ZXh0OwpleHBvcnRzLmJ1aWxkRXhwcmVzc2lvbiA9IGJ1aWxkRXhwcmVzc2lvbjsKCnZhciBfY29tbW9uID0gcmVxdWlyZSgiQGtibi9pbnRlcnByZXRlci9jb21tb24iKTsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gcHJlcGVuZERhdGFzb3VyY2VFeHByZXNzaW9uKHZpc3VhbGl6YXRpb25FeHByZXNzaW9uLCBkYXRhc291cmNlTWFwLCBkYXRhc291cmNlU3RhdGVzKSB7CiAgdmFyIGRhdGFzb3VyY2VFeHByZXNzaW9ucyA9IFtdOwogIE9iamVjdC5lbnRyaWVzKGRhdGFzb3VyY2VNYXApLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHsKICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgIGRhdGFzb3VyY2VJZCA9IF9yZWYyWzBdLAogICAgICAgIGRhdGFzb3VyY2UgPSBfcmVmMlsxXTsKCiAgICB2YXIgc3RhdGUgPSBkYXRhc291cmNlU3RhdGVzW2RhdGFzb3VyY2VJZF0uc3RhdGU7CiAgICB2YXIgbGF5ZXJzID0gZGF0YXNvdXJjZS5nZXRMYXllcnMoZGF0YXNvdXJjZVN0YXRlc1tkYXRhc291cmNlSWRdLnN0YXRlKTsKICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcklkKSB7CiAgICAgIHZhciByZXN1bHQgPSBkYXRhc291cmNlLnRvRXhwcmVzc2lvbihzdGF0ZSwgbGF5ZXJJZCk7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgZGF0YXNvdXJjZUV4cHJlc3Npb25zLnB1c2goW2xheWVySWQsIHJlc3VsdF0pOwogICAgICB9CiAgICB9KTsKICB9KTsKCiAgaWYgKGRhdGFzb3VyY2VFeHByZXNzaW9ucy5sZW5ndGggPT09IDAgfHwgdmlzdWFsaXphdGlvbkV4cHJlc3Npb24gPT09IG51bGwpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIHBhcnNlZERhdGFzb3VyY2VFeHByZXNzaW9ucyA9IGRhdGFzb3VyY2VFeHByZXNzaW9ucy5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksCiAgICAgICAgbGF5ZXJJZCA9IF9yZWY0WzBdLAogICAgICAgIGV4cHIgPSBfcmVmNFsxXTsKCiAgICByZXR1cm4gW2xheWVySWQsIHR5cGVvZiBleHByID09PSAnc3RyaW5nJyA/ICgwLCBfY29tbW9uLmZyb21FeHByZXNzaW9uKShleHByKSA6IGV4cHJdOwogIH0pOwogIHZhciBkYXRhZmV0Y2hFeHByZXNzaW9uID0gewogICAgdHlwZTogJ2Z1bmN0aW9uJywKICAgIGZ1bmN0aW9uOiAnbGVuc19tZXJnZV90YWJsZXMnLAogICAgYXJndW1lbnRzOiB7CiAgICAgIGxheWVySWRzOiBwYXJzZWREYXRhc291cmNlRXhwcmVzc2lvbnMubWFwKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAxKSwKICAgICAgICAgICAgaWQgPSBfcmVmNlswXTsKCiAgICAgICAgcmV0dXJuIGlkOwogICAgICB9KSwKICAgICAgdGFibGVzOiBwYXJzZWREYXRhc291cmNlRXhwcmVzc2lvbnMubWFwKGZ1bmN0aW9uIChfcmVmNykgewogICAgICAgIHZhciBfcmVmOCA9IF9zbGljZWRUb0FycmF5KF9yZWY3LCAyKSwKICAgICAgICAgICAgaWQgPSBfcmVmOFswXSwKICAgICAgICAgICAgZXhwciA9IF9yZWY4WzFdOwoKICAgICAgICByZXR1cm4gZXhwcjsKICAgICAgfSkKICAgIH0KICB9OwogIHZhciBwYXJzZWRWaXN1YWxpemF0aW9uRXhwcmVzc2lvbiA9IHR5cGVvZiB2aXN1YWxpemF0aW9uRXhwcmVzc2lvbiA9PT0gJ3N0cmluZycgPyAoMCwgX2NvbW1vbi5mcm9tRXhwcmVzc2lvbikodmlzdWFsaXphdGlvbkV4cHJlc3Npb24pIDogdmlzdWFsaXphdGlvbkV4cHJlc3Npb247CiAgcmV0dXJuIHsKICAgIHR5cGU6ICdleHByZXNzaW9uJywKICAgIGNoYWluOiBbZGF0YWZldGNoRXhwcmVzc2lvbl0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJzZWRWaXN1YWxpemF0aW9uRXhwcmVzc2lvbi5jaGFpbikpCiAgfTsKfQoKZnVuY3Rpb24gcHJlcGVuZEtpYmFuYUNvbnRleHQoZXhwcmVzc2lvbiwgX3JlZjkpIHsKICB2YXIgdGltZVJhbmdlID0gX3JlZjkudGltZVJhbmdlLAogICAgICBxdWVyeSA9IF9yZWY5LnF1ZXJ5LAogICAgICBmaWx0ZXJzID0gX3JlZjkuZmlsdGVyczsKICB2YXIgcGFyc2VkRXhwcmVzc2lvbiA9IHR5cGVvZiBleHByZXNzaW9uID09PSAnc3RyaW5nJyA/ICgwLCBfY29tbW9uLmZyb21FeHByZXNzaW9uKShleHByZXNzaW9uKSA6IGV4cHJlc3Npb247CiAgcmV0dXJuIHsKICAgIHR5cGU6ICdleHByZXNzaW9uJywKICAgIGNoYWluOiBbewogICAgICB0eXBlOiAnZnVuY3Rpb24nLAogICAgICBmdW5jdGlvbjogJ2tpYmFuYScsCiAgICAgIGFyZ3VtZW50czoge30KICAgIH0sIHsKICAgICAgdHlwZTogJ2Z1bmN0aW9uJywKICAgICAgZnVuY3Rpb246ICdraWJhbmFfY29udGV4dCcsCiAgICAgIGFyZ3VtZW50czogewogICAgICAgIHRpbWVSYW5nZTogdGltZVJhbmdlID8gW0pTT04uc3RyaW5naWZ5KHRpbWVSYW5nZSldIDogW10sCiAgICAgICAgcXVlcnk6IHF1ZXJ5ID8gW0pTT04uc3RyaW5naWZ5KHF1ZXJ5KV0gOiBbXSwKICAgICAgICBmaWx0ZXJzOiBbSlNPTi5zdHJpbmdpZnkoZmlsdGVycyB8fCBbXSldCiAgICAgIH0KICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyc2VkRXhwcmVzc2lvbi5jaGFpbikpCiAgfTsKfQoKZnVuY3Rpb24gYnVpbGRFeHByZXNzaW9uKF9yZWYxMCkgewogIHZhciB2aXN1YWxpemF0aW9uID0gX3JlZjEwLnZpc3VhbGl6YXRpb24sCiAgICAgIHZpc3VhbGl6YXRpb25TdGF0ZSA9IF9yZWYxMC52aXN1YWxpemF0aW9uU3RhdGUsCiAgICAgIGRhdGFzb3VyY2VNYXAgPSBfcmVmMTAuZGF0YXNvdXJjZU1hcCwKICAgICAgZGF0YXNvdXJjZVN0YXRlcyA9IF9yZWYxMC5kYXRhc291cmNlU3RhdGVzLAogICAgICBmcmFtZVB1YmxpY0FQSSA9IF9yZWYxMC5mcmFtZVB1YmxpY0FQSSwKICAgICAgcmVtb3ZlRGF0ZVJhbmdlID0gX3JlZjEwLnJlbW92ZURhdGVSYW5nZTsKCiAgaWYgKHZpc3VhbGl6YXRpb24gPT09IG51bGwpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uID0gdmlzdWFsaXphdGlvbi50b0V4cHJlc3Npb24odmlzdWFsaXphdGlvblN0YXRlLCBmcmFtZVB1YmxpY0FQSSk7CiAgdmFyIGV4cHJlc3Npb25Db250ZXh0ID0gcmVtb3ZlRGF0ZVJhbmdlID8gewogICAgcXVlcnk6IGZyYW1lUHVibGljQVBJLnF1ZXJ5LAogICAgZmlsdGVyczogZnJhbWVQdWJsaWNBUEkuZmlsdGVycwogIH0gOiB7CiAgICBxdWVyeTogZnJhbWVQdWJsaWNBUEkucXVlcnksCiAgICB0aW1lUmFuZ2U6IHsKICAgICAgZnJvbTogZnJhbWVQdWJsaWNBUEkuZGF0ZVJhbmdlLmZyb21EYXRlLAogICAgICB0bzogZnJhbWVQdWJsaWNBUEkuZGF0ZVJhbmdlLnRvRGF0ZQogICAgfSwKICAgIGZpbHRlcnM6IGZyYW1lUHVibGljQVBJLmZpbHRlcnMKICB9OwogIHZhciBjb21wbGV0ZUV4cHJlc3Npb24gPSBwcmVwZW5kRGF0YXNvdXJjZUV4cHJlc3Npb24odmlzdWFsaXphdGlvbkV4cHJlc3Npb24sIGRhdGFzb3VyY2VNYXAsIGRhdGFzb3VyY2VTdGF0ZXMpOwoKICBpZiAoY29tcGxldGVFeHByZXNzaW9uKSB7CiAgICByZXR1cm4gcHJlcGVuZEtpYmFuYUNvbnRleHQoY29tcGxldGVFeHByZXNzaW9uLCBleHByZXNzaW9uQ29udGV4dCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBudWxsOwogIH0KfQ=="},null]}