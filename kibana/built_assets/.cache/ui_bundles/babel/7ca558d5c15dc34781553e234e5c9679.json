{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/monitoring/public/components/kibana/instances/instances.js","dependencies":[{"path":"x-pack/legacy/plugins/monitoring/public/components/kibana/instances/instances.js","mtime":1589249552540},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLktpYmFuYUluc3RhbmNlcyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9jbHVzdGVyX3N0YXR1cyA9IHJlcXVpcmUoIi4uL2NsdXN0ZXJfc3RhdHVzIik7Cgp2YXIgX3RhYmxlID0gcmVxdWlyZSgiLi4vLi4vdGFibGUiKTsKCnZhciBfc3RhdHVzX2ljb24gPSByZXF1aXJlKCIuLi9zdGF0dXNfaWNvbiIpOwoKdmFyIF9zdGF0dXNfaWNvbjIgPSByZXF1aXJlKCJwbHVnaW5zL21vbml0b3JpbmcvY29tcG9uZW50cy9zdGF0dXNfaWNvbiIpOwoKdmFyIF9mb3JtYXRfbnVtYmVyID0gcmVxdWlyZSgiLi4vLi4vLi4vbGliL2Zvcm1hdF9udW1iZXIiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfYmFkZ2UgPSByZXF1aXJlKCIuLi8uLi9zZXR1cF9tb2RlL2JhZGdlIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMiKTsKCnZhciBfbGlzdGluZ19jYWxsb3V0ID0gcmVxdWlyZSgiLi4vLi4vc2V0dXBfbW9kZS9saXN0aW5nX2NhbGxvdXQiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKdmFyIGdldENvbHVtbnMgPSBmdW5jdGlvbiBnZXRDb2x1bW5zKHNldHVwTW9kZSkgewogIHZhciBjb2x1bW5zID0gW3sKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tb25pdG9yaW5nLmtpYmFuYS5saXN0aW5nLm5hbWVDb2x1bW5UaXRsZScsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOYW1lJwogICAgfSksCiAgICBmaWVsZDogJ25hbWUnLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIobmFtZSwga2liYW5hKSB7CiAgICAgIHZhciBzZXR1cE1vZGVTdGF0dXMgPSBudWxsOwoKICAgICAgaWYgKHNldHVwTW9kZSAmJiBzZXR1cE1vZGUuZW5hYmxlZCkgewogICAgICAgIHZhciBsaXN0ID0gKDAsIF9sb2Rhc2guZ2V0KShzZXR1cE1vZGUsICdkYXRhLmJ5VXVpZCcsIHt9KTsKICAgICAgICB2YXIgdXVpZCA9ICgwLCBfbG9kYXNoLmdldCkoa2liYW5hLCAna2liYW5hLnV1aWQnKTsKICAgICAgICB2YXIgc3RhdHVzID0gbGlzdFt1dWlkXSB8fCB7fTsKICAgICAgICB2YXIgaW5zdGFuY2UgPSB7CiAgICAgICAgICB1dWlkOiB1dWlkLAogICAgICAgICAgbmFtZToga2liYW5hLm5hbWUKICAgICAgICB9OwogICAgICAgIHNldHVwTW9kZVN0YXR1cyA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogIm1vblRhYmxlQ2VsbF9fc2V0dXBNb2RlU3RhdHVzIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2JhZGdlLlNldHVwTW9kZUJhZGdlLCB7CiAgICAgICAgICBzZXR1cE1vZGU6IHNldHVwTW9kZSwKICAgICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLAogICAgICAgICAgcHJvZHVjdE5hbWU6IF9jb25zdGFudHMuS0lCQU5BX1NZU1RFTV9JRAogICAgICAgIH0pKTsKCiAgICAgICAgaWYgKHN0YXR1cy5pc05ldE5ld1VzZXIpIHsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBuYW1lLCBzZXR1cE1vZGVTdGF0dXMpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgaHJlZjogIiMva2liYW5hL2luc3RhbmNlcy8iLmNvbmNhdChraWJhbmEua2liYW5hLnV1aWQpLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJraWJhbmFMaW5rLSIuY29uY2F0KG5hbWUpCiAgICAgIH0sIG5hbWUpLCBzZXR1cE1vZGVTdGF0dXMpOwogICAgfQogIH0sIHsKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tb25pdG9yaW5nLmtpYmFuYS5saXN0aW5nLnN0YXR1c0NvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1N0YXR1cycKICAgIH0pLAogICAgZmllbGQ6ICdzdGF0dXMnLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoc3RhdHVzLCBraWJhbmEpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1vbml0b3Jpbmcua2liYW5hLmxpc3RpbmcuaW5zdGFuY2VTdGF0dXNUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5zdGFuY2Ugc3RhdHVzOiB7a2liYW5hU3RhdHVzfScsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAga2liYW5hU3RhdHVzOiBzdGF0dXMKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICBjbGFzc05hbWU6ICJtb25UYWJsZUNlbGxfX3N0YXR1cyIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc3RhdHVzX2ljb24uS2liYW5hU3RhdHVzSWNvbiwgewogICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgIGF2YWlsYWJpbGl0eToga2liYW5hLmF2YWlsYWJpbGl0eQogICAgICB9KSwgIlx4QTAiLCAha2liYW5hLmF2YWlsYWJpbGl0eSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5tb25pdG9yaW5nLmtpYmFuYS5saXN0aW5nLmluc3RhbmNlU3RhdHVzLm9mZmxpbmVMYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJPZmZsaW5lIgogICAgICB9KSA6ICgwLCBfbG9kYXNoLmNhcGl0YWxpemUpKHN0YXR1cykpOwogICAgfQogIH0sIHsKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tb25pdG9yaW5nLmtpYmFuYS5saXN0aW5nLmxvYWRBdmVyYWdlQ29sdW1uVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG9hZCBBdmVyYWdlJwogICAgfSksCiAgICBmaWVsZDogJ29zLmxvYWQuMW0nLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodmFsdWUpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAoMCwgX2Zvcm1hdF9udW1iZXIuZm9ybWF0TWV0cmljKSh2YWx1ZSwgJzAuMDAnKSk7CiAgICB9CiAgfSwgewogICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1vbml0b3Jpbmcua2liYW5hLmxpc3RpbmcubWVtb3J5U2l6ZUNvbHVtblRpdGxlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ01lbW9yeSBTaXplJwogICAgfSksCiAgICBmaWVsZDogJ3Byb2Nlc3MubWVtb3J5LnJlc2lkZW50X3NldF9zaXplX2luX2J5dGVzJywKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHZhbHVlKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgKDAsIF9mb3JtYXRfbnVtYmVyLmZvcm1hdE51bWJlcikodmFsdWUsICdieXRlJykpOwogICAgfQogIH0sIHsKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tb25pdG9yaW5nLmtpYmFuYS5saXN0aW5nLnJlcXVlc3RzQ29sdW1uVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVxdWVzdHMnCiAgICB9KSwKICAgIGZpZWxkOiAncmVxdWVzdHMudG90YWwnLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodmFsdWUpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAoMCwgX2Zvcm1hdF9udW1iZXIuZm9ybWF0TnVtYmVyKSh2YWx1ZSwgJ2ludF9jb21tYXMnKSk7CiAgICB9CiAgfSwgewogICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1vbml0b3Jpbmcua2liYW5hLmxpc3RpbmcucmVzcG9uc2VUaW1lQ29sdW1uVGl0bGUnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVzcG9uc2UgVGltZXMnCiAgICB9KSwKICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRoaXMgZG9lcyBub3QgZXhpc3QgdGhyb3VnaCBNQiBjb2xsZWN0aW9uCiAgICBmaWVsZDogJ3Jlc3BvbnNlX3RpbWVzLmF2ZXJhZ2UnLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodmFsdWUsIGtpYmFuYSkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAibW9uVGFibGVDZWxsX19zcGxpdE51bWJlciIKICAgICAgfSwgKDAsIF9mb3JtYXRfbnVtYmVyLmZvcm1hdE51bWJlcikodmFsdWUsICdpbnRfY29tbWFzJykgKyAnIG1zIGF2ZycpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAibW9uVGFibGVDZWxsX19zcGxpdE51bWJlciIKICAgICAgfSwgKDAsIF9mb3JtYXRfbnVtYmVyLmZvcm1hdE51bWJlcikoa2liYW5hLnJlc3BvbnNlX3RpbWVzLm1heCwgJ2ludF9jb21tYXMnKSwgIiBtcyBtYXgiKSk7CiAgICB9CiAgfV07CiAgcmV0dXJuIGNvbHVtbnM7Cn07Cgp2YXIgS2liYW5hSW5zdGFuY2VzID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoS2liYW5hSW5zdGFuY2VzLCBfUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEtpYmFuYUluc3RhbmNlcygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLaWJhbmFJbnN0YW5jZXMpOwoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoS2liYW5hSW5zdGFuY2VzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICB9CgogIF9jcmVhdGVDbGFzcyhLaWJhbmFJbnN0YW5jZXMsIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNsdXN0ZXJTdGF0dXMgPSBfdGhpcyRwcm9wcy5jbHVzdGVyU3RhdHVzLAogICAgICAgICAgYW5ndWxhciA9IF90aGlzJHByb3BzLmFuZ3VsYXIsCiAgICAgICAgICBzZXR1cE1vZGUgPSBfdGhpcyRwcm9wcy5zZXR1cE1vZGUsCiAgICAgICAgICBzb3J0aW5nID0gX3RoaXMkcHJvcHMuc29ydGluZywKICAgICAgICAgIHBhZ2luYXRpb24gPSBfdGhpcyRwcm9wcy5wYWdpbmF0aW9uLAogICAgICAgICAgb25UYWJsZUNoYW5nZSA9IF90aGlzJHByb3BzLm9uVGFibGVDaGFuZ2U7CiAgICAgIHZhciBzZXR1cE1vZGVDYWxsT3V0ID0gbnVsbDsgLy8gTWVyZ2UgdGhlIGluc3RhbmNlcyBkYXRhIHdpdGggdGhlIHNldHVwIGRhdGEgaWYgZW5hYmxlZAoKICAgICAgdmFyIGluc3RhbmNlcyA9IHRoaXMucHJvcHMuaW5zdGFuY2VzIHx8IFtdOwoKICAgICAgaWYgKHNldHVwTW9kZS5lbmFibGVkICYmIHNldHVwTW9kZS5kYXRhKSB7CiAgICAgICAgLy8gV2Ugd2FudCB0byBjcmVhdGUgYSBzZWFtbGVzcyBleHBlcmllbmNlIGZvciB0aGUgdXNlciBieSBtZXJnaW5nIGluIHRoZSBzZXR1cCBkYXRhCiAgICAgICAgLy8gYW5kIHRoZSBub2RlIGRhdGEgZnJvbSBtb25pdG9yaW5nIGluZGljZXMgaW4gdGhlIGxpa2VseSBzY2VuYXJpbyB3aGVyZSBzb21lIGluc3RhbmNlcwogICAgICAgIC8vIGFyZSB1c2luZyBNQiBjb2xsZWN0aW9uIGFuZCBzb21lIGFyZSB1c2luZyBubyBjb2xsZWN0aW9uCiAgICAgICAgdmFyIGluc3RhbmNlc0J5VXVpZCA9IGluc3RhbmNlcy5yZWR1Y2UoZnVuY3Rpb24gKGJ5VXVpZCwgaW5zdGFuY2UpIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBieVV1aWQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgKDAsIF9sb2Rhc2guZ2V0KShpbnN0YW5jZSwgJ2tpYmFuYS51dWlkJyksIGluc3RhbmNlKSk7CiAgICAgICAgfSwge30pOwogICAgICAgIGluc3RhbmNlcy5wdXNoLmFwcGx5KGluc3RhbmNlcywgX3RvQ29uc3VtYWJsZUFycmF5KE9iamVjdC5lbnRyaWVzKHNldHVwTW9kZS5kYXRhLmJ5VXVpZCkucmVkdWNlKGZ1bmN0aW9uIChpbnN0YW5jZXMsIF9yZWYpIHsKICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICAgIG5vZGVVdWlkID0gX3JlZjJbMF0sCiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBfcmVmMlsxXTsKCiAgICAgICAgICBpZiAoIWluc3RhbmNlc0J5VXVpZFtub2RlVXVpZF0pIHsKICAgICAgICAgICAgaW5zdGFuY2VzLnB1c2goewogICAgICAgICAgICAgIGtpYmFuYTogX29iamVjdFNwcmVhZCh7fSwgaW5zdGFuY2UuaW5zdGFuY2Uua2liYW5hLCB7CiAgICAgICAgICAgICAgICBzdGF0dXM6IF9zdGF0dXNfaWNvbjIuU3RhdHVzSWNvbi5UWVBFUy5HUkFZCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGluc3RhbmNlczsKICAgICAgICB9LCBbXSkpKTsKICAgICAgICBzZXR1cE1vZGVDYWxsT3V0ID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbGlzdGluZ19jYWxsb3V0Lkxpc3RpbmdDYWxsT3V0LCB7CiAgICAgICAgICBzZXR1cE1vZGVEYXRhOiBzZXR1cE1vZGUuZGF0YSwKICAgICAgICAgIHVzZU5vZGVJZGVudGlmaWVyOiBmYWxzZSwKICAgICAgICAgIHByb2R1Y3ROYW1lOiBfY29uc3RhbnRzLktJQkFOQV9TWVNURU1fSUQsCiAgICAgICAgICBjdXN0b21SZW5kZXJlcjogZnVuY3Rpb24gY3VzdG9tUmVuZGVyZXIoKSB7CiAgICAgICAgICAgIHZhciBjdXN0b21SZW5kZXJSZXNwb25zZSA9IHsKICAgICAgICAgICAgICBzaG91bGRSZW5kZXI6IGZhbHNlLAogICAgICAgICAgICAgIGNvbXBvbmVudFRvUmVuZGVyOiBudWxsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBoYXNJbnN0YW5jZXMgPSBzZXR1cE1vZGUuZGF0YS50b3RhbFVuaXF1ZUluc3RhbmNlQ291bnQgPiAwOwoKICAgICAgICAgICAgaWYgKCFoYXNJbnN0YW5jZXMpIHsKICAgICAgICAgICAgICBjdXN0b21SZW5kZXJSZXNwb25zZS5zaG91bGRSZW5kZXIgPSB0cnVlOwogICAgICAgICAgICAgIGN1c3RvbVJlbmRlclJlc3BvbnNlLmNvbXBvbmVudFRvUmVuZGVyID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDYWxsT3V0LCB7CiAgICAgICAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1vbml0b3Jpbmcua2liYW5hLmluc3RhbmNlcy5tZXRyaWNiZWF0TWlncmF0aW9uLmRldGVjdGVkTm9kZVRpdGxlJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0tpYmFuYSBpbnN0YW5jZSBkZXRlY3RlZCcKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgY29sb3I6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIGljb25UeXBlOiAiZmxhZyIKICAgICAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1vbml0b3Jpbmcua2liYW5hLmluc3RhbmNlcy5tZXRyaWNiZWF0TWlncmF0aW9uLmRldGVjdGVkTm9kZURlc2NyaXB0aW9uJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgZm9sbG93aW5nIGluc3RhbmNlcyBhcmUgbm90IG1vbml0b3JlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIENsaWNrICdNb25pdG9yIHdpdGggTWV0cmljYmVhdCcgYmVsb3cgdG8gc3RhcnQgbW9uaXRvcmluZy4iCiAgICAgICAgICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gY3VzdG9tUmVuZGVyUmVzcG9uc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBkYXRhRmxhdHRlbmVkID0gaW5zdGFuY2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtLCB7CiAgICAgICAgICBuYW1lOiBpdGVtLmtpYmFuYS5uYW1lLAogICAgICAgICAgc3RhdHVzOiBpdGVtLmtpYmFuYS5zdGF0dXMKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFnZSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhZ2VCb2R5LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NsdXN0ZXJfc3RhdHVzLkNsdXN0ZXJTdGF0dXMsIHsKICAgICAgICBzdGF0czogY2x1c3RlclN0YXR1cwogICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSksIHNldHVwTW9kZUNhbGxPdXQsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYWdlQ29udGVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdGFibGUuRXVpTW9uaXRvcmluZ1RhYmxlLCB7CiAgICAgICAgY2xhc3NOYW1lOiAia2liYW5hSW5zdGFuY2VzVGFibGUiLAogICAgICAgIHJvd3M6IGRhdGFGbGF0dGVuZWQsCiAgICAgICAgY29sdW1uczogZ2V0Q29sdW1ucyhhbmd1bGFyLmtiblVybCwgYW5ndWxhci4kc2NvcGUsIHNldHVwTW9kZSksCiAgICAgICAgc29ydGluZzogc29ydGluZywKICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLAogICAgICAgIHNldHVwTW9kZTogc2V0dXBNb2RlLAogICAgICAgIHByb2R1Y3ROYW1lOiBfY29uc3RhbnRzLktJQkFOQV9TWVNURU1fSUQsCiAgICAgICAgc2VhcmNoOiB7CiAgICAgICAgICBib3g6IHsKICAgICAgICAgICAgaW5jcmVtZW50YWw6IHRydWUsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subW9uaXRvcmluZy5raWJhbmEubGlzdGluZy5maWx0ZXJJbnN0YW5jZXNQbGFjZWhvbGRlcicsIHsKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0ZpbHRlciBJbnN0YW5jZXPigKYnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvblRhYmxlQ2hhbmdlOiBvblRhYmxlQ2hhbmdlLAogICAgICAgIGV4ZWN1dGVRdWVyeU9wdGlvbnM6IHsKICAgICAgICAgIGRlZmF1bHRGaWVsZHM6IFsnbmFtZSddCiAgICAgICAgfQogICAgICB9KSkpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBLaWJhbmFJbnN0YW5jZXM7Cn0oX3JlYWN0LlB1cmVDb21wb25lbnQpOwoKZXhwb3J0cy5LaWJhbmFJbnN0YW5jZXMgPSBLaWJhbmFJbnN0YW5jZXM7"},null]}