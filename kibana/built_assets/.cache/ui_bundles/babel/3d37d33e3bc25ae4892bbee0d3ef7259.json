{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/uptime/public/pages/settings.js","dependencies":[{"path":"x-pack/legacy/plugins/uptime/public/pages/settings.js","mtime":1589249553684},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNldHRpbmdzUGFnZSA9IGV4cG9ydHMuU2V0dGluZ3NQYWdlQ29tcG9uZW50ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX3JlYWN0UmVkdXggPSByZXF1aXJlKCJyZWFjdC1yZWR1eCIpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9yZWFjdFJvdXRlckRvbSA9IHJlcXVpcmUoInJlYWN0LXJvdXRlci1kb20iKTsKCnZhciBfc2VsZWN0b3JzID0gcmVxdWlyZSgiLi4vc3RhdGUvc2VsZWN0b3JzIik7Cgp2YXIgX2R5bmFtaWNfc2V0dGluZ3MgPSByZXF1aXJlKCIuLi9zdGF0ZS9hY3Rpb25zL2R5bmFtaWNfc2V0dGluZ3MiKTsKCnZhciBfcnVudGltZV90eXBlcyA9IHJlcXVpcmUoIi4uLy4uL2NvbW1vbi9ydW50aW1lX3R5cGVzIik7Cgp2YXIgX3VzZV9icmVhZGNydW1icyA9IHJlcXVpcmUoIi4uL2hvb2tzL3VzZV9icmVhZGNydW1icyIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi9jb21tb24vY29uc3RhbnRzIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL2tpYmFuYV9yZWFjdC9wdWJsaWMiKTsKCnZhciBfaG9va3MgPSByZXF1aXJlKCIuLi9ob29rcyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIFNldHRpbmdzUGFnZUNvbXBvbmVudCA9IGZ1bmN0aW9uIFNldHRpbmdzUGFnZUNvbXBvbmVudChfcmVmKSB7CiAgdmFyIF91c2VLaWJhbmEkc2VydmljZXMsIF91c2VLaWJhbmEkc2VydmljZXMkYTsKCiAgdmFyIGRzcyA9IF9yZWYuZHluYW1pY1NldHRpbmdzU3RhdGUsCiAgICAgIGRpc3BhdGNoR2V0RHluYW1pY1NldHRpbmdzID0gX3JlZi5kaXNwYXRjaEdldER5bmFtaWNTZXR0aW5ncywKICAgICAgZGlzcGF0Y2hTZXREeW5hbWljU2V0dGluZ3MgPSBfcmVmLmRpc3BhdGNoU2V0RHluYW1pY1NldHRpbmdzOwoKICB2YXIgc2V0dGluZ3NCcmVhZGNydW1iVGV4dCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay51cHRpbWUuc2V0dGluZ3NCcmVhZGNydW1iVGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU2V0dGluZ3MnCiAgfSk7CgogICgwLCBfdXNlX2JyZWFkY3J1bWJzLnVzZUJyZWFkY3J1bWJzKShbewogICAgdGV4dDogc2V0dGluZ3NCcmVhZGNydW1iVGV4dAogIH1dKTsKICAoMCwgX2hvb2tzLnVzZVVwdGltZVRlbGVtZXRyeSkoX2hvb2tzLlVwdGltZVBhZ2UuU2V0dGluZ3MpOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaEdldER5bmFtaWNTZXR0aW5ncyh7fSk7CiAgfSwgW2Rpc3BhdGNoR2V0RHluYW1pY1NldHRpbmdzXSk7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShkc3Muc2V0dGluZ3MgfHwgbnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBmb3JtRmllbGRzID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0Rm9ybUZpZWxkcyA9IF91c2VTdGF0ZTJbMV07CgogIGlmICghZHNzLmxvYWRFcnJvciAmJiBmb3JtRmllbGRzID09IG51bGwgJiYgZHNzLnNldHRpbmdzKSB7CiAgICBzZXRGb3JtRmllbGRzKF9vYmplY3RTcHJlYWQoe30sIGRzcy5zZXR0aW5ncykpOwogIH0KCiAgdmFyIGZpZWxkRXJyb3JzID0gZm9ybUZpZWxkcyAmJiB7CiAgICBoZWFydGJlYXRJbmRpY2VzOiBmb3JtRmllbGRzLmhlYXJ0YmVhdEluZGljZXMubWF0Y2goL15cUyskLykgPyBudWxsIDogJ01heSBub3QgYmUgYmxhbmsnCiAgfTsKICB2YXIgaXNGb3JtVmFsaWQgPSAhKGZpZWxkRXJyb3JzICYmIE9iamVjdC52YWx1ZXMoZmllbGRFcnJvcnMpLmZpbmQoZnVuY3Rpb24gKHYpIHsKICAgIHJldHVybiAhIXY7CiAgfSkpOwoKICB2YXIgb25DaGFuZ2VGb3JtRmllbGQgPSBmdW5jdGlvbiBvbkNoYW5nZUZvcm1GaWVsZChmaWVsZCwgdmFsdWUpIHsKICAgIGlmIChmb3JtRmllbGRzKSB7CiAgICAgIGZvcm1GaWVsZHNbZmllbGRdID0gdmFsdWU7CiAgICAgIHNldEZvcm1GaWVsZHMoX29iamVjdFNwcmVhZCh7fSwgZm9ybUZpZWxkcykpOwogICAgfQogIH07CgogIHZhciBvbkFwcGx5ID0gZnVuY3Rpb24gb25BcHBseShldmVudCkgewogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICBpZiAoZm9ybUZpZWxkcykgewogICAgICBkaXNwYXRjaFNldER5bmFtaWNTZXR0aW5ncyhmb3JtRmllbGRzKTsKICAgIH0KICB9OwoKICB2YXIgcmVzZXRGb3JtID0gZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgaWYgKGZvcm1GaWVsZHMgJiYgZHNzLnNldHRpbmdzKSB7CiAgICAgIHNldEZvcm1GaWVsZHMoX29iamVjdFNwcmVhZCh7fSwgZHNzLnNldHRpbmdzKSk7CiAgICB9CiAgfTsKCiAgdmFyIGlzRm9ybURpcnR5ID0gZHNzLnNldHRpbmdzID8gISgwLCBfbG9kYXNoLmlzRXF1YWwpKGRzcy5zZXR0aW5ncywgZm9ybUZpZWxkcykgOiB0cnVlOwogIHZhciBjYW5FZGl0ID0gISEoKF91c2VLaWJhbmEkc2VydmljZXMgPSAoMCwgX3B1YmxpYy51c2VLaWJhbmEpKCkuc2VydmljZXMpID09PSBudWxsIHx8IF91c2VLaWJhbmEkc2VydmljZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdXNlS2liYW5hJHNlcnZpY2VzJGEgPSBfdXNlS2liYW5hJHNlcnZpY2VzLmFwcGxpY2F0aW9uKSA9PT0gbnVsbCB8fCBfdXNlS2liYW5hJHNlcnZpY2VzJGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91c2VLaWJhbmEkc2VydmljZXMkYS5jYXBhYmlsaXRpZXMudXB0aW1lLmNvbmZpZ3VyZVNldHRpbmdzKSB8fCBmYWxzZTsKICB2YXIgaXNGb3JtRGlzYWJsZWQgPSBkc3MubG9hZGluZyB8fCAhY2FuRWRpdDsKCiAgdmFyIGVkaXROb3RpY2VUaXRsZSA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay51cHRpbWUuc2V0dGluZ3MuY2Fubm90RWRpdFRpdGxlJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBlZGl0IHNldHRpbmdzLicKICB9KTsKCiAgdmFyIGVkaXROb3RpY2VUZXh0ID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnVwdGltZS5zZXR0aW5ncy5jYW5ub3RFZGl0VGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAiWW91ciB1c2VyIGN1cnJlbnRseSBoYXMgJ1JlYWQnIHBlcm1pc3Npb25zIGZvciB0aGUgVXB0aW1lIGFwcC4gRW5hYmxlIGEgcGVybWlzc2lvbnMtbGV2ZWwgb2YgJ0FsbCcgdG8gZWRpdCB0aGVzZSBzZXR0aW5ncy4iCiAgfSk7CgogIHZhciBjYW5ub3RFZGl0Tm90aWNlID0gY2FuRWRpdCA/IG51bGwgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgdGl0bGU6IGVkaXROb3RpY2VUaXRsZQogIH0sIGVkaXROb3RpY2VUZXh0KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogInMiCiAgfSkpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlckRvbS5MaW5rLCB7CiAgICB0bzogX2NvbnN0YW50cy5PVkVSVklFV19ST1VURQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgc2l6ZTogInMiLAogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGljb25UeXBlOiAiYXJyb3dMZWZ0IgogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay51cHRpbWUuc2V0dGluZ3MucmV0dXJuVG9PdmVydmlld0xpbmtMYWJlbCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnUmV0dXJuIHRvIG92ZXJ2aWV3JwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJzIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBjYW5ub3RFZGl0Tm90aWNlKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgewogICAgb25TdWJtaXQ6IG9uQXBwbHkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICBzaXplOiAicyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLnVwdGltZS5zb3VyY2VDb25maWd1cmF0aW9uLmluZGljZXNTZWN0aW9uVGl0bGUiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJJbmRpY2VzIgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRGVzY3JpYmVkRm9ybUdyb3VwLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDQiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICBpZDogInhwYWNrLnVwdGltZS5zb3VyY2VDb25maWd1cmF0aW9uLmhlYXJ0YmVhdEluZGljZXNUaXRsZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVXB0aW1lIGluZGljZXMiCiAgICB9KSksCiAgICBkZXNjcmlwdGlvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay51cHRpbWUuc291cmNlQ29uZmlndXJhdGlvbi5oZWFydGJlYXRJbmRpY2VzRGVzY3JpcHRpb24iLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkluZGV4IHBhdHRlcm4gZm9yIG1hdGNoaW5nIGluZGljZXMgdGhhdCBjb250YWluIEhlYXJ0YmVhdCBkYXRhIgogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgZGVzY3JpYmVkQnlJZHM6IFsnaGVhcnRiZWF0SW5kaWNlcyddLAogICAgZXJyb3I6IGZpZWxkRXJyb3JzID09PSBudWxsIHx8IGZpZWxkRXJyb3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWVsZEVycm9ycy5oZWFydGJlYXRJbmRpY2VzLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgaGVscFRleHQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgIGlkOiAieHBhY2sudXB0aW1lLnNvdXJjZUNvbmZpZ3VyYXRpb24uaGVhcnRiZWF0SW5kaWNlc0RlZmF1bHRWYWx1ZSIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGhlIGRlZmF1bHQgdmFsdWUgaXMge2RlZmF1bHRWYWx1ZX0iLAogICAgICB2YWx1ZXM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb2RlLCBudWxsLCBfcnVudGltZV90eXBlcy5kZWZhdWx0RHluYW1pY1NldHRpbmdzLmhlYXJ0YmVhdEluZGljZXMpCiAgICAgIH0KICAgIH0pLAogICAgaXNJbnZhbGlkOiAhIShmaWVsZEVycm9ycyA9PT0gbnVsbCB8fCBmaWVsZEVycm9ycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmllbGRFcnJvcnMuaGVhcnRiZWF0SW5kaWNlcyksCiAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay51cHRpbWUuc291cmNlQ29uZmlndXJhdGlvbi5oZWFydGJlYXRJbmRpY2VzTGFiZWwiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIkhlYXJ0YmVhdCBpbmRpY2VzIgogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiaGVhcnRiZWF0LWluZGljZXMtaW5wdXQtIi5jb25jYXQoZHNzLmxvYWRpbmcgPyAnbG9hZGluZycgOiAnbG9hZGVkJyksCiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBkaXNhYmxlZDogaXNGb3JtRGlzYWJsZWQsCiAgICBpc0xvYWRpbmc6IGRzcy5sb2FkaW5nLAogICAgdmFsdWU6IChmb3JtRmllbGRzID09PSBudWxsIHx8IGZvcm1GaWVsZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvcm1GaWVsZHMuaGVhcnRiZWF0SW5kaWNlcykgfHwgJycsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgcmV0dXJuIG9uQ2hhbmdlRm9ybUZpZWxkKCdoZWFydGJlYXRJbmRpY2VzJywgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7CiAgICB9CiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGp1c3RpZnlDb250ZW50OiAiZmxleEVuZCIsCiAgICBndXR0ZXJTaXplOiAicyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZGlzY2FyZFNldHRpbmdzQnV0dG9uIiwKICAgIGlzRGlzYWJsZWQ6ICFpc0Zvcm1EaXJ0eSB8fCBpc0Zvcm1EaXNhYmxlZCwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJlc2V0Rm9ybSgpOwogICAgfQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLnVwdGltZS5zb3VyY2VDb25maWd1cmF0aW9uLmRpc2NhcmRTZXR0aW5nc0J1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuY2VsIgogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiYXBwbHktc2V0dGluZ3MtYnV0dG9uIiwKICAgIHR5cGU6ICJzdWJtaXQiLAogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGlzRGlzYWJsZWQ6ICFpc0Zvcm1EaXJ0eSB8fCAhaXNGb3JtVmFsaWQgfHwgaXNGb3JtRGlzYWJsZWQsCiAgICBmaWxsOiB0cnVlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgIGlkOiAieHBhY2sudXB0aW1lLnNvdXJjZUNvbmZpZ3VyYXRpb24uYXBwbHlTZXR0aW5nc0J1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQXBwbHkgY2hhbmdlcyIKICB9KSkpKSkpKSkpKTsKfTsKCmV4cG9ydHMuU2V0dGluZ3NQYWdlQ29tcG9uZW50ID0gU2V0dGluZ3NQYWdlQ29tcG9uZW50OwoKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkgewogIHJldHVybiB7CiAgICBkeW5hbWljU2V0dGluZ3NTdGF0ZTogKDAsIF9zZWxlY3RvcnMuc2VsZWN0RHluYW1pY1NldHRpbmdzKShzdGF0ZSkKICB9Owp9OwoKdmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkgewogIHJldHVybiB7CiAgICBkaXNwYXRjaEdldER5bmFtaWNTZXR0aW5nczogZnVuY3Rpb24gZGlzcGF0Y2hHZXREeW5hbWljU2V0dGluZ3MoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2R5bmFtaWNfc2V0dGluZ3MuZ2V0RHluYW1pY1NldHRpbmdzKSh7fSkpOwogICAgfSwKICAgIGRpc3BhdGNoU2V0RHluYW1pY1NldHRpbmdzOiBmdW5jdGlvbiBkaXNwYXRjaFNldER5bmFtaWNTZXR0aW5ncyhzZXR0aW5ncykgewogICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9keW5hbWljX3NldHRpbmdzLnNldER5bmFtaWNTZXR0aW5ncykoc2V0dGluZ3MpKTsKICAgIH0KICB9Owp9OwoKdmFyIFNldHRpbmdzUGFnZSA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU2V0dGluZ3NQYWdlQ29tcG9uZW50KTsKZXhwb3J0cy5TZXR0aW5nc1BhZ2UgPSBTZXR0aW5nc1BhZ2U7"},null]}