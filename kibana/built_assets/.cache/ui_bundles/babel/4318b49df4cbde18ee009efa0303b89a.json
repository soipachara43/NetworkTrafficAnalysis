{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/infra/public/containers/logs/log_flyout.js","dependencies":[{"path":"x-pack/plugins/infra/public/containers/logs/log_flyout.js","mtime":1589249554273},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldpdGhGbHlvdXRPcHRpb25zVXJsU3RhdGUgPSBleHBvcnRzLkxvZ0ZseW91dCA9IGV4cG9ydHMudXNlTG9nRmx5b3V0ID0gZXhwb3J0cy5GbHlvdXRWaXNpYmlsaXR5ID0gdm9pZCAwOwoKdmFyIF9jb25zdGF0ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiY29uc3RhdGUiKSk7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF91cmxfc3RhdGUgPSByZXF1aXJlKCIuLi8uLi91dGlscy91cmxfc3RhdGUiKTsKCnZhciBfdXNlX3RyYWNrZWRfcHJvbWlzZSA9IHJlcXVpcmUoIi4uLy4uL3V0aWxzL3VzZV90cmFja2VkX3Byb21pc2UiKTsKCnZhciBfc291cmNlID0gcmVxdWlyZSgiLi4vc291cmNlIik7Cgp2YXIgX2ZldGNoX2xvZ19lbnRyaWVzX2l0ZW0gPSByZXF1aXJlKCIuL2xvZ19lbnRyaWVzL2FwaS9mZXRjaF9sb2dfZW50cmllc19pdGVtIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsKICB0cnkgewogICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOwogICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVqZWN0KGVycm9yKTsKICAgIHJldHVybjsKICB9CgogIGlmIChpbmZvLmRvbmUpIHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0gZWxzZSB7CiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgfQp9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKCiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgfQoKICAgICAgX25leHQodW5kZWZpbmVkKTsKICAgIH0pOwogIH07Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBGbHlvdXRWaXNpYmlsaXR5OwpleHBvcnRzLkZseW91dFZpc2liaWxpdHkgPSBGbHlvdXRWaXNpYmlsaXR5OwoKKGZ1bmN0aW9uIChGbHlvdXRWaXNpYmlsaXR5KSB7CiAgRmx5b3V0VmlzaWJpbGl0eVsiaGlkZGVuIl0gPSAiaGlkZGVuIjsKICBGbHlvdXRWaXNpYmlsaXR5WyJ2aXNpYmxlIl0gPSAidmlzaWJsZSI7Cn0pKEZseW91dFZpc2liaWxpdHkgfHwgKGV4cG9ydHMuRmx5b3V0VmlzaWJpbGl0eSA9IEZseW91dFZpc2liaWxpdHkgPSB7fSkpOwoKdmFyIHVzZUxvZ0ZseW91dCA9IGZ1bmN0aW9uIHVzZUxvZ0ZseW91dCgpIHsKICB2YXIgX3VzZUNvbnRleHQgPSAoMCwgX3JlYWN0LnVzZUNvbnRleHQpKF9zb3VyY2UuU291cmNlLkNvbnRleHQpLAogICAgICBzb3VyY2VJZCA9IF91c2VDb250ZXh0LnNvdXJjZUlkOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoZmFsc2UpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgZmx5b3V0VmlzaWJsZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldEZseW91dFZpc2liaWxpdHkgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKG51bGwpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGZseW91dElkID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0Rmx5b3V0SWQgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGZseW91dEl0ZW0gPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRGbHlvdXRJdGVtID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIF91c2VTdGF0ZTcgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShudWxsKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBzdXJyb3VuZGluZ0xvZ3NJZCA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldFN1cnJvdW5kaW5nTG9nc0lkID0gX3VzZVN0YXRlOFsxXTsKCiAgdmFyIF91c2VUcmFja2VkUHJvbWlzZSA9ICgwLCBfdXNlX3RyYWNrZWRfcHJvbWlzZS51c2VUcmFja2VkUHJvbWlzZSkoewogICAgY2FuY2VsUHJldmlvdXNPbjogJ2NyZWF0aW9uJywKICAgIGNyZWF0ZVByb21pc2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVQcm9taXNlID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoZmx5b3V0SWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2ZldGNoX2xvZ19lbnRyaWVzX2l0ZW0uZmV0Y2hMb2dFbnRyaWVzSXRlbSkoewogICAgICAgICAgICAgICAgICBzb3VyY2VJZDogc291cmNlSWQsCiAgICAgICAgICAgICAgICAgIGlkOiBmbHlvdXRJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvbWlzZSgpIHsKICAgICAgICByZXR1cm4gX2NyZWF0ZVByb21pc2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZVByb21pc2U7CiAgICB9KCksCiAgICBvblJlc29sdmU6IGZ1bmN0aW9uIG9uUmVzb2x2ZShyZXNwb25zZSkgewogICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgc2V0Rmx5b3V0SXRlbShkYXRhIHx8IG51bGwpOwogICAgICB9CiAgICB9CiAgfSwgW3NvdXJjZUlkLCBmbHlvdXRJZF0pLAogICAgICBfdXNlVHJhY2tlZFByb21pc2UyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVRyYWNrZWRQcm9taXNlLCAyKSwKICAgICAgbG9hZEZseW91dEl0ZW1SZXF1ZXN0ID0gX3VzZVRyYWNrZWRQcm9taXNlMlswXSwKICAgICAgbG9hZEZseW91dEl0ZW0gPSBfdXNlVHJhY2tlZFByb21pc2UyWzFdOwoKICB2YXIgaXNMb2FkaW5nID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbG9hZEZseW91dEl0ZW1SZXF1ZXN0LnN0YXRlID09PSAncGVuZGluZyc7CiAgfSwgW2xvYWRGbHlvdXRJdGVtUmVxdWVzdC5zdGF0ZV0pOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoZmx5b3V0SWQpIHsKICAgICAgbG9hZEZseW91dEl0ZW0oKTsKICAgIH0KICB9LCBbbG9hZEZseW91dEl0ZW0sIGZseW91dElkXSk7CiAgcmV0dXJuIHsKICAgIGZseW91dFZpc2libGU6IGZseW91dFZpc2libGUsCiAgICBzZXRGbHlvdXRWaXNpYmlsaXR5OiBzZXRGbHlvdXRWaXNpYmlsaXR5LAogICAgZmx5b3V0SWQ6IGZseW91dElkLAogICAgc2V0Rmx5b3V0SWQ6IHNldEZseW91dElkLAogICAgc3Vycm91bmRpbmdMb2dzSWQ6IHN1cnJvdW5kaW5nTG9nc0lkLAogICAgc2V0U3Vycm91bmRpbmdMb2dzSWQ6IHNldFN1cnJvdW5kaW5nTG9nc0lkLAogICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsCiAgICBmbHlvdXRJdGVtOiBmbHlvdXRJdGVtCiAgfTsKfTsKCmV4cG9ydHMudXNlTG9nRmx5b3V0ID0gdXNlTG9nRmx5b3V0Owp2YXIgTG9nRmx5b3V0ID0gKDAsIF9jb25zdGF0ZS5kZWZhdWx0KSh1c2VMb2dGbHlvdXQpOwpleHBvcnRzLkxvZ0ZseW91dCA9IExvZ0ZseW91dDsKCnZhciBXaXRoRmx5b3V0T3B0aW9uc1VybFN0YXRlID0gZnVuY3Rpb24gV2l0aEZseW91dE9wdGlvbnNVcmxTdGF0ZSgpIHsKICB2YXIgX3VzZUNvbnRleHQyID0gKDAsIF9yZWFjdC51c2VDb250ZXh0KShMb2dGbHlvdXQuQ29udGV4dCksCiAgICAgIGZseW91dFZpc2libGUgPSBfdXNlQ29udGV4dDIuZmx5b3V0VmlzaWJsZSwKICAgICAgc2V0Rmx5b3V0VmlzaWJpbGl0eSA9IF91c2VDb250ZXh0Mi5zZXRGbHlvdXRWaXNpYmlsaXR5LAogICAgICBmbHlvdXRJZCA9IF91c2VDb250ZXh0Mi5mbHlvdXRJZCwKICAgICAgc2V0Rmx5b3V0SWQgPSBfdXNlQ29udGV4dDIuc2V0Rmx5b3V0SWQsCiAgICAgIHN1cnJvdW5kaW5nTG9nc0lkID0gX3VzZUNvbnRleHQyLnN1cnJvdW5kaW5nTG9nc0lkLAogICAgICBzZXRTdXJyb3VuZGluZ0xvZ3NJZCA9IF91c2VDb250ZXh0Mi5zZXRTdXJyb3VuZGluZ0xvZ3NJZDsKCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3VybF9zdGF0ZS5VcmxTdGF0ZUNvbnRhaW5lciwgewogICAgdXJsU3RhdGU6IHsKICAgICAgZmx5b3V0VmlzaWJpbGl0eTogZmx5b3V0VmlzaWJsZSA/IEZseW91dFZpc2liaWxpdHkudmlzaWJsZSA6IEZseW91dFZpc2liaWxpdHkuaGlkZGVuLAogICAgICBmbHlvdXRJZDogZmx5b3V0SWQsCiAgICAgIHN1cnJvdW5kaW5nTG9nc0lkOiBzdXJyb3VuZGluZ0xvZ3NJZAogICAgfSwKICAgIHVybFN0YXRlS2V5OiAiZmx5b3V0T3B0aW9ucyIsCiAgICBtYXBUb1VybFN0YXRlOiBtYXBUb1VybFN0YXRlLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld1VybFN0YXRlKSB7CiAgICAgIGlmIChuZXdVcmxTdGF0ZSAmJiBuZXdVcmxTdGF0ZS5mbHlvdXRJZCkgewogICAgICAgIHNldEZseW91dElkKG5ld1VybFN0YXRlLmZseW91dElkKTsKICAgICAgfQoKICAgICAgaWYgKG5ld1VybFN0YXRlICYmIG5ld1VybFN0YXRlLnN1cnJvdW5kaW5nTG9nc0lkKSB7CiAgICAgICAgc2V0U3Vycm91bmRpbmdMb2dzSWQobmV3VXJsU3RhdGUuc3Vycm91bmRpbmdMb2dzSWQpOwogICAgICB9CgogICAgICBpZiAobmV3VXJsU3RhdGUgJiYgbmV3VXJsU3RhdGUuZmx5b3V0VmlzaWJpbGl0eSA9PT0gRmx5b3V0VmlzaWJpbGl0eS52aXNpYmxlKSB7CiAgICAgICAgc2V0Rmx5b3V0VmlzaWJpbGl0eSh0cnVlKTsKICAgICAgfQoKICAgICAgaWYgKG5ld1VybFN0YXRlICYmIG5ld1VybFN0YXRlLmZseW91dFZpc2liaWxpdHkgPT09IEZseW91dFZpc2liaWxpdHkuaGlkZGVuKSB7CiAgICAgICAgc2V0Rmx5b3V0VmlzaWJpbGl0eShmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkluaXRpYWxpemU6IGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZShpbml0aWFsVXJsU3RhdGUpIHsKICAgICAgaWYgKGluaXRpYWxVcmxTdGF0ZSAmJiBpbml0aWFsVXJsU3RhdGUuZmx5b3V0SWQpIHsKICAgICAgICBzZXRGbHlvdXRJZChpbml0aWFsVXJsU3RhdGUuZmx5b3V0SWQpOwogICAgICB9CgogICAgICBpZiAoaW5pdGlhbFVybFN0YXRlICYmIGluaXRpYWxVcmxTdGF0ZS5zdXJyb3VuZGluZ0xvZ3NJZCkgewogICAgICAgIHNldFN1cnJvdW5kaW5nTG9nc0lkKGluaXRpYWxVcmxTdGF0ZS5zdXJyb3VuZGluZ0xvZ3NJZCk7CiAgICAgIH0KCiAgICAgIGlmIChpbml0aWFsVXJsU3RhdGUgJiYgaW5pdGlhbFVybFN0YXRlLmZseW91dFZpc2liaWxpdHkgPT09IEZseW91dFZpc2liaWxpdHkudmlzaWJsZSkgewogICAgICAgIHNldEZseW91dFZpc2liaWxpdHkodHJ1ZSk7CiAgICAgIH0KCiAgICAgIGlmIChpbml0aWFsVXJsU3RhdGUgJiYgaW5pdGlhbFVybFN0YXRlLmZseW91dFZpc2liaWxpdHkgPT09IEZseW91dFZpc2liaWxpdHkuaGlkZGVuKSB7CiAgICAgICAgc2V0Rmx5b3V0VmlzaWJpbGl0eShmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9KTsKfTsKCmV4cG9ydHMuV2l0aEZseW91dE9wdGlvbnNVcmxTdGF0ZSA9IFdpdGhGbHlvdXRPcHRpb25zVXJsU3RhdGU7Cgp2YXIgbWFwVG9VcmxTdGF0ZSA9IGZ1bmN0aW9uIG1hcFRvVXJsU3RhdGUodmFsdWUpIHsKICByZXR1cm4gdmFsdWUgPyB7CiAgICBmbHlvdXRJZDogbWFwVG9GbHlvdXRJZFN0YXRlKHZhbHVlLmZseW91dElkKSwKICAgIGZseW91dFZpc2liaWxpdHk6IG1hcFRvRmx5b3V0VmlzaWJpbGl0eVN0YXRlKHZhbHVlLmZseW91dFZpc2liaWxpdHkpLAogICAgc3Vycm91bmRpbmdMb2dzSWQ6IG1hcFRvU3Vycm91bmRpbmdMb2dzSWRTdGF0ZSh2YWx1ZS5zdXJyb3VuZGluZ0xvZ3NJZCkKICB9IDogdW5kZWZpbmVkOwp9OwoKdmFyIG1hcFRvRmx5b3V0SWRTdGF0ZSA9IGZ1bmN0aW9uIG1hcFRvRmx5b3V0SWRTdGF0ZShzdWJqZWN0KSB7CiAgcmV0dXJuIHN1YmplY3QgJiYgKDAsIF9sb2Rhc2guaXNTdHJpbmcpKHN1YmplY3QpID8gc3ViamVjdCA6IHVuZGVmaW5lZDsKfTsKCnZhciBtYXBUb1N1cnJvdW5kaW5nTG9nc0lkU3RhdGUgPSBmdW5jdGlvbiBtYXBUb1N1cnJvdW5kaW5nTG9nc0lkU3RhdGUoc3ViamVjdCkgewogIHJldHVybiBzdWJqZWN0ICYmICgwLCBfbG9kYXNoLmlzU3RyaW5nKShzdWJqZWN0KSA/IHN1YmplY3QgOiB1bmRlZmluZWQ7Cn07Cgp2YXIgbWFwVG9GbHlvdXRWaXNpYmlsaXR5U3RhdGUgPSBmdW5jdGlvbiBtYXBUb0ZseW91dFZpc2liaWxpdHlTdGF0ZShzdWJqZWN0KSB7CiAgaWYgKHN1YmplY3QpIHsKICAgIGlmIChzdWJqZWN0ID09PSAndmlzaWJsZScpIHsKICAgICAgcmV0dXJuIEZseW91dFZpc2liaWxpdHkudmlzaWJsZTsKICAgIH0KCiAgICBpZiAoc3ViamVjdCA9PT0gJ2hpZGRlbicpIHsKICAgICAgcmV0dXJuIEZseW91dFZpc2liaWxpdHkuaGlkZGVuOwogICAgfQogIH0KfTs="},null]}