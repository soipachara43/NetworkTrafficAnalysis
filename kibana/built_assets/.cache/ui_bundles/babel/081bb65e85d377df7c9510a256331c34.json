{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/discover/np_ready/angular/context_state.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/discover/np_ready/angular/context_state.js","mtime":1589249549674},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZ2V0U3RhdGUgPSBnZXRTdGF0ZTsKZXhwb3J0cy5pc0VxdWFsRmlsdGVycyA9IGlzRXF1YWxGaWx0ZXJzOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoImhpc3RvcnkiKTsKCnZhciBfcHVibGljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9raWJhbmFfdXRpbHMvcHVibGljIik7Cgp2YXIgX3B1YmxpYzIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2RhdGEvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogIGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09ICJzeW1ib2wiKSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7CiAgICB9OwogIH0gZWxzZSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfQoKICByZXR1cm4gX3R5cGVvZihvYmopOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwoKICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7CgogIHZhciBrZXksIGk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgewogICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOwogICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOwogICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgewogIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwogIHZhciB0YXJnZXQgPSB7fTsKICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CiAgdmFyIGtleSwgaTsKCiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsKICAgIGtleSA9IHNvdXJjZUtleXNbaV07CiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBHTE9CQUxfU1RBVEVfVVJMX0tFWSA9ICdfZyc7CnZhciBBUFBfU1RBVEVfVVJMX0tFWSA9ICdfYSc7Ci8qKgogKiBCdWlsZHMgYW5kIHJldHVybnMgYXBwU3RhdGUgYW5kIGdsb2JhbFN0YXRlIGNvbnRhaW5lcnMKICogcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byBzdGFydC9zdG9wIHN5bmNpbmcgd2l0aCBVUkwKICovCgpmdW5jdGlvbiBnZXRTdGF0ZShfcmVmKSB7CiAgdmFyIGRlZmF1bHRTdGVwU2l6ZSA9IF9yZWYuZGVmYXVsdFN0ZXBTaXplLAogICAgICB0aW1lRmllbGROYW1lID0gX3JlZi50aW1lRmllbGROYW1lLAogICAgICBfcmVmJHN0b3JlSW5TZXNzaW9uU3QgPSBfcmVmLnN0b3JlSW5TZXNzaW9uU3RvcmFnZSwKICAgICAgc3RvcmVJblNlc3Npb25TdG9yYWdlID0gX3JlZiRzdG9yZUluU2Vzc2lvblN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkc3RvcmVJblNlc3Npb25TdCwKICAgICAgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTsKICB2YXIgc3RhdGVTdG9yYWdlID0gKDAsIF9wdWJsaWMuY3JlYXRlS2JuVXJsU3RhdGVTdG9yYWdlKSh7CiAgICB1c2VIYXNoOiBzdG9yZUluU2Vzc2lvblN0b3JhZ2UsCiAgICBoaXN0b3J5OiBoaXN0b3J5ID8gaGlzdG9yeSA6ICgwLCBfaGlzdG9yeS5jcmVhdGVCcm93c2VySGlzdG9yeSkoKQogIH0pOwogIHZhciBnbG9iYWxTdGF0ZUluaXRpYWwgPSBzdGF0ZVN0b3JhZ2UuZ2V0KEdMT0JBTF9TVEFURV9VUkxfS0VZKTsKICB2YXIgZ2xvYmFsU3RhdGVDb250YWluZXIgPSAoMCwgX3B1YmxpYy5jcmVhdGVTdGF0ZUNvbnRhaW5lcikoZ2xvYmFsU3RhdGVJbml0aWFsKTsKICB2YXIgYXBwU3RhdGVGcm9tVXJsID0gc3RhdGVTdG9yYWdlLmdldChBUFBfU1RBVEVfVVJMX0tFWSk7CiAgdmFyIGFwcFN0YXRlSW5pdGlhbCA9IGNyZWF0ZUluaXRpYWxBcHBTdGF0ZShkZWZhdWx0U3RlcFNpemUsIHRpbWVGaWVsZE5hbWUsIGFwcFN0YXRlRnJvbVVybCk7CiAgdmFyIGFwcFN0YXRlQ29udGFpbmVyID0gKDAsIF9wdWJsaWMuY3JlYXRlU3RhdGVDb250YWluZXIpKGFwcFN0YXRlSW5pdGlhbCk7CgogIHZhciBfc3luY1N0YXRlcyA9ICgwLCBfcHVibGljLnN5bmNTdGF0ZXMpKFt7CiAgICBzdG9yYWdlS2V5OiBHTE9CQUxfU1RBVEVfVVJMX0tFWSwKICAgIHN0YXRlQ29udGFpbmVyOiBfb2JqZWN0U3ByZWFkKHt9LCBnbG9iYWxTdGF0ZUNvbnRhaW5lciwge30sIHsKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGdsb2JhbFN0YXRlQ29udGFpbmVyLnNldCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSwKICAgIHN0YXRlU3RvcmFnZTogc3RhdGVTdG9yYWdlCiAgfSwgewogICAgc3RvcmFnZUtleTogQVBQX1NUQVRFX1VSTF9LRVksCiAgICBzdGF0ZUNvbnRhaW5lcjogX29iamVjdFNwcmVhZCh7fSwgYXBwU3RhdGVDb250YWluZXIsIHt9LCB7CiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBhcHBTdGF0ZUNvbnRhaW5lci5zZXQodmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSksCiAgICBzdGF0ZVN0b3JhZ2U6IHN0YXRlU3RvcmFnZQogIH1dKSwKICAgICAgc3RhcnQgPSBfc3luY1N0YXRlcy5zdGFydCwKICAgICAgc3RvcCA9IF9zeW5jU3RhdGVzLnN0b3A7CgogIHJldHVybiB7CiAgICBnbG9iYWxTdGF0ZTogZ2xvYmFsU3RhdGVDb250YWluZXIsCiAgICBhcHBTdGF0ZTogYXBwU3RhdGVDb250YWluZXIsCiAgICBzdGFydFN5bmM6IHN0YXJ0LAogICAgc3RvcFN5bmM6IHN0b3AsCiAgICBzZXRBcHBTdGF0ZTogZnVuY3Rpb24gc2V0QXBwU3RhdGUobmV3U3RhdGUpIHsKICAgICAgdmFyIG9sZFN0YXRlID0gYXBwU3RhdGVDb250YWluZXIuZ2V0U3RhdGUoKTsKCiAgICAgIHZhciBtZXJnZWRTdGF0ZSA9IF9vYmplY3RTcHJlYWQoe30sIG9sZFN0YXRlLCB7fSwgbmV3U3RhdGUpOwoKICAgICAgaWYgKCFpc0VxdWFsU3RhdGUob2xkU3RhdGUsIG1lcmdlZFN0YXRlKSkgewogICAgICAgIGFwcFN0YXRlQ29udGFpbmVyLnNldChtZXJnZWRTdGF0ZSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGaWx0ZXJzOiBmdW5jdGlvbiBnZXRGaWx0ZXJzKCkgewogICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZ2V0RmlsdGVycyhnbG9iYWxTdGF0ZUNvbnRhaW5lci5nZXRTdGF0ZSgpKSksIF90b0NvbnN1bWFibGVBcnJheShfZ2V0RmlsdGVycyhhcHBTdGF0ZUNvbnRhaW5lci5nZXRTdGF0ZSgpKSkpOwogICAgfSwKICAgIHNldEZpbHRlcnM6IGZ1bmN0aW9uIHNldEZpbHRlcnMoZmlsdGVyTWFuYWdlcikgewogICAgICAvLyBnbG9iYWwgc3RhdGUgZmlsdGVycwogICAgICB2YXIgZ2xvYmFsRmlsdGVycyA9IGZpbHRlck1hbmFnZXIuZ2V0R2xvYmFsRmlsdGVycygpOwogICAgICB2YXIgZ2xvYmFsRmlsdGVyQ2hhbmdlZCA9ICFpc0VxdWFsRmlsdGVycyhnbG9iYWxGaWx0ZXJzLCBfZ2V0RmlsdGVycyhnbG9iYWxTdGF0ZUNvbnRhaW5lci5nZXRTdGF0ZSgpKSk7CgogICAgICBpZiAoZ2xvYmFsRmlsdGVyQ2hhbmdlZCkgewogICAgICAgIGdsb2JhbFN0YXRlQ29udGFpbmVyLnNldCh7CiAgICAgICAgICBmaWx0ZXJzOiBnbG9iYWxGaWx0ZXJzCiAgICAgICAgfSk7CiAgICAgIH0gLy8gYXBwIHN0YXRlIGZpbHRlcnMKCgogICAgICB2YXIgYXBwRmlsdGVycyA9IGZpbHRlck1hbmFnZXIuZ2V0QXBwRmlsdGVycygpOwogICAgICB2YXIgYXBwRmlsdGVyQ2hhbmdlZCA9ICFpc0VxdWFsRmlsdGVycyhhcHBGaWx0ZXJzLCBfZ2V0RmlsdGVycyhhcHBTdGF0ZUNvbnRhaW5lci5nZXRTdGF0ZSgpKSk7CgogICAgICBpZiAoYXBwRmlsdGVyQ2hhbmdlZCkgewogICAgICAgIGFwcFN0YXRlQ29udGFpbmVyLnNldChfb2JqZWN0U3ByZWFkKHt9LCBhcHBTdGF0ZUNvbnRhaW5lci5nZXRTdGF0ZSgpLCB7fSwgewogICAgICAgICAgZmlsdGVyczogYXBwRmlsdGVycwogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIC8vIGhlbHBlciBmdW5jdGlvbiBqdXN0IG5lZWRlZCBmb3IgdGVzdGluZwogICAgZmx1c2hUb1VybDogZnVuY3Rpb24gZmx1c2hUb1VybChyZXBsYWNlKSB7CiAgICAgIHJldHVybiBzdGF0ZVN0b3JhZ2UuZmx1c2goewogICAgICAgIHJlcGxhY2U6IHJlcGxhY2UKICAgICAgfSk7CiAgICB9CiAgfTsKfQovKioKICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvbXBhcmUgMiBkaWZmZXJlbnQgZmlsdGVyIHN0YXRlcwogKi8KCgpmdW5jdGlvbiBpc0VxdWFsRmlsdGVycyhmaWx0ZXJzQSwgZmlsdGVyc0IpIHsKICBpZiAoIWZpbHRlcnNBICYmICFmaWx0ZXJzQikgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIGlmICghZmlsdGVyc0EgfHwgIWZpbHRlcnNCKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gX3B1YmxpYzIuZXNGaWx0ZXJzLmNvbXBhcmVGaWx0ZXJzKGZpbHRlcnNBLCBmaWx0ZXJzQiwgX3B1YmxpYzIuZXNGaWx0ZXJzLkNPTVBBUkVfQUxMX09QVElPTlMpOwp9Ci8qKgogKiBIZWxwZXIgZnVuY3Rpb24gdG8gY29tcGFyZSAyIGRpZmZlcmVudCBzdGF0ZXMsIGlzIG5lZWRlZCBzaW5jZSBjb21wYXJpbmcgZmlsdGVycwogKiB3b3JrcyBkaWZmZXJlbnRseSwgZG9lc24ndCB3b3JrIHdpdGggXy5pc0VxdWFsCiAqLwoKCmZ1bmN0aW9uIGlzRXF1YWxTdGF0ZShzdGF0ZUEsIHN0YXRlQikgewogIGlmICghc3RhdGVBICYmICFzdGF0ZUIpIHsKICAgIHJldHVybiB0cnVlOwogIH0gZWxzZSBpZiAoIXN0YXRlQSB8fCAhc3RhdGVCKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgX3N0YXRlQSRmaWx0ZXJzID0gc3RhdGVBLmZpbHRlcnMsCiAgICAgIHN0YXRlQUZpbHRlcnMgPSBfc3RhdGVBJGZpbHRlcnMgPT09IHZvaWQgMCA/IFtdIDogX3N0YXRlQSRmaWx0ZXJzLAogICAgICBzdGF0ZUFQYXJ0aWFsID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlQSwgWyJmaWx0ZXJzIl0pOwoKICB2YXIgX3N0YXRlQiRmaWx0ZXJzID0gc3RhdGVCLmZpbHRlcnMsCiAgICAgIHN0YXRlQkZpbHRlcnMgPSBfc3RhdGVCJGZpbHRlcnMgPT09IHZvaWQgMCA/IFtdIDogX3N0YXRlQiRmaWx0ZXJzLAogICAgICBzdGF0ZUJQYXJ0aWFsID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlQiwgWyJmaWx0ZXJzIl0pOwoKICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LmlzRXF1YWwoc3RhdGVBUGFydGlhbCwgc3RhdGVCUGFydGlhbCkgJiYgX3B1YmxpYzIuZXNGaWx0ZXJzLmNvbXBhcmVGaWx0ZXJzKHN0YXRlQUZpbHRlcnMsIHN0YXRlQkZpbHRlcnMsIF9wdWJsaWMyLmVzRmlsdGVycy5DT01QQVJFX0FMTF9PUFRJT05TKTsKfQovKioKICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHVybiBhcnJheSBvZiBmaWx0ZXIgb2JqZWN0IG9mIGEgZ2l2ZW4gc3RhdGUKICovCgoKZnVuY3Rpb24gX2dldEZpbHRlcnMoc3RhdGUpIHsKICBpZiAoIXN0YXRlIHx8ICFBcnJheS5pc0FycmF5KHN0YXRlLmZpbHRlcnMpKSB7CiAgICByZXR1cm4gW107CiAgfQoKICByZXR1cm4gc3RhdGUuZmlsdGVyczsKfQovKioKICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHVybiB0aGUgaW5pdGlhbCBhcHAgc3RhdGUsIHdoaWNoIGlzIGEgbWVyZ2VkIG9iamVjdCBvZiB1cmwgc3RhdGUgYW5kCiAqIGRlZmF1bHQgc3RhdGUuIFRoZSBkZWZhdWx0IHNpemUgaXMgdGhlIGRlZmF1bHQgbnVtYmVyIG9mIHN1Y2Nlc3Nvci9wcmVkZWNlc3NvciByZWNvcmRzIHRvIGZldGNoCiAqLwoKCmZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxBcHBTdGF0ZShkZWZhdWx0U2l6ZSwgdGltZUZpZWxkTmFtZSwgdXJsU3RhdGUpIHsKICB2YXIgZGVmYXVsdFN0YXRlID0gewogICAgY29sdW1uczogWydfc291cmNlJ10sCiAgICBmaWx0ZXJzOiBbXSwKICAgIHByZWRlY2Vzc29yQ291bnQ6IHBhcnNlSW50KGRlZmF1bHRTaXplLCAxMCksCiAgICBzb3J0OiBbdGltZUZpZWxkTmFtZSwgJ2Rlc2MnXSwKICAgIHN1Y2Nlc3NvckNvdW50OiBwYXJzZUludChkZWZhdWx0U2l6ZSwgMTApCiAgfTsKCiAgaWYgKF90eXBlb2YodXJsU3RhdGUpICE9PSAnb2JqZWN0JykgewogICAgcmV0dXJuIGRlZmF1bHRTdGF0ZTsKICB9CgogIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0U3RhdGUsIHt9LCB1cmxTdGF0ZSk7Cn0="},null]}