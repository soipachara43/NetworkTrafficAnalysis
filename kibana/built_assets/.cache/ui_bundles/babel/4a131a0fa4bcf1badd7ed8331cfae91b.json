{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/components/legend/legend.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/components/legend/legend.js","mtime":1589249550134},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuVmlzTGVnZW5kID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9jbGFzc25hbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJjbGFzc25hbWVzIikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfbGVnYWN5X2ltcG9ydHMgPSByZXF1aXJlKCIuLi8uLi8uLi9sZWdhY3lfaW1wb3J0cyIpOwoKdmFyIF9tb2RlbHMgPSByZXF1aXJlKCIuL21vZGVscyIpOwoKdmFyIF9sZWdlbmRfaXRlbSA9IHJlcXVpcmUoIi4vbGVnZW5kX2l0ZW0iKTsKCnZhciBfcGllX3V0aWxzID0gcmVxdWlyZSgiLi9waWVfdXRpbHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBfdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpID09PSAic3ltYm9sIikgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9IGVsc2UgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IF90eXBlb2YyKG9iaik7CiAgICB9OwogIH0KCiAgcmV0dXJuIF90eXBlb2Yob2JqKTsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgewogIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgIHJldHVybiBjYWxsOwogIH0KCiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogIH0KCiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogewogICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0KICB9KTsKICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgIG8uX19wcm90b19fID0gcDsKICAgIHJldHVybiBvOwogIH07CgogIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgVmlzTGVnZW5kID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoVmlzTGVnZW5kLCBfUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFZpc0xlZ2VuZChwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaXNMZWdlbmQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFZpc0xlZ2VuZCkuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImxlZ2VuZElkIiwgKDAsIF9ldWkuaHRtbElkR2VuZXJhdG9yKSgpKCdsZWdlbmQnKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0Q29sb3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZUxlZ2VuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGJ3Y0FkZExlZ2VuZCA9IF90aGlzLnByb3BzLnZpcy5wYXJhbXMuYWRkTGVnZW5kOwogICAgICB2YXIgYndjTGVnZW5kU3RhdGVEZWZhdWx0ID0gYndjQWRkTGVnZW5kID09IG51bGwgPyB0cnVlIDogYndjQWRkTGVnZW5kOwogICAgICB2YXIgbmV3T3BlbiA9ICFfdGhpcy5wcm9wcy51aVN0YXRlLmdldCgndmlzLmxlZ2VuZE9wZW4nLCBid2NMZWdlbmRTdGF0ZURlZmF1bHQpOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIG9wZW46IG5ld09wZW4KICAgICAgfSk7IC8vIG9wZW4gc2hvdWxkIGJlIGFwcGxpZWQgb24gdGVtcGxhdGUgYmVmb3JlIHdlIHVwZGF0ZSB1aVN0YXRlCgoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucHJvcHMudWlTdGF0ZS5zZXQoJ3Zpcy5sZWdlbmRPcGVuJywgbmV3T3Blbik7CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2V0Q29sb3IiLCBmdW5jdGlvbiAobGFiZWwsIGNvbG9yKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAmJiBldmVudC5rZXlDb2RlICE9PSBfZXVpLmtleUNvZGVzLkVOVEVSKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgY29sb3JzID0gX3RoaXMucHJvcHMudWlTdGF0ZS5nZXQoJ3Zpcy5jb2xvcnMnKSB8fCB7fTsKICAgICAgICBpZiAoY29sb3JzW2xhYmVsXSA9PT0gY29sb3IpIGRlbGV0ZSBjb2xvcnNbbGFiZWxdO2Vsc2UgY29sb3JzW2xhYmVsXSA9IGNvbG9yOwoKICAgICAgICBfdGhpcy5wcm9wcy51aVN0YXRlLnNldFNpbGVudCgndmlzLmNvbG9ycycsIG51bGwpOwoKICAgICAgICBfdGhpcy5wcm9wcy51aVN0YXRlLnNldCgndmlzLmNvbG9ycycsIGNvbG9ycyk7CgogICAgICAgIF90aGlzLnByb3BzLnVpU3RhdGUuZW1pdCgnY29sb3JDaGFuZ2VkJyk7CgogICAgICAgIF90aGlzLnJlZnJlc2goKTsKICAgICAgfTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImZpbHRlciIsIGZ1bmN0aW9uIChfcmVmLCBuZWdhdGUpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmLnZhbHVlczsKCiAgICAgIF90aGlzLnByb3BzLnZpcy5BUEkuZXZlbnRzLmZpbHRlcih7CiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBuZWdhdGU6IG5lZ2F0ZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNhbkZpbHRlciIsCiAgICAvKiNfX1BVUkVfXyovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaXRlbSkgewogICAgICAgIHZhciBmaWx0ZXJzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX21vZGVscy5DVVNUT01fTEVHRU5EX1ZJU19UWVBFUy5pbmNsdWRlcyhfdGhpcy5wcm9wcy52aXNsaWJWaXMudmlzQ29uZmlnQXJncy50eXBlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBpZiAoIShpdGVtLnZhbHVlcyAmJiAoMCwgX2xvZGFzaC5ldmVyeSkoaXRlbS52YWx1ZXMsIF9sb2Rhc2guaXNVbmRlZmluZWQpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2xlZ2FjeV9pbXBvcnRzLmNyZWF0ZUZpbHRlcnNGcm9tRXZlbnQpKGl0ZW0udmFsdWVzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgZmlsdGVycyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBCb29sZWFuKGZpbHRlcnMubGVuZ3RoKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZURldGFpbHMiLCBmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXlDb2RlICYmIGV2ZW50LmtleUNvZGUgIT09IF9ldWkua2V5Q29kZXMuRU5URVIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHNlbGVjdGVkTGFiZWw6IF90aGlzLnN0YXRlLnNlbGVjdGVkTGFiZWwgPT09IGxhYmVsID8gbnVsbCA6IGxhYmVsCiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRTZXJpZXNMYWJlbHMiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgdmFsdWVzID0gZGF0YS5tYXAoZnVuY3Rpb24gKGNoYXJ0KSB7CiAgICAgICAgcmV0dXJuIGNoYXJ0LnNlcmllczsKICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpOwogICAgICB9LCBbXSk7CiAgICAgIHJldHVybiAoMCwgX2xvZGFzaC5jb21wYWN0KSgoMCwgX2xvZGFzaC51bmlxKSh2YWx1ZXMsICdsYWJlbCcpKS5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGxhYmVsLCB7CiAgICAgICAgICB2YWx1ZXM6IFtsYWJlbC52YWx1ZXNbMF0uc2VyaWVzUmF3XQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNldEZpbHRlcmFibGVMYWJlbHMiLCBmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocmVzb2x2ZSkgewogICAgICAgICAgdmFyIGZpbHRlcmFibGVMYWJlbHM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBmaWx0ZXJhYmxlTGFiZWxzID0gbmV3IFNldCgpOwogICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbkZpbHRlcjsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNhbkZpbHRlcihpdGVtKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkZpbHRlciA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmFibGVMYWJlbHMuYWRkKGl0ZW0ubGFiZWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXJhYmxlTGFiZWxzOiBmaWx0ZXJhYmxlTGFiZWxzCiAgICAgICAgICAgICAgICAgIH0sIHJlc29sdmUpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzZXRMYWJlbHMiLCBmdW5jdGlvbiAoZGF0YSwgdHlwZSkgewogICAgICB2YXIgbGFiZWxzID0gW107CgogICAgICBpZiAoX21vZGVscy5DVVNUT01fTEVHRU5EX1ZJU19UWVBFUy5pbmNsdWRlcyh0eXBlKSkgewogICAgICAgIHZhciBsZWdlbmRMYWJlbHMgPSBfdGhpcy5wcm9wcy52aXNsaWJWaXMuZ2V0TGVnZW5kTGFiZWxzKCk7CgogICAgICAgIGlmIChsZWdlbmRMYWJlbHMpIHsKICAgICAgICAgIGxhYmVscyA9ICgwLCBfbG9kYXNoLm1hcCkobGVnZW5kTGFiZWxzLCBmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBsYWJlbDogbGFiZWwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIWRhdGEpIHJldHVybiBbXTsKICAgICAgICBkYXRhID0gZGF0YS5jb2x1bW5zIHx8IGRhdGEucm93cyB8fCBbZGF0YV07CiAgICAgICAgbGFiZWxzID0gdHlwZSA9PT0gJ3BpZScgPyAoMCwgX3BpZV91dGlscy5nZXRQaWVOYW1lcykoZGF0YSkgOiBfdGhpcy5nZXRTZXJpZXNMYWJlbHMoZGF0YSk7CiAgICAgIH0KCiAgICAgIF90aGlzLnNldEZpbHRlcmFibGVMYWJlbHMobGFiZWxzKTsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBsYWJlbHM6IGxhYmVscwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlZnJlc2giLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2aXNsaWJWaXMgPSBfdGhpcy5wcm9wcy52aXNsaWJWaXM7CgogICAgICBpZiAoIXZpc2xpYlZpcyB8fCAhdmlzbGliVmlzLnZpc0NvbmZpZykgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGxhYmVsczogW3sKICAgICAgICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd2aXNUeXBlVmlzbGliLnZpc2xpYi5sZWdlbmQubG9hZGluZ0xhYmVsJywgewogICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnbG9hZGluZ+KApicKICAgICAgICAgICAgfSkKICAgICAgICAgIH1dCiAgICAgICAgfSk7CgogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBtYWtlIHN1cmUgdmlzbGliIGlzIGRlZmluZWQgYXQgdGhpcyBwb2ludAoKCiAgICAgIGlmIChfdGhpcy5wcm9wcy51aVN0YXRlLmdldCgndmlzLmxlZ2VuZE9wZW4nKSA9PSBudWxsICYmIF90aGlzLnByb3BzLnZpcy5wYXJhbXMuYWRkTGVnZW5kICE9IG51bGwpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBvcGVuOiBfdGhpcy5wcm9wcy52aXMucGFyYW1zLmFkZExlZ2VuZAogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodmlzbGliVmlzLnZpc0NvbmZpZykgewogICAgICAgIF90aGlzLmdldENvbG9yID0gX3RoaXMucHJvcHMudmlzbGliVmlzLnZpc0NvbmZpZy5kYXRhLmdldENvbG9yRnVuYygpOwogICAgICB9CgogICAgICBfdGhpcy5zZXRMYWJlbHMoX3RoaXMucHJvcHMudmlzRGF0YSwgdmlzbGliVmlzLnZpc0NvbmZpZ0FyZ3MudHlwZSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoaWdobGlnaHQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGVsID0gZXZlbnQuY3VycmVudFRhcmdldDsKICAgICAgdmFyIGhhbmRsZXIgPSBfdGhpcy5wcm9wcy52aXNsaWJWaXMgJiYgX3RoaXMucHJvcHMudmlzbGliVmlzLmhhbmRsZXI7IC8vIHRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGEgQ2hhcnQgd2lsbCBzZXQgdGhlIGhpZ2hsaWdodC1mdW5jdGlvbiBvbiBpdHMgaGFuZGxlcgoKICAgICAgaWYgKCFoYW5kbGVyIHx8IHR5cGVvZiBoYW5kbGVyLmhpZ2hsaWdodCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaGFuZGxlci5oaWdobGlnaHQuY2FsbChlbCwgaGFuZGxlci5lbCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ1bmhpZ2hsaWdodCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgZWwgPSBldmVudC5jdXJyZW50VGFyZ2V0OwogICAgICB2YXIgaGFuZGxlciA9IF90aGlzLnByb3BzLnZpc2xpYlZpcyAmJiBfdGhpcy5wcm9wcy52aXNsaWJWaXMuaGFuZGxlcjsgLy8gdGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYSBDaGFydCB3aWxsIHNldCB0aGUgdW5oaWdobGlnaHQtZnVuY3Rpb24gb24gaXRzIGhhbmRsZXIKCiAgICAgIGlmICghaGFuZGxlciB8fCB0eXBlb2YgaGFuZGxlci51bkhpZ2hsaWdodCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaGFuZGxlci51bkhpZ2hsaWdodC5jYWxsKGVsLCBoYW5kbGVyLmVsKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldEFuY2hvclBvc2l0aW9uIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcG9zaXRpb24gPSBfdGhpcy5wcm9wcy5wb3NpdGlvbjsKCiAgICAgIHN3aXRjaCAocG9zaXRpb24pIHsKICAgICAgICBjYXNlICdib3R0b20nOgogICAgICAgICAgcmV0dXJuICd1cENlbnRlcic7CgogICAgICAgIGNhc2UgJ2xlZnQnOgogICAgICAgICAgcmV0dXJuICdyaWdodFVwJzsKCiAgICAgICAgY2FzZSAncmlnaHQnOgogICAgICAgICAgcmV0dXJuICdsZWZ0VXAnOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICdkb3duQ2VudGVyJzsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVuZGVyTGVnZW5kIiwgZnVuY3Rpb24gKGFuY2hvclBvc2l0aW9uKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJ1bCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ2aXNMZWdlbmRfX2xpc3QiLAogICAgICAgIGlkOiBfdGhpcy5sZWdlbmRJZAogICAgICB9LCBfdGhpcy5zdGF0ZS5sYWJlbHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xlZ2VuZF9pdGVtLlZpc0xlZ2VuZEl0ZW0sIHsKICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICBrZXk6IGl0ZW0ubGFiZWwsCiAgICAgICAgICBhbmNob3JQb3NpdGlvbjogYW5jaG9yUG9zaXRpb24sCiAgICAgICAgICBzZWxlY3RlZDogX3RoaXMuc3RhdGUuc2VsZWN0ZWRMYWJlbCA9PT0gaXRlbS5sYWJlbCwKICAgICAgICAgIGNhbkZpbHRlcjogX3RoaXMuc3RhdGUuZmlsdGVyYWJsZUxhYmVscy5oYXMoaXRlbS5sYWJlbCksCiAgICAgICAgICBvbkZpbHRlcjogX3RoaXMuZmlsdGVyLAogICAgICAgICAgb25TZWxlY3Q6IF90aGlzLnRvZ2dsZURldGFpbHMsCiAgICAgICAgICBsZWdlbmRJZDogX3RoaXMubGVnZW5kSWQsCiAgICAgICAgICBzZXRDb2xvcjogX3RoaXMuc2V0Q29sb3IsCiAgICAgICAgICBnZXRDb2xvcjogX3RoaXMuZ2V0Q29sb3IsCiAgICAgICAgICBvbkhpZ2hsaWdodDogX3RoaXMuaGlnaGxpZ2h0LAogICAgICAgICAgb25VbmhpZ2hsaWdodDogX3RoaXMudW5oaWdobGlnaHQKICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfSk7CgogICAgdmFyIG9wZW4gPSBwcm9wcy51aVN0YXRlLmdldCgndmlzLmxlZ2VuZE9wZW4nLCB0cnVlKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBvcGVuOiBvcGVuLAogICAgICBsYWJlbHM6IFtdLAogICAgICBmaWx0ZXJhYmxlTGFiZWxzOiBuZXcgU2V0KCksCiAgICAgIHNlbGVjdGVkTGFiZWw6IG51bGwKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVmlzTGVnZW5kLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB0aGlzLnJlZnJlc2goKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47CiAgICAgIHZhciBhbmNob3JQb3NpdGlvbiA9IHRoaXMuZ2V0QW5jaG9yUG9zaXRpb24oKTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ2aXNMZWdlbmQiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZUxlZ2VuZCwKICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lcy5kZWZhdWx0KSgndmlzTGVnZW5kX190b2dnbGUga2JuLXJlc2V0Rm9jdXNTdGF0ZScsIHsKICAgICAgICAgICd2aXNMZWdlbmRfX3RvZ2dsZS0taXNPcGVuJzogb3BlbgogICAgICAgIH0pLAogICAgICAgICJhcmlhLWxhYmVsIjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3Zpc1R5cGVWaXNsaWIudmlzbGliLmxlZ2VuZC50b2dnbGVMZWdlbmRCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1RvZ2dsZSBsZWdlbmQnCiAgICAgICAgfSksCiAgICAgICAgImFyaWEtZXhwYW5kZWQiOiBCb29sZWFuKG9wZW4pLAogICAgICAgICJhcmlhLWNvbnRyb2xzIjogdGhpcy5sZWdlbmRJZCwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAidmlzbGliVG9nZ2xlTGVnZW5kIiwKICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3Zpc1R5cGVWaXNsaWIudmlzbGliLmxlZ2VuZC50b2dnbGVMZWdlbmRCdXR0b25UaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVG9nZ2xlIGxlZ2VuZCcKICAgICAgICB9KQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgIGNvbG9yOiAidGV4dCIsCiAgICAgICAgdHlwZTogImxpc3QiCiAgICAgIH0pKSwgb3BlbiAmJiB0aGlzLnJlbmRlckxlZ2VuZChhbmNob3JQb3NpdGlvbikpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFZpc0xlZ2VuZDsKfShfcmVhY3QuUHVyZUNvbXBvbmVudCk7CgpleHBvcnRzLlZpc0xlZ2VuZCA9IFZpc0xlZ2VuZDs="},null]}