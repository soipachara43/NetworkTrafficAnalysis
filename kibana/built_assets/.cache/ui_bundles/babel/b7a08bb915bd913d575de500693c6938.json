{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/kibana_utils/public/state_management/url/kbn_url_storage.js","dependencies":[{"path":"src/plugins/kibana_utils/public/state_management/url/kbn_url_storage.js","mtime":1589249550979},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFN0YXRlc0Zyb21LYm5VcmwgPSBnZXRTdGF0ZXNGcm9tS2JuVXJsOwpleHBvcnRzLmdldFN0YXRlRnJvbUtiblVybCA9IGdldFN0YXRlRnJvbUtiblVybDsKZXhwb3J0cy5zZXRTdGF0ZVRvS2JuVXJsID0gc2V0U3RhdGVUb0tiblVybDsKZXhwb3J0cy5nZXRSZWxhdGl2ZVRvSGlzdG9yeVBhdGggPSBnZXRSZWxhdGl2ZVRvSGlzdG9yeVBhdGg7CmV4cG9ydHMuY3JlYXRlS2JuVXJsQ29udHJvbHMgPSB2b2lkIDA7Cgp2YXIgX3VybCA9IHJlcXVpcmUoInVybCIpOwoKdmFyIF9xdWVyeVN0cmluZyA9IHJlcXVpcmUoInF1ZXJ5LXN0cmluZyIpOwoKdmFyIF9oaXN0b3J5ID0gcmVxdWlyZSgiaGlzdG9yeSIpOwoKdmFyIF9zdGF0ZV9lbmNvZGVyID0gcmVxdWlyZSgiLi4vc3RhdGVfZW5jb2RlciIpOwoKdmFyIF9wYXJzZSA9IHJlcXVpcmUoIi4vcGFyc2UiKTsKCnZhciBfZm9ybWF0ID0gcmVxdWlyZSgiLi9mb3JtYXQiKTsKCnZhciBfY29tbW9uID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tbW9uIik7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQovKioKICogUGFyc2VzIGEga2liYW5hIHVybCBhbmQgcmV0cmlldmVzIGFsbCB0aGUgc3RhdGVzIGVuY29kZWQgaW50byB1cmwsCiAqIEhhbmRsZXMgYm90aCBleHBhbmRlZCByaXNvbiBzdGF0ZSBhbmQgaGFzaGVkIHN0YXRlICh3aGVyZSB0aGUgYWN0dWFsIHN0YXRlIHN0b3JlZCBpbiBzZXNzaW9uU3RvcmFnZSkKICogZS5nLjoKICoKICogZ2l2ZW4gYW4gdXJsOgogKiBodHRwOi8vbG9jYWxob3N0OjU2MDEvb3hmL2FwcC9raWJhbmEjL21hbmFnZW1lbnQva2liYW5hL2luZGV4X3BhdHRlcm5zL2lkP19hPSh0YWI6aW5kZXhlZEZpZWxkcykmX2I9KGY6dGVzdCxpOicnLGw6JycpCiAqIHdpbGwgcmV0dXJuIG9iamVjdDoKICoge19hOiB7dGFiOiAnaW5kZXhlZEZpZWxkcyd9LCBfYjoge2Y6ICd0ZXN0JywgaTogJycsIGw6ICcnfX07CiAqLwoKCmZ1bmN0aW9uIGdldFN0YXRlc0Zyb21LYm5VcmwoKSB7CiAgdmFyIF9wYXJzZVVybEhhc2g7CgogIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogIHZhciBrZXlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgdmFyIHF1ZXJ5ID0gKF9wYXJzZVVybEhhc2ggPSAoMCwgX3BhcnNlLnBhcnNlVXJsSGFzaCkodXJsKSkgPT09IG51bGwgfHwgX3BhcnNlVXJsSGFzaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcnNlVXJsSGFzaC5xdWVyeTsKICBpZiAoIXF1ZXJ5KSByZXR1cm4ge307CiAgdmFyIGRlY29kZWQgPSB7fTsKICBPYmplY3QuZW50cmllcyhxdWVyeSkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSwKICAgICAgICBrZXkgPSBfcmVmMlswXTsKCiAgICByZXR1cm4ga2V5cyA/IGtleXMuaW5jbHVkZXMoa2V5KSA6IHRydWU7CiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHsKICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSwKICAgICAgICBxID0gX3JlZjRbMF0sCiAgICAgICAgdmFsdWUgPSBfcmVmNFsxXTsKCiAgICBkZWNvZGVkW3FdID0gKDAsIF9zdGF0ZV9lbmNvZGVyLmRlY29kZVN0YXRlKSh2YWx1ZSk7CiAgfSk7CiAgcmV0dXJuIGRlY29kZWQ7Cn0KLyoqCiAqIFJldHJpZXZlcyBzcGVjaWZpYyBzdGF0ZSBmcm9tIHVybCBieSBrZXkKICogZS5nLjoKICoKICogZ2l2ZW4gYW4gdXJsOgogKiBodHRwOi8vbG9jYWxob3N0OjU2MDEvb3hmL2FwcC9raWJhbmEjL21hbmFnZW1lbnQva2liYW5hL2luZGV4X3BhdHRlcm5zL2lkP19hPSh0YWI6aW5kZXhlZEZpZWxkcykmX2I9KGY6dGVzdCxpOicnLGw6JycpCiAqIGFuZCBrZXkgJ19hJwogKiB3aWxsIHJldHVybiBvYmplY3Q6CiAqIHt0YWI6ICdpbmRleGVkRmllbGRzJ30KICovCgoKZnVuY3Rpb24gZ2V0U3RhdGVGcm9tS2JuVXJsKGtleSkgewogIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogIHJldHVybiBnZXRTdGF0ZXNGcm9tS2JuVXJsKHVybCwgW2tleV0pW2tleV0gfHwgbnVsbDsKfQovKioKICogU2V0cyBzdGF0ZSB0byB0aGUgdXJsIGJ5IGtleSBhbmQgcmV0dXJucyBhIG5ldyB1cmwgc3RyaW5nLgogKiBEb2Vzbid0IGFjdHVhbGx5IHVwZGF0ZXMgaGlzdG9yeQogKgogKiBlLmcuOgogKiBnaXZlbiBhIHVybDogaHR0cDovL2xvY2FsaG9zdDo1NjAxL294Zi9hcHAva2liYW5hIy9tYW5hZ2VtZW50L2tpYmFuYS9pbmRleF9wYXR0ZXJucy9pZD9fYT0odGFiOmluZGV4ZWRGaWVsZHMpJl9iPShmOnRlc3QsaTonJyxsOicnKQogKiBrZXk6ICdfYScKICogYW5kIHN0YXRlOiB7dGFiOiAnb3RoZXInfQogKgogKiB3aWxsIHJldHVybiB1cmw6CiAqIGh0dHA6Ly9sb2NhbGhvc3Q6NTYwMS9veGYvYXBwL2tpYmFuYSMvbWFuYWdlbWVudC9raWJhbmEvaW5kZXhfcGF0dGVybnMvaWQ/X2E9KHRhYjpvdGhlcikmX2I9KGY6dGVzdCxpOicnLGw6JycpCiAqLwoKCmZ1bmN0aW9uIHNldFN0YXRlVG9LYm5Vcmwoa2V5LCBzdGF0ZSkgewogIHZhciBfcmVmNSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogewogICAgdXNlSGFzaDogZmFsc2UKICB9LAogICAgICBfcmVmNSR1c2VIYXNoID0gX3JlZjUudXNlSGFzaCwKICAgICAgdXNlSGFzaCA9IF9yZWY1JHVzZUhhc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjUkdXNlSGFzaDsKCiAgdmFyIHJhd1VybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgcmV0dXJuICgwLCBfZm9ybWF0LnJlcGxhY2VVcmxIYXNoUXVlcnkpKHJhd1VybCwgZnVuY3Rpb24gKHF1ZXJ5KSB7CiAgICB2YXIgZW5jb2RlZCA9ICgwLCBfc3RhdGVfZW5jb2Rlci5lbmNvZGVTdGF0ZSkoc3RhdGUsIHVzZUhhc2gpOwogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgZW5jb2RlZCkpOwogIH0pOwp9Ci8qKgogKiBBIHRpbnkgd3JhcHBlciBhcm91bmQgaGlzdG9yeSBsaWJyYXJ5IHRvIGxpc3RlbiBmb3IgdXJsIGNoYW5nZXMgYW5kIHVwZGF0ZSB1cmwKICogSGlzdG9yeSBsaWJyYXJ5IGhhbmRsZXMgYSBidW5jaCBvZiBjcm9zcyBicm93c2VyIGVkZ2UgY2FzZXMKICovCgoKdmFyIGNyZWF0ZUtiblVybENvbnRyb2xzID0gZnVuY3Rpb24gY3JlYXRlS2JuVXJsQ29udHJvbHMoKSB7CiAgdmFyIGhpc3RvcnkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICgwLCBfaGlzdG9yeS5jcmVhdGVCcm93c2VySGlzdG9yeSkoKTsKICB2YXIgdXBkYXRlUXVldWUgPSBbXTsgLy8gaWYgd2Ugc2hvdWxkIHJlcGxhY2Ugb3IgcHVzaCB3aXRoIG5leHQgYXN5bmMgdXBkYXRlLAogIC8vIGlmIGFueSBjYWxsIGluIGEgcXVldWUgYXNrZWQgdG8gcHVzaCwgdGhlbiB3ZSBzaG91bGQgcHVzaAoKICB2YXIgc2hvdWxkUmVwbGFjZSA9IHRydWU7CgogIGZ1bmN0aW9uIHVwZGF0ZVVybChuZXdVcmwpIHsKICAgIHZhciByZXBsYWNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgIHZhciBjdXJyZW50VXJsID0gKDAsIF9wYXJzZS5nZXRDdXJyZW50VXJsKSgpOwogICAgaWYgKG5ld1VybCA9PT0gY3VycmVudFVybCkgcmV0dXJuIHVuZGVmaW5lZDsgLy8gc2tpcCB1cGRhdGUKCiAgICB2YXIgaGlzdG9yeVBhdGggPSBnZXRSZWxhdGl2ZVRvSGlzdG9yeVBhdGgobmV3VXJsLCBoaXN0b3J5KTsKCiAgICBpZiAocmVwbGFjZSkgewogICAgICBoaXN0b3J5LnJlcGxhY2UoaGlzdG9yeVBhdGgpOwogICAgfSBlbHNlIHsKICAgICAgaGlzdG9yeS5wdXNoKGhpc3RvcnlQYXRoKTsKICAgIH0KCiAgICByZXR1cm4gKDAsIF9wYXJzZS5nZXRDdXJyZW50VXJsKSgpOwogIH0gLy8gcXVldWUgY2xlYW4gdXAKCgogIGZ1bmN0aW9uIGNsZWFuVXAoKSB7CiAgICB1cGRhdGVRdWV1ZS5zcGxpY2UoMCwgdXBkYXRlUXVldWUubGVuZ3RoKTsKICAgIHNob3VsZFJlcGxhY2UgPSB0cnVlOwogIH0gLy8gcnVucyBzY2hlZHVsZWQgdXJsIHVwZGF0ZXMKCgogIGZ1bmN0aW9uIF9mbHVzaCgpIHsKICAgIHZhciByZXBsYWNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBzaG91bGRSZXBsYWNlOwoKICAgIHZhciBuZXh0VXJsID0gX2dldFBlbmRpbmdVcmwoKTsKCiAgICBpZiAoIW5leHRVcmwpIHJldHVybjsKICAgIGNsZWFuVXAoKTsKICAgIHZhciBuZXdVcmwgPSB1cGRhdGVVcmwobmV4dFVybCwgcmVwbGFjZSk7CiAgICByZXR1cm4gbmV3VXJsOwogIH0KCiAgZnVuY3Rpb24gX2dldFBlbmRpbmdVcmwoKSB7CiAgICBpZiAodXBkYXRlUXVldWUubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkOwogICAgdmFyIHJlc3VsdFVybCA9IHVwZGF0ZVF1ZXVlLnJlZHVjZShmdW5jdGlvbiAodXJsLCBuZXh0VXBkYXRlKSB7CiAgICAgIHJldHVybiBuZXh0VXBkYXRlKHVybCk7CiAgICB9LCAoMCwgX3BhcnNlLmdldEN1cnJlbnRVcmwpKCkpOwogICAgcmV0dXJuIHJlc3VsdFVybDsKICB9CgogIHJldHVybiB7CiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3RlbihjYikgewogICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNiKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG5ld1VybCkgewogICAgICB2YXIgcmVwbGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHJldHVybiB1cGRhdGVVcmwobmV3VXJsLCByZXBsYWNlKTsKICAgIH0sCiAgICB1cGRhdGVBc3luYzogZnVuY3Rpb24gdXBkYXRlQXN5bmModXBkYXRlcikgewogICAgICB2YXIgcmVwbGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHVwZGF0ZVF1ZXVlLnB1c2godXBkYXRlcik7CgogICAgICBpZiAoc2hvdWxkUmVwbGFjZSkgewogICAgICAgIHNob3VsZFJlcGxhY2UgPSByZXBsYWNlOwogICAgICB9IC8vIFNjaGVkdWxlIHVybCB1cGRhdGUgdG8gdGhlIG5leHQgbWljcm90YXNrCiAgICAgIC8vIHRoaXMgYWxsb3dzIHRvIGJhdGNoIHN5bmNocm9ub3VzIHVybCBjaGFuZ2VzCgoKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfZmx1c2goKTsKICAgICAgfSk7CiAgICB9LAogICAgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKHJlcGxhY2UpIHsKICAgICAgcmV0dXJuIF9mbHVzaChyZXBsYWNlKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgY2xlYW5VcCgpOwogICAgfSwKICAgIGdldFBlbmRpbmdVcmw6IGZ1bmN0aW9uIGdldFBlbmRpbmdVcmwoKSB7CiAgICAgIHJldHVybiBfZ2V0UGVuZGluZ1VybCgpOwogICAgfQogIH07Cn07Ci8qKgogKiBEZXBlbmRpbmcgb24gaGlzdG9yeSBjb25maWd1cmF0aW9uIGV4dHJhY3RzIHJlbGF0aXZlIHBhdGggZm9yIGhpc3RvcnkgdXBkYXRlcwogKiA0IHBvc3NpYmxlIGNhc2VzIChzZWUgdGVzdHMpOgogKiAxLiBCcm93c2VyIGhpc3Rvcnkgd2l0aCBlbXB0eSBiYXNlIHBhdGgKICogMi4gQnJvd3NlciBoaXN0b3J5IHdpdGggYmFzZSBwYXRoCiAqIDMuIEhhc2ggaGlzdG9yeSB3aXRoIGVtcHR5IGJhc2UgcGF0aAogKiA0LiBIYXNoIGhpc3Rvcnkgd2l0aCBiYXNlIHBhdGgKICovCgoKZXhwb3J0cy5jcmVhdGVLYm5VcmxDb250cm9scyA9IGNyZWF0ZUtiblVybENvbnRyb2xzOwoKZnVuY3Rpb24gZ2V0UmVsYXRpdmVUb0hpc3RvcnlQYXRoKGFic29sdXRlVXJsLCBoaXN0b3J5KSB7CiAgZnVuY3Rpb24gc3RyaXBCYXNlbmFtZSgpIHsKICAgIHZhciBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKCiAgICB2YXIgc3RyaXBMZWFkaW5nSGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ0hhc2goXykgewogICAgICByZXR1cm4gXy5jaGFyQXQoMCkgPT09ICcjJyA/IF8uc3Vic3RyKDEpIDogXzsKICAgIH07CgogICAgdmFyIHN0cmlwVHJhaWxpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwVHJhaWxpbmdTbGFzaChfKSB7CiAgICAgIHJldHVybiBfLmNoYXJBdChfLmxlbmd0aCAtIDEpID09PSAnLycgPyBfLnN1YnN0cigwLCBfLmxlbmd0aCAtIDEpIDogXzsKICAgIH07CgogICAgdmFyIGJhc2VOYW1lID0gc3RyaXBMZWFkaW5nSGFzaChzdHJpcFRyYWlsaW5nU2xhc2goaGlzdG9yeS5jcmVhdGVIcmVmKHt9KSkpOwogICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aChiYXNlTmFtZSkgPyBwYXRoLnN1YnN0cihiYXNlTmFtZS5sZW5ndGgpIDogcGF0aDsKICB9CgogIHZhciBpc0hhc2hIaXN0b3J5ID0gaGlzdG9yeS5jcmVhdGVIcmVmKHt9KS5pbmNsdWRlcygnIycpOwogIHZhciBwYXJzZWRVcmwgPSBpc0hhc2hIaXN0b3J5ID8gKDAsIF9wYXJzZS5wYXJzZVVybEhhc2gpKGFic29sdXRlVXJsKSA6ICgwLCBfcGFyc2UucGFyc2VVcmwpKGFic29sdXRlVXJsKTsKICB2YXIgcGFyc2VkSGFzaCA9IGlzSGFzaEhpc3RvcnkgPyBudWxsIDogKDAsIF9wYXJzZS5wYXJzZVVybEhhc2gpKGFic29sdXRlVXJsKTsKICByZXR1cm4gKDAsIF91cmwuZm9ybWF0KSh7CiAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShwYXJzZWRVcmwucGF0aG5hbWUpLAogICAgc2VhcmNoOiAoMCwgX3F1ZXJ5U3RyaW5nLnN0cmluZ2lmeSkoX2NvbW1vbi51cmwuZW5jb2RlUXVlcnkocGFyc2VkVXJsLnF1ZXJ5KSwgewogICAgICBzb3J0OiBmYWxzZSwKICAgICAgZW5jb2RlOiBmYWxzZQogICAgfSksCiAgICBoYXNoOiBwYXJzZWRIYXNoID8gKDAsIF91cmwuZm9ybWF0KSh7CiAgICAgIHBhdGhuYW1lOiBwYXJzZWRIYXNoLnBhdGhuYW1lLAogICAgICBzZWFyY2g6ICgwLCBfcXVlcnlTdHJpbmcuc3RyaW5naWZ5KShfY29tbW9uLnVybC5lbmNvZGVRdWVyeShwYXJzZWRIYXNoLnF1ZXJ5KSwgewogICAgICAgIHNvcnQ6IGZhbHNlLAogICAgICAgIGVuY29kZTogZmFsc2UKICAgICAgfSkKICAgIH0pIDogcGFyc2VkVXJsLmhhc2gKICB9KTsKfQ=="},null]}