{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/flot-charts/jquery.flot.selection.js","dependencies":[{"path":"src/legacy/ui/public/flot-charts/jquery.flot.selection.js","mtime":1589249550323},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKLyogRmxvdCBwbHVnaW4gZm9yIHNlbGVjdGluZyByZWdpb25zIG9mIGEgcGxvdC4KCkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLgpMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCgpUaGUgcGx1Z2luIHN1cHBvcnRzIHRoZXNlIG9wdGlvbnM6CgpzZWxlY3Rpb246IHsKCW1vZGU6IG51bGwgb3IgIngiIG9yICJ5IiBvciAieHkiLAoJY29sb3I6IGNvbG9yLAoJc2hhcGU6ICJyb3VuZCIgb3IgIm1pdGVyIiBvciAiYmV2ZWwiLAoJbWluU2l6ZTogbnVtYmVyIG9mIHBpeGVscwp9CgpTZWxlY3Rpb24gc3VwcG9ydCBpcyBlbmFibGVkIGJ5IHNldHRpbmcgdGhlIG1vZGUgdG8gb25lIG9mICJ4IiwgInkiIG9yICJ4eSIuCkluICJ4IiBtb2RlLCB0aGUgdXNlciB3aWxsIG9ubHkgYmUgYWJsZSB0byBzcGVjaWZ5IHRoZSB4IHJhbmdlLCBzaW1pbGFybHkgZm9yCiJ5IiBtb2RlLiBGb3IgInh5IiwgdGhlIHNlbGVjdGlvbiBiZWNvbWVzIGEgcmVjdGFuZ2xlIHdoZXJlIGJvdGggcmFuZ2VzIGNhbiBiZQpzcGVjaWZpZWQuICJjb2xvciIgaXMgY29sb3Igb2YgdGhlIHNlbGVjdGlvbiAoaWYgeW91IG5lZWQgdG8gY2hhbmdlIHRoZSBjb2xvcgpsYXRlciBvbiwgeW91IGNhbiBnZXQgdG8gaXQgd2l0aCBwbG90LmdldE9wdGlvbnMoKS5zZWxlY3Rpb24uY29sb3IpLiAic2hhcGUiCmlzIHRoZSBzaGFwZSBvZiB0aGUgY29ybmVycyBvZiB0aGUgc2VsZWN0aW9uLgoKIm1pblNpemUiIGlzIHRoZSBtaW5pbXVtIHNpemUgYSBzZWxlY3Rpb24gY2FuIGJlIGluIHBpeGVscy4gVGhpcyB2YWx1ZSBjYW4KYmUgY3VzdG9taXplZCB0byBkZXRlcm1pbmUgdGhlIHNtYWxsZXN0IHNpemUgYSBzZWxlY3Rpb24gY2FuIGJlIGFuZCBzdGlsbApoYXZlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlIGJlIGRpc3BsYXllZC4gV2hlbiBjdXN0b21pemluZyB0aGlzIHZhbHVlLCB0aGUKZmFjdCB0aGF0IGl0IHJlZmVycyB0byBwaXhlbHMsIG5vdCBheGlzIHVuaXRzIG11c3QgYmUgdGFrZW4gaW50byBhY2NvdW50LgpUaHVzLCBmb3IgZXhhbXBsZSwgaWYgdGhlcmUgaXMgYSBiYXIgZ3JhcGggaW4gdGltZSBtb2RlIHdpdGggQmFyV2lkdGggc2V0IHRvIDEKbWludXRlLCBzZXR0aW5nICJtaW5TaXplIiB0byAxIHdpbGwgbm90IG1ha2UgdGhlIG1pbmltdW0gc2VsZWN0aW9uIHNpemUgMQptaW51dGUsIGJ1dCByYXRoZXIgMSBwaXhlbC4gTm90ZSBhbHNvIHRoYXQgc2V0dGluZyAibWluU2l6ZSIgdG8gMCB3aWxsIHByZXZlbnQKInBsb3R1bnNlbGVjdGVkIiBldmVudHMgZnJvbSBiZWluZyBmaXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgbW91c2Ugd2l0aG91dApkcmFnZ2luZy4KCldoZW4gc2VsZWN0aW9uIHN1cHBvcnQgaXMgZW5hYmxlZCwgYSAicGxvdHNlbGVjdGVkIiBldmVudCB3aWxsIGJlIGVtaXR0ZWQgb24KdGhlIERPTSBlbGVtZW50IHlvdSBwYXNzZWQgaW50byB0aGUgcGxvdCBmdW5jdGlvbi4gVGhlIGV2ZW50IGhhbmRsZXIgZ2V0cyBhCnBhcmFtZXRlciB3aXRoIHRoZSByYW5nZXMgc2VsZWN0ZWQgb24gdGhlIGF4ZXMsIGxpa2UgdGhpczoKCglwbGFjZWhvbGRlci5iaW5kKCAicGxvdHNlbGVjdGVkIiwgZnVuY3Rpb24oIGV2ZW50LCByYW5nZXMgKSB7CgkJYWxlcnQoIllvdSBzZWxlY3RlZCAiICsgcmFuZ2VzLnhheGlzLmZyb20gKyAiIHRvICIgKyByYW5nZXMueGF4aXMudG8pCgkJLy8gc2ltaWxhciBmb3IgeWF4aXMgLSB3aXRoIG11bHRpcGxlIGF4ZXMsIHRoZSBleHRyYSBvbmVzIGFyZSBpbgoJCS8vIHgyYXhpcywgeDNheGlzLCAuLi4KCX0pOwoKVGhlICJwbG90c2VsZWN0ZWQiIGV2ZW50IGlzIG9ubHkgZmlyZWQgd2hlbiB0aGUgdXNlciBoYXMgZmluaXNoZWQgbWFraW5nIHRoZQpzZWxlY3Rpb24uIEEgInBsb3RzZWxlY3RpbmciIGV2ZW50IGlzIGZpcmVkIGR1cmluZyB0aGUgcHJvY2VzcyB3aXRoIHRoZSBzYW1lCnBhcmFtZXRlcnMgYXMgdGhlICJwbG90c2VsZWN0ZWQiIGV2ZW50LCBpbiBjYXNlIHlvdSB3YW50IHRvIGtub3cgd2hhdCdzCmhhcHBlbmluZyB3aGlsZSBpdCdzIGhhcHBlbmluZywKCkEgInBsb3R1bnNlbGVjdGVkIiBldmVudCB3aXRoIG5vIGFyZ3VtZW50cyBpcyBlbWl0dGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZQptb3VzZSB0byByZW1vdmUgdGhlIHNlbGVjdGlvbi4gQXMgc3RhdGVkIGFib3ZlLCBzZXR0aW5nICJtaW5TaXplIiB0byAwIHdpbGwKZGVzdHJveSB0aGlzIGJlaGF2aW9yLgoKVGhlIHBsdWdpbiBhbHNvIGFkZHMgdGhlIGZvbGxvd2luZyBtZXRob2RzIHRvIHRoZSBwbG90IG9iamVjdDoKCi0gc2V0U2VsZWN0aW9uKCByYW5nZXMsIHByZXZlbnRFdmVudCApCgogIFNldCB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZS4gVGhlIHBhc3NlZCBpbiByYW5nZXMgaXMgb24gdGhlIHNhbWUgZm9ybSBhcwogIHJldHVybmVkIGluIHRoZSAicGxvdHNlbGVjdGVkIiBldmVudC4gSWYgdGhlIHNlbGVjdGlvbiBtb2RlIGlzICJ4IiwgeW91CiAgc2hvdWxkIHB1dCBpbiBlaXRoZXIgYW4geGF4aXMgcmFuZ2UsIGlmIHRoZSBtb2RlIGlzICJ5IiB5b3UgbmVlZCB0byBwdXQgaW4KICBhbiB5YXhpcyByYW5nZSBhbmQgYm90aCB4YXhpcyBhbmQgeWF4aXMgaWYgdGhlIHNlbGVjdGlvbiBtb2RlIGlzICJ4eSIsIGxpa2UKICB0aGlzOgoKCXNldFNlbGVjdGlvbih7IHhheGlzOiB7IGZyb206IDAsIHRvOiAxMCB9LCB5YXhpczogeyBmcm9tOiA0MCwgdG86IDYwIH0gfSk7CgogIHNldFNlbGVjdGlvbiB3aWxsIHRyaWdnZXIgdGhlICJwbG90c2VsZWN0ZWQiIGV2ZW50IHdoZW4gY2FsbGVkLiBJZiB5b3UgZG9uJ3QKICB3YW50IHRoYXQgdG8gaGFwcGVuLCBlLmcuIGlmIHlvdSdyZSBpbnNpZGUgYSAicGxvdHNlbGVjdGVkIiBoYW5kbGVyLCBwYXNzCiAgdHJ1ZSBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlci4gSWYgeW91IGFyZSB1c2luZyBtdWx0aXBsZSBheGVzLCB5b3UgY2FuCiAgc3BlY2lmeSB0aGUgcmFuZ2VzIG9uIGFueSBvZiB0aG9zZSwgZS5nLiBhcyB4MmF4aXMveDNheGlzLy4uLiBpbnN0ZWFkIG9mCiAgeGF4aXMsIHRoZSBwbHVnaW4gcGlja3MgdGhlIGZpcnN0IG9uZSBpdCBzZWVzLgoKLSBjbGVhclNlbGVjdGlvbiggcHJldmVudEV2ZW50ICkKCiAgQ2xlYXIgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGUuIFBhc3MgaW4gdHJ1ZSB0byBhdm9pZCBnZXR0aW5nIGEKICAicGxvdHVuc2VsZWN0ZWQiIGV2ZW50LgoKLSBnZXRTZWxlY3Rpb24oKQoKICBSZXR1cm5zIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlICJwbG90c2VsZWN0ZWQiCiAgZXZlbnQuIElmIHRoZXJlJ3MgY3VycmVudGx5IG5vIHNlbGVjdGlvbiwgdGhlIGZ1bmN0aW9uIHJldHVybnMgbnVsbC4KCiovCihmdW5jdGlvbiAoJCkgewogIGZ1bmN0aW9uIGluaXQocGxvdCkgewogICAgdmFyIHNlbGVjdGlvbiA9IHsKICAgICAgZmlyc3Q6IHsKICAgICAgICB4OiAtMSwKICAgICAgICB5OiAtMQogICAgICB9LAogICAgICBzZWNvbmQ6IHsKICAgICAgICB4OiAtMSwKICAgICAgICB5OiAtMQogICAgICB9LAogICAgICBzaG93OiBmYWxzZSwKICAgICAgYWN0aXZlOiBmYWxzZQogICAgfTsgLy8gRklYTUU6IFRoZSBkcmFnIGhhbmRsaW5nIGltcGxlbWVudGVkIGhlcmUgc2hvdWxkIGJlCiAgICAvLyBhYnN0cmFjdGVkIG91dCwgdGhlcmUncyBzb21lIHNpbWlsYXIgY29kZSBmcm9tIGEgbGlicmFyeSBpbgogICAgLy8gdGhlIG5hdmlnYXRpb24gcGx1Z2luLCB0aGlzIHNob3VsZCBiZSBtYXNzYWdlZCBhIGJpdCB0byBmaXQKICAgIC8vIHRoZSBGbG90IGNhc2VzIGhlcmUgYmV0dGVyIGFuZCByZXVzZWQuIERvaW5nIHRoaXMgd291bGQKICAgIC8vIG1ha2UgdGhpcyBwbHVnaW4gbXVjaCBzbGltbWVyLgoKICAgIHZhciBzYXZlZGhhbmRsZXJzID0ge307CiAgICB2YXIgbW91c2VVcEhhbmRsZXIgPSBudWxsOwoKICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgaWYgKHNlbGVjdGlvbi5hY3RpdmUpIHsKICAgICAgICB1cGRhdGVTZWxlY3Rpb24oZSk7CiAgICAgICAgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3RzZWxlY3RpbmciLCBbZ2V0U2VsZWN0aW9uKCldKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHsKICAgICAgaWYgKGUud2hpY2ggIT0gMSkgLy8gb25seSBhY2NlcHQgbGVmdC1jbGljawogICAgICAgIHJldHVybjsgLy8gY2FuY2VsIG91dCBhbnkgdGV4dCBzZWxlY3Rpb25zCgogICAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7IC8vIHByZXZlbnQgdGV4dCBzZWxlY3Rpb24gYW5kIGRyYWcgaW4gb2xkLXNjaG9vbCBicm93c2VycwoKICAgICAgaWYgKGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgIT09IHVuZGVmaW5lZCAmJiBzYXZlZGhhbmRsZXJzLm9uc2VsZWN0c3RhcnQgPT0gbnVsbCkgewogICAgICAgIHNhdmVkaGFuZGxlcnMub25zZWxlY3RzdGFydCA9IGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ7CgogICAgICAgIGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKGRvY3VtZW50Lm9uZHJhZyAhPT0gdW5kZWZpbmVkICYmIHNhdmVkaGFuZGxlcnMub25kcmFnID09IG51bGwpIHsKICAgICAgICBzYXZlZGhhbmRsZXJzLm9uZHJhZyA9IGRvY3VtZW50Lm9uZHJhZzsKCiAgICAgICAgZG9jdW1lbnQub25kcmFnID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHNldFNlbGVjdGlvblBvcyhzZWxlY3Rpb24uZmlyc3QsIGUpOwogICAgICBzZWxlY3Rpb24uYWN0aXZlID0gdHJ1ZTsgLy8gdGhpcyBpcyBhIGJpdCBzaWxseSwgYnV0IHdlIGhhdmUgdG8gdXNlIGEgY2xvc3VyZSB0byBiZQogICAgICAvLyBhYmxlIHRvIHdoYWNrIHRoZSBzYW1lIGhhbmRsZXIgYWdhaW4KCiAgICAgIG1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoZSkgewogICAgICAgIG9uTW91c2VVcChlKTsKICAgICAgfTsKCiAgICAgICQoZG9jdW1lbnQpLm9uZSgibW91c2V1cCIsIG1vdXNlVXBIYW5kbGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkgewogICAgICBtb3VzZVVwSGFuZGxlciA9IG51bGw7IC8vIHJldmVydCBkcmFnIHN0dWZmIGZvciBvbGQtc2Nob29sIGJyb3dzZXJzCgogICAgICBpZiAoZG9jdW1lbnQub25zZWxlY3RzdGFydCAhPT0gdW5kZWZpbmVkKSBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gc2F2ZWRoYW5kbGVycy5vbnNlbGVjdHN0YXJ0OwogICAgICBpZiAoZG9jdW1lbnQub25kcmFnICE9PSB1bmRlZmluZWQpIGRvY3VtZW50Lm9uZHJhZyA9IHNhdmVkaGFuZGxlcnMub25kcmFnOyAvLyBubyBtb3JlIGRyYWdnaW5nCgogICAgICBzZWxlY3Rpb24uYWN0aXZlID0gZmFsc2U7CiAgICAgIHVwZGF0ZVNlbGVjdGlvbihlKTsKICAgICAgaWYgKHNlbGVjdGlvbklzU2FuZSgpKSB0cmlnZ2VyU2VsZWN0ZWRFdmVudCgpO2Vsc2UgewogICAgICAgIC8vIHRoaXMgY291bnRzIGFzIGEgY2xlYXIKICAgICAgICBwbG90LmdldFBsYWNlaG9sZGVyKCkudHJpZ2dlcigicGxvdHVuc2VsZWN0ZWQiLCBbXSk7CiAgICAgICAgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3RzZWxlY3RpbmciLCBbbnVsbF0pOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7CiAgICAgIGlmICghc2VsZWN0aW9uSXNTYW5lKCkpIHJldHVybiBudWxsOwogICAgICBpZiAoIXNlbGVjdGlvbi5zaG93KSByZXR1cm4gbnVsbDsKICAgICAgdmFyIHIgPSB7fSwKICAgICAgICAgIGMxID0gc2VsZWN0aW9uLmZpcnN0LAogICAgICAgICAgYzIgPSBzZWxlY3Rpb24uc2Vjb25kOwogICAgICAkLmVhY2gocGxvdC5nZXRBeGVzKCksIGZ1bmN0aW9uIChuYW1lLCBheGlzKSB7CiAgICAgICAgaWYgKGF4aXMudXNlZCkgewogICAgICAgICAgdmFyIHAxID0gYXhpcy5jMnAoYzFbYXhpcy5kaXJlY3Rpb25dKSwKICAgICAgICAgICAgICBwMiA9IGF4aXMuYzJwKGMyW2F4aXMuZGlyZWN0aW9uXSk7CiAgICAgICAgICByW25hbWVdID0gewogICAgICAgICAgICBmcm9tOiBNYXRoLm1pbihwMSwgcDIpLAogICAgICAgICAgICB0bzogTWF0aC5tYXgocDEsIHAyKQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcjsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmlnZ2VyU2VsZWN0ZWRFdmVudCgpIHsKICAgICAgdmFyIHIgPSBnZXRTZWxlY3Rpb24oKTsKICAgICAgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3RzZWxlY3RlZCIsIFtyXSk7IC8vIGJhY2t3YXJkcy1jb21wYXQgc3R1ZmYsIHRvIGJlIHJlbW92ZWQgaW4gZnV0dXJlCgogICAgICBpZiAoci54YXhpcyAmJiByLnlheGlzKSBwbG90LmdldFBsYWNlaG9sZGVyKCkudHJpZ2dlcigic2VsZWN0ZWQiLCBbewogICAgICAgIHgxOiByLnhheGlzLmZyb20sCiAgICAgICAgeTE6IHIueWF4aXMuZnJvbSwKICAgICAgICB4Mjogci54YXhpcy50bywKICAgICAgICB5Mjogci55YXhpcy50bwogICAgICB9XSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xhbXAobWluLCB2YWx1ZSwgbWF4KSB7CiAgICAgIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uUG9zKHBvcywgZSkgewogICAgICB2YXIgbyA9IHBsb3QuZ2V0T3B0aW9ucygpOwogICAgICB2YXIgb2Zmc2V0ID0gcGxvdC5nZXRQbGFjZWhvbGRlcigpLm9mZnNldCgpOwogICAgICB2YXIgcGxvdE9mZnNldCA9IHBsb3QuZ2V0UGxvdE9mZnNldCgpOwogICAgICBwb3MueCA9IGNsYW1wKDAsIGUucGFnZVggLSBvZmZzZXQubGVmdCAtIHBsb3RPZmZzZXQubGVmdCwgcGxvdC53aWR0aCgpKTsKICAgICAgcG9zLnkgPSBjbGFtcCgwLCBlLnBhZ2VZIC0gb2Zmc2V0LnRvcCAtIHBsb3RPZmZzZXQudG9wLCBwbG90LmhlaWdodCgpKTsKICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgPT0gInkiKSBwb3MueCA9IHBvcyA9PSBzZWxlY3Rpb24uZmlyc3QgPyAwIDogcGxvdC53aWR0aCgpOwogICAgICBpZiAoby5zZWxlY3Rpb24ubW9kZSA9PSAieCIpIHBvcy55ID0gcG9zID09IHNlbGVjdGlvbi5maXJzdCA/IDAgOiBwbG90LmhlaWdodCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbihwb3MpIHsKICAgICAgaWYgKHBvcy5wYWdlWCA9PSBudWxsKSByZXR1cm47CiAgICAgIHNldFNlbGVjdGlvblBvcyhzZWxlY3Rpb24uc2Vjb25kLCBwb3MpOwoKICAgICAgaWYgKHNlbGVjdGlvbklzU2FuZSgpKSB7CiAgICAgICAgc2VsZWN0aW9uLnNob3cgPSB0cnVlOwogICAgICAgIHBsb3QudHJpZ2dlclJlZHJhd092ZXJsYXkoKTsKICAgICAgfSBlbHNlIGNsZWFyU2VsZWN0aW9uKHRydWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKHByZXZlbnRFdmVudCkgewogICAgICBpZiAoc2VsZWN0aW9uLnNob3cpIHsKICAgICAgICBzZWxlY3Rpb24uc2hvdyA9IGZhbHNlOwogICAgICAgIHBsb3QudHJpZ2dlclJlZHJhd092ZXJsYXkoKTsKICAgICAgICBpZiAoIXByZXZlbnRFdmVudCkgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3R1bnNlbGVjdGVkIiwgW10pOwogICAgICB9CiAgICB9IC8vIGZ1bmN0aW9uIHRha2VuIGZyb20gbWFya2luZ3Mgc3VwcG9ydCBpbiBGbG90CgoKICAgIGZ1bmN0aW9uIGV4dHJhY3RSYW5nZShyYW5nZXMsIGNvb3JkKSB7CiAgICAgIHZhciBheGlzLAogICAgICAgICAgZnJvbSwKICAgICAgICAgIHRvLAogICAgICAgICAga2V5LAogICAgICAgICAgYXhlcyA9IHBsb3QuZ2V0QXhlcygpOwoKICAgICAgZm9yICh2YXIgayBpbiBheGVzKSB7CiAgICAgICAgYXhpcyA9IGF4ZXNba107CgogICAgICAgIGlmIChheGlzLmRpcmVjdGlvbiA9PSBjb29yZCkgewogICAgICAgICAga2V5ID0gY29vcmQgKyBheGlzLm4gKyAiYXhpcyI7CiAgICAgICAgICBpZiAoIXJhbmdlc1trZXldICYmIGF4aXMubiA9PSAxKSBrZXkgPSBjb29yZCArICJheGlzIjsgLy8gc3VwcG9ydCB4MWF4aXMgYXMgeGF4aXMKCiAgICAgICAgICBpZiAocmFuZ2VzW2tleV0pIHsKICAgICAgICAgICAgZnJvbSA9IHJhbmdlc1trZXldLmZyb207CiAgICAgICAgICAgIHRvID0gcmFuZ2VzW2tleV0udG87CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBiYWNrd2FyZHMtY29tcGF0IHN0dWZmIC0gdG8gYmUgcmVtb3ZlZCBpbiBmdXR1cmUKCgogICAgICBpZiAoIXJhbmdlc1trZXldKSB7CiAgICAgICAgYXhpcyA9IGNvb3JkID09ICJ4IiA/IHBsb3QuZ2V0WEF4ZXMoKVswXSA6IHBsb3QuZ2V0WUF4ZXMoKVswXTsKICAgICAgICBmcm9tID0gcmFuZ2VzW2Nvb3JkICsgIjEiXTsKICAgICAgICB0byA9IHJhbmdlc1tjb29yZCArICIyIl07CiAgICAgIH0gLy8gYXV0by1yZXZlcnNlIGFzIGFuIGFkZGVkIGJvbnVzCgoKICAgICAgaWYgKGZyb20gIT0gbnVsbCAmJiB0byAhPSBudWxsICYmIGZyb20gPiB0bykgewogICAgICAgIHZhciB0bXAgPSBmcm9tOwogICAgICAgIGZyb20gPSB0bzsKICAgICAgICB0byA9IHRtcDsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgIHRvOiB0bywKICAgICAgICBheGlzOiBheGlzCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHJhbmdlcywgcHJldmVudEV2ZW50KSB7CiAgICAgIHZhciBheGlzLAogICAgICAgICAgcmFuZ2UsCiAgICAgICAgICBvID0gcGxvdC5nZXRPcHRpb25zKCk7CgogICAgICBpZiAoby5zZWxlY3Rpb24ubW9kZSA9PSAieSIpIHsKICAgICAgICBzZWxlY3Rpb24uZmlyc3QueCA9IDA7CiAgICAgICAgc2VsZWN0aW9uLnNlY29uZC54ID0gcGxvdC53aWR0aCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJhbmdlID0gZXh0cmFjdFJhbmdlKHJhbmdlcywgIngiKTsKICAgICAgICBzZWxlY3Rpb24uZmlyc3QueCA9IHJhbmdlLmF4aXMucDJjKHJhbmdlLmZyb20pOwogICAgICAgIHNlbGVjdGlvbi5zZWNvbmQueCA9IHJhbmdlLmF4aXMucDJjKHJhbmdlLnRvKTsKICAgICAgfQoKICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgPT0gIngiKSB7CiAgICAgICAgc2VsZWN0aW9uLmZpcnN0LnkgPSAwOwogICAgICAgIHNlbGVjdGlvbi5zZWNvbmQueSA9IHBsb3QuaGVpZ2h0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmFuZ2UgPSBleHRyYWN0UmFuZ2UocmFuZ2VzLCAieSIpOwogICAgICAgIHNlbGVjdGlvbi5maXJzdC55ID0gcmFuZ2UuYXhpcy5wMmMocmFuZ2UuZnJvbSk7CiAgICAgICAgc2VsZWN0aW9uLnNlY29uZC55ID0gcmFuZ2UuYXhpcy5wMmMocmFuZ2UudG8pOwogICAgICB9CgogICAgICBzZWxlY3Rpb24uc2hvdyA9IHRydWU7CiAgICAgIHBsb3QudHJpZ2dlclJlZHJhd092ZXJsYXkoKTsKICAgICAgaWYgKCFwcmV2ZW50RXZlbnQgJiYgc2VsZWN0aW9uSXNTYW5lKCkpIHRyaWdnZXJTZWxlY3RlZEV2ZW50KCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2VsZWN0aW9uSXNTYW5lKCkgewogICAgICB2YXIgbWluU2l6ZSA9IHBsb3QuZ2V0T3B0aW9ucygpLnNlbGVjdGlvbi5taW5TaXplOwogICAgICByZXR1cm4gTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC54IC0gc2VsZWN0aW9uLmZpcnN0LngpID49IG1pblNpemUgJiYgTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC55IC0gc2VsZWN0aW9uLmZpcnN0LnkpID49IG1pblNpemU7CiAgICB9CgogICAgcGxvdC5jbGVhclNlbGVjdGlvbiA9IGNsZWFyU2VsZWN0aW9uOwogICAgcGxvdC5zZXRTZWxlY3Rpb24gPSBzZXRTZWxlY3Rpb247CiAgICBwbG90LmdldFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbjsKICAgIHBsb3QuaG9va3MuYmluZEV2ZW50cy5wdXNoKGZ1bmN0aW9uIChwbG90LCBldmVudEhvbGRlcikgewogICAgICB2YXIgbyA9IHBsb3QuZ2V0T3B0aW9ucygpOwoKICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgIT0gbnVsbCkgewogICAgICAgIGV2ZW50SG9sZGVyLm1vdXNlbW92ZShvbk1vdXNlTW92ZSk7CiAgICAgICAgZXZlbnRIb2xkZXIubW91c2Vkb3duKG9uTW91c2VEb3duKTsKICAgICAgfQogICAgfSk7CiAgICBwbG90Lmhvb2tzLmRyYXdPdmVybGF5LnB1c2goZnVuY3Rpb24gKHBsb3QsIGN0eCkgewogICAgICAvLyBkcmF3IHNlbGVjdGlvbgogICAgICBpZiAoc2VsZWN0aW9uLnNob3cgJiYgc2VsZWN0aW9uSXNTYW5lKCkpIHsKICAgICAgICB2YXIgcGxvdE9mZnNldCA9IHBsb3QuZ2V0UGxvdE9mZnNldCgpOwogICAgICAgIHZhciBvID0gcGxvdC5nZXRPcHRpb25zKCk7CiAgICAgICAgY3R4LnNhdmUoKTsKICAgICAgICBjdHgudHJhbnNsYXRlKHBsb3RPZmZzZXQubGVmdCwgcGxvdE9mZnNldC50b3ApOwogICAgICAgIHZhciBjID0gJC5jb2xvci5wYXJzZShvLnNlbGVjdGlvbi5jb2xvcik7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYy5zY2FsZSgnYScsIDAuOCkudG9TdHJpbmcoKTsKICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICBjdHgubGluZUpvaW4gPSBvLnNlbGVjdGlvbi5zaGFwZTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gYy5zY2FsZSgnYScsIDAuNCkudG9TdHJpbmcoKTsKICAgICAgICB2YXIgeCA9IE1hdGgubWluKHNlbGVjdGlvbi5maXJzdC54LCBzZWxlY3Rpb24uc2Vjb25kLngpICsgMC41LAogICAgICAgICAgICB5ID0gTWF0aC5taW4oc2VsZWN0aW9uLmZpcnN0LnksIHNlbGVjdGlvbi5zZWNvbmQueSkgKyAwLjUsCiAgICAgICAgICAgIHcgPSBNYXRoLmFicyhzZWxlY3Rpb24uc2Vjb25kLnggLSBzZWxlY3Rpb24uZmlyc3QueCkgLSAxLAogICAgICAgICAgICBoID0gTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC55IC0gc2VsZWN0aW9uLmZpcnN0LnkpIC0gMTsKICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7CiAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgdywgaCk7CiAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgfQogICAgfSk7CiAgICBwbG90Lmhvb2tzLnNodXRkb3duLnB1c2goZnVuY3Rpb24gKHBsb3QsIGV2ZW50SG9sZGVyKSB7CiAgICAgIGV2ZW50SG9sZGVyLnVuYmluZCgibW91c2Vtb3ZlIiwgb25Nb3VzZU1vdmUpOwogICAgICBldmVudEhvbGRlci51bmJpbmQoIm1vdXNlZG93biIsIG9uTW91c2VEb3duKTsKICAgICAgaWYgKG1vdXNlVXBIYW5kbGVyKSAkKGRvY3VtZW50KS51bmJpbmQoIm1vdXNldXAiLCBtb3VzZVVwSGFuZGxlcik7CiAgICB9KTsKICB9CgogICQucGxvdC5wbHVnaW5zLnB1c2goewogICAgaW5pdDogaW5pdCwKICAgIG9wdGlvbnM6IHsKICAgICAgc2VsZWN0aW9uOiB7CiAgICAgICAgbW9kZTogbnVsbCwKICAgICAgICAvLyBvbmUgb2YgbnVsbCwgIngiLCAieSIgb3IgInh5IgogICAgICAgIGNvbG9yOiAiI2U4Y2ZhYyIsCiAgICAgICAgc2hhcGU6ICJyb3VuZCIsCiAgICAgICAgLy8gb25lIG9mICJyb3VuZCIsICJtaXRlciIsIG9yICJiZXZlbCIKICAgICAgICBtaW5TaXplOiA1IC8vIG1pbmltdW0gbnVtYmVyIG9mIHBpeGVscwoKICAgICAgfQogICAgfSwKICAgIG5hbWU6ICdzZWxlY3Rpb24nLAogICAgdmVyc2lvbjogJzEuMScKICB9KTsKfSkoalF1ZXJ5KTs="},null]}