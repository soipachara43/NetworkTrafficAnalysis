{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/pie_chart.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/pie_chart.js","mtime":1589249550150},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBpZUNoYXJ0ID0gdm9pZCAwOwoKdmFyIF9kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJkMyIpKTsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKdmFyIF9udW1lcmFsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJudW1lcmFsIikpOwoKdmFyIF9lcnJvcnMgPSByZXF1aXJlKCIuLi9lcnJvcnMiKTsKCnZhciBfY2hhcnQgPSByZXF1aXJlKCIuL19jaGFydCIpOwoKdmFyIF90cnVuY2F0ZV9sYWJlbHMgPSByZXF1aXJlKCIuLi9jb21wb25lbnRzL2xhYmVscy90cnVuY2F0ZV9sYWJlbHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9Cgp2YXIgZGVmYXVsdHMgPSB7CiAgaXNEb251dDogZmFsc2UsCiAgc2hvd1Rvb2x0aXA6IHRydWUsCiAgY29sb3I6IHVuZGVmaW5lZCwKICBmaWxsQ29sb3I6IHVuZGVmaW5lZAp9OwovKioKICogUGllIENoYXJ0IFZpc3VhbGl6YXRpb24KICoKICogQGNsYXNzIFBpZUNoYXJ0CiAqIEBjb25zdHJ1Y3RvcgogKiBAZXh0ZW5kcyBDaGFydAogKiBAcGFyYW0gaGFuZGxlciB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gdGhlIEhhbmRsZXIgQ2xhc3MgQ29uc3RydWN0b3IKICogQHBhcmFtIGVsIHtIVE1MRWxlbWVudH0gSFRNTCBlbGVtZW50IHRvIHdoaWNoIHRoZSBjaGFydCB3aWxsIGJlIGFwcGVuZGVkCiAqIEBwYXJhbSBjaGFydERhdGEge09iamVjdH0gRWxhc3RpY3NlYXJjaCBxdWVyeSByZXN1bHRzIGZvciB0aGlzIHNwZWNpZmljIGNoYXJ0CiAqLwoKdmFyIFBpZUNoYXJ0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NoYXJ0KSB7CiAgX2luaGVyaXRzKFBpZUNoYXJ0LCBfQ2hhcnQpOwoKICBmdW5jdGlvbiBQaWVDaGFydChoYW5kbGVyLCBjaGFydEVsLCBjaGFydERhdGEsIGRlcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGllQ2hhcnQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFBpZUNoYXJ0KS5jYWxsKHRoaXMsIGhhbmRsZXIsIGNoYXJ0RWwsIGNoYXJ0RGF0YSwgZGVwcykpOwoKICAgIHZhciBjaGFydHMgPSBfdGhpcy5oYW5kbGVyLmRhdGEuZ2V0VmlzRGF0YSgpOwoKICAgIF90aGlzLl92YWxpZGF0ZVBpZURhdGEoY2hhcnRzKTsKCiAgICBfdGhpcy5fYXR0ciA9IF9sb2Rhc2guZGVmYXVsdC5kZWZhdWx0cyhoYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2NoYXJ0Jywge30pLCBkZWZhdWx0cyk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIENoZWNrcyB3aGV0aGVyIHBpZSBzbGljZXMgaGF2ZSBhbGwgemVybyB2YWx1ZXMuCiAgICogSWYgc28sIGFuIGVycm9yIGlzIHRocm93bi4KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhQaWVDaGFydCwgW3sKICAgIGtleTogIl92YWxpZGF0ZVBpZURhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF92YWxpZGF0ZVBpZURhdGEoY2hhcnRzKSB7CiAgICAgIHZhciBpc0FsbFplcm9zID0gY2hhcnRzLmV2ZXJ5KGZ1bmN0aW9uIChjaGFydCkgewogICAgICAgIHJldHVybiBjaGFydC5zbGljZXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwOwogICAgICB9KTsKCiAgICAgIGlmIChpc0FsbFplcm9zKSB7CiAgICAgICAgdGhyb3cgbmV3IF9lcnJvcnMuUGllQ29udGFpbnNBbGxaZXJvcygpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgRXZlbnRzIHRvIFNWRyBwYXRocwogICAgICoKICAgICAqIEBtZXRob2QgYWRkUGF0aEV2ZW50cwogICAgICogQHBhcmFtIGVsZW1lbnQge0QzLlNlbGVjdGlvbn0gUmVmZXJlbmNlIHRvIFNWRyBwYXRoCiAgICAgKiBAcmV0dXJucyB7RDMuU2VsZWN0aW9ufSBTVkcgcGF0aCB3aXRoIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZAogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZFBhdGhFdmVudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBhdGhFdmVudHMoZWxlbWVudCkgewogICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHM7CiAgICAgIHJldHVybiBlbGVtZW50LmNhbGwoZXZlbnRzLmFkZEhvdmVyRXZlbnQoKSkuY2FsbChldmVudHMuYWRkTW91c2VvdXRFdmVudCgpKS5jYWxsKGV2ZW50cy5hZGRDbGlja0V2ZW50KCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbnZlcnRUb1BlcmNlbnRhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnRUb1BlcmNlbnRhZ2Uoc2xpY2VzKSB7CiAgICAgIChmdW5jdGlvbiBhc3NpZ25QZXJjZW50YWdlcyhzbGljZXMpIHsKICAgICAgICBpZiAoc2xpY2VzLnN1bU9mQ2hpbGRyZW4gIT0gbnVsbCkgcmV0dXJuOwogICAgICAgIHZhciBwYXJlbnQgPSBzbGljZXM7CiAgICAgICAgdmFyIGNoaWxkcmVuID0gcGFyZW50LmNoaWxkcmVuOwogICAgICAgIHZhciBwYXJlbnRQZXJjZW50ID0gcGFyZW50LnBlcmNlbnRPZlBhcmVudDsKICAgICAgICB2YXIgc3VtID0gcGFyZW50LnN1bU9mQ2hpbGRyZW4gPSBNYXRoLmFicyhjaGlsZHJlbi5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY2hpbGQpIHsKICAgICAgICAgIHJldHVybiBzdW0gKyBNYXRoLmFicyhjaGlsZC5zaXplKTsKICAgICAgICB9LCAwKSk7CiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgIGNoaWxkLnBlcmNlbnRPZkdyb3VwID0gTWF0aC5hYnMoY2hpbGQuc2l6ZSkgLyBzdW07CiAgICAgICAgICBjaGlsZC5wZXJjZW50T2ZQYXJlbnQgPSBjaGlsZC5wZXJjZW50T2ZHcm91cDsKCiAgICAgICAgICBpZiAocGFyZW50UGVyY2VudCAhPSBudWxsKSB7CiAgICAgICAgICAgIGNoaWxkLnBlcmNlbnRPZlBhcmVudCAqPSBwYXJlbnRQZXJjZW50OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbikgewogICAgICAgICAgICBhc3NpZ25QZXJjZW50YWdlcyhjaGlsZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pKHNsaWNlcyk7CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgcGllIHBhdGhzIHRvIFNWRwogICAgICoKICAgICAqIEBtZXRob2QgYWRkUGF0aAogICAgICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IFdpZHRoIG9mIFNWRwogICAgICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSBIZWlnaHQgb2YgU1ZHCiAgICAgKiBAcGFyYW0gc3ZnIHtIVE1MRWxlbWVudH0gQ2hhcnQgU1ZHCiAgICAgKiBAcGFyYW0gc2xpY2VzIHtPYmplY3R9IENoYXJ0IGRhdGEKICAgICAqIEByZXR1cm5zIHtEMy5TZWxlY3Rpb259IFNWRyB3aXRoIHBhdGhzIGF0dGFjaGVkCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWRkUGF0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGF0aCh3aWR0aCwgaGVpZ2h0LCBzdmcsIHNsaWNlcykgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBtYXJnaW5GYWN0b3IgPSAwLjk1OwogICAgICB2YXIgaXNEb251dCA9IHNlbGYuX2F0dHIuaXNEb251dDsKICAgICAgdmFyIHJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiAqIG1hcmdpbkZhY3RvcjsKICAgICAgdmFyIGNvbG9yID0gc2VsZi5oYW5kbGVyLmRhdGEuZ2V0UGllQ29sb3JGdW5jKCk7CiAgICAgIHZhciB0b29sdGlwID0gc2VsZi50b29sdGlwOwogICAgICB2YXIgaXNUb29sdGlwID0gc2VsZi5fYXR0ci5hZGRUb29sdGlwOwogICAgICB2YXIgYXJjcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdhcmNzJyk7CiAgICAgIHZhciBsYWJlbHMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbGFiZWxzJyk7CiAgICAgIHZhciBzaG93TGFiZWxzID0gc2VsZi5fYXR0ci5sYWJlbHMuc2hvdzsKICAgICAgdmFyIHNob3dWYWx1ZXMgPSBzZWxmLl9hdHRyLmxhYmVscy52YWx1ZXM7CiAgICAgIHZhciB0cnVuY2F0ZUxhYmVsTGVuZ3RoID0gc2VsZi5fYXR0ci5sYWJlbHMudHJ1bmNhdGU7CiAgICAgIHZhciBzaG93T25seU9uTGFzdExldmVsID0gc2VsZi5fYXR0ci5sYWJlbHMubGFzdF9sZXZlbDsKCiAgICAgIHZhciBwYXJ0aXRpb24gPSBfZC5kZWZhdWx0LmxheW91dC5wYXJ0aXRpb24oKS5zb3J0KG51bGwpLnZhbHVlKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQucGVyY2VudE9mUGFyZW50ICogMTAwOwogICAgICB9KTsKCiAgICAgIHZhciB4ID0gX2QuZGVmYXVsdC5zY2FsZS5saW5lYXIoKS5yYW5nZShbMCwgMiAqIE1hdGguUEldKTsKCiAgICAgIHZhciB5ID0gX2QuZGVmYXVsdC5zY2FsZS5zcXJ0KCkucmFuZ2UoWzAsIHNob3dMYWJlbHMgPyByYWRpdXMgKiAwLjcgOiByYWRpdXNdKTsKCiAgICAgIHZhciBzdGFydEFuZ2xlID0gZnVuY3Rpb24gc3RhcnRBbmdsZShkKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDIgKiBNYXRoLlBJLCB4KGQueCkpKTsKICAgICAgfTsKCiAgICAgIHZhciBlbmRBbmdsZSA9IGZ1bmN0aW9uIGVuZEFuZ2xlKGQpIHsKICAgICAgICBpZiAoZC5keCA8IDFlLTgpIHJldHVybiB4KGQueCk7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDIgKiBNYXRoLlBJLCB4KGQueCArIGQuZHgpKSk7CiAgICAgIH07CgogICAgICB2YXIgYXJjID0gX2QuZGVmYXVsdC5zdmcuYXJjKCkuc3RhcnRBbmdsZShzdGFydEFuZ2xlKS5lbmRBbmdsZShlbmRBbmdsZSkuaW5uZXJSYWRpdXMoZnVuY3Rpb24gKGQpIHsKICAgICAgICAvLyBvcHRpb24gZm9yIGEgc2luZ2xlIGxheWVyLCBpLmUgcGllIGNoYXJ0CiAgICAgICAgaWYgKGQuZGVwdGggPT09IDEgJiYgIWlzRG9udXQpIHsKICAgICAgICAgIC8vIHJldHVybiBubyBpbm5lciByYWRpdXMKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHkoZC55KSk7CiAgICAgIH0pLm91dGVyUmFkaXVzKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHkoZC55ICsgZC5keSkpOwogICAgICB9KTsKCiAgICAgIHZhciBvdXRlckFyYyA9IF9kLmRlZmF1bHQuc3ZnLmFyYygpLnN0YXJ0QW5nbGUoc3RhcnRBbmdsZSkuZW5kQW5nbGUoZW5kQW5nbGUpLmlubmVyUmFkaXVzKHJhZGl1cyAqIDAuOCkub3V0ZXJSYWRpdXMocmFkaXVzICogMC44KTsKCiAgICAgIHZhciBtYXhEZXB0aCA9IDA7CiAgICAgIHZhciBwYXRoID0gYXJjcy5kYXR1bShzbGljZXMpLnNlbGVjdEFsbCgncGF0aCcpLmRhdGEocGFydGl0aW9uLm5vZGVzKS5lbnRlcigpLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2QnLCBhcmMpLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoZC5kZXB0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQuZGVwdGggPiBtYXhEZXB0aCkgbWF4RGVwdGggPSBkLmRlcHRoOwogICAgICAgIHJldHVybiAnc2xpY2UnOwogICAgICB9KS5hdHRyKCdkYXRhLXRlc3Qtc3ViaicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgaWYgKGQubmFtZSkgewogICAgICAgICAgcmV0dXJuICJwaWVTbGljZS0iLmNvbmNhdChkLm5hbWUuc3BsaXQoJyAnKS5qb2luKCctJykpOwogICAgICAgIH0KICAgICAgfSkuY2FsbChzZWxmLl9hZGRJZGVudGlmaWVyLCAnbmFtZScpLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoZC5kZXB0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuICdub25lJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjb2xvcihkLm5hbWUpOwogICAgICB9KTsgLy8gYWRkIGxhYmVscwoKICAgICAgaWYgKHNob3dMYWJlbHMpIHsKICAgICAgICB2YXIgbGFiZWxHcm91cHMgPSBsYWJlbHMuZGF0dW0oc2xpY2VzKS5zZWxlY3RBbGwoJy5sYWJlbCcpLmRhdGEocGFydGl0aW9uLm5vZGVzKTsgLy8gY3JlYXRlIGFuIGVtcHR5IHF1YWR0cmVlIHRvIGhvbGQgbGFiZWwgcG9zaXRpb25zCgogICAgICAgIHZhciBzdmdQYXJlbnROb2RlID0gc3ZnLm5vZGUoKS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgdmFyIHN2Z0JCb3ggPSB7CiAgICAgICAgICB3aWR0aDogc3ZnUGFyZW50Tm9kZS5jbGllbnRXaWR0aCwKICAgICAgICAgIGhlaWdodDogc3ZnUGFyZW50Tm9kZS5jbGllbnRIZWlnaHQKICAgICAgICB9OwoKICAgICAgICB2YXIgbGFiZWxMYXlvdXQgPSBfZC5kZWZhdWx0Lmdlb20ucXVhZHRyZWUoKS5leHRlbnQoW1stc3ZnQkJveC53aWR0aCwgLXN2Z0JCb3guaGVpZ2h0XSwgW3N2Z0JCb3gud2lkdGgsIHN2Z0JCb3guaGVpZ2h0XV0pLngoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLnBvc2l0aW9uLng7CiAgICAgICAgfSkueShmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQucG9zaXRpb24ueTsKICAgICAgICB9KShbXSk7CgogICAgICAgIGxhYmVsR3JvdXBzLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbGFiZWwnKS5hcHBlbmQoJ3RleHQnKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICBpZiAoZC5kZXB0aCA9PT0gMCkgewogICAgICAgICAgICBfZC5kZWZhdWx0LnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnJlbW92ZSgpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzaG93VmFsdWVzKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICgwLCBfbnVtZXJhbC5kZWZhdWx0KShkLnZhbHVlIC8gMTAwKS5mb3JtYXQoJzAuWzAwXSUnKTsKICAgICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChkLm5hbWUsICIgKCIpLmNvbmNhdCh2YWx1ZSwgIikiKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZC5uYW1lOwogICAgICAgIH0pLnRleHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICgwLCBfdHJ1bmNhdGVfbGFiZWxzLnRydW5jYXRlTGFiZWwpKHRoaXMsIHRydW5jYXRlTGFiZWxMZW5ndGgpOwogICAgICAgIH0pLmF0dHIoJ3RleHQtYW5jaG9yJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHZhciBtaWRBbmdsZSA9IHN0YXJ0QW5nbGUoZCkgKyAoZW5kQW5nbGUoZCkgLSBzdGFydEFuZ2xlKGQpKSAvIDI7CiAgICAgICAgICByZXR1cm4gbWlkQW5nbGUgPCBNYXRoLlBJID8gJ3N0YXJ0JyA6ICdlbmQnOwogICAgICAgIH0pLmF0dHIoJ2NsYXNzJywgJ2xhYmVsLXRleHQnKS5lYWNoKGZ1bmN0aW9uIHJlc29sdmVDb25mbGljdHMoZCkgewogICAgICAgICAgaWYgKGQuZGVwdGggPT09IDApIHJldHVybjsKICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5wYXJlbnROb2RlOwoKICAgICAgICAgIGlmIChzaG93T25seU9uTGFzdExldmVsICYmIG1heERlcHRoICE9PSBkLmRlcHRoKSB7CiAgICAgICAgICAgIF9kLmRlZmF1bHQuc2VsZWN0KHBhcmVudE5vZGUpLnJlbW92ZSgpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KCk7CiAgICAgICAgICB2YXIgcG9zID0gb3V0ZXJBcmMuY2VudHJvaWQoZCk7CiAgICAgICAgICB2YXIgbWlkQW5nbGUgPSBzdGFydEFuZ2xlKGQpICsgKGVuZEFuZ2xlKGQpIC0gc3RhcnRBbmdsZShkKSkgLyAyOwogICAgICAgICAgcG9zWzFdICs9IDQ7CiAgICAgICAgICBwb3NbMF0gPSAoMC43ICsgZC5kZXB0aCAvIDEwKSAqIHJhZGl1cyAqIChtaWRBbmdsZSA8IE1hdGguUEkgPyAxIDogLTEpOwogICAgICAgICAgZC5wb3NpdGlvbiA9IHsKICAgICAgICAgICAgeDogcG9zWzBdLAogICAgICAgICAgICB5OiBwb3NbMV0sCiAgICAgICAgICAgIGxlZnQ6IG1pZEFuZ2xlIDwgTWF0aC5QSSA/IHBvc1swXSA6IHBvc1swXSAtIGJib3gud2lkdGgsCiAgICAgICAgICAgIHJpZ2h0OiBtaWRBbmdsZSA+IE1hdGguUEkgPyBwb3NbMF0gKyBiYm94LndpZHRoIDogcG9zWzBdLAogICAgICAgICAgICBib3R0b206IHBvc1sxXSArIDUsCiAgICAgICAgICAgIHRvcDogcG9zWzFdIC0gYmJveC5oZWlnaHQgLSA1CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGNvbmZsaWN0cyA9IFtdOwogICAgICAgICAgbGFiZWxMYXlvdXQudmlzaXQoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgaWYgKCFub2RlLnBvaW50KSByZXR1cm47CiAgICAgICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgdmFyIHBvaW50ID0gbm9kZS5wb2ludC5wb3NpdGlvbjsKICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBkLnBvc2l0aW9uOwoKICAgICAgICAgICAgaWYgKHBvaW50KSB7CiAgICAgICAgICAgICAgdmFyIGhvcml6b250YWxDb25mbGljdCA9IHBvaW50LmxlZnQgPCAwICYmIGN1cnJlbnQubGVmdCA8IDAgfHwgcG9pbnQubGVmdCA+IDAgJiYgY3VycmVudC5sZWZ0ID4gMDsKICAgICAgICAgICAgICB2YXIgdmVydGljYWxDb25mbGljdCA9IHBvaW50LnRvcCA+PSBjdXJyZW50LnRvcCAmJiBwb2ludC50b3AgPD0gY3VycmVudC5ib3R0b20gfHwgcG9pbnQudG9wIDw9IGN1cnJlbnQudG9wICYmIHBvaW50LmJvdHRvbSA+PSBjdXJyZW50LnRvcDsKCiAgICAgICAgICAgICAgaWYgKGhvcml6b250YWxDb25mbGljdCAmJiB2ZXJ0aWNhbENvbmZsaWN0KSB7CiAgICAgICAgICAgICAgICBwb2ludC5wb2ludCA9IG5vZGUucG9pbnQ7CiAgICAgICAgICAgICAgICBjb25mbGljdHMucHVzaChwb2ludCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHsKICAgICAgICAgICAgX2QuZGVmYXVsdC5zZWxlY3QocGFyZW50Tm9kZSkucmVtb3ZlKCk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgbGFiZWxMYXlvdXQuYWRkKGQpOwogICAgICAgIH0pLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgaWYgKGQuZGVwdGggPT09IDAgfHwgIWQucG9zaXRpb24pIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBkLnBvc2l0aW9uLng7CiAgICAgICAgfSkuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICBpZiAoZC5kZXB0aCA9PT0gMCB8fCAhZC5wb3NpdGlvbikgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGQucG9zaXRpb24ueTsKICAgICAgICB9KTsKICAgICAgICBsYWJlbEdyb3Vwcy5hcHBlbmQoJ3BvbHlsaW5lJykuYXR0cigncG9pbnRzJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIGlmIChkLmRlcHRoID09PSAwIHx8ICFkLnBvc2l0aW9uKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcG9zMSA9IG91dGVyQXJjLmNlbnRyb2lkKGQpOwogICAgICAgICAgdmFyIHgyID0gZC5wb3NpdGlvbi54ID4gMCA/IGQucG9zaXRpb24ueCAtIDEwIDogZC5wb3NpdGlvbi54ICsgMTA7CiAgICAgICAgICB2YXIgcG9zMiA9IFt4MiwgZC5wb3NpdGlvbi55IC0gNF07CiAgICAgICAgICBwb3MxWzFdID0gcG9zMlsxXTsKICAgICAgICAgIHJldHVybiBbYXJjLmNlbnRyb2lkKGQpLCBwb3MxLCBwb3MyXTsKICAgICAgICB9KS5hdHRyKCdjbGFzcycsICdsYWJlbC1saW5lJyk7CiAgICAgIH0KCiAgICAgIGlmIChpc1Rvb2x0aXApIHsKICAgICAgICBwYXRoLmNhbGwodG9vbHRpcC5yZW5kZXIoKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXRoOwogICAgfQogIH0sIHsKICAgIGtleTogIl92YWxpZGF0ZUNvbnRhaW5lclNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF92YWxpZGF0ZUNvbnRhaW5lclNpemUod2lkdGgsIGhlaWdodCkgewogICAgICB2YXIgbWluV2lkdGggPSAyMDsKICAgICAgdmFyIG1pbkhlaWdodCA9IDIwOwoKICAgICAgaWYgKHdpZHRoIDw9IG1pbldpZHRoIHx8IGhlaWdodCA8PSBtaW5IZWlnaHQpIHsKICAgICAgICB0aHJvdyBuZXcgX2Vycm9ycy5Db250YWluZXJUb29TbWFsbCgpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJlbmRlcnMgZDMgdmlzdWFsaXphdGlvbgogICAgICoKICAgICAqIEBtZXRob2QgZHJhdwogICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBDcmVhdGVzIHRoZSBwaWUgY2hhcnQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkcmF3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7CiAgICAgICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHZhciBzbGljZXMgPSBkYXRhLnNsaWNlczsKCiAgICAgICAgICB2YXIgZGl2ID0gX2QuZGVmYXVsdC5zZWxlY3QodGhpcyk7CgogICAgICAgICAgdmFyIHdpZHRoID0gKDAsIF9qcXVlcnkuZGVmYXVsdCkodGhpcykud2lkdGgoKTsKICAgICAgICAgIHZhciBoZWlnaHQgPSAoMCwgX2pxdWVyeS5kZWZhdWx0KSh0aGlzKS5oZWlnaHQoKTsKICAgICAgICAgIGlmICghc2xpY2VzLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuOwogICAgICAgICAgc2VsZi5jb252ZXJ0VG9QZXJjZW50YWdlKHNsaWNlcyk7CgogICAgICAgICAgc2VsZi5fdmFsaWRhdGVDb250YWluZXJTaXplKHdpZHRoLCBoZWlnaHQpOwoKICAgICAgICAgIHZhciBzdmcgPSBkaXYuYXBwZW5kKCdzdmcnKS5hdHRyKCd3aWR0aCcsIHdpZHRoKS5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpLmF0dHIoJ2ZvY3VzYWJsZScsICdmYWxzZScpLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHdpZHRoIC8gMiArICcsJyArIGhlaWdodCAvIDIgKyAnKScpOwogICAgICAgICAgdmFyIHBhdGggPSBzZWxmLmFkZFBhdGgod2lkdGgsIGhlaWdodCwgc3ZnLCBzbGljZXMpOwogICAgICAgICAgc2VsZi5hZGRQYXRoRXZlbnRzKHBhdGgpOwogICAgICAgICAgc2VsZi5ldmVudHMuZW1pdCgncmVuZGVyZWQnLCB7CiAgICAgICAgICAgIGNoYXJ0OiBkYXRhCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBzdmc7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGllQ2hhcnQ7Cn0oX2NoYXJ0LkNoYXJ0KTsKCmV4cG9ydHMuUGllQ2hhcnQgPSBQaWVDaGFydDs="},null]}