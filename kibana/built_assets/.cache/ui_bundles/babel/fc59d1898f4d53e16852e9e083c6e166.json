{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/monitoring/public/views/elasticsearch/nodes/index.js","dependencies":[{"path":"x-pack/legacy/plugins/monitoring/public/views/elasticsearch/nodes/index.js","mtime":1589249552628},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9yb3V0ZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInBsdWdpbnMvbW9uaXRvcmluZy9ucF9pbXBvcnRzL3VpL3JvdXRlcyIpKTsKCnZhciBfdGltZWZpbHRlciA9IHJlcXVpcmUoInBsdWdpbnMvbW9uaXRvcmluZy9ucF9pbXBvcnRzL3VpL3RpbWVmaWx0ZXIiKTsKCnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vaW5kZXguaHRtbCIpKTsKCnZhciBfcm91dGVfaW5pdCA9IHJlcXVpcmUoInBsdWdpbnMvbW9uaXRvcmluZy9saWIvcm91dGVfaW5pdCIpOwoKdmFyIF8gPSByZXF1aXJlKCIuLi8uLi8iKTsKCnZhciBfY29tcG9uZW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbXBvbmVudHMiKTsKCnZhciBfaTE4bjIgPSByZXF1aXJlKCJ1aS9pMThuIik7Cgp2YXIgX2FqYXhfZXJyb3JfaGFuZGxlciA9IHJlcXVpcmUoIi4uLy4uLy4uL2xpYi9hamF4X2Vycm9yX2hhbmRsZXIiKTsKCnZhciBfcmVuZGVyZXJzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9yZW5kZXJlcnMiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICJ1bmRlZmluZWQiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfQoKZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKX3JvdXRlcy5kZWZhdWx0LndoZW4oJy9lbGFzdGljc2VhcmNoL25vZGVzJywgewogIHRlbXBsYXRlOiBfaW5kZXguZGVmYXVsdCwKICByZXNvbHZlOiB7CiAgICBjbHVzdGVyczogZnVuY3Rpb24gY2x1c3RlcnMoUHJpdmF0ZSkgewogICAgICB2YXIgcm91dGVJbml0ID0gUHJpdmF0ZShfcm91dGVfaW5pdC5yb3V0ZUluaXRQcm92aWRlcik7CiAgICAgIHJldHVybiByb3V0ZUluaXQoewogICAgICAgIGNvZGVQYXRoczogW19jb25zdGFudHMuQ09ERV9QQVRIX0VMQVNUSUNTRUFSQ0hdCiAgICAgIH0pOwogICAgfQogIH0sCiAgY29udHJvbGxlckFzOiAnZWxhc3RpY3NlYXJjaE5vZGVzJywKICBjb250cm9sbGVyOgogIC8qI19fUFVSRV9fKi8KICBmdW5jdGlvbiAoX01vbml0b3JpbmdWaWV3QmFzZUV1KSB7CiAgICBfaW5oZXJpdHMoRWxhc3RpY3NlYXJjaE5vZGVzQ29udHJvbGxlciwgX01vbml0b3JpbmdWaWV3QmFzZUV1KTsKCiAgICBmdW5jdGlvbiBFbGFzdGljc2VhcmNoTm9kZXNDb250cm9sbGVyKCRpbmplY3RvciwgJHNjb3BlKSB7CiAgICAgIHZhciBfdGhpczsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbGFzdGljc2VhcmNoTm9kZXNDb250cm9sbGVyKTsKCiAgICAgIHZhciAkcm91dGUgPSAkaW5qZWN0b3IuZ2V0KCckcm91dGUnKTsKICAgICAgdmFyIGdsb2JhbFN0YXRlID0gJGluamVjdG9yLmdldCgnZ2xvYmFsU3RhdGUnKTsKICAgICAgdmFyIHNob3dDZ3JvdXBNZXRyaWNzRWxhc3RpY3NlYXJjaCA9ICRpbmplY3Rvci5nZXQoJ3Nob3dDZ3JvdXBNZXRyaWNzRWxhc3RpY3NlYXJjaCcpOwogICAgICAkc2NvcGUuY2x1c3RlciA9ICgwLCBfbG9kYXNoLmZpbmQpKCRyb3V0ZS5jdXJyZW50LmxvY2Fscy5jbHVzdGVycywgewogICAgICAgIGNsdXN0ZXJfdXVpZDogZ2xvYmFsU3RhdGUuY2x1c3Rlcl91dWlkCiAgICAgIH0pIHx8IHt9OwoKICAgICAgdmFyIGdldFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0UGFnZURhdGEoJGluamVjdG9yKSB7CiAgICAgICAgdmFyIF9hcGkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKCiAgICAgICAgdmFyIHJvdXRlT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgICAgX2FwaTsgLy8gdG8gZml4IGVzbGludAoKICAgICAgICB2YXIgJGh0dHAgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cCcpOwogICAgICAgIHZhciBnbG9iYWxTdGF0ZSA9ICRpbmplY3Rvci5nZXQoJ2dsb2JhbFN0YXRlJyk7CgogICAgICAgIHZhciB0aW1lQm91bmRzID0gX3RpbWVmaWx0ZXIudGltZWZpbHRlci5nZXRCb3VuZHMoKTsKCiAgICAgICAgdmFyIGdldE5vZGVzID0gZnVuY3Rpb24gZ2V0Tm9kZXMoKSB7CiAgICAgICAgICB2YXIgY2x1c3RlclV1aWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGdsb2JhbFN0YXRlLmNsdXN0ZXJfdXVpZDsKICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCIuLi9hcGkvbW9uaXRvcmluZy92MS9jbHVzdGVycy8iLmNvbmNhdChjbHVzdGVyVXVpZCwgIi9lbGFzdGljc2VhcmNoL25vZGVzIiksIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICBjY3M6IGdsb2JhbFN0YXRlLmNjcywKICAgICAgICAgICAgdGltZVJhbmdlOiB7CiAgICAgICAgICAgICAgbWluOiB0aW1lQm91bmRzLm1pbi50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgIG1heDogdGltZUJvdW5kcy5tYXgudG9JU09TdHJpbmcoKQogICAgICAgICAgICB9CiAgICAgICAgICB9LCByb3V0ZU9wdGlvbnMpKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgcHJvbWlzZSA9IGdsb2JhbFN0YXRlLmNsdXN0ZXJfdXVpZCA/IGdldE5vZGVzKCkgOiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgcmV0dXJuIHJlc29sdmUoe30pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICB2YXIgUHJpdmF0ZSA9ICRpbmplY3Rvci5nZXQoJ1ByaXZhdGUnKTsKICAgICAgICAgIHZhciBhamF4RXJyb3JIYW5kbGVycyA9IFByaXZhdGUoX2FqYXhfZXJyb3JfaGFuZGxlci5hamF4RXJyb3JIYW5kbGVyc1Byb3ZpZGVyKTsKICAgICAgICAgIHJldHVybiBhamF4RXJyb3JIYW5kbGVycyhlcnIpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRWxhc3RpY3NlYXJjaE5vZGVzQ29udHJvbGxlcikuY2FsbCh0aGlzLCB7CiAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tb25pdG9yaW5nLmVsYXN0aWNzZWFyY2gubm9kZXMucm91dGVUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRWxhc3RpY3NlYXJjaCAtIE5vZGVzJwogICAgICAgIH0pLAogICAgICAgIHN0b3JhZ2VLZXk6ICdlbGFzdGljc2VhcmNoLm5vZGVzJywKICAgICAgICByZWFjdE5vZGVJZDogJ2VsYXN0aWNzZWFyY2hOb2Rlc1JlYWN0JywKICAgICAgICBkZWZhdWx0RGF0YToge30sCiAgICAgICAgZ2V0UGFnZURhdGE6IGdldFBhZ2VEYXRhLAogICAgICAgICRzY29wZTogJHNjb3BlLAogICAgICAgICRpbmplY3RvcjogJGluamVjdG9yLAogICAgICAgIGZldGNoRGF0YUltbWVkaWF0ZWx5OiBmYWxzZSAvLyBXZSB3YW50IHRvIGFwcGx5IHBhZ2luYXRpb24gYmVmb3JlIHNlbmRpbmcgdGhlIGZpcnN0IHJlcXVlc3QKCiAgICAgIH0pKTsKICAgICAgX3RoaXMuaXNDY3JFbmFibGVkID0gJHNjb3BlLmNsdXN0ZXIuaXNDY3JFbmFibGVkOwogICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZGF0YTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5yZW5kZXJSZWFjdChfdGhpcy5kYXRhIHx8IHt9KTsKICAgICAgfSk7CgogICAgICBfdGhpcy5yZW5kZXJSZWFjdCA9IGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGNsdXN0ZXJTdGF0dXMgPSBfcmVmLmNsdXN0ZXJTdGF0dXMsCiAgICAgICAgICAgIG5vZGVzID0gX3JlZi5ub2RlcywKICAgICAgICAgICAgdG90YWxOb2RlQ291bnQgPSBfcmVmLnRvdGFsTm9kZUNvdW50OwoKICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnBhZ2luYXRpb24sIHsKICAgICAgICAgIHRvdGFsSXRlbUNvdW50OiB0b3RhbE5vZGVDb3VudAogICAgICAgIH0pOwoKICAgICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihFbGFzdGljc2VhcmNoTm9kZXNDb250cm9sbGVyLnByb3RvdHlwZSksICJyZW5kZXJSZWFjdCIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKS5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pMThuMi5JMThuQ29udGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVuZGVyZXJzLlNldHVwTW9kZVJlbmRlcmVyLCB7CiAgICAgICAgICBzY29wZTogJHNjb3BlLAogICAgICAgICAgaW5qZWN0b3I6ICRpbmplY3RvciwKICAgICAgICAgIHByb2R1Y3ROYW1lOiBfY29uc3RhbnRzLkVMQVNUSUNTRUFSQ0hfU1lTVEVNX0lELAogICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIHNldHVwTW9kZSA9IF9yZWYyLnNldHVwTW9kZSwKICAgICAgICAgICAgICAgIGZseW91dENvbXBvbmVudCA9IF9yZWYyLmZseW91dENvbXBvbmVudCwKICAgICAgICAgICAgICAgIGJvdHRvbUJhckNvbXBvbmVudCA9IF9yZWYyLmJvdHRvbUJhckNvbXBvbmVudDsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBmbHlvdXRDb21wb25lbnQsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuRWxhc3RpY3NlYXJjaE5vZGVzLCBfZXh0ZW5kcyh7CiAgICAgICAgICAgICAgY2x1c3RlclN0YXR1czogY2x1c3RlclN0YXR1cywKICAgICAgICAgICAgICBjbHVzdGVyVXVpZDogZ2xvYmFsU3RhdGUuY2x1c3Rlcl91dWlkLAogICAgICAgICAgICAgIHNldHVwTW9kZTogc2V0dXBNb2RlLAogICAgICAgICAgICAgIG5vZGVzOiBub2RlcywKICAgICAgICAgICAgICBzaG93Q2dyb3VwTWV0cmljc0VsYXN0aWNzZWFyY2g6IHNob3dDZ3JvdXBNZXRyaWNzRWxhc3RpY3NlYXJjaAogICAgICAgICAgICB9LCBfdGhpcy5nZXRQYWdpbmF0aW9uVGFibGVQcm9wcyhwYWdpbmF0aW9uKSkpLCBib3R0b21CYXJDb21wb25lbnQpOwogICAgICAgICAgfQogICAgICAgIH0pKSk7CiAgICAgIH07CgogICAgICByZXR1cm4gX3RoaXM7CiAgICB9CgogICAgcmV0dXJuIEVsYXN0aWNzZWFyY2hOb2Rlc0NvbnRyb2xsZXI7CiAgfShfLk1vbml0b3JpbmdWaWV3QmFzZUV1aVRhYmxlQ29udHJvbGxlcikKfSk7"},null]}