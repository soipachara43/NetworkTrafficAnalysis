{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/apm/public/components/app/Settings/AgentConfigurations/AgentConfigurationCreateEdit/SettingsPage/SettingsPage.js","dependencies":[{"path":"x-pack/legacy/plugins/apm/public/components/app/Settings/AgentConfigurations/AgentConfigurationCreateEdit/SettingsPage/SettingsPage.js","mtime":1589249551599},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNldHRpbmdzUGFnZSA9IFNldHRpbmdzUGFnZTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfdXNlRmV0Y2hlciA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL2hvb2tzL3VzZUZldGNoZXIiKTsKCnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL3V0aWxzL2hpc3RvcnkiKTsKCnZhciBfc2V0dGluZ19kZWZpbml0aW9ucyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BsdWdpbnMvYXBtL2NvbW1vbi9hZ2VudF9jb25maWd1cmF0aW9uL3NldHRpbmdfZGVmaW5pdGlvbnMiKTsKCnZhciBfc2F2ZUNvbmZpZyA9IHJlcXVpcmUoIi4vc2F2ZUNvbmZpZyIpOwoKdmFyIF91c2VBcG1QbHVnaW5Db250ZXh0ID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vaG9va3MvdXNlQXBtUGx1Z2luQ29udGV4dCIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wbHVnaW5zL29ic2VydmFiaWxpdHkvcHVibGljIik7Cgp2YXIgX1NldHRpbmdGb3JtUm93ID0gcmVxdWlyZSgiLi9TZXR0aW5nRm9ybVJvdyIpOwoKdmFyIF9hbGxfb3B0aW9uID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9hcG0vY29tbW9uL2FnZW50X2NvbmZpZ3VyYXRpb24vYWxsX29wdGlvbiIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gcmVtb3ZlRW1wdHkob2JqKSB7CiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcihmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgayA9IF9yZWYyWzBdLAogICAgICAgIHYgPSBfcmVmMlsxXTsKCiAgICByZXR1cm4gdiAhPSBudWxsICYmIHYgIT09ICcnOwogIH0pKTsKfQoKZnVuY3Rpb24gU2V0dGluZ3NQYWdlKF9yZWYzKSB7CiAgdmFyIHN0YXR1cyA9IF9yZWYzLnN0YXR1cywKICAgICAgdW5zYXZlZENoYW5nZXMgPSBfcmVmMy51bnNhdmVkQ2hhbmdlcywKICAgICAgbmV3Q29uZmlnID0gX3JlZjMubmV3Q29uZmlnLAogICAgICBzZXROZXdDb25maWcgPSBfcmVmMy5zZXROZXdDb25maWcsCiAgICAgIHJlc2V0U2V0dGluZ3MgPSBfcmVmMy5yZXNldFNldHRpbmdzLAogICAgICBpc0VkaXRNb2RlID0gX3JlZjMuaXNFZGl0TW9kZSwKICAgICAgb25DbGlja0VkaXQgPSBfcmVmMy5vbkNsaWNrRWRpdDsgLy8gZ2V0IGEgdGVsZW1ldHJ5IFVJIGV2ZW50IHRyYWNrZXIKCiAgdmFyIHRyYWNrQXBtRXZlbnQgPSAoMCwgX3B1YmxpYy51c2VVaVRyYWNrZXIpKHsKICAgIGFwcDogJ2FwbScKICB9KTsKICB2YXIgdG9hc3RzID0gKDAsIF91c2VBcG1QbHVnaW5Db250ZXh0LnVzZUFwbVBsdWdpbkNvbnRleHQpKCkuY29yZS5ub3RpZmljYXRpb25zLnRvYXN0czsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGlzU2F2aW5nID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SXNTYXZpbmcgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgdW5zYXZlZENoYW5nZXNDb3VudCA9IE9iamVjdC5rZXlzKHVuc2F2ZWRDaGFuZ2VzKS5sZW5ndGg7CiAgdmFyIGlzTG9hZGluZyA9IHN0YXR1cyA9PT0gX3VzZUZldGNoZXIuRkVUQ0hfU1RBVFVTLkxPQURJTkc7CiAgdmFyIGlzRm9ybVZhbGlkID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3NldHRpbmdfZGVmaW5pdGlvbnMuc2V0dGluZ0RlZmluaXRpb25zIC8vIG9ubHkgdmFsaWRhdGUgc2V0dGluZ3MgdGhhdCBhcmUgbm90IGVtcHR5CiAgICAuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICB2YXIga2V5ID0gX3JlZjQua2V5OwogICAgICB2YXIgdmFsdWUgPSBuZXdDb25maWcuc2V0dGluZ3Nba2V5XTsKICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09ICcnOwogICAgfSkgLy8gZXZlcnkgc2V0dGluZyBtdXN0IGJlIHZhbGlkIGZvciB0aGUgZm9ybSB0byBiZSB2YWxpZAogICAgLmV2ZXJ5KGZ1bmN0aW9uIChkZWYpIHsKICAgICAgdmFyIHZhbHVlID0gbmV3Q29uZmlnLnNldHRpbmdzW2RlZi5rZXldOwogICAgICByZXR1cm4gKDAsIF9zZXR0aW5nX2RlZmluaXRpb25zLmlzVmFsaWQpKGRlZiwgdmFsdWUpOwogICAgfSk7CiAgfSwgW25ld0NvbmZpZy5zZXR0aW5nc10pOwoKICB2YXIgaGFuZGxlU3VibWl0RXZlbnQgPQogIC8qI19fUFVSRV9fKi8KICBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb25maWc7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0cmFja0FwbUV2ZW50KHsKICAgICAgICAgICAgICAgIG1ldHJpYzogJ3NhdmVfYWdlbnRfY29uZmlndXJhdGlvbicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBuZXdDb25maWcsIHsKICAgICAgICAgICAgICAgIHNldHRpbmdzOiByZW1vdmVFbXB0eShuZXdDb25maWcuc2V0dGluZ3MpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgc2V0SXNTYXZpbmcodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfc2F2ZUNvbmZpZy5zYXZlQ29uZmlnKSh7CiAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZywKICAgICAgICAgICAgICAgIGlzRWRpdE1vZGU6IGlzRWRpdE1vZGUsCiAgICAgICAgICAgICAgICB0b2FzdHM6IHRvYXN0cwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHNldElzU2F2aW5nKGZhbHNlKTsgLy8gZ28gYmFjayB0byBvdmVydmlldwoKICAgICAgICAgICAgICBfaGlzdG9yeS5oaXN0b3J5LnB1c2goewogICAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvc2V0dGluZ3MvYWdlbnQtY29uZmlndXJhdGlvbicsCiAgICAgICAgICAgICAgICBzZWFyY2g6IF9oaXN0b3J5Lmhpc3RvcnkubG9jYXRpb24uc2VhcmNoCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVTdWJtaXRFdmVudCgpIHsKICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgaWYgKHN0YXR1cyA9PT0gX3VzZUZldGNoZXIuRkVUQ0hfU1RBVFVTLkZBSUxVUkUpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5hZ2VudENvbmZpZy5zZXR0aW5nc1BhZ2Uubm90Rm91bmQudGl0bGUnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTb3JyeSwgdGhlcmUgd2FzIGFuIGVycm9yJwogICAgICB9KSwKICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICBpY29uVHlwZTogImFsZXJ0IgogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uYWdlbnRDb25maWcuc2V0dGluZ3NQYWdlLm5vdEZvdW5kLm1lc3NhZ2UnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIHJlcXVlc3RlZCBjb25maWd1cmF0aW9uIGRvZXMgbm90IGV4aXN0JwogICAgfSkpKTsKICB9CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZm9ybSIsIHsKICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkgewogICAgICB2YXIgZGlkQ2xpY2tFbnRlciA9IGUud2hpY2ggPT09IDEzOwoKICAgICAgaWYgKGRpZENsaWNrRW50ZXIgJiYgaXNGb3JtVmFsaWQpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaGFuZGxlU3VibWl0RXZlbnQoKTsKICAgICAgfQogICAgfQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYW5lbCwgewogICAgcGFkZGluZ1NpemU6ICJtIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgc2l6ZTogInMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmFnZW50Q29uZmlnLmNob29zZVNlcnZpY2UudGl0bGUnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0Nob29zZSBzZXJ2aWNlJwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTdGF0LCB7CiAgICB0aXRsZVNpemU6ICJ4cyIsCiAgICB0aXRsZTogaXNMb2FkaW5nID8gJy0nIDogKDAsIF9hbGxfb3B0aW9uLmdldE9wdGlvbkxhYmVsKShuZXdDb25maWcuc2VydmljZS5uYW1lKSwKICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmFnZW50Q29uZmlnLmNob29zZVNlcnZpY2Uuc2VydmljZS5uYW1lLmxhYmVsJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1NlcnZpY2UgbmFtZScKICAgIH0pCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTdGF0LCB7CiAgICB0aXRsZVNpemU6ICJ4cyIsCiAgICB0aXRsZTogaXNMb2FkaW5nID8gJy0nIDogKDAsIF9hbGxfb3B0aW9uLmdldE9wdGlvbkxhYmVsKShuZXdDb25maWcuc2VydmljZS5lbnZpcm9ubWVudCksCiAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5hZ2VudENvbmZpZy5jaG9vc2VTZXJ2aWNlLnNlcnZpY2UuZW52aXJvbm1lbnQubGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRW52aXJvbm1lbnQnCiAgICB9KQogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sICFpc0VkaXRNb2RlICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgIG9uQ2xpY2s6IG9uQ2xpY2tFZGl0LAogICAgaWNvblR5cGU6ICJwZW5jaWwiCiAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS5hZ2VudENvbmZpZy5jaG9vc2VTZXJ2aWNlLmVkaXRCdXR0b24nLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0VkaXQnCiAgfSkpKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibSIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBhbmVsLCB7CiAgICBwYWRkaW5nU2l6ZTogIm0iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRpdGxlLCB7CiAgICBzaXplOiAicyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoMyIsIG51bGwsIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5hcG0uYWdlbnRDb25maWcuc2V0dGluZ3MudGl0bGUnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0NvbmZpZ3VyYXRpb24gb3B0aW9ucycKICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibSIKICB9KSwgaXNMb2FkaW5nID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgc3R5bGU6IHsKICAgICAgdGV4dEFsaWduOiAnY2VudGVyJwogICAgfQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMb2FkaW5nU3Bpbm5lciwgewogICAgc2l6ZTogIm0iCiAgfSkpIDogcmVuZGVyU2V0dGluZ3MoewogICAgdW5zYXZlZENoYW5nZXM6IHVuc2F2ZWRDaGFuZ2VzLAogICAgbmV3Q29uZmlnOiBuZXdDb25maWcsCiAgICBzZXROZXdDb25maWc6IHNldE5ld0NvbmZpZwogIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAieHhsIgogIH0pLCB1bnNhdmVkQ2hhbmdlc0NvdW50ID4gMCAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQm90dG9tQmFyLCB7CiAgICBwYWRkaW5nU2l6ZTogInMiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAganVzdGlmeUNvbnRlbnQ6ICJzcGFjZUJldHdlZW4iLAogICAgYWxpZ25JdGVtczogImNlbnRlciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlLAogICAgc3R5bGU6IHsKICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsCiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInCiAgICB9CiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUhlYWx0aCwgewogICAgY29sb3I6ICJ3YXJuaW5nIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmFwbS51bnNhdmVkQ2hhbmdlcycsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAne3Vuc2F2ZWRDaGFuZ2VzQ291bnQsIHBsdXJhbCwgPTB7MCB1bnNhdmVkIGNoYW5nZXN9IG9uZSB7MSB1bnNhdmVkIGNoYW5nZX0gb3RoZXIgeyMgdW5zYXZlZCBjaGFuZ2VzfX0gJywKICAgIHZhbHVlczogewogICAgICB1bnNhdmVkQ2hhbmdlc0NvdW50OiB1bnNhdmVkQ2hhbmdlc0NvdW50CiAgICB9CiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgIGp1c3RpZnlDb250ZW50OiAiZmxleEVuZCIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBjb2xvcjogImdob3N0IiwKICAgIG9uQ2xpY2s6IHJlc2V0U2V0dGluZ3MKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmFnZW50Q29uZmlnLnNldHRpbmdzUGFnZS5kaXNjYXJkQ2hhbmdlc0J1dHRvbicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnRGlzY2FyZCBjaGFuZ2VzJwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICBvbkNsaWNrOiBoYW5kbGVTdWJtaXRFdmVudCwKICAgIGZpbGw6IHRydWUsCiAgICBpc0xvYWRpbmc6IGlzU2F2aW5nLAogICAgaXNEaXNhYmxlZDogIWlzRm9ybVZhbGlkLAogICAgY29sb3I6ICJzZWNvbmRhcnkiLAogICAgaWNvblR5cGU6ICJjaGVjayIKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suYXBtLmFnZW50Q29uZmlnLnNldHRpbmdzUGFnZS5zYXZlQnV0dG9uJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIGNvbmZpZ3VyYXRpb24nCiAgfSkpKSkpKSkpOwp9CgpmdW5jdGlvbiByZW5kZXJTZXR0aW5ncyhfcmVmNikgewogIHZhciBuZXdDb25maWcgPSBfcmVmNi5uZXdDb25maWcsCiAgICAgIHVuc2F2ZWRDaGFuZ2VzID0gX3JlZjYudW5zYXZlZENoYW5nZXMsCiAgICAgIHNldE5ld0NvbmZpZyA9IF9yZWY2LnNldE5ld0NvbmZpZzsKICByZXR1cm4gX3NldHRpbmdfZGVmaW5pdGlvbnMuc2V0dGluZ0RlZmluaXRpb25zIC8vIGZpbHRlciBvdXQgYWdlbnQgc3BlY2lmaWMgaXRlbXMgdGhhdCBhcmUgbm90IGFwcGxpY2FibGUKICAvLyB0byB0aGUgc2VsZWN0ZWQgc2VydmljZQogIC5maWx0ZXIoKDAsIF9zZXR0aW5nX2RlZmluaXRpb25zLmZpbHRlckJ5QWdlbnQpKG5ld0NvbmZpZy5hZ2VudF9uYW1lKSkubWFwKGZ1bmN0aW9uIChzZXR0aW5nKSB7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2V0dGluZ0Zvcm1Sb3cuU2V0dGluZ0Zvcm1Sb3csIHsKICAgICAgaXNVbnNhdmVkOiB1bnNhdmVkQ2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShzZXR0aW5nLmtleSksCiAgICAgIGtleTogc2V0dGluZy5rZXksCiAgICAgIHNldHRpbmc6IHNldHRpbmcsCiAgICAgIHZhbHVlOiBuZXdDb25maWcuc2V0dGluZ3Nbc2V0dGluZy5rZXldLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIHNldE5ld0NvbmZpZyhmdW5jdGlvbiAocHJldikgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHByZXYsIHsKICAgICAgICAgICAgc2V0dGluZ3M6IF9vYmplY3RTcHJlYWQoe30sIHByZXYuc2V0dGluZ3MsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSkpCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn0="},null]}