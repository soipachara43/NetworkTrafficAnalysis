{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/monitoring/public/components/chart/chart_target.js","dependencies":[{"path":"x-pack/legacy/plugins/monitoring/public/components/chart/chart_target.js","mtime":1589249552516},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNoYXJ0VGFyZ2V0ID0gdm9pZCAwOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9qcXVlcnlfZmxvdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicGx1Z2lucy94cGFja19tYWluL2pxdWVyeV9mbG90IikpOwoKdmFyIF9ldmVudF9idXMgPSByZXF1aXJlKCIuL2V2ZW50X2J1cyIpOwoKdmFyIF9nZXRfY2hhcnRfb3B0aW9ucyA9IHJlcXVpcmUoIi4vZ2V0X2NoYXJ0X29wdGlvbnMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKdmFyIENoYXJ0VGFyZ2V0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkgewogIF9pbmhlcml0cyhDaGFydFRhcmdldCwgX1JlYWN0JENvbXBvbmVudCk7CgogIGZ1bmN0aW9uIENoYXJ0VGFyZ2V0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0VGFyZ2V0KTsKCiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENoYXJ0VGFyZ2V0KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICB9CgogIF9jcmVhdGVDbGFzcyhDaGFydFRhcmdldCwgW3sKICAgIGtleTogInNob3VsZENvbXBvbmVudFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkgewogICAgICByZXR1cm4gIXRoaXMucGxvdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaHV0ZG93bkNoYXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaHV0ZG93bkNoYXJ0KCkgewogICAgICBpZiAoIXRoaXMucGxvdCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRhcmdldCA9IHRoaXMucmVmcy50YXJnZXQ7CiAgICAgICgwLCBfanF1ZXJ5X2Zsb3QuZGVmYXVsdCkodGFyZ2V0KS5vZmYoJ3Bsb3Rob3ZlcicpOwogICAgICAoMCwgX2pxdWVyeV9mbG90LmRlZmF1bHQpKHRhcmdldCkub2ZmKCdtb3VzZWxlYXZlJyk7CiAgICAgICgwLCBfanF1ZXJ5X2Zsb3QuZGVmYXVsdCkodGFyZ2V0KS5vZmYoJ3Bsb3RzZWxlY3RlZCcpOwogICAgICAoMCwgX2pxdWVyeV9mbG90LmRlZmF1bHQpKHRhcmdldCkub2ZmKCdwbG90c2VsZWN0aW5nJyk7CiAgICAgIHRoaXMucGxvdC5zaHV0ZG93bigpOwoKICAgICAgX2V2ZW50X2J1cy5ldmVudEJ1cy5vZmYoJ3Rob3JQbG90SG92ZXInKTsKCiAgICAgIF9ldmVudF9idXMuZXZlbnRCdXMub2ZmKCd0aG9yUGxvdExlYXZlJyk7CgogICAgICBfZXZlbnRfYnVzLmV2ZW50QnVzLm9mZigndGhvclBsb3RTZWxlY3RpbmcnKTsKCiAgICAgIF9ldmVudF9idXMuZXZlbnRCdXMub2ZmKCd0aG9yUGxvdEJydXNoJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB0aGlzLnNodXRkb3duQ2hhcnQoKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVJlc2l6ZSk7CiAgICAgIHRoaXMuY29tcG9uZW50VW5tb3VudGVkID0gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJCeVNob3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckJ5U2hvdyhzZXJpZXNUb1Nob3cpIHsKICAgICAgaWYgKHNlcmllc1RvU2hvdykgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAobWV0cmljKSB7CiAgICAgICAgICByZXR1cm4gc2VyaWVzVG9TaG93LnNvbWUoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIHJldHVybiBpZC50b0xvd2VyQ2FzZSgpID09PSBtZXRyaWMuaWQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7CiAgICAgIGlmICh0aGlzLnBsb3QgJiYgIV9sb2Rhc2guZGVmYXVsdC5pc0VxdWFsKG5ld1Byb3BzLCB0aGlzLnByb3BzKSkgewogICAgICAgIHZhciBzZXJpZXMgPSBuZXdQcm9wcy5zZXJpZXMsCiAgICAgICAgICAgIHRpbWVSYW5nZSA9IG5ld1Byb3BzLnRpbWVSYW5nZTsKICAgICAgICB2YXIgeGF4aXNPcHRpb25zID0gdGhpcy5wbG90LmdldEF4ZXMoKS54YXhpcy5vcHRpb25zOwogICAgICAgIHhheGlzT3B0aW9ucy5taW4gPSBfbG9kYXNoLmRlZmF1bHQuZ2V0KHRpbWVSYW5nZSwgJ21pbicpOwogICAgICAgIHhheGlzT3B0aW9ucy5tYXggPSBfbG9kYXNoLmRlZmF1bHQuZ2V0KHRpbWVSYW5nZSwgJ21heCcpOwogICAgICAgIHRoaXMucGxvdC5zZXREYXRhKHRoaXMuZmlsdGVyRGF0YShzZXJpZXMsIG5ld1Byb3BzLnNlcmllc1RvU2hvdykpOwogICAgICAgIHRoaXMucGxvdC5zZXR1cEdyaWQoKTsKICAgICAgICB0aGlzLnBsb3QuZHJhdygpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB0aGlzLnJlbmRlckNoYXJ0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7CiAgICAgIHRoaXMuc2h1dGRvd25DaGFydCgpOwogICAgICB0aGlzLnJlbmRlckNoYXJ0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsdGVyRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyRGF0YShkYXRhLCBzZXJpZXNUb1Nob3cpIHsKICAgICAgcmV0dXJuICgwLCBfbG9kYXNoLmRlZmF1bHQpKGRhdGEpLmZpbHRlcih0aGlzLmZpbHRlckJ5U2hvdyhzZXJpZXNUb1Nob3cpKS52YWx1ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE9wdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRPcHRpb25zID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgb3B0czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2dldF9jaGFydF9vcHRpb25zLmdldENoYXJ0T3B0aW9ucykoewogICAgICAgICAgICAgICAgICB5YXhpczogewogICAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXR0ZXI6IHRoaXMucHJvcHMudGlja0Zvcm1hdHRlcgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB4YXhpczogdGhpcy5wcm9wcy50aW1lUmFuZ2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBvcHRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9vYmplY3RTcHJlYWQoe30sIG9wdHMsIHt9LCB0aGlzLnByb3BzLm9wdGlvbnMpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRPcHRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRPcHRpb25zOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVuZGVyQ2hhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZW5kZXJDaGFydCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciB0YXJnZXQsIHNlcmllcywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcy5yZWZzLnRhcmdldDsKICAgICAgICAgICAgICAgIHNlcmllcyA9IHRoaXMucHJvcHMuc2VyaWVzOwogICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuZmlsdGVyRGF0YShzZXJpZXMsIHRoaXMucHJvcHMuc2VyaWVzVG9TaG93KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9qcXVlcnlfZmxvdC5kZWZhdWx0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gdGFyZ2V0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQyID0gZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbnMoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnBsb3QgPSBfY29udGV4dDIudDAucGxvdC5jYWxsKF9jb250ZXh0Mi50MCwgX2NvbnRleHQyLnQxLCBfY29udGV4dDIudDIsIF9jb250ZXh0Mi50Myk7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5jb21wb25lbnRVbm1vdW50ZWQgfHwgIXRoaXMucGxvdCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnBsb3QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5yZXNpemUoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5zZXR1cEdyaWQoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5kcmF3KCk7CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5CgogICAgICAgICAgICAgICAgICAgIC8qIEl0IGlzIG9rIHRvIHNpbGVudGx5IHN3YWxsb3cgdGhlIGVycm9yIGhlcmUuIFJlc2l6ZSBldmVudHMgZmlyZQogICAgICAgICAgICAgICAgICAgICAqIGNvbnRpbnVvdXNseSBzbyB0aGUgcHJvcGVyIHJlc2l6ZSB3aWxsIGhhcHBlbiBpbiBhIGxhdGVyIGZpcmluZyBvZgogICAgICAgICAgICAgICAgICAgICAqIHRoZSBldmVudCAqLwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVSZXNpemUsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF9ldmVudF9idXMuZXZlbnRCdXMudHJpZ2dlcigndGhvclBsb3RMZWF2ZScsIFtdKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQbG90SG92ZXIgPSBmdW5jdGlvbiAoX2V2ZW50LCBwb3MsIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgX2V2ZW50X2J1cy5ldmVudEJ1cy50cmlnZ2VyKCd0aG9yUGxvdEhvdmVyJywgW3BvcywgaXRlbSwgX3RoaXMucGxvdF0pOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVRob3JQbG90SG92ZXIgPSBmdW5jdGlvbiAoX2V2ZW50LCBwb3MsIGl0ZW0sIG9yaWdpbmFsUGxvdCkgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGxvdCAhPT0gb3JpZ2luYWxQbG90KSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGNyb3NzaGFpciBpcyBzZXQgZm9yIHRoZSBvcmlnaW5hbCBjaGFydCBhbHJlYWR5CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5zZXRDcm9zc2hhaXIoewogICAgICAgICAgICAgICAgICAgICAgeDogX2xvZGFzaC5kZWZhdWx0LmdldChwb3MsICd4JykKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudXBkYXRlTGVnZW5kKHBvcywgaXRlbSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVGhvclBsb3RMZWF2ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5jbGVhckNyb3NzaGFpcigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudXBkYXRlTGVnZW5kKCk7IC8vIGdldHMgbGFzdCB2YWx1ZXMKCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVGhvclBsb3RTZWxlY3RpbmcgPSBmdW5jdGlvbiAoX2V2ZW50LCB4YXhpcywgb3JpZ2luYWxQbG90KSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wbG90ICE9PSBvcmlnaW5hbFBsb3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmVudEV2ZW50ID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxvdC5zZXRTZWxlY3Rpb24oewogICAgICAgICAgICAgICAgICAgICAgeGF4aXM6IHhheGlzCiAgICAgICAgICAgICAgICAgICAgfSwgcHJldmVudEV2ZW50KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVRob3JQbG90QnJ1c2ggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBsb3QuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RpbmdDaGFydCA9IGZ1bmN0aW9uIChfZXZlbnQsIHJhbmdlcykgewogICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHhheGlzID0gcmFuZ2VzLnhheGlzOwoKICAgICAgICAgICAgICAgICAgICBfZXZlbnRfYnVzLmV2ZW50QnVzLnRyaWdnZXIoJ3Rob3JQbG90U2VsZWN0aW5nJywgW3hheGlzLCBfdGhpcy5wbG90XSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5icnVzaENoYXJ0ID0gZnVuY3Rpb24gKF9ldmVudCwgcmFuZ2VzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQnJ1c2gocmFuZ2VzKTsKCiAgICAgICAgICAgICAgICAgIF9ldmVudF9idXMuZXZlbnRCdXMudHJpZ2dlcigndGhvclBsb3RCcnVzaCcpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAoMCwgX2pxdWVyeV9mbG90LmRlZmF1bHQpKHRhcmdldCkub24oJ3Bsb3Rob3ZlcicsIHRoaXMuaGFuZGxlUGxvdEhvdmVyKTsKICAgICAgICAgICAgICAgICgwLCBfanF1ZXJ5X2Zsb3QuZGVmYXVsdCkodGFyZ2V0KS5vbignbW91c2VsZWF2ZScsIHRoaXMuaGFuZGxlTW91c2VMZWF2ZSk7CiAgICAgICAgICAgICAgICAoMCwgX2pxdWVyeV9mbG90LmRlZmF1bHQpKHRhcmdldCkub24oJ3Bsb3RzZWxlY3RlZCcsIHRoaXMuYnJ1c2hDaGFydCk7CiAgICAgICAgICAgICAgICAoMCwgX2pxdWVyeV9mbG90LmRlZmF1bHQpKHRhcmdldCkub24oJ3Bsb3RzZWxlY3RpbmcnLCB0aGlzLnNlbGVjdGluZ0NoYXJ0KTsKCiAgICAgICAgICAgICAgICBfZXZlbnRfYnVzLmV2ZW50QnVzLm9uKCd0aG9yUGxvdEhvdmVyJywgdGhpcy5oYW5kbGVUaG9yUGxvdEhvdmVyKTsKCiAgICAgICAgICAgICAgICBfZXZlbnRfYnVzLmV2ZW50QnVzLm9uKCd0aG9yUGxvdExlYXZlJywgdGhpcy5oYW5kbGVUaG9yUGxvdExlYXZlKTsKCiAgICAgICAgICAgICAgICBfZXZlbnRfYnVzLmV2ZW50QnVzLm9uKCd0aG9yUGxvdFNlbGVjdGluZycsIHRoaXMuaGFuZGxlVGhvclBsb3RTZWxlY3RpbmcpOwoKICAgICAgICAgICAgICAgIF9ldmVudF9idXMuZXZlbnRCdXMub24oJ3Rob3JQbG90QnJ1c2gnLCB0aGlzLmhhbmRsZVRob3JQbG90QnJ1c2gpOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVuZGVyQ2hhcnQoKSB7CiAgICAgICAgcmV0dXJuIF9yZW5kZXJDaGFydC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVuZGVyQ2hhcnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIHN0eWxlID0gewogICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLAogICAgICAgIGRpc3BsYXk6ICdmbGV4JywKICAgICAgICByb3dEaXJlY3Rpb246ICdjb2x1bW4nLAogICAgICAgIGZsZXg6ICcxIDAgYXV0bycKICAgICAgfTsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICByZWY6ICJ0YXJnZXQiLAogICAgICAgIHN0eWxlOiBzdHlsZQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDaGFydFRhcmdldDsKfShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpOwoKZXhwb3J0cy5DaGFydFRhcmdldCA9IENoYXJ0VGFyZ2V0Ow=="},null]}