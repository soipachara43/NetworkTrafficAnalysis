{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/dashboard/plugin.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/dashboard/plugin.js","mtime":1589249549650},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkRhc2hib2FyZFBsdWdpbiA9IHZvaWQgMDsKCnZhciBfcnhqcyA9IHJlcXVpcmUoInJ4anMiKTsKCnZhciBfb3BlcmF0b3JzID0gcmVxdWlyZSgicnhqcy9vcGVyYXRvcnMiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2RhdGEvcHVibGljIik7Cgp2YXIgX3B1YmxpYzIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2tpYmFuYV91dGlscy9wdWJsaWMiKTsKCnZhciBfZGFzaGJvYXJkX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4vbnBfcmVhZHkvZGFzaGJvYXJkX2NvbnN0YW50cyIpOwoKdmFyIF9wdWJsaWMzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9ob21lL3B1YmxpYyIpOwoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBEYXNoYm9hcmRQbHVnaW4gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBEYXNoYm9hcmRQbHVnaW4oaW5pdGlhbGl6ZXJDb250ZXh0KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGFzaGJvYXJkUGx1Z2luKTsKCiAgICB0aGlzLmluaXRpYWxpemVyQ29udGV4dCA9IGluaXRpYWxpemVyQ29udGV4dDsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInN0YXJ0RGVwZW5kZW5jaWVzIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhcHBTdGF0ZVVwZGF0ZXIiLCBuZXcgX3J4anMuQmVoYXZpb3JTdWJqZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RvcFVybFRyYWNraW5nIiwgdW5kZWZpbmVkKTsKICB9CgogIF9jcmVhdGVDbGFzcyhEYXNoYm9hcmRQbHVnaW4sIFt7CiAgICBrZXk6ICJzZXR1cCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXAoY29yZSwgX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGhvbWUgPSBfcmVmLmhvbWUsCiAgICAgICAgICBraWJhbmFMZWdhY3kgPSBfcmVmLmtpYmFuYUxlZ2FjeSwKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICB2YXIgX2NyZWF0ZUtiblVybFRyYWNrZXIgPSAoMCwgX3B1YmxpYzIuY3JlYXRlS2JuVXJsVHJhY2tlcikoewogICAgICAgIGJhc2VVcmw6IGNvcmUuaHR0cC5iYXNlUGF0aC5wcmVwZW5kKCcvYXBwL2tpYmFuYScpLAogICAgICAgIGRlZmF1bHRTdWJVcmw6ICIjIi5jb25jYXQoX2Rhc2hib2FyZF9jb25zdGFudHMuRGFzaGJvYXJkQ29uc3RhbnRzLkxBTkRJTkdfUEFHRV9QQVRIKSwKICAgICAgICBzaG91bGRUcmFja1VybFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkVHJhY2tVcmxVcGRhdGUocGF0aG5hbWUpIHsKICAgICAgICAgIHZhciB0YXJnZXRBcHBOYW1lID0gcGF0aG5hbWUuc3BsaXQoJy8nKVsxXTsKICAgICAgICAgIHJldHVybiB0YXJnZXRBcHBOYW1lID09PSBfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuREFTSEJPQVJEU19JRCB8fCB0YXJnZXRBcHBOYW1lID09PSBfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuREFTSEJPQVJEX0lEOwogICAgICAgIH0sCiAgICAgICAgc3RvcmFnZUtleTogImxhc3RVcmw6Ii5jb25jYXQoY29yZS5odHRwLmJhc2VQYXRoLmdldCgpLCAiOmRhc2hib2FyZCIpLAogICAgICAgIG5hdkxpbmtVcGRhdGVyJDogdGhpcy5hcHBTdGF0ZVVwZGF0ZXIsCiAgICAgICAgdG9hc3ROb3RpZmljYXRpb25zOiBjb3JlLm5vdGlmaWNhdGlvbnMudG9hc3RzLAogICAgICAgIHN0YXRlUGFyYW1zOiBbewogICAgICAgICAga2JuVXJsS2V5OiAnX2cnLAogICAgICAgICAgc3RhdGVVcGRhdGUkOiBkYXRhLnF1ZXJ5LnN0YXRlJC5waXBlKCgwLCBfb3BlcmF0b3JzLmZpbHRlcikoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gX3JlZjIuY2hhbmdlczsKICAgICAgICAgICAgcmV0dXJuICEhKGNoYW5nZXMuZ2xvYmFsRmlsdGVycyB8fCBjaGFuZ2VzLnRpbWUgfHwgY2hhbmdlcy5yZWZyZXNoSW50ZXJ2YWwpOwogICAgICAgICAgfSksICgwLCBfb3BlcmF0b3JzLm1hcCkoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICAgIHZhciBfc3RhdGUkZmlsdGVyczsKCiAgICAgICAgICAgIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgICBmaWx0ZXJzOiAoX3N0YXRlJGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzKSA9PT0gbnVsbCB8fCBfc3RhdGUkZmlsdGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJGZpbHRlcnMuZmlsdGVyKF9wdWJsaWMuZXNGaWx0ZXJzLmlzRmlsdGVyUGlubmVkKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKQogICAgICAgIH1dCiAgICAgIH0pLAogICAgICAgICAgYXBwTW91bnRlZCA9IF9jcmVhdGVLYm5VcmxUcmFja2VyLmFwcE1vdW50ZWQsCiAgICAgICAgICBhcHBVbk1vdW50ZWQgPSBfY3JlYXRlS2JuVXJsVHJhY2tlci5hcHBVbk1vdW50ZWQsCiAgICAgICAgICBzdG9wVXJsVHJhY2tlciA9IF9jcmVhdGVLYm5VcmxUcmFja2VyLnN0b3A7CgogICAgICB0aGlzLnN0b3BVcmxUcmFja2luZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9wVXJsVHJhY2tlcigpOwogICAgICB9OwoKICAgICAgdmFyIGFwcCA9IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGl0bGU6ICdEYXNoYm9hcmRzJywKICAgICAgICBtb3VudDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9tb3VudCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHsKICAgICAgICAgICAgdmFyIF9yZWY0LCBfcmVmNSwgY29yZVN0YXJ0LCBfdGhpcyRzdGFydERlcGVuZGVuY2ksIHNhdmVkT2JqZWN0c0NsaWVudCwgZW1iZWRkYWJsZSwgbmF2aWdhdGlvbiwgc2hhcmUsIGRhdGFTdGFydCwgZGFzaGJvYXJkQ29uZmlnLCBnZXRTYXZlZERhc2hib2FyZExvYWRlciwgc2F2ZWREYXNoYm9hcmRzLCBkZXBzLCBfcmVmNiwgcmVuZGVyQXBwLCB1bm1vdW50OwoKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLmdldFN0YXJ0U2VydmljZXMoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBfcmVmNCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgX3JlZjUgPSBfc2xpY2VkVG9BcnJheShfcmVmNCwgMSk7CiAgICAgICAgICAgICAgICAgICAgY29yZVN0YXJ0ID0gX3JlZjVbMF07CgogICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnN0YXJ0RGVwZW5kZW5jaWVzID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IHN0YXJ0ZWQgeWV0Jyk7CgogICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgYXBwTW91bnRlZCgpOwogICAgICAgICAgICAgICAgICAgIF90aGlzJHN0YXJ0RGVwZW5kZW5jaSA9IF90aGlzLnN0YXJ0RGVwZW5kZW5jaWVzLCBzYXZlZE9iamVjdHNDbGllbnQgPSBfdGhpcyRzdGFydERlcGVuZGVuY2kuc2F2ZWRPYmplY3RzQ2xpZW50LCBlbWJlZGRhYmxlID0gX3RoaXMkc3RhcnREZXBlbmRlbmNpLmVtYmVkZGFibGUsIG5hdmlnYXRpb24gPSBfdGhpcyRzdGFydERlcGVuZGVuY2kubmF2aWdhdGlvbiwgc2hhcmUgPSBfdGhpcyRzdGFydERlcGVuZGVuY2kuc2hhcmUsIGRhdGFTdGFydCA9IF90aGlzJHN0YXJ0RGVwZW5kZW5jaS5kYXRhLCBkYXNoYm9hcmRDb25maWcgPSBfdGhpcyRzdGFydERlcGVuZGVuY2kuZGFzaGJvYXJkQ29uZmlnLCBnZXRTYXZlZERhc2hib2FyZExvYWRlciA9IF90aGlzJHN0YXJ0RGVwZW5kZW5jaS5kYXNoYm9hcmQuZ2V0U2F2ZWREYXNoYm9hcmRMb2FkZXI7CiAgICAgICAgICAgICAgICAgICAgc2F2ZWREYXNoYm9hcmRzID0gZ2V0U2F2ZWREYXNoYm9hcmRMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICBkZXBzID0gewogICAgICAgICAgICAgICAgICAgICAgcGx1Z2luSW5pdGlhbGl6ZXJDb250ZXh0OiBfdGhpcy5pbml0aWFsaXplckNvbnRleHQsCiAgICAgICAgICAgICAgICAgICAgICBjb3JlOiBjb3JlU3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICBkYXNoYm9hcmRDb25maWc6IGRhc2hib2FyZENvbmZpZywKICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb246IG5hdmlnYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICBzaGFyZTogc2hhcmUsCiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhU3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICBzYXZlZE9iamVjdHNDbGllbnQ6IHNhdmVkT2JqZWN0c0NsaWVudCwKICAgICAgICAgICAgICAgICAgICAgIHNhdmVkRGFzaGJvYXJkczogc2F2ZWREYXNoYm9hcmRzLAogICAgICAgICAgICAgICAgICAgICAgY2hyb21lOiBjb3JlU3RhcnQuY2hyb21lLAogICAgICAgICAgICAgICAgICAgICAgYWRkQmFzZVBhdGg6IGNvcmVTdGFydC5odHRwLmJhc2VQYXRoLnByZXBlbmQsCiAgICAgICAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiBjb3JlU3RhcnQudWlTZXR0aW5ncywKICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzoga2liYW5hTGVnYWN5LmNvbmZpZywKICAgICAgICAgICAgICAgICAgICAgIHNhdmVkUXVlcnlTZXJ2aWNlOiBkYXRhU3RhcnQucXVlcnkuc2F2ZWRRdWVyaWVzLAogICAgICAgICAgICAgICAgICAgICAgZW1iZWRkYWJsZTogZW1iZWRkYWJsZSwKICAgICAgICAgICAgICAgICAgICAgIGRhc2hib2FyZENhcGFiaWxpdGllczogY29yZVN0YXJ0LmFwcGxpY2F0aW9uLmNhcGFiaWxpdGllcy5kYXNoYm9hcmQsCiAgICAgICAgICAgICAgICAgICAgICBlbWJlZGRhYmxlQ2FwYWJpbGl0aWVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbGl6ZUNhcGFiaWxpdGllczogY29yZVN0YXJ0LmFwcGxpY2F0aW9uLmNhcGFiaWxpdGllcy52aXN1YWxpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcHNDYXBhYmlsaXRpZXM6IGNvcmVTdGFydC5hcHBsaWNhdGlvbi5jYXBhYmlsaXRpZXMubWFwcwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZTogbmV3IF9wdWJsaWMyLlN0b3JhZ2UobG9jYWxTdG9yYWdlKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4vbnBfcmVhZHkvYXBwbGljYXRpb24nKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgX3JlZjYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgIHJlbmRlckFwcCA9IF9yZWY2LnJlbmRlckFwcDsKICAgICAgICAgICAgICAgICAgICB1bm1vdW50ID0gcmVuZGVyQXBwKHBhcmFtcy5lbGVtZW50LCBwYXJhbXMuYXBwQmFzZVBhdGgsIGRlcHMpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHVubW91bnQoKTsKICAgICAgICAgICAgICAgICAgICAgIGFwcFVuTW91bnRlZCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgZnVuY3Rpb24gbW91bnQoX3gpIHsKICAgICAgICAgICAgcmV0dXJuIF9tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBtb3VudDsKICAgICAgICB9KCkKICAgICAgfTsKICAgICAga2liYW5hTGVnYWN5LnJlZ2lzdGVyTGVnYWN5QXBwKF9vYmplY3RTcHJlYWQoe30sIGFwcCwgewogICAgICAgIGlkOiBfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuREFTSEJPQVJEX0lELAogICAgICAgIC8vIG9ubHkgcmVnaXN0ZXIgdGhlIHVwZGF0ZXIgaW4gb25jZSBhcHAsIG90aGVyd2lzZSBhbGwgdXBkYXRlcyB3b3VsZCBoYXBwZW4gdHdpY2UKICAgICAgICB1cGRhdGVyJDogdGhpcy5hcHBTdGF0ZVVwZGF0ZXIuYXNPYnNlcnZhYmxlKCksCiAgICAgICAgbmF2TGlua0lkOiAna2liYW5hOmRhc2hib2FyZCcKICAgICAgfSkpOwogICAgICBraWJhbmFMZWdhY3kucmVnaXN0ZXJMZWdhY3lBcHAoX29iamVjdFNwcmVhZCh7fSwgYXBwLCB7CiAgICAgICAgaWQ6IF9kYXNoYm9hcmRfY29uc3RhbnRzLkRhc2hib2FyZENvbnN0YW50cy5EQVNIQk9BUkRTX0lECiAgICAgIH0pKTsKICAgICAgaG9tZS5mZWF0dXJlQ2F0YWxvZ3VlLnJlZ2lzdGVyKHsKICAgICAgICBpZDogX2Rhc2hib2FyZF9jb25zdGFudHMuRGFzaGJvYXJkQ29uc3RhbnRzLkRBU0hCT0FSRF9JRCwKICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5kYXNoYm9hcmQuZmVhdHVyZUNhdGFsb2d1ZS5kYXNoYm9hcmRUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGFzaGJvYXJkJwogICAgICAgIH0pLAogICAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLmRhc2hib2FyZC5mZWF0dXJlQ2F0YWxvZ3VlLmRhc2hib2FyZERlc2NyaXB0aW9uJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEaXNwbGF5IGFuZCBzaGFyZSBhIGNvbGxlY3Rpb24gb2YgdmlzdWFsaXphdGlvbnMgYW5kIHNhdmVkIHNlYXJjaGVzLicKICAgICAgICB9KSwKICAgICAgICBpY29uOiAnZGFzaGJvYXJkQXBwJywKICAgICAgICBwYXRoOiAiL2FwcC9raWJhbmEjIi5jb25jYXQoX2Rhc2hib2FyZF9jb25zdGFudHMuRGFzaGJvYXJkQ29uc3RhbnRzLkxBTkRJTkdfUEFHRV9QQVRIKSwKICAgICAgICBzaG93T25Ib21lUGFnZTogdHJ1ZSwKICAgICAgICBjYXRlZ29yeTogX3B1YmxpYzMuRmVhdHVyZUNhdGFsb2d1ZUNhdGVnb3J5LkRBVEEKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KF9yZWY3LCBfcmVmOCkgewogICAgICB2YXIgc2F2ZWRPYmplY3RzQ2xpZW50ID0gX3JlZjcuc2F2ZWRPYmplY3RzLmNsaWVudDsKICAgICAgdmFyIGVtYmVkZGFibGUgPSBfcmVmOC5lbWJlZGRhYmxlLAogICAgICAgICAgbmF2aWdhdGlvbiA9IF9yZWY4Lm5hdmlnYXRpb24sCiAgICAgICAgICBkYXRhID0gX3JlZjguZGF0YSwKICAgICAgICAgIHNoYXJlID0gX3JlZjguc2hhcmUsCiAgICAgICAgICBkYXNoYm9hcmRDb25maWcgPSBfcmVmOC5raWJhbmFMZWdhY3kuZGFzaGJvYXJkQ29uZmlnLAogICAgICAgICAgZGFzaGJvYXJkID0gX3JlZjguZGFzaGJvYXJkOwogICAgICB0aGlzLnN0YXJ0RGVwZW5kZW5jaWVzID0gewogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgc2F2ZWRPYmplY3RzQ2xpZW50OiBzYXZlZE9iamVjdHNDbGllbnQsCiAgICAgICAgZW1iZWRkYWJsZTogZW1iZWRkYWJsZSwKICAgICAgICBuYXZpZ2F0aW9uOiBuYXZpZ2F0aW9uLAogICAgICAgIHNoYXJlOiBzaGFyZSwKICAgICAgICBkYXNoYm9hcmRDb25maWc6IGRhc2hib2FyZENvbmZpZywKICAgICAgICBkYXNoYm9hcmQ6IGRhc2hib2FyZAogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIGlmICh0aGlzLnN0b3BVcmxUcmFja2luZykgewogICAgICAgIHRoaXMuc3RvcFVybFRyYWNraW5nKCk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBEYXNoYm9hcmRQbHVnaW47Cn0oKTsKCmV4cG9ydHMuRGFzaGJvYXJkUGx1Z2luID0gRGFzaGJvYXJkUGx1Z2luOw=="},null]}