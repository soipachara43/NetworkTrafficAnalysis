{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_header/workpad_zoom/workpad_zoom.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_header/workpad_zoom/workpad_zoom.js","mtime":1589249552023},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuV29ya3BhZFpvb20gPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3BvcG92ZXIgPSByZXF1aXJlKCIuLi8uLi9wb3BvdmVyIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbW1vbi9saWIvY29uc3RhbnRzIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9pMThuIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgewogIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgIHJldHVybiBjYWxsOwogIH0KCiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogIH0KCiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogewogICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0KICB9KTsKICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgIG8uX19wcm90b19fID0gcDsKICAgIHJldHVybiBvOwogIH07CgogIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgc3RyaW5ncyA9IF9pMThuLkNvbXBvbmVudFN0cmluZ3MuV29ya3BhZEhlYWRlcldvcmtwYWRab29tOwp2YXIgUVVJQ0tfWk9PTV9MRVZFTFMgPSBbMC41LCAxLCAyXTsKCnZhciBXb3JrcGFkWm9vbSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFdvcmtwYWRab29tLCBfUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFdvcmtwYWRab29tKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXb3JrcGFkWm9vbSk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihXb3JrcGFkWm9vbSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9maXRUb1dpbmRvdyIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsCiAgICAgICAgICBib3VuZGluZ0JveCA9IF90aGlzJHByb3BzLmJvdW5kaW5nQm94LAogICAgICAgICAgc2V0Wm9vbVNjYWxlID0gX3RoaXMkcHJvcHMuc2V0Wm9vbVNjYWxlLAogICAgICAgICAgd29ya3BhZFdpZHRoID0gX3RoaXMkcHJvcHMud29ya3BhZFdpZHRoLAogICAgICAgICAgd29ya3BhZEhlaWdodCA9IF90aGlzJHByb3BzLndvcmtwYWRIZWlnaHQ7CiAgICAgIHZhciBjYW52YXNMYXlvdXRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KF9jb25zdGFudHMuQ0FOVkFTX0xBWU9VVF9TVEFHRV9DT05URU5UX1NFTEVDVE9SKSk7CiAgICAgIHZhciBsYXlvdXRXaWR0aCA9IGNhbnZhc0xheW91dENvbnRlbnQuY2xpZW50V2lkdGg7CiAgICAgIHZhciBsYXlvdXRIZWlnaHQgPSBjYW52YXNMYXlvdXRDb250ZW50LmNsaWVudEhlaWdodDsKICAgICAgdmFyIG9mZnNldExlZnQgPSBib3VuZGluZ0JveC5sZWZ0OwogICAgICB2YXIgb2Zmc2V0VG9wID0gYm91bmRpbmdCb3gudG9wOwogICAgICB2YXIgb2Zmc2V0UmlnaHQgPSBib3VuZGluZ0JveC5yaWdodCAtIHdvcmtwYWRXaWR0aDsKICAgICAgdmFyIG9mZnNldEJvdHRvbSA9IGJvdW5kaW5nQm94LmJvdHRvbSAtIHdvcmtwYWRIZWlnaHQ7CgogICAgICB2YXIgYm91bmRpbmdXaWR0aCA9IHdvcmtwYWRXaWR0aCArIE1hdGgubWF4KE1hdGguYWJzKG9mZnNldExlZnQpLCBNYXRoLmFicyhvZmZzZXRSaWdodCkpICogMiArIF9jb25zdGFudHMuV09SS1BBRF9DQU5WQVNfQlVGRkVSOwoKICAgICAgdmFyIGJvdW5kaW5nSGVpZ2h0ID0gd29ya3BhZEhlaWdodCArIE1hdGgubWF4KE1hdGguYWJzKG9mZnNldFRvcCksIE1hdGguYWJzKG9mZnNldEJvdHRvbSkpICogMiArIF9jb25zdGFudHMuV09SS1BBRF9DQU5WQVNfQlVGRkVSOwoKICAgICAgdmFyIHhTY2FsZSA9IGxheW91dFdpZHRoIC8gYm91bmRpbmdXaWR0aDsKICAgICAgdmFyIHlTY2FsZSA9IGxheW91dEhlaWdodCAvIGJvdW5kaW5nSGVpZ2h0OwogICAgICBzZXRab29tU2NhbGUoTWF0aC5taW4oeFNjYWxlLCB5U2NhbGUpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9idXR0b24iLCBmdW5jdGlvbiAodG9nZ2xlUG9wb3ZlcikgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIHsKICAgICAgICBpY29uVHlwZTogIm1hZ25pZnlXaXRoUGx1cyIsCiAgICAgICAgImFyaWEtbGFiZWwiOiBzdHJpbmdzLmdldFpvb21Db250cm9sc0FyaWFMYWJlbCgpLAogICAgICAgIG9uQ2xpY2s6IHRvZ2dsZVBvcG92ZXIKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfZ2V0U2NhbGVNZW51SXRlbXMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBRVUlDS19aT09NX0xFVkVMUy5tYXAoZnVuY3Rpb24gKHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IHN0cmluZ3MuZ2V0Wm9vbVBlcmNlbnRhZ2Uoc2NhbGUpLAogICAgICAgICAgaWNvbjogJ2VtcHR5JywKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5zZXRab29tU2NhbGUoc2NhbGUpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX2dldFBhbmVscyIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLAogICAgICAgICAgem9vbVNjYWxlID0gX3RoaXMkcHJvcHMyLnpvb21TY2FsZSwKICAgICAgICAgIHpvb21JbiA9IF90aGlzJHByb3BzMi56b29tSW4sCiAgICAgICAgICB6b29tT3V0ID0gX3RoaXMkcHJvcHMyLnpvb21PdXQsCiAgICAgICAgICByZXNldFpvb20gPSBfdGhpcyRwcm9wczIucmVzZXRab29tOwogICAgICB2YXIgaXRlbXMgPSBbewogICAgICAgIG5hbWU6IHN0cmluZ3MuZ2V0Wm9vbUZpdFRvV2luZG93VGV4dCgpLAogICAgICAgIGljb246ICdlbXB0eScsCiAgICAgICAgb25DbGljazogX3RoaXMuX2ZpdFRvV2luZG93LAogICAgICAgIGRpc2FibGVkOiB6b29tU2NhbGUgPT09IF9jb25zdGFudHMuTUFYX1pPT01fTEVWRUwKICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5fZ2V0U2NhbGVNZW51SXRlbXMoKSksIFt7CiAgICAgICAgbmFtZTogc3RyaW5ncy5nZXRab29tSW5UZXh0KCksCiAgICAgICAgaWNvbjogJ21hZ25pZnlXaXRoUGx1cycsCiAgICAgICAgb25DbGljazogem9vbUluLAogICAgICAgIGRpc2FibGVkOiB6b29tU2NhbGUgPT09IF9jb25zdGFudHMuTUFYX1pPT01fTEVWRUwsCiAgICAgICAgY2xhc3NOYW1lOiAnY2FudmFzQ29udGV4dE1lbnUtLXRvcEJvcmRlcicKICAgICAgfSwgewogICAgICAgIG5hbWU6IHN0cmluZ3MuZ2V0Wm9vbU91dFRleHQoKSwKICAgICAgICBpY29uOiAnbWFnbmlmeVdpdGhNaW51cycsCiAgICAgICAgb25DbGljazogem9vbU91dCwKICAgICAgICBkaXNhYmxlZDogem9vbVNjYWxlIDw9IF9jb25zdGFudHMuTUlOX1pPT01fTEVWRUwKICAgICAgfSwgewogICAgICAgIG5hbWU6IHN0cmluZ3MuZ2V0Wm9vbVJlc2V0VGV4dCgpLAogICAgICAgIGljb246ICdlbXB0eScsCiAgICAgICAgb25DbGljazogcmVzZXRab29tLAogICAgICAgIGRpc2FibGVkOiB6b29tU2NhbGUgPj0gX2NvbnN0YW50cy5NQVhfWk9PTV9MRVZFTCwKICAgICAgICBjbGFzc05hbWU6ICdjYW52YXNDb250ZXh0TWVudS0tdG9wQm9yZGVyJwogICAgICB9XSk7CiAgICAgIHZhciBwYW5lbHMgPSBbewogICAgICAgIGlkOiAwLAogICAgICAgIHRpdGxlOiBzdHJpbmdzLmdldFpvb21QYW5lbFRpdGxlKCksCiAgICAgICAgaXRlbXM6IGl0ZW1zCiAgICAgIH1dOwogICAgICByZXR1cm4gcGFuZWxzOwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFdvcmtwYWRab29tLCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3BvcG92ZXIuUG9wb3ZlciwgewogICAgICAgIGJ1dHRvbjogdGhpcy5fYnV0dG9uLAogICAgICAgIHBhbmVsUGFkZGluZ1NpemU6ICJub25lIiwKICAgICAgICB0b29sdGlwOiBzdHJpbmdzLmdldFpvb21Db250cm9sc1Rvb2x0aXAoKSwKICAgICAgICB0b29sdGlwUG9zaXRpb246ICJib3R0b20iCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbnRleHRNZW51LCB7CiAgICAgICAgICBpbml0aWFsUGFuZWxJZDogMCwKICAgICAgICAgIHBhbmVsczogX3RoaXMyLl9nZXRQYW5lbHMoKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBXb3JrcGFkWm9vbTsKfShfcmVhY3QuUHVyZUNvbXBvbmVudCk7CgpleHBvcnRzLldvcmtwYWRab29tID0gV29ya3BhZFpvb207CgpfZGVmaW5lUHJvcGVydHkoV29ya3BhZFpvb20sICJwcm9wVHlwZXMiLCB7CiAgem9vbVNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsCiAgc2V0Wm9vbVNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHpvb21JbjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICB6b29tT3V0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHJlc2V0Wm9vbTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBib3VuZGluZ0JveDogX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHsKICAgIGxlZnQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCwKICAgIHJpZ2h0OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsCiAgICB0b3A6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCwKICAgIGJvdHRvbTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkCiAgfSksCiAgd29ya3BhZFdpZHRoOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsCiAgd29ya3BhZEhlaWdodDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkCn0pOw=="},null]}