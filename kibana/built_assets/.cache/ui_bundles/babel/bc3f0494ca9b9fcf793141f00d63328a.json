{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/infra/public/pages/logs/log_entry_categories/page_results_content.js","dependencies":[{"path":"x-pack/plugins/infra/public/pages/logs/log_entry_categories/page_results_content.js","mtime":1589249554301},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJlc3VsdHNDb250ZW50UGFnZSA9IGV4cG9ydHMuTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c0NvbnRlbnQgPSB2b2lkIDA7Cgp2YXIgX2RhdGVtYXRoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAZWxhc3RpYy9kYXRlbWF0aCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbW9tZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJtb21lbnQiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9wbHVnaW5zL2tpYmFuYV9yZWFjdC9wdWJsaWMiKTsKCnZhciBfcHVibGljMiA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uL29ic2VydmFiaWxpdHkvcHVibGljIik7Cgp2YXIgX2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9sb2dnaW5nL2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzIik7Cgp2YXIgX2xvZ19hbmFseXNpc19yZXN1bHRzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tcG9uZW50cy9sb2dnaW5nL2xvZ19hbmFseXNpc19yZXN1bHRzIik7Cgp2YXIgX3VzZV9pbnRlcnZhbCA9IHJlcXVpcmUoIi4uLy4uLy4uL2hvb2tzL3VzZV9pbnRlcnZhbCIpOwoKdmFyIF90b3BfY2F0ZWdvcmllcyA9IHJlcXVpcmUoIi4vc2VjdGlvbnMvdG9wX2NhdGVnb3JpZXMiKTsKCnZhciBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX21vZHVsZSA9IHJlcXVpcmUoIi4vdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX21vZHVsZSIpOwoKdmFyIF91c2VfbG9nX2VudHJ5X2NhdGVnb3JpZXNfcmVzdWx0cyA9IHJlcXVpcmUoIi4vdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHMiKTsKCnZhciBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHNfdXJsX3N0YXRlID0gcmVxdWlyZSgiLi91c2VfbG9nX2VudHJ5X2NhdGVnb3JpZXNfcmVzdWx0c191cmxfc3RhdGUiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBmbGV4OiAxIDAgMCU7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgLmV1aUZsZXhHcm91cC0tcmVzcG9uc2l2ZSA+IC5ldWlGbGV4SXRlbSB7XG4gICAgZmxleC1iYXNpczogYXV0byAhaW1wb3J0YW50O1xuICB9XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgewogIGlmICghcmF3KSB7CiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApOwogIH0KCiAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgewogICAgcmF3OiB7CiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykKICAgIH0KICB9KSk7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgSk9CX1NUQVRVU19QT0xMSU5HX0lOVEVSVkFMID0gMzAwMDA7Cgp2YXIgTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c0NvbnRlbnQgPSBmdW5jdGlvbiBMb2dFbnRyeUNhdGVnb3JpZXNSZXN1bHRzQ29udGVudCgpIHsKICAoMCwgX3B1YmxpYzIudXNlVHJhY2tQYWdldmlldykoewogICAgYXBwOiAnaW5mcmFfbG9ncycsCiAgICBwYXRoOiAnbG9nX2VudHJ5X2NhdGVnb3JpZXNfcmVzdWx0cycKICB9KTsKICAoMCwgX3B1YmxpYzIudXNlVHJhY2tQYWdldmlldykoewogICAgYXBwOiAnaW5mcmFfbG9ncycsCiAgICBwYXRoOiAnbG9nX2VudHJ5X2NhdGVnb3JpZXNfcmVzdWx0cycsCiAgICBkZWxheTogMTUwMDAKICB9KTsKCiAgdmFyIF91c2VMb2dFbnRyeUNhdGVnb3JpZSA9ICgwLCBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX21vZHVsZS51c2VMb2dFbnRyeUNhdGVnb3JpZXNNb2R1bGVDb250ZXh0KSgpLAogICAgICBmZXRjaEpvYlN0YXR1cyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS5mZXRjaEpvYlN0YXR1cywKICAgICAgam9iU3RhdHVzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllLmpvYlN0YXR1cywKICAgICAgc2V0dXBTdGF0dXMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUuc2V0dXBTdGF0dXMsCiAgICAgIHZpZXdTZXR1cEZvclJlY29uZmlndXJhdGlvbiA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS52aWV3U2V0dXBGb3JSZWNvbmZpZ3VyYXRpb24sCiAgICAgIHZpZXdTZXR1cEZvclVwZGF0ZSA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS52aWV3U2V0dXBGb3JVcGRhdGUsCiAgICAgIGpvYklkcyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZS5qb2JJZHMsCiAgICAgIHNvdXJjZUlkID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllLnNvdXJjZUNvbmZpZ3VyYXRpb24uc291cmNlSWQ7CgogIHZhciBfdXNlTG9nRW50cnlDYXRlZ29yaWUyID0gKDAsIF91c2VfbG9nX2VudHJ5X2NhdGVnb3JpZXNfcmVzdWx0c191cmxfc3RhdGUudXNlTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0c1VybFN0YXRlKSgpLAogICAgICBzZWxlY3RlZFRpbWVSYW5nZSA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTIudGltZVJhbmdlLAogICAgICBzZXRTZWxlY3RlZFRpbWVSYW5nZSA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTIuc2V0VGltZVJhbmdlLAogICAgICBhdXRvUmVmcmVzaCA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTIuYXV0b1JlZnJlc2gsCiAgICAgIHNldEF1dG9SZWZyZXNoID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMi5zZXRBdXRvUmVmcmVzaDsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhc3RDaGFuZ2VkVGltZTogRGF0ZS5ub3coKSwKICAgICAgdGltZVJhbmdlOiBzdHJpbmdUb051bWVyaWNUaW1lUmFuZ2Uoc2VsZWN0ZWRUaW1lUmFuZ2UpCiAgICB9OwogIH0pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgY2F0ZWdvcnlRdWVyeVRpbWVSYW5nZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldENhdGVnb3J5UXVlcnlUaW1lUmFuZ2UgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBjYXRlZ29yeVF1ZXJ5RGF0YXNldHMgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRDYXRlZ29yeVF1ZXJ5RGF0YXNldHMgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZUtpYmFuYSA9ICgwLCBfcHVibGljLnVzZUtpYmFuYSkoKSwKICAgICAgc2VydmljZXMgPSBfdXNlS2liYW5hLnNlcnZpY2VzOwoKICB2YXIgc2hvd0xvYWREYXRhRXJyb3JOb3RpZmljYXRpb24gPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoZXJyb3IpIHsKICAgIHZhciBfc2VydmljZXMkbm90aWZpY2F0aW87IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnMKCgogICAgKF9zZXJ2aWNlcyRub3RpZmljYXRpbyA9IHNlcnZpY2VzLm5vdGlmaWNhdGlvbnMpID09PSBudWxsIHx8IF9zZXJ2aWNlcyRub3RpZmljYXRpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlcnZpY2VzJG5vdGlmaWNhdGlvLnRvYXN0cy5hZGRFcnJvcihlcnJvciwgewogICAgICB0aXRsZTogbG9hZERhdGFFcnJvclRpdGxlCiAgICB9KTsKICB9LCBbc2VydmljZXMubm90aWZpY2F0aW9uc10pOwoKICB2YXIgX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMyA9ICgwLCBfdXNlX2xvZ19lbnRyeV9jYXRlZ29yaWVzX3Jlc3VsdHMudXNlTG9nRW50cnlDYXRlZ29yaWVzUmVzdWx0cykoewogICAgY2F0ZWdvcmllc0NvdW50OiAyNSwKICAgIGVuZFRpbWU6IGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UudGltZVJhbmdlLmVuZFRpbWUsCiAgICBmaWx0ZXJlZERhdGFzZXRzOiBjYXRlZ29yeVF1ZXJ5RGF0YXNldHMsCiAgICBvbkdldFRvcExvZ0VudHJ5Q2F0ZWdvcmllc0Vycm9yOiBzaG93TG9hZERhdGFFcnJvck5vdGlmaWNhdGlvbiwKICAgIHNvdXJjZUlkOiBzb3VyY2VJZCwKICAgIHN0YXJ0VGltZTogY2F0ZWdvcnlRdWVyeVRpbWVSYW5nZS50aW1lUmFuZ2Uuc3RhcnRUaW1lCiAgfSksCiAgICAgIGdldExvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTMuZ2V0TG9nRW50cnlDYXRlZ29yeURhdGFzZXRzLAogICAgICBnZXRUb3BMb2dFbnRyeUNhdGVnb3JpZXMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUzLmdldFRvcExvZ0VudHJ5Q2F0ZWdvcmllcywKICAgICAgaXNMb2FkaW5nTG9nRW50cnlDYXRlZ29yeURhdGFzZXRzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMy5pc0xvYWRpbmdMb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMsCiAgICAgIGlzTG9hZGluZ1RvcExvZ0VudHJ5Q2F0ZWdvcmllcyA9IF91c2VMb2dFbnRyeUNhdGVnb3JpZTMuaXNMb2FkaW5nVG9wTG9nRW50cnlDYXRlZ29yaWVzLAogICAgICBsb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMgPSBfdXNlTG9nRW50cnlDYXRlZ29yaWUzLmxvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cywKICAgICAgdG9wTG9nRW50cnlDYXRlZ29yaWVzID0gX3VzZUxvZ0VudHJ5Q2F0ZWdvcmllMy50b3BMb2dFbnRyeUNhdGVnb3JpZXM7CgogIHZhciBoYW5kbGVRdWVyeVRpbWVSYW5nZUNoYW5nZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgc3RhcnRUaW1lID0gX3JlZi5zdGFydCwKICAgICAgICBlbmRUaW1lID0gX3JlZi5lbmQ7CiAgICBzZXRDYXRlZ29yeVF1ZXJ5VGltZVJhbmdlKGZ1bmN0aW9uIChwcmV2aW91c1F1ZXJ5UGFyYW1ldGVycykgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcHJldmlvdXNRdWVyeVBhcmFtZXRlcnMsIHsKICAgICAgICB0aW1lUmFuZ2U6IHN0cmluZ1RvTnVtZXJpY1RpbWVSYW5nZSh7CiAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSwKICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUKICAgICAgICB9KSwKICAgICAgICBsYXN0Q2hhbmdlZFRpbWU6IERhdGUubm93KCkKICAgICAgfSk7CiAgICB9KTsKICB9LCBbc2V0Q2F0ZWdvcnlRdWVyeVRpbWVSYW5nZV0pOwogIHZhciBoYW5kbGVTZWxlY3RlZFRpbWVSYW5nZUNoYW5nZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChzZWxlY3RlZFRpbWUpIHsKICAgIGlmIChzZWxlY3RlZFRpbWUuaXNJbnZhbGlkKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBzZXRTZWxlY3RlZFRpbWVSYW5nZSh7CiAgICAgIHN0YXJ0VGltZTogc2VsZWN0ZWRUaW1lLnN0YXJ0LAogICAgICBlbmRUaW1lOiBzZWxlY3RlZFRpbWUuZW5kCiAgICB9KTsKICAgIGhhbmRsZVF1ZXJ5VGltZVJhbmdlQ2hhbmdlKHNlbGVjdGVkVGltZSk7CiAgfSwgW3NldFNlbGVjdGVkVGltZVJhbmdlLCBoYW5kbGVRdWVyeVRpbWVSYW5nZUNoYW5nZV0pOwogIHZhciBoYW5kbGVBdXRvUmVmcmVzaENoYW5nZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChfcmVmMikgewogICAgdmFyIGlzUGF1c2VkID0gX3JlZjIuaXNQYXVzZWQsCiAgICAgICAgaW50ZXJ2YWwgPSBfcmVmMi5yZWZyZXNoSW50ZXJ2YWw7CiAgICBzZXRBdXRvUmVmcmVzaCh7CiAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCwKICAgICAgaW50ZXJ2YWw6IGludGVydmFsCiAgICB9KTsKICB9LCBbc2V0QXV0b1JlZnJlc2hdKTsKICB2YXIgaXNGaXJzdFVzZSA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNldHVwU3RhdHVzID09PSAnaGlkZGVuQWZ0ZXJTdWNjZXNzJzsKICB9LCBbc2V0dXBTdGF0dXNdKTsKICB2YXIgaGFzUmVzdWx0cyA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRvcExvZ0VudHJ5Q2F0ZWdvcmllcy5sZW5ndGggPiAwOwogIH0sIFt0b3BMb2dFbnRyeUNhdGVnb3JpZXMubGVuZ3RoXSk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGdldFRvcExvZ0VudHJ5Q2F0ZWdvcmllcygpOwogIH0sIFtnZXRUb3BMb2dFbnRyeUNhdGVnb3JpZXMsIGNhdGVnb3J5UXVlcnlEYXRhc2V0cywgY2F0ZWdvcnlRdWVyeVRpbWVSYW5nZS5sYXN0Q2hhbmdlZFRpbWVdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgZ2V0TG9nRW50cnlDYXRlZ29yeURhdGFzZXRzKCk7CiAgfSwgW2dldExvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cywgY2F0ZWdvcnlRdWVyeVRpbWVSYW5nZS5sYXN0Q2hhbmdlZFRpbWVdKTsKICAoMCwgX3VzZV9pbnRlcnZhbC51c2VJbnRlcnZhbCkoZnVuY3Rpb24gKCkgewogICAgZmV0Y2hKb2JTdGF0dXMoKTsKICB9LCBKT0JfU1RBVFVTX1BPTExJTkdfSU5URVJWQUwpOwogICgwLCBfdXNlX2ludGVydmFsLnVzZUludGVydmFsKShmdW5jdGlvbiAoKSB7CiAgICBoYW5kbGVRdWVyeVRpbWVSYW5nZUNoYW5nZSh7CiAgICAgIHN0YXJ0OiBzZWxlY3RlZFRpbWVSYW5nZS5zdGFydFRpbWUsCiAgICAgIGVuZDogc2VsZWN0ZWRUaW1lUmFuZ2UuZW5kVGltZQogICAgfSk7CiAgfSwgYXV0b1JlZnJlc2guaXNQYXVzZWQgPyBudWxsIDogYXV0b1JlZnJlc2guaW50ZXJ2YWwpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlc3VsdHNDb250ZW50UGFnZSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgZGlyZWN0aW9uOiAiY29sdW1uIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgIHBhZGRpbmdTaXplOiAibSIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIsCiAgICBhbGlnbkl0ZW1zOiAiY2VudGVyIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3VwZXJEYXRlUGlja2VyLCB7CiAgICBzdGFydDogc2VsZWN0ZWRUaW1lUmFuZ2Uuc3RhcnRUaW1lLAogICAgZW5kOiBzZWxlY3RlZFRpbWVSYW5nZS5lbmRUaW1lLAogICAgb25UaW1lQ2hhbmdlOiBoYW5kbGVTZWxlY3RlZFRpbWVSYW5nZUNoYW5nZSwKICAgIGlzUGF1c2VkOiBhdXRvUmVmcmVzaC5pc1BhdXNlZCwKICAgIHJlZnJlc2hJbnRlcnZhbDogYXV0b1JlZnJlc2guaW50ZXJ2YWwsCiAgICBvblJlZnJlc2hDaGFuZ2U6IGhhbmRsZUF1dG9SZWZyZXNoQ2hhbmdlCiAgfSkpKSkpLCAoMCwgX2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzLmpvYkhhc1Byb2JsZW0pKGpvYlN0YXR1c1snbG9nLWVudHJ5LWNhdGVnb3JpZXMtY291bnQnXSwgc2V0dXBTdGF0dXMpID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvZ19hbmFseXNpc19qb2Jfc3RhdHVzLkxvZ0FuYWx5c2lzSm9iUHJvYmxlbUluZGljYXRvciwgewogICAgam9iU3RhdHVzOiBqb2JTdGF0dXNbJ2xvZy1lbnRyeS1jYXRlZ29yaWVzLWNvdW50J10sCiAgICBvblJlY3JlYXRlTWxKb2JGb3JSZWNvbmZpZ3VyYXRpb246IHZpZXdTZXR1cEZvclJlY29uZmlndXJhdGlvbiwKICAgIG9uUmVjcmVhdGVNbEpvYkZvclVwZGF0ZTogdmlld1NldHVwRm9yVXBkYXRlLAogICAgc2V0dXBTdGF0dXM6IHNldHVwU3RhdHVzCiAgfSkpIDogbnVsbCwgaXNGaXJzdFVzZSAmJiAhaGFzUmVzdWx0cyA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9sb2dfYW5hbHlzaXNfcmVzdWx0cy5GaXJzdFVzZUNhbGxvdXQsIG51bGwpKSA6IG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUGFuZWwsIHsKICAgIHBhZGRpbmdTaXplOiAibSIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90b3BfY2F0ZWdvcmllcy5Ub3BDYXRlZ29yaWVzU2VjdGlvbiwgewogICAgYXZhaWxhYmxlRGF0YXNldHM6IGxvZ0VudHJ5Q2F0ZWdvcnlEYXRhc2V0cywKICAgIGlzTG9hZGluZ0RhdGFzZXRzOiBpc0xvYWRpbmdMb2dFbnRyeUNhdGVnb3J5RGF0YXNldHMsCiAgICBpc0xvYWRpbmdUb3BDYXRlZ29yaWVzOiBpc0xvYWRpbmdUb3BMb2dFbnRyeUNhdGVnb3JpZXMsCiAgICBqb2JJZDogam9iSWRzWydsb2ctZW50cnktY2F0ZWdvcmllcy1jb3VudCddLAogICAgb25DaGFuZ2VEYXRhc2V0U2VsZWN0aW9uOiBzZXRDYXRlZ29yeVF1ZXJ5RGF0YXNldHMsCiAgICBvblJlcXVlc3RSZWNyZWF0ZU1sSm9iOiB2aWV3U2V0dXBGb3JSZWNvbmZpZ3VyYXRpb24sCiAgICBzZWxlY3RlZERhdGFzZXRzOiBjYXRlZ29yeVF1ZXJ5RGF0YXNldHMsCiAgICBzb3VyY2VJZDogc291cmNlSWQsCiAgICB0aW1lUmFuZ2U6IGNhdGVnb3J5UXVlcnlUaW1lUmFuZ2UudGltZVJhbmdlLAogICAgdG9wQ2F0ZWdvcmllczogdG9wTG9nRW50cnlDYXRlZ29yaWVzCiAgfSkpKSkpOwp9OwoKZXhwb3J0cy5Mb2dFbnRyeUNhdGVnb3JpZXNSZXN1bHRzQ29udGVudCA9IExvZ0VudHJ5Q2F0ZWdvcmllc1Jlc3VsdHNDb250ZW50OwoKdmFyIHN0cmluZ1RvTnVtZXJpY1RpbWVSYW5nZSA9IGZ1bmN0aW9uIHN0cmluZ1RvTnVtZXJpY1RpbWVSYW5nZSh0aW1lUmFuZ2UpIHsKICByZXR1cm4gewogICAgc3RhcnRUaW1lOiAoMCwgX21vbWVudC5kZWZhdWx0KShfZGF0ZW1hdGguZGVmYXVsdC5wYXJzZSh0aW1lUmFuZ2Uuc3RhcnRUaW1lLCB7CiAgICAgIG1vbWVudEluc3RhbmNlOiBfbW9tZW50LmRlZmF1bHQKICAgIH0pKS52YWx1ZU9mKCksCiAgICBlbmRUaW1lOiAoMCwgX21vbWVudC5kZWZhdWx0KShfZGF0ZW1hdGguZGVmYXVsdC5wYXJzZSh0aW1lUmFuZ2UuZW5kVGltZSwgewogICAgICBtb21lbnRJbnN0YW5jZTogX21vbWVudC5kZWZhdWx0LAogICAgICByb3VuZFVwOiB0cnVlCiAgICB9KSkudmFsdWVPZigpCiAgfTsKfTsgLy8gVGhpcyBpcyBuZWVkZWQgZHVlIHRvIHRoZSBmbGV4LWJhc2lzOiAxMDAlICFpbXBvcnRhbnQ7IHJ1bGUgdGhhdAovLyBraWNrcyBpbiBvbiBzbWFsbCBzY3JlZW5zIHZpYSBtZWRpYSBxdWVyaWVzIGJyZWFraW5nIHdoZW4gdXNpbmcgZGlyZWN0aW9uPSJjb2x1bW4iCgoKdmFyIFJlc3VsdHNDb250ZW50UGFnZSA9ICgwLCBfcHVibGljMi5ldWlTdHlsZWQpKF9ldWkuRXVpUGFnZSkoX3RlbXBsYXRlT2JqZWN0KCkpOwpleHBvcnRzLlJlc3VsdHNDb250ZW50UGFnZSA9IFJlc3VsdHNDb250ZW50UGFnZTsKCnZhciBsb2FkRGF0YUVycm9yVGl0bGUgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suaW5mcmEubG9ncy5sb2dFbnRyeUNhdGVnb3JpZXMubG9hZERhdGFFcnJvclRpdGxlJywgewogIGRlZmF1bHRNZXNzYWdlOiAnRmFpbGVkIHRvIGxvYWQgY2F0ZWdvcnkgZGF0YScKfSk7"},null]}