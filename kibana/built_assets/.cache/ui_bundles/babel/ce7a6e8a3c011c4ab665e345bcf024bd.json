{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/selectors/map_selectors.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/selectors/map_selectors.js","mtime":1589249552488},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldERhdGFSZXF1ZXN0RGVzY3JpcHRvciA9IGdldERhdGFSZXF1ZXN0RGVzY3JpcHRvcjsKZXhwb3J0cy5hcmVMYXllcnNMb2FkZWQgPSBleHBvcnRzLmhhc0RpcnR5U3RhdGUgPSBleHBvcnRzLmdldFF1ZXJ5YWJsZVVuaXF1ZUluZGV4UGF0dGVybklkcyA9IGV4cG9ydHMuZ2V0VW5pcXVlSW5kZXhQYXR0ZXJuSWRzID0gZXhwb3J0cy5nZXRTZWxlY3RlZExheWVySm9pbkRlc2NyaXB0b3JzID0gZXhwb3J0cy5nZXRNYXBDb2xvcnMgPSBleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXIgPSBleHBvcnRzLmdldEhpZGRlbkxheWVySWRzID0gZXhwb3J0cy5nZXRMYXllckxpc3QgPSBleHBvcnRzLmdldERhdGFGaWx0ZXJzID0gZXhwb3J0cy5nZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQgPSBleHBvcnRzLmdldFJlZnJlc2hDb25maWcgPSBleHBvcnRzLmlzRHJhd2luZ0ZpbHRlciA9IGV4cG9ydHMuZ2V0RHJhd1N0YXRlID0gZXhwb3J0cy5pc1VzaW5nU2VhcmNoID0gZXhwb3J0cy5nZXRGaWx0ZXJzID0gZXhwb3J0cy5nZXRRdWVyeSA9IGV4cG9ydHMuZ2V0VGltZUZpbHRlcnMgPSBleHBvcnRzLmdldE1vdXNlQ29vcmRpbmF0ZXMgPSBleHBvcnRzLmdldE1hcENlbnRlciA9IGV4cG9ydHMuZ2V0TWFwWm9vbSA9IGV4cG9ydHMuZ2V0TWFwQnVmZmVyID0gZXhwb3J0cy5nZXRNYXBFeHRlbnQgPSBleHBvcnRzLmlzVmlld0NvbnRyb2xIaWRkZW4gPSBleHBvcnRzLmlzTGF5ZXJDb250cm9sSGlkZGVuID0gZXhwb3J0cy5pc1Rvb2xiYXJPdmVybGF5SGlkZGVuID0gZXhwb3J0cy5pc1Rvb2x0aXBDb250cm9sRGlzYWJsZWQgPSBleHBvcnRzLmlzSW50ZXJhY3RpdmVEaXNhYmxlZCA9IGV4cG9ydHMuZ2V0U2Nyb2xsWm9vbSA9IGV4cG9ydHMuZ2V0V2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0UmF3ID0gZXhwb3J0cy5nZXRMYXllckxpc3RSYXcgPSBleHBvcnRzLmdldFRyYW5zaWVudExheWVySWQgPSBleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXJJZCA9IGV4cG9ydHMuZ2V0R290byA9IGV4cG9ydHMuZ2V0TWFwSW5pdEVycm9yID0gZXhwb3J0cy5nZXRNYXBSZWFkeSA9IGV4cG9ydHMuZ2V0SGFzTG9ja2VkVG9vbHRpcHMgPSBleHBvcnRzLmdldE9wZW5Ub29sdGlwcyA9IHZvaWQgMDsKCnZhciBfcmVzZWxlY3QgPSByZXF1aXJlKCJyZXNlbGVjdCIpOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfdGlsZV9sYXllciA9IHJlcXVpcmUoIi4uL2xheWVycy90aWxlX2xheWVyIik7Cgp2YXIgX3ZlY3Rvcl90aWxlX2xheWVyID0gcmVxdWlyZSgiLi4vbGF5ZXJzL3ZlY3Rvcl90aWxlX2xheWVyIik7Cgp2YXIgX3ZlY3Rvcl9sYXllciA9IHJlcXVpcmUoIi4uL2xheWVycy92ZWN0b3JfbGF5ZXIiKTsKCnZhciBfaGVhdG1hcF9sYXllciA9IHJlcXVpcmUoIi4uL2xheWVycy9oZWF0bWFwX2xheWVyIik7Cgp2YXIgX2JsZW5kZWRfdmVjdG9yX2xheWVyID0gcmVxdWlyZSgiLi4vbGF5ZXJzL2JsZW5kZWRfdmVjdG9yX2xheWVyIik7Cgp2YXIgX2FsbF9zb3VyY2VzID0gcmVxdWlyZSgiLi4vbGF5ZXJzL3NvdXJjZXMvYWxsX3NvdXJjZXMiKTsKCnZhciBfa2liYW5hX3NlcnZpY2VzID0gcmVxdWlyZSgiLi4va2liYW5hX3NlcnZpY2VzIik7Cgp2YXIgX25vbl9zZXJpYWxpemFibGVfaW5zdGFuY2VzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9tYXBzL3B1YmxpYy9yZWR1Y2Vycy9ub25fc2VyaWFsaXphYmxlX2luc3RhbmNlcyIpOwoKdmFyIF91dGlsID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9tYXBzL3B1YmxpYy9yZWR1Y2Vycy91dGlsIik7Cgp2YXIgX2lubmVyX2pvaW4gPSByZXF1aXJlKCIuLi9sYXllcnMvam9pbnMvaW5uZXJfam9pbiIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIGNyZWF0ZUxheWVySW5zdGFuY2UobGF5ZXJEZXNjcmlwdG9yLCBpbnNwZWN0b3JBZGFwdGVycykgewogIHZhciBzb3VyY2UgPSBjcmVhdGVTb3VyY2VJbnN0YW5jZShsYXllckRlc2NyaXB0b3Iuc291cmNlRGVzY3JpcHRvciwgaW5zcGVjdG9yQWRhcHRlcnMpOwoKICBzd2l0Y2ggKGxheWVyRGVzY3JpcHRvci50eXBlKSB7CiAgICBjYXNlIF90aWxlX2xheWVyLlRpbGVMYXllci50eXBlOgogICAgICByZXR1cm4gbmV3IF90aWxlX2xheWVyLlRpbGVMYXllcih7CiAgICAgICAgbGF5ZXJEZXNjcmlwdG9yOiBsYXllckRlc2NyaXB0b3IsCiAgICAgICAgc291cmNlOiBzb3VyY2UKICAgICAgfSk7CgogICAgY2FzZSBfdmVjdG9yX2xheWVyLlZlY3RvckxheWVyLnR5cGU6CiAgICAgIHZhciBqb2lucyA9IFtdOwoKICAgICAgaWYgKGxheWVyRGVzY3JpcHRvci5qb2lucykgewogICAgICAgIGxheWVyRGVzY3JpcHRvci5qb2lucy5mb3JFYWNoKGZ1bmN0aW9uIChqb2luRGVzY3JpcHRvcikgewogICAgICAgICAgdmFyIGpvaW4gPSBuZXcgX2lubmVyX2pvaW4uSW5uZXJKb2luKGpvaW5EZXNjcmlwdG9yLCBzb3VyY2UpOwogICAgICAgICAgam9pbnMucHVzaChqb2luKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBfdmVjdG9yX2xheWVyLlZlY3RvckxheWVyKHsKICAgICAgICBsYXllckRlc2NyaXB0b3I6IGxheWVyRGVzY3JpcHRvciwKICAgICAgICBzb3VyY2U6IHNvdXJjZSwKICAgICAgICBqb2luczogam9pbnMKICAgICAgfSk7CgogICAgY2FzZSBfdmVjdG9yX3RpbGVfbGF5ZXIuVmVjdG9yVGlsZUxheWVyLnR5cGU6CiAgICAgIHJldHVybiBuZXcgX3ZlY3Rvcl90aWxlX2xheWVyLlZlY3RvclRpbGVMYXllcih7CiAgICAgICAgbGF5ZXJEZXNjcmlwdG9yOiBsYXllckRlc2NyaXB0b3IsCiAgICAgICAgc291cmNlOiBzb3VyY2UKICAgICAgfSk7CgogICAgY2FzZSBfaGVhdG1hcF9sYXllci5IZWF0bWFwTGF5ZXIudHlwZToKICAgICAgcmV0dXJuIG5ldyBfaGVhdG1hcF9sYXllci5IZWF0bWFwTGF5ZXIoewogICAgICAgIGxheWVyRGVzY3JpcHRvcjogbGF5ZXJEZXNjcmlwdG9yLAogICAgICAgIHNvdXJjZTogc291cmNlCiAgICAgIH0pOwoKICAgIGNhc2UgX2JsZW5kZWRfdmVjdG9yX2xheWVyLkJsZW5kZWRWZWN0b3JMYXllci50eXBlOgogICAgICByZXR1cm4gbmV3IF9ibGVuZGVkX3ZlY3Rvcl9sYXllci5CbGVuZGVkVmVjdG9yTGF5ZXIoewogICAgICAgIGxheWVyRGVzY3JpcHRvcjogbGF5ZXJEZXNjcmlwdG9yLAogICAgICAgIHNvdXJjZTogc291cmNlCiAgICAgIH0pOwoKICAgIGRlZmF1bHQ6CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIGxheWVyVHlwZSAiLmNvbmNhdChsYXllckRlc2NyaXB0b3IudHlwZSkpOwogIH0KfQoKZnVuY3Rpb24gY3JlYXRlU291cmNlSW5zdGFuY2Uoc291cmNlRGVzY3JpcHRvciwgaW5zcGVjdG9yQWRhcHRlcnMpIHsKICB2YXIgU291cmNlID0gX2FsbF9zb3VyY2VzLkFMTF9TT1VSQ0VTLmZpbmQoZnVuY3Rpb24gKFNvdXJjZSkgewogICAgcmV0dXJuIFNvdXJjZS50eXBlID09PSBzb3VyY2VEZXNjcmlwdG9yLnR5cGU7CiAgfSk7CgogIGlmICghU291cmNlKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBzb3VyY2VUeXBlICIuY29uY2F0KHNvdXJjZURlc2NyaXB0b3IudHlwZSkpOwogIH0KCiAgcmV0dXJuIG5ldyBTb3VyY2Uoc291cmNlRGVzY3JpcHRvciwgaW5zcGVjdG9yQWRhcHRlcnMpOwp9Cgp2YXIgZ2V0T3BlblRvb2x0aXBzID0gZnVuY3Rpb24gZ2V0T3BlblRvb2x0aXBzKF9yZWYpIHsKICB2YXIgbWFwID0gX3JlZi5tYXA7CiAgcmV0dXJuIG1hcCAmJiBtYXAub3BlblRvb2x0aXBzID8gbWFwLm9wZW5Ub29sdGlwcyA6IFtdOwp9OwoKZXhwb3J0cy5nZXRPcGVuVG9vbHRpcHMgPSBnZXRPcGVuVG9vbHRpcHM7Cgp2YXIgZ2V0SGFzTG9ja2VkVG9vbHRpcHMgPSBmdW5jdGlvbiBnZXRIYXNMb2NrZWRUb29sdGlwcyhzdGF0ZSkgewogIHJldHVybiBnZXRPcGVuVG9vbHRpcHMoc3RhdGUpLnNvbWUoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgaXNMb2NrZWQgPSBfcmVmMi5pc0xvY2tlZDsKICAgIHJldHVybiBpc0xvY2tlZDsKICB9KTsKfTsKCmV4cG9ydHMuZ2V0SGFzTG9ja2VkVG9vbHRpcHMgPSBnZXRIYXNMb2NrZWRUb29sdGlwczsKCnZhciBnZXRNYXBSZWFkeSA9IGZ1bmN0aW9uIGdldE1hcFJlYWR5KF9yZWYzKSB7CiAgdmFyIG1hcCA9IF9yZWYzLm1hcDsKICByZXR1cm4gbWFwICYmIG1hcC5yZWFkeTsKfTsKCmV4cG9ydHMuZ2V0TWFwUmVhZHkgPSBnZXRNYXBSZWFkeTsKCnZhciBnZXRNYXBJbml0RXJyb3IgPSBmdW5jdGlvbiBnZXRNYXBJbml0RXJyb3IoX3JlZjQpIHsKICB2YXIgbWFwID0gX3JlZjQubWFwOwogIHJldHVybiBtYXAubWFwSW5pdEVycm9yOwp9OwoKZXhwb3J0cy5nZXRNYXBJbml0RXJyb3IgPSBnZXRNYXBJbml0RXJyb3I7Cgp2YXIgZ2V0R290byA9IGZ1bmN0aW9uIGdldEdvdG8oX3JlZjUpIHsKICB2YXIgbWFwID0gX3JlZjUubWFwOwogIHJldHVybiBtYXAgJiYgbWFwLmdvdG87Cn07CgpleHBvcnRzLmdldEdvdG8gPSBnZXRHb3RvOwoKdmFyIGdldFNlbGVjdGVkTGF5ZXJJZCA9IGZ1bmN0aW9uIGdldFNlbGVjdGVkTGF5ZXJJZChfcmVmNikgewogIHZhciBtYXAgPSBfcmVmNi5tYXA7CiAgcmV0dXJuICFtYXAuc2VsZWN0ZWRMYXllcklkIHx8ICFtYXAubGF5ZXJMaXN0ID8gbnVsbCA6IG1hcC5zZWxlY3RlZExheWVySWQ7Cn07CgpleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXJJZCA9IGdldFNlbGVjdGVkTGF5ZXJJZDsKCnZhciBnZXRUcmFuc2llbnRMYXllcklkID0gZnVuY3Rpb24gZ2V0VHJhbnNpZW50TGF5ZXJJZChfcmVmNykgewogIHZhciBtYXAgPSBfcmVmNy5tYXA7CiAgcmV0dXJuIG1hcC5fX3RyYW5zaWVudExheWVySWQ7Cn07CgpleHBvcnRzLmdldFRyYW5zaWVudExheWVySWQgPSBnZXRUcmFuc2llbnRMYXllcklkOwoKdmFyIGdldExheWVyTGlzdFJhdyA9IGZ1bmN0aW9uIGdldExheWVyTGlzdFJhdyhfcmVmOCkgewogIHZhciBtYXAgPSBfcmVmOC5tYXA7CiAgcmV0dXJuIG1hcC5sYXllckxpc3QgPyBtYXAubGF5ZXJMaXN0IDogW107Cn07CgpleHBvcnRzLmdldExheWVyTGlzdFJhdyA9IGdldExheWVyTGlzdFJhdzsKCnZhciBnZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcgPSBmdW5jdGlvbiBnZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcoX3JlZjkpIHsKICB2YXIgbWFwID0gX3JlZjkubWFwOwogIHJldHVybiBtYXAud2FpdGluZ0Zvck1hcFJlYWR5TGF5ZXJMaXN0ID8gbWFwLndhaXRpbmdGb3JNYXBSZWFkeUxheWVyTGlzdCA6IFtdOwp9OwoKZXhwb3J0cy5nZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcgPSBnZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXc7Cgp2YXIgZ2V0U2Nyb2xsWm9vbSA9IGZ1bmN0aW9uIGdldFNjcm9sbFpvb20oX3JlZjEwKSB7CiAgdmFyIG1hcCA9IF9yZWYxMC5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5zY3JvbGxab29tOwp9OwoKZXhwb3J0cy5nZXRTY3JvbGxab29tID0gZ2V0U2Nyb2xsWm9vbTsKCnZhciBpc0ludGVyYWN0aXZlRGlzYWJsZWQgPSBmdW5jdGlvbiBpc0ludGVyYWN0aXZlRGlzYWJsZWQoX3JlZjExKSB7CiAgdmFyIG1hcCA9IF9yZWYxMS5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5kaXNhYmxlSW50ZXJhY3RpdmU7Cn07CgpleHBvcnRzLmlzSW50ZXJhY3RpdmVEaXNhYmxlZCA9IGlzSW50ZXJhY3RpdmVEaXNhYmxlZDsKCnZhciBpc1Rvb2x0aXBDb250cm9sRGlzYWJsZWQgPSBmdW5jdGlvbiBpc1Rvb2x0aXBDb250cm9sRGlzYWJsZWQoX3JlZjEyKSB7CiAgdmFyIG1hcCA9IF9yZWYxMi5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5kaXNhYmxlVG9vbHRpcENvbnRyb2w7Cn07CgpleHBvcnRzLmlzVG9vbHRpcENvbnRyb2xEaXNhYmxlZCA9IGlzVG9vbHRpcENvbnRyb2xEaXNhYmxlZDsKCnZhciBpc1Rvb2xiYXJPdmVybGF5SGlkZGVuID0gZnVuY3Rpb24gaXNUb29sYmFyT3ZlcmxheUhpZGRlbihfcmVmMTMpIHsKICB2YXIgbWFwID0gX3JlZjEzLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmhpZGVUb29sYmFyT3ZlcmxheTsKfTsKCmV4cG9ydHMuaXNUb29sYmFyT3ZlcmxheUhpZGRlbiA9IGlzVG9vbGJhck92ZXJsYXlIaWRkZW47Cgp2YXIgaXNMYXllckNvbnRyb2xIaWRkZW4gPSBmdW5jdGlvbiBpc0xheWVyQ29udHJvbEhpZGRlbihfcmVmMTQpIHsKICB2YXIgbWFwID0gX3JlZjE0Lm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmhpZGVMYXllckNvbnRyb2w7Cn07CgpleHBvcnRzLmlzTGF5ZXJDb250cm9sSGlkZGVuID0gaXNMYXllckNvbnRyb2xIaWRkZW47Cgp2YXIgaXNWaWV3Q29udHJvbEhpZGRlbiA9IGZ1bmN0aW9uIGlzVmlld0NvbnRyb2xIaWRkZW4oX3JlZjE1KSB7CiAgdmFyIG1hcCA9IF9yZWYxNS5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5oaWRlVmlld0NvbnRyb2w7Cn07CgpleHBvcnRzLmlzVmlld0NvbnRyb2xIaWRkZW4gPSBpc1ZpZXdDb250cm9sSGlkZGVuOwoKdmFyIGdldE1hcEV4dGVudCA9IGZ1bmN0aW9uIGdldE1hcEV4dGVudChfcmVmMTYpIHsKICB2YXIgbWFwID0gX3JlZjE2Lm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmV4dGVudCA/IG1hcC5tYXBTdGF0ZS5leHRlbnQgOiB7fTsKfTsKCmV4cG9ydHMuZ2V0TWFwRXh0ZW50ID0gZ2V0TWFwRXh0ZW50OwoKdmFyIGdldE1hcEJ1ZmZlciA9IGZ1bmN0aW9uIGdldE1hcEJ1ZmZlcihfcmVmMTcpIHsKICB2YXIgbWFwID0gX3JlZjE3Lm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmJ1ZmZlciA/IG1hcC5tYXBTdGF0ZS5idWZmZXIgOiB7fTsKfTsKCmV4cG9ydHMuZ2V0TWFwQnVmZmVyID0gZ2V0TWFwQnVmZmVyOwoKdmFyIGdldE1hcFpvb20gPSBmdW5jdGlvbiBnZXRNYXBab29tKF9yZWYxOCkgewogIHZhciBtYXAgPSBfcmVmMTgubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuem9vbSA/IG1hcC5tYXBTdGF0ZS56b29tIDogMDsKfTsKCmV4cG9ydHMuZ2V0TWFwWm9vbSA9IGdldE1hcFpvb207Cgp2YXIgZ2V0TWFwQ2VudGVyID0gZnVuY3Rpb24gZ2V0TWFwQ2VudGVyKF9yZWYxOSkgewogIHZhciBtYXAgPSBfcmVmMTkubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuY2VudGVyID8gbWFwLm1hcFN0YXRlLmNlbnRlciA6IHsKICAgIGxhdDogMCwKICAgIGxvbjogMAogIH07Cn07CgpleHBvcnRzLmdldE1hcENlbnRlciA9IGdldE1hcENlbnRlcjsKCnZhciBnZXRNb3VzZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gZ2V0TW91c2VDb29yZGluYXRlcyhfcmVmMjApIHsKICB2YXIgbWFwID0gX3JlZjIwLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLm1vdXNlQ29vcmRpbmF0ZXM7Cn07CgpleHBvcnRzLmdldE1vdXNlQ29vcmRpbmF0ZXMgPSBnZXRNb3VzZUNvb3JkaW5hdGVzOwoKdmFyIGdldFRpbWVGaWx0ZXJzID0gZnVuY3Rpb24gZ2V0VGltZUZpbHRlcnMoX3JlZjIxKSB7CiAgdmFyIG1hcCA9IF9yZWYyMS5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS50aW1lRmlsdGVycyA/IG1hcC5tYXBTdGF0ZS50aW1lRmlsdGVycyA6ICgwLCBfa2liYW5hX3NlcnZpY2VzLmdldFRpbWVGaWx0ZXIpKCkuZ2V0VGltZSgpOwp9OwoKZXhwb3J0cy5nZXRUaW1lRmlsdGVycyA9IGdldFRpbWVGaWx0ZXJzOwoKdmFyIGdldFF1ZXJ5ID0gZnVuY3Rpb24gZ2V0UXVlcnkoX3JlZjIyKSB7CiAgdmFyIG1hcCA9IF9yZWYyMi5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5xdWVyeTsKfTsKCmV4cG9ydHMuZ2V0UXVlcnkgPSBnZXRRdWVyeTsKCnZhciBnZXRGaWx0ZXJzID0gZnVuY3Rpb24gZ2V0RmlsdGVycyhfcmVmMjMpIHsKICB2YXIgbWFwID0gX3JlZjIzLm1hcDsKICByZXR1cm4gbWFwLm1hcFN0YXRlLmZpbHRlcnM7Cn07CgpleHBvcnRzLmdldEZpbHRlcnMgPSBnZXRGaWx0ZXJzOwoKdmFyIGlzVXNpbmdTZWFyY2ggPSBmdW5jdGlvbiBpc1VzaW5nU2VhcmNoKHN0YXRlKSB7CiAgdmFyIGZpbHRlcnMgPSBnZXRGaWx0ZXJzKHN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGZpbHRlcikgewogICAgcmV0dXJuICFmaWx0ZXIubWV0YS5kaXNhYmxlZDsKICB9KTsKCiAgdmFyIHF1ZXJ5U3RyaW5nID0gX2xvZGFzaC5kZWZhdWx0LmdldChnZXRRdWVyeShzdGF0ZSksICdxdWVyeScsICcnKTsKCiAgcmV0dXJuIGZpbHRlcnMubGVuZ3RoIHx8IHF1ZXJ5U3RyaW5nLmxlbmd0aDsKfTsKCmV4cG9ydHMuaXNVc2luZ1NlYXJjaCA9IGlzVXNpbmdTZWFyY2g7Cgp2YXIgZ2V0RHJhd1N0YXRlID0gZnVuY3Rpb24gZ2V0RHJhd1N0YXRlKF9yZWYyNCkgewogIHZhciBtYXAgPSBfcmVmMjQubWFwOwogIHJldHVybiBtYXAubWFwU3RhdGUuZHJhd1N0YXRlOwp9OwoKZXhwb3J0cy5nZXREcmF3U3RhdGUgPSBnZXREcmF3U3RhdGU7Cgp2YXIgaXNEcmF3aW5nRmlsdGVyID0gZnVuY3Rpb24gaXNEcmF3aW5nRmlsdGVyKF9yZWYyNSkgewogIHZhciBtYXAgPSBfcmVmMjUubWFwOwogIHJldHVybiAhIW1hcC5tYXBTdGF0ZS5kcmF3U3RhdGU7Cn07CgpleHBvcnRzLmlzRHJhd2luZ0ZpbHRlciA9IGlzRHJhd2luZ0ZpbHRlcjsKCnZhciBnZXRSZWZyZXNoQ29uZmlnID0gZnVuY3Rpb24gZ2V0UmVmcmVzaENvbmZpZyhfcmVmMjYpIHsKICB2YXIgbWFwID0gX3JlZjI2Lm1hcDsKCiAgaWYgKG1hcC5tYXBTdGF0ZS5yZWZyZXNoQ29uZmlnKSB7CiAgICByZXR1cm4gbWFwLm1hcFN0YXRlLnJlZnJlc2hDb25maWc7CiAgfQoKICB2YXIgcmVmcmVzaEludGVydmFsID0gKDAsIF9raWJhbmFfc2VydmljZXMuZ2V0VGltZUZpbHRlcikoKS5nZXRSZWZyZXNoSW50ZXJ2YWwoKTsKICByZXR1cm4gewogICAgaXNQYXVzZWQ6IHJlZnJlc2hJbnRlcnZhbC5wYXVzZSwKICAgIGludGVydmFsOiByZWZyZXNoSW50ZXJ2YWwudmFsdWUKICB9Owp9OwoKZXhwb3J0cy5nZXRSZWZyZXNoQ29uZmlnID0gZ2V0UmVmcmVzaENvbmZpZzsKCnZhciBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQgPSBmdW5jdGlvbiBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQoX3JlZjI3KSB7CiAgdmFyIG1hcCA9IF9yZWYyNy5tYXA7CiAgcmV0dXJuIG1hcC5tYXBTdGF0ZS5yZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQ7Cn07CgpleHBvcnRzLmdldFJlZnJlc2hUaW1lckxhc3RUcmlnZ2VyZWRBdCA9IGdldFJlZnJlc2hUaW1lckxhc3RUcmlnZ2VyZWRBdDsKCmZ1bmN0aW9uIGdldExheWVyRGVzY3JpcHRvcigpIHsKICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogIHZhciBsYXllcklkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgdmFyIGxheWVyTGlzdFJhdyA9IGdldExheWVyTGlzdFJhdyhzdGF0ZSk7CiAgcmV0dXJuIGxheWVyTGlzdFJhdy5maW5kKGZ1bmN0aW9uIChsYXllcikgewogICAgcmV0dXJuIGxheWVyLmlkID09PSBsYXllcklkOwogIH0pOwp9CgpmdW5jdGlvbiBnZXREYXRhUmVxdWVzdERlc2NyaXB0b3IoKSB7CiAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgbGF5ZXJJZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogIHZhciBkYXRhSWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICB2YXIgbGF5ZXJEZXNjcmlwdG9yID0gZ2V0TGF5ZXJEZXNjcmlwdG9yKHN0YXRlLCBsYXllcklkKTsKCiAgaWYgKCFsYXllckRlc2NyaXB0b3IgfHwgIWxheWVyRGVzY3JpcHRvci5fX2RhdGFSZXF1ZXN0cykgewogICAgcmV0dXJuOwogIH0KCiAgcmV0dXJuIF9sb2Rhc2guZGVmYXVsdC5nZXQobGF5ZXJEZXNjcmlwdG9yLCAnX19kYXRhUmVxdWVzdHMnLCBbXSkuZmluZChmdW5jdGlvbiAoZGF0YVJlcXVlc3QpIHsKICAgIHJldHVybiBkYXRhUmVxdWVzdC5kYXRhSWQgPT09IGRhdGFJZDsKICB9KTsKfQoKdmFyIGdldERhdGFGaWx0ZXJzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TWFwRXh0ZW50LCBnZXRNYXBCdWZmZXIsIGdldE1hcFpvb20sIGdldFRpbWVGaWx0ZXJzLCBnZXRSZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsIGdldFF1ZXJ5LCBnZXRGaWx0ZXJzLCBmdW5jdGlvbiAobWFwRXh0ZW50LCBtYXBCdWZmZXIsIG1hcFpvb20sIHRpbWVGaWx0ZXJzLCByZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsIHF1ZXJ5LCBmaWx0ZXJzKSB7CiAgcmV0dXJuIHsKICAgIGV4dGVudDogbWFwRXh0ZW50LAogICAgYnVmZmVyOiBtYXBCdWZmZXIsCiAgICB6b29tOiBtYXBab29tLAogICAgdGltZUZpbHRlcnM6IHRpbWVGaWx0ZXJzLAogICAgcmVmcmVzaFRpbWVyTGFzdFRyaWdnZXJlZEF0OiByZWZyZXNoVGltZXJMYXN0VHJpZ2dlcmVkQXQsCiAgICBxdWVyeTogcXVlcnksCiAgICBmaWx0ZXJzOiBmaWx0ZXJzCiAgfTsKfSk7CmV4cG9ydHMuZ2V0RGF0YUZpbHRlcnMgPSBnZXREYXRhRmlsdGVyczsKdmFyIGdldExheWVyTGlzdCA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldExheWVyTGlzdFJhdywgX25vbl9zZXJpYWxpemFibGVfaW5zdGFuY2VzLmdldEluc3BlY3RvckFkYXB0ZXJzLCBmdW5jdGlvbiAobGF5ZXJEZXNjcmlwdG9yTGlzdCwgaW5zcGVjdG9yQWRhcHRlcnMpIHsKICByZXR1cm4gbGF5ZXJEZXNjcmlwdG9yTGlzdC5tYXAoZnVuY3Rpb24gKGxheWVyRGVzY3JpcHRvcikgewogICAgcmV0dXJuIGNyZWF0ZUxheWVySW5zdGFuY2UobGF5ZXJEZXNjcmlwdG9yLCBpbnNwZWN0b3JBZGFwdGVycyk7CiAgfSk7Cn0pOwpleHBvcnRzLmdldExheWVyTGlzdCA9IGdldExheWVyTGlzdDsKdmFyIGdldEhpZGRlbkxheWVySWRzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0UmF3LCBmdW5jdGlvbiAobGF5ZXJzKSB7CiAgcmV0dXJuIGxheWVycy5maWx0ZXIoZnVuY3Rpb24gKGxheWVyKSB7CiAgICByZXR1cm4gIWxheWVyLnZpc2libGU7CiAgfSkubWFwKGZ1bmN0aW9uIChsYXllcikgewogICAgcmV0dXJuIGxheWVyLmlkOwogIH0pOwp9KTsKZXhwb3J0cy5nZXRIaWRkZW5MYXllcklkcyA9IGdldEhpZGRlbkxheWVySWRzOwp2YXIgZ2V0U2VsZWN0ZWRMYXllciA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldFNlbGVjdGVkTGF5ZXJJZCwgZ2V0TGF5ZXJMaXN0LCBmdW5jdGlvbiAoc2VsZWN0ZWRMYXllcklkLCBsYXllckxpc3QpIHsKICByZXR1cm4gbGF5ZXJMaXN0LmZpbmQoZnVuY3Rpb24gKGxheWVyKSB7CiAgICByZXR1cm4gbGF5ZXIuZ2V0SWQoKSA9PT0gc2VsZWN0ZWRMYXllcklkOwogIH0pOwp9KTsKZXhwb3J0cy5nZXRTZWxlY3RlZExheWVyID0gZ2V0U2VsZWN0ZWRMYXllcjsKdmFyIGdldE1hcENvbG9ycyA9ICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGdldFRyYW5zaWVudExheWVySWQsIGdldExheWVyTGlzdFJhdywgZnVuY3Rpb24gKHRyYW5zaWVudExheWVySWQsIGxheWVyTGlzdCkgewogIHJldHVybiBsYXllckxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2N1LCBsYXllcikgewogICAgaWYgKGxheWVyLmlkID09PSB0cmFuc2llbnRMYXllcklkKSB7CiAgICAgIHJldHVybiBhY2N1OwogICAgfQoKICAgIHZhciBjb2xvciA9IF9sb2Rhc2guZGVmYXVsdC5nZXQobGF5ZXIsICdzdHlsZS5wcm9wZXJ0aWVzLmZpbGxDb2xvci5vcHRpb25zLmNvbG9yJyk7CgogICAgaWYgKGNvbG9yKSBhY2N1LnB1c2goY29sb3IpOwogICAgcmV0dXJuIGFjY3U7CiAgfSwgW10pOwp9KTsKZXhwb3J0cy5nZXRNYXBDb2xvcnMgPSBnZXRNYXBDb2xvcnM7CnZhciBnZXRTZWxlY3RlZExheWVySm9pbkRlc2NyaXB0b3JzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0U2VsZWN0ZWRMYXllciwgZnVuY3Rpb24gKHNlbGVjdGVkTGF5ZXIpIHsKICByZXR1cm4gc2VsZWN0ZWRMYXllci5nZXRKb2lucygpLm1hcChmdW5jdGlvbiAoam9pbikgewogICAgcmV0dXJuIGpvaW4udG9EZXNjcmlwdG9yKCk7CiAgfSk7Cn0pOyAvLyBHZXQgbGlzdCBvZiB1bmlxdWUgaW5kZXggcGF0dGVybnMgdXNlZCBieSBhbGwgbGF5ZXJzCgpleHBvcnRzLmdldFNlbGVjdGVkTGF5ZXJKb2luRGVzY3JpcHRvcnMgPSBnZXRTZWxlY3RlZExheWVySm9pbkRlc2NyaXB0b3JzOwp2YXIgZ2V0VW5pcXVlSW5kZXhQYXR0ZXJuSWRzID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0LCBmdW5jdGlvbiAobGF5ZXJMaXN0KSB7CiAgdmFyIGluZGV4UGF0dGVybklkcyA9IFtdOwogIGxheWVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikgewogICAgaW5kZXhQYXR0ZXJuSWRzLnB1c2guYXBwbHkoaW5kZXhQYXR0ZXJuSWRzLCBfdG9Db25zdW1hYmxlQXJyYXkobGF5ZXIuZ2V0SW5kZXhQYXR0ZXJuSWRzKCkpKTsKICB9KTsKICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LnVuaXEoaW5kZXhQYXR0ZXJuSWRzKS5zb3J0KCk7Cn0pOyAvLyBHZXQgbGlzdCBvZiB1bmlxdWUgaW5kZXggcGF0dGVybnMsIGV4Y2x1ZGluZyBpbmRleCBwYXR0ZXJucyBmcm9tIGxheWVycyB0aGF0IGRpc2FibGUgYXBwbHlHbG9iYWxRdWVyeQoKZXhwb3J0cy5nZXRVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSBnZXRVbmlxdWVJbmRleFBhdHRlcm5JZHM7CnZhciBnZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShnZXRMYXllckxpc3QsIGZ1bmN0aW9uIChsYXllckxpc3QpIHsKICB2YXIgaW5kZXhQYXR0ZXJuSWRzID0gW107CiAgbGF5ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7CiAgICBpbmRleFBhdHRlcm5JZHMucHVzaC5hcHBseShpbmRleFBhdHRlcm5JZHMsIF90b0NvbnN1bWFibGVBcnJheShsYXllci5nZXRRdWVyeWFibGVJbmRleFBhdHRlcm5JZHMoKSkpOwogIH0pOwogIHJldHVybiBfbG9kYXNoLmRlZmF1bHQudW5pcShpbmRleFBhdHRlcm5JZHMpOwp9KTsKZXhwb3J0cy5nZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHMgPSBnZXRRdWVyeWFibGVVbmlxdWVJbmRleFBhdHRlcm5JZHM7CnZhciBoYXNEaXJ0eVN0YXRlID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0UmF3LCBnZXRUcmFuc2llbnRMYXllcklkLCBmdW5jdGlvbiAobGF5ZXJMaXN0UmF3LCB0cmFuc2llbnRMYXllcklkKSB7CiAgaWYgKHRyYW5zaWVudExheWVySWQpIHsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgcmV0dXJuIGxheWVyTGlzdFJhdy5zb21lKGZ1bmN0aW9uIChsYXllckRlc2NyaXB0b3IpIHsKICAgIHZhciB0cmFja2VkU3RhdGUgPSBsYXllckRlc2NyaXB0b3JbX3V0aWwuVFJBQ0tFRF9MQVlFUl9ERVNDUklQVE9SXTsKCiAgICBpZiAoIXRyYWNrZWRTdGF0ZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgdmFyIGN1cnJlbnRTdGF0ZSA9ICgwLCBfdXRpbC5jb3B5UGVyc2lzdGVudFN0YXRlKShsYXllckRlc2NyaXB0b3IpOwogICAgcmV0dXJuICFfbG9kYXNoLmRlZmF1bHQuaXNFcXVhbChjdXJyZW50U3RhdGUsIHRyYWNrZWRTdGF0ZSk7CiAgfSk7Cn0pOwpleHBvcnRzLmhhc0RpcnR5U3RhdGUgPSBoYXNEaXJ0eVN0YXRlOwp2YXIgYXJlTGF5ZXJzTG9hZGVkID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoZ2V0TGF5ZXJMaXN0LCBnZXRXYWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3RSYXcsIGdldE1hcFpvb20sIGZ1bmN0aW9uIChsYXllckxpc3QsIHdhaXRpbmdGb3JNYXBSZWFkeUxheWVyTGlzdCwgem9vbSkgewogIGlmICh3YWl0aW5nRm9yTWFwUmVhZHlMYXllckxpc3QubGVuZ3RoKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVyTGlzdC5sZW5ndGg7IGkrKykgewogICAgdmFyIGxheWVyID0gbGF5ZXJMaXN0W2ldOwoKICAgIGlmIChsYXllci5pc1Zpc2libGUoKSAmJiBsYXllci5zaG93QXRab29tTGV2ZWwoem9vbSkgJiYgIWxheWVyLmlzRGF0YUxvYWRlZCgpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiB0cnVlOwp9KTsKZXhwb3J0cy5hcmVMYXllcnNMb2FkZWQgPSBhcmVMYXllcnNMb2FkZWQ7"},null]}