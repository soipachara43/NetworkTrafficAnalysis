{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/input_control_vis/public/control/list_control_factory.js","dependencies":[{"path":"src/legacy/core_plugins/input_control_vis/public/control/list_control_factory.js","mtime":1589249549634},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMubGlzdENvbnRyb2xGYWN0b3J5ID0gbGlzdENvbnRyb2xGYWN0b3J5OwpleHBvcnRzLkxpc3RDb250cm9sID0gdm9pZCAwOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9jb250cm9sID0gcmVxdWlyZSgiLi9jb250cm9sIik7Cgp2YXIgX3BocmFzZV9maWx0ZXJfbWFuYWdlciA9IHJlcXVpcmUoIi4vZmlsdGVyX21hbmFnZXIvcGhyYXNlX2ZpbHRlcl9tYW5hZ2VyIik7Cgp2YXIgX2NyZWF0ZV9zZWFyY2hfc291cmNlID0gcmVxdWlyZSgiLi9jcmVhdGVfc2VhcmNoX3NvdXJjZSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBfdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpID09PSAic3ltYm9sIikgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9IGVsc2UgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IF90eXBlb2YyKG9iaik7CiAgICB9OwogIH0KCiAgcmV0dXJuIF90eXBlb2Yob2JqKTsKfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgewogIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsKICAgIHJldHVybiBjYWxsOwogIH0KCiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgewogIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogIH0KCiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogewogICAgICB2YWx1ZTogc3ViQ2xhc3MsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0KICB9KTsKICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsKICAgIG8uX19wcm90b19fID0gcDsKICAgIHJldHVybiBvOwogIH07CgogIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBnZXRFc2NhcGVkUXVlcnkoKSB7CiAgdmFyIHF1ZXJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsgLy8gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9jdXJyZW50L3F1ZXJ5LWRzbC1yZWdleHAtcXVlcnkuaHRtbCNfc3RhbmRhcmRfb3BlcmF0b3JzCgogIHJldHVybiBxdWVyeS5yZXBsYWNlKC9bLj8rKnx7fVtcXSgpIlxcI0AmPD5+XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHsKICAgIHJldHVybiAiXFwiLmNvbmNhdChtYXRjaCk7CiAgfSk7Cn0KCnZhciB0ZXJtc0FnZyA9IGZ1bmN0aW9uIHRlcm1zQWdnKF9yZWYpIHsKICB2YXIgZmllbGQgPSBfcmVmLmZpZWxkLAogICAgICBzaXplID0gX3JlZi5zaXplLAogICAgICBkaXJlY3Rpb24gPSBfcmVmLmRpcmVjdGlvbiwKICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5OwogIHZhciB0ZXJtcyA9IHsKICAgIG9yZGVyOiB7CiAgICAgIF9jb3VudDogZGlyZWN0aW9uCiAgICB9CiAgfTsKCiAgaWYgKHNpemUpIHsKICAgIHRlcm1zLnNpemUgPSBzaXplIDwgMSA/IDEgOiBzaXplOwogIH0KCiAgaWYgKGZpZWxkID09PSBudWxsIHx8IGZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWVsZC5zY3JpcHRlZCkgewogICAgdGVybXMuc2NyaXB0ID0gewogICAgICBzb3VyY2U6IGZpZWxkLnNjcmlwdCwKICAgICAgbGFuZzogZmllbGQubGFuZwogICAgfTsKICAgIHRlcm1zLnZhbHVlX3R5cGUgPSBmaWVsZC50eXBlID09PSAnbnVtYmVyJyA/ICdmbG9hdCcgOiBmaWVsZC50eXBlOwogIH0gZWxzZSB7CiAgICB0ZXJtcy5maWVsZCA9IGZpZWxkID09PSBudWxsIHx8IGZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWVsZC5uYW1lOwogIH0KCiAgaWYgKHF1ZXJ5KSB7CiAgICB0ZXJtcy5pbmNsdWRlID0gIi4qIi5jb25jYXQoZ2V0RXNjYXBlZFF1ZXJ5KHF1ZXJ5KSwgIi4qIik7CiAgfQoKICByZXR1cm4gewogICAgdGVybXNBZ2c6IHsKICAgICAgdGVybXM6IHRlcm1zCiAgICB9CiAgfTsKfTsKCnZhciBMaXN0Q29udHJvbCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db250cm9sKSB7CiAgX2luaGVyaXRzKExpc3RDb250cm9sLCBfQ29udHJvbCk7CgogIGZ1bmN0aW9uIExpc3RDb250cm9sKGNvbnRyb2xQYXJhbXMsIGZpbHRlck1hbmFnZXIsIHVzZVRpbWVGaWx0ZXIsIFNlYXJjaFNvdXJjZSwgZGVwcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0Q29udHJvbCk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTGlzdENvbnRyb2wpLmNhbGwodGhpcywgY29udHJvbFBhcmFtcywgZmlsdGVyTWFuYWdlciwgdXNlVGltZUZpbHRlciwgU2VhcmNoU291cmNlKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0SW5qZWN0ZWRWYXIiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRpbWVmaWx0ZXIiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImFib3J0Q29udHJvbGxlciIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibGFzdEFuY2VzdG9yVmFsdWVzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJsYXN0UXVlcnkiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInBhcnRpYWxSZXN1bHRzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzZWxlY3RPcHRpb25zIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJmZXRjaCIsCiAgICAvKiNfX1BVUkVfXyovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocXVlcnkpIHsKICAgICAgICB2YXIgaW5kZXhQYXR0ZXJuLCBhbmNlc3RvckZpbHRlcnMsIGFuY2VzdG9yVmFsdWVzLCBmaWVsZE5hbWUsIGluaXRpYWxTZWFyY2hTb3VyY2VTdGF0ZSwgYWdncywgc2VhcmNoU291cmNlLCBhYm9ydFNpZ25hbCwgcmVzcCwgc2VsZWN0T3B0aW9uczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBBYm9ydCBhbnkgaW4tcHJvZ3Jlc3MgZmV0Y2gKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hYm9ydENvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogICAgICAgICAgICAgICAgaW5kZXhQYXR0ZXJuID0gX3RoaXMuZmlsdGVyTWFuYWdlci5nZXRJbmRleFBhdHRlcm4oKTsKCiAgICAgICAgICAgICAgICBpZiAoaW5kZXhQYXR0ZXJuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5kaXNhYmxlKCgwLCBfY29udHJvbC5ub0luZGV4UGF0dGVybk1zZykoX3RoaXMuY29udHJvbFBhcmFtcy5pbmRleFBhdHRlcm4pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5oYXNBbmNlc3RvcnMoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuaGFzVW5zZXRBbmNlc3RvcigpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuZGlzYWJsZShfaTE4bi5pMThuLnRyYW5zbGF0ZSgnaW5wdXRDb250cm9sLmxpc3RDb250cm9sLmRpc2FibGVUb29sdGlwJywgewogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkRpc2FibGVkIHVudGlsICd7bGFiZWx9JyBpcyBzZXQuIiwKICAgICAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmFuY2VzdG9yc1swXS5sYWJlbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgX3RoaXMubGFzdEFuY2VzdG9yVmFsdWVzID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBhbmNlc3RvclZhbHVlcyA9IF90aGlzLmdldEFuY2VzdG9yVmFsdWVzKCk7CgogICAgICAgICAgICAgICAgaWYgKCEoX2xvZGFzaC5kZWZhdWx0LmlzRXF1YWwoYW5jZXN0b3JWYWx1ZXMsIF90aGlzLmxhc3RBbmNlc3RvclZhbHVlcykgJiYgX2xvZGFzaC5kZWZhdWx0LmlzRXF1YWwocXVlcnksIF90aGlzLmxhc3RRdWVyeSkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0QW5jZXN0b3JWYWx1ZXMgPSBhbmNlc3RvclZhbHVlczsKICAgICAgICAgICAgICAgIF90aGlzLmxhc3RRdWVyeSA9IHF1ZXJ5OwogICAgICAgICAgICAgICAgYW5jZXN0b3JGaWx0ZXJzID0gX3RoaXMuZ2V0QW5jZXN0b3JGaWx0ZXJzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBfdGhpcy5maWx0ZXJNYW5hZ2VyLmZpZWxkTmFtZTsKICAgICAgICAgICAgICAgIGluaXRpYWxTZWFyY2hTb3VyY2VTdGF0ZSA9IHsKICAgICAgICAgICAgICAgICAgdGltZW91dDogIiIuY29uY2F0KF90aGlzLmdldEluamVjdGVkVmFyKCdhdXRvY29tcGxldGVUaW1lb3V0JyksICJtcyIpLAogICAgICAgICAgICAgICAgICB0ZXJtaW5hdGVfYWZ0ZXI6IE51bWJlcihfdGhpcy5nZXRJbmplY3RlZFZhcignYXV0b2NvbXBsZXRlVGVybWluYXRlQWZ0ZXInKSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBhZ2dzID0gdGVybXNBZ2coewogICAgICAgICAgICAgICAgICBmaWVsZDogaW5kZXhQYXR0ZXJuLmZpZWxkcy5nZXRCeU5hbWUoZmllbGROYW1lKSwKICAgICAgICAgICAgICAgICAgc2l6ZTogX3RoaXMub3B0aW9ucy5keW5hbWljT3B0aW9ucyA/IG51bGwgOiBfbG9kYXNoLmRlZmF1bHQuZ2V0KF90aGlzLm9wdGlvbnMsICdzaXplJywgNSksCiAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2Rlc2MnLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2VhcmNoU291cmNlID0gKDAsIF9jcmVhdGVfc2VhcmNoX3NvdXJjZS5jcmVhdGVTZWFyY2hTb3VyY2UpKF90aGlzLlNlYXJjaFNvdXJjZSwgaW5pdGlhbFNlYXJjaFNvdXJjZVN0YXRlLCBpbmRleFBhdHRlcm4sIGFnZ3MsIF90aGlzLnVzZVRpbWVGaWx0ZXIsIGFuY2VzdG9yRmlsdGVycywgX3RoaXMudGltZWZpbHRlcik7CiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCA9IF90aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWw7CiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UXVlcnkgPSBxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hTb3VyY2UuZmV0Y2goewogICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbDogYWJvcnRTaWduYWwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMjMpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQwLm5hbWUgPT09ICdBYm9ydEVycm9yJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIF90aGlzLmRpc2FibGUoX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2lucHV0Q29udHJvbC5saXN0Q29udHJvbC51bmFibGVUb0ZldGNoVG9vbHRpcCcsIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbmFibGUgdG8gZmV0Y2ggdGVybXMsIGVycm9yOiB7ZXJyb3JNZXNzYWdlfScsCiAgICAgICAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogX2NvbnRleHQudDAubWVzc2FnZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICBpZiAoIShxdWVyeSAmJiBfdGhpcy5sYXN0UXVlcnkgIT09IHF1ZXJ5KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucyA9IF9sb2Rhc2guZGVmYXVsdC5nZXQocmVzcCwgJ2FnZ3JlZ2F0aW9ucy50ZXJtc0FnZy5idWNrZXRzJywgW10pLm1hcChmdW5jdGlvbiAoYnVja2V0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBidWNrZXQgPT09IG51bGwgfHwgYnVja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidWNrZXQua2V5OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEoc2VsZWN0T3B0aW9ucy5sZW5ndGggPT09IDAgJiYgIXF1ZXJ5KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmRpc2FibGUoKDAsIF9jb250cm9sLm5vVmFsdWVzRGlzYWJsZU1zZykoZmllbGROYW1lLCBpbmRleFBhdHRlcm4udGl0bGUpKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF90aGlzLnBhcnRpYWxSZXN1bHRzID0gcmVzcC50ZXJtaW5hdGVkX2Vhcmx5IHx8IHJlc3AudGltZWRfb3V0OwogICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0T3B0aW9ucyA9IHNlbGVjdE9wdGlvbnM7CiAgICAgICAgICAgICAgICBfdGhpcy5lbmFibGUgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMuZGlzYWJsZWRSZWFzb24gPSAnJzsKCiAgICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMjMsIDI5XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIF90aGlzLmdldEluamVjdGVkVmFyID0gZGVwcy5jb3JlLmluamVjdGVkTWV0YWRhdGEuZ2V0SW5qZWN0ZWRWYXI7CiAgICBfdGhpcy50aW1lZmlsdGVyID0gZGVwcy5kYXRhLnF1ZXJ5LnRpbWVmaWx0ZXIudGltZWZpbHRlcjsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMaXN0Q29udHJvbCwgW3sKICAgIGtleTogImRlc3Ryb3kiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIGlmICh0aGlzLmFib3J0Q29udHJvbGxlcikgdGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzVmFsdWUoKSB7CiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy52YWx1ZS5sZW5ndGggPiAwOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIExpc3RDb250cm9sOwp9KF9jb250cm9sLkNvbnRyb2wpOwoKZXhwb3J0cy5MaXN0Q29udHJvbCA9IExpc3RDb250cm9sOwoKZnVuY3Rpb24gbGlzdENvbnRyb2xGYWN0b3J5KF94MiwgX3gzLCBfeDQsIF94NSkgewogIHJldHVybiBfbGlzdENvbnRyb2xGYWN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9saXN0Q29udHJvbEZhY3RvcnkoKSB7CiAgX2xpc3RDb250cm9sRmFjdG9yeSA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb250cm9sUGFyYW1zLCB1c2VUaW1lRmlsdGVyLCBTZWFyY2hTb3VyY2UsIGRlcHMpIHsKICAgIHZhciBfcmVmMywgX3JlZjQsIGRhdGFQbHVnaW5TdGFydCwgaW5kZXhQYXR0ZXJuLCBmaWVsZCwgbGlzdENvbnRyb2w7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGVwcy5jb3JlLmdldFN0YXJ0U2VydmljZXMoKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpOwogICAgICAgICAgICBkYXRhUGx1Z2luU3RhcnQgPSBfcmVmNFsxXS5kYXRhOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiBkYXRhUGx1Z2luU3RhcnQuaW5kZXhQYXR0ZXJucy5nZXQoY29udHJvbFBhcmFtcy5pbmRleFBhdHRlcm4pOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgaW5kZXhQYXR0ZXJuID0gX2NvbnRleHQyLnNlbnQ7IC8vIGR5bmFtaWMgb3B0aW9ucyBhcmUgb25seSBhbGxvd2VkIG9uIFN0cmluZyBmaWVsZHMgYnV0IHRoZSBzZXR0aW5nIGRlZmF1bHRzIHRvIHRydWUgc28gaXQgY291bGQKICAgICAgICAgICAgLy8gYmUgZW5hYmxlZCBmb3Igbm9uLXN0cmluZyBmaWVsZHMgKHNpbmNlIFVJIGlucHV0IGlzIGhpZGRlbiBmb3Igbm9uLXN0cmluZyBmaWVsZHMpLgogICAgICAgICAgICAvLyBJZiBmaWVsZCBpcyBub3Qgc3RyaW5nLCB0aGVuIGRpc2FibGUgZHluYW1pYyBvcHRpb25zLgoKICAgICAgICAgICAgZmllbGQgPSBpbmRleFBhdHRlcm4uZmllbGRzLmZpbmQoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmNS5uYW1lOwogICAgICAgICAgICAgIHJldHVybiBuYW1lID09PSBjb250cm9sUGFyYW1zLmZpZWxkTmFtZTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoZmllbGQgJiYgZmllbGQudHlwZSAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICBjb250cm9sUGFyYW1zLm9wdGlvbnMuZHluYW1pY09wdGlvbnMgPSBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGlzdENvbnRyb2wgPSBuZXcgTGlzdENvbnRyb2woY29udHJvbFBhcmFtcywgbmV3IF9waHJhc2VfZmlsdGVyX21hbmFnZXIuUGhyYXNlRmlsdGVyTWFuYWdlcihjb250cm9sUGFyYW1zLmlkLCBjb250cm9sUGFyYW1zLmZpZWxkTmFtZSwgaW5kZXhQYXR0ZXJuLCBkZXBzLmRhdGEucXVlcnkuZmlsdGVyTWFuYWdlciksIHVzZVRpbWVGaWx0ZXIsIFNlYXJjaFNvdXJjZSwgZGVwcyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBsaXN0Q29udHJvbCk7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2xpc3RDb250cm9sRmFjdG9yeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},null]}