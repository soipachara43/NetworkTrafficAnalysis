{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/gauges/meter.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/gauges/meter.js","mtime":1589249550154},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLk1ldGVyR2F1Z2UgPSB2b2lkIDA7Cgp2YXIgX2QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImQzIikpOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfcHVibGljID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9jaGFydHMvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCnZhciBhcmNBbmdsZXMgPSB7CiAgYW5nbGVGYWN0b3I6IDAuNzUsCiAgbWF4QW5nbGU6IDIgKiBNYXRoLlBJICogMS4zLAogIG1pbkFuZ2xlOiAyICogTWF0aC5QSSAqIDAuNwp9Owp2YXIgY2lyY2xlQW5nbGVzID0gewogIGFuZ2xlRmFjdG9yOiAxLAogIG1heEFuZ2xlOiAyICogTWF0aC5QSSwKICBtaW5BbmdsZTogMAp9Owp2YXIgZGVmYXVsdENvbmZpZyA9IHsKICBzaG93VG9vbHRpcDogdHJ1ZSwKICBwZXJjZW50YWdlTW9kZTogdHJ1ZSwKICBpbm5lclNwYWNlOiA1LAogIGV4dGVudHM6IFswLCAxMDAwMF0sCiAgb3V0bGluZTogZmFsc2UsCiAgc2NhbGU6IHsKICAgIHNob3c6IHRydWUsCiAgICBjb2xvcjogJyM2NjYnLAogICAgd2lkdGg6IDIsCiAgICB0aWNrczogMTAsCiAgICB0aWNrTGVuZ3RoOiA4CiAgfSwKICBsYWJlbHM6IHsKICAgIHNob3c6IHRydWUsCiAgICBjb2xvcjogJyM2NjYnCiAgfSwKICBzdHlsZTogewogICAgYmdXaWR0aDogMC41LAogICAgd2lkdGg6IDAuOQogIH0KfTsKCnZhciBNZXRlckdhdWdlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTWV0ZXJHYXVnZShnYXVnZUNoYXJ0KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWV0ZXJHYXVnZSk7CgogICAgdGhpcy5nYXVnZUNoYXJ0ID0gZ2F1Z2VDaGFydDsKICAgIHRoaXMuZ2F1Z2VDb25maWcgPSBnYXVnZUNoYXJ0LmdhdWdlQ29uZmlnOwogICAgdGhpcy5nYXVnZUNvbmZpZyA9IF9sb2Rhc2guZGVmYXVsdC5kZWZhdWx0c0RlZXAodGhpcy5nYXVnZUNvbmZpZywgZGVmYXVsdENvbmZpZyk7CiAgICB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXNDb25maWcuc2V0KCdsZWdlbmQnLCB7CiAgICAgIGxhYmVsczogdGhpcy5nZXRMYWJlbHMoKSwKICAgICAgY29sb3JzOiB0aGlzLmdldENvbG9ycygpCiAgICB9KTsKICAgIHZhciBjb2xvcnMgPSB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXNDb25maWcuZ2V0KCdsZWdlbmQuY29sb3JzJywgbnVsbCk7CgogICAgaWYgKGNvbG9ycykgewogICAgICB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXMudWlTdGF0ZS5zZXRTaWxlbnQoJ3Zpcy5kZWZhdWx0Q29sb3JzJywgbnVsbCk7CiAgICAgIHRoaXMuZ2F1Z2VDaGFydC5oYW5kbGVyLnZpcy51aVN0YXRlLnNldFNpbGVudCgndmlzLmRlZmF1bHRDb2xvcnMnLCBjb2xvcnMpOwogICAgfQoKICAgIHRoaXMuY29sb3JGdW5jID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIuZGF0YS5nZXRDb2xvckZ1bmMoKTsKICB9CgogIF9jcmVhdGVDbGFzcyhNZXRlckdhdWdlLCBbewogICAga2V5OiAiZ2V0TGFiZWxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7CiAgICAgIHZhciBpc1BlcmNlbnRhZ2VNb2RlID0gdGhpcy5nYXVnZUNvbmZpZy5wZXJjZW50YWdlTW9kZTsKICAgICAgdmFyIGNvbG9yc1JhbmdlID0gdGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZTsKCiAgICAgIHZhciBtYXggPSBfbG9kYXNoLmRlZmF1bHQubGFzdChjb2xvcnNSYW5nZSkudG87CgogICAgICB2YXIgbGFiZWxzID0gW107CiAgICAgIGNvbG9yc1JhbmdlLmZvckVhY2goZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIGZyb20gPSBpc1BlcmNlbnRhZ2VNb2RlID8gTWF0aC5yb3VuZCgxMDAgKiByYW5nZS5mcm9tIC8gbWF4KSA6IHJhbmdlLmZyb207CiAgICAgICAgdmFyIHRvID0gaXNQZXJjZW50YWdlTW9kZSA/IE1hdGgucm91bmQoMTAwICogcmFuZ2UudG8gLyBtYXgpIDogcmFuZ2UudG87CiAgICAgICAgbGFiZWxzLnB1c2goIiIuY29uY2F0KGZyb20sICIgLSAiKS5jb25jYXQodG8pKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsYWJlbHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29sb3JzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xvcnMoKSB7CiAgICAgIHZhciBpbnZlcnRDb2xvcnMgPSB0aGlzLmdhdWdlQ29uZmlnLmludmVydENvbG9yczsKICAgICAgdmFyIGNvbG9yU2NoZW1hID0gdGhpcy5nYXVnZUNvbmZpZy5jb2xvclNjaGVtYTsKICAgICAgdmFyIGNvbG9yc1JhbmdlID0gdGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZTsKICAgICAgdmFyIGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7CiAgICAgIHZhciBjb2xvcnMgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgdmFyIGRpdmlkZXIgPSBNYXRoLm1heChjb2xvcnNSYW5nZS5sZW5ndGggLSAxLCAxKTsKICAgICAgICB2YXIgdmFsID0gaW52ZXJ0Q29sb3JzID8gMSAtIGkgLyBkaXZpZGVyIDogaSAvIGRpdmlkZXI7CiAgICAgICAgY29sb3JzW2xhYmVsc1tpXV0gPSAoMCwgX3B1YmxpYy5nZXRIZWF0bWFwQ29sb3JzKSh2YWwsIGNvbG9yU2NoZW1hKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvbG9yczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRCdWNrZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJ1Y2tldCh2YWwpIHsKICAgICAgdmFyIGJ1Y2tldCA9IF9sb2Rhc2guZGVmYXVsdC5maW5kSW5kZXgodGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZSwgZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHJhbmdlLmZyb20gPD0gdmFsICYmIHJhbmdlLnRvID4gdmFsOwogICAgICB9KTsKCiAgICAgIGlmIChidWNrZXQgPT09IC0xKSB7CiAgICAgICAgaWYgKHZhbCA8IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2VbMF0uZnJvbSkgYnVja2V0ID0gMDtlbHNlIGJ1Y2tldCA9IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2UubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJ1Y2tldDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRMYWJlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWwodmFsKSB7CiAgICAgIHZhciBidWNrZXQgPSB0aGlzLmdldEJ1Y2tldCh2YWwpOwogICAgICB2YXIgbGFiZWxzID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLmdldCgnbGVnZW5kLmxhYmVscycpOwogICAgICByZXR1cm4gbGFiZWxzW2J1Y2tldF07CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29sb3JCdWNrZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbG9yQnVja2V0KHZhbCkgewogICAgICB2YXIgYnVja2V0ID0gdGhpcy5nZXRCdWNrZXQodmFsKTsKICAgICAgdmFyIGxhYmVscyA9IHRoaXMuZ2F1Z2VDaGFydC5oYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2xlZ2VuZC5sYWJlbHMnKTsKICAgICAgcmV0dXJuIHRoaXMuY29sb3JGdW5jKGxhYmVsc1tidWNrZXRdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmF3U2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXdTY2FsZShzdmcsIHJhZGl1cywgYW5nbGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzY2FsZVdpZHRoID0gdGhpcy5nYXVnZUNvbmZpZy5zY2FsZS53aWR0aDsKICAgICAgdmFyIHRpY2tMZW5ndGggPSB0aGlzLmdhdWdlQ29uZmlnLnNjYWxlLnRpY2tMZW5ndGg7CiAgICAgIHZhciBzY2FsZVRpY2tzID0gdGhpcy5nYXVnZUNvbmZpZy5zY2FsZS50aWNrczsKICAgICAgdmFyIHNjYWxlID0gc3ZnLmFwcGVuZCgnZycpOwogICAgICB0aGlzLmdhdWdlQ29uZmlnLmNvbG9yc1JhbmdlLmZvckVhY2goZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIGNvbG9yID0gX3RoaXMuZ2V0Q29sb3JCdWNrZXQocmFuZ2UuZnJvbSk7CgogICAgICAgIHZhciBzY2FsZUFyYyA9IF9kLmRlZmF1bHQuc3ZnLmFyYygpLnN0YXJ0QW5nbGUoYW5nbGUocmFuZ2UuZnJvbSkpLmVuZEFuZ2xlKGFuZ2xlKHJhbmdlLnRvKSkuaW5uZXJSYWRpdXMocmFkaXVzKS5vdXRlclJhZGl1cyhyYWRpdXMgKyBzY2FsZVdpZHRoKTsKCiAgICAgICAgc2NhbGUuYXBwZW5kKCdwYXRoJykuYXR0cignZCcsIHNjYWxlQXJjKS5zdHlsZSgnc3Ryb2tlJywgY29sb3IpLnN0eWxlKCdmaWxsJywgY29sb3IpOwogICAgICB9KTsKICAgICAgdmFyIGV4dGVudHMgPSBhbmdsZS5kb21haW4oKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNjYWxlVGlja3M7IGkrKykgewogICAgICAgIHZhciB2YWwgPSBpICogKGV4dGVudHNbMV0gLSBleHRlbnRzWzBdKSAvIHNjYWxlVGlja3M7CiAgICAgICAgdmFyIHRpY2tBbmdsZSA9IGFuZ2xlKHZhbCkgLSBNYXRoLlBJIC8gMjsKICAgICAgICB2YXIgeDAgPSBNYXRoLmNvcyh0aWNrQW5nbGUpICogcmFkaXVzOwogICAgICAgIHZhciB4MSA9IE1hdGguY29zKHRpY2tBbmdsZSkgKiAocmFkaXVzIC0gdGlja0xlbmd0aCk7CiAgICAgICAgdmFyIHkwID0gTWF0aC5zaW4odGlja0FuZ2xlKSAqIHJhZGl1czsKICAgICAgICB2YXIgeTEgPSBNYXRoLnNpbih0aWNrQW5nbGUpICogKHJhZGl1cyAtIHRpY2tMZW5ndGgpOwogICAgICAgIHZhciBjb2xvciA9IHRoaXMuZ2V0Q29sb3JCdWNrZXQodmFsKTsKICAgICAgICBzY2FsZS5hcHBlbmQoJ2xpbmUnKS5hdHRyKCd4MScsIHgwKS5hdHRyKCd4MicsIHgxKS5hdHRyKCd5MScsIHkwKS5hdHRyKCd5MicsIHkxKS5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgc2NhbGVXaWR0aCkuc3R5bGUoJ3N0cm9rZScsIGNvbG9yKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNjYWxlOwogICAgfQogIH0sIHsKICAgIGtleTogImRyYXdHYXVnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd0dhdWdlKHN2ZywgZGF0YSwgd2lkdGgsIGhlaWdodCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBtYXJnaW5GYWN0b3IgPSAwLjk1OwogICAgICB2YXIgdG9vbHRpcCA9IHRoaXMuZ2F1Z2VDaGFydC50b29sdGlwOwogICAgICB2YXIgaXNUb29sdGlwID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLmdldCgnYWRkVG9vbHRpcCcpOwogICAgICB2YXIgaXNEaXNwbGF5V2FybmluZyA9IHRoaXMuZ2F1Z2VDaGFydC5oYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2lzRGlzcGxheVdhcm5pbmcnLCBmYWxzZSk7CgogICAgICB2YXIgX3JlZiA9IHRoaXMuZ2F1Z2VDb25maWcuZ2F1Z2VUeXBlID09PSAnQ2lyY2xlJyA/IGNpcmNsZUFuZ2xlcyA6IGFyY0FuZ2xlcywKICAgICAgICAgIGFuZ2xlRmFjdG9yID0gX3JlZi5hbmdsZUZhY3RvciwKICAgICAgICAgIG1heEFuZ2xlID0gX3JlZi5tYXhBbmdsZSwKICAgICAgICAgIG1pbkFuZ2xlID0gX3JlZi5taW5BbmdsZTsKCiAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0IC8gYW5nbGVGYWN0b3IpIC8gMiAqIG1hcmdpbkZhY3RvcjsKICAgICAgdmFyIGV4dGVuZFJhbmdlID0gdGhpcy5nYXVnZUNvbmZpZy5leHRlbmRSYW5nZTsKCiAgICAgIHZhciBtYXhZID0gX2xvZGFzaC5kZWZhdWx0Lm1heChkYXRhLnZhbHVlcywgJ3knKS55OwoKICAgICAgdmFyIG1pbiA9IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2VbMF0uZnJvbTsKCiAgICAgIHZhciBtYXggPSBfbG9kYXNoLmRlZmF1bHQubGFzdCh0aGlzLmdhdWdlQ29uZmlnLmNvbG9yc1JhbmdlKS50bzsKCiAgICAgIHZhciBhbmdsZSA9IF9kLmRlZmF1bHQuc2NhbGUubGluZWFyKCkucmFuZ2UoW21pbkFuZ2xlLCBtYXhBbmdsZV0pLmRvbWFpbihbbWluLCBleHRlbmRSYW5nZSAmJiBtYXggPCBtYXhZID8gbWF4WSA6IG1heF0pOwoKICAgICAgdmFyIHJhZGl1cyA9IF9kLmRlZmF1bHQuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsIG1heFJhZGl1c10pLmRvbWFpbihbdGhpcy5nYXVnZUNvbmZpZy5pbm5lclNwYWNlICsgMSwgMF0pOwoKICAgICAgdmFyIHRvdGFsV2lkdGggPSBNYXRoLmFicyhyYWRpdXMoMCkgLSByYWRpdXMoMSkpOwogICAgICB2YXIgYmdQYWRkaW5nID0gdG90YWxXaWR0aCAqICgxIC0gdGhpcy5nYXVnZUNvbmZpZy5zdHlsZS5iZ1dpZHRoKSAvIDI7CiAgICAgIHZhciBnYXVnZVBhZGRpbmcgPSB0b3RhbFdpZHRoICogKDEgLSB0aGlzLmdhdWdlQ29uZmlnLnN0eWxlLndpZHRoKSAvIDI7CiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiB0byBjYWxjdWxhdGUgdGhlIGZyZWUgc3BhY2UgaW4gdGhlIGNlbnRlciBvZiB0aGUgZ2F1Z2UuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50CiAgICAgICAqIHdoZXRoZXIgdGlja3MgYXJlIGVuYWJsZWQgb3Igbm90LgogICAgICAgKgogICAgICAgKiBUaGlzIGlzIGNhbGN1bGF0ZWQgdXNpbmcgdGhlIGlubmVyIGRpYW1ldGVyIChyYWRpdXMoMSkgKiAyKSBvZiB0aGUgZ2F1Z2UuCiAgICAgICAqIElmIHRpY2tzL3NjYWxlIGFyZSBlbmFibGVkIHdlIG5lZWQgdG8gc3RpbGwgc3VidHJhY3QgdGhlIHRpY2sgbGVuZ3RoICogMiB0byBtYWtlIHNwYWNlIGZvciBhIHRpY2sKICAgICAgICogb24gZXZlcnkgc2lkZS4gSWYgdGlja3Mvc2NhbGUgYXJlIGRpc2FibGVkLCB0aGUgcmFkaXVzKDEpIGZ1bmN0aW9uIGFjdHVhbGx5IGxlYXZlcyBzcGFjZSBmb3IgdGhlIHNjYWxlLAogICAgICAgKiBzbyB3ZSBhZGQgdGhhdCBmcmVlIHNwYWNlICh3aGljaCBpcyBleHByZXNzZWQgdmlhIHRoZSBwYWRkaW5ncywgd2UganVzdCB1c2UgdGhlIGxhcmdlciBvZiB0aG9zZSkgdG8gdGhlIGRpYW1ldGVyLgogICAgICAgKi8KCiAgICAgIHZhciBnZXRJbm5lckZyZWVTcGFjZSA9IGZ1bmN0aW9uIGdldElubmVyRnJlZVNwYWNlKCkgewogICAgICAgIHJldHVybiByYWRpdXMoMSkgKiAyIC0gKF90aGlzMi5nYXVnZUNvbmZpZy5zY2FsZS5zaG93ID8gX3RoaXMyLmdhdWdlQ29uZmlnLnNjYWxlLnRpY2tMZW5ndGggKiAyIDogLU1hdGgubWF4KGJnUGFkZGluZywgZ2F1Z2VQYWRkaW5nKSAqIDIpOwogICAgICB9OwoKICAgICAgdmFyIGFyYyA9IF9kLmRlZmF1bHQuc3ZnLmFyYygpLnN0YXJ0QW5nbGUobWluQW5nbGUpLmVuZEFuZ2xlKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKG1heEFuZ2xlLCBhbmdsZShNYXRoLm1heChtaW4sIGQueSkpKSk7CiAgICAgIH0pLmlubmVyUmFkaXVzKGZ1bmN0aW9uIChkLCBpLCBqKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHJhZGl1cyhqICsgMSkgKyBnYXVnZVBhZGRpbmcpOwogICAgICB9KS5vdXRlclJhZGl1cyhmdW5jdGlvbiAoZCwgaSwgaikgewogICAgICAgIHJldHVybiBNYXRoLm1heCgwLCByYWRpdXMoaikgLSBnYXVnZVBhZGRpbmcpOwogICAgICB9KTsKCiAgICAgIHZhciBiZ0FyYyA9IF9kLmRlZmF1bHQuc3ZnLmFyYygpLnN0YXJ0QW5nbGUobWluQW5nbGUpLmVuZEFuZ2xlKG1heEFuZ2xlKS5pbm5lclJhZGl1cyhmdW5jdGlvbiAoZCwgaSwgaikgewogICAgICAgIHJldHVybiBNYXRoLm1heCgwLCByYWRpdXMoaiArIDEpICsgYmdQYWRkaW5nKTsKICAgICAgfSkub3V0ZXJSYWRpdXMoZnVuY3Rpb24gKGQsIGksIGopIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgcmFkaXVzKGopIC0gYmdQYWRkaW5nKTsKICAgICAgfSk7CgogICAgICB2YXIgZ2F1Z2VIb2xkZXJzID0gc3ZnLnNlbGVjdEFsbCgncGF0aCcpLmRhdGEoW2RhdGFdKS5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ2RhdGEtbGFiZWwnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhpczIuZ2V0TGFiZWwoZC52YWx1ZXNbMF0ueSk7CiAgICAgIH0pOwogICAgICB2YXIgZ2F1Z2VzID0gZ2F1Z2VIb2xkZXJzLnNlbGVjdEFsbCgnZycpLmRhdGEoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC52YWx1ZXM7CiAgICAgIH0pLmVudGVyKCk7CiAgICAgIGdhdWdlcy5hcHBlbmQoJ3BhdGgnKS5hdHRyKCdkJywgYmdBcmMpLmF0dHIoJ2NsYXNzJywgdGhpcy5nYXVnZUNvbmZpZy5vdXRsaW5lID8gJ3Zpc0dhdWdlX19tZXRlci0tb3V0bGluZScgOiB1bmRlZmluZWQpLnN0eWxlKCdmaWxsJywgdGhpcy5nYXVnZUNvbmZpZy5zdHlsZS5iZ0ZpbGwpOwogICAgICB2YXIgc2VyaWVzID0gZ2F1Z2VzLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2QnLCBhcmMpLmF0dHIoJ2NsYXNzJywgdGhpcy5nYXVnZUNvbmZpZy5vdXRsaW5lID8gJ3Zpc0dhdWdlX19tZXRlci0tb3V0bGluZScgOiB1bmRlZmluZWQpLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmdldENvbG9yQnVja2V0KE1hdGgubWF4KG1pbiwgZC55KSk7CiAgICAgIH0pOwogICAgICB2YXIgc21hbGxDb250YWluZXIgPSBzdmcubm9kZSgpLmdldEJCb3goKS5oZWlnaHQgPCA3MDsKICAgICAgdmFyIGhpZGRlbkxhYmVscyA9IHNtYWxsQ29udGFpbmVyOyAvLyBJZiB0aGUgdmFsdWUgbGFiZWwgaXMgaGlkZGVuIHdlIGxhdGVyIHdhbnQgdG8gaGlkZSBhbHNvIGFsbCBvdGhlciBsYWJlbHMKICAgICAgLy8gc2luY2UgdGhleSBkb24ndCBtYWtlIHNlbnNlIGFzIGxvbmcgYXMgdGhlIGFjdHVhbCB2YWx1ZSBpcyBoaWRkZW4uCgogICAgICB2YXIgdmFsdWVMYWJlbEhpZGRlbiA9IGZhbHNlOwogICAgICBnYXVnZXMuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAnY2hhcnQtbGFiZWwnKS5hdHRyKCd5JywgLTUpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoX3RoaXMyLmdhdWdlQ29uZmlnLnBlcmNlbnRhZ2VNb2RlKSB7CiAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9IChkLnkgLSBtaW4pIC8gKG1heCAtIG1pbik7CiAgICAgICAgICByZXR1cm4gZGF0YS55QXhpc0Zvcm1hdHRlcihwZXJjZW50YWdlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBkYXRhLnlBeGlzRm9ybWF0dGVyKGQueSk7CiAgICAgIH0pLmF0dHIoJ3N0eWxlJywgJ2RvbWluYW50LWJhc2VsaW5lOiBjZW50cmFsOycpLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5zdHlsZSgnZm9udC1zaXplJywgJzJlbScpLnN0eWxlKCdkaXNwbGF5JywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGhpcy5nZXRCQm94KCkud2lkdGg7IC8vIFRoZSB0ZXh0IGlzIHRvbyBsb25nIGlmIGl0J3MgbGFyZ2VyIHRoYW4gdGhlIGlubmVyIGZyZWUgc3BhY2UgbWludXMgYSBjb3VwbGUgb2YgcmFuZG9tIHBpeGVscyBmb3IgcGFkZGluZy4KCiAgICAgICAgdmFyIHRleHRUb29Mb25nID0gdGV4dExlbmd0aCA+PSBnZXRJbm5lckZyZWVTcGFjZSgpIC0gNjsKCiAgICAgICAgaWYgKHRleHRUb29Mb25nKSB7CiAgICAgICAgICBoaWRkZW5MYWJlbHMgPSB0cnVlOwogICAgICAgICAgdmFsdWVMYWJlbEhpZGRlbiA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGV4dFRvb0xvbmcgPyAnbm9uZScgOiAnaW5pdGlhbCc7CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuZ2F1Z2VDb25maWcubGFiZWxzLnNob3cpIHsKICAgICAgICBzdmcuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAnY2hhcnQtbGFiZWwnKS50ZXh0KGRhdGEubGFiZWwpLmF0dHIoJ3knLCAtMzApLmF0dHIoJ3N0eWxlJywgJ2RvbWluYW50LWJhc2VsaW5lOiBjZW50cmFsOyB0ZXh0LWFuY2hvcjogbWlkZGxlOycpLnN0eWxlKCdkaXNwbGF5JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHRleHRMZW5ndGggPSB0aGlzLmdldEJCb3goKS53aWR0aDsKICAgICAgICAgIHZhciB0ZXh0VG9vTG9uZyA9IHRleHRMZW5ndGggPiBtYXhSYWRpdXM7CgogICAgICAgICAgaWYgKHRleHRUb29Mb25nKSB7CiAgICAgICAgICAgIGhpZGRlbkxhYmVscyA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHNtYWxsQ29udGFpbmVyIHx8IHRleHRUb29Mb25nID8gJ25vbmUnIDogJ2luaXRpYWwnOwogICAgICAgIH0pOwogICAgICAgIHN2Zy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdjaGFydC1sYWJlbCcpLnRleHQodGhpcy5nYXVnZUNvbmZpZy5zdHlsZS5zdWJUZXh0KS5hdHRyKCd5JywgMjApLmF0dHIoJ3N0eWxlJywgJ2RvbWluYW50LWJhc2VsaW5lOiBjZW50cmFsOyB0ZXh0LWFuY2hvcjogbWlkZGxlOycpLnN0eWxlKCdkaXNwbGF5JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHRleHRMZW5ndGggPSB0aGlzLmdldEJCb3goKS53aWR0aDsKICAgICAgICAgIHZhciB0ZXh0VG9vTG9uZyA9IHRleHRMZW5ndGggPiBtYXhSYWRpdXM7CgogICAgICAgICAgaWYgKHRleHRUb29Mb25nKSB7CiAgICAgICAgICAgIGhpZGRlbkxhYmVscyA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHZhbHVlTGFiZWxIaWRkZW4gfHwgc21hbGxDb250YWluZXIgfHwgdGV4dFRvb0xvbmcgPyAnbm9uZScgOiAnaW5pdGlhbCc7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmdhdWdlQ29uZmlnLnNjYWxlLnNob3cpIHsKICAgICAgICB0aGlzLmRyYXdTY2FsZShzdmcsIHJhZGl1cygxKSwgYW5nbGUpOwogICAgICB9CgogICAgICBpZiAoaXNUb29sdGlwKSB7CiAgICAgICAgc2VyaWVzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGdhdWdlID0gX2QuZGVmYXVsdC5zZWxlY3QodGhpcyk7CgogICAgICAgICAgZ2F1Z2UuY2FsbCh0b29sdGlwLnJlbmRlcigpKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKGhpZGRlbkxhYmVscyAmJiBpc0Rpc3BsYXlXYXJuaW5nKSB7CiAgICAgICAgdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIuYWxlcnRzLnNob3coJ1NvbWUgbGFiZWxzIHdlcmUgaGlkZGVuIGR1ZSB0byBzaXplIGNvbnN0cmFpbnRzJyk7CiAgICAgIH0gLy9jZW50ZXIgdGhlIHZpc3VhbGl6YXRpb24KCgogICAgICB2YXIgdHJhbnNmb3JtWCA9IHdpZHRoIC8gMjsKICAgICAgdmFyIHRyYW5zZm9ybVkgPSBoZWlnaHQgLyAyID4gbWF4UmFkaXVzID8gaGVpZ2h0IC8gMiA6IG1heFJhZGl1czsKICAgICAgc3ZnLmF0dHIoJ3RyYW5zZm9ybScsICJ0cmFuc2xhdGUoIi5jb25jYXQodHJhbnNmb3JtWCwgIiwgIikuY29uY2F0KHRyYW5zZm9ybVksICIpIikpOwogICAgICByZXR1cm4gc2VyaWVzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1ldGVyR2F1Z2U7Cn0oKTsKCmV4cG9ydHMuTWV0ZXJHYXVnZSA9IE1ldGVyR2F1Z2U7"},null]}