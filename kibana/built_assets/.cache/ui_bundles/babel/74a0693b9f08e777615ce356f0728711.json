{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/dashboard/np_ready/legacy_app.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/dashboard/np_ready/legacy_app.js","mtime":1589249549658},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmluaXREYXNoYm9hcmRBcHAgPSBpbml0RGFzaGJvYXJkQXBwOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3F1ZXJ5U3RyaW5nID0gcmVxdWlyZSgicXVlcnktc3RyaW5nIik7Cgp2YXIgX2Rhc2hib2FyZF9hcHAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vZGFzaGJvYXJkX2FwcC5odG1sIikpOwoKdmFyIF9kYXNoYm9hcmRfbGlzdGluZ19uZ193cmFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2xpc3RpbmcvZGFzaGJvYXJkX2xpc3Rpbmdfbmdfd3JhcHBlci5odG1sIikpOwoKdmFyIF9oaXN0b3J5ID0gcmVxdWlyZSgiaGlzdG9yeSIpOwoKdmFyIF9kYXNoYm9hcmRfYXBwMiA9IHJlcXVpcmUoIi4vZGFzaGJvYXJkX2FwcCIpOwoKdmFyIF9kYXNoYm9hcmRfY29uc3RhbnRzID0gcmVxdWlyZSgiLi9kYXNoYm9hcmRfY29uc3RhbnRzIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uL3BsdWdpbnMva2liYW5hX3V0aWxzL3B1YmxpYyIpOwoKdmFyIF9kYXNoYm9hcmRfbGlzdGluZyA9IHJlcXVpcmUoIi4vbGlzdGluZy9kYXNoYm9hcmRfbGlzdGluZyIpOwoKdmFyIF9oZWxwX21lbnVfdXRpbCA9IHJlcXVpcmUoIi4vaGVscF9tZW51L2hlbHBfbWVudV91dGlsIik7Cgp2YXIgX3B1YmxpYzIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9wbHVnaW5zL2RhdGEvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gaW5pdERhc2hib2FyZEFwcChhcHAsIGRlcHMpIHsKICAoMCwgX2Rhc2hib2FyZF9hcHAyLmluaXREYXNoYm9hcmRBcHBEaXJlY3RpdmUpKGFwcCwgZGVwcyk7CiAgYXBwLmRpcmVjdGl2ZSgnZGFzaGJvYXJkTGlzdGluZycsIGZ1bmN0aW9uIChyZWFjdERpcmVjdGl2ZSkgewogICAgcmV0dXJuIHJlYWN0RGlyZWN0aXZlKF9kYXNoYm9hcmRfbGlzdGluZy5EYXNoYm9hcmRMaXN0aW5nLCBbWydjb3JlJywgewogICAgICB3YXRjaERlcHRoOiAncmVmZXJlbmNlJwogICAgfV0sIFsnY3JlYXRlSXRlbScsIHsKICAgICAgd2F0Y2hEZXB0aDogJ3JlZmVyZW5jZScKICAgIH1dLCBbJ2dldFZpZXdVcmwnLCB7CiAgICAgIHdhdGNoRGVwdGg6ICdyZWZlcmVuY2UnCiAgICB9XSwgWydlZGl0SXRlbScsIHsKICAgICAgd2F0Y2hEZXB0aDogJ3JlZmVyZW5jZScKICAgIH1dLCBbJ2ZpbmRJdGVtcycsIHsKICAgICAgd2F0Y2hEZXB0aDogJ3JlZmVyZW5jZScKICAgIH1dLCBbJ2RlbGV0ZUl0ZW1zJywgewogICAgICB3YXRjaERlcHRoOiAncmVmZXJlbmNlJwogICAgfV0sIFsnbGlzdGluZ0xpbWl0JywgewogICAgICB3YXRjaERlcHRoOiAncmVmZXJlbmNlJwogICAgfV0sIFsnaGlkZVdyaXRlQ29udHJvbHMnLCB7CiAgICAgIHdhdGNoRGVwdGg6ICdyZWZlcmVuY2UnCiAgICB9XSwgWydpbml0aWFsRmlsdGVyJywgewogICAgICB3YXRjaERlcHRoOiAncmVmZXJlbmNlJwogICAgfV1dKTsKICB9KTsKCiAgZnVuY3Rpb24gY3JlYXRlTmV3RGFzaGJvYXJkQ3RybCgkc2NvcGUpIHsKICAgICRzY29wZS52aXNpdFZpc3VhbGl6ZUFwcExpbmtUZXh0ID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5kYXNoYm9hcmQudmlzaXRWaXN1YWxpemVBcHBMaW5rVGV4dCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICd2aXNpdCB0aGUgVmlzdWFsaXplIGFwcCcKICAgIH0pOwogICAgKDAsIF9oZWxwX21lbnVfdXRpbC5hZGRIZWxwTWVudVRvQXBwQ2hyb21lKShkZXBzLmNocm9tZSwgZGVwcy5jb3JlLmRvY0xpbmtzKTsKICB9CgogIGFwcC5mYWN0b3J5KCdoaXN0b3J5JywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICgwLCBfaGlzdG9yeS5jcmVhdGVIYXNoSGlzdG9yeSkoKTsKICB9KTsKICBhcHAuZmFjdG9yeSgna2JuVXJsU3RhdGVTdG9yYWdlJywgZnVuY3Rpb24gKGhpc3RvcnkpIHsKICAgIHJldHVybiAoMCwgX3B1YmxpYy5jcmVhdGVLYm5VcmxTdGF0ZVN0b3JhZ2UpKHsKICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgdXNlSGFzaDogZGVwcy51aVNldHRpbmdzLmdldCgnc3RhdGU6c3RvcmVJblNlc3Npb25TdG9yYWdlJykKICAgIH0pOwogIH0pOwogIGFwcC5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7CiAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgIHJlbG9hZE9uU2VhcmNoOiBmYWxzZSwKICAgICAgcmVxdWlyZVVJQ2FwYWJpbGl0eTogJ2Rhc2hib2FyZC5zaG93JywKICAgICAgYmFkZ2U6IGZ1bmN0aW9uIGJhZGdlKCkgewogICAgICAgIGlmIChkZXBzLmRhc2hib2FyZENhcGFiaWxpdGllcy5zaG93V3JpdGVDb250cm9scykgewogICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLmRhc2hib2FyZC5iYWRnZS5yZWFkT25seS50ZXh0JywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1JlYWQgb25seScKICAgICAgICAgIH0pLAogICAgICAgICAgdG9vbHRpcDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2tibi5kYXNoYm9hcmQuYmFkZ2UucmVhZE9ubHkudG9vbHRpcCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbmFibGUgdG8gc2F2ZSBkYXNoYm9hcmRzJwogICAgICAgICAgfSksCiAgICAgICAgICBpY29uVHlwZTogJ2dsYXNzZXMnCiAgICAgICAgfTsKICAgICAgfQogICAgfTsKICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oX2Rhc2hib2FyZF9jb25zdGFudHMuRGFzaGJvYXJkQ29uc3RhbnRzLkxBTkRJTkdfUEFHRV9QQVRILCBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0cywgewogICAgICB0ZW1wbGF0ZTogX2Rhc2hib2FyZF9saXN0aW5nX25nX3dyYXBwZXIuZGVmYXVsdCwKICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gY29udHJvbGxlcigkc2NvcGUsIGtiblVybFN0YXRlU3RvcmFnZSwgaGlzdG9yeSkgewogICAgICAgIHZhciBzZXJ2aWNlID0gZGVwcy5zYXZlZERhc2hib2FyZHM7CiAgICAgICAgdmFyIGRhc2hib2FyZENvbmZpZyA9IGRlcHMuZGFzaGJvYXJkQ29uZmlnOyAvLyBzeW5jcyBgX2dgIHBvcnRpb24gb2YgdXJsIHdpdGggcXVlcnkgc2VydmljZXMKCiAgICAgICAgdmFyIF9zeW5jUXVlcnlTdGF0ZVdpdGhVciA9ICgwLCBfcHVibGljMi5zeW5jUXVlcnlTdGF0ZVdpdGhVcmwpKGRlcHMuZGF0YS5xdWVyeSwga2JuVXJsU3RhdGVTdG9yYWdlKSwKICAgICAgICAgICAgc3RvcFN5bmNpbmdRdWVyeVNlcnZpY2VTdGF0ZVdpdGhVcmwgPSBfc3luY1F1ZXJ5U3RhdGVXaXRoVXIuc3RvcDsKCiAgICAgICAgJHNjb3BlLmxpc3RpbmdMaW1pdCA9IGRlcHMudWlTZXR0aW5ncy5nZXQoJ3NhdmVkT2JqZWN0czpsaXN0aW5nTGltaXQnKTsKCiAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGhpc3RvcnkucHVzaChfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuQ1JFQVRFX05FV19EQVNIQk9BUkRfVVJMKTsKICAgICAgICB9OwoKICAgICAgICAkc2NvcGUuZmluZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHsKICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmZpbmQoc2VhcmNoLCAkc2NvcGUubGlzdGluZ0xpbWl0KTsKICAgICAgICB9OwoKICAgICAgICAkc2NvcGUuZWRpdEl0ZW0gPSBmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIGlkID0gX3JlZi5pZDsKICAgICAgICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQoKDAsIF9kYXNoYm9hcmRfY29uc3RhbnRzLmNyZWF0ZURhc2hib2FyZEVkaXRVcmwpKGlkKSwgIj9fYT0odmlld01vZGU6ZWRpdCkiKSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmdldFZpZXdVcmwgPSBmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgIHZhciBpZCA9IF9yZWYyLmlkOwogICAgICAgICAgcmV0dXJuIGRlcHMuYWRkQmFzZVBhdGgoIiMiLmNvbmNhdCgoMCwgX2Rhc2hib2FyZF9jb25zdGFudHMuY3JlYXRlRGFzaGJvYXJkRWRpdFVybCkoaWQpKSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uIChkYXNoYm9hcmRzKSB7CiAgICAgICAgICByZXR1cm4gc2VydmljZS5kZWxldGUoZGFzaGJvYXJkcy5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIGQuaWQ7CiAgICAgICAgICB9KSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmhpZGVXcml0ZUNvbnRyb2xzID0gZGFzaGJvYXJkQ29uZmlnLmdldEhpZGVXcml0ZUNvbnRyb2xzKCk7CiAgICAgICAgJHNjb3BlLmluaXRpYWxGaWx0ZXIgPSAoMCwgX3F1ZXJ5U3RyaW5nLnBhcnNlKShoaXN0b3J5LmxvY2F0aW9uLnNlYXJjaCkuZmlsdGVyIHx8IF9kYXNoYm9hcmRfbGlzdGluZy5FTVBUWV9GSUxURVI7CiAgICAgICAgZGVwcy5jaHJvbWUuc2V0QnJlYWRjcnVtYnMoW3sKICAgICAgICAgIHRleHQ6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4uZGFzaGJvYXJkLmRhc2hib2FyZEJyZWFkY3J1bWJzVGl0bGUnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGFzaGJvYXJkcycKICAgICAgICAgIH0pCiAgICAgICAgfV0pOwogICAgICAgICgwLCBfaGVscF9tZW51X3V0aWwuYWRkSGVscE1lbnVUb0FwcENocm9tZSkoZGVwcy5jaHJvbWUsIGRlcHMuY29yZS5kb2NMaW5rcyk7CiAgICAgICAgJHNjb3BlLmNvcmUgPSBkZXBzLmNvcmU7CiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzdG9wU3luY2luZ1F1ZXJ5U2VydmljZVN0YXRlV2l0aFVybCgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgZGFzaDogZnVuY3Rpb24gZGFzaCgkcm91dGUsIGhpc3RvcnkpIHsKICAgICAgICAgIHJldHVybiAoMCwgX3B1YmxpYy5lbnN1cmVEZWZhdWx0SW5kZXhQYXR0ZXJuKShkZXBzLmNvcmUsIGRlcHMuZGF0YSwgaGlzdG9yeSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzYXZlZE9iamVjdHNDbGllbnQgPSBkZXBzLnNhdmVkT2JqZWN0c0NsaWVudDsKICAgICAgICAgICAgdmFyIHRpdGxlID0gJHJvdXRlLmN1cnJlbnQucGFyYW1zLnRpdGxlOwoKICAgICAgICAgICAgaWYgKHRpdGxlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5maW5kKHsKICAgICAgICAgICAgICAgIHNlYXJjaDogIlwiIi5jb25jYXQodGl0bGUsICJcIiIpLAogICAgICAgICAgICAgICAgc2VhcmNoX2ZpZWxkczogJ3RpdGxlJywKICAgICAgICAgICAgICAgIHR5cGU6ICdkYXNoYm9hcmQnCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgICAgICAgICAgLy8gVGhlIHNlYXJjaCBpc24ndCBhbiBleGFjdCBtYXRjaCwgbGV0cyBzZWUgaWYgd2UgY2FuIGZpbmQgYSBzaW5nbGUgZXhhY3QgbWF0Y2ggdG8gdXNlCiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdEYXNoYm9hcmRzID0gcmVzdWx0cy5zYXZlZE9iamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChkYXNoYm9hcmQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhc2hib2FyZC5hdHRyaWJ1dGVzLnRpdGxlLnRvTG93ZXJDYXNlKCkgPT09IHRpdGxlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdEYXNoYm9hcmRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2UoKDAsIF9kYXNoYm9hcmRfY29uc3RhbnRzLmNyZWF0ZURhc2hib2FyZEVkaXRVcmwpKG1hdGNoaW5nRGFzaGJvYXJkc1swXS5pZCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlKCIiLmNvbmNhdChfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuTEFORElOR19QQUdFX1BBVEgsICI/ZmlsdGVyPVwiIikuY29uY2F0KHRpdGxlLCAiXCIiKSk7CiAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pKS53aGVuKF9kYXNoYm9hcmRfY29uc3RhbnRzLkRhc2hib2FyZENvbnN0YW50cy5DUkVBVEVfTkVXX0RBU0hCT0FSRF9VUkwsIF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRzLCB7CiAgICAgIHRlbXBsYXRlOiBfZGFzaGJvYXJkX2FwcC5kZWZhdWx0LAogICAgICBjb250cm9sbGVyOiBjcmVhdGVOZXdEYXNoYm9hcmRDdHJsLAogICAgICByZXF1aXJlVUlDYXBhYmlsaXR5OiAnZGFzaGJvYXJkLmNyZWF0ZU5ldycsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBkYXNoOiBmdW5jdGlvbiBkYXNoKGhpc3RvcnkpIHsKICAgICAgICAgIHJldHVybiAoMCwgX3B1YmxpYy5lbnN1cmVEZWZhdWx0SW5kZXhQYXR0ZXJuKShkZXBzLmNvcmUsIGRlcHMuZGF0YSwgaGlzdG9yeSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBkZXBzLnNhdmVkRGFzaGJvYXJkcy5nZXQoKTsKICAgICAgICAgIH0pLmNhdGNoKCgwLCBfcHVibGljLnJlZGlyZWN0V2hlbk1pc3NpbmcpKHsKICAgICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICAgICAgbWFwcGluZzogewogICAgICAgICAgICAgIGRhc2hib2FyZDogX2Rhc2hib2FyZF9jb25zdGFudHMuRGFzaGJvYXJkQ29uc3RhbnRzLkxBTkRJTkdfUEFHRV9QQVRICiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvYXN0Tm90aWZpY2F0aW9uczogZGVwcy5jb3JlLm5vdGlmaWNhdGlvbnMudG9hc3RzCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSkud2hlbigoMCwgX2Rhc2hib2FyZF9jb25zdGFudHMuY3JlYXRlRGFzaGJvYXJkRWRpdFVybCkoJzppZCcpLCBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0cywgewogICAgICB0ZW1wbGF0ZTogX2Rhc2hib2FyZF9hcHAuZGVmYXVsdCwKICAgICAgY29udHJvbGxlcjogY3JlYXRlTmV3RGFzaGJvYXJkQ3RybCwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGRhc2g6IGZ1bmN0aW9uIGRhc2goJHJvdXRlLCBoaXN0b3J5KSB7CiAgICAgICAgICB2YXIgaWQgPSAkcm91dGUuY3VycmVudC5wYXJhbXMuaWQ7CiAgICAgICAgICByZXR1cm4gKDAsIF9wdWJsaWMuZW5zdXJlRGVmYXVsdEluZGV4UGF0dGVybikoZGVwcy5jb3JlLCBkZXBzLmRhdGEsIGhpc3RvcnkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZGVwcy5zYXZlZERhc2hib2FyZHMuZ2V0KGlkKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNhdmVkRGFzaGJvYXJkKSB7CiAgICAgICAgICAgIGRlcHMuY2hyb21lLnJlY2VudGx5QWNjZXNzZWQuYWRkKHNhdmVkRGFzaGJvYXJkLmdldEZ1bGxQYXRoKCksIHNhdmVkRGFzaGJvYXJkLnRpdGxlLCBpZCk7CiAgICAgICAgICAgIHJldHVybiBzYXZlZERhc2hib2FyZDsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAvLyBBIGNvcnJ1cHQgZGFzaGJvYXJkIHdhcyBkZXRlY3RlZCAoZS5nLiB3aXRoIGludmFsaWQgSlNPTiBwcm9wZXJ0aWVzKQogICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBfcHVibGljLkludmFsaWRKU09OUHJvcGVydHkpIHsKICAgICAgICAgICAgICBkZXBzLmNvcmUubm90aWZpY2F0aW9ucy50b2FzdHMuYWRkRGFuZ2VyKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgIGhpc3RvcnkucHVzaChfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuTEFORElOR19QQUdFX1BBVEgpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAvLyBQcmVzZXJ2ZSBCV0Mgb2YgdjUuMy4wIGxpbmtzIGZvciBuZXcsIHVuc2F2ZWQgZGFzaGJvYXJkcy4KICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGFzdGljL2tpYmFuYS9pc3N1ZXMvMTA5NTEgZm9yIG1vcmUgY29udGV4dC4KCgogICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBfcHVibGljLlNhdmVkT2JqZWN0Tm90Rm91bmQgJiYgaWQgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgICAgICAgLy8gTm90ZSBwcmVzZXJ2ZSBxdWVyeXN0cmluZyBwYXJ0IGlzIG5lY2Vzc2FyeSBzbyB0aGUgc3RhdGUgaXMgcHJlc2VydmVkIHRocm91Z2ggdGhlIHJlZGlyZWN0LgogICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZShfb2JqZWN0U3ByZWFkKHt9LCBoaXN0b3J5LmxvY2F0aW9uLCB7CiAgICAgICAgICAgICAgICAvLyBwcmVzZXJ2ZSBxdWVyeSwKICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuQ1JFQVRFX05FV19EQVNIQk9BUkRfVVJMCiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIGRlcHMuY29yZS5ub3RpZmljYXRpb25zLnRvYXN0cy5hZGRXYXJuaW5nKF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4uZGFzaGJvYXJkLnVybFdhc1JlbW92ZWRJblNpeFplcm9XYXJuaW5nTWVzc2FnZScsIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGhlIHVybCAiZGFzaGJvYXJkL2NyZWF0ZSIgd2FzIHJlbW92ZWQgaW4gNi4wLiBQbGVhc2UgdXBkYXRlIHlvdXIgYm9va21hcmtzLicKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goKDAsIF9wdWJsaWMucmVkaXJlY3RXaGVuTWlzc2luZykoewogICAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LAogICAgICAgICAgICBtYXBwaW5nOiB7CiAgICAgICAgICAgICAgZGFzaGJvYXJkOiBfZGFzaGJvYXJkX2NvbnN0YW50cy5EYXNoYm9hcmRDb25zdGFudHMuTEFORElOR19QQUdFX1BBVEgKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9hc3ROb3RpZmljYXRpb25zOiBkZXBzLmNvcmUubm90aWZpY2F0aW9ucy50b2FzdHMKICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pKS53aGVuKCJkYXNoYm9hcmQvOnRhaWwqPyIsIHsKICAgICAgcmVkaXJlY3RUbzogIi8iLmNvbmNhdChkZXBzLmNvbmZpZy5kZWZhdWx0QXBwSWQpCiAgICB9KS53aGVuKCJkYXNoYm9hcmRzLzp0YWlsKj8iLCB7CiAgICAgIHJlZGlyZWN0VG86ICIvIi5jb25jYXQoZGVwcy5jb25maWcuZGVmYXVsdEFwcElkKQogICAgfSk7CiAgfSk7Cn0="},null]}