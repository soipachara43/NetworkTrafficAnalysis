{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/kibana_legacy/public/angular_bootstrap/tooltip/tooltip.js","dependencies":[{"path":"src/plugins/kibana_legacy/public/angular_bootstrap/tooltip/tooltip.js","mtime":1589249550927},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmluaXRCb290c3RyYXBUb29sdGlwID0gaW5pdEJvb3RzdHJhcFRvb2x0aXA7Cgp2YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImFuZ3VsYXIiKSk7Cgp2YXIgX3Bvc2l0aW9uID0gcmVxdWlyZSgiLi9wb3NpdGlvbiIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCi8qIGVzbGludC1kaXNhYmxlICovCmZ1bmN0aW9uIGluaXRCb290c3RyYXBUb29sdGlwKCkgewogICgwLCBfcG9zaXRpb24uaW5pdEJvb3RzdHJhcFBvc2l0aW9uKSgpOwogIC8qKgogICAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYQogICAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW4KICAgKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHRvb2x0aXBzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGlvbi4KICAgKi8KCiAgX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSkKICAvKioKICAgKiBUaGUgJHRvb2x0aXAgc2VydmljZSBjcmVhdGVzIHRvb2x0aXAtIGFuZCBwb3BvdmVyLWxpa2UgZGlyZWN0aXZlcyBhcyB3ZWxsIGFzCiAgICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLgogICAqLwogIC5wcm92aWRlcignJHRvb2x0aXAnLCBmdW5jdGlvbiAoKSB7CiAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuCiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgIHBsYWNlbWVudDogJ3RvcCcsCiAgICAgIGFuaW1hdGlvbjogdHJ1ZSwKICAgICAgcG9wdXBEZWxheTogMAogICAgfTsgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlcgoKICAgIHZhciB0cmlnZ2VyTWFwID0gewogICAgICBtb3VzZWVudGVyOiAnbW91c2VsZWF2ZScsCiAgICAgIGNsaWNrOiAnY2xpY2snLAogICAgICBmb2N1czogJ2JsdXInCiAgICB9OyAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LgoKICAgIHZhciBnbG9iYWxPcHRpb25zID0ge307CiAgICAvKioKICAgICAqIGBvcHRpb25zKHt9KWAgYWxsb3dzIGdsb2JhbCBjb25maWd1cmF0aW9uIG9mIGFsbCB0b29sdGlwcyBpbiB0aGUKICAgICAqIGFwcGxpY2F0aW9uLgogICAgICoKICAgICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCAnQXBwJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddLCBmdW5jdGlvbiggJHRvb2x0aXBQcm92aWRlciApIHsKICAgICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHQKICAgICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApOwogICAgICogICB9KTsKICAgICAqLwoKICAgIHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBfYW5ndWxhci5kZWZhdWx0LmV4dGVuZChnbG9iYWxPcHRpb25zLCB2YWx1ZSk7CiAgICB9OwogICAgLyoqCiAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZXh0ZW5kIHRoZSBzZXQgb2YgdHJpZ2dlciBtYXBwaW5ncyBhdmFpbGFibGUuIEUuZy46CiAgICAgKgogICAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApOwogICAgICovCgoKICAgIHRoaXMuc2V0VHJpZ2dlcnMgPSBmdW5jdGlvbiBzZXRUcmlnZ2Vycyh0cmlnZ2VycykgewogICAgICBfYW5ndWxhci5kZWZhdWx0LmV4dGVuZCh0cmlnZ2VyTWFwLCB0cmlnZ2Vycyk7CiAgICB9OwogICAgLyoqCiAgICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuCiAgICAgKi8KCgogICAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKSB7CiAgICAgIHZhciByZWdleHAgPSAvW0EtWl0vZzsKICAgICAgdmFyIHNlcGFyYXRvciA9ICctJzsKICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uIChsZXR0ZXIsIHBvcykgewogICAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7CiAgICAgIH0pOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgaW5zdGFuY2Ugb2YgdGhlICR0b29sdGlwIHNlcnZpY2UuCiAgICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnMKICAgICAqLwoKCiAgICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbiAoJHdpbmRvdywgJGNvbXBpbGUsICR0aW1lb3V0LCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgJGludGVycG9sYXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAkdG9vbHRpcCh0eXBlLCBwcmVmaXgsIGRlZmF1bHRUcmlnZ2VyU2hvdykgewogICAgICAgIHZhciBvcHRpb25zID0gX2FuZ3VsYXIuZGVmYXVsdC5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBnbG9iYWxPcHRpb25zKTsKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLgogICAgICAgICAqCiAgICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLAogICAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgCiAgICAgICAgICogb3B0aW9uIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kOyBlbHNlIGl0IHdpbGwKICAgICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuCiAgICAgICAgICoKICAgICAgICAgKiBUaGUgaGlkZSB0cmlnZ2VyIGlzIGJhc2VkIG9uIHRoZSBzaG93IHRyaWdnZXIuIElmIHRoZSBgdHJpZ2dlcmAgb3B0aW9uCiAgICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGUKICAgICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpcwogICAgICAgICAqIHVuZGVmaW5lZDsgb3RoZXJ3aXNlLCBpdCB1c2VzIHRoZSBgdHJpZ2dlck1hcGAgdmFsdWUgb2YgdGhlIHNob3cKICAgICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci4KICAgICAgICAgKi8KCgogICAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpIHsKICAgICAgICAgIHZhciBzaG93ID0gdHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93OwogICAgICAgICAgdmFyIGhpZGUgPSB0cmlnZ2VyTWFwW3Nob3ddIHx8IHNob3c7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgICBoaWRlOiBoaWRlCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBzbmFrZV9jYXNlKHR5cGUpOwogICAgICAgIHZhciBzdGFydFN5bSA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpOwogICAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7CiAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgJyArIGRpcmVjdGl2ZU5hbWUgKyAnLXBvcHVwICcgKyAndGl0bGU9IicgKyBzdGFydFN5bSArICd0aXRsZScgKyBlbmRTeW0gKyAnIiAnICsgJ2NvbnRlbnQ9IicgKyBzdGFydFN5bSArICdjb250ZW50JyArIGVuZFN5bSArICciICcgKyAncGxhY2VtZW50PSInICsgc3RhcnRTeW0gKyAncGxhY2VtZW50JyArIGVuZFN5bSArICciICcgKyAnYW5pbWF0aW9uPSJhbmltYXRpb24iICcgKyAnaXMtb3Blbj0iaXNPcGVuIicgKyAnPicgKyAnPC9kaXY+JzsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKHRFbGVtLCB0QXR0cnMpIHsKICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZXIgPSAkY29tcGlsZSh0ZW1wbGF0ZSk7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAgICAgICAgIHZhciB0b29sdGlwOwogICAgICAgICAgICAgIHZhciB0b29sdGlwTGlua2VkU2NvcGU7CiAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0OwogICAgICAgICAgICAgIHZhciBwb3B1cFRpbWVvdXQ7CiAgICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IF9hbmd1bGFyLmRlZmF1bHQuaXNEZWZpbmVkKG9wdGlvbnMuYXBwZW5kVG9Cb2R5KSA/IG9wdGlvbnMuYXBwZW5kVG9Cb2R5IDogZmFsc2U7CiAgICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModW5kZWZpbmVkKTsKCiAgICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IF9hbmd1bGFyLmRlZmF1bHQuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7CgogICAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTsKCiAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uIHBvc2l0aW9uVG9vbHRpcCgpIHsKICAgICAgICAgICAgICAgIHZhciB0dFBvc2l0aW9uID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7CiAgICAgICAgICAgICAgICB0dFBvc2l0aW9uLnRvcCArPSAncHgnOwogICAgICAgICAgICAgICAgdHRQb3NpdGlvbi5sZWZ0ICs9ICdweCc7IC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcuCgogICAgICAgICAgICAgICAgdG9vbHRpcC5jc3ModHRQb3NpdGlvbik7CiAgICAgICAgICAgICAgfTsgLy8gQnkgZGVmYXVsdCwgdGhlIHRvb2x0aXAgaXMgbm90IG9wZW4uCiAgICAgICAgICAgICAgLy8gVE9ETyBhZGQgYWJpbGl0eSB0byBzdGFydCB0b29sdGlwIG9wZW5lZAoKCiAgICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuaXNPcGVuKSB7CiAgICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSAvLyBTaG93IHRoZSB0b29sdGlwIHdpdGggZGVsYXkgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugc2hvdyBpdCBpbW1lZGlhdGVseQoKCiAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXBCaW5kKCkgewogICAgICAgICAgICAgICAgaWYgKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKSkgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHJlcGFyZVRvb2x0aXAoKTsKCiAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5wb3B1cERlbGF5KSB7CiAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC4KICAgICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHNob3cgaXMgdHJpZ2dlcmVkIG11bHRpcGxlIHRpbWVzIGJlZm9yZSBhbnkgaGlkZSBpcyB0cmlnZ2VyZWQuCiAgICAgICAgICAgICAgICAgIGlmICghcG9wdXBUaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0LnRoZW4oZnVuY3Rpb24gKHJlcG9zaXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdGltZW91dCBpcyBjYW5jZWxlZCB0aGVuIHRoZSBzdHJpbmcgYGNhbmNlbGVkYCBpcyB0aHJvd24uIFRvIHByZXZlbnQKICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgZnJvbSB0cmlnZ2VyaW5nIGFuICd1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nIGluIGFuZ3VsYXIgMS41KyB0aGUKICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0IHNlcnZpY2UgZXhwbGljaXRseSB0ZWxscyAkcSB0aGF0IHRoZSBwcm9taXNlIGl0IGdlbmVyYXRlZCBpcyAiaGFuZGxlZCIKICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGF0IGRvZXMgbm90IGluY2x1ZGUgZG93biBjaGFpbiBwcm9taXNlcyBsaWtlIHRoZSBvbmUgY3JlYXRlZCBieSBjYWxsaW5nCiAgICAgICAgICAgICAgICAgICAgICAvLyBgcG9wdXBUaW1lb3V0LnRoZW4oKWAuIEJlY2F1c2Ugb2YgdGhpcyB3ZSBuZWVkIHRvIGlnbm9yZSB0aGUgImNhbmNlbGVkIiBzdHJpbmcKICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBvbmx5IHByb3BhZ2F0ZSByZWFsIGVycm9ycwogICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yICE9PSAnY2FuY2VsZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzaG93KCkoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCgpIHsKICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBoaWRlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IC8vIFNob3cgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC4KCgogICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3coKSB7CiAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsOyAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZQogICAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC4KCiAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQpIHsKICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTsKICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsOwogICAgICAgICAgICAgICAgfSAvLyBEb24ndCBzaG93IGVtcHR5IHRvb2x0aXBzLgoKCiAgICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuY29udGVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2FuZ3VsYXIuZGVmYXVsdC5ub29wOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNyZWF0ZVRvb2x0aXAoKTsgLy8gU2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uaW5nLgoKICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsKICAgICAgICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHR0U2NvcGUuJGRpZ2VzdCgpOwogICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7IC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLgoKICAgICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHR0U2NvcGUuJGRpZ2VzdCgpOyAvLyBkaWdlc3QgcmVxdWlyZWQgYXMgJGFwcGx5IGlzIG5vdCBjYWxsZWQKICAgICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0CiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbmluZyBhZnRlciBkcmF3LgoKICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblRvb2x0aXA7CiAgICAgICAgICAgICAgfSAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuCgoKICAgICAgICAgICAgICBmdW5jdGlvbiBoaWRlKCkgewogICAgICAgICAgICAgICAgLy8gRmlyc3QgdGhpbmdzIGZpcnN0OiB3ZSBkb24ndCBzaG93IGl0IGFueW1vcmUuCiAgICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlOyAvL2lmIHRvb2x0aXAgaXMgZ29pbmcgdG8gYmUgc2hvd24gYWZ0ZXIgZGVsYXksIHdlIG11c3QgY2FuY2VsIHRoaXMKCiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTsKICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7IC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlCiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLgogICAgICAgICAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBwb3J0IG9mIHRoZSB0cmFuc2l0aW9ucyBsaWJyYXJ5LgoKICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmFuaW1hdGlvbikgewogICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSAkdGltZW91dChyZW1vdmVUb29sdGlwLCA1MDApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkgewogICAgICAgICAgICAgICAgLy8gVGhlcmUgY2FuIG9ubHkgYmUgb25lIHRvb2x0aXAgZWxlbWVudCBwZXIgZGlyZWN0aXZlIHNob3duIGF0IG9uY2UuCiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7CiAgICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcih0b29sdGlwTGlua2VkU2NvcGUsIGZ1bmN0aW9uICh0b29sdGlwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHsKICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCh0b29sdGlwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFmdGVyKHRvb2x0aXApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7CgogICAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHsKICAgICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgdG9vbHRpcCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBMaW5rZWRTY29wZSkgewogICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkgewogICAgICAgICAgICAgICAgcHJlcFBsYWNlbWVudCgpOwogICAgICAgICAgICAgICAgcHJlcFBvcHVwRGVsYXkoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy4KICAgICAgICAgICAgICAgKi8KCgogICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHR5cGUsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICAgIHR0U2NvcGUuY29udGVudCA9IHZhbDsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3BlbikgewogICAgICAgICAgICAgICAgICBoaWRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUocHJlZml4ICsgJ1RpdGxlJywgZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgICAgdHRTY29wZS50aXRsZSA9IHZhbDsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHsKICAgICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnUGxhY2VtZW50J107CiAgICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IF9hbmd1bGFyLmRlZmF1bHQuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cERlbGF5KCkgewogICAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzW3ByZWZpeCArICdQb3B1cERlbGF5J107CiAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTsKICAgICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBEZWxheSA9ICFpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJpZ2dlcnMoKSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5zaG93LCBzaG93VG9vbHRpcEJpbmQpOwogICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBmdW5jdGlvbiBwcmVwVHJpZ2dlcnMoKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1RyaWdnZXInXTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpOwogICAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh2YWwpOwoKICAgICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5zaG93ID09PSB0cmlnZ2Vycy5oaWRlKSB7CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LCB0b2dnbGVUb29sdGlwQmluZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kKTsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKHRyaWdnZXJzLmhpZGUsIGhpZGVUb29sdGlwQmluZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBwcmVwVHJpZ2dlcnMoKTsKICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTsKICAgICAgICAgICAgICB0dFNjb3BlLmFuaW1hdGlvbiA9IF9hbmd1bGFyLmRlZmF1bHQuaXNEZWZpbmVkKGFuaW1hdGlvbikgPyAhIWFuaW1hdGlvbiA6IG9wdGlvbnMuYW5pbWF0aW9uOwogICAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pOwogICAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IF9hbmd1bGFyLmRlZmF1bHQuaXNEZWZpbmVkKGFwcGVuZFRvQm9keVZhbCkgPyBhcHBlbmRUb0JvZHlWYWwgOiBhcHBlbmRUb0JvZHk7IC8vIGlmIGEgdG9vbHRpcCBpcyBhdHRhY2hlZCB0byA8Ym9keT4gd2UgbmVlZCB0byByZW1vdmUgaXQgb24KICAgICAgICAgICAgICAvLyBsb2NhdGlvbiBjaGFuZ2UgYXMgaXRzIHBhcmVudCBzY29wZSB3aWxsIHByb2JhYmx5IG5vdCBiZSBkZXN0cm95ZWQKICAgICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLgoKICAgICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7CiAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcygpIHsKICAgICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7CiAgICAgICAgICAgICAgICAgICAgaGlkZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IC8vIE1ha2Ugc3VyZSB0b29sdGlwIGlzIGRlc3Ryb3llZCBhbmQgcmVtb3ZlZC4KCgogICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBvbkRlc3Ryb3lUb29sdGlwKCkgewogICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTsKICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7CiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9OwogICAgfV07CiAgfSkuZGlyZWN0aXZlKCd0b29sdGlwJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uICgkdG9vbHRpcCkgewogICAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpOwogIH1dKS5kaXJlY3RpdmUoJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RyaWN0OiAnRUEnLAogICAgICByZXBsYWNlOiB0cnVlLAogICAgICBzY29wZTogewogICAgICAgIGNvbnRlbnQ6ICdAJywKICAgICAgICBwbGFjZW1lbnQ6ICdAJywKICAgICAgICBhbmltYXRpb246ICcmJywKICAgICAgICBpc09wZW46ICcmJwogICAgICB9LAogICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJwogICAgfTsKICB9KS5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uICgkdG9vbHRpcCkgewogICAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTsKICB9XSkuZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZVBvcHVwJywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgIHNjb3BlOiB7CiAgICAgICAgY29udGVudDogJ0AnLAogICAgICAgIHBsYWNlbWVudDogJ0AnLAogICAgICAgIGFuaW1hdGlvbjogJyYnLAogICAgICAgIGlzT3BlbjogJyYnCiAgICAgIH0sCiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnCiAgICB9OwogIH0pOwp9"},null]}