{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/cross_cluster_replication/public/np_ready/app/sections/home/auto_follow_pattern_list/auto_follow_pattern_list.js","dependencies":[{"path":"x-pack/legacy/plugins/cross_cluster_replication/public/np_ready/app/sections/home/auto_follow_pattern_list/auto_follow_pattern_list.js","mtime":1589249552196},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkF1dG9Gb2xsb3dQYXR0ZXJuTGlzdCA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcm91dGluZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vLi4vc2VydmljZXMvcm91dGluZyIpKTsKCnZhciBfcXVlcnlfcGFyYW1zID0gcmVxdWlyZSgiLi4vLi4vLi4vc2VydmljZXMvcXVlcnlfcGFyYW1zIik7Cgp2YXIgX3RyYWNrX3VpX21ldHJpYyA9IHJlcXVpcmUoIi4uLy4uLy4uL3NlcnZpY2VzL3RyYWNrX3VpX21ldHJpYyIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi8uLi9jb25zdGFudHMiKTsKCnZhciBfY29tcG9uZW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbXBvbmVudHMiKTsKCnZhciBfY29tcG9uZW50czIgPSByZXF1aXJlKCIuL2NvbXBvbmVudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBSRUZSRVNIX1JBVEVfTVMgPSAzMDAwMDsKCnZhciBnZXRRdWVyeVBhcmFtUGF0dGVybiA9IGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1QYXR0ZXJuKF9yZWYpIHsKICB2YXIgc2VhcmNoID0gX3JlZi5sb2NhdGlvbi5zZWFyY2g7CgogIHZhciBfZXh0cmFjdFF1ZXJ5UGFyYW1zID0gKDAsIF9xdWVyeV9wYXJhbXMuZXh0cmFjdFF1ZXJ5UGFyYW1zKShzZWFyY2gpLAogICAgICBwYXR0ZXJuID0gX2V4dHJhY3RRdWVyeVBhcmFtcy5wYXR0ZXJuOwoKICByZXR1cm4gcGF0dGVybiA/IGRlY29kZVVSSUNvbXBvbmVudChwYXR0ZXJuKSA6IG51bGw7Cn07Cgp2YXIgQXV0b0ZvbGxvd1BhdHRlcm5MaXN0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoQXV0b0ZvbGxvd1BhdHRlcm5MaXN0LCBfUHVyZUNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEF1dG9Gb2xsb3dQYXR0ZXJuTGlzdCgpIHsKICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyOwoKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0b0ZvbGxvd1BhdHRlcm5MaXN0KTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKEF1dG9Gb2xsb3dQYXR0ZXJuTGlzdCkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInN0YXRlIiwgewogICAgICBsYXN0QXV0b0ZvbGxvd1BhdHRlcm5JZDogbnVsbCwKICAgICAgaXNEZXRhaWxQYW5lbE9wZW46IGZhbHNlCiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0b0ZvbGxvd1BhdHRlcm5MaXN0LCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgbG9hZEF1dG9Gb2xsb3dQYXR0ZXJucyA9IF90aGlzJHByb3BzLmxvYWRBdXRvRm9sbG93UGF0dGVybnMsCiAgICAgICAgICBsb2FkQXV0b0ZvbGxvd1N0YXRzID0gX3RoaXMkcHJvcHMubG9hZEF1dG9Gb2xsb3dTdGF0cywKICAgICAgICAgIHNlbGVjdEF1dG9Gb2xsb3dQYXR0ZXJuID0gX3RoaXMkcHJvcHMuc2VsZWN0QXV0b0ZvbGxvd1BhdHRlcm4sCiAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMuaGlzdG9yeTsKICAgICAgKDAsIF90cmFja191aV9tZXRyaWMudHJhY2tVaU1ldHJpYykoX3RyYWNrX3VpX21ldHJpYy5NRVRSSUNfVFlQRS5MT0FERUQsIF9jb25zdGFudHMuVUlNX0FVVE9fRk9MTE9XX1BBVFRFUk5fTElTVF9MT0FEKTsKICAgICAgbG9hZEF1dG9Gb2xsb3dQYXR0ZXJucygpOwogICAgICBsb2FkQXV0b0ZvbGxvd1N0YXRzKCk7IC8vIFNlbGVjdCB0aGUgcGF0dGVybiBpbiB0aGUgVVJMIHF1ZXJ5IHBhcmFtcwoKICAgICAgc2VsZWN0QXV0b0ZvbGxvd1BhdHRlcm4oZ2V0UXVlcnlQYXJhbVBhdHRlcm4oaGlzdG9yeSkpOyAvLyBJbnRlcnZhbCB0byBsb2FkIGF1dG8tZm9sbG93IHBhdHRlcm5zIGluIHRoZSBiYWNrZ3JvdW5kIHBhc3NpbmcgInRydWUiIHRvIHRoZSBmZXRjaCBtZXRob2QKCiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGxvYWRBdXRvRm9sbG93UGF0dGVybnModHJ1ZSk7CiAgICAgIH0sIFJFRlJFU0hfUkFURV9NUyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMyLmhpc3RvcnksCiAgICAgICAgICBsb2FkQXV0b0ZvbGxvd1N0YXRzID0gX3RoaXMkcHJvcHMyLmxvYWRBdXRvRm9sbG93U3RhdHM7CiAgICAgIHZhciBsYXN0QXV0b0ZvbGxvd1BhdHRlcm5JZCA9IHRoaXMuc3RhdGUubGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQ7CiAgICAgIC8qKgogICAgICAgKiBFYWNoIHRpbWUgb3VyIHN0YXRlIGlzIHVwZGF0ZWQgKHRocm91Z2ggZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCkpCiAgICAgICAqIHdlIHBlcnNpc3QgdGhlIGF1dG8tZm9sbG93IHBhdHRlcm4gaWQgdG8gcXVlcnkgcGFyYW1zIGZvciBkZWVwIGxpbmtpbmcKICAgICAgICovCgogICAgICBpZiAobGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQgIT09IHByZXZTdGF0ZS5sYXN0QXV0b0ZvbGxvd1BhdHRlcm5JZCkgewogICAgICAgIGlmICghbGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQpIHsKICAgICAgICAgIGhpc3RvcnkucmVwbGFjZSh7CiAgICAgICAgICAgIHNlYXJjaDogJycKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoaXN0b3J5LnJlcGxhY2UoewogICAgICAgICAgICBzZWFyY2g6ICI/cGF0dGVybj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQpKQogICAgICAgICAgfSk7CiAgICAgICAgICBsb2FkQXV0b0ZvbGxvd1N0YXRzKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckhlYWRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySGVhZGVyKCkgewogICAgICB2YXIgaXNBdXRob3JpemVkID0gdGhpcy5wcm9wcy5pc0F1dGhvcml6ZWQ7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIiwKICAgICAgICBhbGlnbkl0ZW1zOiAiZmxleFN0YXJ0IgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5hdXRvRm9sbG93UGF0dGVybkxpc3QuYXV0b0ZvbGxvd1BhdHRlcm5zRGVzY3JpcHRpb24iLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQW4gYXV0by1mb2xsb3cgcGF0dGVybiByZXBsaWNhdGVzIGxlYWRlciBpbmRpY2VzIGZyb20gYSByZW1vdGUgY2x1c3RlciBhbmQgY29waWVzIHRoZW0gdG8gZm9sbG93ZXIgaW5kaWNlcyBvbiB0aGUgbG9jYWwgY2x1c3Rlci4iCiAgICAgIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBpc0F1dGhvcml6ZWQgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgX2V4dGVuZHMoe30sIF9yb3V0aW5nLmRlZmF1bHQuZ2V0Um91dGVyTGlua1Byb3BzKCcvYXV0b19mb2xsb3dfcGF0dGVybnMvYWRkJyksIHsKICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIGljb25UeXBlOiAicGx1c0luQ2lyY2xlIiwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY3JlYXRlQXV0b0ZvbGxvd1BhdHRlcm5CdXR0b24iCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uYXV0b0ZvbGxvd1BhdHRlcm5MaXN0LmFkZEF1dG9Gb2xsb3dQYXR0ZXJuQnV0dG9uTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3JlYXRlIGFuIGF1dG8tZm9sbG93IHBhdHRlcm4iCiAgICAgIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJDb250ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJDb250ZW50KGlzRW1wdHkpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBhcGlFcnJvciA9IF90aGlzJHByb3BzMy5hcGlFcnJvciwKICAgICAgICAgIGFwaVN0YXR1cyA9IF90aGlzJHByb3BzMy5hcGlTdGF0dXMsCiAgICAgICAgICBpc0F1dGhvcml6ZWQgPSBfdGhpcyRwcm9wczMuaXNBdXRob3JpemVkOwoKICAgICAgaWYgKCFpc0F1dGhvcml6ZWQpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50cy5TZWN0aW9uVW5hdXRob3JpemVkLCB7CiAgICAgICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5hdXRvRm9sbG93UGF0dGVybkxpc3QucGVybWlzc2lvbkVycm9yVGl0bGUiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlBlcm1pc3Npb24gZXJyb3IiCiAgICAgICAgICB9KQogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmF1dG9Gb2xsb3dQYXR0ZXJuTGlzdC5ub1Blcm1pc3Npb25UZXh0IiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gdmlldyBvciBhZGQgYXV0by1mb2xsb3cgcGF0dGVybnMuIgogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKGFwaUVycm9yKSB7CiAgICAgICAgdmFyIHRpdGxlID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmF1dG9Gb2xsb3dQYXR0ZXJuTGlzdC5sb2FkaW5nRXJyb3JUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRXJyb3IgbG9hZGluZyBhdXRvLWZvbGxvdyBwYXR0ZXJucycKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLlNlY3Rpb25FcnJvciwgewogICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgZXJyb3I6IGFwaUVycm9yCiAgICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICAgIHNpemU6ICJtIgogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKGlzRW1wdHkpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJFbXB0eSgpOwogICAgICB9CgogICAgICBpZiAoYXBpU3RhdHVzID09PSBfY29uc3RhbnRzLkFQSV9TVEFUVVMuTE9BRElORykgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLlNlY3Rpb25Mb2FkaW5nLCB7CiAgICAgICAgICBkYXRhVGVzdFN1Ymo6ICJhdXRvRm9sbG93UGF0dGVybkxvYWRpbmciCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uYXV0b0ZvbGxvd1BhdHRlcm5MaXN0LmxvYWRpbmdUaXRsZSIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkxvYWRpbmcgYXV0by1mb2xsb3cgcGF0dGVybnMuLi4iCiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW5kZXJMaXN0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyRW1wdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckVtcHR5KCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUVtcHR5UHJvbXB0LCB7CiAgICAgICAgaWNvblR5cGU6ICJtYW5hZ2VtZW50QXBwIiwKICAgICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDEiLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5hdXRvRm9sbG93UGF0dGVybkxpc3QuZW1wdHlQcm9tcHRUaXRsZSIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNyZWF0ZSB5b3VyIGZpcnN0IGF1dG8tZm9sbG93IHBhdHRlcm4iCiAgICAgICAgfSkpLAogICAgICAgIGJvZHk6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uYXV0b0ZvbGxvd1BhdHRlcm5MaXN0LmVtcHR5UHJvbXB0RGVzY3JpcHRpb24iLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJVc2UgYW4gYXV0by1mb2xsb3cgcGF0dGVybiB0byBhdXRvbWF0aWNhbGx5IHJlcGxpY2F0ZSBpbmRpY2VzIGZyb20gYSByZW1vdGUgY2x1c3Rlci4iCiAgICAgICAgfSkpKSwKICAgICAgICBhY3Rpb25zOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCBfZXh0ZW5kcyh7fSwgX3JvdXRpbmcuZGVmYXVsdC5nZXRSb3V0ZXJMaW5rUHJvcHMoJy9hdXRvX2ZvbGxvd19wYXR0ZXJucy9hZGQnKSwgewogICAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICAgIGljb25UeXBlOiAicGx1c0luQ2lyY2xlIiwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjcmVhdGVBdXRvRm9sbG93UGF0dGVybkJ1dHRvbiIKICAgICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uYWRkQXV0b0ZvbGxvd1BhdHRlcm5CdXR0b25MYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNyZWF0ZSBhdXRvLWZvbGxvdyBwYXR0ZXJuIgogICAgICAgIH0pKSwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZW1wdHlQcm9tcHQiCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLAogICAgICAgICAgc2VsZWN0QXV0b0ZvbGxvd1BhdHRlcm4gPSBfdGhpcyRwcm9wczQuc2VsZWN0QXV0b0ZvbGxvd1BhdHRlcm4sCiAgICAgICAgICBhdXRvRm9sbG93UGF0dGVybnMgPSBfdGhpcyRwcm9wczQuYXV0b0ZvbGxvd1BhdHRlcm5zOwogICAgICB2YXIgaXNEZXRhaWxQYW5lbE9wZW4gPSB0aGlzLnN0YXRlLmlzRGV0YWlsUGFuZWxPcGVuOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29tcG9uZW50czIuQXV0b0ZvbGxvd1BhdHRlcm5UYWJsZSwgewogICAgICAgIGF1dG9Gb2xsb3dQYXR0ZXJuczogYXV0b0ZvbGxvd1BhdHRlcm5zCiAgICAgIH0pLCBpc0RldGFpbFBhbmVsT3BlbiAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzMi5EZXRhaWxQYW5lbCwgewogICAgICAgIGNsb3NlRGV0YWlsUGFuZWw6IGZ1bmN0aW9uIGNsb3NlRGV0YWlsUGFuZWwoKSB7CiAgICAgICAgICByZXR1cm4gc2VsZWN0QXV0b0ZvbGxvd1BhdHRlcm4obnVsbCk7CiAgICAgICAgfQogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLAogICAgICAgICAgYXV0b0ZvbGxvd1BhdHRlcm5zID0gX3RoaXMkcHJvcHM1LmF1dG9Gb2xsb3dQYXR0ZXJucywKICAgICAgICAgIGFwaVN0YXR1cyA9IF90aGlzJHByb3BzNS5hcGlTdGF0dXM7CiAgICAgIHZhciBpc0VtcHR5ID0gYXBpU3RhdHVzID09PSBfY29uc3RhbnRzLkFQSV9TVEFUVVMuSURMRSAmJiAhYXV0b0ZvbGxvd1BhdHRlcm5zLmxlbmd0aDsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCAhaXNFbXB0eSAmJiB0aGlzLnJlbmRlckhlYWRlcigpLCB0aGlzLnJlbmRlckNvbnRlbnQoaXNFbXB0eSkpOwogICAgfQogIH1dLCBbewogICAga2V5OiAiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoX3JlZjIsIF9yZWYzKSB7CiAgICAgIHZhciBhdXRvRm9sbG93UGF0dGVybklkID0gX3JlZjIuYXV0b0ZvbGxvd1BhdHRlcm5JZDsKICAgICAgdmFyIGxhc3RBdXRvRm9sbG93UGF0dGVybklkID0gX3JlZjMubGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQ7CgogICAgICBpZiAoYXV0b0ZvbGxvd1BhdHRlcm5JZCAhPT0gbGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFzdEF1dG9Gb2xsb3dQYXR0ZXJuSWQ6IGF1dG9Gb2xsb3dQYXR0ZXJuSWQsCiAgICAgICAgICBpc0RldGFpbFBhbmVsT3BlbjogISFhdXRvRm9sbG93UGF0dGVybklkCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0b0ZvbGxvd1BhdHRlcm5MaXN0Owp9KF9yZWFjdC5QdXJlQ29tcG9uZW50KTsKCmV4cG9ydHMuQXV0b0ZvbGxvd1BhdHRlcm5MaXN0ID0gQXV0b0ZvbGxvd1BhdHRlcm5MaXN0OwoKX2RlZmluZVByb3BlcnR5KEF1dG9Gb2xsb3dQYXR0ZXJuTGlzdCwgInByb3BUeXBlcyIsIHsKICBsb2FkQXV0b0ZvbGxvd1BhdHRlcm5zOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICBzZWxlY3RBdXRvRm9sbG93UGF0dGVybjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgbG9hZEF1dG9Gb2xsb3dTdGF0czogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgYXV0b0ZvbGxvd1BhdHRlcm5zOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXksCiAgYXBpU3RhdHVzOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIGFwaUVycm9yOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0Cn0pOw=="},null]}