{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/components/tooltip_selector.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/components/tooltip_selector.js","mtime":1589249552400},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlRvb2x0aXBTZWxlY3RvciA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfY2xhc3NuYW1lcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiY2xhc3NuYW1lcyIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2FkZF90b29sdGlwX2ZpZWxkX3BvcG92ZXIgPSByZXF1aXJlKCIuL2FkZF90b29sdGlwX2ZpZWxkX3BvcG92ZXIiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKLy8gVE9ETyBpbXBvcnQgcmVvcmRlciBmcm9tIEVVSSBvbmNlIGl0cyBleHBvc2VkIGFzIHNlcnZpY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsYXN0aWMvZXVpL2lzc3Vlcy8yMzcyCnZhciByZW9yZGVyID0gZnVuY3Rpb24gcmVvcmRlcihsaXN0LCBzdGFydEluZGV4LCBlbmRJbmRleCkgewogIHZhciByZXN1bHQgPSBBcnJheS5mcm9tKGxpc3QpOwoKICB2YXIgX3Jlc3VsdCRzcGxpY2UgPSByZXN1bHQuc3BsaWNlKHN0YXJ0SW5kZXgsIDEpLAogICAgICBfcmVzdWx0JHNwbGljZTIgPSBfc2xpY2VkVG9BcnJheShfcmVzdWx0JHNwbGljZSwgMSksCiAgICAgIHJlbW92ZWQgPSBfcmVzdWx0JHNwbGljZTJbMF07CgogIHJlc3VsdC5zcGxpY2UoZW5kSW5kZXgsIDAsIHJlbW92ZWQpOwogIHJldHVybiByZXN1bHQ7Cn07Cgp2YXIgZ2V0UHJvcHMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmaWVsZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKAogICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBsYWJlbCwgdHlwZTsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmllbGQuZ2V0TGFiZWwoKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZC5nZXREYXRhVHlwZSgpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpZWxkLmdldE5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChfY29udGV4dC50MCk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIsIF94MykgewogICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSgpKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvcHMoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKdmFyIFRvb2x0aXBTZWxlY3RvciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoVG9vbHRpcFNlbGVjdG9yLCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gVG9vbHRpcFNlbGVjdG9yKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb29sdGlwU2VsZWN0b3IpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFRvb2x0aXBTZWxlY3RvcikuY2FsbCh0aGlzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3RhdGUiLCB7CiAgICAgIGZpZWxkUHJvcHM6IFtdLAogICAgICBzZWxlY3RlZEZpZWxkUHJvcHM6IFtdCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfZ2V0UHJvcGVydHlMYWJlbCIsIGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHsKICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5maWVsZFByb3BzLmxlbmd0aCkgewogICAgICAgIHJldHVybiBwcm9wZXJ0eU5hbWU7CiAgICAgIH0KCiAgICAgIHZhciBwcm9wID0gX3RoaXMuc3RhdGUuZmllbGRQcm9wcy5maW5kKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgIHJldHVybiBmaWVsZC5uYW1lID09PSBwcm9wZXJ0eU5hbWU7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHByb3AubGFiZWwgPyBwcm9wLmxhYmVsIDogcHJvcGVydHlOYW1lOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uQWRkIiwgZnVuY3Rpb24gKHByb3BlcnRpZXMpIHsKICAgICAgaWYgKCFfdGhpcy5wcm9wcy50b29sdGlwRmllbGRzKSB7CiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoX3RvQ29uc3VtYWJsZUFycmF5KHByb3BlcnRpZXMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZXhpc3RpbmdQcm9wZXJ0aWVzID0gX3RoaXMuX2dldFRvb2x0aXBQcm9wZXJ0aWVzKCk7CgogICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZXhpc3RpbmdQcm9wZXJ0aWVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHByb3BlcnRpZXMpKSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIl9yZW1vdmVQcm9wZXJ0eSIsIGZ1bmN0aW9uIChpbmRleCkgewogICAgICBpZiAoIV90aGlzLnByb3BzLnRvb2x0aXBGaWVsZHMpIHsKICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShbXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHRvb2x0aXBQcm9wZXJ0aWVzID0gX3RoaXMuX2dldFRvb2x0aXBQcm9wZXJ0aWVzKCk7CgogICAgICAgIHRvb2x0aXBQcm9wZXJ0aWVzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHRvb2x0aXBQcm9wZXJ0aWVzKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uRHJhZ0VuZCIsIGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgc291cmNlID0gX3JlZjMuc291cmNlLAogICAgICAgICAgZGVzdGluYXRpb24gPSBfcmVmMy5kZXN0aW5hdGlvbjsKCiAgICAgIC8vIERyYWdnaW5nIGl0ZW0gb3V0IG9mIEV1aURyb3BwYWJsZSByZXN1bHRzIGluIGRlc3RpbmF0aW9uIG9mIG51bGwKICAgICAgaWYgKCFkZXN0aW5hdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UocmVvcmRlcihfdGhpcy5fZ2V0VG9vbHRpcFByb3BlcnRpZXMoKSwgc291cmNlLmluZGV4LCBkZXN0aW5hdGlvbi5pbmRleCkpOwogICAgfSk7CgogICAgX3RoaXMuX2lzTW91bnRlZCA9IGZhbHNlOwogICAgX3RoaXMuX3ByZXZpb3VzRmllbGRzID0gbnVsbDsKICAgIF90aGlzLl9wcmV2aW91c1NlbGVjdGVkVG9vbHRpcHMgPSBudWxsOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRvb2x0aXBTZWxlY3RvciwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTsKCiAgICAgIHRoaXMuX2xvYWRGaWVsZFByb3BzKCk7CgogICAgICB0aGlzLl9sb2FkVG9vbHRpcEZpZWxkUHJvcHMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkgewogICAgICB0aGlzLl9sb2FkVG9vbHRpcEZpZWxkUHJvcHMoKTsKCiAgICAgIHRoaXMuX2xvYWRGaWVsZFByb3BzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2xvYWRUb29sdGlwRmllbGRQcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvYWRUb29sdGlwRmllbGRQcm9wczIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc2VsZWN0ZWRQcm9wcywgc2VsZWN0ZWRGaWVsZFByb3BzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISghdGhpcy5wcm9wcy50b29sdGlwRmllbGRzIHx8IHRoaXMucHJvcHMudG9vbHRpcEZpZWxkcyA9PT0gdGhpcy5fcHJldmlvdXNTZWxlY3RlZFRvb2x0aXBzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNTZWxlY3RlZFRvb2x0aXBzID0gdGhpcy5wcm9wcy50b29sdGlwRmllbGRzOwogICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9wcyA9IHRoaXMucHJvcHMudG9vbHRpcEZpZWxkcy5tYXAoZ2V0UHJvcHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHNlbGVjdGVkUHJvcHMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkUHJvcHMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRQcm9wczogc2VsZWN0ZWRGaWVsZFByb3BzCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBfbG9hZFRvb2x0aXBGaWVsZFByb3BzKCkgewogICAgICAgIHJldHVybiBfbG9hZFRvb2x0aXBGaWVsZFByb3BzMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gX2xvYWRUb29sdGlwRmllbGRQcm9wczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIl9sb2FkRmllbGRQcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvYWRGaWVsZFByb3BzMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBwcm9wcywgZmllbGRQcm9wczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoIXRoaXMucHJvcHMuZmllbGRzIHx8IHRoaXMucHJvcHMuZmllbGRzID09PSB0aGlzLl9wcmV2aW91c0ZpZWxkcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzRmllbGRzID0gdGhpcy5wcm9wcy5maWVsZHM7CiAgICAgICAgICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHMuZmllbGRzLm1hcChnZXRQcm9wcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvcHMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBmaWVsZFByb3BzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzTW91bnRlZCkgewogICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICBmaWVsZFByb3BzOiBmaWVsZFByb3BzCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBfbG9hZEZpZWxkUHJvcHMoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkRmllbGRQcm9wczIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9sb2FkRmllbGRQcm9wczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIl9nZXRUb29sdGlwUHJvcGVydGllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFRvb2x0aXBQcm9wZXJ0aWVzKCkgewogICAgICByZXR1cm4gdGhpcy5wcm9wcy50b29sdGlwRmllbGRzLm1hcChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICByZXR1cm4gZmllbGQuZ2V0TmFtZSgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyUHJvcGVydGllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclByb3BlcnRpZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmllbGRQcm9wcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlEcmFnRHJvcENvbnRleHQsIHsKICAgICAgICBvbkRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZAogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRHJvcHBhYmxlLCB7CiAgICAgICAgZHJvcHBhYmxlSWQ6ICJtYXBMYXllclRPQyIsCiAgICAgICAgc3BhY2luZzogIm5vbmUiCiAgICAgIH0sIGZ1bmN0aW9uIChwcm92aWRlZCwgc25hcHNob3QpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLnN0YXRlLnNlbGVjdGVkRmllbGRQcm9wcy5tYXAoZnVuY3Rpb24gKGZpZWxkLCBpZHgpIHsKICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRHJhZ2dhYmxlLCB7CiAgICAgICAgICAgIHNwYWNpbmc6ICJub25lIiwKICAgICAgICAgICAga2V5OiBmaWVsZC5uYW1lLAogICAgICAgICAgICBpbmRleDogaWR4LAogICAgICAgICAgICBkcmFnZ2FibGVJZDogZmllbGQubmFtZSwKICAgICAgICAgICAgY3VzdG9tRHJhZ0hhbmRsZTogdHJ1ZSwKICAgICAgICAgICAgZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudEJsb2NraW5nOiB0cnVlIC8vIEFsbG93cyBidXR0b24gdG8gYmUgZHJhZyBoYW5kbGUKCiAgICAgICAgICB9LCBmdW5jdGlvbiAocHJvdmlkZWQsIHN0YXRlKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkoJ21hcFRvb2x0aXBTZWxlY3Rvcl9fcHJvcGVydHlSb3cnLCB7CiAgICAgICAgICAgICAgICAnbWFwVG9vbHRpcFNlbGVjdG9yX19wcm9wZXJ0eVJvdy1pc0RyYWdnaW5nJzogc3RhdGUuaXNEcmFnZ2luZywKICAgICAgICAgICAgICAgICdtYXBUb29sdGlwU2VsZWN0b3JfX3Byb3BlcnR5Um93LWlzRHJhZ2dpbmdPdmVyJzogc25hcHNob3QuaXNEcmFnZ2luZ092ZXIKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgICAgICAgIGNsYXNzTmFtZTogIm1hcFRvb2x0aXBTZWxlY3Rvcl9fcHJvcGVydHlDb250ZW50IiwKICAgICAgICAgICAgICBzaXplOiAicyIKICAgICAgICAgICAgfSwgX3RoaXMyLl9nZXRQcm9wZXJ0eUxhYmVsKGZpZWxkLm5hbWUpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICAgIGNsYXNzTmFtZTogIm1hcFRvb2x0aXBTZWxlY3Rvcl9fcHJvcGVydHlJY29ucyIKICAgICAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIHsKICAgICAgICAgICAgICBpY29uVHlwZTogInRyYXNoIiwKICAgICAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICAgICAgb25DbGljazogX3RoaXMyLl9yZW1vdmVQcm9wZXJ0eS5iaW5kKG51bGwsIGlkeCksCiAgICAgICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnRvb2x0aXBTZWxlY3Rvci50cmFzaEJ1dHRvblRpdGxlJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZW1vdmUgcHJvcGVydHknCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgImFyaWEtbGFiZWwiOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWFwcy50b29sdGlwU2VsZWN0b3IudHJhc2hCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1JlbW92ZSBwcm9wZXJ0eScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkljb24sIF9leHRlbmRzKHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJtYXBUb29sdGlwU2VsZWN0b3JfX2dyYWIiLAogICAgICAgICAgICAgIGljb25UeXBlOiAiZ3JhYiIsCiAgICAgICAgICAgICAgY29sb3I6ICJzdWJkdWVkIiwKICAgICAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMudG9vbHRpcFNlbGVjdG9yLmdyYWJCdXR0b25UaXRsZScsIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVvcmRlciBwcm9wZXJ0eScKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAiYXJpYS1sYWJlbCI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnRvb2x0aXBTZWxlY3Rvci5ncmFiQnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZW9yZGVyIHByb3BlcnR5JwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sIHByb3ZpZGVkLmRyYWdIYW5kbGVQcm9wcykpKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgdGhpcy5fcmVuZGVyUHJvcGVydGllcygpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogInMiCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dEFsaWduLCB7CiAgICAgICAgdGV4dEFsaWduOiAiY2VudGVyIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hZGRfdG9vbHRpcF9maWVsZF9wb3BvdmVyLkFkZFRvb2x0aXBGaWVsZFBvcG92ZXIsIHsKICAgICAgICBvbkFkZDogdGhpcy5fb25BZGQsCiAgICAgICAgZmllbGRzOiB0aGlzLnN0YXRlLmZpZWxkUHJvcHMsCiAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWVsZFByb3BzCiAgICAgIH0pKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVG9vbHRpcFNlbGVjdG9yOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5Ub29sdGlwU2VsZWN0b3IgPSBUb29sdGlwU2VsZWN0b3I7"},null]}