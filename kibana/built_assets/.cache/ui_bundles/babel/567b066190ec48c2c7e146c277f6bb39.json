{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/lens/public/metric_visualization/metric_expression.js","dependencies":[{"path":"x-pack/legacy/plugins/lens/public/metric_visualization/metric_expression.js","mtime":1589249552324},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLk1ldHJpY0NoYXJ0ID0gTWV0cmljQ2hhcnQ7CmV4cG9ydHMuZ2V0TWV0cmljQ2hhcnRSZW5kZXJlciA9IGV4cG9ydHMubWV0cmljQ2hhcnQgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcmVhY3REb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0LWRvbSIpKTsKCnZhciBfYXV0b19zY2FsZSA9IHJlcXVpcmUoIi4vYXV0b19zY2FsZSIpOwoKdmFyIF92aXN1YWxpemF0aW9uX2NvbnRhaW5lciA9IHJlcXVpcmUoIi4uL3Zpc3VhbGl6YXRpb25fY29udGFpbmVyIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Cgp2YXIgbWV0cmljQ2hhcnQgPSB7CiAgbmFtZTogJ2xlbnNfbWV0cmljX2NoYXJ0JywKICB0eXBlOiAncmVuZGVyJywKICBoZWxwOiAnQSBtZXRyaWMgY2hhcnQnLAogIGFyZ3M6IHsKICAgIHRpdGxlOiB7CiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLAogICAgICBoZWxwOiAnVGhlIGNoYXJ0IHRpdGxlLicKICAgIH0sCiAgICBhY2Nlc3NvcjogewogICAgICB0eXBlczogWydzdHJpbmcnXSwKICAgICAgaGVscDogJ1RoZSBjb2x1bW4gd2hvc2UgdmFsdWUgaXMgYmVpbmcgZGlzcGxheWVkJwogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sCiAgICAgIG9wdGlvbnM6IFsncmVkdWNlZCcsICdmdWxsJ10sCiAgICAgIGRlZmF1bHQ6ICdmdWxsJywKICAgICAgaGVscDogJ1RoZSBkaXNwbGF5IG1vZGUgb2YgdGhlIGNoYXJ0IC0gcmVkdWNlZCB3aWxsIG9ubHkgc2hvdyB0aGUgbWV0cmljIGl0c2VsZiB3aXRob3V0IG1pbiBzaXplJwogICAgfQogIH0sCiAgaW5wdXRUeXBlczogWydsZW5zX211bHRpdGFibGUnXSwKICBmbjogZnVuY3Rpb24gZm4oZGF0YSwgYXJncykgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogJ3JlbmRlcicsCiAgICAgIGFzOiAnbGVuc19tZXRyaWNfY2hhcnRfcmVuZGVyZXInLAogICAgICB2YWx1ZTogewogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgYXJnczogYXJncwogICAgICB9CiAgICB9OwogIH0KfTsKZXhwb3J0cy5tZXRyaWNDaGFydCA9IG1ldHJpY0NoYXJ0OwoKdmFyIGdldE1ldHJpY0NoYXJ0UmVuZGVyZXIgPSBmdW5jdGlvbiBnZXRNZXRyaWNDaGFydFJlbmRlcmVyKGZvcm1hdEZhY3RvcnkpIHsKICByZXR1cm4gewogICAgbmFtZTogJ2xlbnNfbWV0cmljX2NoYXJ0X3JlbmRlcmVyJywKICAgIGRpc3BsYXlOYW1lOiAnTWV0cmljIGNoYXJ0JywKICAgIGhlbHA6ICdNZXRyaWMgY2hhcnQgcmVuZGVyZXInLAogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKCkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfSwKICAgIHJldXNlRG9tTm9kZTogdHJ1ZSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGRvbU5vZGUsIGNvbmZpZywgaGFuZGxlcnMpIHsKICAgICAgX3JlYWN0RG9tLmRlZmF1bHQucmVuZGVyKF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWV0cmljQ2hhcnQsIF9leHRlbmRzKHt9LCBjb25maWcsIHsKICAgICAgICBmb3JtYXRGYWN0b3J5OiBmb3JtYXRGYWN0b3J5CiAgICAgIH0pKSwgZG9tTm9kZSwgZnVuY3Rpb24gKCkgewogICAgICAgIGhhbmRsZXJzLmRvbmUoKTsKICAgICAgfSk7CgogICAgICBoYW5kbGVycy5vbkRlc3Ryb3koZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfcmVhY3REb20uZGVmYXVsdC51bm1vdW50Q29tcG9uZW50QXROb2RlKGRvbU5vZGUpOwogICAgICB9KTsKICAgIH0KICB9Owp9OwoKZXhwb3J0cy5nZXRNZXRyaWNDaGFydFJlbmRlcmVyID0gZ2V0TWV0cmljQ2hhcnRSZW5kZXJlcjsKCmZ1bmN0aW9uIE1ldHJpY0NoYXJ0KF9yZWYpIHsKICB2YXIgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgYXJncyA9IF9yZWYuYXJncywKICAgICAgZm9ybWF0RmFjdG9yeSA9IF9yZWYuZm9ybWF0RmFjdG9yeTsKICB2YXIgdGl0bGUgPSBhcmdzLnRpdGxlLAogICAgICBhY2Nlc3NvciA9IGFyZ3MuYWNjZXNzb3IsCiAgICAgIG1vZGUgPSBhcmdzLm1vZGU7CiAgdmFyIHZhbHVlID0gJy0nOwogIHZhciBmaXJzdFRhYmxlID0gT2JqZWN0LnZhbHVlcyhkYXRhLnRhYmxlcylbMF07CgogIGlmICghYWNjZXNzb3IpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF92aXN1YWxpemF0aW9uX2NvbnRhaW5lci5WaXN1YWxpemF0aW9uQ29udGFpbmVyLCB7CiAgICAgIHJlcG9ydFRpdGxlOiB0aXRsZSwKICAgICAgY2xhc3NOYW1lOiAibG5zTWV0cmljRXhwcmVzc2lvbl9fY29udGFpbmVyIgogICAgfSk7CiAgfQoKICBpZiAoZmlyc3RUYWJsZSkgewogICAgdmFyIGNvbHVtbiA9IGZpcnN0VGFibGUuY29sdW1uc1swXTsKICAgIHZhciByb3cgPSBmaXJzdFRhYmxlLnJvd3NbMF07CgogICAgaWYgKHJvd1thY2Nlc3Nvcl0pIHsKICAgICAgdmFsdWUgPSBjb2x1bW4gJiYgY29sdW1uLmZvcm1hdEhpbnQgPyBmb3JtYXRGYWN0b3J5KGNvbHVtbi5mb3JtYXRIaW50KS5jb252ZXJ0KHJvd1thY2Nlc3Nvcl0pIDogTnVtYmVyKE51bWJlcihyb3dbYWNjZXNzb3JdKS50b0ZpeGVkKDMpKS50b1N0cmluZygpOwogICAgfQogIH0KCiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3Zpc3VhbGl6YXRpb25fY29udGFpbmVyLlZpc3VhbGl6YXRpb25Db250YWluZXIsIHsKICAgIHJlcG9ydFRpdGxlOiB0aXRsZSwKICAgIGNsYXNzTmFtZTogImxuc01ldHJpY0V4cHJlc3Npb25fX2NvbnRhaW5lciIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hdXRvX3NjYWxlLkF1dG9TY2FsZSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImxuc19tZXRyaWNfdmFsdWUiLAogICAgc3R5bGU6IHsKICAgICAgZm9udFNpemU6ICc2MHB0JywKICAgICAgZm9udFdlaWdodDogNjAwCiAgICB9CiAgfSwgdmFsdWUpLCBtb2RlID09PSAnZnVsbCcgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImxuc19tZXRyaWNfdGl0bGUiLAogICAgc3R5bGU6IHsKICAgICAgZm9udFNpemU6ICcyNHB0JwogICAgfQogIH0sIHRpdGxlKSkpOwp9"},null]}