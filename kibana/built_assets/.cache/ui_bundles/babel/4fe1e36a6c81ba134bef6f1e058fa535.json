{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/lib/dispatch.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/lib/dispatch.js","mtime":1589249550142},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkRpc3BhdGNoID0gdm9pZCAwOwoKdmFyIF9kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJkMyIpKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoqCiAqIEhhbmRsZXMgZXZlbnQgcmVzcG9uc2VzCiAqCiAqIEBjbGFzcyBEaXNwYXRjaAogKiBAY29uc3RydWN0b3IKICogQHBhcmFtIGhhbmRsZXIge09iamVjdH0gUmVmZXJlbmNlIHRvIEhhbmRsZXIgQ2xhc3MgT2JqZWN0CiAqLwp2YXIgRGlzcGF0Y2ggPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBEaXNwYXRjaChoYW5kbGVyLCB1aVNldHRpbmdzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGF0Y2gpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZW1pdCIsICgwLCBfbG9kYXNoLnJlc3RQYXJhbSkoZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHsKICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbbmFtZV0pIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKG5hbWUpOwogICAgICB2YXIgaSA9IC0xOwoKICAgICAgd2hpbGUgKCsraSA8IGxpc3RlbmVycy5sZW5ndGgpIHsKICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSkpOwoKICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7CiAgICB0aGlzLnVpU2V0dGluZ3MgPSB1aVNldHRpbmdzOwogICAgdGhpcy5fbGlzdGVuZXJzID0ge307CiAgfQogIC8qKgogICAqIEFkZCBhbiBldmVudCBoYW5kbGVyCiAgICoKICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUKICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gaGFuZGxlcgogICAqIEByZXR1cm4ge0Rpc3BhdGNofSAtIHRoaXMsIGZvciBjaGFpbmluZwogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKERpc3BhdGNoLCBbewogICAga2V5OiAib24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uKG5hbWUsIGhhbmRsZXIpIHsKICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fbGlzdGVuZXJzW25hbWVdOwoKICAgICAgaWYgKCFoYW5kbGVycykgewogICAgICAgIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9IFtdOwogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fbGlzdGVuZXJzW25hbWVdOwogICAgICB9CgogICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGFuIGV2ZW50IGhhbmRsZXIKICAgICAqCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUKICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBvcHRpb25hbCBoYW5kbGVyIHRvIHJlbW92ZSwgaWYgbm8gaGFuZGxlciBpcwogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQgdGhlbiBhbGwgYXJlIHJlbW92ZWQKICAgICAqIEByZXR1cm4ge0Rpc3BhdGNofSAtIHRoaXMsIGZvciBjaGFpbmluZwogICAgICovCgogIH0sIHsKICAgIGtleTogIm9mZiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKG5hbWUsIGhhbmRsZXIpIHsKICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbbmFtZV0pIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSAvLyByZW1vdmUgYSBzcGVjaWZpYyBoYW5kbGVyCgoKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICAoMCwgX2xvZGFzaC5wdWxsKSh0aGlzLl9saXN0ZW5lcnNbbmFtZV0sIGhhbmRsZXIpOwogICAgICB9IC8vIG9yIHJlbW92ZSBhbGwgbGlzdGVuZXJzCiAgICAgIGVsc2UgewogICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW25hbWVdID0gbnVsbDsKICAgICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYm91bmQgdG8gdGhpcyBlbWl0dGVyLgogICAgICoKICAgICAqIEByZXR1cm4ge0Rpc3BhdGNofSAtIHRoaXMsIGZvciBjaGFpbmluZwogICAgICovCgogIH0sIHsKICAgIGtleTogInJlbW92ZUFsbExpc3RlbmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKCkgewogICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIEVtaXQgYW4gZXZlbnQgYW5kIGFsbCBhcmd1bWVudHMgdG8gYWxsIGxpc3RlbmVycyBmb3IgYW4gZXZlbnQgbmFtZQogICAgICoKICAgICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZQogICAgICogQHBhcmFtICB7Kn0gW2FyZy4uLl0gLSBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byBlYWNoIGhhbmRsZXIKICAgICAqIEByZXR1cm4ge0Rpc3BhdGNofSAtIHRoaXMsIGZvciBjaGFpbmluZwogICAgICovCgogIH0sIHsKICAgIGtleTogImxpc3RlbmVycyIsCgogICAgLyoqCiAgICAgKiBHZXQgYSBsaXN0IG9mIHRoZSBoYW5kbGVyIGZ1bmN0aW9ucyBmb3IgYSBzcGVjaWZpYyBldmVudAogICAgICoKICAgICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZQogICAgICogQHJldHVybiB7YXJyYXlbZnVuY3Rpb25dfQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuZXJzKG5hbWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA/IHRoaXMuX2xpc3RlbmVyc1tuYW1lXS5zbGljZSgwKSA6IFtdOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGNvdW50IG9mIGhhbmRsZXJzIGZvciBhIHNwZWNpZmljIGV2ZW50CiAgICAgKgogICAgICogQHBhcmFtICB7c3RyaW5nfSBbbmFtZV0gLSBvcHRpb25hbCBldmVudCBuYW1lIHRvIGZpbHRlciBieQogICAgICogQHJldHVybiB7bnVtYmVyfQogICAgICovCgogIH0sIHsKICAgIGtleTogImxpc3RlbmVyQ291bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQobmFtZSkgewogICAgICBpZiAobmFtZSkgewogICAgICAgIHJldHVybiAoMCwgX2xvZGFzaC5zaXplKSh0aGlzLl9saXN0ZW5lcnNbbmFtZV0pOwogICAgICB9CgogICAgICByZXR1cm4gKDAsIF9sb2Rhc2gucmVkdWNlKSh0aGlzLl9saXN0ZW5lcnMsIGZ1bmN0aW9uIChjb3VudCwgaGFuZGxlcnMpIHsKICAgICAgICByZXR1cm4gY291bnQgKyAoMCwgX2xvZGFzaC5zaXplKShoYW5kbGVycyk7CiAgICAgIH0sIDApOwogICAgfQogIH0sIHsKICAgIGtleTogIl9waWVDbGlja1Jlc3BvbnNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcGllQ2xpY2tSZXNwb25zZShkYXRhKSB7CiAgICAgIHZhciBwb2ludHMgPSBbXTsKICAgICAgdmFyIGRhdGFQb2ludGVyID0gZGF0YTsKCiAgICAgIHdoaWxlIChkYXRhUG9pbnRlciAmJiBkYXRhUG9pbnRlci5yYXdEYXRhKSB7CiAgICAgICAgcG9pbnRzLnB1c2goZGF0YVBvaW50ZXIucmF3RGF0YSk7CiAgICAgICAgZGF0YVBvaW50ZXIgPSBkYXRhUG9pbnRlci5wYXJlbnQ7CiAgICAgIH0KCiAgICAgIGlmICgoMCwgX2xvZGFzaC5nZXQpKGRhdGEsICdyYXdEYXRhLnRhYmxlLiRwYXJlbnQnKSkgewogICAgICAgIHZhciBfZ2V0ID0gKDAsIF9sb2Rhc2guZ2V0KShkYXRhLCAncmF3RGF0YS50YWJsZS4kcGFyZW50JyksCiAgICAgICAgICAgIHRhYmxlID0gX2dldC50YWJsZSwKICAgICAgICAgICAgY29sdW1uID0gX2dldC5jb2x1bW4sCiAgICAgICAgICAgIHJvdyA9IF9nZXQucm93LAogICAgICAgICAgICBrZXkgPSBfZ2V0LmtleTsKCiAgICAgICAgcG9pbnRzLnB1c2goewogICAgICAgICAgdGFibGU6IHRhYmxlLAogICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICByb3c6IHJvdywKICAgICAgICAgIHZhbHVlOiBrZXkKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvaW50czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfc2VyaWVzQ2xpY2tSZXNwb25zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Nlcmllc0NsaWNrUmVzcG9uc2UoZGF0YSkgewogICAgICB2YXIgcG9pbnRzID0gW107CiAgICAgIFsneFJhdycsICd5UmF3JywgJ3pSYXcnLCAnc2VyaWVzUmF3JywgJ3Jhd0RhdGEnLCAndGFibGVSYXcnXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBpZiAoZGF0YVt2YWxdICYmIGRhdGFbdmFsXS5jb2x1bW4gIT09IHVuZGVmaW5lZCAmJiBkYXRhW3ZhbF0ucm93ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHBvaW50cy5wdXNoKGRhdGFbdmFsXSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHBvaW50czsKICAgIH0KICAgIC8qKgogICAgICogUmVzcG9uc2UgdG8gY2xpY2sgIGV2ZW50cwogICAgICoKICAgICAqIEBwYXJhbSBkIHtPYmplY3R9IERhdGEgcG9pbnQKICAgICAqIEByZXR1cm5zIGV2ZW50IHdpdGggbGlzdCBvZiBkYXRhIHBvaW50cyByZWxhdGVkIHRvIHRoZSBjbGljawogICAgICovCgogIH0sIHsKICAgIGtleTogImNsaWNrRXZlbnRSZXNwb25zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tFdmVudFJlc3BvbnNlKGQpIHsKICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgdmFyIGlzU2xpY2VzID0gcHJvcHMuaXNTbGljZXM7CgogICAgICBpZiAoaXNTbGljZXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciBfZGF0YSA9IF9kLmRlZmF1bHQuZXZlbnQudGFyZ2V0Lm5lYXJlc3RWaWV3cG9ydEVsZW1lbnQgPyBfZC5kZWZhdWx0LmV2ZW50LnRhcmdldC5uZWFyZXN0Vmlld3BvcnRFbGVtZW50Ll9fZGF0YV9fIDogX2QuZGVmYXVsdC5ldmVudC50YXJnZXQuX19kYXRhX187CgogICAgICAgIGlzU2xpY2VzID0gISEoX2RhdGEgJiYgX2RhdGEuc2xpY2VzKTsKICAgICAgfQoKICAgICAgdmFyIGRhdGEgPSBkLmlucHV0IHx8IGQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgZTogX2QuZGVmYXVsdC5ldmVudCwKICAgICAgICBkYXRhOiBpc1NsaWNlcyA/IHRoaXMuX3BpZUNsaWNrUmVzcG9uc2UoZGF0YSkgOiB0aGlzLl9zZXJpZXNDbGlja1Jlc3BvbnNlKGRhdGEpCiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlcmluZyBhIHNlcmllcyBpcyBjb25maWd1cmVkIGluIHBlcmNlbnRhZ2UgbW9kZQogICAgICogVXNlZCB0byBkaXNwbGF5IGEgdmFsdWUgcGVyY2VudGFnZSBmb3JtYXR0ZWQgaW4gaXQncyBwb3BvdmVyCiAgICAgKgogICAgICogQHBhcmFtIHJhd0lkIHtzdHJpbmd9IFRoZSByYXdJZCBvZiBzZXJpZXMgdG8gY2hlY2sKICAgICAqIEBwYXJhbSBzZXJpZXMge0FycmF5fSBBcnJheSBvZiBhbGwgc2VyaWVzIGRhdGEKICAgICAqIEBwYXJhbSB2aXNDb25maWcge1Zpc0NvbmZpZ30KICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9pc1Nlcmllc0luUGVyY2VudGFnZU1vZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1Nlcmllc0luUGVyY2VudGFnZU1vZGUocmF3SWQsIHNlcmllcywgdmlzQ29uZmlnKSB7CiAgICAgIGlmICghcmF3SWQgfHwgIUFycmF5LmlzQXJyYXkoc2VyaWVzKSB8fCAhdmlzQ29uZmlnKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vZmluZCB0aGUgcHJpbWFyeSBpZCBieSB0aGUgcmF3SWQsIHRoYXQgaWQgaXMgdXNlZCBpbiB0aGUgY29uZmlnJ3Mgc2VyaWVzUGFyYW1zCgoKICAgICAgdmFyIF9zZXJpZXMkZmluZCA9IHNlcmllcy5maW5kKGZ1bmN0aW9uIChzZXJpZXMpIHsKICAgICAgICByZXR1cm4gc2VyaWVzLnJhd0lkID09PSByYXdJZDsKICAgICAgfSksCiAgICAgICAgICBpZCA9IF9zZXJpZXMkZmluZC5pZDsKCiAgICAgIGlmICghaWQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy9maW5kIHRoZSBtYXRjaGluZyBzZXJpZXNQYXJhbXMgb2YgdGhlIHNlcmllcywgdG8gZ2V0IHRoZSBpZCBvZiB0aGUgdmFsdWVBeGlzCgoKICAgICAgdmFyIHNlcmllc1BhcmFtcyA9IHZpc0NvbmZpZy5nZXQoJ3Nlcmllc1BhcmFtcycsIFtdKTsKCiAgICAgIHZhciBfcmVmID0gc2VyaWVzUGFyYW1zLmZpbmQoZnVuY3Rpb24gKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuIHBhcmFtLmRhdGEuaWQgPT09IGlkOwogICAgICB9KSB8fCB7fSwKICAgICAgICAgIHZhbHVlQXhpc0lkID0gX3JlZi52YWx1ZUF4aXM7CgogICAgICBpZiAoIXZhbHVlQXhpc0lkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgdXNlZFZhbHVlQXhpcyA9IHZpc0NvbmZpZy5nZXQoJ3ZhbHVlQXhlcycsIFtdKS5maW5kKGZ1bmN0aW9uICh2YWx1ZUF4aXMpIHsKICAgICAgICByZXR1cm4gdmFsdWVBeGlzLmlkID09PSB2YWx1ZUF4aXNJZDsKICAgICAgfSk7CiAgICAgIHJldHVybiAoMCwgX2xvZGFzaC5nZXQpKHVzZWRWYWx1ZUF4aXMsICdzY2FsZS5tb2RlJykgPT09ICdwZXJjZW50YWdlJzsKICAgIH0KICAgIC8qKgogICAgICogUmVzcG9uc2UgdG8gaG92ZXIgZXZlbnRzCiAgICAgKgogICAgICogQHBhcmFtIGQge09iamVjdH0gRGF0YSBwb2ludAogICAgICogQHBhcmFtIGkge051bWJlcn0gSW5kZXggbnVtYmVyIG9mIGRhdGEgcG9pbnQKICAgICAqIEByZXR1cm5zIHt7dmFsdWU6ICosIHBvaW50OiAqLCBsYWJlbDogKiwgY29sb3I6ICosIHBvaW50SW5kZXg6ICosCiAgICAgKiBzZXJpZXM6ICosIGNvbmZpZzogKiwgZGF0YTogKE9iamVjdHwqKSwKICAgICAqIGU6IChkMy5ldmVudHwqKSwgaGFuZGxlcjogKE9iamVjdHwqKX19IEV2ZW50IHJlc3BvbnNlIG9iamVjdAogICAgICovCgogIH0sIHsKICAgIGtleTogImV2ZW50UmVzcG9uc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV2ZW50UmVzcG9uc2UoZCwgaSkgewogICAgICB2YXIgZGF0dW0gPSBkLl9pbnB1dCB8fCBkOwogICAgICB2YXIgZGF0YSA9IF9kLmRlZmF1bHQuZXZlbnQudGFyZ2V0Lm5lYXJlc3RWaWV3cG9ydEVsZW1lbnQgPyBfZC5kZWZhdWx0LmV2ZW50LnRhcmdldC5uZWFyZXN0Vmlld3BvcnRFbGVtZW50Ll9fZGF0YV9fIDogX2QuZGVmYXVsdC5ldmVudC50YXJnZXQuX19kYXRhX187CiAgICAgIHZhciBsYWJlbCA9IGQubGFiZWwgPyBkLmxhYmVsIDogZC5zZXJpZXMgfHwgJ0NvdW50JzsKICAgICAgdmFyIGlzU2VyaWVzID0gISEoZGF0YSAmJiBkYXRhLnNlcmllcyk7CiAgICAgIHZhciBpc1NsaWNlcyA9ICEhKGRhdGEgJiYgZGF0YS5zbGljZXMpOwogICAgICB2YXIgc2VyaWVzID0gaXNTZXJpZXMgPyBkYXRhLnNlcmllcyA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHNsaWNlcyA9IGlzU2xpY2VzID8gZGF0YS5zbGljZXMgOiB1bmRlZmluZWQ7CiAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyOwogICAgICB2YXIgY29sb3IgPSAoMCwgX2xvZGFzaC5nZXQpKGhhbmRsZXIsICdkYXRhLmNvbG9yJyk7CiAgICAgIHZhciBjb25maWcgPSBoYW5kbGVyICYmIGhhbmRsZXIudmlzQ29uZmlnOwoKICAgICAgdmFyIGlzUGVyY2VudGFnZU1vZGUgPSB0aGlzLl9pc1Nlcmllc0luUGVyY2VudGFnZU1vZGUoZC5zZXJpZXNJZCwgc2VyaWVzLCBjb25maWcpOwoKICAgICAgdmFyIGV2ZW50RGF0YSA9IHsKICAgICAgICB2YWx1ZTogZC55LAogICAgICAgIHBvaW50OiBkYXR1bSwKICAgICAgICBkYXR1bTogZGF0dW0sCiAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgIGNvbG9yOiBjb2xvciA/IGNvbG9yKGxhYmVsKSA6IHVuZGVmaW5lZCwKICAgICAgICBwb2ludEluZGV4OiBpLAogICAgICAgIHNlcmllczogc2VyaWVzLAogICAgICAgIHNsaWNlczogc2xpY2VzLAogICAgICAgIGNvbmZpZzogY29uZmlnLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgZTogX2QuZGVmYXVsdC5ldmVudCwKICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLAogICAgICAgIGlzUGVyY2VudGFnZU1vZGU6IGlzUGVyY2VudGFnZU1vZGUKICAgICAgfTsKICAgICAgcmV0dXJuIGV2ZW50RGF0YTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWRkcyBldmVudHMgYW5kIGxpc3RlbmVycyB0byBhIEQzIHNlbGVjdGlvbgogICAgICoKICAgICAqIEBtZXRob2QgYWRkRXZlbnQKICAgICAqIEBwYXJhbSBldmVudCB7U3RyaW5nfQogICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0KICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJhZGRFdmVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7CiAgICAgICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSBfZC5kZWZhdWx0LnNlbGVjdCh0aGlzKTsKCiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm9uKGV2ZW50LCBjYWxsYmFjayk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqCiAgICAgKiBAbWV0aG9kIGFkZEhvdmVyRXZlbnQKICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJhZGRIb3ZlckV2ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRIb3ZlckV2ZW50KCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpc0NsaWNrYWJsZSA9IHRoaXMubGlzdGVuZXJDb3VudCgnY2xpY2snKSA+IDA7CiAgICAgIHZhciBhZGRFdmVudCA9IHRoaXMuYWRkRXZlbnQ7CiAgICAgIHZhciAkZWwgPSB0aGlzLmhhbmRsZXIuZWw7CgogICAgICBpZiAoIXRoaXMuaGFuZGxlci5oaWdobGlnaHQpIHsKICAgICAgICB0aGlzLmhhbmRsZXIuaGlnaGxpZ2h0ID0gc2VsZi5nZXRIaWdobGlnaHRlcihzZWxmLnVpU2V0dGluZ3MpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBob3ZlcihkLCBpKSB7CiAgICAgICAgLy8gQWRkIHBvaW50ZXIgaWYgaXRlbSBpcyBjbGlja2FibGUKICAgICAgICBpZiAoaXNDbGlja2FibGUpIHsKICAgICAgICAgIHNlbGYuYWRkTW91c2VQb2ludGVyLmNhbGwodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9CgogICAgICAgIHNlbGYuaGFuZGxlci5oaWdobGlnaHQuY2FsbCh0aGlzLCAkZWwpOwogICAgICAgIHNlbGYuZW1pdCgnaG92ZXInLCBzZWxmLmV2ZW50UmVzcG9uc2UoZCwgaSkpOwogICAgICB9CgogICAgICByZXR1cm4gYWRkRXZlbnQoJ21vdXNlb3ZlcicsIGhvdmVyKTsKICAgIH0KICAgIC8qKgogICAgICoKICAgICAqIEBtZXRob2QgYWRkTW91c2VvdXRFdmVudAogICAgICogQHJldHVybnMge0Z1bmN0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZE1vdXNlb3V0RXZlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE1vdXNlb3V0RXZlbnQoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGFkZEV2ZW50ID0gdGhpcy5hZGRFdmVudDsKICAgICAgdmFyICRlbCA9IHRoaXMuaGFuZGxlci5lbDsKCiAgICAgIGlmICghdGhpcy5oYW5kbGVyLnVuSGlnaGxpZ2h0KSB7CiAgICAgICAgdGhpcy5oYW5kbGVyLnVuSGlnaGxpZ2h0ID0gc2VsZi51bkhpZ2hsaWdodDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbW91c2VvdXQoKSB7CiAgICAgICAgc2VsZi5oYW5kbGVyLnVuSGlnaGxpZ2h0LmNhbGwodGhpcywgJGVsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFkZEV2ZW50KCdtb3VzZW91dCcsIG1vdXNlb3V0KTsKICAgIH0KICAgIC8qKgogICAgICoKICAgICAqIEBtZXRob2QgYWRkQ2xpY2tFdmVudAogICAgICogQHJldHVybnMge0Z1bmN0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZENsaWNrRXZlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsaWNrRXZlbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZCkgewogICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdjbGljaycsIF90aGlzLmNsaWNrRXZlbnRSZXNwb25zZShkKSk7CiAgICAgIH07CgogICAgICByZXR1cm4gdGhpcy5hZGRFdmVudCgnY2xpY2snLCBvbkNsaWNrKTsKICAgIH0KICAgIC8qKgogICAgICogRGV0ZXJtaW5lIGlmIHdlIHdpbGwgYWxsb3cgYnJ1c2hpbmcKICAgICAqCiAgICAgKiBAbWV0aG9kIGFsbG93QnJ1c2hpbmcKICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCgogIH0sIHsKICAgIGtleTogImFsbG93QnJ1c2hpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFsbG93QnJ1c2hpbmcoKSB7CiAgICAgIHZhciB4QXhpcyA9IHRoaXMuaGFuZGxlci5jYXRlZ29yeUF4ZXNbMF07IC8vQWxsb3cgYnJ1c2hpbmcgZm9yIG9yZGVyZWQgYXhpcyAtIGRhdGUgaGlzdG9ncmFtIGFuZCBoaXN0b2dyYW0KCiAgICAgIHJldHVybiBCb29sZWFuKHhBeGlzLm9yZGVyZWQpOwogICAgfQogICAgLyoqCiAgICAgKiBEZXRlcm1pbmUgaWYgYnJ1c2hpbmcgaXMgY3VycmVudGx5IGVuYWJsZWQKICAgICAqCiAgICAgKiBAbWV0aG9kIGlzQnJ1c2hhYmxlCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc0JydXNoYWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNCcnVzaGFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbG93QnJ1c2hpbmcoKSAmJiB0aGlzLmxpc3RlbmVyQ291bnQoJ2JydXNoJykgPiAwOwogICAgfQogICAgLyoqCiAgICAgKgogICAgICogQHBhcmFtIHN2ZwogICAgICogQHJldHVybnMge0Z1bmN0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZEJydXNoRXZlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEJydXNoRXZlbnQoc3ZnKSB7CiAgICAgIGlmICghdGhpcy5pc0JydXNoYWJsZSgpKSByZXR1cm47CiAgICAgIHZhciB4U2NhbGUgPSB0aGlzLmhhbmRsZXIuY2F0ZWdvcnlBeGVzWzBdLmdldFNjYWxlKCk7CiAgICAgIHRoaXMuY3JlYXRlQnJ1c2goeFNjYWxlLCBzdmcpOwogICAgfQogICAgLyoqCiAgICAgKiBNb3VzZW92ZXIgQmVoYXZpb3IKICAgICAqCiAgICAgKiBAbWV0aG9kIGFkZE1vdXNlUG9pbnRlcgogICAgICogQHJldHVybnMge2QzLlNlbGVjdGlvbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJhZGRNb3VzZVBvaW50ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE1vdXNlUG9pbnRlcigpIHsKICAgICAgcmV0dXJuIF9kLmRlZmF1bHQuc2VsZWN0KHRoaXMpLnN0eWxlKCdjdXJzb3InLCAncG9pbnRlcicpOwogICAgfQogICAgLyoqCiAgICAgKiByZXR1cm4gZnVuY3Rpb24gdG8gSGlnaGxpZ2h0IHRoZSBlbGVtZW50IHRoYXQgaXMgdW5kZXIgdGhlIGN1cnNvcgogICAgICogYnkgcmVkdWNpbmcgdGhlIG9wYWNpdHkgb2YgYWxsIHRoZSBlbGVtZW50cyBvbiB0aGUgZ3JhcGguCiAgICAgKiBAcGFyYW0gdWlTZXR0aW5ncwogICAgICogQG1ldGhvZCBnZXRIaWdobGlnaHRlcgogICAgICovCgogIH0sIHsKICAgIGtleTogImdldEhpZ2hsaWdodGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIaWdobGlnaHRlcih1aVNldHRpbmdzKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiBoaWdobGlnaHQoZWxlbWVudCkgewogICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxhYmVsJyk7CiAgICAgICAgaWYgKCFsYWJlbCkgcmV0dXJuOwogICAgICAgIHZhciBkaW1taW5nID0gdWlTZXR0aW5ncy5nZXQoJ3Zpc3VhbGl6YXRpb246ZGltbWluZ09wYWNpdHknKTsKICAgICAgICAoMCwgX2pxdWVyeS5kZWZhdWx0KShlbGVtZW50KS5wYXJlbnQoKS5maW5kKCdbZGF0YS1sYWJlbF0nKS5jc3MoJ29wYWNpdHknLCAxKSAvL09wYWNpdHkgMSBpcyBuZWVkZWQgdG8gYXZvaWQgdGhlIGNzcyBhcHBsaWNhdGlvbgogICAgICAgIC5ub3QoZnVuY3Rpb24gKGVscywgZWwpIHsKICAgICAgICAgIHJldHVybiBTdHJpbmcoKDAsIF9qcXVlcnkuZGVmYXVsdCkoZWwpLmRhdGEoJ2xhYmVsJykpID09PSBsYWJlbDsKICAgICAgICB9KS5jc3MoJ29wYWNpdHknLCBqdXN0aWZ5T3BhY2l0eShkaW1taW5nKSk7CiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqIE1vdXNlb3V0IEJlaGF2aW9yCiAgICAgKgogICAgICogQHBhcmFtIGVsZW1lbnQge2QzLlNlbGVjdGlvbn0KICAgICAqIEBtZXRob2QgdW5IaWdobGlnaHQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ1bkhpZ2hsaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5IaWdobGlnaHQoZWxlbWVudCkgewogICAgICAoMCwgX2pxdWVyeS5kZWZhdWx0KSgnW2RhdGEtbGFiZWxdJywgZWxlbWVudC5wYXJlbnROb2RlKS5jc3MoJ29wYWNpdHknLCAxKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBEMyBicnVzaCB0byBTVkcgYW5kIHJldHVybnMgdGhlIGJydXNoIGZ1bmN0aW9uCiAgICAgKgogICAgICogQHBhcmFtIHhTY2FsZSB7RnVuY3Rpb259IEQzIHhTY2FsZSBmdW5jdGlvbgogICAgICogQHBhcmFtIHN2ZyB7SFRNTEVsZW1lbnR9IFJlZmVyZW5jZSB0byBTVkcKICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGEgRDMgYnJ1c2ggZnVuY3Rpb24gYW5kIGEgU1ZHIHdpdGggYSBicnVzaCBncm91cCBhdHRhY2hlZAogICAgICovCgogIH0sIHsKICAgIGtleTogImNyZWF0ZUJydXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCcnVzaCh4U2NhbGUsIHN2ZykgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciB2aXNDb25maWcgPSBzZWxmLmhhbmRsZXIudmlzQ29uZmlnOwoKICAgICAgdmFyIF9zdmckbm9kZSRnZXRCQm94ID0gc3ZnLm5vZGUoKS5nZXRCQm94KCksCiAgICAgICAgICB3aWR0aCA9IF9zdmckbm9kZSRnZXRCQm94LndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX3N2ZyRub2RlJGdldEJCb3guaGVpZ2h0OwoKICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHNlbGYuaGFuZGxlci5jYXRlZ29yeUF4ZXNbMF0uYXhpc0NvbmZpZy5pc0hvcml6b250YWwoKTsgLy8gQnJ1c2ggc2NhbGUKCiAgICAgIHZhciBicnVzaCA9IF9kLmRlZmF1bHQuc3ZnLmJydXNoKCk7CgogICAgICBpZiAoaXNIb3Jpem9udGFsKSB7CiAgICAgICAgYnJ1c2gueCh4U2NhbGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGJydXNoLnkoeFNjYWxlKTsKICAgICAgfQoKICAgICAgYnJ1c2gub24oJ2JydXNoZW5kJywgZnVuY3Rpb24gYnJ1c2hFbmQoKSB7CiAgICAgICAgLy8gQXNzdW1lcyBkYXRhIGlzIHNlbGVjdGVkIGF0IHRoZSBjaGFydCBsZXZlbAogICAgICAgIC8vIEluIHRoaXMgY2FzZSwgdGhlIG51bWJlciBvZiBkYXRhIG9iamVjdHMgc2hvdWxkIGFsd2F5cyBiZSAxCiAgICAgICAgdmFyIGRhdGEgPSBfZC5kZWZhdWx0LnNlbGVjdCh0aGlzKS5kYXRhKClbMF07CgogICAgICAgIHZhciBpc1RpbWVTZXJpZXMgPSBkYXRhLm9yZGVyZWQgJiYgZGF0YS5vcmRlcmVkLmRhdGU7IC8vIEFsbG93cyBmb3IgYnJ1c2hpbmcgb24gZDMuc2NhbGUub3JkaW5hbCgpCgogICAgICAgIHZhciBzZWxlY3RlZCA9IHhTY2FsZS5kb21haW4oKS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBicnVzaC5leHRlbnQoKVswXSA8PSB4U2NhbGUoZCkgJiYgeFNjYWxlKGQpIDw9IGJydXNoLmV4dGVudCgpWzFdOwogICAgICAgIH0pOwogICAgICAgIHZhciByYW5nZSA9IGlzVGltZVNlcmllcyA/IGJydXNoLmV4dGVudCgpIDogc2VsZWN0ZWQ7CiAgICAgICAgcmV0dXJuIHNlbGYuZW1pdCgnYnJ1c2gnLCB7CiAgICAgICAgICByYW5nZTogcmFuZ2UsCiAgICAgICAgICBjb25maWc6IHZpc0NvbmZpZywKICAgICAgICAgIGU6IF9kLmRlZmF1bHQuZXZlbnQsCiAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyBpZiBgYWRkQnJ1c2hpbmdgIGlzIHRydWUsIGFkZCBicnVzaCBjYW52YXMKCiAgICAgIGlmIChzZWxmLmxpc3RlbmVyQ291bnQoJ2JydXNoJykpIHsKICAgICAgICB2YXIgcmVjdCA9IHN2Zy5pbnNlcnQoJ2cnLCAnZycpLmF0dHIoJ2NsYXNzJywgJ2JydXNoJykuY2FsbChicnVzaCkuY2FsbChmdW5jdGlvbiAoYnJ1c2hHKSB7CiAgICAgICAgICAvLyBoaWphY2sgdGhlIGJydXNoIHN0YXJ0IGV2ZW50IHRvIGZpbHRlciBvdXQgcmlnaHQvbWlkZGxlIGNsaWNrcwogICAgICAgICAgdmFyIGJydXNoSGFuZGxlciA9IGJydXNoRy5vbignbW91c2Vkb3duLmJydXNoJyk7CiAgICAgICAgICBpZiAoIWJydXNoSGFuZGxlcikgcmV0dXJuOyAvLyB0b3VjaCBldmVudHMgaW4gdXNlCgogICAgICAgICAgYnJ1c2hHLm9uKCdtb3VzZWRvd24uYnJ1c2gnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh2YWxpZEJydXNoQ2xpY2soX2QuZGVmYXVsdC5ldmVudCkpIGJydXNoSGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuc2VsZWN0QWxsKCdyZWN0Jyk7CgogICAgICAgIGlmIChpc0hvcml6b250YWwpIHsKICAgICAgICAgIHJlY3QuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVjdC5hdHRyKCd3aWR0aCcsIHdpZHRoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBicnVzaDsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIERpc3BhdGNoOwp9KCk7CgpleHBvcnRzLkRpc3BhdGNoID0gRGlzcGF0Y2g7CgpmdW5jdGlvbiB2YWxpZEJydXNoQ2xpY2soZXZlbnQpIHsKICByZXR1cm4gZXZlbnQuYnV0dG9uID09PSAwOwp9CgpmdW5jdGlvbiBqdXN0aWZ5T3BhY2l0eShvcGFjaXR5KSB7CiAgdmFyIGRlY2ltYWxOdW1iZXIgPSBwYXJzZUZsb2F0KG9wYWNpdHksIDEwKTsKICB2YXIgZmFsbGJhY2tPcGFjaXR5ID0gMC41OwogIHJldHVybiAwIDw9IGRlY2ltYWxOdW1iZXIgJiYgZGVjaW1hbE51bWJlciA8PSAxID8gZGVjaW1hbE51bWJlciA6IGZhbGxiYWNrT3BhY2l0eTsKfQ=="},null]}