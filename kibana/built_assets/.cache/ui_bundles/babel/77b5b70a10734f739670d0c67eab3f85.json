{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/point_series/column_chart.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_vislib/public/vislib/visualizations/point_series/column_chart.js","mtime":1589249550154},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvbHVtbkNoYXJ0ID0gdm9pZCAwOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZDMiKSk7Cgp2YXIgX3NlcnZpY2VzID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpL2xpYi9zZXJ2aWNlcyIpOwoKdmFyIF9wb2ludF9zZXJpZXMgPSByZXF1aXJlKCIuL19wb2ludF9zZXJpZXMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9Cgp2YXIgZGVmYXVsdHMgPSB7CiAgbW9kZTogJ25vcm1hbCcsCiAgc2hvd1Rvb2x0aXA6IHRydWUsCiAgY29sb3I6IHVuZGVmaW5lZCwKICBmaWxsQ29sb3I6IHVuZGVmaW5lZCwKICBzaG93TGFiZWw6IHRydWUKfTsKLyoqCiAqIEhpc3RvZ3JhbSBpbnRlcnZhbHMgYXJlIG5vdCBhbHdheXMgZXF1YWwgd2lkdGhzLCBlLmcsIG1vbnRobHkgdGltZSBpbnRlcnZhbHMuCiAqIEl0IGlzIG1vcmUgdmlzdWFsbHkgYXBwZWFsaW5nIHRvIHZhcnkgYmFyIHdpZHRoIHNvIHRoYXQgZ3V0dGVyIHdpZHRoIGlzIGNvbnN0YW50LgogKi8KCmZ1bmN0aW9uIGRhdHVtV2lkdGgoZGVmYXVsdFdpZHRoLCBkYXR1bSwgbmV4dERhdHVtLCBzY2FsZSwgZ3V0dGVyV2lkdGgpIHsKICB2YXIgZ3JvdXBDb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMTsKICB2YXIgZGF0dW1XaWR0aCA9IGRlZmF1bHRXaWR0aDsKCiAgaWYgKG5leHREYXR1bSkgewogICAgZGF0dW1XaWR0aCA9IChzY2FsZShuZXh0RGF0dW0ueCkgLSBzY2FsZShkYXR1bS54KSAtIGd1dHRlcldpZHRoKSAvIGdyb3VwQ291bnQ7IC8vIFRvIGhhbmRsZSBkYXRhLXNldHMgd2l0aCBob2xlcywgZG8gbm90IGxldCB3aWR0aCBiZSBsYXJnZXIgdGhhbiBkZWZhdWx0LgoKICAgIGlmIChkYXR1bVdpZHRoID4gZGVmYXVsdFdpZHRoKSB7CiAgICAgIGRhdHVtV2lkdGggPSBkZWZhdWx0V2lkdGg7CiAgICB9CiAgfQoKICByZXR1cm4gZGF0dW1XaWR0aDsKfQovKioKICogVmVydGljYWwgQmFyIENoYXJ0IFZpc3VhbGl6YXRpb246IHJlbmRlcnMgdmVydGljYWwgYW5kL29yIHN0YWNrZWQgYmFycwogKgogKiBAY2xhc3MgQ29sdW1uQ2hhcnQKICogQGNvbnN0cnVjdG9yCiAqIEBleHRlbmRzIENoYXJ0CiAqIEBwYXJhbSBoYW5kbGVyIHtPYmplY3R9IFJlZmVyZW5jZSB0byB0aGUgSGFuZGxlciBDbGFzcyBDb25zdHJ1Y3RvcgogKiBAcGFyYW0gZWwge0hUTUxFbGVtZW50fSBIVE1MIGVsZW1lbnQgdG8gd2hpY2ggdGhlIGNoYXJ0IHdpbGwgYmUgYXBwZW5kZWQKICogQHBhcmFtIGNoYXJ0RGF0YSB7T2JqZWN0fSBFbGFzdGljc2VhcmNoIHF1ZXJ5IHJlc3VsdHMgZm9yIHRoaXMgc3BlY2lmaWMgY2hhcnQKICovCgoKdmFyIENvbHVtbkNoYXJ0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1BvaW50U2VyaWVzKSB7CiAgX2luaGVyaXRzKENvbHVtbkNoYXJ0LCBfUG9pbnRTZXJpZXMpOwoKICBmdW5jdGlvbiBDb2x1bW5DaGFydChoYW5kbGVyLCBjaGFydEVsLCBjaGFydERhdGEsIHNlcmllc0NvbmZpZ0FyZ3MsIGRlcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uQ2hhcnQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbHVtbkNoYXJ0KS5jYWxsKHRoaXMsIGhhbmRsZXIsIGNoYXJ0RWwsIGNoYXJ0RGF0YSwgc2VyaWVzQ29uZmlnQXJncywgZGVwcykpOwogICAgX3RoaXMuc2VyaWVzQ29uZmlnID0gX2xvZGFzaC5kZWZhdWx0LmRlZmF1bHRzKHNlcmllc0NvbmZpZ0FyZ3MgfHwge30sIGRlZmF1bHRzKTsKICAgIF90aGlzLmxhYmVsT3B0aW9ucyA9IF9sb2Rhc2guZGVmYXVsdC5kZWZhdWx0cyhoYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2xhYmVscycsIHt9KSwgZGVmYXVsdHMuc2hvd0xhYmVsKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhDb2x1bW5DaGFydCwgW3sKICAgIGtleTogImFkZEJhcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEJhcnMoc3ZnLCBkYXRhKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGNvbG9yID0gdGhpcy5oYW5kbGVyLmRhdGEuZ2V0Q29sb3JGdW5jKCk7CiAgICAgIHZhciB0b29sdGlwID0gdGhpcy5iYXNlQ2hhcnQudG9vbHRpcDsKICAgICAgdmFyIGlzVG9vbHRpcCA9IHRoaXMuaGFuZGxlci52aXNDb25maWcuZ2V0KCd0b29sdGlwLnNob3cnKTsKICAgICAgdmFyIGxheWVyID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3NlcmllcyBoaXN0b2dyYW0nKS5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCMnICsgdGhpcy5iYXNlQ2hhcnQuY2xpcFBhdGhJZCArICcpJyk7CiAgICAgIHZhciBiYXJzID0gbGF5ZXIuc2VsZWN0QWxsKCdyZWN0JykuZGF0YShkYXRhLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gIV9sb2Rhc2guZGVmYXVsdC5pc051bGwoZC55KTsKICAgICAgfSkpOwogICAgICBiYXJzLmV4aXQoKS5yZW1vdmUoKTsKICAgICAgYmFycy5lbnRlcigpLmFwcGVuZCgncmVjdCcpLmF0dHIoJ2RhdGEtbGFiZWwnLCBkYXRhLmxhYmVsKS5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBjb2xvcihkYXRhLmxhYmVsKTsKICAgICAgfSkuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBjb2xvcihkYXRhLmxhYmVsKTsKICAgICAgfSk7CiAgICAgIHNlbGYudXBkYXRlQmFycyhiYXJzKTsgLy8gQWRkIHRvb2x0aXAKCiAgICAgIGlmIChpc1Rvb2x0aXApIHsKICAgICAgICBiYXJzLmNhbGwodG9vbHRpcC5yZW5kZXIoKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBiYXJzOwogICAgfQogICAgLyoqCiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYmFycyBhcmUgZ3JvdXBlZCBvciBzdGFja2VkIGFuZCB1cGRhdGVzIHRoZSBEMwogICAgICogc2VsZWN0aW9uCiAgICAgKgogICAgICogQG1ldGhvZCB1cGRhdGVCYXJzCiAgICAgKiBAcGFyYW0gYmFycyB7RDMuVXBkYXRlU2VsZWN0aW9ufSBTVkcgd2l0aCByZWN0IGFkZGVkCiAgICAgKiBAcmV0dXJucyB7RDMuVXBkYXRlU2VsZWN0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogInVwZGF0ZUJhcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUJhcnMoYmFycykgewogICAgICBpZiAodGhpcy5zZXJpZXNDb25maWcubW9kZSA9PT0gJ3N0YWNrZWQnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWRkU3RhY2tlZEJhcnMoYmFycyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmFkZEdyb3VwZWRCYXJzKGJhcnMpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIHN0YWNrZWQgYmFycyB0byBjb2x1bW4gY2hhcnQgdmlzdWFsaXphdGlvbgogICAgICoKICAgICAqIEBtZXRob2QgYWRkU3RhY2tlZEJhcnMKICAgICAqIEBwYXJhbSBiYXJzIHtEMy5VcGRhdGVTZWxlY3Rpb259IFNWRyB3aXRoIHJlY3QgYWRkZWQKICAgICAqIEByZXR1cm5zIHtEMy5VcGRhdGVTZWxlY3Rpb259CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWRkU3RhY2tlZEJhcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0YWNrZWRCYXJzKGJhcnMpIHsKICAgICAgdmFyIHhTY2FsZSA9IHRoaXMuZ2V0Q2F0ZWdvcnlBeGlzKCkuZ2V0U2NhbGUoKTsKICAgICAgdmFyIHlTY2FsZSA9IHRoaXMuZ2V0VmFsdWVBeGlzKCkuZ2V0U2NhbGUoKTsKICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMuZ2V0Q2F0ZWdvcnlBeGlzKCkuYXhpc0NvbmZpZy5pc0hvcml6b250YWwoKTsKICAgICAgdmFyIGlzVGltZVNjYWxlID0gdGhpcy5nZXRDYXRlZ29yeUF4aXMoKS5heGlzQ29uZmlnLmlzVGltZURvbWFpbigpOwogICAgICB2YXIgaXNMYWJlbHMgPSB0aGlzLmxhYmVsT3B0aW9ucy5zaG93OwogICAgICB2YXIgeU1pbiA9IHlTY2FsZS5kb21haW4oKVswXTsKICAgICAgdmFyIGd1dHRlclNwYWNpbmdQZXJjZW50YWdlID0gMC4xNTsKICAgICAgdmFyIGNoYXJ0RGF0YSA9IHRoaXMuY2hhcnREYXRhOwogICAgICB2YXIgZ3JvdXBDb3VudCA9IHRoaXMuZ2V0R3JvdXBlZENvdW50KCk7CiAgICAgIHZhciBncm91cE51bSA9IHRoaXMuZ2V0R3JvdXBlZE51bSh0aGlzLmNoYXJ0RGF0YSk7CiAgICAgIHZhciBiYXJXaWR0aDsKICAgICAgdmFyIGd1dHRlcldpZHRoOwoKICAgICAgaWYgKGlzVGltZVNjYWxlKSB7CiAgICAgICAgdmFyIF90aGlzJGhhbmRsZXIkZGF0YSRnZSA9IHRoaXMuaGFuZGxlci5kYXRhLmdldCgnb3JkZXJlZCcpLAogICAgICAgICAgICBtaW4gPSBfdGhpcyRoYW5kbGVyJGRhdGEkZ2UubWluLAogICAgICAgICAgICBpbnRlcnZhbCA9IF90aGlzJGhhbmRsZXIkZGF0YSRnZS5pbnRlcnZhbDsKCiAgICAgICAgdmFyIGludGVydmFsV2lkdGggPSB4U2NhbGUobWluICsgaW50ZXJ2YWwpIC0geFNjYWxlKG1pbik7CiAgICAgICAgaW50ZXJ2YWxXaWR0aCA9IE1hdGguYWJzKGludGVydmFsV2lkdGgpOwogICAgICAgIGd1dHRlcldpZHRoID0gaW50ZXJ2YWxXaWR0aCAqIGd1dHRlclNwYWNpbmdQZXJjZW50YWdlOwogICAgICAgIGJhcldpZHRoID0gKGludGVydmFsV2lkdGggLSBndXR0ZXJXaWR0aCkgLyBncm91cENvdW50OwogICAgICB9CgogICAgICBmdW5jdGlvbiB4KGQsIGkpIHsKICAgICAgICBpZiAoaXNUaW1lU2NhbGUpIHsKICAgICAgICAgIHJldHVybiB4U2NhbGUoZC54KSArIGRhdHVtV2lkdGgoYmFyV2lkdGgsIGQsIGJhcnMuZGF0YSgpW2kgKyAxXSwgeFNjYWxlLCBndXR0ZXJXaWR0aCwgZ3JvdXBDb3VudCkgKiBncm91cE51bTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB4U2NhbGUoZC54KSArIHhTY2FsZS5yYW5nZUJhbmQoKSAvIGdyb3VwQ291bnQgKiBncm91cE51bTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24geShkKSB7CiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCAmJiBkLnkgPCAwIHx8ICFpc0hvcml6b250YWwgJiYgZC55ID4gMCkgewogICAgICAgICAgcmV0dXJuIHlTY2FsZShkLnkwKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB5U2NhbGUoZC55MCArIGQueSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxhYmVsWChkLCBpKSB7CiAgICAgICAgcmV0dXJuIHgoZCwgaSkgKyB3aWR0aEZ1bmMoZCwgaSkgLyAyOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsYWJlbFkoZCkgewogICAgICAgIHJldHVybiB5KGQpICsgaGVpZ2h0RnVuYyhkKSAvIDI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxhYmVsRGlzcGxheShkLCBpKSB7CiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCAmJiB0aGlzLmdldEJCb3goKS53aWR0aCA+IHdpZHRoRnVuYyhkLCBpKSkgcmV0dXJuICdub25lJzsKICAgICAgICBpZiAoIWlzSG9yaXpvbnRhbCAmJiB0aGlzLmdldEJCb3goKS53aWR0aCA+IGhlaWdodEZ1bmMoZCkpIHJldHVybiAnbm9uZSc7CiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCAmJiB0aGlzLmdldEJCb3goKS5oZWlnaHQgPiBoZWlnaHRGdW5jKGQpKSByZXR1cm4gJ25vbmUnOwogICAgICAgIGlmICghaXNIb3Jpem9udGFsICYmIHRoaXMuZ2V0QkJveCgpLmhlaWdodCA+IHdpZHRoRnVuYyhkLCBpKSkgcmV0dXJuICdub25lJzsKICAgICAgICByZXR1cm4gJ2Jsb2NrJzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gd2lkdGhGdW5jKGQsIGkpIHsKICAgICAgICBpZiAoaXNUaW1lU2NhbGUpIHsKICAgICAgICAgIHJldHVybiBkYXR1bVdpZHRoKGJhcldpZHRoLCBkLCBiYXJzLmRhdGEoKVtpICsgMV0sIHhTY2FsZSwgZ3V0dGVyV2lkdGgsIGdyb3VwQ291bnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHhTY2FsZS5yYW5nZUJhbmQoKSAvIGdyb3VwQ291bnQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGhlaWdodEZ1bmMoZCkgewogICAgICAgIC8vIGZvciBzcGxpdCBiYXJzIG9yIGZvciBvbmUgc2VyaWVzLAogICAgICAgIC8vIGxhc3Qgc2VyaWVzIHdpbGwgaGF2ZSBkLnkwID0gMAogICAgICAgIGlmIChkLnkwID09PSAwICYmIHlNaW4gPiAwKSB7CiAgICAgICAgICByZXR1cm4geVNjYWxlKHlNaW4pIC0geVNjYWxlKGQueSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKGQueTApIC0geVNjYWxlKGQueTAgKyBkLnkpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUoZCkgewogICAgICAgIHJldHVybiBjaGFydERhdGEueUF4aXNGb3JtYXR0ZXIoZC55KTsKICAgICAgfSAvLyB1cGRhdGUKCgogICAgICBiYXJzLmF0dHIoJ3gnLCBpc0hvcml6b250YWwgPyB4IDogeSkuYXR0cignd2lkdGgnLCBpc0hvcml6b250YWwgPyB3aWR0aEZ1bmMgOiBoZWlnaHRGdW5jKS5hdHRyKCd5JywgaXNIb3Jpem9udGFsID8geSA6IHgpLmF0dHIoJ2hlaWdodCcsIGlzSG9yaXpvbnRhbCA/IGhlaWdodEZ1bmMgOiB3aWR0aEZ1bmMpOwoKICAgICAgdmFyIGxheWVyID0gX2QuZGVmYXVsdC5zZWxlY3QoYmFyc1swXS5wYXJlbnROb2RlKTsKCiAgICAgIHZhciBiYXJMYWJlbHMgPSBsYXllci5zZWxlY3RBbGwoJ3RleHQnKS5kYXRhKGNoYXJ0RGF0YS52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICFfbG9kYXNoLmRlZmF1bHQuaXNOdWxsKGQueSk7CiAgICAgIH0pKTsKCiAgICAgIGlmIChpc0xhYmVscykgewogICAgICAgIHZhciBjb2xvckZ1bmMgPSB0aGlzLmhhbmRsZXIuZGF0YS5nZXRDb2xvckZ1bmMoKTsKCiAgICAgICAgdmFyIGQzQ29sb3IgPSBfZC5kZWZhdWx0LnJnYihjb2xvckZ1bmMoY2hhcnREYXRhLmxhYmVsKSk7CgogICAgICAgIHZhciBsYWJlbENsYXNzOwoKICAgICAgICBpZiAoKDAsIF9zZXJ2aWNlcy5pc0NvbG9yRGFyaykoZDNDb2xvci5yLCBkM0NvbG9yLmcsIGQzQ29sb3IuYikpIHsKICAgICAgICAgIGxhYmVsQ2xhc3MgPSAndmlzQ29sdW1uQ2hhcnRfX2Jhci1sYWJlbC0tbGlnaHQnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsYWJlbENsYXNzID0gJ3Zpc0NvbHVtbkNoYXJ0X19iYXItbGFiZWwtLWRhcmsnOwogICAgICAgIH0KCiAgICAgICAgYmFyTGFiZWxzLmVudGVyKCkuYXBwZW5kKCd0ZXh0JykudGV4dChmb3JtYXRWYWx1ZSkuYXR0cignY2xhc3MnLCAidmlzQ29sdW1uQ2hhcnRfX2JhckxhYmVsIHZpc0NvbHVtbkNoYXJ0X19iYXJMYWJlbC0tc3RhY2sgIi5jb25jYXQobGFiZWxDbGFzcykpLmF0dHIoJ3gnLCBpc0hvcml6b250YWwgPyBsYWJlbFggOiBsYWJlbFkpLmF0dHIoJ3knLCBpc0hvcml6b250YWwgPyBsYWJlbFkgOiBsYWJlbFgpIC8vIGRpc3BsYXkgbXVzdCBhcHBseSBsYXN0LCBiZWNhdXNlIGxhYmVsRGlzcGxheSBkZWNpc2lvbiBpdCBiYXNlZAogICAgICAgIC8vIG9uIHRleHQgYm91bmRpbmcgYm94IHdoaWNoIGRlcGVuZHMgb24gYWN0dWFsIGFwcGxpZWQgc3R5bGUuCiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBsYWJlbERpc3BsYXkpOwogICAgICB9CgogICAgICByZXR1cm4gYmFyczsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBncm91cGVkIGJhcnMgdG8gY29sdW1uIGNoYXJ0IHZpc3VhbGl6YXRpb24KICAgICAqCiAgICAgKiBAbWV0aG9kIGFkZEdyb3VwZWRCYXJzCiAgICAgKiBAcGFyYW0gYmFycyB7RDMuVXBkYXRlU2VsZWN0aW9ufSBTVkcgd2l0aCByZWN0IGFkZGVkCiAgICAgKiBAcmV0dXJucyB7RDMuVXBkYXRlU2VsZWN0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZEdyb3VwZWRCYXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRHcm91cGVkQmFycyhiYXJzKSB7CiAgICAgIHZhciB4U2NhbGUgPSB0aGlzLmdldENhdGVnb3J5QXhpcygpLmdldFNjYWxlKCk7CiAgICAgIHZhciB5U2NhbGUgPSB0aGlzLmdldFZhbHVlQXhpcygpLmdldFNjYWxlKCk7CiAgICAgIHZhciBjaGFydERhdGEgPSB0aGlzLmNoYXJ0RGF0YTsKICAgICAgdmFyIGdyb3VwQ291bnQgPSB0aGlzLmdldEdyb3VwZWRDb3VudCgpOwogICAgICB2YXIgZ3JvdXBOdW0gPSB0aGlzLmdldEdyb3VwZWROdW0odGhpcy5jaGFydERhdGEpOwogICAgICB2YXIgZ3V0dGVyU3BhY2luZ1BlcmNlbnRhZ2UgPSAwLjE1OwogICAgICB2YXIgaXNUaW1lU2NhbGUgPSB0aGlzLmdldENhdGVnb3J5QXhpcygpLmF4aXNDb25maWcuaXNUaW1lRG9tYWluKCk7CiAgICAgIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmdldENhdGVnb3J5QXhpcygpLmF4aXNDb25maWcuaXNIb3Jpem9udGFsKCk7CiAgICAgIHZhciBpc0xvZ1NjYWxlID0gdGhpcy5nZXRWYWx1ZUF4aXMoKS5heGlzQ29uZmlnLmlzTG9nU2NhbGUoKTsKICAgICAgdmFyIGlzTGFiZWxzID0gdGhpcy5sYWJlbE9wdGlvbnMuc2hvdzsKICAgICAgdmFyIGJhcldpZHRoOwogICAgICB2YXIgZ3V0dGVyV2lkdGg7CgogICAgICBpZiAoaXNUaW1lU2NhbGUpIHsKICAgICAgICB2YXIgX3RoaXMkaGFuZGxlciRkYXRhJGdlMiA9IHRoaXMuaGFuZGxlci5kYXRhLmdldCgnb3JkZXJlZCcpLAogICAgICAgICAgICBtaW4gPSBfdGhpcyRoYW5kbGVyJGRhdGEkZ2UyLm1pbiwKICAgICAgICAgICAgaW50ZXJ2YWwgPSBfdGhpcyRoYW5kbGVyJGRhdGEkZ2UyLmludGVydmFsOwoKICAgICAgICB2YXIgaW50ZXJ2YWxXaWR0aCA9IHhTY2FsZShtaW4gKyBpbnRlcnZhbCkgLSB4U2NhbGUobWluKTsKICAgICAgICBpbnRlcnZhbFdpZHRoID0gTWF0aC5hYnMoaW50ZXJ2YWxXaWR0aCk7CiAgICAgICAgZ3V0dGVyV2lkdGggPSBpbnRlcnZhbFdpZHRoICogZ3V0dGVyU3BhY2luZ1BlcmNlbnRhZ2U7CiAgICAgICAgYmFyV2lkdGggPSAoaW50ZXJ2YWxXaWR0aCAtIGd1dHRlcldpZHRoKSAvIGdyb3VwQ291bnQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHgoZCwgaSkgewogICAgICAgIGlmIChpc1RpbWVTY2FsZSkgewogICAgICAgICAgcmV0dXJuIHhTY2FsZShkLngpICsgZGF0dW1XaWR0aChiYXJXaWR0aCwgZCwgYmFycy5kYXRhKClbaSArIDFdLCB4U2NhbGUsIGd1dHRlcldpZHRoLCBncm91cENvdW50KSAqIGdyb3VwTnVtOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHhTY2FsZShkLngpICsgeFNjYWxlLnJhbmdlQmFuZCgpIC8gZ3JvdXBDb3VudCAqIGdyb3VwTnVtOwogICAgICB9CgogICAgICBmdW5jdGlvbiB5KGQpIHsKICAgICAgICBpZiAoaXNIb3Jpem9udGFsICYmIGQueSA8IDAgfHwgIWlzSG9yaXpvbnRhbCAmJiBkLnkgPiAwKSB7CiAgICAgICAgICByZXR1cm4geVNjYWxlKDApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHlTY2FsZShkLnkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsYWJlbFgoZCwgaSkgewogICAgICAgIHJldHVybiB4KGQsIGkpICsgd2lkdGhGdW5jKGQsIGkpIC8gMjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbGFiZWxZKGQpIHsKICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7CiAgICAgICAgICByZXR1cm4gZC55ID49IDAgPyB5KGQpIC0gNCA6IHkoZCkgKyBoZWlnaHRGdW5jKGQpICsgdGhpcy5nZXRCQm94KCkuaGVpZ2h0OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGQueSA+PSAwID8geShkKSArIGhlaWdodEZ1bmMoZCkgKyA0IDogeShkKSAtIHRoaXMuZ2V0QkJveCgpLndpZHRoIC0gNDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbGFiZWxEaXNwbGF5KGQsIGkpIHsKICAgICAgICBpZiAoaXNIb3Jpem9udGFsICYmIHRoaXMuZ2V0QkJveCgpLndpZHRoID4gd2lkdGhGdW5jKGQsIGkpKSB7CiAgICAgICAgICByZXR1cm4gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpc0hvcml6b250YWwgJiYgdGhpcy5nZXRCQm94KCkuaGVpZ2h0ID4gd2lkdGhGdW5jKGQpKSB7CiAgICAgICAgICByZXR1cm4gJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICdibG9jayc7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHdpZHRoRnVuYyhkLCBpKSB7CiAgICAgICAgaWYgKGlzVGltZVNjYWxlKSB7CiAgICAgICAgICByZXR1cm4gZGF0dW1XaWR0aChiYXJXaWR0aCwgZCwgYmFycy5kYXRhKClbaSArIDFdLCB4U2NhbGUsIGd1dHRlcldpZHRoLCBncm91cENvdW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB4U2NhbGUucmFuZ2VCYW5kKCkgLyBncm91cENvdW50OwogICAgICB9CgogICAgICBmdW5jdGlvbiBoZWlnaHRGdW5jKGQpIHsKICAgICAgICB2YXIgYmFzZVZhbHVlID0gaXNMb2dTY2FsZSA/IDEgOiAwOwogICAgICAgIHJldHVybiBNYXRoLmFicyh5U2NhbGUoYmFzZVZhbHVlKSAtIHlTY2FsZShkLnkpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUoZCkgewogICAgICAgIHJldHVybiBjaGFydERhdGEueUF4aXNGb3JtYXR0ZXIoZC55KTsKICAgICAgfSAvLyB1cGRhdGUKCgogICAgICBiYXJzLmF0dHIoJ3gnLCBpc0hvcml6b250YWwgPyB4IDogeSkuYXR0cignd2lkdGgnLCBpc0hvcml6b250YWwgPyB3aWR0aEZ1bmMgOiBoZWlnaHRGdW5jKS5hdHRyKCd5JywgaXNIb3Jpem9udGFsID8geSA6IHgpLmF0dHIoJ2hlaWdodCcsIGlzSG9yaXpvbnRhbCA/IGhlaWdodEZ1bmMgOiB3aWR0aEZ1bmMpOwoKICAgICAgdmFyIGxheWVyID0gX2QuZGVmYXVsdC5zZWxlY3QoYmFyc1swXS5wYXJlbnROb2RlKTsKCiAgICAgIHZhciBiYXJMYWJlbHMgPSBsYXllci5zZWxlY3RBbGwoJ3RleHQnKS5kYXRhKGNoYXJ0RGF0YS52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICFfbG9kYXNoLmRlZmF1bHQuaXNOdWxsKGQueSk7CiAgICAgIH0pKTsKICAgICAgYmFyTGFiZWxzLmV4aXQoKS5yZW1vdmUoKTsKCiAgICAgIGlmIChpc0xhYmVscykgewogICAgICAgIHZhciBsYWJlbENvbG9yID0gdGhpcy5oYW5kbGVyLmRhdGEuZ2V0Q29sb3JGdW5jKCkoY2hhcnREYXRhLmxhYmVsKTsKICAgICAgICBiYXJMYWJlbHMuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKS50ZXh0KGZvcm1hdFZhbHVlKS5hdHRyKCdjbGFzcycsICd2aXNDb2x1bW5DaGFydF9fYmFyTGFiZWwnKS5hdHRyKCd4JywgaXNIb3Jpem9udGFsID8gbGFiZWxYIDogbGFiZWxZKS5hdHRyKCd5JywgaXNIb3Jpem9udGFsID8gbGFiZWxZIDogbGFiZWxYKS5hdHRyKCdkb21pbmFudC1iYXNlbGluZScsIGlzSG9yaXpvbnRhbCA/ICdhdXRvJyA6ICdjZW50cmFsJykuYXR0cigndGV4dC1hbmNob3InLCBpc0hvcml6b250YWwgPyAnbWlkZGxlJyA6ICdzdGFydCcpLmF0dHIoJ2ZpbGwnLCBsYWJlbENvbG9yKSAvLyBkaXNwbGF5IG11c3QgYXBwbHkgbGFzdCwgYmVjYXVzZSBsYWJlbERpc3BsYXkgZGVjaXNpb24gaXQgYmFzZWQKICAgICAgICAvLyBvbiB0ZXh0IGJvdW5kaW5nIGJveCB3aGljaCBkZXBlbmRzIG9uIGFjdHVhbCBhcHBsaWVkIHN0eWxlLgogICAgICAgIC5hdHRyKCdkaXNwbGF5JywgbGFiZWxEaXNwbGF5KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJhcnM7CiAgICB9CiAgICAvKioKICAgICAqIFJlbmRlcnMgZDMgdmlzdWFsaXphdGlvbgogICAgICoKICAgICAqIEBtZXRob2QgZHJhdwogICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBDcmVhdGVzIHRoZSB2ZXJ0aWNhbCBiYXIgY2hhcnQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkcmF3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7CiAgICAgICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHN2ZyA9IHNlbGYuY2hhcnRFbC5hcHBlbmQoJ2cnKTsKICAgICAgICAgIHN2Zy5kYXRhKFtzZWxmLmNoYXJ0RGF0YV0pOwogICAgICAgICAgdmFyIGJhcnMgPSBzZWxmLmFkZEJhcnMoc3ZnLCBzZWxmLmNoYXJ0RGF0YSk7CiAgICAgICAgICBzZWxmLmFkZENpcmNsZUV2ZW50cyhiYXJzKTsKCiAgICAgICAgICBpZiAoc2VsZi50aHJlc2hvbGRMaW5lT3B0aW9ucy5zaG93KSB7CiAgICAgICAgICAgIHNlbGYuYWRkVGhyZXNob2xkTGluZShzZWxmLmNoYXJ0RWwpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYuZXZlbnRzLmVtaXQoJ3JlbmRlcmVkJywgewogICAgICAgICAgICBjaGFydDogc2VsZi5jaGFydERhdGEKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHN2ZzsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb2x1bW5DaGFydDsKfShfcG9pbnRfc2VyaWVzLlBvaW50U2VyaWVzKTsKCmV4cG9ydHMuQ29sdW1uQ2hhcnQgPSBDb2x1bW5DaGFydDs="},null]}