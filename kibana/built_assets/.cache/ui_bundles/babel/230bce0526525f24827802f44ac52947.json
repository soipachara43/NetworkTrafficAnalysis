{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/url_state/use_url_state.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/url_state/use_url_state.js","mtime":1589249553212},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnVzZVVybFN0YXRlSG9va3MgPSB2b2lkIDA7Cgp2YXIgX2ZwID0gcmVxdWlyZSgibG9kYXNoL2ZwIik7Cgp2YXIgX3JlYWN0ID0gcmVxdWlyZSgicmVhY3QiKTsKCnZhciBfZmFzdERlZXBFcXVhbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZmFzdC1kZWVwLWVxdWFsIikpOwoKdmFyIF9raWJhbmEgPSByZXF1aXJlKCIuLi8uLi9saWIva2liYW5hIik7Cgp2YXIgX2Fwb2xsb19jb250ZXh0ID0gcmVxdWlyZSgiLi4vLi4vdXRpbHMvYXBvbGxvX2NvbnRleHQiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi9jb25zdGFudHMiKTsKCnZhciBfaGVscGVycyA9IHJlcXVpcmUoIi4vaGVscGVycyIpOwoKdmFyIF90eXBlcyA9IHJlcXVpcmUoIi4vdHlwZXMiKTsKCnZhciBfdHlwZXMyID0gcmVxdWlyZSgiLi4vLi4vcGFnZXMvaG9tZS90eXBlcyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSkgewogIHZhciByZWYgPSAoMCwgX3JlYWN0LnVzZVJlZikodmFsdWUpOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICByZWYuY3VycmVudCA9IHZhbHVlOwogIH0pOwogIHJldHVybiByZWYuY3VycmVudDsKfQoKdmFyIHVzZVVybFN0YXRlSG9va3MgPSBmdW5jdGlvbiB1c2VVcmxTdGF0ZUhvb2tzKF9yZWYpIHsKICB2YXIgZGV0YWlsTmFtZSA9IF9yZWYuZGV0YWlsTmFtZSwKICAgICAgaW5kZXhQYXR0ZXJuID0gX3JlZi5pbmRleFBhdHRlcm4sCiAgICAgIGhpc3RvcnkgPSBfcmVmLmhpc3RvcnksCiAgICAgIG5hdlRhYnMgPSBfcmVmLm5hdlRhYnMsCiAgICAgIHBhZ2VOYW1lID0gX3JlZi5wYWdlTmFtZSwKICAgICAgcGF0aE5hbWUgPSBfcmVmLnBhdGhOYW1lLAogICAgICBzZWFyY2ggPSBfcmVmLnNlYXJjaCwKICAgICAgc2V0SW5pdGlhbFN0YXRlRnJvbVVybCA9IF9yZWYuc2V0SW5pdGlhbFN0YXRlRnJvbVVybCwKICAgICAgdGFiTmFtZSA9IF9yZWYudGFiTmFtZSwKICAgICAgdXBkYXRlVGltZWxpbmUgPSBfcmVmLnVwZGF0ZVRpbWVsaW5lLAogICAgICB1cGRhdGVUaW1lbGluZUlzTG9hZGluZyA9IF9yZWYudXBkYXRlVGltZWxpbmVJc0xvYWRpbmcsCiAgICAgIHVybFN0YXRlID0gX3JlZi51cmxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHRydWUpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaXNJbml0aWFsaXppbmcgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRJc0luaXRpYWxpemluZyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBhcG9sbG9DbGllbnQgPSAoMCwgX2Fwb2xsb19jb250ZXh0LnVzZUFwb2xsb0NsaWVudCkoKTsKICB2YXIgX3VzZUtpYmFuYSRzZXJ2aWNlcyRkID0gKDAsIF9raWJhbmEudXNlS2liYW5hKSgpLnNlcnZpY2VzLmRhdGEucXVlcnksCiAgICAgIGZpbHRlck1hbmFnZXIgPSBfdXNlS2liYW5hJHNlcnZpY2VzJGQuZmlsdGVyTWFuYWdlciwKICAgICAgc2F2ZWRRdWVyaWVzID0gX3VzZUtpYmFuYSRzZXJ2aWNlcyRkLnNhdmVkUXVlcmllczsKICB2YXIgcHJldlByb3BzID0gdXNlUHJldmlvdXMoewogICAgcGF0aE5hbWU6IHBhdGhOYW1lLAogICAgcGFnZU5hbWU6IHBhZ2VOYW1lLAogICAgdXJsU3RhdGU6IHVybFN0YXRlCiAgfSk7CgogIHZhciBoYW5kbGVJbml0aWFsaXplID0gZnVuY3Rpb24gaGFuZGxlSW5pdGlhbGl6ZSh0eXBlLCBuZWVkVXBkYXRlKSB7CiAgICB2YXIgbXlTZWFyY2ggPSBzZWFyY2g7CiAgICB2YXIgdXJsU3RhdGVUb1VwZGF0ZSA9IFtdOwoKICAgIF90eXBlcy5VUkxfU1RBVEVfS0VZU1t0eXBlXS5mb3JFYWNoKGZ1bmN0aW9uICh1cmxLZXkpIHsKICAgICAgdmFyIF91cmxTdGF0ZSR1cmxLZXk7CgogICAgICB2YXIgbmV3VXJsU3RhdGVTdHJpbmcgPSAoMCwgX2hlbHBlcnMuZ2V0UGFyYW1Gcm9tUXVlcnlTdHJpbmcpKCgwLCBfaGVscGVycy5nZXRRdWVyeVN0cmluZ0Zyb21Mb2NhdGlvbikobXlTZWFyY2gpLCB1cmxLZXkpOwoKICAgICAgaWYgKG5ld1VybFN0YXRlU3RyaW5nKSB7CiAgICAgICAgbXlTZWFyY2ggPSAoMCwgX2hlbHBlcnMudXBkYXRlVXJsU3RhdGVTdHJpbmcpKHsKICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnksCiAgICAgICAgICBpc0luaXRpYWxpemluZzogaXNJbml0aWFsaXppbmcsCiAgICAgICAgICBuZXdVcmxTdGF0ZVN0cmluZzogbmV3VXJsU3RhdGVTdHJpbmcsCiAgICAgICAgICBwYXRoTmFtZTogcGF0aE5hbWUsCiAgICAgICAgICBzZWFyY2g6IG15U2VhcmNoLAogICAgICAgICAgdXBkYXRlVGltZXJhbmdlOiAobmVlZFVwZGF0ZSAhPT0gbnVsbCAmJiBuZWVkVXBkYXRlICE9PSB2b2lkIDAgPyBuZWVkVXBkYXRlIDogZmFsc2UpIHx8IGlzSW5pdGlhbGl6aW5nLAogICAgICAgICAgdXJsS2V5OiB1cmxLZXkKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGlzSW5pdGlhbGl6aW5nIHx8IG5lZWRVcGRhdGUpIHsKICAgICAgICAgIHZhciBfZ2V0UGFyYW1Gcm9tUXVlcnlTdHI7CgogICAgICAgICAgdmFyIHVwZGF0ZWRVcmxTdGF0ZVN0cmluZyA9IChfZ2V0UGFyYW1Gcm9tUXVlcnlTdHIgPSAoMCwgX2hlbHBlcnMuZ2V0UGFyYW1Gcm9tUXVlcnlTdHJpbmcpKCgwLCBfaGVscGVycy5nZXRRdWVyeVN0cmluZ0Zyb21Mb2NhdGlvbikobXlTZWFyY2gpLCB1cmxLZXkpKSAhPT0gbnVsbCAmJiBfZ2V0UGFyYW1Gcm9tUXVlcnlTdHIgIT09IHZvaWQgMCA/IF9nZXRQYXJhbUZyb21RdWVyeVN0ciA6IG5ld1VybFN0YXRlU3RyaW5nOwoKICAgICAgICAgIGlmIChpc0luaXRpYWxpemluZyB8fCAhKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHVwZGF0ZWRVcmxTdGF0ZVN0cmluZywgbmV3VXJsU3RhdGVTdHJpbmcpKSB7CiAgICAgICAgICAgIHVybFN0YXRlVG9VcGRhdGUgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHVybFN0YXRlVG9VcGRhdGUpLCBbewogICAgICAgICAgICAgIHVybEtleTogdXJsS2V5LAogICAgICAgICAgICAgIG5ld1VybFN0YXRlU3RyaW5nOiB1cGRhdGVkVXJsU3RhdGVTdHJpbmcKICAgICAgICAgICAgfV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh1cmxLZXkgPT09IF9jb25zdGFudHMuQ09OU1RBTlRTLmFwcFF1ZXJ5ICYmIHVybFN0YXRlW3VybEtleV0gIT0gbnVsbCAmJiAoKF91cmxTdGF0ZSR1cmxLZXkgPSB1cmxTdGF0ZVt1cmxLZXldKSA9PT0gbnVsbCB8fCBfdXJsU3RhdGUkdXJsS2V5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdXJsU3RhdGUkdXJsS2V5LnF1ZXJ5KSA9PT0gJycpIHsKICAgICAgICBteVNlYXJjaCA9ICgwLCBfaGVscGVycy5yZXBsYWNlU3RhdGVJbkxvY2F0aW9uKSh7CiAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LAogICAgICAgICAgcGF0aE5hbWU6IHBhdGhOYW1lLAogICAgICAgICAgc2VhcmNoOiBteVNlYXJjaCwKICAgICAgICAgIHVybFN0YXRlVG9SZXBsYWNlOiAnJywKICAgICAgICAgIHVybFN0YXRlS2V5OiB1cmxLZXkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh1cmxLZXkgPT09IF9jb25zdGFudHMuQ09OU1RBTlRTLmZpbHRlcnMgJiYgKDAsIF9mcC5pc0VtcHR5KSh1cmxTdGF0ZVt1cmxLZXldKSkgewogICAgICAgIG15U2VhcmNoID0gKDAsIF9oZWxwZXJzLnJlcGxhY2VTdGF0ZUluTG9jYXRpb24pKHsKICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnksCiAgICAgICAgICBwYXRoTmFtZTogcGF0aE5hbWUsCiAgICAgICAgICBzZWFyY2g6IG15U2VhcmNoLAogICAgICAgICAgdXJsU3RhdGVUb1JlcGxhY2U6ICcnLAogICAgICAgICAgdXJsU3RhdGVLZXk6IHVybEtleQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHVybEtleSA9PT0gX2NvbnN0YW50cy5DT05TVEFOVFMudGltZWxpbmUgJiYgdXJsU3RhdGVbdXJsS2V5XSAhPSBudWxsICYmIHVybFN0YXRlW3VybEtleV0uaWQgPT09ICcnKSB7CiAgICAgICAgbXlTZWFyY2ggPSAoMCwgX2hlbHBlcnMucmVwbGFjZVN0YXRlSW5Mb2NhdGlvbikoewogICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICAgIHBhdGhOYW1lOiBwYXRoTmFtZSwKICAgICAgICAgIHNlYXJjaDogbXlTZWFyY2gsCiAgICAgICAgICB1cmxTdGF0ZVRvUmVwbGFjZTogJycsCiAgICAgICAgICB1cmxTdGF0ZUtleTogdXJsS2V5CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbXlTZWFyY2ggPSAoMCwgX2hlbHBlcnMucmVwbGFjZVN0YXRlSW5Mb2NhdGlvbikoewogICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICAgIHBhdGhOYW1lOiBwYXRoTmFtZSwKICAgICAgICAgIHNlYXJjaDogbXlTZWFyY2gsCiAgICAgICAgICB1cmxTdGF0ZVRvUmVwbGFjZTogdXJsU3RhdGVbdXJsS2V5XSB8fCAnJywKICAgICAgICAgIHVybFN0YXRlS2V5OiB1cmxLZXkKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CgogICAgKDAsIF9mcC5kaWZmZXJlbmNlKShfdHlwZXMuQUxMX1VSTF9TVEFURV9LRVlTLCBfdHlwZXMuVVJMX1NUQVRFX0tFWVNbdHlwZV0pLmZvckVhY2goZnVuY3Rpb24gKHVybEtleSkgewogICAgICBteVNlYXJjaCA9ICgwLCBfaGVscGVycy5yZXBsYWNlU3RhdGVJbkxvY2F0aW9uKSh7CiAgICAgICAgaGlzdG9yeTogaGlzdG9yeSwKICAgICAgICBwYXRoTmFtZTogcGF0aE5hbWUsCiAgICAgICAgc2VhcmNoOiBteVNlYXJjaCwKICAgICAgICB1cmxTdGF0ZVRvUmVwbGFjZTogJycsCiAgICAgICAgdXJsU3RhdGVLZXk6IHVybEtleQogICAgICB9KTsKICAgIH0pOwogICAgc2V0SW5pdGlhbFN0YXRlRnJvbVVybCh7CiAgICAgIGFwb2xsb0NsaWVudDogYXBvbGxvQ2xpZW50LAogICAgICBkZXRhaWxOYW1lOiBkZXRhaWxOYW1lLAogICAgICBmaWx0ZXJNYW5hZ2VyOiBmaWx0ZXJNYW5hZ2VyLAogICAgICBpbmRleFBhdHRlcm46IGluZGV4UGF0dGVybiwKICAgICAgcGFnZU5hbWU6IHBhZ2VOYW1lLAogICAgICBzYXZlZFF1ZXJpZXM6IHNhdmVkUXVlcmllcywKICAgICAgdXBkYXRlVGltZWxpbmU6IHVwZGF0ZVRpbWVsaW5lLAogICAgICB1cGRhdGVUaW1lbGluZUlzTG9hZGluZzogdXBkYXRlVGltZWxpbmVJc0xvYWRpbmcsCiAgICAgIHVybFN0YXRlVG9VcGRhdGU6IHVybFN0YXRlVG9VcGRhdGUKICAgIH0pKCk7CiAgfTsKCiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIHZhciB0eXBlID0gKDAsIF9oZWxwZXJzLmdldFVybFR5cGUpKHBhZ2VOYW1lKTsKCiAgICBpZiAoaXNJbml0aWFsaXppbmcgJiYgcGFnZU5hbWUgIT0gbnVsbCAmJiBwYWdlTmFtZSAhPT0gJycpIHsKICAgICAgaGFuZGxlSW5pdGlhbGl6ZSh0eXBlKTsKICAgICAgc2V0SXNJbml0aWFsaXppbmcoZmFsc2UpOwogICAgfSBlbHNlIGlmICghKDAsIF9mYXN0RGVlcEVxdWFsLmRlZmF1bHQpKHVybFN0YXRlLCBwcmV2UHJvcHMudXJsU3RhdGUpICYmICFpc0luaXRpYWxpemluZykgewogICAgICB2YXIgbXlTZWFyY2ggPSBzZWFyY2g7CgogICAgICBfdHlwZXMuVVJMX1NUQVRFX0tFWVNbdHlwZV0uZm9yRWFjaChmdW5jdGlvbiAodXJsS2V5KSB7CiAgICAgICAgdmFyIF91cmxTdGF0ZSR1cmxLZXkyOwoKICAgICAgICBpZiAodXJsS2V5ID09PSBfY29uc3RhbnRzLkNPTlNUQU5UUy5hcHBRdWVyeSAmJiB1cmxTdGF0ZVt1cmxLZXldICE9IG51bGwgJiYgKChfdXJsU3RhdGUkdXJsS2V5MiA9IHVybFN0YXRlW3VybEtleV0pID09PSBudWxsIHx8IF91cmxTdGF0ZSR1cmxLZXkyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdXJsU3RhdGUkdXJsS2V5Mi5xdWVyeSkgPT09ICcnKSB7CiAgICAgICAgICBteVNlYXJjaCA9ICgwLCBfaGVscGVycy5yZXBsYWNlU3RhdGVJbkxvY2F0aW9uKSh7CiAgICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnksCiAgICAgICAgICAgIHBhdGhOYW1lOiBwYXRoTmFtZSwKICAgICAgICAgICAgc2VhcmNoOiBteVNlYXJjaCwKICAgICAgICAgICAgdXJsU3RhdGVUb1JlcGxhY2U6ICcnLAogICAgICAgICAgICB1cmxTdGF0ZUtleTogdXJsS2V5CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHVybEtleSA9PT0gX2NvbnN0YW50cy5DT05TVEFOVFMuZmlsdGVycyAmJiAoMCwgX2ZwLmlzRW1wdHkpKHVybFN0YXRlW3VybEtleV0pKSB7CiAgICAgICAgICBteVNlYXJjaCA9ICgwLCBfaGVscGVycy5yZXBsYWNlU3RhdGVJbkxvY2F0aW9uKSh7CiAgICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnksCiAgICAgICAgICAgIHBhdGhOYW1lOiBwYXRoTmFtZSwKICAgICAgICAgICAgc2VhcmNoOiBteVNlYXJjaCwKICAgICAgICAgICAgdXJsU3RhdGVUb1JlcGxhY2U6ICcnLAogICAgICAgICAgICB1cmxTdGF0ZUtleTogdXJsS2V5CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHVybEtleSA9PT0gX2NvbnN0YW50cy5DT05TVEFOVFMudGltZWxpbmUgJiYgdXJsU3RhdGVbdXJsS2V5XSAhPSBudWxsICYmIHVybFN0YXRlW3VybEtleV0uaWQgPT09ICcnKSB7CiAgICAgICAgICBteVNlYXJjaCA9ICgwLCBfaGVscGVycy5yZXBsYWNlU3RhdGVJbkxvY2F0aW9uKSh7CiAgICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnksCiAgICAgICAgICAgIHBhdGhOYW1lOiBwYXRoTmFtZSwKICAgICAgICAgICAgc2VhcmNoOiBteVNlYXJjaCwKICAgICAgICAgICAgdXJsU3RhdGVUb1JlcGxhY2U6ICcnLAogICAgICAgICAgICB1cmxTdGF0ZUtleTogdXJsS2V5CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbXlTZWFyY2ggPSAoMCwgX2hlbHBlcnMucmVwbGFjZVN0YXRlSW5Mb2NhdGlvbikoewogICAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LAogICAgICAgICAgICBwYXRoTmFtZTogcGF0aE5hbWUsCiAgICAgICAgICAgIHNlYXJjaDogbXlTZWFyY2gsCiAgICAgICAgICAgIHVybFN0YXRlVG9SZXBsYWNlOiB1cmxTdGF0ZVt1cmxLZXldIHx8ICcnLAogICAgICAgICAgICB1cmxTdGF0ZUtleTogdXJsS2V5CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChwYXRoTmFtZSAhPT0gcHJldlByb3BzLnBhdGhOYW1lKSB7CiAgICAgIGhhbmRsZUluaXRpYWxpemUodHlwZSwgcGFnZU5hbWUgPT09IF90eXBlczIuU2llbVBhZ2VOYW1lLmRldGVjdGlvbnMpOwogICAgfQogIH0sIFtpc0luaXRpYWxpemluZywgaGlzdG9yeSwgcGF0aE5hbWUsIHBhZ2VOYW1lLCBwcmV2UHJvcHMsIHVybFN0YXRlXSk7CiAgKDAsIF9yZWFjdC51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gIiIuY29uY2F0KCgwLCBfaGVscGVycy5nZXRUaXRsZSkocGFnZU5hbWUsIGRldGFpbE5hbWUsIG5hdlRhYnMpLCAiIC0gS2liYW5hIik7CiAgfSwgW3BhZ2VOYW1lXSk7CiAgcmV0dXJuIG51bGw7Cn07CgpleHBvcnRzLnVzZVVybFN0YXRlSG9va3MgPSB1c2VVcmxTdGF0ZUhvb2tzOw=="},null]}