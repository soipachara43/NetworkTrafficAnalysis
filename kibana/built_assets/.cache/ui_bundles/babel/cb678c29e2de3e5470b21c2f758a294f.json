{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/workpad_loader/index.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/workpad_loader/index.js","mtime":1589249552023},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldvcmtwYWRMb2FkZXIgPSB2b2lkIDA7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJlZHV4Iik7Cgp2YXIgX3JlY29tcG9zZSA9IHJlcXVpcmUoInJlY29tcG9zZSIpOwoKdmFyIHdvcmtwYWRTZXJ2aWNlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi4vLi4vbGliL3dvcmtwYWRfc2VydmljZSIpKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgiLi4vLi4vbGliL25vdGlmeSIpOwoKdmFyIF9hcHAgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9zZWxlY3RvcnMvYXBwIik7Cgp2YXIgX3dvcmtwYWQgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9zZWxlY3RvcnMvd29ya3BhZCIpOwoKdmFyIF9nZXRfaWQgPSByZXF1aXJlKCIuLi8uLi9saWIvZ2V0X2lkIik7Cgp2YXIgX2Rvd25sb2FkX3dvcmtwYWQgPSByZXF1aXJlKCIuLi8uLi9saWIvZG93bmxvYWRfd29ya3BhZCIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiLi4vLi4vLi4vaTE4biIpOwoKdmFyIF93b3JrcGFkX2xvYWRlciA9IHJlcXVpcmUoIi4vd29ya3BhZF9sb2FkZXIiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9Cgp2YXIgc3RyaW5ncyA9IF9pMThuLkNvbXBvbmVudFN0cmluZ3MuV29ya3BhZExvYWRlcjsKdmFyIGVycm9ycyA9IF9pMThuLkVycm9yU3RyaW5ncy5Xb3JrcGFkTG9hZGVyOwoKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkgewogIHJldHVybiB7CiAgICB3b3JrcGFkSWQ6ICgwLCBfd29ya3BhZC5nZXRXb3JrcGFkKShzdGF0ZSkuaWQsCiAgICBjYW5Vc2VyV3JpdGU6ICgwLCBfYXBwLmNhblVzZXJXcml0ZSkoc3RhdGUpCiAgfTsKfTsKCnZhciBXb3JrcGFkTG9hZGVyID0gKDAsIF9yZWNvbXBvc2UuY29tcG9zZSkoKDAsIF9yZWNvbXBvc2UuZ2V0Q29udGV4dCkoewogIHJvdXRlcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdAp9KSwgKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcyksICgwLCBfcmVjb21wb3NlLndpdGhTdGF0ZSkoJ3dvcmtwYWRzJywgJ3NldFdvcmtwYWRzJywgbnVsbCksICgwLCBfcmVjb21wb3NlLndpdGhIYW5kbGVycykoewogIC8vIFdvcmtwYWQgY3JlYXRpb24gdmlhIG5hdmlnYXRpb24KICBjcmVhdGVXb3JrcGFkOiBmdW5jdGlvbiBjcmVhdGVXb3JrcGFkKHByb3BzKSB7CiAgICByZXR1cm4gKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHdvcmtwYWQpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCEod29ya3BhZCAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gd29ya3BhZFNlcnZpY2UuY3JlYXRlKHdvcmtwYWQpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcHJvcHMucm91dGVyLm5hdmlnYXRlVG8oJ2xvYWRXb3JrcGFkJywgewogICAgICAgICAgICAgICAgICAgIGlkOiB3b3JrcGFkLmlkLAogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICAgIF9ub3RpZnkubm90aWZ5LmVycm9yKF9jb250ZXh0LnQwLCB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVycm9ycy5nZXRVcGxvYWRGYWlsdXJlRXJyb3JNZXNzYWdlKCkKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgcHJvcHMucm91dGVyLm5hdmlnYXRlVG8oJ2NyZWF0ZVdvcmtwYWQnKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgN11dKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpCiAgICApOwogIH0sCiAgLy8gV29ya3BhZCBzZWFyY2gKICBmaW5kV29ya3BhZHM6IGZ1bmN0aW9uIGZpbmRXb3JrcGFkcyhfcmVmMikgewogICAgdmFyIHNldFdvcmtwYWRzID0gX3JlZjIuc2V0V29ya3BhZHM7CiAgICByZXR1cm4gKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGV4dCkgewogICAgICAgICAgdmFyIHdvcmtwYWRzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JrcGFkU2VydmljZS5maW5kKHRleHQpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgd29ya3BhZHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgc2V0V29ya3BhZHMod29ya3BhZHMpOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQyLnQwLCB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVycm9ycy5nZXRGaW5kRmFpbHVyZUVycm9yTWVzc2FnZSgpCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDddXSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpCiAgICApOwogIH0sCiAgLy8gV29ya3BhZCBpbXBvcnQvZXhwb3J0IG1ldGhvZHMKICBkb3dubG9hZFdvcmtwYWQ6IGZ1bmN0aW9uIGRvd25sb2FkV29ya3BhZCgpIHsKICAgIHJldHVybiBmdW5jdGlvbiAod29ya3BhZElkKSB7CiAgICAgIHJldHVybiAoMCwgX2Rvd25sb2FkX3dvcmtwYWQuZG93bmxvYWRXb3JrcGFkKSh3b3JrcGFkSWQpOwogICAgfTsKICB9LAogIC8vIENsb25lIHdvcmtwYWQgZ2l2ZW4gYW4gaWQKICBjbG9uZVdvcmtwYWQ6IGZ1bmN0aW9uIGNsb25lV29ya3BhZChwcm9wcykgewogICAgcmV0dXJuICgKICAgICAgLyojX19QVVJFX18qLwogICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHdvcmtwYWRJZCkgewogICAgICAgICAgdmFyIHdvcmtwYWQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtwYWRTZXJ2aWNlLmdldCh3b3JrcGFkSWQpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgd29ya3BhZCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgICB3b3JrcGFkLm5hbWUgPSBzdHJpbmdzLmdldENsb25lZFdvcmtwYWROYW1lKHdvcmtwYWQubmFtZSk7CiAgICAgICAgICAgICAgICAgIHdvcmtwYWQuaWQgPSAoMCwgX2dldF9pZC5nZXRJZCkoJ3dvcmtwYWQnKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICByZXR1cm4gd29ya3BhZFNlcnZpY2UuY3JlYXRlKHdvcmtwYWQpOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgcHJvcHMucm91dGVyLm5hdmlnYXRlVG8oJ2xvYWRXb3JrcGFkJywgewogICAgICAgICAgICAgICAgICAgIGlkOiB3b3JrcGFkLmlkLAogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICAgIF9ub3RpZnkubm90aWZ5LmVycm9yKF9jb250ZXh0My50MCwgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBlcnJvcnMuZ2V0Q2xvbmVGYWlsdXJlRXJyb3JNZXNzYWdlKCkKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgMTFdXSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpCiAgICApOwogIH0sCiAgLy8gUmVtb3ZlIHdvcmtwYWQgZ2l2ZW4gYW4gYXJyYXkgb2YgaWQKICByZW1vdmVXb3JrcGFkczogZnVuY3Rpb24gcmVtb3ZlV29ya3BhZHMocHJvcHMpIHsKICAgIHJldHVybiAoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh3b3JrcGFkSWRzKSB7CiAgICAgICAgICB2YXIgc2V0V29ya3BhZHMsIHdvcmtwYWRzLCBsb2FkZWRXb3JrcGFkLCByZW1vdmVXb3JrcGFkczsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHNldFdvcmtwYWRzID0gcHJvcHMuc2V0V29ya3BhZHMsIHdvcmtwYWRzID0gcHJvcHMud29ya3BhZHMsIGxvYWRlZFdvcmtwYWQgPSBwcm9wcy53b3JrcGFkSWQ7CiAgICAgICAgICAgICAgICAgIHJlbW92ZVdvcmtwYWRzID0gd29ya3BhZElkcy5tYXAoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtwYWRTZXJ2aWNlLnJlbW92ZShpZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogbnVsbAogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogZXJyCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UuYWxsKHJlbW92ZVdvcmtwYWRzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZGlyZWN0SG9tZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX3Jlc3VsdHMkcmVkdWNlID0gcmVzdWx0cy5yZWR1Y2UoZnVuY3Rpb24gKF9yZWY2LCByZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9zbGljZWRUb0FycmF5KF9yZWY2LCAyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZXMgPSBfcmVmN1swXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfcmVmN1sxXTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlkID09PSBsb2FkZWRXb3JrcGFkICYmICFyZXN1bHQuZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0SG9tZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2gocmVzdWx0LmlkKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3Nlcy5wdXNoKHJlc3VsdC5pZCk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtwYXNzZXMsIGVycm9yc107CiAgICAgICAgICAgICAgICAgICAgfSwgW1tdLCBbXV0pLAogICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0cyRyZWR1Y2UyID0gX3NsaWNlZFRvQXJyYXkoX3Jlc3VsdHMkcmVkdWNlLCAyKSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VzID0gX3Jlc3VsdHMkcmVkdWNlMlswXSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gX3Jlc3VsdHMkcmVkdWNlMlsxXTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZ1dvcmtwYWRzID0gd29ya3BhZHMud29ya3BhZHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmOCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gX3JlZjguaWQ7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXBhc3Nlcy5pbmNsdWRlcyhpZCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmtwYWRTdGF0ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiByZW1haW5pbmdXb3JrcGFkcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICB3b3JrcGFkczogcmVtYWluaW5nV29ya3BhZHMKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF9ub3RpZnkubm90aWZ5LmVycm9yKGVycm9ycy5nZXREZWxldGVGYWlsdXJlRXJyb3JNZXNzYWdlKCkpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgc2V0V29ya3BhZHMod29ya3BhZFN0YXRlKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0SG9tZSkgewogICAgICAgICAgICAgICAgICAgICAgcHJvcHMucm91dGVyLm5hdmlnYXRlVG8oJ2hvbWUnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcnMubWFwKGZ1bmN0aW9uIChfcmVmOSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gX3JlZjkuaWQ7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkKICAgICk7CiAgfQp9KSkoX3dvcmtwYWRfbG9hZGVyLldvcmtwYWRMb2FkZXIpOwpleHBvcnRzLldvcmtwYWRMb2FkZXIgPSBXb3JrcGFkTG9hZGVyOw=="},null]}