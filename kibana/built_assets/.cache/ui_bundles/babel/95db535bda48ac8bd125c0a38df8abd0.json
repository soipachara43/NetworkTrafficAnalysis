{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_timelion/public/components/timelion_expression_input_helpers.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_timelion/public/components/timelion_expression_input_helpers.js","mtime":1589249550006},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnN1Z2dlc3QgPSBzdWdnZXN0OwpleHBvcnRzLmdldFN1Z2dlc3Rpb24gPSBnZXRTdWdnZXN0aW9uOwpleHBvcnRzLlNVR0dFU1RJT05fVFlQRSA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfbW9uYWNvID0gcmVxdWlyZSgiQGtibi91aS1zaGFyZWQtZGVwcy9tb25hY28iKTsKCnZhciBfY2hhaW4gPSByZXF1aXJlKCIuLi9fZ2VuZXJhdGVkXy9jaGFpbiIpOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKdmFyIFNVR0dFU1RJT05fVFlQRTsKZXhwb3J0cy5TVUdHRVNUSU9OX1RZUEUgPSBTVUdHRVNUSU9OX1RZUEU7CgooZnVuY3Rpb24gKFNVR0dFU1RJT05fVFlQRSkgewogIFNVR0dFU1RJT05fVFlQRVsiQVJHVU1FTlRTIl0gPSAiYXJndW1lbnRzIjsKICBTVUdHRVNUSU9OX1RZUEVbIkFSR1VNRU5UX1ZBTFVFIl0gPSAiYXJndW1lbnRfdmFsdWUiOwogIFNVR0dFU1RJT05fVFlQRVsiRlVOQ1RJT05TIl0gPSAiZnVuY3Rpb25zIjsKfSkoU1VHR0VTVElPTl9UWVBFIHx8IChleHBvcnRzLlNVR0dFU1RJT05fVFlQRSA9IFNVR0dFU1RJT05fVFlQRSA9IHt9KSk7CgpmdW5jdGlvbiBpbkxvY2F0aW9uKGN1cnNvclBvc2l0aW9uLCBsb2NhdGlvbikgewogIHJldHVybiBjdXJzb3JQb3NpdGlvbiA+PSBsb2NhdGlvbi5taW4gJiYgY3Vyc29yUG9zaXRpb24gPD0gbG9jYXRpb24ubWF4Owp9CgpmdW5jdGlvbiBnZXRBcmd1bWVudHNIZWxwKGZ1bmN0aW9uSGVscCkgewogIHZhciBmdW5jdGlvbkFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwoKICBpZiAoIWZ1bmN0aW9uSGVscCkgewogICAgcmV0dXJuIFtdOwogIH0gLy8gRG8gbm90IHByb3ZpZGUgJ2lucHV0U2VyaWVzJyBhcyBhcmd1bWVudCBzdWdnZXN0aW9uIGZvciBjaGFpbmFibGUgZnVuY3Rpb25zCgoKICB2YXIgYXJnc0hlbHAgPSBmdW5jdGlvbkhlbHAuY2hhaW5hYmxlID8gZnVuY3Rpb25IZWxwLmFyZ3Muc2xpY2UoMSkgOiBmdW5jdGlvbkhlbHAuYXJncy5zbGljZSgwKTsgLy8gaWdub3JlIGFyZ3VtZW50cyB0aGF0IGFyZSBhbHJlYWR5IHByb3ZpZGVkIGluIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCgogIHZhciBmdW5jdGlvbkFyZ05hbWVzID0gZnVuY3Rpb25BcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7CiAgICByZXR1cm4gYXJnLm5hbWU7CiAgfSk7CiAgcmV0dXJuIGFyZ3NIZWxwLmZpbHRlcihmdW5jdGlvbiAoYXJnKSB7CiAgICByZXR1cm4gIWZ1bmN0aW9uQXJnTmFtZXMuaW5jbHVkZXMoYXJnLm5hbWUpOwogIH0pOwp9CgpmdW5jdGlvbiBleHRyYWN0U3VnZ2VzdGlvbnNGcm9tUGFyc2VkUmVzdWx0KF94LCBfeDIsIF94MywgX3g0KSB7CiAgcmV0dXJuIF9leHRyYWN0U3VnZ2VzdGlvbnNGcm9tUGFyc2VkUmVzdWx0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9leHRyYWN0U3VnZ2VzdGlvbnNGcm9tUGFyc2VkUmVzdWx0KCkgewogIF9leHRyYWN0U3VnZ2VzdGlvbnNGcm9tUGFyc2VkUmVzdWx0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzdWx0LCBjdXJzb3JQb3NpdGlvbiwgZnVuY3Rpb25MaXN0LCBhcmdWYWx1ZVN1Z2dlc3Rpb25zKSB7CiAgICB2YXIgYWN0aXZlRnVuYywgZnVuY3Rpb25IZWxwLCBvcGVuUGFyZW4sIGFjdGl2ZUFyZywgZnVuY3Rpb25OYW1lLCBmdW5jdGlvbkFyZ3MsIGFyZ05hbWUsIHBhcnRpYWxJbnB1dCwgdmFsdWVTdWdnZXN0aW9ucywgX3JlZjMsIHN0YXRpY1N1Z2dlc3Rpb25zLCBhcmdzSGVscCwgYXJndW1lbnRTdWdnZXN0aW9uczsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGFjdGl2ZUZ1bmMgPSByZXN1bHQuZnVuY3Rpb25zLmZpbmQoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uOwogICAgICAgICAgICAgIHJldHVybiBpbkxvY2F0aW9uKGN1cnNvclBvc2l0aW9uLCBsb2NhdGlvbik7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKGFjdGl2ZUZ1bmMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBmdW5jdGlvbkhlbHAgPSBmdW5jdGlvbkxpc3QuZmluZChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWU7CiAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IGFjdGl2ZUZ1bmMuZnVuY3Rpb247CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKGZ1bmN0aW9uSGVscCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiBzdWdnZXN0aW9uIHdoZW4gY3Vyc29yIGlzIG91dHNpZGUgb2YgcGFyZW50aGVzZXMKICAgICAgICAgICAgLy8gbG9jYXRpb24gcmFuZ2UgaW5jbHVkZXMgJy4nLCBmdW5jdGlvbiBuYW1lLCBhbmQgJygnLgogICAgICAgICAgICBvcGVuUGFyZW4gPSBhY3RpdmVGdW5jLmxvY2F0aW9uLm1pbiArIGFjdGl2ZUZ1bmMuZnVuY3Rpb24ubGVuZ3RoICsgMjsKCiAgICAgICAgICAgIGlmICghKGN1cnNvclBvc2l0aW9uIDwgb3BlblBhcmVuKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgbGlzdDogW2Z1bmN0aW9uSGVscF0sCiAgICAgICAgICAgICAgdHlwZTogU1VHR0VTVElPTl9UWVBFLkZVTkNUSU9OUwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIC8vIHJldHVybiBhcmd1bWVudCB2YWx1ZSBzdWdnZXN0aW9ucyB3aGVuIGN1cnNvciBpcyBpbnNpZGUgYXJndW1lbnQgdmFsdWUKICAgICAgICAgICAgYWN0aXZlQXJnID0gYWN0aXZlRnVuYy5hcmd1bWVudHMuZmluZChmdW5jdGlvbiAoYXJndW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gaW5Mb2NhdGlvbihjdXJzb3JQb3NpdGlvbiwgYXJndW1lbnQubG9jYXRpb24pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghKGFjdGl2ZUFyZyAmJiBhY3RpdmVBcmcudHlwZSA9PT0gJ25hbWVkQXJnJyAmJiBpbkxvY2F0aW9uKGN1cnNvclBvc2l0aW9uLCBhY3RpdmVBcmcudmFsdWUubG9jYXRpb24pKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb25OYW1lID0gYWN0aXZlRnVuYy5mdW5jdGlvbiwgZnVuY3Rpb25BcmdzID0gYWN0aXZlRnVuYy5hcmd1bWVudHM7CiAgICAgICAgICAgIGFyZ05hbWUgPSBhY3RpdmVBcmcubmFtZSwgcGFydGlhbElucHV0ID0gYWN0aXZlQXJnLnZhbHVlLnRleHQ7CgogICAgICAgICAgICBpZiAoIWFyZ1ZhbHVlU3VnZ2VzdGlvbnMuaGFzRHluYW1pY1N1Z2dlc3Rpb25zRm9yQXJndW1lbnQoZnVuY3Rpb25OYW1lLCBhcmdOYW1lKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICByZXR1cm4gYXJnVmFsdWVTdWdnZXN0aW9ucy5nZXREeW5hbWljU3VnZ2VzdGlvbnNGb3JBcmd1bWVudChmdW5jdGlvbk5hbWUsIGFyZ05hbWUsIGZ1bmN0aW9uQXJncywgcGFydGlhbElucHV0KTsKCiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICB2YWx1ZVN1Z2dlc3Rpb25zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBfcmVmMyA9IGZ1bmN0aW9uSGVscC5hcmdzLmZpbmQoZnVuY3Rpb24gKGFyZykgewogICAgICAgICAgICAgIHJldHVybiBhcmcubmFtZSA9PT0gYWN0aXZlQXJnLm5hbWU7CiAgICAgICAgICAgIH0pIHx8IHt9LCBzdGF0aWNTdWdnZXN0aW9ucyA9IF9yZWYzLnN1Z2dlc3Rpb25zOwogICAgICAgICAgICB2YWx1ZVN1Z2dlc3Rpb25zID0gYXJnVmFsdWVTdWdnZXN0aW9ucy5nZXRTdGF0aWNTdWdnZXN0aW9uc0ZvcklucHV0KHBhcnRpYWxJbnB1dCwgc3RhdGljU3VnZ2VzdGlvbnMpOwoKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBsaXN0OiB2YWx1ZVN1Z2dlc3Rpb25zLAogICAgICAgICAgICAgIHR5cGU6IFNVR0dFU1RJT05fVFlQRS5BUkdVTUVOVF9WQUxVRQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAvLyByZXR1cm4gYXJndW1lbnQgc3VnZ2VzdGlvbnMKICAgICAgICAgICAgYXJnc0hlbHAgPSBnZXRBcmd1bWVudHNIZWxwKGZ1bmN0aW9uSGVscCwgYWN0aXZlRnVuYy5hcmd1bWVudHMpOwogICAgICAgICAgICBhcmd1bWVudFN1Z2dlc3Rpb25zID0gYXJnc0hlbHAuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgICAgICBpZiAoKDAsIF9sb2Rhc2guZ2V0KShhY3RpdmVBcmcsICd0eXBlJykgPT09ICduYW1lZEFyZycpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2xvZGFzaC5zdGFydHNXaXRoKShhcmcubmFtZSwgYWN0aXZlQXJnLm5hbWUpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQXJnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9sb2Rhc2guc3RhcnRzV2l0aCkoYXJnLm5hbWUsIGFjdGl2ZUFyZy50ZXh0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIGxpc3Q6IGFyZ3VtZW50U3VnZ2VzdGlvbnMsCiAgICAgICAgICAgICAgdHlwZTogU1VHR0VTVElPTl9UWVBFLkFSR1VNRU5UUwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2V4dHJhY3RTdWdnZXN0aW9uc0Zyb21QYXJzZWRSZXN1bHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gc3VnZ2VzdChfeDUsIF94NiwgX3g3LCBfeDgpIHsKICByZXR1cm4gX3N1Z2dlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3N1Z2dlc3QoKSB7CiAgX3N1Z2dlc3QgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAvKiNfX1BVUkVfXyovCiAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZXhwcmVzc2lvbiwgZnVuY3Rpb25MaXN0LCBjdXJzb3JQb3NpdGlvbiwgYXJnVmFsdWVTdWdnZXN0aW9ucykgewogICAgdmFyIHJlc3VsdCwgbWVzc2FnZSwgbGlzdCwgX21lc3NhZ2UsIGZ1bmN0aW9uTmFtZSwgZnVuY3Rpb25BcmdzLCBmdW5jdGlvbkhlbHAsIF9tZXNzYWdlMiwgYXJnTmFtZSwgX2Z1bmN0aW9uTmFtZSwgX2Z1bmN0aW9uQXJncywgdmFsdWVTdWdnZXN0aW9ucywgX2Z1bmN0aW9uSGVscCwgYXJnSGVscDsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuICgwLCBfY2hhaW4ucGFyc2UpKGV4cHJlc3Npb24pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3RTdWdnZXN0aW9uc0Zyb21QYXJzZWRSZXN1bHQocmVzdWx0LCBjdXJzb3JQb3NpdGlvbiwgZnVuY3Rpb25MaXN0LCBhcmdWYWx1ZVN1Z2dlc3Rpb25zKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsgLy8gVGhlIGdyYW1tYXIgd2lsbCB0aHJvdyBhbiBlcnJvciBjb250YWluaW5nIGEgbWVzc2FnZSBpZiB0aGUgZXhwcmVzc2lvbiBpcyBmb3JtYXR0ZWQKICAgICAgICAgICAgLy8gY29ycmVjdGx5IGFuZCBpcyBwcmVwYXJlZCB0byBhY2NlcHQgc3VnZ2VzdGlvbnMuIElmIHRoZSBleHByZXNzaW9uIGlzIG5vdCBmb3JtYXR0ZWQKICAgICAgICAgICAgLy8gY29ycmVjdGx5IHRoZSBncmFtbWFyIHdpbGwganVzdCB0aHJvdyBhIHJlZ3VsYXIgUEVHIFN5bnRheEVycm9yLCBhbmQgdGhpcyBKU09OLnBhcnNlCiAgICAgICAgICAgIC8vIGF0dGVtcHQgd2lsbCB0aHJvdyBhbiBlcnJvci4KCiAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnBhcnNlKF9jb250ZXh0Mi50MC5tZXNzYWdlKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNTsKICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDExKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIF9jb250ZXh0Mi50MiA9IG1lc3NhZ2UudHlwZTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSBfY29udGV4dDIudDIgPT09ICdpbmNvbXBsZXRlRnVuY3Rpb24nID8gMjEgOiBfY29udGV4dDIudDIgPT09ICdpbmNvbXBsZXRlQXJndW1lbnQnID8gMjMgOiBfY29udGV4dDIudDIgPT09ICdpbmNvbXBsZXRlQXJndW1lbnRWYWx1ZScgPyAyNiA6IDM3OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBpZiAobWVzc2FnZS5mdW5jdGlvbikgewogICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBzdGFydCB0eXBpbmcgYSBmdW5jdGlvbiBuYW1lLCBzbyB3ZSdsbCBmaWx0ZXIgdGhlIGxpc3QgZG93biB0byBvbmx5CiAgICAgICAgICAgICAgLy8gcG9zc2libGUgbWF0Y2hlcy4KICAgICAgICAgICAgICBsaXN0ID0gZnVuY3Rpb25MaXN0LmZpbHRlcihmdW5jdGlvbiAoZnVuYykgewogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfbG9kYXNoLnN0YXJ0c1dpdGgpKGZ1bmMubmFtZSwgbWVzc2FnZS5mdW5jdGlvbik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgaGFzbid0IHR5cGVkIGFueXRoaW5nIHlldCwgc28gd2UnbGwganVzdCByZXR1cm4gdGhlIGVudGlyZSBsaXN0LgogICAgICAgICAgICAgIGxpc3QgPSBmdW5jdGlvbkxpc3Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgbGlzdDogbGlzdCwKICAgICAgICAgICAgICB0eXBlOiBTVUdHRVNUSU9OX1RZUEUuRlVOQ1RJT05TCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIF9tZXNzYWdlID0gbWVzc2FnZSwgZnVuY3Rpb25OYW1lID0gX21lc3NhZ2UuY3VycmVudEZ1bmN0aW9uLCBmdW5jdGlvbkFyZ3MgPSBfbWVzc2FnZS5jdXJyZW50QXJnczsKICAgICAgICAgICAgZnVuY3Rpb25IZWxwID0gZnVuY3Rpb25MaXN0LmZpbmQoZnVuY3Rpb24gKGZ1bmMpIHsKICAgICAgICAgICAgICByZXR1cm4gZnVuYy5uYW1lID09PSBmdW5jdGlvbk5hbWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIGxpc3Q6IGdldEFyZ3VtZW50c0hlbHAoZnVuY3Rpb25IZWxwLCBmdW5jdGlvbkFyZ3MpLAogICAgICAgICAgICAgIHR5cGU6IFNVR0dFU1RJT05fVFlQRS5BUkdVTUVOVFMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgX21lc3NhZ2UyID0gbWVzc2FnZSwgYXJnTmFtZSA9IF9tZXNzYWdlMi5uYW1lLCBfZnVuY3Rpb25OYW1lID0gX21lc3NhZ2UyLmN1cnJlbnRGdW5jdGlvbiwgX2Z1bmN0aW9uQXJncyA9IF9tZXNzYWdlMi5jdXJyZW50QXJnczsKICAgICAgICAgICAgdmFsdWVTdWdnZXN0aW9ucyA9IFtdOwoKICAgICAgICAgICAgaWYgKCFhcmdWYWx1ZVN1Z2dlc3Rpb25zLmhhc0R5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50KF9mdW5jdGlvbk5hbWUsIGFyZ05hbWUpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMTsKICAgICAgICAgICAgcmV0dXJuIGFyZ1ZhbHVlU3VnZ2VzdGlvbnMuZ2V0RHluYW1pY1N1Z2dlc3Rpb25zRm9yQXJndW1lbnQoX2Z1bmN0aW9uTmFtZSwgYXJnTmFtZSwgX2Z1bmN0aW9uQXJncyk7CgogICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgdmFsdWVTdWdnZXN0aW9ucyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM2OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICBfZnVuY3Rpb25IZWxwID0gZnVuY3Rpb25MaXN0LmZpbmQoZnVuY3Rpb24gKGZ1bmMpIHsKICAgICAgICAgICAgICByZXR1cm4gZnVuYy5uYW1lID09PSBfZnVuY3Rpb25OYW1lOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChfZnVuY3Rpb25IZWxwKSB7CiAgICAgICAgICAgICAgYXJnSGVscCA9IF9mdW5jdGlvbkhlbHAuYXJncy5maW5kKGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcmcubmFtZSA9PT0gYXJnTmFtZTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGFyZ0hlbHAgJiYgYXJnSGVscC5zdWdnZXN0aW9ucykgewogICAgICAgICAgICAgICAgdmFsdWVTdWdnZXN0aW9ucyA9IGFyZ0hlbHAuc3VnZ2VzdGlvbnM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBsaXN0OiB2YWx1ZVN1Z2dlc3Rpb25zLAogICAgICAgICAgICAgIHR5cGU6IFNVR0dFU1RJT05fVFlQRS5BUkdVTUVOVF9WQUxVRQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA5XSwgWzExLCAxNV1dKTsKICB9KSk7CiAgcmV0dXJuIF9zdWdnZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbiwgdHlwZSwgcmFuZ2UpIHsKICB2YXIga2luZCA9IF9tb25hY28ubW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuTWV0aG9kOwogIHZhciBpbnNlcnRUZXh0ID0gc3VnZ2VzdGlvbi5uYW1lOwogIHZhciBpbnNlcnRUZXh0UnVsZXM7CiAgdmFyIGRldGFpbCA9ICcnOwogIHZhciBjb21tYW5kOwoKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgU1VHR0VTVElPTl9UWVBFLkFSR1VNRU5UUzoKICAgICAgY29tbWFuZCA9IHsKICAgICAgICB0aXRsZTogJ1RyaWdnZXIgU3VnZ2VzdGlvbiBEaWFsb2cnLAogICAgICAgIGlkOiAnZWRpdG9yLmFjdGlvbi50cmlnZ2VyU3VnZ2VzdCcKICAgICAgfTsKICAgICAga2luZCA9IF9tb25hY28ubW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHk7CiAgICAgIGluc2VydFRleHQgPSAiIi5jb25jYXQoaW5zZXJ0VGV4dCwgIj0iKTsKICAgICAgZGV0YWlsID0gIiIuY29uY2F0KF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5leHByZXNzaW9uU3VnZ2VzdGlvbnMuYXJndW1lbnQuZGVzY3JpcHRpb24uYWNjZXB0c1RleHQnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBY2NlcHRzJwogICAgICB9KSwgIjogIikuY29uY2F0KHN1Z2dlc3Rpb24udHlwZXMpOwogICAgICBicmVhazsKCiAgICBjYXNlIFNVR0dFU1RJT05fVFlQRS5GVU5DVElPTlM6CiAgICAgIGNvbW1hbmQgPSB7CiAgICAgICAgdGl0bGU6ICdUcmlnZ2VyIFN1Z2dlc3Rpb24gRGlhbG9nJywKICAgICAgICBpZDogJ2VkaXRvci5hY3Rpb24udHJpZ2dlclN1Z2dlc3QnCiAgICAgIH07CiAgICAgIGtpbmQgPSBfbW9uYWNvLm1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZ1bmN0aW9uOwogICAgICBpbnNlcnRUZXh0ID0gIiIuY29uY2F0KGluc2VydFRleHQsICIoJDApIik7CiAgICAgIGluc2VydFRleHRSdWxlcyA9IF9tb25hY28ubW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlLkluc2VydEFzU25pcHBldDsKICAgICAgZGV0YWlsID0gIigiLmNvbmNhdChzdWdnZXN0aW9uLmNoYWluYWJsZSA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5leHByZXNzaW9uU3VnZ2VzdGlvbnMuZnVuYy5kZXNjcmlwdGlvbi5jaGFpbmFibGVIZWxwVGV4dCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0NoYWluYWJsZScKICAgICAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24uZXhwcmVzc2lvblN1Z2dlc3Rpb25zLmZ1bmMuZGVzY3JpcHRpb24uZGF0YVNvdXJjZUhlbHBUZXh0JywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGF0YSBzb3VyY2UnCiAgICAgIH0pLCAiKSIpOwogICAgICBicmVhazsKCiAgICBjYXNlIFNVR0dFU1RJT05fVFlQRS5BUkdVTUVOVF9WQUxVRToKICAgICAgdmFyIHBhcmFtID0gc3VnZ2VzdGlvbi5uYW1lLnNwbGl0KCc6Jyk7CgogICAgICBpZiAocGFyYW0ubGVuZ3RoID09PSAxIHx8IHBhcmFtWzFdKSB7CiAgICAgICAgaW5zZXJ0VGV4dCA9ICIiLmNvbmNhdChwYXJhbS5sZW5ndGggPT09IDEgPyBpbnNlcnRUZXh0IDogcGFyYW1bMV0sICIsIik7CiAgICAgIH0KCiAgICAgIGNvbW1hbmQgPSB7CiAgICAgICAgdGl0bGU6ICdUcmlnZ2VyIFN1Z2dlc3Rpb24gRGlhbG9nJywKICAgICAgICBpZDogJ2VkaXRvci5hY3Rpb24udHJpZ2dlclN1Z2dlc3QnCiAgICAgIH07CiAgICAgIGtpbmQgPSBfbW9uYWNvLm1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5OwogICAgICBkZXRhaWwgPSBzdWdnZXN0aW9uLmhlbHAgfHwgJyc7CiAgICAgIGJyZWFrOwogIH0KCiAgcmV0dXJuIHsKICAgIGRldGFpbDogZGV0YWlsLAogICAgaW5zZXJ0VGV4dDogaW5zZXJ0VGV4dCwKICAgIGluc2VydFRleHRSdWxlczogaW5zZXJ0VGV4dFJ1bGVzLAogICAga2luZDoga2luZCwKICAgIGxhYmVsOiBzdWdnZXN0aW9uLm5hbWUsCiAgICBkb2N1bWVudGF0aW9uOiBzdWdnZXN0aW9uLmhlbHAsCiAgICBjb21tYW5kOiBjb21tYW5kLAogICAgcmFuZ2U6IHJhbmdlCiAgfTsKfQ=="},null]}