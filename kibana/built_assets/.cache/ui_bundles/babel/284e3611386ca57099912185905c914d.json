{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/infra/public/components/nodes_overview/index.js","dependencies":[{"path":"x-pack/plugins/infra/public/components/nodes_overview/index.js","mtime":1589249554257},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuTm9kZXNPdmVydmlldyA9IHZvaWQgMDsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL29ic2VydmFiaWxpdHkvcHVibGljIik7Cgp2YXIgX2xpYiA9IHJlcXVpcmUoIi4uLy4uL2xpYi9saWIiKTsKCnZhciBfZm9ybWF0dGVycyA9IHJlcXVpcmUoIi4uLy4uL3V0aWxzL2Zvcm1hdHRlcnMiKTsKCnZhciBfZW1wdHlfc3RhdGVzID0gcmVxdWlyZSgiLi4vZW1wdHlfc3RhdGVzIik7Cgp2YXIgX2xvYWRpbmcgPSByZXF1aXJlKCIuLi9sb2FkaW5nIik7Cgp2YXIgX21hcCA9IHJlcXVpcmUoIi4uL3dhZmZsZS9tYXAiKTsKCnZhciBfdmlld19zd2l0Y2hlciA9IHJlcXVpcmUoIi4uL3dhZmZsZS92aWV3X3N3aXRjaGVyIik7Cgp2YXIgX3RhYmxlID0gcmVxdWlyZSgiLi90YWJsZSIpOwoKdmFyIF9zbmFwc2hvdF9hcGkgPSByZXF1aXJlKCIuLi8uLi8uLi9jb21tb24vaHR0cF9hcGkvc25hcHNob3RfYXBpIik7Cgp2YXIgX2NvbnZlcnRfaW50ZXJ2YWxfdG9fc3RyaW5nID0gcmVxdWlyZSgiLi4vLi4vdXRpbHMvY29udmVydF9pbnRlcnZhbF90b19zdHJpbmciKTsKCnZhciBfY3JlYXRlX2Zvcm1hdHRlcl9mb3JfbWV0cmljID0gcmVxdWlyZSgiLi4vbWV0cmljc19leHBsb3Jlci9oZWxwZXJzL2NyZWF0ZV9mb3JtYXR0ZXJfZm9yX21ldHJpYyIpOwoKdmFyIF9NRVRSSUNfRk9STUFUVEVSUywgX2NsYXNzLCBfdGVtcDsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgdG9wOiA3MHB4O1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwYWRkaW5nOiAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QzID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwYWRkaW5nOiAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZmxleDogMSAxIGF1dG87XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgewogIGlmICghcmF3KSB7CiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApOwogIH0KCiAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgewogICAgcmF3OiB7CiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykKICAgIH0KICB9KSk7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogIH07CiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsKfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7CiAgaWYgKHNlbGYgPT09IHZvaWQgMCkgewogICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICB9CgogIHJldHVybiBzZWxmOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIE1FVFJJQ19GT1JNQVRURVJTID0gKF9NRVRSSUNfRk9STUFUVEVSUyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnY291bnQnLCB7CiAgZm9ybWF0dGVyOiBfbGliLkluZnJhRm9ybWF0dGVyVHlwZS5udW1iZXIsCiAgdGVtcGxhdGU6ICd7e3ZhbHVlfX0nCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnY3B1JywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUucGVyY2VudCwKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fScKfSksIF9kZWZpbmVQcm9wZXJ0eShfTUVUUklDX0ZPUk1BVFRFUlMsICdtZW1vcnknLCB7CiAgZm9ybWF0dGVyOiBfbGliLkluZnJhRm9ybWF0dGVyVHlwZS5wZXJjZW50LAogIHRlbXBsYXRlOiAne3t2YWx1ZX19Jwp9KSwgX2RlZmluZVByb3BlcnR5KF9NRVRSSUNfRk9STUFUVEVSUywgJ3J4JywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYml0cywKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fS9zJwp9KSwgX2RlZmluZVByb3BlcnR5KF9NRVRSSUNfRk9STUFUVEVSUywgJ3R4JywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYml0cywKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fS9zJwp9KSwgX2RlZmluZVByb3BlcnR5KF9NRVRSSUNfRk9STUFUVEVSUywgJ2xvZ1JhdGUnLCB7CiAgZm9ybWF0dGVyOiBfbGliLkluZnJhRm9ybWF0dGVyVHlwZS5hYmJyZXZpYXRlZE51bWJlciwKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fS9zJwp9KSwgX2RlZmluZVByb3BlcnR5KF9NRVRSSUNfRk9STUFUVEVSUywgJ2Rpc2tJT1JlYWRCeXRlcycsIHsKICBmb3JtYXR0ZXI6IF9saWIuSW5mcmFGb3JtYXR0ZXJUeXBlLmJ5dGVzLAogIHRlbXBsYXRlOiAne3t2YWx1ZX19L3MnCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnZGlza0lPV3JpdGVCeXRlcycsIHsKICBmb3JtYXR0ZXI6IF9saWIuSW5mcmFGb3JtYXR0ZXJUeXBlLmJ5dGVzLAogIHRlbXBsYXRlOiAne3t2YWx1ZX19L3MnCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnczNCdWNrZXRTaXplJywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYnl0ZXMsCiAgdGVtcGxhdGU6ICd7e3ZhbHVlfX0nCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnczNUb3RhbFJlcXVlc3RzJywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYWJicmV2aWF0ZWROdW1iZXIsCiAgdGVtcGxhdGU6ICd7e3ZhbHVlfX0nCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnczNOdW1iZXJPZk9iamVjdHMnLCB7CiAgZm9ybWF0dGVyOiBfbGliLkluZnJhRm9ybWF0dGVyVHlwZS5hYmJyZXZpYXRlZE51bWJlciwKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fScKfSksIF9kZWZpbmVQcm9wZXJ0eShfTUVUUklDX0ZPUk1BVFRFUlMsICdzM1VwbG9hZEJ5dGVzJywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYnl0ZXMsCiAgdGVtcGxhdGU6ICd7e3ZhbHVlfX0nCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnczNEb3dubG9hZEJ5dGVzJywgewogIGZvcm1hdHRlcjogX2xpYi5JbmZyYUZvcm1hdHRlclR5cGUuYnl0ZXMsCiAgdGVtcGxhdGU6ICd7e3ZhbHVlfX0nCn0pLCBfZGVmaW5lUHJvcGVydHkoX01FVFJJQ19GT1JNQVRURVJTLCAnc3FzT2xkZXN0TWVzc2FnZScsIHsKICBmb3JtYXR0ZXI6IF9saWIuSW5mcmFGb3JtYXR0ZXJUeXBlLm51bWJlciwKICB0ZW1wbGF0ZTogJ3t7dmFsdWV9fSBzZWNvbmRzJwp9KSwgX01FVFJJQ19GT1JNQVRURVJTKTsKCnZhciBjYWxjdWxhdGVCb3VuZHNGcm9tTm9kZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHNGcm9tTm9kZXMobm9kZXMpIHsKICB2YXIgbWF4VmFsdWVzID0gbm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5tZXRyaWMubWF4OwogIH0pOwogIHZhciBtaW5WYWx1ZXMgPSBub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm1ldHJpYy52YWx1ZTsKICB9KTsgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgdmFsdWUgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgYm90dG9tIHJhbmdlIHRvIHplcm8gZm9yIG1pbgogIC8vIG90aGVyd2lzZSB0aGUgbGVnZW5kIHdpbGwgbG9vayBzaWxseSBzaW5jZSBib3RoIHZhbHVlcyBhcmUgdGhlIHNhbWUgZm9yIHRvcCBhbmQKICAvLyBib3R0b20uCgogIGlmIChtaW5WYWx1ZXMubGVuZ3RoID09PSAxKSB7CiAgICBtaW5WYWx1ZXMudW5zaGlmdCgwKTsKICB9CgogIHJldHVybiB7CiAgICBtaW46ICgwLCBfbG9kYXNoLm1pbikobWluVmFsdWVzKSB8fCAwLAogICAgbWF4OiAoMCwgX2xvZGFzaC5tYXgpKG1heFZhbHVlcykgfHwgMAogIH07Cn07Cgp2YXIgTm9kZXNPdmVydmlldyA9IChfdGVtcCA9IF9jbGFzcyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoTm9kZXNPdmVydmlldywgX1JlYWN0JENvbXBvbmVudCk7CgogIGZ1bmN0aW9uIE5vZGVzT3ZlcnZpZXcoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGVzT3ZlcnZpZXcpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoTm9kZXNPdmVydmlldykpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVZpZXdDaGFuZ2UiLCBmdW5jdGlvbiAodmlldykgewogICAgICByZXR1cm4gX3RoaXMucHJvcHMub25WaWV3Q2hhbmdlKHZpZXcpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZm9ybWF0dGVyIiwgZnVuY3Rpb24gKHZhbCkgewogICAgICB2YXIgbWV0cmljID0gX3RoaXMucHJvcHMub3B0aW9ucy5tZXRyaWM7CgogICAgICBpZiAoX3NuYXBzaG90X2FwaS5TbmFwc2hvdEN1c3RvbU1ldHJpY0lucHV0UlQuaXMobWV0cmljKSkgewogICAgICAgIHZhciBfZm9ybWF0dGVyID0gKDAsIF9jcmVhdGVfZm9ybWF0dGVyX2Zvcl9tZXRyaWMuY3JlYXRlRm9ybWF0dGVyRm9yTWV0cmljKShtZXRyaWMpOwoKICAgICAgICByZXR1cm4gX2Zvcm1hdHRlcih2YWwpOwogICAgICB9CgogICAgICB2YXIgbWV0cmljRm9ybWF0dGVyID0gKDAsIF9sb2Rhc2guZ2V0KShNRVRSSUNfRk9STUFUVEVSUywgbWV0cmljLnR5cGUsIE1FVFJJQ19GT1JNQVRURVJTLmNvdW50KTsKCiAgICAgIGlmICh2YWwgPT0gbnVsbCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZvcm1hdHRlciA9ICgwLCBfZm9ybWF0dGVycy5jcmVhdGVGb3JtYXR0ZXIpKG1ldHJpY0Zvcm1hdHRlci5mb3JtYXR0ZXIsIG1ldHJpY0Zvcm1hdHRlci50ZW1wbGF0ZSk7CiAgICAgIHJldHVybiBmb3JtYXR0ZXIodmFsKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZURyaWxsZG93biIsIGZ1bmN0aW9uIChmaWx0ZXIpIHsKICAgICAgX3RoaXMucHJvcHMub25EcmlsbGRvd24oewogICAgICAgIGtpbmQ6ICdrdWVyeScsCiAgICAgICAgZXhwcmVzc2lvbjogZmlsdGVyCiAgICAgIH0pOwoKICAgICAgcmV0dXJuOwogICAgfSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKE5vZGVzT3ZlcnZpZXcsIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgIGF1dG9Cb3VuZHMgPSBfdGhpcyRwcm9wcy5hdXRvQm91bmRzLAogICAgICAgICAgYm91bmRzT3ZlcnJpZGUgPSBfdGhpcyRwcm9wcy5ib3VuZHNPdmVycmlkZSwKICAgICAgICAgIGxvYWRpbmcgPSBfdGhpcyRwcm9wcy5sb2FkaW5nLAogICAgICAgICAgbm9kZXMgPSBfdGhpcyRwcm9wcy5ub2RlcywKICAgICAgICAgIG5vZGVUeXBlID0gX3RoaXMkcHJvcHMubm9kZVR5cGUsCiAgICAgICAgICByZWxvYWQgPSBfdGhpcyRwcm9wcy5yZWxvYWQsCiAgICAgICAgICB2aWV3ID0gX3RoaXMkcHJvcHMudmlldywKICAgICAgICAgIGN1cnJlbnRUaW1lID0gX3RoaXMkcHJvcHMuY3VycmVudFRpbWUsCiAgICAgICAgICBvcHRpb25zID0gX3RoaXMkcHJvcHMub3B0aW9ucywKICAgICAgICAgIGludGVydmFsID0gX3RoaXMkcHJvcHMuaW50ZXJ2YWw7CgogICAgICBpZiAobG9hZGluZykgewogICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbG9hZGluZy5JbmZyYUxvYWRpbmdQYW5lbCwgewogICAgICAgICAgaGVpZ2h0OiAiMTAwJSIsCiAgICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgICAgdGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLndhZmZsZS5sb2FkaW5nRGF0YVRleHQnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG9hZGluZyBkYXRhJwogICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICghbG9hZGluZyAmJiBub2RlcyAmJiBub2Rlcy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2VtcHR5X3N0YXRlcy5Ob0RhdGEsIHsKICAgICAgICAgIHRpdGxlVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLndhZmZsZS5ub0RhdGFUaXRsZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGVyZSBpcyBubyBkYXRhIHRvIGRpc3BsYXkuJwogICAgICAgICAgfSksCiAgICAgICAgICBib2R5VGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLndhZmZsZS5ub0RhdGFEZXNjcmlwdGlvbicsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUcnkgYWRqdXN0aW5nIHlvdXIgdGltZSBvciBmaWx0ZXIuJwogICAgICAgICAgfSksCiAgICAgICAgICByZWZldGNoVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmluZnJhLndhZmZsZS5jaGVja05ld0RhdGFCdXR0b25MYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDaGVjayBmb3IgbmV3IGRhdGEnCiAgICAgICAgICB9KSwKICAgICAgICAgIG9uUmVmZXRjaDogZnVuY3Rpb24gb25SZWZldGNoKCkgewogICAgICAgICAgICByZWxvYWQoKTsKICAgICAgICAgIH0sCiAgICAgICAgICB0ZXN0U3RyaW5nOiAibm9NZXRyaWNzRGF0YVByb21wdCIKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGRhdGFCb3VuZHMgPSBjYWxjdWxhdGVCb3VuZHNGcm9tTm9kZXMobm9kZXMpOwogICAgICB2YXIgYm91bmRzID0gYXV0b0JvdW5kcyA/IGRhdGFCb3VuZHMgOiBib3VuZHNPdmVycmlkZTsKICAgICAgdmFyIGludGVydmFsQXNTdHJpbmcgPSAoMCwgX2NvbnZlcnRfaW50ZXJ2YWxfdG9fc3RyaW5nLmNvbnZlcnRJbnRlcnZhbFRvU3RyaW5nKShpbnRlcnZhbCk7CiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNYWluQ29udGFpbmVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChWaWV3U3dpdGNoZXJDb250YWluZXIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICJzcGFjZUJldHdlZW4iCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdmlld19zd2l0Y2hlci5WaWV3U3dpdGNoZXIsIHsKICAgICAgICB2aWV3OiB2aWV3LAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVZpZXdDaGFuZ2UKICAgICAgfSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICAgICAgY29sb3I6ICJzdWJkdWVkIgogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5pbmZyYS5ob21lUGFnZS50b29sYmFyLnNob3dpbmdMYXN0T25lTWludXRlRGF0YVRleHQiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2hvd2luZyB0aGUgbGFzdCB7ZHVyYXRpb259IG9mIGRhdGEgYXQgdGhlIHNlbGVjdGVkIHRpbWUiLAogICAgICAgIHZhbHVlczogewogICAgICAgICAgZHVyYXRpb246IGludGVydmFsQXNTdHJpbmcKICAgICAgICB9CiAgICAgIH0pKSkpKSksIHZpZXcgPT09ICd0YWJsZScgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJsZUNvbnRhaW5lciwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3RhYmxlLlRhYmxlVmlldywgewogICAgICAgIG5vZGVUeXBlOiBub2RlVHlwZSwKICAgICAgICBub2Rlczogbm9kZXMsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICBmb3JtYXR0ZXI6IHRoaXMuZm9ybWF0dGVyLAogICAgICAgIGN1cnJlbnRUaW1lOiBjdXJyZW50VGltZSwKICAgICAgICBvbkZpbHRlcjogdGhpcy5oYW5kbGVEcmlsbGRvd24KICAgICAgfSkpIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWFwQ29udGFpbmVyLCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWFwLk1hcCwgewogICAgICAgIG5vZGVUeXBlOiBub2RlVHlwZSwKICAgICAgICBub2Rlczogbm9kZXMsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICBmb3JtYXR0ZXI6IHRoaXMuZm9ybWF0dGVyLAogICAgICAgIGN1cnJlbnRUaW1lOiBjdXJyZW50VGltZSwKICAgICAgICBvbkZpbHRlcjogdGhpcy5oYW5kbGVEcmlsbGRvd24sCiAgICAgICAgYm91bmRzOiBib3VuZHMsCiAgICAgICAgZGF0YUJvdW5kczogZGF0YUJvdW5kcwogICAgICB9KSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE5vZGVzT3ZlcnZpZXc7Cn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICJkaXNwbGF5TmFtZSIsICdXYWZmbGUnKSwgX3RlbXApOwpleHBvcnRzLk5vZGVzT3ZlcnZpZXcgPSBOb2Rlc092ZXJ2aWV3OwoKdmFyIE1haW5Db250YWluZXIgPSBfcHVibGljLmV1aVN0eWxlZC5kaXYoX3RlbXBsYXRlT2JqZWN0KCkpOwoKdmFyIFRhYmxlQ29udGFpbmVyID0gX3B1YmxpYy5ldWlTdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDIoKSwgZnVuY3Rpb24gKHByb3BzKSB7CiAgcmV0dXJuIHByb3BzLnRoZW1lLmV1aS5wYWRkaW5nU2l6ZXMubDsKfSk7Cgp2YXIgVmlld1N3aXRjaGVyQ29udGFpbmVyID0gX3B1YmxpYy5ldWlTdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDMoKSwgZnVuY3Rpb24gKHByb3BzKSB7CiAgcmV0dXJuIHByb3BzLnRoZW1lLmV1aS5wYWRkaW5nU2l6ZXMubDsKfSk7Cgp2YXIgTWFwQ29udGFpbmVyID0gX3B1YmxpYy5ldWlTdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDQoKSk7"},null]}