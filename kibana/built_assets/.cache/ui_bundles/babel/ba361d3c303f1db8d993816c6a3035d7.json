{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/canvas_plugin_src/functions/common/ply.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/canvas_plugin_src/functions/common/ply.js","mtime":1589249551791},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMucGx5ID0gcGx5OwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIi4uLy4uLy4uL2kxOG4iKTsKLyoKICogQ29weXJpZ2h0IEVsYXN0aWNzZWFyY2ggQi5WLiBhbmQvb3IgbGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gTGljZW5zZWQgdW5kZXIgdGhlIEVsYXN0aWMgTGljZW5zZTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBFbGFzdGljIExpY2Vuc2UuCiAqLwoKCmZ1bmN0aW9uIHBseSgpIHsKICB2YXIgX3BseSA9ICgwLCBfaTE4bi5nZXRGdW5jdGlvbkhlbHApKCkucGx5LAogICAgICBoZWxwID0gX3BseS5oZWxwLAogICAgICBhcmdIZWxwID0gX3BseS5hcmdzOwogIHZhciBlcnJvcnMgPSAoMCwgX2kxOG4uZ2V0RnVuY3Rpb25FcnJvcnMpKCkucGx5OwogIHJldHVybiB7CiAgICBuYW1lOiAncGx5JywKICAgIHR5cGU6ICdkYXRhdGFibGUnLAogICAgaW5wdXRUeXBlczogWydkYXRhdGFibGUnXSwKICAgIGhlbHA6IGhlbHAsCiAgICBhcmdzOiB7CiAgICAgIGJ5OiB7CiAgICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sCiAgICAgICAgaGVscDogYXJnSGVscC5ieSwKICAgICAgICBtdWx0aTogdHJ1ZQogICAgICB9LAogICAgICBleHByZXNzaW9uOiB7CiAgICAgICAgdHlwZXM6IFsnZGF0YXRhYmxlJ10sCiAgICAgICAgcmVzb2x2ZTogZmFsc2UsCiAgICAgICAgbXVsdGk6IHRydWUsCiAgICAgICAgYWxpYXNlczogWydleHAnLCAnZm4nLCAnZnVuY3Rpb24nXSwKICAgICAgICBoZWxwOiBhcmdIZWxwLmV4cHJlc3Npb24KICAgICAgfQogICAgfSwKICAgIGZuOiBmdW5jdGlvbiBmbihpbnB1dCwgYXJncykgewogICAgICBpZiAoIWFyZ3MpIHsKICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgIH0KCiAgICAgIHZhciBieUNvbHVtbnM7CiAgICAgIHZhciBvcmlnaW5hbERhdGF0YWJsZXM7CgogICAgICBpZiAoYXJncy5ieSkgewogICAgICAgIGJ5Q29sdW1ucyA9IGFyZ3MuYnkubWFwKGZ1bmN0aW9uIChieSkgewogICAgICAgICAgdmFyIGNvbHVtbiA9IGlucHV0LmNvbHVtbnMuZmluZChmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgICAgIHJldHVybiBjb2wubmFtZSA9PT0gYnk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoIWNvbHVtbikgewogICAgICAgICAgICB0aHJvdyBlcnJvcnMuY29sdW1uTm90Rm91bmQoYnkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjb2x1bW47CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGtleWVkRGF0YXRhYmxlcyA9ICgwLCBfbG9kYXNoLmdyb3VwQnkpKGlucHV0LnJvd3MsIGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSgoMCwgX2xvZGFzaC5waWNrKShyb3csIGFyZ3MuYnkpKTsKICAgICAgICB9KTsKICAgICAgICBvcmlnaW5hbERhdGF0YWJsZXMgPSBPYmplY3QudmFsdWVzKGtleWVkRGF0YXRhYmxlcykubWFwKGZ1bmN0aW9uIChyb3dzKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgaW5wdXQsIHsKICAgICAgICAgICAgcm93czogcm93cwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb3JpZ2luYWxEYXRhdGFibGVzID0gW2lucHV0XTsKICAgICAgfQoKICAgICAgdmFyIGRhdGF0YWJsZVByb21pc2VzID0gb3JpZ2luYWxEYXRhdGFibGVzLm1hcChmdW5jdGlvbiAob3JpZ2luYWxEYXRhdGFibGUpIHsKICAgICAgICB2YXIgZXhwcmVzc2lvblJlc3VsdFByb21pc2VzID0gW107CgogICAgICAgIGlmIChhcmdzLmV4cHJlc3Npb24pIHsKICAgICAgICAgIGV4cHJlc3Npb25SZXN1bHRQcm9taXNlcyA9IGFyZ3MuZXhwcmVzc2lvbi5tYXAoZnVuY3Rpb24gKGV4cHJlc3Npb24pIHsKICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24ob3JpZ2luYWxEYXRhdGFibGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV4cHJlc3Npb25SZXN1bHRQcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZShvcmlnaW5hbERhdGF0YWJsZSkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGV4cHJlc3Npb25SZXN1bHRQcm9taXNlcykudGhlbihjb21iaW5lQWNyb3NzKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBQcm9taXNlLmFsbChkYXRhdGFibGVQcm9taXNlcykudGhlbihmdW5jdGlvbiAobmV3RGF0YXRhYmxlcykgewogICAgICAgIC8vIEhlcmUgd2UncmUganVzdCBtZXJnaW5nIGVhY2ggZm9yIHRoZSBieSBzcGxpdHMsIHNvIGl0IGRvZXNuJ3QgYWN0dWFsbHkgbWF0dGVyIGlmIHRoZSByb3dzIGFyZSB0aGUgc2FtZSBsZW5ndGgKICAgICAgICB2YXIgY29sdW1ucyA9IGNvbWJpbmVDb2x1bW5zKFtieUNvbHVtbnNdLmNvbmNhdCgoMCwgX2xvZGFzaC5tYXApKG5ld0RhdGF0YWJsZXMsICdjb2x1bW5zJykpKTsKICAgICAgICB2YXIgcm93cyA9ICgwLCBfbG9kYXNoLmZsYXR0ZW4pKG5ld0RhdGF0YWJsZXMubWFwKGZ1bmN0aW9uIChkdCwgaSkgewogICAgICAgICAgdmFyIGJ5Q29sdW1uVmFsdWVzID0gKDAsIF9sb2Rhc2gucGljaykob3JpZ2luYWxEYXRhdGFibGVzW2ldLnJvd3NbMF0sIGFyZ3MuYnkpOwogICAgICAgICAgcmV0dXJuIGR0LnJvd3MubWFwKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGJ5Q29sdW1uVmFsdWVzLCB7fSwgcm93KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdHlwZTogJ2RhdGF0YWJsZScsCiAgICAgICAgICByb3dzOiByb3dzLAogICAgICAgICAgY29sdW1uczogY29sdW1ucwogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH07Cn0KCmZ1bmN0aW9uIGNvbWJpbmVDb2x1bW5zKGFycmF5T2ZDb2x1bW5zQXJyYXlzKSB7CiAgcmV0dXJuIGFycmF5T2ZDb2x1bW5zQXJyYXlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0aW5nQ29sdW1ucywgY29sdW1ucykgewogICAgaWYgKGNvbHVtbnMpIHsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHsKICAgICAgICBpZiAocmVzdWx0aW5nQ29sdW1ucy5maW5kKGZ1bmN0aW9uIChyZXN1bHRpbmdDb2x1bW4pIHsKICAgICAgICAgIHJldHVybiByZXN1bHRpbmdDb2x1bW4ubmFtZSA9PT0gY29sdW1uLm5hbWU7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0aW5nQ29sdW1ucy5wdXNoKGNvbHVtbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0aW5nQ29sdW1uczsKICB9LCBbXSk7Cn0gLy8gVGhpcyBoYW5kbGVzIG1lcmdpbmcgdGhlIHRhYmxlcyBwcm9kdWNlZCBieSBtdWx0aXBsZSBleHByZXNzaW9ucyBydW4gb24gYSBzaW5nbGUgbWVtYmVyIG9mIHRoZSBgYnlgIHNwbGl0LgovLyBUaHVzIGFsbCB0YWJsZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGgsIGFsdGhvdWdoIHRoZWlyIGNvbHVtbnMgZG8gbm90IG5lZWQgdG8gYmUgdGhlIHNhbWUsIHdlIHdpbGwgaGFuZGxlIGNvbWJpbmluZyB0aGUgY29sdW1ucwoKCmZ1bmN0aW9uIGNvbWJpbmVBY3Jvc3MoZGF0YXRhYmxlQXJyYXkpIHsKICB2YXIgZXJyb3JzID0gKDAsIF9pMThuLmdldEZ1bmN0aW9uRXJyb3JzKSgpLnBseTsKCiAgdmFyIF9kYXRhdGFibGVBcnJheSA9IF9zbGljZWRUb0FycmF5KGRhdGF0YWJsZUFycmF5LCAxKSwKICAgICAgcmVmZXJlbmNlVGFibGUgPSBfZGF0YXRhYmxlQXJyYXlbMF07CgogIHZhciB0YXJnZXRSb3dMZW5ndGggPSByZWZlcmVuY2VUYWJsZS5yb3dzLmxlbmd0aDsgLy8gU2FuaXR5IGNoZWNrCgogIGRhdGF0YWJsZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGRhdGF0YWJsZSkgewogICAgaWYgKGRhdGF0YWJsZS5yb3dzLmxlbmd0aCAhPT0gdGFyZ2V0Um93TGVuZ3RoKSB7CiAgICAgIHRocm93IGVycm9ycy5yb3dDb3VudE1pc21hdGNoKCk7CiAgICB9CiAgfSk7IC8vIE1lcmdlIGNvbHVtbnMgYW5kIHJvd3MuCgogIHZhciBhcnJheU9mUm93c0FycmF5cyA9ICgwLCBfbG9kYXNoLm1hcCkoZGF0YXRhYmxlQXJyYXksICdyb3dzJyk7CiAgdmFyIHJvd3MgPSBbXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXRSb3dMZW5ndGg7IGkrKykgewogICAgdmFyIHJvd3NBY3Jvc3MgPSAoMCwgX2xvZGFzaC5tYXApKGFycmF5T2ZSb3dzQXJyYXlzLCBpKTsgLy8gVGhlIHJlYXNvbiBmb3IgdGhlIE9iamVjdC5hc3NpZ24gaXMgdGhhdCByb3dzQWNyb3NzIGlzIGFuIGFycmF5CiAgICAvLyBhbmQgdGhvc2Ugcm93cyBuZWVkIHRvIGJlIGFwcGxpZWQgYXMgYXJndW1lbnRzIHRvIE9iamVjdC5hc3NpZ24KCiAgICByb3dzLnB1c2goT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIFt7fV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyb3dzQWNyb3NzKSkpKTsKICB9CgogIHZhciBjb2x1bW5zID0gY29tYmluZUNvbHVtbnMoKDAsIF9sb2Rhc2gubWFwKShkYXRhdGFibGVBcnJheSwgJ2NvbHVtbnMnKSk7CiAgcmV0dXJuIHsKICAgIHR5cGU6ICdkYXRhdGFibGUnLAogICAgcm93czogcm93cywKICAgIGNvbHVtbnM6IGNvbHVtbnMKICB9Owp9"},null]}