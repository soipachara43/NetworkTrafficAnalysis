{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/canvas/public/components/element_types/index.js","dependencies":[{"path":"x-pack/legacy/plugins/canvas/public/components/element_types/index.js","mtime":1589249551963},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkVsZW1lbnRUeXBlcyA9IHZvaWQgMDsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF9yZWNvbXBvc2UgPSByZXF1aXJlKCJyZWNvbXBvc2UiKTsKCnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJlZHV4Iik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9jbG9uZV9zdWJncmFwaHMgPSByZXF1aXJlKCIuLi8uLi9saWIvY2xvbmVfc3ViZ3JhcGhzIik7Cgp2YXIgY3VzdG9tRWxlbWVudFNlcnZpY2UgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCIuLi8uLi9saWIvY3VzdG9tX2VsZW1lbnRfc2VydmljZSIpKTsKCnZhciBfZWxlbWVudHNfcmVnaXN0cnkgPSByZXF1aXJlKCIuLi8uLi9saWIvZWxlbWVudHNfcmVnaXN0cnkiKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgiLi4vLi4vbGliL25vdGlmeSIpOwoKdmFyIF90cmFuc2llbnQgPSByZXF1aXJlKCIuLi8uLi9zdGF0ZS9hY3Rpb25zL3RyYW5zaWVudCIpOwoKdmFyIF9lbGVtZW50cyA9IHJlcXVpcmUoIi4uLy4uL3N0YXRlL2FjdGlvbnMvZWxlbWVudHMiKTsKCnZhciBfd29ya3BhZCA9IHJlcXVpcmUoIi4uLy4uL3N0YXRlL3NlbGVjdG9ycy93b3JrcGFkIik7Cgp2YXIgX3VpX21ldHJpYyA9IHJlcXVpcmUoIi4uLy4uL2xpYi91aV9tZXRyaWMiKTsKCnZhciBfZWxlbWVudF90eXBlcyA9IHJlcXVpcmUoIi4vZWxlbWVudF90eXBlcyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCnZhciBjdXN0b21FbGVtZW50QWRkZWQgPSAnZWxlbWVudHMtY3VzdG9tLWFkZGVkJzsKCnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHsKICByZXR1cm4gewogICAgcGFnZUlkOiAoMCwgX3dvcmtwYWQuZ2V0U2VsZWN0ZWRQYWdlKShzdGF0ZSkKICB9Owp9OwoKdmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkgewogIHJldHVybiB7CiAgICBzZWxlY3RUb3BsZXZlbE5vZGVzOiBmdW5jdGlvbiBzZWxlY3RUb3BsZXZlbE5vZGVzKG5vZGVzKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX3RyYW5zaWVudC5zZWxlY3RUb3BsZXZlbE5vZGVzKShub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gIWUucG9zaXRpb24ucGFyZW50OwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZDsKICAgICAgfSkpKTsKICAgIH0sCiAgICBpbnNlcnROb2RlczogZnVuY3Rpb24gaW5zZXJ0Tm9kZXMoc2VsZWN0ZWROb2RlcywgcGFnZUlkKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2VsZW1lbnRzLmluc2VydE5vZGVzKShzZWxlY3RlZE5vZGVzLCBwYWdlSWQpKTsKICAgIH0sCiAgICBhZGRFbGVtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50KHBhZ2VJZCwgcGFydGlhbEVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZWxlbWVudHMuYWRkRWxlbWVudCkocGFnZUlkLCBwYXJ0aWFsRWxlbWVudCkpOwogICAgfQogIH07Cn07Cgp2YXIgbWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpIHsKICB2YXIgcGFnZUlkID0gc3RhdGVQcm9wcy5wYWdlSWQsCiAgICAgIHJlbWFpbmluZ1N0YXRlUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc3RhdGVQcm9wcywgWyJwYWdlSWQiXSk7CgogIHZhciBfYWRkRWxlbWVudDIgPSBkaXNwYXRjaFByb3BzLmFkZEVsZW1lbnQsCiAgICAgIGluc2VydE5vZGVzID0gZGlzcGF0Y2hQcm9wcy5pbnNlcnROb2RlcywKICAgICAgc2VsZWN0VG9wbGV2ZWxOb2RlcyA9IGRpc3BhdGNoUHJvcHMuc2VsZWN0VG9wbGV2ZWxOb2RlczsKICB2YXIgc2VhcmNoID0gb3duUHJvcHMuc2VhcmNoLAogICAgICBzZXRDdXN0b21FbGVtZW50cyA9IG93blByb3BzLnNldEN1c3RvbUVsZW1lbnRzLAogICAgICBvbkNsb3NlID0gb3duUHJvcHMub25DbG9zZTsKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcmVtYWluaW5nU3RhdGVQcm9wcywge30sIG93blByb3BzLCB7CiAgICAvLyBhZGQgYnVpbHQtaW4gZWxlbWVudCB0byB0aGUgcGFnZQogICAgYWRkRWxlbWVudDogZnVuY3Rpb24gYWRkRWxlbWVudChlbGVtZW50KSB7CiAgICAgIF9hZGRFbGVtZW50MihwYWdlSWQsIGVsZW1lbnQpOwoKICAgICAgb25DbG9zZSgpOwogICAgfSwKICAgIC8vIGFkZCBjdXN0b20gZWxlbWVudCB0byB0aGUgcGFnZQogICAgYWRkQ3VzdG9tRWxlbWVudDogZnVuY3Rpb24gYWRkQ3VzdG9tRWxlbWVudChjdXN0b21FbGVtZW50KSB7CiAgICAgIHZhciBfcmVmID0gSlNPTi5wYXJzZShjdXN0b21FbGVtZW50LmNvbnRlbnQpIHx8IHt9LAogICAgICAgICAgX3JlZiRzZWxlY3RlZE5vZGVzID0gX3JlZi5zZWxlY3RlZE5vZGVzLAogICAgICAgICAgc2VsZWN0ZWROb2RlcyA9IF9yZWYkc2VsZWN0ZWROb2RlcyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHNlbGVjdGVkTm9kZXM7CgogICAgICB2YXIgY2xvbmVkTm9kZXMgPSBzZWxlY3RlZE5vZGVzICYmICgwLCBfY2xvbmVfc3ViZ3JhcGhzLmNsb25lU3ViZ3JhcGhzKShzZWxlY3RlZE5vZGVzKTsKCiAgICAgIGlmIChjbG9uZWROb2RlcykgewogICAgICAgIGluc2VydE5vZGVzKGNsb25lZE5vZGVzLCBwYWdlSWQpOyAvLyBmaXJzdCBjbG9uZSBhbmQgcGVyc2lzdCB0aGUgbmV3IG5vZGUocykKCiAgICAgICAgc2VsZWN0VG9wbGV2ZWxOb2RlcyhjbG9uZWROb2Rlcyk7IC8vIHRoZW4gc2VsZWN0IHRoZSBjbG9uZWQgbm9kZShzKQogICAgICB9CgogICAgICBvbkNsb3NlKCk7CiAgICAgICgwLCBfdWlfbWV0cmljLnRyYWNrQ2FudmFzVWlNZXRyaWMpKF91aV9tZXRyaWMuTUVUUklDX1RZUEUuTE9BREVELCBjdXN0b21FbGVtZW50QWRkZWQpOwogICAgfSwKICAgIC8vIGN1c3RvbSBlbGVtZW50IHNlYXJjaAogICAgZmluZEN1c3RvbUVsZW1lbnRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmluZEN1c3RvbUVsZW1lbnRzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0ZXh0KSB7CiAgICAgICAgdmFyIF9yZWYyLCBjdXN0b21FbGVtZW50czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21FbGVtZW50U2VydmljZS5maW5kKHRleHQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjdXN0b21FbGVtZW50cyA9IF9yZWYyLmN1c3RvbUVsZW1lbnRzOwogICAgICAgICAgICAgICAgc2V0Q3VzdG9tRWxlbWVudHMoY3VzdG9tRWxlbWVudHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfbm90aWZ5Lm5vdGlmeS5lcnJvcihfY29udGV4dC50MCwgewogICAgICAgICAgICAgICAgICB0aXRsZTogIkNvdWxkbid0IGZpbmQgY3VzdG9tIGVsZW1lbnRzIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZpbmRDdXN0b21FbGVtZW50cyhfeCkgewogICAgICAgIHJldHVybiBfZmluZEN1c3RvbUVsZW1lbnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmaW5kQ3VzdG9tRWxlbWVudHM7CiAgICB9KCksCiAgICAvLyByZW1vdmUgY3VzdG9tIGVsZW1lbnQKICAgIHJlbW92ZUN1c3RvbUVsZW1lbnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZW1vdmVDdXN0b21FbGVtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaWQpIHsKICAgICAgICB2YXIgX3JlZjMsIGN1c3RvbUVsZW1lbnRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGN1c3RvbUVsZW1lbnRTZXJ2aWNlLnJlbW92ZShpZCkudGhlbigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tRWxlbWVudFNlcnZpY2UuZmluZChzZWFyY2gpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfcmVmMyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMgPSBfcmVmMy5jdXN0b21FbGVtZW50czsKICAgICAgICAgICAgICAgIHNldEN1c3RvbUVsZW1lbnRzKGN1c3RvbUVsZW1lbnRzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQyLnQwLCB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiQ291bGRuJ3QgZGVsZXRlIGN1c3RvbSBlbGVtZW50cyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZW1vdmVDdXN0b21FbGVtZW50KF94MikgewogICAgICAgIHJldHVybiBfcmVtb3ZlQ3VzdG9tRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVtb3ZlQ3VzdG9tRWxlbWVudDsKICAgIH0oKSwKICAgIC8vIHVwZGF0ZSBjdXN0b20gZWxlbWVudAogICAgdXBkYXRlQ3VzdG9tRWxlbWVudDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZUN1c3RvbUVsZW1lbnQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhpZCwgbmFtZSwgZGVzY3JpcHRpb24sIGltYWdlKSB7CiAgICAgICAgdmFyIF9yZWY0LCBjdXN0b21FbGVtZW50czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21FbGVtZW50U2VydmljZS51cGRhdGUoaWQsIHsKICAgICAgICAgICAgICAgICAgbmFtZTogKDAsIF9sb2Rhc2guY2FtZWxDYXNlKShuYW1lKSwKICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZSwKICAgICAgICAgICAgICAgICAgaGVscDogZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tRWxlbWVudFNlcnZpY2UuZmluZChzZWFyY2gpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfcmVmNCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMgPSBfcmVmNC5jdXN0b21FbGVtZW50czsKICAgICAgICAgICAgICAgIHNldEN1c3RvbUVsZW1lbnRzKGN1c3RvbUVsZW1lbnRzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX25vdGlmeS5ub3RpZnkuZXJyb3IoX2NvbnRleHQzLnQwLCB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiQ291bGRuJ3QgdXBkYXRlIGN1c3RvbSBlbGVtZW50cyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVDdXN0b21FbGVtZW50KF94MywgX3g0LCBfeDUsIF94NikgewogICAgICAgIHJldHVybiBfdXBkYXRlQ3VzdG9tRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlQ3VzdG9tRWxlbWVudDsKICAgIH0oKQogIH0pOwp9OwoKdmFyIEVsZW1lbnRUeXBlcyA9ICgwLCBfcmVjb21wb3NlLmNvbXBvc2UpKCgwLCBfcmVjb21wb3NlLndpdGhTdGF0ZSkoJ3NlYXJjaCcsICdzZXRTZWFyY2gnLCAnJyksICgwLCBfcmVjb21wb3NlLndpdGhTdGF0ZSkoJ2N1c3RvbUVsZW1lbnRzJywgJ3NldEN1c3RvbUVsZW1lbnRzJywgW10pLCAoMCwgX3JlY29tcG9zZS53aXRoU3RhdGUpKCdmaWx0ZXJUYWdzJywgJ3NldEZpbHRlclRhZ3MnLCBbXSksICgwLCBfcmVjb21wb3NlLndpdGhQcm9wcykoZnVuY3Rpb24gKCkgewogIHJldHVybiB7CiAgICBlbGVtZW50czogX2VsZW1lbnRzX3JlZ2lzdHJ5LmVsZW1lbnRzUmVnaXN0cnkudG9KUygpCiAgfTsKfSksICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykpKF9lbGVtZW50X3R5cGVzLkVsZW1lbnRUeXBlcyk7CmV4cG9ydHMuRWxlbWVudFR5cGVzID0gRWxlbWVudFR5cGVzOwpFbGVtZW50VHlwZXMucHJvcFR5cGVzID0gewogIG9uQ2xvc2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jCn07"},null]}