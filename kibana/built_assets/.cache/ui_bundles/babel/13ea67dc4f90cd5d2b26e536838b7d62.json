{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/components/layer_toc_actions.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/components/layer_toc_actions.js","mtime":1589249552392},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkxheWVyVG9jQWN0aW9ucyA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIExheWVyVG9jQWN0aW9ucyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoTGF5ZXJUb2NBY3Rpb25zLCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gTGF5ZXJUb2NBY3Rpb25zKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMYXllclRvY0FjdGlvbnMpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoTGF5ZXJUb2NBY3Rpb25zKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3RhdGUiLCB7CiAgICAgIGlzUG9wb3Zlck9wZW46IGZhbHNlLAogICAgICBzdXBwb3J0c0ZpdFRvQm91bmRzOiBmYWxzZQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX3RvZ2dsZVBvcG92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNQb3BvdmVyT3BlbjogIXByZXZTdGF0ZS5pc1BvcG92ZXJPcGVuCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfY2xvc2VQb3BvdmVyIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlzUG9wb3Zlck9wZW46IGZhbHNlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTGF5ZXJUb2NBY3Rpb25zLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlOwoKICAgICAgdGhpcy5fbG9hZFN1cHBvcnRzRml0VG9Cb3VuZHMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogIl9sb2FkU3VwcG9ydHNGaXRUb0JvdW5kcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvYWRTdXBwb3J0c0ZpdFRvQm91bmRzMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN1cHBvcnRzRml0VG9Cb3VuZHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYXllci5zdXBwb3J0c0ZpdFRvQm91bmRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHN1cHBvcnRzRml0VG9Cb3VuZHMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc01vdW50ZWQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNGaXRUb0JvdW5kczogc3VwcG9ydHNGaXRUb0JvdW5kcwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIF9sb2FkU3VwcG9ydHNGaXRUb0JvdW5kcygpIHsKICAgICAgICByZXR1cm4gX2xvYWRTdXBwb3J0c0ZpdFRvQm91bmRzMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gX2xvYWRTdXBwb3J0c0ZpdFRvQm91bmRzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiX3JlbmRlclBvcG92ZXJUb2dnbGVCdXR0b24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJQb3BvdmVyVG9nZ2xlQnV0dG9uKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMkbGF5ZXIkZ2V0ID0gdGhpcy5wcm9wcy5sYXllci5nZXRJY29uQW5kVG9vbHRpcENvbnRlbnQodGhpcy5wcm9wcy56b29tLCB0aGlzLnByb3BzLmlzVXNpbmdTZWFyY2gpLAogICAgICAgICAgaWNvbiA9IF90aGlzJHByb3BzJGxheWVyJGdldC5pY29uLAogICAgICAgICAgdG9vbHRpcENvbnRlbnQgPSBfdGhpcyRwcm9wcyRsYXllciRnZXQudG9vbHRpcENvbnRlbnQsCiAgICAgICAgICBmb290bm90ZXMgPSBfdGhpcyRwcm9wcyRsYXllciRnZXQuZm9vdG5vdGVzOwoKICAgICAgdmFyIGZvb3Rub3RlSWNvbnMgPSBmb290bm90ZXMubWFwKGZ1bmN0aW9uIChmb290bm90ZSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIHsKICAgICAgICAgIGtleTogaW5kZXgKICAgICAgICB9LCAnJywgZm9vdG5vdGUuaWNvbik7CiAgICAgIH0pOwogICAgICB2YXIgZm9vdG5vdGVUb29sdGlwQ29udGVudCA9IGZvb3Rub3Rlcy5tYXAoZnVuY3Rpb24gKGZvb3Rub3RlLCBpbmRleCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgfSwgZm9vdG5vdGUuaWNvbiwgIiAiLCBmb290bm90ZS5tZXNzYWdlKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgIGFuY2hvckNsYXNzTmFtZTogIm1hcExheVRvY0FjdGlvbnNfX3Rvb2x0aXBBbmNob3IiLAogICAgICAgIHBvc2l0aW9uOiAidG9wIiwKICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy5kaXNwbGF5TmFtZSwKICAgICAgICBjb250ZW50OiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgdG9vbHRpcENvbnRlbnQsIGZvb3Rub3RlVG9vbHRpcENvbnRlbnQpCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgICAgIGNsYXNzTmFtZTogIm1hcFRvY0VudHJ5X19sYXllck5hbWUgZXVpLXRleHRMZWZ0IiwKICAgICAgICBzaXplOiAieHMiLAogICAgICAgIGZsdXNoOiAibGVmdCIsCiAgICAgICAgY29sb3I6ICJ0ZXh0IiwKICAgICAgICBvbkNsaWNrOiB0aGlzLl90b2dnbGVQb3BvdmVyLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJsYXllclRvY0FjdGlvbnNQYW5lbFRvZ2dsZUJ1dHRvbiIuY29uY2F0KHRoaXMucHJvcHMuZXNjYXBlZERpc3BsYXlOYW1lKQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIGNsYXNzTmFtZTogIm1hcFRvY0VudHJ5X19sYXllck5hbWVJY29uIgogICAgICB9LCBpY29uKSwgdGhpcy5wcm9wcy5kaXNwbGF5TmFtZSwgIiAiLCBmb290bm90ZUljb25zKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldEFjdGlvbnNQYW5lbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEFjdGlvbnNQYW5lbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYWN0aW9uSXRlbXMgPSBbewogICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyVG9jQWN0aW9ucy5maXRUb0RhdGFUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRml0IHRvIGRhdGEnCiAgICAgICAgfSksCiAgICAgICAgaWNvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb24sIHsKICAgICAgICAgIHR5cGU6ICJzZWFyY2giLAogICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgfSksCiAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ2ZpdFRvQm91bmRzQnV0dG9uJywKICAgICAgICB0b29sVGlwQ29udGVudDogdGhpcy5zdGF0ZS5zdXBwb3J0c0ZpdFRvQm91bmRzID8gbnVsbCA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyVG9jQWN0aW9ucy5ub0ZpdFN1cHBvcnRUb29sdGlwJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdMYXllciBkb2VzIG5vdCBzdXBwb3J0IGZpdCB0byBkYXRhJwogICAgICAgIH0pLAogICAgICAgIGRpc2FibGVkOiAhdGhpcy5zdGF0ZS5zdXBwb3J0c0ZpdFRvQm91bmRzLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICBfdGhpczIuX2Nsb3NlUG9wb3ZlcigpOwoKICAgICAgICAgIF90aGlzMi5wcm9wcy5maXRUb0JvdW5kcygpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIG5hbWU6IHRoaXMucHJvcHMubGF5ZXIuaXNWaXNpYmxlKCkgPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWFwcy5sYXllclRvY0FjdGlvbnMuaGlkZUxheWVyVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0hpZGUgbGF5ZXInCiAgICAgICAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWFwcy5sYXllclRvY0FjdGlvbnMuc2hvd0xheWVyVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1Nob3cgbGF5ZXInCiAgICAgICAgfSksCiAgICAgICAgaWNvbjogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb24sIHsKICAgICAgICAgIHR5cGU6IHRoaXMucHJvcHMubGF5ZXIuaXNWaXNpYmxlKCkgPyAnZXllJyA6ICdleWVDbG9zZWQnLAogICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgfSksCiAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ2xheWVyVmlzaWJpbGl0eVRvZ2dsZUJ1dHRvbicsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIF90aGlzMi5fY2xvc2VQb3BvdmVyKCk7CgogICAgICAgICAgX3RoaXMyLnByb3BzLnRvZ2dsZVZpc2libGUoKTsKICAgICAgICB9CiAgICAgIH1dOwoKICAgICAgaWYgKCF0aGlzLnByb3BzLmlzUmVhZE9ubHkpIHsKICAgICAgICBhY3Rpb25JdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyVG9jQWN0aW9ucy5lZGl0TGF5ZXJUaXRsZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdFZGl0IGxheWVyJwogICAgICAgICAgfSksCiAgICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgICB0eXBlOiAicGVuY2lsIiwKICAgICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgICB9KSwKICAgICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdlZGl0TGF5ZXJCdXR0b24nLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgX3RoaXMyLl9jbG9zZVBvcG92ZXIoKTsKCiAgICAgICAgICAgIF90aGlzMi5wcm9wcy5lZGl0TGF5ZXIoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBhY3Rpb25JdGVtcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLmxheWVyVG9jQWN0aW9ucy5jbG9uZUxheWVyVGl0bGUnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2xvbmUgbGF5ZXInCiAgICAgICAgICB9KSwKICAgICAgICAgIGljb246IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICAgIHR5cGU6ICJjb3B5IiwKICAgICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgICB9KSwKICAgICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdjbG9uZUxheWVyQnV0dG9uJywKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzMi5fY2xvc2VQb3BvdmVyKCk7CgogICAgICAgICAgICBfdGhpczIucHJvcHMuY2xvbmVMYXllcigpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGFjdGlvbkl0ZW1zLnB1c2goewogICAgICAgICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMubGF5ZXJUb2NBY3Rpb25zLnJlbW92ZUxheWVyVGl0bGUnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVtb3ZlIGxheWVyJwogICAgICAgICAgfSksCiAgICAgICAgICBpY29uOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICAgICAgICB0eXBlOiAidHJhc2giLAogICAgICAgICAgICBzaXplOiAibSIKICAgICAgICAgIH0pLAogICAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ3JlbW92ZUxheWVyQnV0dG9uJywKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzMi5fY2xvc2VQb3BvdmVyKCk7CgogICAgICAgICAgICBfdGhpczIucHJvcHMucmVtb3ZlTGF5ZXIoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogMCwKICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMubGF5ZXJUb2NBY3Rpb25zLmxheWVyQWN0aW9uc1RpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdMYXllciBhY3Rpb25zJwogICAgICAgIH0pLAogICAgICAgIGl0ZW1zOiBhY3Rpb25JdGVtcwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBvcG92ZXIsIHsKICAgICAgICBpZDogImNvbnRleHRNZW51IiwKICAgICAgICBjbGFzc05hbWU6ICJtYXBMYXlUb2NBY3Rpb25zIiwKICAgICAgICBidXR0b246IHRoaXMuX3JlbmRlclBvcG92ZXJUb2dnbGVCdXR0b24oKSwKICAgICAgICBpc09wZW46IHRoaXMuc3RhdGUuaXNQb3BvdmVyT3BlbiwKICAgICAgICBjbG9zZVBvcG92ZXI6IHRoaXMuX2Nsb3NlUG9wb3ZlciwKICAgICAgICBwYW5lbFBhZGRpbmdTaXplOiAibm9uZSIsCiAgICAgICAgd2l0aFRpdGxlOiB0cnVlLAogICAgICAgIGFuY2hvclBvc2l0aW9uOiAibGVmdFVwIiwKICAgICAgICBhbmNob3JDbGFzc05hbWU6ICJtYXBMYXlUb2NBY3Rpb25zX19wb3BvdmVyQW5jaG9yIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29udGV4dE1lbnUsIHsKICAgICAgICBpbml0aWFsUGFuZWxJZDogMCwKICAgICAgICBwYW5lbHM6IFt0aGlzLl9nZXRBY3Rpb25zUGFuZWwoKV0sCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogImxheWVyVG9jQWN0aW9uc1BhbmVsIi5jb25jYXQodGhpcy5wcm9wcy5lc2NhcGVkRGlzcGxheU5hbWUpCiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBMYXllclRvY0FjdGlvbnM7Cn0oX3JlYWN0LkNvbXBvbmVudCk7CgpleHBvcnRzLkxheWVyVG9jQWN0aW9ucyA9IExheWVyVG9jQWN0aW9uczs="},null]}