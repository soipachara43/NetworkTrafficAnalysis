{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/store/inputs/reducer.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/store/inputs/reducer.js","mtime":1589249553348},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmlucHV0c1JlZHVjZXIgPSBleHBvcnRzLmNyZWF0ZUluaXRpYWxJbnB1dHNTdGF0ZSA9IGV4cG9ydHMuaW5pdGlhbElucHV0c1N0YXRlID0gdm9pZCAwOwoKdmFyIF9mcCA9IHJlcXVpcmUoImxvZGFzaC9mcCIpOwoKdmFyIF90eXBlc2NyaXB0RnNhUmVkdWNlcnMgPSByZXF1aXJlKCJ0eXBlc2NyaXB0LWZzYS1yZWR1Y2VycyIpOwoKdmFyIF9kZWZhdWx0X2RhdGVfc2V0dGluZ3MgPSByZXF1aXJlKCIuLi8uLi91dGlscy9kZWZhdWx0X2RhdGVfc2V0dGluZ3MiKTsKCnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoIi4vYWN0aW9ucyIpOwoKdmFyIF9oZWxwZXJzID0gcmVxdWlyZSgiLi9oZWxwZXJzIik7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIGluaXRpYWxJbnB1dHNTdGF0ZSA9IHsKICBnbG9iYWw6IHsKICAgIHRpbWVyYW5nZTogX29iamVjdFNwcmVhZCh7CiAgICAgIGtpbmQ6ICdyZWxhdGl2ZScKICAgIH0sICgwLCBfZGVmYXVsdF9kYXRlX3NldHRpbmdzLmdldFRpbWVSYW5nZVNldHRpbmdzKShmYWxzZSkpLAogICAgcXVlcmllczogW10sCiAgICBwb2xpY3k6ICgwLCBfZGVmYXVsdF9kYXRlX3NldHRpbmdzLmdldEludGVydmFsU2V0dGluZ3MpKGZhbHNlKSwKICAgIGxpbmtUbzogWyd0aW1lbGluZSddLAogICAgcXVlcnk6IHsKICAgICAgcXVlcnk6ICcnLAogICAgICBsYW5ndWFnZTogJ2t1ZXJ5JwogICAgfSwKICAgIGZpbHRlcnM6IFtdCiAgfSwKICB0aW1lbGluZTogewogICAgdGltZXJhbmdlOiBfb2JqZWN0U3ByZWFkKHsKICAgICAga2luZDogJ3JlbGF0aXZlJwogICAgfSwgKDAsIF9kZWZhdWx0X2RhdGVfc2V0dGluZ3MuZ2V0VGltZVJhbmdlU2V0dGluZ3MpKGZhbHNlKSksCiAgICBxdWVyaWVzOiBbXSwKICAgIHBvbGljeTogKDAsIF9kZWZhdWx0X2RhdGVfc2V0dGluZ3MuZ2V0SW50ZXJ2YWxTZXR0aW5ncykoZmFsc2UpLAogICAgbGlua1RvOiBbJ2dsb2JhbCddLAogICAgcXVlcnk6IHsKICAgICAgcXVlcnk6ICcnLAogICAgICBsYW5ndWFnZTogJ2t1ZXJ5JwogICAgfSwKICAgIGZpbHRlcnM6IFtdCiAgfQp9OwpleHBvcnRzLmluaXRpYWxJbnB1dHNTdGF0ZSA9IGluaXRpYWxJbnB1dHNTdGF0ZTsKCnZhciBjcmVhdGVJbml0aWFsSW5wdXRzU3RhdGUgPSBmdW5jdGlvbiBjcmVhdGVJbml0aWFsSW5wdXRzU3RhdGUoKSB7CiAgdmFyIF9nZXRUaW1lUmFuZ2VTZXR0aW5ncyA9ICgwLCBfZGVmYXVsdF9kYXRlX3NldHRpbmdzLmdldFRpbWVSYW5nZVNldHRpbmdzKSgpLAogICAgICBmcm9tID0gX2dldFRpbWVSYW5nZVNldHRpbmdzLmZyb20sCiAgICAgIGZyb21TdHIgPSBfZ2V0VGltZVJhbmdlU2V0dGluZ3MuZnJvbVN0ciwKICAgICAgdG8gPSBfZ2V0VGltZVJhbmdlU2V0dGluZ3MudG8sCiAgICAgIHRvU3RyID0gX2dldFRpbWVSYW5nZVNldHRpbmdzLnRvU3RyOwoKICB2YXIgX2dldEludGVydmFsU2V0dGluZ3MgPSAoMCwgX2RlZmF1bHRfZGF0ZV9zZXR0aW5ncy5nZXRJbnRlcnZhbFNldHRpbmdzKSgpLAogICAgICBraW5kID0gX2dldEludGVydmFsU2V0dGluZ3Mua2luZCwKICAgICAgZHVyYXRpb24gPSBfZ2V0SW50ZXJ2YWxTZXR0aW5ncy5kdXJhdGlvbjsKCiAgcmV0dXJuIHsKICAgIGdsb2JhbDogewogICAgICB0aW1lcmFuZ2U6IHsKICAgICAgICBraW5kOiAncmVsYXRpdmUnLAogICAgICAgIGZyb21TdHI6IGZyb21TdHIsCiAgICAgICAgdG9TdHI6IHRvU3RyLAogICAgICAgIGZyb206IGZyb20sCiAgICAgICAgdG86IHRvCiAgICAgIH0sCiAgICAgIHF1ZXJpZXM6IFtdLAogICAgICBwb2xpY3k6IHsKICAgICAgICBraW5kOiBraW5kLAogICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbgogICAgICB9LAogICAgICBsaW5rVG86IFsndGltZWxpbmUnXSwKICAgICAgcXVlcnk6IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICdrdWVyeScKICAgICAgfSwKICAgICAgZmlsdGVyczogW10KICAgIH0sCiAgICB0aW1lbGluZTogewogICAgICB0aW1lcmFuZ2U6IHsKICAgICAgICBraW5kOiAncmVsYXRpdmUnLAogICAgICAgIGZyb21TdHI6IGZyb21TdHIsCiAgICAgICAgdG9TdHI6IHRvU3RyLAogICAgICAgIGZyb206IGZyb20sCiAgICAgICAgdG86IHRvCiAgICAgIH0sCiAgICAgIHF1ZXJpZXM6IFtdLAogICAgICBwb2xpY3k6IHsKICAgICAgICBraW5kOiBraW5kLAogICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbgogICAgICB9LAogICAgICBsaW5rVG86IFsnZ2xvYmFsJ10sCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgcXVlcnk6ICcnLAogICAgICAgIGxhbmd1YWdlOiAna3VlcnknCiAgICAgIH0sCiAgICAgIGZpbHRlcnM6IFtdCiAgICB9CiAgfTsKfTsKCmV4cG9ydHMuY3JlYXRlSW5pdGlhbElucHV0c1N0YXRlID0gY3JlYXRlSW5pdGlhbElucHV0c1N0YXRlOwp2YXIgaW5wdXRzUmVkdWNlciA9ICgwLCBfdHlwZXNjcmlwdEZzYVJlZHVjZXJzLnJlZHVjZXJXaXRoSW5pdGlhbFN0YXRlKShpbml0aWFsSW5wdXRzU3RhdGUpLmNhc2UoX2FjdGlvbnMuc2V0VGltZWxpbmVSYW5nZURhdGVQaWNrZXIsIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZikgewogIHZhciBmcm9tID0gX3JlZi5mcm9tLAogICAgICB0byA9IF9yZWYudG87CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICBnbG9iYWw6IF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLmdsb2JhbCwgewogICAgICBsaW5rVG86IFtdCiAgICB9KSwKICAgIHRpbWVsaW5lOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS50aW1lbGluZSwgewogICAgICB0aW1lcmFuZ2U6IHsKICAgICAgICBraW5kOiAnYWJzb2x1dGUnLAogICAgICAgIGZyb21TdHI6IHVuZGVmaW5lZCwKICAgICAgICB0b1N0cjogdW5kZWZpbmVkLAogICAgICAgIGZyb206IGZyb20sCiAgICAgICAgdG86IHRvCiAgICAgIH0sCiAgICAgIGxpbmtUbzogW10KICAgIH0pCiAgfSk7Cn0pLmNhc2UoX2FjdGlvbnMuc2V0QWJzb2x1dGVSYW5nZURhdGVQaWNrZXIsIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZjIpIHsKICB2YXIgaWQgPSBfcmVmMi5pZCwKICAgICAgZnJvbSA9IF9yZWYyLmZyb20sCiAgICAgIHRvID0gX3JlZjIudG87CiAgdmFyIHRpbWVyYW5nZSA9IHsKICAgIGtpbmQ6ICdhYnNvbHV0ZScsCiAgICBmcm9tU3RyOiB1bmRlZmluZWQsCiAgICB0b1N0cjogdW5kZWZpbmVkLAogICAgZnJvbTogZnJvbSwKICAgIHRvOiB0bwogIH07CiAgcmV0dXJuICgwLCBfaGVscGVycy51cGRhdGVJbnB1dFRpbWVyYW5nZSkoaWQsIHRpbWVyYW5nZSwgc3RhdGUpOwp9KS5jYXNlKF9hY3Rpb25zLnNldFJlbGF0aXZlUmFuZ2VEYXRlUGlja2VyLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWYzKSB7CiAgdmFyIGlkID0gX3JlZjMuaWQsCiAgICAgIGZyb21TdHIgPSBfcmVmMy5mcm9tU3RyLAogICAgICBmcm9tID0gX3JlZjMuZnJvbSwKICAgICAgdG8gPSBfcmVmMy50bywKICAgICAgdG9TdHIgPSBfcmVmMy50b1N0cjsKICB2YXIgdGltZXJhbmdlID0gewogICAga2luZDogJ3JlbGF0aXZlJywKICAgIGZyb21TdHI6IGZyb21TdHIsCiAgICB0b1N0cjogdG9TdHIsCiAgICBmcm9tOiBmcm9tLAogICAgdG86IHRvCiAgfTsKICByZXR1cm4gKDAsIF9oZWxwZXJzLnVwZGF0ZUlucHV0VGltZXJhbmdlKShpZCwgdGltZXJhbmdlLCBzdGF0ZSk7Cn0pLmNhc2UoX2FjdGlvbnMuZGVsZXRlQWxsUXVlcnksIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZjQpIHsKICB2YXIgaWQgPSBfcmVmNC5pZDsKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIF9vYmplY3RTcHJlYWQoe30sICgwLCBfZnAuZ2V0KShpZCwgc3RhdGUpLCB7CiAgICBxdWVyaWVzOiBzdGF0ZS5nbG9iYWwucXVlcmllcy5zbGljZShzdGF0ZS5nbG9iYWwucXVlcmllcy5sZW5ndGgpCiAgfSkpKTsKfSkuY2FzZShfYWN0aW9ucy5zZXRRdWVyeSwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmNSkgewogIHZhciBpbnB1dElkID0gX3JlZjUuaW5wdXRJZCwKICAgICAgaWQgPSBfcmVmNS5pZCwKICAgICAgaW5zcGVjdCA9IF9yZWY1Lmluc3BlY3QsCiAgICAgIGxvYWRpbmcgPSBfcmVmNS5sb2FkaW5nLAogICAgICByZWZldGNoID0gX3JlZjUucmVmZXRjaDsKICByZXR1cm4gKDAsIF9oZWxwZXJzLnVwc2VydFF1ZXJ5KSh7CiAgICBpbnB1dElkOiBpbnB1dElkLAogICAgaWQ6IGlkLAogICAgaW5zcGVjdDogaW5zcGVjdCwKICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICByZWZldGNoOiByZWZldGNoLAogICAgc3RhdGU6IHN0YXRlCiAgfSk7Cn0pLmNhc2UoX2FjdGlvbnMuZGVsZXRlT25lUXVlcnksIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZjYpIHsKICB2YXIgaW5wdXRJZCA9IF9yZWY2LmlucHV0SWQsCiAgICAgIGlkID0gX3JlZjYuaWQ7CiAgcmV0dXJuICgwLCBfaGVscGVycy5kZWxldGVPbmVRdWVyeSkoewogICAgaW5wdXRJZDogaW5wdXRJZCwKICAgIGlkOiBpZCwKICAgIHN0YXRlOiBzdGF0ZQogIH0pOwp9KS5jYXNlKF9hY3Rpb25zLnNldER1cmF0aW9uLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWY3KSB7CiAgdmFyIGlkID0gX3JlZjcuaWQsCiAgICAgIGR1cmF0aW9uID0gX3JlZjcuZHVyYXRpb247CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoaWQsIHN0YXRlKSwgewogICAgcG9saWN5OiBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoIiIuY29uY2F0KGlkLCAiLnBvbGljeSIpLCBzdGF0ZSksIHsKICAgICAgZHVyYXRpb246IGR1cmF0aW9uCiAgICB9KQogIH0pKSk7Cn0pLmNhc2UoX2FjdGlvbnMuc3RhcnRBdXRvUmVsb2FkLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWY4KSB7CiAgdmFyIGlkID0gX3JlZjguaWQ7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoaWQsIHN0YXRlKSwgewogICAgcG9saWN5OiBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoIiIuY29uY2F0KGlkLCAiLnBvbGljeSIpLCBzdGF0ZSksIHsKICAgICAga2luZDogJ2ludGVydmFsJwogICAgfSkKICB9KSkpOwp9KS5jYXNlKF9hY3Rpb25zLnN0b3BBdXRvUmVsb2FkLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWY5KSB7CiAgdmFyIGlkID0gX3JlZjkuaWQ7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoaWQsIHN0YXRlKSwgewogICAgcG9saWN5OiBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoIiIuY29uY2F0KGlkLCAiLnBvbGljeSIpLCBzdGF0ZSksIHsKICAgICAga2luZDogJ21hbnVhbCcKICAgIH0pCiAgfSkpKTsKfSkuY2FzZShfYWN0aW9ucy50b2dnbGVUaW1lbGluZUxpbmtUbywgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMTApIHsKICB2YXIgbGlua1RvSWQgPSBfcmVmMTAubGlua1RvSWQ7CiAgcmV0dXJuICgwLCBfaGVscGVycy50b2dnbGVMb2NrVGltZWxpbmUpKGxpbmtUb0lkLCBzdGF0ZSk7Cn0pLmNhc2UoX2FjdGlvbnMuc2V0SW5zcGVjdGlvblBhcmFtZXRlciwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMTEpIHsKICB2YXIgaWQgPSBfcmVmMTEuaWQsCiAgICAgIGlucHV0SWQgPSBfcmVmMTEuaW5wdXRJZCwKICAgICAgaXNJbnNwZWN0ZWQgPSBfcmVmMTEuaXNJbnNwZWN0ZWQsCiAgICAgIHNlbGVjdGVkSW5zcGVjdEluZGV4ID0gX3JlZjExLnNlbGVjdGVkSW5zcGVjdEluZGV4OwogIHJldHVybiAoMCwgX2hlbHBlcnMuc2V0SXNJbnNwZWN0ZWQpKHsKICAgIGlkOiBpZCwKICAgIGlucHV0SWQ6IGlucHV0SWQsCiAgICBpc0luc3BlY3RlZDogaXNJbnNwZWN0ZWQsCiAgICBzZWxlY3RlZEluc3BlY3RJbmRleDogc2VsZWN0ZWRJbnNwZWN0SW5kZXgsCiAgICBzdGF0ZTogc3RhdGUKICB9KTsKfSkuY2FzZShfYWN0aW9ucy5yZW1vdmVHbG9iYWxMaW5rVG8sIGZ1bmN0aW9uIChzdGF0ZSkgewogIHJldHVybiAoMCwgX2hlbHBlcnMucmVtb3ZlR2xvYmFsTGluaykoc3RhdGUpOwp9KS5jYXNlKF9hY3Rpb25zLmFkZEdsb2JhbExpbmtUbywgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMTIpIHsKICB2YXIgbGlua1RvSWQgPSBfcmVmMTIubGlua1RvSWQ7CiAgcmV0dXJuICgwLCBfaGVscGVycy5hZGRHbG9iYWxMaW5rKShsaW5rVG9JZCwgc3RhdGUpOwp9KS5jYXNlKF9hY3Rpb25zLnJlbW92ZVRpbWVsaW5lTGlua1RvLCBmdW5jdGlvbiAoc3RhdGUpIHsKICByZXR1cm4gKDAsIF9oZWxwZXJzLnJlbW92ZVRpbWVsaW5lTGluaykoc3RhdGUpOwp9KS5jYXNlKF9hY3Rpb25zLmFkZFRpbWVsaW5lTGlua1RvLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWYxMykgewogIHZhciBsaW5rVG9JZCA9IF9yZWYxMy5saW5rVG9JZDsKICByZXR1cm4gKDAsIF9oZWxwZXJzLmFkZFRpbWVsaW5lTGluaykobGlua1RvSWQsIHN0YXRlKTsKfSkuY2FzZShfYWN0aW9ucy5zZXRGaWx0ZXJRdWVyeSwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMTQpIHsKICB2YXIgaWQgPSBfcmVmMTQuaWQsCiAgICAgIHF1ZXJ5ID0gX3JlZjE0LnF1ZXJ5LAogICAgICBsYW5ndWFnZSA9IF9yZWYxNC5sYW5ndWFnZTsKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIF9vYmplY3RTcHJlYWQoe30sICgwLCBfZnAuZ2V0KShpZCwgc3RhdGUpLCB7CiAgICBxdWVyeTogewogICAgICBxdWVyeTogcXVlcnksCiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZQogICAgfQogIH0pKSk7Cn0pLmNhc2UoX2FjdGlvbnMuc2V0U2F2ZWRRdWVyeSwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMTUpIHsKICB2YXIgaWQgPSBfcmVmMTUuaWQsCiAgICAgIHNhdmVkUXVlcnkgPSBfcmVmMTUuc2F2ZWRRdWVyeTsKICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIF9vYmplY3RTcHJlYWQoe30sICgwLCBfZnAuZ2V0KShpZCwgc3RhdGUpLCB7CiAgICBzYXZlZFF1ZXJ5OiBzYXZlZFF1ZXJ5CiAgfSkpKTsKfSkuY2FzZShfYWN0aW9ucy5zZXRTZWFyY2hCYXJGaWx0ZXIsIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZjE2KSB7CiAgdmFyIGlkID0gX3JlZjE2LmlkLAogICAgICBmaWx0ZXJzID0gX3JlZjE2LmZpbHRlcnM7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCBfZGVmaW5lUHJvcGVydHkoe30sIGlkLCBfb2JqZWN0U3ByZWFkKHt9LCAoMCwgX2ZwLmdldCkoaWQsIHN0YXRlKSwgewogICAgZmlsdGVyczogZmlsdGVycwogIH0pKSk7Cn0pLmJ1aWxkKCk7CmV4cG9ydHMuaW5wdXRzUmVkdWNlciA9IGlucHV0c1JlZHVjZXI7"},null]}