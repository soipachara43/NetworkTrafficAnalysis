{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/tile_map/public/markers/scaled_circles.js","dependencies":[{"path":"src/legacy/core_plugins/tile_map/public/markers/scaled_circles.js","mtime":1589249549918},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNjYWxlZENpcmNsZXNNYXJrZXJzID0gdm9pZCAwOwoKdmFyIF9sZWFmbGV0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsZWFmbGV0IikpOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZDMiKSk7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKdmFyIF9ldmVudHMgPSByZXF1aXJlKCJldmVudHMiKTsKCnZhciBjb2xvclV0aWwgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJ1aS92aXMvbWFwL2NvbG9yX3V0aWwiKSk7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uL3BsdWdpbnMvY2hhcnRzL3B1YmxpYyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCnZhciBTY2FsZWRDaXJjbGVzTWFya2VycyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHsKICBfaW5oZXJpdHMoU2NhbGVkQ2lyY2xlc01hcmtlcnMsIF9FdmVudEVtaXR0ZXIpOwoKICBmdW5jdGlvbiBTY2FsZWRDaXJjbGVzTWFya2VycyhmZWF0dXJlQ29sbGVjdGlvbiwgZmVhdHVyZUNvbGxlY3Rpb25NZXRhRGF0YSwgb3B0aW9ucywgdGFyZ2V0Wm9vbSwga2liYW5hTWFwLCBtZXRyaWNBZ2cpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NhbGVkQ2lyY2xlc01hcmtlcnMpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFNjYWxlZENpcmNsZXNNYXJrZXJzKS5jYWxsKHRoaXMpKTsKICAgIF90aGlzLl9mZWF0dXJlQ29sbGVjdGlvbiA9IGZlYXR1cmVDb2xsZWN0aW9uOwogICAgX3RoaXMuX2ZlYXR1cmVDb2xsZWN0aW9uTWV0YURhdGEgPSBmZWF0dXJlQ29sbGVjdGlvbk1ldGFEYXRhOwogICAgX3RoaXMuX3pvb20gPSB0YXJnZXRab29tOwogICAgX3RoaXMuX21ldHJpY0FnZyA9IG1ldHJpY0FnZzsKCiAgICBfdGhpcy5fdmFsdWVGb3JtYXR0ZXIgPSBvcHRpb25zLnZhbHVlRm9ybWF0dGVyIHx8IGZ1bmN0aW9uICh4KSB7CiAgICAgIHg7CiAgICB9OwoKICAgIF90aGlzLl90b29sdGlwRm9ybWF0dGVyID0gb3B0aW9ucy50b29sdGlwRm9ybWF0dGVyIHx8IGZ1bmN0aW9uICh4KSB7CiAgICAgIHg7CiAgICB9OwoKICAgIF90aGlzLl9sYWJlbCA9IG9wdGlvbnMubGFiZWw7CiAgICBfdGhpcy5fY29sb3JSYW1wID0gb3B0aW9ucy5jb2xvclJhbXA7CiAgICBfdGhpcy5fbGVnZW5kQ29sb3JzID0gbnVsbDsKICAgIF90aGlzLl9sZWdlbmRRdWFudGl6ZXIgPSBudWxsOwogICAgX3RoaXMuX3BvcHVwcyA9IFtdOwogICAgdmFyIGxheWVyT3B0aW9ucyA9IHsKICAgICAgcG9pbnRUb0xheWVyOiBfdGhpcy5nZXRNYXJrZXJGdW5jdGlvbigpLAogICAgICBzdHlsZTogX3RoaXMuZ2V0U3R5bGVGdW5jdGlvbigpLAogICAgICBvbkVhY2hGZWF0dXJlOiBmdW5jdGlvbiBvbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgX3RoaXMuX2JpbmRQb3B1cChmZWF0dXJlLCBsYXllcik7CiAgICAgIH0KICAgIH07IC8vIEZpbHRlciBsZWFmbGV0bGF5ZXIgb24gY2xpZW50IHdoZW4gcmVzdWx0cyBhcmUgbm90IGZpbHRlcmVkIG9uIHRoZSBzZXJ2ZXIKCiAgICBpZiAoIW9wdGlvbnMuaXNGaWx0ZXJlZEJ5Q29sbGFyKSB7CiAgICAgIGxheWVyT3B0aW9ucy5maWx0ZXIgPSBmdW5jdGlvbiAoZmVhdHVyZSkgewogICAgICAgIHZhciBidWNrZXRSZWN0Qm91bmRzID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmdlb2hhc2hfbWV0YS5yZWN0YW5nbGU7CiAgICAgICAgcmV0dXJuIGtpYmFuYU1hcC5pc0luc2lkZShidWNrZXRSZWN0Qm91bmRzKTsKICAgICAgfTsKICAgIH0KCiAgICBfdGhpcy5fbGVhZmxldExheWVyID0gX2xlYWZsZXQuZGVmYXVsdC5nZW9Kc29uKG51bGwsIGxheWVyT3B0aW9ucyk7CgogICAgX3RoaXMuX2xlYWZsZXRMYXllci5hZGREYXRhKF90aGlzLl9mZWF0dXJlQ29sbGVjdGlvbik7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNjYWxlZENpcmNsZXNNYXJrZXJzLCBbewogICAga2V5OiAiZ2V0TGVhZmxldExheWVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMZWFmbGV0TGF5ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLl9sZWFmbGV0TGF5ZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U3R5bGVGdW5jdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGVGdW5jdGlvbigpIHsKICAgICAgdmFyIG1pbiA9IF9sb2Rhc2guZGVmYXVsdC5nZXQodGhpcy5fZmVhdHVyZUNvbGxlY3Rpb25NZXRhRGF0YSwgJ21pbicsIDApOwoKICAgICAgdmFyIG1heCA9IF9sb2Rhc2guZGVmYXVsdC5nZXQodGhpcy5fZmVhdHVyZUNvbGxlY3Rpb25NZXRhRGF0YSwgJ21heCcsIDEpOwoKICAgICAgdmFyIHF1YW50aXplRG9tYWluID0gbWluICE9PSBtYXggPyBbbWluLCBtYXhdIDogX2QuZGVmYXVsdC5zY2FsZS5xdWFudGl6ZSgpLmRvbWFpbigpOwogICAgICB0aGlzLl9sZWdlbmRDb2xvcnMgPSB0aGlzLmdldExlZ2VuZENvbG9ycygpOwogICAgICB0aGlzLl9sZWdlbmRRdWFudGl6ZXIgPSBfZC5kZWZhdWx0LnNjYWxlLnF1YW50aXplKCkuZG9tYWluKHF1YW50aXplRG9tYWluKS5yYW5nZSh0aGlzLl9sZWdlbmRDb2xvcnMpOwogICAgICByZXR1cm4gbWFrZVN0eWxlRnVuY3Rpb24odGhpcy5fbGVnZW5kQ29sb3JzLCBxdWFudGl6ZURvbWFpbik7CiAgICB9CiAgfSwgewogICAga2V5OiAibW92ZVBvaW50ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVQb2ludGVyKCkge30KICB9LCB7CiAgICBrZXk6ICJnZXRMYWJlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWwoKSB7CiAgICAgIGlmICh0aGlzLl9wb3B1cHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwZW5kTGVnZW5kQ29udGVudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZExlZ2VuZENvbnRlbnRzKGpxdWVyeURpdikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5fbGVnZW5kQ29sb3JzIHx8ICF0aGlzLl9sZWdlbmRRdWFudGl6ZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0aXRsZVRleHQgPSB0aGlzLmdldExhYmVsKCk7CiAgICAgIHZhciAkdGl0bGUgPSAoMCwgX2pxdWVyeS5kZWZhdWx0KSgnPGRpdj4nKS5hZGRDbGFzcygndmlzTWFwTGVnZW5kX190aXRsZScpLnRleHQodGl0bGVUZXh0KTsKICAgICAganF1ZXJ5RGl2LmFwcGVuZCgkdGl0bGUpOwoKICAgICAgdGhpcy5fbGVnZW5kQ29sb3JzLmZvckVhY2goZnVuY3Rpb24gKGNvbG9yKSB7CiAgICAgICAgdmFyIGxhYmVsVGV4dCA9IF90aGlzMi5fbGVnZW5kUXVhbnRpemVyLmludmVydEV4dGVudChjb2xvcikubWFwKF90aGlzMi5fdmFsdWVGb3JtYXR0ZXIpLmpvaW4oJyDigJPCoCcpOwoKICAgICAgICB2YXIgbGFiZWwgPSAoMCwgX2pxdWVyeS5kZWZhdWx0KSgnPGRpdj4nKTsKICAgICAgICB2YXIgaWNvbiA9ICgwLCBfanF1ZXJ5LmRlZmF1bHQpKCc8aT4nKS5jc3MoewogICAgICAgICAgYmFja2dyb3VuZDogY29sb3IsCiAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogbWFrZUNvbG9yRGFya2VyKGNvbG9yKQogICAgICAgIH0pOwogICAgICAgIHZhciB0ZXh0ID0gKDAsIF9qcXVlcnkuZGVmYXVsdCkoJzxzcGFuPicpLnRleHQobGFiZWxUZXh0KTsKICAgICAgICBsYWJlbC5hcHBlbmQoaWNvbik7CiAgICAgICAgbGFiZWwuYXBwZW5kKHRleHQpOwogICAgICAgIGpxdWVyeURpdi5hcHBlbmQobGFiZWwpOwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogQmluZHMgcG9wdXAgYW5kIGV2ZW50cyB0byBlYWNoIGZlYXR1cmUgb24gbWFwCiAgICAgKgogICAgICogQG1ldGhvZCBiaW5kUG9wdXAKICAgICAqIEBwYXJhbSBmZWF0dXJlIHtPYmplY3R9CiAgICAgKiBAcGFyYW0gbGF5ZXIge09iamVjdH0KICAgICAqIHJldHVybiB7dW5kZWZpbmVkfQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9iaW5kUG9wdXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kUG9wdXAoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcG9wdXAgPSBsYXllci5vbih7CiAgICAgICAgbW91c2VvdmVyOiBmdW5jdGlvbiBtb3VzZW92ZXIoZSkgewogICAgICAgICAgdmFyIGxheWVyID0gZS50YXJnZXQ7IC8vIGJyaW5nIGxheWVyIHRvIGZyb250IGlmIG5vdCBvbGRlciBicm93c2VyCgogICAgICAgICAgaWYgKCFfbGVhZmxldC5kZWZhdWx0LkJyb3dzZXIuaWUgJiYgIV9sZWFmbGV0LmRlZmF1bHQuQnJvd3Nlci5vcGVyYSkgewogICAgICAgICAgICBsYXllci5icmluZ1RvRnJvbnQoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczMuX3Nob3dUb29sdGlwKGZlYXR1cmUpOwogICAgICAgIH0sCiAgICAgICAgbW91c2VvdXQ6IGZ1bmN0aW9uIG1vdXNlb3V0KCkgewogICAgICAgICAgX3RoaXMzLmVtaXQoJ2hpZGVUb29sdGlwJyk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHRoaXMuX3BvcHVwcy5wdXNoKHBvcHVwKTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2tzIGlmIGV2ZW50IGxhdGxuZyBpcyB3aXRoaW4gYm91bmRzIG9mIG1hcERhdGEKICAgICAqIGZlYXR1cmVzIGFuZCBzaG93cyB0b29sdGlwIGZvciB0aGF0IGZlYXR1cmUKICAgICAqCiAgICAgKiBAbWV0aG9kIF9zaG93VG9vbHRpcAogICAgICogQHBhcmFtIGZlYXR1cmUge0xlYWZsZXRGZWF0dXJlfQogICAgICogQHJldHVybiB1bmRlZmluZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfc2hvd1Rvb2x0aXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zaG93VG9vbHRpcChmZWF0dXJlKSB7CiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5fdG9vbHRpcEZvcm1hdHRlcihmZWF0dXJlKTsKCiAgICAgIGlmICghY29udGVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGxhdExuZyA9IF9sZWFmbGV0LmRlZmF1bHQubGF0TG5nKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0sIGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pOwoKICAgICAgdGhpcy5lbWl0KCdzaG93VG9vbHRpcCcsIHsKICAgICAgICBjb250ZW50OiBjb250ZW50LAogICAgICAgIHBvc2l0aW9uOiBsYXRMbmcKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TWFya2VyRnVuY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hcmtlckZ1bmN0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBzY2FsZUZhY3RvciA9IDAuNjsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZWF0dXJlLCBsYXRsbmcpIHsKICAgICAgICB2YXIgdmFsdWUgPSBmZWF0dXJlLnByb3BlcnRpZXMudmFsdWU7CiAgICAgICAgdmFyIHNjYWxlZFJhZGl1cyA9IF90aGlzNC5fcmFkaXVzU2NhbGUodmFsdWUpICogc2NhbGVGYWN0b3I7CiAgICAgICAgcmV0dXJuIF9sZWFmbGV0LmRlZmF1bHQuY2lyY2xlTWFya2VyKGxhdGxuZykuc2V0UmFkaXVzKHNjYWxlZFJhZGl1cyk7CiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqIHJhZGl1c1NjYWxlIHJldHVybnMgYSBudW1iZXIgZm9yIHNjYWxlZCBjaXJjbGUgbWFya2VycwogICAgICogZm9yIHJlbGF0aXZlIHNpemluZyBvZiBtYXJrZXJzCiAgICAgKgogICAgICogQG1ldGhvZCBfcmFkaXVzU2NhbGUKICAgICAqIEBwYXJhbSB2YWx1ZSB7TnVtYmVyfQogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9yYWRpdXNTY2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JhZGl1c1NjYWxlKHZhbHVlKSB7CiAgICAgIC8vbWFnaWMgbnVtYmVycwogICAgICB2YXIgcHJlY2lzaW9uQmlhc0Jhc2UgPSA1OwogICAgICB2YXIgcHJlY2lzaW9uQmlhc051bWVyYXRvciA9IDIwMDsKCiAgICAgIHZhciBwcmVjaXNpb24gPSBfbG9kYXNoLmRlZmF1bHQubWF4KHRoaXMuX2ZlYXR1cmVDb2xsZWN0aW9uLmZlYXR1cmVzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkgewogICAgICAgIHJldHVybiBTdHJpbmcoZmVhdHVyZS5wcm9wZXJ0aWVzLmdlb2hhc2gpLmxlbmd0aDsKICAgICAgfSkpOwoKICAgICAgdmFyIHBjdCA9IE1hdGguYWJzKHZhbHVlKSAvIE1hdGguYWJzKHRoaXMuX2ZlYXR1cmVDb2xsZWN0aW9uTWV0YURhdGEubWF4KTsKICAgICAgdmFyIHpvb21SYWRpdXMgPSAwLjUgKiBNYXRoLnBvdygyLCB0aGlzLl96b29tKTsKICAgICAgdmFyIHByZWNpc2lvblNjYWxlID0gcHJlY2lzaW9uQmlhc051bWVyYXRvciAvIE1hdGgucG93KHByZWNpc2lvbkJpYXNCYXNlLCBwcmVjaXNpb24pOyAvLyBzcXVhcmUgcm9vdCB2YWx1ZSBwZXJjZW50YWdlCgogICAgICByZXR1cm4gTWF0aC5wb3cocGN0LCAwLjUpICogem9vbVJhZGl1cyAqIHByZWNpc2lvblNjYWxlOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJvdW5kcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Qm91bmRzKCkgewogICAgICByZXR1cm4gdGhpcy5fbGVhZmxldExheWVyLmdldEJvdW5kcygpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldExlZ2VuZENvbG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGVnZW5kQ29sb3JzKCkgewogICAgICB2YXIgY29sb3JSYW1wID0gX2xvZGFzaC5kZWZhdWx0LmdldChfcHVibGljLnRydW5jYXRlZENvbG9yTWFwc1t0aGlzLl9jb2xvclJhbXBdLCAndmFsdWUnKTsKCiAgICAgIHJldHVybiBjb2xvclV0aWwuZ2V0TGVnZW5kQ29sb3JzKGNvbG9yUmFtcCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2NhbGVkQ2lyY2xlc01hcmtlcnM7Cn0oX2V2ZW50cy5FdmVudEVtaXR0ZXIpOwoKZXhwb3J0cy5TY2FsZWRDaXJjbGVzTWFya2VycyA9IFNjYWxlZENpcmNsZXNNYXJrZXJzOwoKZnVuY3Rpb24gbWFrZUNvbG9yRGFya2VyKGNvbG9yKSB7CiAgdmFyIGFtb3VudCA9IDEuMzsgLy9tYWdpYyBudW1iZXIsIGNhcnJ5IG92ZXIgZnJvbSBlYXJsaWVyCgogIHJldHVybiBfZC5kZWZhdWx0LmhjbChjb2xvcikuZGFya2VyKGFtb3VudCkudG9TdHJpbmcoKTsKfQoKZnVuY3Rpb24gbWFrZVN0eWxlRnVuY3Rpb24obGVnZW5kQ29sb3JzLCBxdWFudGl6ZURvbWFpbikgewogIHZhciBsZWdlbmRRdWFudGl6ZXIgPSBfZC5kZWZhdWx0LnNjYWxlLnF1YW50aXplKCkuZG9tYWluKHF1YW50aXplRG9tYWluKS5yYW5nZShsZWdlbmRDb2xvcnMpOwoKICByZXR1cm4gZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgIHZhciB2YWx1ZSA9IF9sb2Rhc2guZGVmYXVsdC5nZXQoZmVhdHVyZSwgJ3Byb3BlcnRpZXMudmFsdWUnKTsKCiAgICB2YXIgY29sb3IgPSBsZWdlbmRRdWFudGl6ZXIodmFsdWUpOwogICAgcmV0dXJuIHsKICAgICAgZmlsbENvbG9yOiBjb2xvciwKICAgICAgY29sb3I6IG1ha2VDb2xvckRhcmtlcihjb2xvciksCiAgICAgIHdlaWdodDogMS41LAogICAgICBvcGFjaXR5OiAxLAogICAgICBmaWxsT3BhY2l0eTogMC43NQogICAgfTsKICB9Owp9"},null]}