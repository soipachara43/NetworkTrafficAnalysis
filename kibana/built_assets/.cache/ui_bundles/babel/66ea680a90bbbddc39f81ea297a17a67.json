{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/rollup/public/crud_app/sections/job_list/job_table/job_table.js","dependencies":[{"path":"x-pack/legacy/plugins/rollup/public/crud_app/sections/job_list/job_table/job_table.js","mtime":1589249552824},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkpvYlRhYmxlID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9jb21tb24gPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9jb21tb24iKTsKCnZhciBfc2VydmljZXMgPSByZXF1aXJlKCIuLi8uLi8uLi9zZXJ2aWNlcyIpOwoKdmFyIF9jb21wb25lbnRzID0gcmVxdWlyZSgiLi4vLi4vY29tcG9uZW50cyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCnZhciBDT0xVTU5TID0gW3sKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLm5hbWVIZWFkZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0lEJwogIH0pLAogIGZpZWxkTmFtZTogJ2lkJywKICBpc1NvcnRhYmxlOiB0cnVlCn0sIHsKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLnN0YXR1c0hlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU3RhdHVzJwogIH0pLAogIGZpZWxkTmFtZTogJ3N0YXR1cycsCiAgaXNTb3J0YWJsZTogdHJ1ZSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7CiAgICB2YXIgc3RhdHVzID0gX3JlZi5zdGF0dXMsCiAgICAgICAgcm9sbHVwQ3JvbiA9IF9yZWYucm9sbHVwQ3JvbjsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICBwbGFjZW1lbnQ6ICJ0b3AiLAogICAgICBjb250ZW50OiAiQ3JvbjogIi5jb25jYXQocm9sbHVwQ3JvbikKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHMuSm9iU3RhdHVzLCB7CiAgICAgIHN0YXR1czogc3RhdHVzCiAgICB9KSk7CiAgfQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5pbmRleFBhdHRlcm5IZWFkZXInLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0luZGV4IHBhdHRlcm4nCiAgfSksCiAgdHJ1bmNhdGVUZXh0OiB0cnVlLAogIGZpZWxkTmFtZTogJ2luZGV4UGF0dGVybicsCiAgaXNTb3J0YWJsZTogdHJ1ZQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5yb2xsdXBJbmRleEhlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnUm9sbHVwIGluZGV4JwogIH0pLAogIHRydW5jYXRlVGV4dDogdHJ1ZSwKICBmaWVsZE5hbWU6ICdyb2xsdXBJbmRleCcsCiAgaXNTb3J0YWJsZTogdHJ1ZQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5kZWxheUhlYWRlcicsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsYXknCiAgfSksCiAgZmllbGROYW1lOiAncm9sbHVwRGVsYXknLAogIGlzU29ydGFibGU6IHRydWUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoX3JlZjIpIHsKICAgIHZhciByb2xsdXBEZWxheSA9IF9yZWYyLnJvbGx1cERlbGF5OwogICAgcmV0dXJuIHJvbGx1cERlbGF5IHx8ICdOb25lJzsKICB9Cn0sIHsKICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sucm9sbHVwSm9icy5qb2JUYWJsZS5oZWFkZXJzLmludGVydmFsSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdJbnRlcnZhbCcKICB9KSwKICBmaWVsZE5hbWU6ICdkYXRlSGlzdG9ncmFtSW50ZXJ2YWwnLAogIGlzU29ydGFibGU6IHRydWUKfSwgewogIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5yb2xsdXBKb2JzLmpvYlRhYmxlLmhlYWRlcnMuZ3JvdXBzSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdHcm91cHMnCiAgfSksCiAgZmllbGROYW1lOiAnZ3JvdXBzJywKICBpc1NvcnRhYmxlOiBmYWxzZSwKICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoam9iKSB7CiAgICByZXR1cm4gWydoaXN0b2dyYW0nLCAndGVybXMnXS5yZWR1Y2UoZnVuY3Rpb24gKHRleHQsIGZpZWxkKSB7CiAgICAgIGlmIChqb2JbZmllbGRdLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0ZXh0ID8gIiIuY29uY2F0KHRleHQsICIsICIpLmNvbmNhdChmaWVsZCkgOiBmaWVsZC5yZXBsYWNlKC9eXHcvLCBmdW5jdGlvbiAoY2hhcikgewogICAgICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRleHQ7CiAgICB9LCAnJyk7CiAgfQp9LCB7CiAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuaGVhZGVycy5tZXRyaWNzSGVhZGVyJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdNZXRyaWNzJwogIH0pLAogIGZpZWxkTmFtZTogJ21ldHJpY3MnLAogIGlzU29ydGFibGU6IGZhbHNlLAogIHRydW5jYXRlVGV4dDogdHJ1ZSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihqb2IpIHsKICAgIHZhciBtZXRyaWNzID0gam9iLm1ldHJpY3M7CgogICAgaWYgKG1ldHJpY3MubGVuZ3RoKSB7CiAgICAgIHJldHVybiBtZXRyaWNzLm1hcChmdW5jdGlvbiAobWV0cmljKSB7CiAgICAgICAgcmV0dXJuIG1ldHJpYy5uYW1lOwogICAgICB9KS5qb2luKCcsICcpOwogICAgfQoKICAgIHJldHVybiAnJzsKICB9Cn1dOwoKdmFyIEpvYlRhYmxlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhKb2JUYWJsZSwgX0NvbXBvbmVudCk7CgogIF9jcmVhdGVDbGFzcyhKb2JUYWJsZSwgbnVsbCwgW3sKICAgIGtleTogImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkgewogICAgICAvLyBEZXNlbGN0IGFueSBqb2JzIHdoaWNoIG5vIGxvbmdlciBleGlzdCwgZS5nLiB0aGV5J3ZlIGJlZW4gZGVsZXRlZC4KICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHN0YXRlLmlkVG9TZWxlY3RlZEpvYk1hcDsKICAgICAgdmFyIGpvYklkcyA9IHByb3BzLmpvYnMubWFwKGZ1bmN0aW9uIChqb2IpIHsKICAgICAgICByZXR1cm4gam9iLmlkOwogICAgICB9KTsKICAgICAgdmFyIHNlbGVjdGVkSm9iSWRzID0gT2JqZWN0LmtleXMoaWRUb1NlbGVjdGVkSm9iTWFwKTsKICAgICAgdmFyIG1pc3NpbmdKb2JJZHMgPSBzZWxlY3RlZEpvYklkcy5maWx0ZXIoZnVuY3Rpb24gKHNlbGVjdGVkSm9iSWQpIHsKICAgICAgICByZXR1cm4gIWpvYklkcy5pbmNsdWRlcyhzZWxlY3RlZEpvYklkKTsKICAgICAgfSk7CgogICAgICBpZiAobWlzc2luZ0pvYklkcy5sZW5ndGgpIHsKICAgICAgICB2YXIgbmV3TWFwID0gX29iamVjdFNwcmVhZCh7fSwgaWRUb1NlbGVjdGVkSm9iTWFwKTsKCiAgICAgICAgbWlzc2luZ0pvYklkcy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nSm9iSWQpIHsKICAgICAgICAgIHJldHVybiBkZWxldGUgbmV3TWFwW21pc3NpbmdKb2JJZF07CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogbmV3TWFwCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICBmdW5jdGlvbiBKb2JUYWJsZShwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBKb2JUYWJsZSk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoSm9iVGFibGUpLmNhbGwodGhpcywgcHJvcHMpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ0b2dnbGVBbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhbGxTZWxlY3RlZCA9IF90aGlzLmFyZUFsbEl0ZW1zU2VsZWN0ZWQoKTsKCiAgICAgIGlmIChhbGxTZWxlY3RlZCkgewogICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IHt9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBqb2JzID0gX3RoaXMucHJvcHMuam9iczsKICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHt9OwogICAgICBqb2JzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjMuaWQ7CiAgICAgICAgaWRUb1NlbGVjdGVkSm9iTWFwW2lkXSA9IHRydWU7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogaWRUb1NlbGVjdGVkSm9iTWFwCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlSXRlbSIsIGZ1bmN0aW9uIChpZCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgaWRUb1NlbGVjdGVkSm9iTWFwID0gX3JlZjQuaWRUb1NlbGVjdGVkSm9iTWFwOwoKICAgICAgICB2YXIgbmV3TWFwID0gX29iamVjdFNwcmVhZCh7fSwgaWRUb1NlbGVjdGVkSm9iTWFwKTsKCiAgICAgICAgaWYgKG5ld01hcFtpZF0pIHsKICAgICAgICAgIGRlbGV0ZSBuZXdNYXBbaWRdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdNYXBbaWRdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IG5ld01hcAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicmVzZXRTZWxlY3Rpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpZFRvU2VsZWN0ZWRKb2JNYXA6IHt9CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGVzZWxlY3RJdGVtcyIsIGZ1bmN0aW9uIChpdGVtSWRzKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgIHZhciBpZFRvU2VsZWN0ZWRKb2JNYXAgPSBfcmVmNS5pZFRvU2VsZWN0ZWRKb2JNYXA7CgogICAgICAgIHZhciBuZXdNYXAgPSBfb2JqZWN0U3ByZWFkKHt9LCBpZFRvU2VsZWN0ZWRKb2JNYXApOwoKICAgICAgICBpdGVtSWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICByZXR1cm4gZGVsZXRlIG5ld01hcFtpZF07CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkVG9TZWxlY3RlZEpvYk1hcDogbmV3TWFwCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJhcmVBbGxJdGVtc1NlbGVjdGVkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgam9icyA9IF90aGlzLnByb3BzLmpvYnM7CiAgICAgIHZhciBpbmRleE9mVW5zZWxlY3RlZEl0ZW0gPSBqb2JzLmZpbmRJbmRleChmdW5jdGlvbiAoam9iKSB7CiAgICAgICAgcmV0dXJuICFfdGhpcy5pc0l0ZW1TZWxlY3RlZChqb2IuaWQpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGluZGV4T2ZVbnNlbGVjdGVkSXRlbSA9PT0gLTE7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpc0l0ZW1TZWxlY3RlZCIsIGZ1bmN0aW9uIChpZCkgewogICAgICByZXR1cm4gISFfdGhpcy5zdGF0ZS5pZFRvU2VsZWN0ZWRKb2JNYXBbaWRdOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Tb3J0IiwgZnVuY3Rpb24gKGNvbHVtbikgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIHNvcnRGaWVsZCA9IF90aGlzJHByb3BzLnNvcnRGaWVsZCwKICAgICAgICAgIGlzU29ydEFzY2VuZGluZyA9IF90aGlzJHByb3BzLmlzU29ydEFzY2VuZGluZywKICAgICAgICAgIHNvcnRDaGFuZ2VkID0gX3RoaXMkcHJvcHMuc29ydENoYW5nZWQ7CiAgICAgIHZhciBuZXdJc1NvcnRBc2NlbmRpbmcgPSBzb3J0RmllbGQgPT09IGNvbHVtbiA/ICFpc1NvcnRBc2NlbmRpbmcgOiB0cnVlOwogICAgICBzb3J0Q2hhbmdlZChjb2x1bW4sIG5ld0lzU29ydEFzY2VuZGluZyk7CiAgICB9KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaWRUb1NlbGVjdGVkSm9iTWFwOiB7fQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhKb2JUYWJsZSwgW3sKICAgIGtleTogImdldFNlbGVjdGVkSm9icyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRKb2JzKCkgewogICAgICB2YXIgam9icyA9IHRoaXMucHJvcHMuam9iczsKICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHRoaXMuc3RhdGUuaWRUb1NlbGVjdGVkSm9iTWFwOwogICAgICByZXR1cm4gT2JqZWN0LmtleXMoaWRUb1NlbGVjdGVkSm9iTWFwKS5tYXAoZnVuY3Rpb24gKGpvYklkKSB7CiAgICAgICAgcmV0dXJuIGpvYnMuZmluZChmdW5jdGlvbiAoam9iKSB7CiAgICAgICAgICByZXR1cm4gam9iLmlkID09PSBqb2JJZDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVpbGRIZWFkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkSGVhZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgc29ydEZpZWxkID0gX3RoaXMkcHJvcHMyLnNvcnRGaWVsZCwKICAgICAgICAgIGlzU29ydEFzY2VuZGluZyA9IF90aGlzJHByb3BzMi5pc1NvcnRBc2NlbmRpbmc7CiAgICAgIHJldHVybiBDT0xVTU5TLm1hcChmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgbmFtZSA9IF9yZWY2Lm5hbWUsCiAgICAgICAgICAgIGZpZWxkTmFtZSA9IF9yZWY2LmZpZWxkTmFtZSwKICAgICAgICAgICAgaXNTb3J0YWJsZSA9IF9yZWY2LmlzU29ydGFibGU7CiAgICAgICAgdmFyIGlzU29ydGVkID0gc29ydEZpZWxkID09PSBmaWVsZE5hbWU7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZUhlYWRlckNlbGwsIHsKICAgICAgICAgIGtleTogbmFtZSwKICAgICAgICAgIG9uU29ydDogaXNTb3J0YWJsZSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vblNvcnQoZmllbGROYW1lKTsKICAgICAgICAgIH0gOiB1bmRlZmluZWQsCiAgICAgICAgICBpc1NvcnRlZDogaXNTb3J0ZWQsCiAgICAgICAgICBpc1NvcnRBc2NlbmRpbmc6IGlzU29ydEFzY2VuZGluZywKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJqb2JUYWJsZUhlYWRlckNlbGwtIi5jb25jYXQoZmllbGROYW1lKQogICAgICAgIH0sIG5hbWUpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidWlsZFJvd0NlbGxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFJvd0NlbGxzKGpvYikgewogICAgICB2YXIgb3BlbkRldGFpbFBhbmVsID0gdGhpcy5wcm9wcy5vcGVuRGV0YWlsUGFuZWw7CiAgICAgIHJldHVybiBDT0xVTU5TLm1hcChmdW5jdGlvbiAoX3JlZjcpIHsKICAgICAgICB2YXIgbmFtZSA9IF9yZWY3Lm5hbWUsCiAgICAgICAgICAgIGZpZWxkTmFtZSA9IF9yZWY3LmZpZWxkTmFtZSwKICAgICAgICAgICAgcmVuZGVyID0gX3JlZjcucmVuZGVyLAogICAgICAgICAgICB0cnVuY2F0ZVRleHQgPSBfcmVmNy50cnVuY2F0ZVRleHQ7CiAgICAgICAgdmFyIHZhbHVlID0gcmVuZGVyID8gcmVuZGVyKGpvYikgOiBqb2JbZmllbGROYW1lXTsKICAgICAgICB2YXIgY29udGVudDsKCiAgICAgICAgaWYgKGZpZWxkTmFtZSA9PT0gJ2lkJykgewogICAgICAgICAgY29udGVudCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgKDAsIF9zZXJ2aWNlcy50cmFja1VpTWV0cmljKShfc2VydmljZXMuTUVUUklDX1RZUEUuQ0xJQ0ssIF9jb21tb24uVUlNX1NIT1dfREVUQUlMU19DTElDSyk7CiAgICAgICAgICAgICAgb3BlbkRldGFpbFBhbmVsKGpvYi5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29udGVudCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCB2YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlUm93Q2VsbCwgewogICAgICAgICAga2V5OiAiIi5jb25jYXQoam9iLmlkLCAiLSIpLmNvbmNhdChuYW1lKSwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJqb2JUYWJsZUNlbGwtIi5jb25jYXQoZmllbGROYW1lKSwKICAgICAgICAgIHRydW5jYXRlVGV4dDogdHJ1bmNhdGVUZXh0CiAgICAgICAgfSwgdHJ1bmNhdGVUZXh0ID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRvb2xUaXAsIHsKICAgICAgICAgIGFuY2hvckNsYXNzTmFtZTogImV1aS10ZXh0VHJ1bmNhdGUiLAogICAgICAgICAgY29udGVudDogdmFsdWUKICAgICAgICB9LCBjb250ZW50KSA6IGNvbnRlbnQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidWlsZFJvd3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkUm93cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgam9icyA9IHRoaXMucHJvcHMuam9iczsKICAgICAgcmV0dXJuIGpvYnMubWFwKGZ1bmN0aW9uIChqb2IpIHsKICAgICAgICB2YXIgaWQgPSBqb2IuaWQ7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZVJvdywgewogICAgICAgICAga2V5OiAiIi5jb25jYXQoaWQsICItcm93IiksCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiam9iVGFibGVSb3ciCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlUm93Q2VsbENoZWNrYm94LCB7CiAgICAgICAgICBrZXk6ICJjaGVja2JveC0iLmNvbmNhdChpZCkKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2hlY2tib3gsIHsKICAgICAgICAgIHR5cGU6ICJpbkxpc3QiLAogICAgICAgICAgaWQ6ICJjaGVja2JveFNlbGVjdEluZGV4LSIuY29uY2F0KGlkKSwKICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMy5pc0l0ZW1TZWxlY3RlZChpZCksCiAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgICAgICAgIF90aGlzMy50b2dnbGVJdGVtKGlkKTsKICAgICAgICAgIH0sCiAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiaW5kZXhUYWJsZVJvd0NoZWNrYm94LSIuY29uY2F0KGlkKQogICAgICAgIH0pKSwgX3RoaXMzLmJ1aWxkUm93Q2VsbHMoam9iKSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlclBhZ2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQYWdlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBwYWdlciA9IF90aGlzJHByb3BzMy5wYWdlciwKICAgICAgICAgIHBhZ2VDaGFuZ2VkID0gX3RoaXMkcHJvcHMzLnBhZ2VDaGFuZ2VkLAogICAgICAgICAgcGFnZVNpemVDaGFuZ2VkID0gX3RoaXMkcHJvcHMzLnBhZ2VTaXplQ2hhbmdlZDsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUYWJsZVBhZ2luYXRpb24sIHsKICAgICAgICBhY3RpdmVQYWdlOiBwYWdlci5nZXRDdXJyZW50UGFnZUluZGV4KCksCiAgICAgICAgaXRlbXNQZXJQYWdlOiBwYWdlci5pdGVtc1BlclBhZ2UsCiAgICAgICAgaXRlbXNQZXJQYWdlT3B0aW9uczogWzIwLCA1MCwgMTAwXSwKICAgICAgICBwYWdlQ291bnQ6IHBhZ2VyLmdldFRvdGFsUGFnZXMoKSwKICAgICAgICBvbkNoYW5nZUl0ZW1zUGVyUGFnZTogcGFnZVNpemVDaGFuZ2VkLAogICAgICAgIG9uQ2hhbmdlUGFnZTogcGFnZUNoYW5nZWQKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLAogICAgICAgICAgZmlsdGVyQ2hhbmdlZCA9IF90aGlzJHByb3BzNC5maWx0ZXJDaGFuZ2VkLAogICAgICAgICAgZmlsdGVyID0gX3RoaXMkcHJvcHM0LmZpbHRlciwKICAgICAgICAgIGpvYnMgPSBfdGhpcyRwcm9wczQuam9icywKICAgICAgICAgIGNsb3NlRGV0YWlsUGFuZWwgPSBfdGhpcyRwcm9wczQuY2xvc2VEZXRhaWxQYW5lbDsKICAgICAgdmFyIGlkVG9TZWxlY3RlZEpvYk1hcCA9IHRoaXMuc3RhdGUuaWRUb1NlbGVjdGVkSm9iTWFwOwogICAgICB2YXIgYXRMZWFzdE9uZUl0ZW1TZWxlY3RlZCA9IE9iamVjdC5rZXlzKGlkVG9TZWxlY3RlZEpvYk1hcCkubGVuZ3RoID4gMDsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgZ3V0dGVyU2l6ZTogImwiLAogICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgICAgIH0sIGF0TGVhc3RPbmVJdGVtU2VsZWN0ZWQgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzLkpvYkFjdGlvbk1lbnUsIHsKICAgICAgICBqb2JzOiB0aGlzLmdldFNlbGVjdGVkSm9icygpLAogICAgICAgIGNsb3NlRGV0YWlsUGFuZWw6IGNsb3NlRGV0YWlsUGFuZWwsCiAgICAgICAgcmVzZXRTZWxlY3Rpb246IHRoaXMucmVzZXRTZWxlY3Rpb24sCiAgICAgICAgZGVzZWxlY3RKb2JzOiB0aGlzLmRlc2VsZWN0SXRlbXMKICAgICAgfSkpIDogbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRTZWFyY2gsIHsKICAgICAgICBmdWxsV2lkdGg6IHRydWUsCiAgICAgICAgdmFsdWU6IGZpbHRlciwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIGZpbHRlckNoYW5nZWQoZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgICB9LAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJqb2JUYWJsZUZpbHRlcklucHV0IiwKICAgICAgICBwbGFjZWhvbGRlcjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnJvbGx1cEpvYnMuam9iVGFibGUuc2VhcmNoSW5wdXRQbGFjZWhvbGRlcicsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VhcmNoJwogICAgICAgIH0pLAogICAgICAgICJhcmlhLWxhYmVsIjogIlNlYXJjaCBqb2JzIgogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCBqb2JzLmxlbmd0aCA+IDAgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGUsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAicm9sbHVwSm9ic0xpc3RUYWJsZSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYmxlSGVhZGVyLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGVIZWFkZXJDZWxsQ2hlY2tib3gsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDaGVja2JveCwgewogICAgICAgIGlkOiAic2VsZWN0QWxsSm9ic0NoZWNrYm94IiwKICAgICAgICBjaGVja2VkOiB0aGlzLmFyZUFsbEl0ZW1zU2VsZWN0ZWQoKSwKICAgICAgICBvbkNoYW5nZTogdGhpcy50b2dnbGVBbGwsCiAgICAgICAgdHlwZTogImluTGlzdCIKICAgICAgfSkpLCB0aGlzLmJ1aWxkSGVhZGVyKCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFibGVCb2R5LCBudWxsLCB0aGlzLmJ1aWxkUm93cygpKSkgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5yb2xsdXBKb2JzLmpvYlRhYmxlLm5vSm9ic01hdGNoU2VhcmNoTWVzc2FnZSIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJObyByb2xsdXAgam9icyBtYXRjaCB5b3VyIHNlYXJjaCIKICAgICAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSwgam9icy5sZW5ndGggPiAwID8gdGhpcy5yZW5kZXJQYWdlcigpIDogbnVsbCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSm9iVGFibGU7Cn0oX3JlYWN0LkNvbXBvbmVudCk7CgpleHBvcnRzLkpvYlRhYmxlID0gSm9iVGFibGU7CgpfZGVmaW5lUHJvcGVydHkoSm9iVGFibGUsICJwcm9wVHlwZXMiLCB7CiAgam9iczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5LAogIHBhZ2VyOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsCiAgZmlsdGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsCiAgc29ydEZpZWxkOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsCiAgaXNTb3J0QXNjZW5kaW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLAogIG9wZW5EZXRhaWxQYW5lbDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBjbG9zZURldGFpbFBhbmVsOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIGZpbHRlckNoYW5nZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgcGFnZUNoYW5nZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgcGFnZVNpemVDaGFuZ2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIHNvcnRDaGFuZ2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkCn0pOwoKX2RlZmluZVByb3BlcnR5KEpvYlRhYmxlLCAiZGVmYXVsdFByb3BzIiwgewogIGpvYnM6IFtdCn0pOw=="},null]}