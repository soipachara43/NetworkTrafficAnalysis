{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/lib/connectors/servicenow.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/lib/connectors/servicenow.js","mtime":1589249553248},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldEFjdGlvblR5cGUgPSBnZXRBY3Rpb25UeXBlOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfZnAgPSByZXF1aXJlKCJsb2Rhc2gvZnAiKTsKCnZhciBfZmllbGRfbWFwcGluZyA9IHJlcXVpcmUoIi4uLy4uL3BhZ2VzL2Nhc2UvY29tcG9uZW50cy9jb25maWd1cmVfY2FzZXMvZmllbGRfbWFwcGluZyIpOwoKdmFyIGkxOG4gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCIuL3RyYW5zbGF0aW9ucyIpKTsKCnZhciBfdmFsaWRhdG9ycyA9IHJlcXVpcmUoIi4vdmFsaWRhdG9ycyIpOwoKdmFyIF9jb25maWcgPSByZXF1aXJlKCIuL2NvbmZpZyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9Cgp2YXIgc2VydmljZU5vd0RlZmluaXRpb24gPSBfY29uZmlnLmNvbm5lY3RvcnNbJy5zZXJ2aWNlbm93J107CgpmdW5jdGlvbiBnZXRBY3Rpb25UeXBlKCkgewogIHJldHVybiB7CiAgICBpZDogc2VydmljZU5vd0RlZmluaXRpb24uYWN0aW9uVHlwZUlkLAogICAgaWNvbkNsYXNzOiBzZXJ2aWNlTm93RGVmaW5pdGlvbi5sb2dvLAogICAgc2VsZWN0TWVzc2FnZTogaTE4bi5TRVJWSUNFTk9XX0RFU0MsCiAgICBhY3Rpb25UeXBlVGl0bGU6IGkxOG4uU0VSVklDRU5PV19USVRMRSwKICAgIHZhbGlkYXRlQ29ubmVjdG9yOiBmdW5jdGlvbiB2YWxpZGF0ZUNvbm5lY3RvcihhY3Rpb24pIHsKICAgICAgdmFyIGVycm9ycyA9IHsKICAgICAgICBhcGlVcmw6IFtdLAogICAgICAgIHVzZXJuYW1lOiBbXSwKICAgICAgICBwYXNzd29yZDogW10KICAgICAgfTsKCiAgICAgIGlmICghYWN0aW9uLmNvbmZpZy5hcGlVcmwpIHsKICAgICAgICBlcnJvcnMuYXBpVXJsID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShlcnJvcnMuYXBpVXJsKSwgW2kxOG4uU0VSVklDRU5PV19BUElfVVJMX1JFUVVJUkVEXSk7CiAgICAgIH0KCiAgICAgIGlmICgoMCwgX3ZhbGlkYXRvcnMuaXNVcmxJbnZhbGlkKShhY3Rpb24uY29uZmlnLmFwaVVybCkpIHsKICAgICAgICBlcnJvcnMuYXBpVXJsID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShlcnJvcnMuYXBpVXJsKSwgW2kxOG4uU0VSVklDRU5PV19BUElfVVJMX0lOVkFMSURdKTsKICAgICAgfQoKICAgICAgaWYgKCFhY3Rpb24uc2VjcmV0cy51c2VybmFtZSkgewogICAgICAgIGVycm9ycy51c2VybmFtZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZXJyb3JzLnVzZXJuYW1lKSwgW2kxOG4uU0VSVklDRU5PV19VU0VSTkFNRV9SRVFVSVJFRF0pOwogICAgICB9CgogICAgICBpZiAoIWFjdGlvbi5zZWNyZXRzLnBhc3N3b3JkKSB7CiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShlcnJvcnMucGFzc3dvcmQpLCBbaTE4bi5TRVJWSUNFTk9XX1BBU1NXT1JEX1JFUVVJUkVEXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZXJyb3JzOiBlcnJvcnMKICAgICAgfTsKICAgIH0sCiAgICB2YWxpZGF0ZVBhcmFtczogZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMoYWN0aW9uUGFyYW1zKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXJyb3JzOiB7fQogICAgICB9OwogICAgfSwKICAgIGFjdGlvbkNvbm5lY3RvckZpZWxkczogU2VydmljZU5vd0Nvbm5lY3RvckZpZWxkcywKICAgIGFjdGlvblBhcmFtc0ZpZWxkczogU2VydmljZU5vd1BhcmFtc0ZpZWxkcwogIH07Cn0KCnZhciBTZXJ2aWNlTm93Q29ubmVjdG9yRmllbGRzID0gZnVuY3Rpb24gU2VydmljZU5vd0Nvbm5lY3RvckZpZWxkcyhfcmVmKSB7CiAgdmFyIGFjdGlvbiA9IF9yZWYuYWN0aW9uLAogICAgICBlZGl0QWN0aW9uQ29uZmlnID0gX3JlZi5lZGl0QWN0aW9uQ29uZmlnLAogICAgICBlZGl0QWN0aW9uU2VjcmV0cyA9IF9yZWYuZWRpdEFjdGlvblNlY3JldHMsCiAgICAgIGVycm9ycyA9IF9yZWYuZXJyb3JzOwogIC8qIFdlIGRvIG5vdCBwcm92aWRlIGRlZmF1bHRzIHZhbHVlcyB0byB0aGUgZmllbGRzIChsaWtlIGVtcHR5IHN0cmluZyBmb3IgYXBpVXJsKSBpbnRlbnRpb25hbGx5LgogICAqIElmIHdlIGRvLCBlcnJvcnMgd2lsbCBiZSBzaG93biB0aGUgZmlyc3QgdGltZSB0aGUgZmx5b3V0IGlzIG9wZW4gZXZlbiB0aG91Z2ggdGhlIHVzZXIgZGlkIG5vdAogICAqIGludGVyYWN0IHdpdGggdGhlIGZvcm0uIEFsc28sIHdlIHdvdWxkIGxpa2UgdG8gc2hvdyBlcnJvcnMgZm9yIGVtcHR5IGZpZWxkcyBwcm92aWRlZCBieSB0aGUgdXNlci4KICAvKi8KCiAgdmFyIF9hY3Rpb24kY29uZmlnID0gYWN0aW9uLmNvbmZpZywKICAgICAgYXBpVXJsID0gX2FjdGlvbiRjb25maWcuYXBpVXJsLAogICAgICBfYWN0aW9uJGNvbmZpZyRjYXNlc0MgPSBfYWN0aW9uJGNvbmZpZy5jYXNlc0NvbmZpZ3VyYXRpb247CiAgX2FjdGlvbiRjb25maWckY2FzZXNDID0gX2FjdGlvbiRjb25maWckY2FzZXNDID09PSB2b2lkIDAgPyB7fSA6IF9hY3Rpb24kY29uZmlnJGNhc2VzQzsKICB2YXIgX2FjdGlvbiRjb25maWckY2FzZXNDMiA9IF9hY3Rpb24kY29uZmlnJGNhc2VzQy5tYXBwaW5nLAogICAgICBtYXBwaW5nID0gX2FjdGlvbiRjb25maWckY2FzZXNDMiA9PT0gdm9pZCAwID8gW10gOiBfYWN0aW9uJGNvbmZpZyRjYXNlc0MyOwogIHZhciBfYWN0aW9uJHNlY3JldHMgPSBhY3Rpb24uc2VjcmV0cywKICAgICAgdXNlcm5hbWUgPSBfYWN0aW9uJHNlY3JldHMudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkID0gX2FjdGlvbiRzZWNyZXRzLnBhc3N3b3JkOwogIHZhciBpc0FwaVVybEludmFsaWQgPSBlcnJvcnMuYXBpVXJsLmxlbmd0aCA+IDAgJiYgYXBpVXJsICE9IG51bGw7CiAgdmFyIGlzVXNlcm5hbWVJbnZhbGlkID0gZXJyb3JzLnVzZXJuYW1lLmxlbmd0aCA+IDAgJiYgdXNlcm5hbWUgIT0gbnVsbDsKICB2YXIgaXNQYXNzd29yZEludmFsaWQgPSBlcnJvcnMucGFzc3dvcmQubGVuZ3RoID4gMCAmJiBwYXNzd29yZCAhPSBudWxsOwogIC8qKgogICAqIFdlIG5lZWQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgYWRkIGZseW91dCBhbmQgdGhlIGVkaXQgZmx5b3V0LgogICAqIHVzZUVmZmVjdCB3aWxsIHJ1biBvbmx5IG9uY2Ugb24gY29tcG9uZW50IG1vdW50LgogICAqIFRoaXMgZ3VhcmFudGVlcyB0aGF0IHRoZSBmdW5jdGlvbiBiZWxvdyB3aWxsIHJ1biBvbmx5IG9uY2UuCiAgICogT24gdGhlIGZpcnN0IHJlbmRlciBvZiB0aGUgY29tcG9uZW50IHRoZSBhcGlVcmwgY2FuIGJlIGVpdGhlciB1bmRlZmluZWQgb3IgZmlsbGVkLgogICAqIElmIGl0IGlzIGZpbGxlZCB0aGVuIHdlIGFyZSBvbiB0aGUgZWRpdCBmbHlvdXQuIE90aGVyd2lzZSB3ZSBhcmUgb24gdGhlIGFkZCBmbHlvdXQuCiAgICovCgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoISgwLCBfZnAuaXNFbXB0eSkoYXBpVXJsKSkgewogICAgICBlZGl0QWN0aW9uU2VjcmV0cygndXNlcm5hbWUnLCAnJyk7CiAgICAgIGVkaXRBY3Rpb25TZWNyZXRzKCdwYXNzd29yZCcsICcnKTsKICAgIH0KICB9LCBbXSk7CgogIGlmICgoMCwgX2ZwLmlzRW1wdHkpKG1hcHBpbmcpKSB7CiAgICBlZGl0QWN0aW9uQ29uZmlnKCdjYXNlc0NvbmZpZ3VyYXRpb24nLCBfb2JqZWN0U3ByZWFkKHt9LCBhY3Rpb24uY29uZmlnLmNhc2VzQ29uZmlndXJhdGlvbiwgewogICAgICBtYXBwaW5nOiBfY29uZmlnLmRlZmF1bHRNYXBwaW5nCiAgICB9KSk7CiAgfQoKICB2YXIgaGFuZGxlT25DaGFuZ2VBY3Rpb25Db25maWcgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoa2V5LCBldnQpIHsKICAgIHJldHVybiBlZGl0QWN0aW9uQ29uZmlnKGtleSwgZXZ0LnRhcmdldC52YWx1ZSk7CiAgfSwgW10pOwogIHZhciBoYW5kbGVPbkJsdXJBY3Rpb25Db25maWcgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoa2V5KSB7CiAgICBpZiAoa2V5ID09PSAnYXBpVXJsJyAmJiBhY3Rpb24uY29uZmlnW2tleV0gPT0gbnVsbCkgewogICAgICBlZGl0QWN0aW9uQ29uZmlnKGtleSwgJycpOwogICAgfQogIH0sIFthY3Rpb24uY29uZmlnXSk7CiAgdmFyIGhhbmRsZU9uQ2hhbmdlU2VjcmV0Q29uZmlnID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKGtleSwgZXZ0KSB7CiAgICByZXR1cm4gZWRpdEFjdGlvblNlY3JldHMoa2V5LCBldnQudGFyZ2V0LnZhbHVlKTsKICB9LCBbXSk7CiAgdmFyIGhhbmRsZU9uQmx1clNlY3JldENvbmZpZyA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChrZXkpIHsKICAgIGlmIChbJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJ10uaW5jbHVkZXMoa2V5KSAmJiAoMCwgX2ZwLmdldCkoa2V5LCBhY3Rpb24uc2VjcmV0cykgPT0gbnVsbCkgewogICAgICBlZGl0QWN0aW9uU2VjcmV0cyhrZXksICcnKTsKICAgIH0KICB9LCBbYWN0aW9uLnNlY3JldHNdKTsKICB2YXIgaGFuZGxlT25DaGFuZ2VNYXBwaW5nQ29uZmlnID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKG5ld01hcHBpbmcpIHsKICAgIHJldHVybiBlZGl0QWN0aW9uQ29uZmlnKCdjYXNlc0NvbmZpZ3VyYXRpb24nLCBfb2JqZWN0U3ByZWFkKHt9LCBhY3Rpb24uY29uZmlnLmNhc2VzQ29uZmlndXJhdGlvbiwgewogICAgICBtYXBwaW5nOiBuZXdNYXBwaW5nCiAgICB9KSk7CiAgfSwgW2FjdGlvbi5jb25maWddKTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgaWQ6ICJhcGlVcmwiLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZXJyb3I6IGVycm9ycy5hcGlVcmwsCiAgICBpc0ludmFsaWQ6IGlzQXBpVXJsSW52YWxpZCwKICAgIGxhYmVsOiBpMThuLlNFUlZJQ0VOT1dfQVBJX1VSTF9MQUJFTAogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFRleHQsIHsKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIGlzSW52YWxpZDogaXNBcGlVcmxJbnZhbGlkLAogICAgbmFtZTogImFwaVVybCIsCiAgICB2YWx1ZTogYXBpVXJsIHx8ICcnIC8vIE5lZWRlZCB0byBwcmV2ZW50IHVuY29udHJvbGxlZCBpbnB1dCBlcnJvciB3aGVuIHZhbHVlIGlzIHVuZGVmaW5lZAogICAgLAogICAgImRhdGEtdGVzdC1zdWJqIjogImFwaVVybEZyb21JbnB1dCIsCiAgICBwbGFjZWhvbGRlcjogImh0dHBzOi8vPGluc3RhbmNlPi5zZXJ2aWNlLW5vdy5jb20iLAogICAgb25DaGFuZ2U6IGhhbmRsZU9uQ2hhbmdlQWN0aW9uQ29uZmlnLmJpbmQobnVsbCwgJ2FwaVVybCcpLAogICAgb25CbHVyOiBoYW5kbGVPbkJsdXJBY3Rpb25Db25maWcuYmluZChudWxsLCAnYXBpVXJsJykKICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgIGlkOiAiY29ubmVjdG9yLXNlcnZpY2Vub3ctdXNlcm5hbWUiLAogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgZXJyb3I6IGVycm9ycy51c2VybmFtZSwKICAgIGlzSW52YWxpZDogaXNVc2VybmFtZUludmFsaWQsCiAgICBsYWJlbDogaTE4bi5TRVJWSUNFTk9XX1VTRVJOQU1FX0xBQkVMCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgZnVsbFdpZHRoOiB0cnVlLAogICAgaXNJbnZhbGlkOiBpc1VzZXJuYW1lSW52YWxpZCwKICAgIG5hbWU6ICJjb25uZWN0b3Itc2VydmljZW5vdy11c2VybmFtZSIsCiAgICB2YWx1ZTogdXNlcm5hbWUgfHwgJycgLy8gTmVlZGVkIHRvIHByZXZlbnQgdW5jb250cm9sbGVkIGlucHV0IGVycm9yIHdoZW4gdmFsdWUgaXMgdW5kZWZpbmVkCiAgICAsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAidXNlcm5hbWVGcm9tSW5wdXQiLAogICAgb25DaGFuZ2U6IGhhbmRsZU9uQ2hhbmdlU2VjcmV0Q29uZmlnLmJpbmQobnVsbCwgJ3VzZXJuYW1lJyksCiAgICBvbkJsdXI6IGhhbmRsZU9uQmx1clNlY3JldENvbmZpZy5iaW5kKG51bGwsICd1c2VybmFtZScpCiAgfSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgIHNpemU6ICJtIgogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBpZDogImNvbm5lY3Rvci1zZXJ2aWNlbm93LXBhc3N3b3JkIiwKICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgIGVycm9yOiBlcnJvcnMucGFzc3dvcmQsCiAgICBpc0ludmFsaWQ6IGlzUGFzc3dvcmRJbnZhbGlkLAogICAgbGFiZWw6IGkxOG4uU0VSVklDRU5PV19QQVNTV09SRF9MQUJFTAogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFBhc3N3b3JkLCB7CiAgICBmdWxsV2lkdGg6IHRydWUsCiAgICBpc0ludmFsaWQ6IGlzUGFzc3dvcmRJbnZhbGlkLAogICAgbmFtZTogImNvbm5lY3Rvci1zZXJ2aWNlbm93LXBhc3N3b3JkIiwKICAgIHZhbHVlOiBwYXNzd29yZCB8fCAnJyAvLyBOZWVkZWQgdG8gcHJldmVudCB1bmNvbnRyb2xsZWQgaW5wdXQgZXJyb3Igd2hlbiB2YWx1ZSBpcyB1bmRlZmluZWQKICAgICwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJwYXNzd29yZEZyb21JbnB1dCIsCiAgICBvbkNoYW5nZTogaGFuZGxlT25DaGFuZ2VTZWNyZXRDb25maWcuYmluZChudWxsLCAncGFzc3dvcmQnKSwKICAgIG9uQmx1cjogaGFuZGxlT25CbHVyU2VjcmV0Q29uZmlnLmJpbmQobnVsbCwgJ3Bhc3N3b3JkJykKICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogImwiCiAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZmllbGRfbWFwcGluZy5GaWVsZE1hcHBpbmcsIHsKICAgIGRpc2FibGVkOiB0cnVlLAogICAgbWFwcGluZzogbWFwcGluZywKICAgIG9uQ2hhbmdlTWFwcGluZzogaGFuZGxlT25DaGFuZ2VNYXBwaW5nQ29uZmlnCiAgfSkpKSk7Cn07Cgp2YXIgU2VydmljZU5vd1BhcmFtc0ZpZWxkcyA9IGZ1bmN0aW9uIFNlcnZpY2VOb3dQYXJhbXNGaWVsZHMoX3JlZjIpIHsKICB2YXIgYWN0aW9uUGFyYW1zID0gX3JlZjIuYWN0aW9uUGFyYW1zLAogICAgICBlZGl0QWN0aW9uID0gX3JlZjIuZWRpdEFjdGlvbiwKICAgICAgaW5kZXggPSBfcmVmMi5pbmRleCwKICAgICAgZXJyb3JzID0gX3JlZjIuZXJyb3JzOwogIHJldHVybiBudWxsOwp9Ow=="},null]}