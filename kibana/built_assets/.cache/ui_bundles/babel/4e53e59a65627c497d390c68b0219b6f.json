{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/links/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/links/index.js","mtime":1589249553008},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLldob0lzTGluayA9IGV4cG9ydHMuUmVwdXRhdGlvbkxpbmsgPSBleHBvcnRzLkNvbW1hID0gZXhwb3J0cy5DZXJ0aWZpY2F0ZUZpbmdlcnByaW50TGluayA9IGV4cG9ydHMuSmEzRmluZ2VycHJpbnRMaW5rID0gZXhwb3J0cy5Qb3J0T3JTZXJ2aWNlTmFtZUxpbmsgPSBleHBvcnRzLkdvb2dsZUxpbmsgPSBleHBvcnRzLkNyZWF0ZUNhc2VMaW5rID0gZXhwb3J0cy5DYXNlRGV0YWlsc0xpbmsgPSBleHBvcnRzLklQRGV0YWlsc0xpbmsgPSBleHBvcnRzLkhvc3REZXRhaWxzTGluayA9IGV4cG9ydHMuRXh0ZXJuYWxMaW5rID0gZXhwb3J0cy5ERUZBVUxUX05VTUJFUl9PRl9MSU5LID0gdm9pZCAwOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfZnAgPSByZXF1aXJlKCJsb2Rhc2gvZnAiKTsKCnZhciBfc3R5bGVkQ29tcG9uZW50cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgic3R5bGVkLWNvbXBvbmVudHMiKSk7Cgp2YXIgX2ZpZWxkX3JlbmRlcmVycyA9IHJlcXVpcmUoIi4uL2ZpZWxkX3JlbmRlcmVycy9maWVsZF9yZW5kZXJlcnMiKTsKCnZhciBfaGVscGVycyA9IHJlcXVpcmUoIi4uLy4uL2xpYi9oZWxwZXJzIik7Cgp2YXIgX2xpbmtfdG8gPSByZXF1aXJlKCIuLi9saW5rX3RvIik7Cgp2YXIgX3R5cGVzID0gcmVxdWlyZSgiLi4vLi4vZ3JhcGhxbC90eXBlcyIpOwoKdmFyIF9raWJhbmEgPSByZXF1aXJlKCIuLi8uLi9saWIva2liYW5hIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMiKTsKCnZhciBfaGVscGVyczIgPSByZXF1aXJlKCIuLi8uLi9wYWdlcy9kZXRlY3Rpb25fZW5naW5lL3J1bGVzL2NvbXBvbmVudHMvc3RlcF9hYm91dF9ydWxlL2hlbHBlcnMiKTsKCnZhciBfZXh0ZXJuYWxfbGlua19pY29uID0gcmVxdWlyZSgiLi4vZXh0ZXJuYWxfbGlua19pY29uIik7Cgp2YXIgX2hvbWVfbmF2aWdhdGlvbnMgPSByZXF1aXJlKCIuLi8uLi9wYWdlcy9ob21lL2hvbWVfbmF2aWdhdGlvbnMiKTsKCnZhciBfdXNlX2dldF91cmxfc2VhcmNoID0gcmVxdWlyZSgiLi4vbmF2aWdhdGlvbi91c2VfZ2V0X3VybF9zZWFyY2giKTsKCnZhciBpMThuID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi90cmFuc2xhdGlvbnMiKSk7Cgp2YXIgX2RlZmF1bHROYW1lTWFwcGluZzsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBERUZBVUxUX05VTUJFUl9PRl9MSU5LID0gNTsgLy8gSW50ZXJuYWwgTGlua3MKCmV4cG9ydHMuREVGQVVMVF9OVU1CRVJfT0ZfTElOSyA9IERFRkFVTFRfTlVNQkVSX09GX0xJTks7Cgp2YXIgSG9zdERldGFpbHNMaW5rQ29tcG9uZW50ID0gZnVuY3Rpb24gSG9zdERldGFpbHNMaW5rQ29tcG9uZW50KF9yZWYpIHsKICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLAogICAgICBob3N0TmFtZSA9IF9yZWYuaG9zdE5hbWU7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaW5rLCB7CiAgICBocmVmOiAoMCwgX2xpbmtfdG8uZ2V0SG9zdERldGFpbHNVcmwpKGVuY29kZVVSSUNvbXBvbmVudChob3N0TmFtZSkpCiAgfSwgY2hpbGRyZW4gPyBjaGlsZHJlbiA6IGhvc3ROYW1lKTsKfTsKCnZhciB3aGl0ZWxpc3RVcmxTY2hlbWVzID0gWydodHRwOi8vJywgJ2h0dHBzOi8vJ107Cgp2YXIgRXh0ZXJuYWxMaW5rID0gX3JlYWN0LmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZjIpIHsKICB2YXIgdXJsID0gX3JlZjIudXJsLAogICAgICBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuLAogICAgICBpZHggPSBfcmVmMi5pZHgsCiAgICAgIF9yZWYyJG92ZXJmbG93SW5kZXhTdCA9IF9yZWYyLm92ZXJmbG93SW5kZXhTdGFydCwKICAgICAgb3ZlcmZsb3dJbmRleFN0YXJ0ID0gX3JlZjIkb3ZlcmZsb3dJbmRleFN0ID09PSB2b2lkIDAgPyBERUZBVUxUX05VTUJFUl9PRl9MSU5LIDogX3JlZjIkb3ZlcmZsb3dJbmRleFN0LAogICAgICBfcmVmMiRhbGxJdGVtc0xpbWl0ID0gX3JlZjIuYWxsSXRlbXNMaW1pdCwKICAgICAgYWxsSXRlbXNMaW1pdCA9IF9yZWYyJGFsbEl0ZW1zTGltaXQgPT09IHZvaWQgMCA/IERFRkFVTFRfTlVNQkVSX09GX0xJTksgOiBfcmVmMiRhbGxJdGVtc0xpbWl0OwogIHZhciBsYXN0VmlzaWJsZUl0ZW1JbmRleCA9IG92ZXJmbG93SW5kZXhTdGFydCAtIDE7CiAgdmFyIGxhc3RJdGVtSW5kZXggPSBhbGxJdGVtc0xpbWl0IC0gMTsKICB2YXIgbGFzdEluZGV4VG9TaG93ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGFzdFZpc2libGVJdGVtSW5kZXgsIGxhc3RJdGVtSW5kZXgpKTsKICB2YXIgaW5XaGl0ZWxpc3QgPSB3aGl0ZWxpc3RVcmxTY2hlbWVzLnNvbWUoZnVuY3Rpb24gKHNjaGVtZSkgewogICAgcmV0dXJuIHVybC5pbmRleE9mKHNjaGVtZSkgPT09IDA7CiAgfSk7CiAgcmV0dXJuIHVybCAmJiBpbldoaXRlbGlzdCAmJiAhKDAsIF9oZWxwZXJzMi5pc1VybEludmFsaWQpKHVybCkgJiYgY2hpbGRyZW4gPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgY29udGVudDogdXJsLAogICAgcG9zaXRpb246ICJ0b3AiLAogICAgImRhdGEtdGVzdC1zdWJqIjogImV4dGVybmFsTGlua1Rvb2x0aXAiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgIGhyZWY6IHVybCwKICAgIHRhcmdldDogIl9ibGFuayIsCiAgICByZWw6ICJub29wZW5lciIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXh0ZXJuYWxMaW5rIgogIH0sIGNoaWxkcmVuLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9leHRlcm5hbF9saW5rX2ljb24uRXh0ZXJuYWxMaW5rSWNvbiwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImV4dGVybmFsTGlua0ljb24iCiAgfSksICEoMCwgX2ZwLmlzTmlsKShpZHgpICYmIGlkeCA8IGxhc3RJbmRleFRvU2hvdyAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbW1hLCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXh0ZXJuYWxMaW5rQ29tbWEiCiAgfSkpKSA6IG51bGw7Cn0pOwoKZXhwb3J0cy5FeHRlcm5hbExpbmsgPSBFeHRlcm5hbExpbms7CkV4dGVybmFsTGluay5kaXNwbGF5TmFtZSA9ICdFeHRlcm5hbExpbmsnOwoKdmFyIEhvc3REZXRhaWxzTGluayA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oSG9zdERldGFpbHNMaW5rQ29tcG9uZW50KTsKCmV4cG9ydHMuSG9zdERldGFpbHNMaW5rID0gSG9zdERldGFpbHNMaW5rOwoKdmFyIElQRGV0YWlsc0xpbmtDb21wb25lbnQgPSBmdW5jdGlvbiBJUERldGFpbHNMaW5rQ29tcG9uZW50KF9yZWYzKSB7CiAgdmFyIGNoaWxkcmVuID0gX3JlZjMuY2hpbGRyZW4sCiAgICAgIGlwID0gX3JlZjMuaXAsCiAgICAgIF9yZWYzJGZsb3dUYXJnZXQgPSBfcmVmMy5mbG93VGFyZ2V0LAogICAgICBmbG93VGFyZ2V0ID0gX3JlZjMkZmxvd1RhcmdldCA9PT0gdm9pZCAwID8gX3R5cGVzLkZsb3dUYXJnZXQuc291cmNlIDogX3JlZjMkZmxvd1RhcmdldDsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgIGhyZWY6ICIiLmNvbmNhdCgoMCwgX2xpbmtfdG8uZ2V0SVBEZXRhaWxzVXJsKShlbmNvZGVVUklDb21wb25lbnQoKDAsIF9oZWxwZXJzLmVuY29kZUlwdjYpKGlwKSksIGZsb3dUYXJnZXQpKQogIH0sIGNoaWxkcmVuID8gY2hpbGRyZW4gOiBpcCk7Cn07Cgp2YXIgSVBEZXRhaWxzTGluayA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oSVBEZXRhaWxzTGlua0NvbXBvbmVudCk7CgpleHBvcnRzLklQRGV0YWlsc0xpbmsgPSBJUERldGFpbHNMaW5rOwoKdmFyIENhc2VEZXRhaWxzTGlua0NvbXBvbmVudCA9IGZ1bmN0aW9uIENhc2VEZXRhaWxzTGlua0NvbXBvbmVudChfcmVmNCkgewogIHZhciBjaGlsZHJlbiA9IF9yZWY0LmNoaWxkcmVuLAogICAgICBkZXRhaWxOYW1lID0gX3JlZjQuZGV0YWlsTmFtZSwKICAgICAgdGl0bGUgPSBfcmVmNC50aXRsZTsKICB2YXIgc2VhcmNoID0gKDAsIF91c2VfZ2V0X3VybF9zZWFyY2gudXNlR2V0VXJsU2VhcmNoKShfaG9tZV9uYXZpZ2F0aW9ucy5uYXZUYWJzLmNhc2UpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgaHJlZjogKDAsIF9saW5rX3RvLmdldENhc2VEZXRhaWxzVXJsKSh7CiAgICAgIGlkOiBkZXRhaWxOYW1lLAogICAgICBzZWFyY2g6IHNlYXJjaAogICAgfSksCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY2FzZS1kZXRhaWxzLWxpbmsiLAogICAgImFyaWEtbGFiZWwiOiBpMThuLkNBU0VfREVUQUlMU19MSU5LX0FSSUEodGl0bGUgIT09IG51bGwgJiYgdGl0bGUgIT09IHZvaWQgMCA/IHRpdGxlIDogZGV0YWlsTmFtZSkKICB9LCBjaGlsZHJlbiA/IGNoaWxkcmVuIDogZGV0YWlsTmFtZSk7Cn07Cgp2YXIgQ2FzZURldGFpbHNMaW5rID0gX3JlYWN0LmRlZmF1bHQubWVtbyhDYXNlRGV0YWlsc0xpbmtDb21wb25lbnQpOwoKZXhwb3J0cy5DYXNlRGV0YWlsc0xpbmsgPSBDYXNlRGV0YWlsc0xpbms7CkNhc2VEZXRhaWxzTGluay5kaXNwbGF5TmFtZSA9ICdDYXNlRGV0YWlsc0xpbmsnOwoKdmFyIENyZWF0ZUNhc2VMaW5rID0gX3JlYWN0LmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZjUpIHsKICB2YXIgY2hpbGRyZW4gPSBfcmVmNS5jaGlsZHJlbjsKICB2YXIgc2VhcmNoID0gKDAsIF91c2VfZ2V0X3VybF9zZWFyY2gudXNlR2V0VXJsU2VhcmNoKShfaG9tZV9uYXZpZ2F0aW9ucy5uYXZUYWJzLmNhc2UpOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgaHJlZjogKDAsIF9saW5rX3RvLmdldENyZWF0ZUNhc2VVcmwpKHNlYXJjaCkKICB9LCBjaGlsZHJlbik7Cn0pOwoKZXhwb3J0cy5DcmVhdGVDYXNlTGluayA9IENyZWF0ZUNhc2VMaW5rOwpDcmVhdGVDYXNlTGluay5kaXNwbGF5TmFtZSA9ICdDcmVhdGVDYXNlTGluayc7IC8vIEV4dGVybmFsIExpbmtzCgp2YXIgR29vZ2xlTGluayA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKF9yZWY2KSB7CiAgdmFyIGNoaWxkcmVuID0gX3JlZjYuY2hpbGRyZW4sCiAgICAgIGxpbmsgPSBfcmVmNi5saW5rOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV4dGVybmFsTGluaywgewogICAgdXJsOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobGluaykpCiAgfSwgY2hpbGRyZW4gPyBjaGlsZHJlbiA6IGxpbmspOwp9KTsKCmV4cG9ydHMuR29vZ2xlTGluayA9IEdvb2dsZUxpbms7Ckdvb2dsZUxpbmsuZGlzcGxheU5hbWUgPSAnR29vZ2xlTGluayc7Cgp2YXIgUG9ydE9yU2VydmljZU5hbWVMaW5rID0gX3JlYWN0LmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZjcpIHsKICB2YXIgY2hpbGRyZW4gPSBfcmVmNy5jaGlsZHJlbiwKICAgICAgcG9ydE9yU2VydmljZU5hbWUgPSBfcmVmNy5wb3J0T3JTZXJ2aWNlTmFtZTsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJwb3J0LW9yLXNlcnZpY2UtbmFtZS1saW5rIiwKICAgIGhyZWY6ICJodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9zZXJ2aWNlLW5hbWVzLXBvcnQtbnVtYmVycy9zZXJ2aWNlLW5hbWVzLXBvcnQtbnVtYmVycy54aHRtbD9zZWFyY2g9Ii5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhwb3J0T3JTZXJ2aWNlTmFtZSkpKSwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCBjaGlsZHJlbiA/IGNoaWxkcmVuIDogcG9ydE9yU2VydmljZU5hbWUpOwp9KTsKCmV4cG9ydHMuUG9ydE9yU2VydmljZU5hbWVMaW5rID0gUG9ydE9yU2VydmljZU5hbWVMaW5rOwpQb3J0T3JTZXJ2aWNlTmFtZUxpbmsuZGlzcGxheU5hbWUgPSAnUG9ydE9yU2VydmljZU5hbWVMaW5rJzsKCnZhciBKYTNGaW5nZXJwcmludExpbmsgPSBfcmVhY3QuZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIChfcmVmOCkgewogIHZhciBjaGlsZHJlbiA9IF9yZWY4LmNoaWxkcmVuLAogICAgICBqYTNGaW5nZXJwcmludCA9IF9yZWY4LmphM0ZpbmdlcnByaW50OwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTGluaywgewogICAgImRhdGEtdGVzdC1zdWJqIjogImphMy1maW5nZXJwcmludC1saW5rIiwKICAgIGhyZWY6ICJodHRwczovL3NzbGJsLmFidXNlLmNoL2phMy1maW5nZXJwcmludHMvIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGphM0ZpbmdlcnByaW50KSksCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgY2hpbGRyZW4gPyBjaGlsZHJlbiA6IGphM0ZpbmdlcnByaW50KTsKfSk7CgpleHBvcnRzLkphM0ZpbmdlcnByaW50TGluayA9IEphM0ZpbmdlcnByaW50TGluazsKSmEzRmluZ2VycHJpbnRMaW5rLmRpc3BsYXlOYW1lID0gJ0phM0ZpbmdlcnByaW50TGluayc7Cgp2YXIgQ2VydGlmaWNhdGVGaW5nZXJwcmludExpbmsgPSBfcmVhY3QuZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIChfcmVmOSkgewogIHZhciBjaGlsZHJlbiA9IF9yZWY5LmNoaWxkcmVuLAogICAgICBjZXJ0aWZpY2F0ZUZpbmdlcnByaW50ID0gX3JlZjkuY2VydGlmaWNhdGVGaW5nZXJwcmludDsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxpbmssIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjZXJ0aWZpY2F0ZS1maW5nZXJwcmludC1saW5rIiwKICAgIGhyZWY6ICJodHRwczovL3NzbGJsLmFidXNlLmNoL3NzbC1jZXJ0aWZpY2F0ZXMvc2hhMS8iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY2VydGlmaWNhdGVGaW5nZXJwcmludCkpLAogICAgdGFyZ2V0OiAiX2JsYW5rIgogIH0sIGNoaWxkcmVuID8gY2hpbGRyZW4gOiBjZXJ0aWZpY2F0ZUZpbmdlcnByaW50KTsKfSk7CgpleHBvcnRzLkNlcnRpZmljYXRlRmluZ2VycHJpbnRMaW5rID0gQ2VydGlmaWNhdGVGaW5nZXJwcmludExpbms7CkNlcnRpZmljYXRlRmluZ2VycHJpbnRMaW5rLmRpc3BsYXlOYW1lID0gJ0NlcnRpZmljYXRlRmluZ2VycHJpbnRMaW5rJzsKdmFyIERlZmF1bHRSZXB1dGF0aW9uTGluazsKCihmdW5jdGlvbiAoRGVmYXVsdFJlcHV0YXRpb25MaW5rKSB7CiAgRGVmYXVsdFJlcHV0YXRpb25MaW5rWyJ2aXJ1c3RvdGFsLmNvbSJdID0gInZpcnVzdG90YWwuY29tIjsKICBEZWZhdWx0UmVwdXRhdGlvbkxpbmtbInRhbG9zSW50ZWxsaWdlbmNlLmNvbSJdID0gInRhbG9zSW50ZWxsaWdlbmNlLmNvbSI7Cn0pKERlZmF1bHRSZXB1dGF0aW9uTGluayB8fCAoRGVmYXVsdFJlcHV0YXRpb25MaW5rID0ge30pKTsKCmZ1bmN0aW9uIGlzRGVmYXVsdFJlcHV0YXRpb25MaW5rKG5hbWUpIHsKICByZXR1cm4gbmFtZSA9PT0gRGVmYXVsdFJlcHV0YXRpb25MaW5rWyd2aXJ1c3RvdGFsLmNvbSddIHx8IG5hbWUgPT09IERlZmF1bHRSZXB1dGF0aW9uTGlua1sndGFsb3NJbnRlbGxpZ2VuY2UuY29tJ107Cn0KCnZhciBpc1JlcHV0YXRpb25MaW5rID0gZnVuY3Rpb24gaXNSZXB1dGF0aW9uTGluayhyb3dJdGVtKSB7CiAgcmV0dXJuIHJvd0l0ZW0udXJsX3RlbXBsYXRlICE9PSB1bmRlZmluZWQgJiYgcm93SXRlbS5uYW1lICE9PSB1bmRlZmluZWQ7Cn07Cgp2YXIgQ29tbWEgPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdCkoJ3NwYW4nKS53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIkNvbW1hIiwKICBjb21wb25lbnRJZDogIm5qamRicy0wIgp9KShbIm1hcmdpbi1yaWdodDo1cHg7bWFyZ2luLWxlZnQ6NXB4OyY6OmFmdGVye2NvbnRlbnQ6JyAsJzt9Il0pOwpleHBvcnRzLkNvbW1hID0gQ29tbWE7CkNvbW1hLmRpc3BsYXlOYW1lID0gJ0NvbW1hJzsKdmFyIGRlZmF1bHROYW1lTWFwcGluZyA9IChfZGVmYXVsdE5hbWVNYXBwaW5nID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdE5hbWVNYXBwaW5nLCBEZWZhdWx0UmVwdXRhdGlvbkxpbmtbJ3ZpcnVzdG90YWwuY29tJ10sIGkxOG4uVklFV19WSVJVU19UT1RBTCksIF9kZWZpbmVQcm9wZXJ0eShfZGVmYXVsdE5hbWVNYXBwaW5nLCBEZWZhdWx0UmVwdXRhdGlvbkxpbmtbJ3RhbG9zSW50ZWxsaWdlbmNlLmNvbSddLCBpMThuLlZJRVdfVEFMT1NfSU5URUxMSUdFTkNFKSwgX2RlZmF1bHROYW1lTWFwcGluZyk7Cgp2YXIgUmVwdXRhdGlvbkxpbmtDb21wb25lbnQgPSBmdW5jdGlvbiBSZXB1dGF0aW9uTGlua0NvbXBvbmVudChfcmVmMTApIHsKICB2YXIgX3JlZjEwJG92ZXJmbG93SW5kZXhTID0gX3JlZjEwLm92ZXJmbG93SW5kZXhTdGFydCwKICAgICAgb3ZlcmZsb3dJbmRleFN0YXJ0ID0gX3JlZjEwJG92ZXJmbG93SW5kZXhTID09PSB2b2lkIDAgPyBERUZBVUxUX05VTUJFUl9PRl9MSU5LIDogX3JlZjEwJG92ZXJmbG93SW5kZXhTLAogICAgICBfcmVmMTAkYWxsSXRlbXNMaW1pdCA9IF9yZWYxMC5hbGxJdGVtc0xpbWl0LAogICAgICBhbGxJdGVtc0xpbWl0ID0gX3JlZjEwJGFsbEl0ZW1zTGltaXQgPT09IHZvaWQgMCA/IERFRkFVTFRfTlVNQkVSX09GX0xJTksgOiBfcmVmMTAkYWxsSXRlbXNMaW1pdCwKICAgICAgX3JlZjEwJHNob3dEb21haW4gPSBfcmVmMTAuc2hvd0RvbWFpbiwKICAgICAgc2hvd0RvbWFpbiA9IF9yZWYxMCRzaG93RG9tYWluID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMCRzaG93RG9tYWluLAogICAgICBkb21haW4gPSBfcmVmMTAuZG9tYWluLAogICAgICBfcmVmMTAkZGlyZWN0aW9uID0gX3JlZjEwLmRpcmVjdGlvbiwKICAgICAgZGlyZWN0aW9uID0gX3JlZjEwJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gJ3JvdycgOiBfcmVmMTAkZGlyZWN0aW9uOwoKICB2YXIgX3VzZVVpU2V0dGluZyQgPSAoMCwgX2tpYmFuYS51c2VVaVNldHRpbmckKShfY29uc3RhbnRzLklQX1JFUFVUQVRJT05fTElOS1NfU0VUVElORyksCiAgICAgIF91c2VVaVNldHRpbmckMiA9IF9zbGljZWRUb0FycmF5KF91c2VVaVNldHRpbmckLCAxKSwKICAgICAgaXBSZXB1dGF0aW9uTGlua3NTZXR0aW5nID0gX3VzZVVpU2V0dGluZyQyWzBdOwoKICB2YXIgaXBSZXB1dGF0aW9uTGlua3MgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpcFJlcHV0YXRpb25MaW5rc1NldHRpbmcgPT09IG51bGwgfHwgaXBSZXB1dGF0aW9uTGlua3NTZXR0aW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpcFJlcHV0YXRpb25MaW5rc1NldHRpbmcuc2xpY2UoMCwgYWxsSXRlbXNMaW1pdCkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMTEpIHsKICAgICAgdmFyIHVybF90ZW1wbGF0ZSA9IF9yZWYxMS51cmxfdGVtcGxhdGUsCiAgICAgICAgICBuYW1lID0gX3JlZjExLm5hbWU7CiAgICAgIHJldHVybiAhKDAsIF9mcC5pc05pbCkodXJsX3RlbXBsYXRlKSAmJiAhKDAsIF9mcC5pc05pbCkobmFtZSkgJiYgISgwLCBfaGVscGVyczIuaXNVcmxJbnZhbGlkKSh1cmxfdGVtcGxhdGUpOwogICAgfSkubWFwKGZ1bmN0aW9uIChfcmVmMTIpIHsKICAgICAgdmFyIG5hbWUgPSBfcmVmMTIubmFtZSwKICAgICAgICAgIHVybF90ZW1wbGF0ZSA9IF9yZWYxMi51cmxfdGVtcGxhdGU7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogaXNEZWZhdWx0UmVwdXRhdGlvbkxpbmsobmFtZSkgPyBkZWZhdWx0TmFtZU1hcHBpbmdbbmFtZV0gOiBuYW1lLAogICAgICAgIHVybF90ZW1wbGF0ZTogdXJsX3RlbXBsYXRlLnJlcGxhY2UoInt7aXB9fSIsIGVuY29kZVVSSUNvbXBvbmVudChkb21haW4pKQogICAgICB9OwogICAgfSk7CiAgfSwgW2lwUmVwdXRhdGlvbkxpbmtzU2V0dGluZywgZG9tYWluLCBkZWZhdWx0TmFtZU1hcHBpbmcsIGFsbEl0ZW1zTGltaXRdKTsKICByZXR1cm4gKGlwUmVwdXRhdGlvbkxpbmtzID09PSBudWxsIHx8IGlwUmVwdXRhdGlvbkxpbmtzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpcFJlcHV0YXRpb25MaW5rcy5sZW5ndGgpID4gMCA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNlY3Rpb24iLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBndXR0ZXJTaXplOiAibm9uZSIsCiAgICBqdXN0aWZ5Q29udGVudDogImNlbnRlciIsCiAgICBkaXJlY3Rpb246IGRpcmVjdGlvbiwKICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiLAogICAgImRhdGEtdGVzdC1zdWJqIjogInJlcHV0YXRpb25MaW5rR3JvdXAiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiB0cnVlCiAgfSwgaXBSZXB1dGF0aW9uTGlua3MgPT09IG51bGwgfHwgaXBSZXB1dGF0aW9uTGlua3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlwUmVwdXRhdGlvbkxpbmtzLnNsaWNlKDAsIG92ZXJmbG93SW5kZXhTdGFydCkubWFwKGZ1bmN0aW9uIChfcmVmMTMsIGlkKSB7CiAgICB2YXIgbmFtZSA9IF9yZWYxMy5uYW1lLAogICAgICAgIHVybFRlbXBsYXRlID0gX3JlZjEzLnVybF90ZW1wbGF0ZTsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV4dGVybmFsTGluaywgewogICAgICBhbGxJdGVtc0xpbWl0OiBpcFJlcHV0YXRpb25MaW5rcy5sZW5ndGgsCiAgICAgIGlkeDogaWQsCiAgICAgIG92ZXJmbG93SW5kZXhTdGFydDogb3ZlcmZsb3dJbmRleFN0YXJ0LAogICAgICB1cmw6IHVybFRlbXBsYXRlLAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXh0ZXJuYWxMaW5rQ29tcG9uZW50IiwKICAgICAga2V5OiAicmVwdXRhdGlvbkxpbmstIi5jb25jYXQoaWQpCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBzaG93RG9tYWluID8gZG9tYWluIDogbmFtZSAhPT0gbnVsbCAmJiBuYW1lICE9PSB2b2lkIDAgPyBuYW1lIDogZG9tYWluKSk7CiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZmllbGRfcmVuZGVyZXJzLkRlZmF1bHRGaWVsZFJlbmRlcmVyT3ZlcmZsb3csIHsKICAgIHJvd0l0ZW1zOiBpcFJlcHV0YXRpb25MaW5rcywKICAgIGlkUHJlZml4OiAibW9yZVJlcHV0YXRpb25MaW5rIiwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHJvd0l0ZW0pIHsKICAgICAgdmFyIF9yb3dJdGVtJG5hbWU7CgogICAgICByZXR1cm4gaXNSZXB1dGF0aW9uTGluayhyb3dJdGVtKSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV4dGVybmFsTGluaywgewogICAgICAgIHVybDogcm93SXRlbS51cmxfdGVtcGxhdGUsCiAgICAgICAgb3ZlcmZsb3dJbmRleFN0YXJ0OiBvdmVyZmxvd0luZGV4U3RhcnQsCiAgICAgICAgYWxsSXRlbXNMaW1pdDogYWxsSXRlbXNMaW1pdAogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAoX3Jvd0l0ZW0kbmFtZSA9IHJvd0l0ZW0ubmFtZSkgIT09IG51bGwgJiYgX3Jvd0l0ZW0kbmFtZSAhPT0gdm9pZCAwID8gX3Jvd0l0ZW0kbmFtZSA6IGRvbWFpbikpOwogICAgfSwKICAgIG1vcmVNYXhIZWlnaHQ6IF9maWVsZF9yZW5kZXJlcnMuREVGQVVMVF9NT1JFX01BWF9IRUlHSFQsCiAgICBvdmVyZmxvd0luZGV4U3RhcnQ6IG92ZXJmbG93SW5kZXhTdGFydAogIH0pKSkpIDogbnVsbDsKfTsKClJlcHV0YXRpb25MaW5rQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1JlcHV0YXRpb25MaW5rQ29tcG9uZW50JzsKCnZhciBSZXB1dGF0aW9uTGluayA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oUmVwdXRhdGlvbkxpbmtDb21wb25lbnQpOwoKZXhwb3J0cy5SZXB1dGF0aW9uTGluayA9IFJlcHV0YXRpb25MaW5rOwoKdmFyIFdob0lzTGluayA9IF9yZWFjdC5kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKF9yZWYxNCkgewogIHZhciBjaGlsZHJlbiA9IF9yZWYxNC5jaGlsZHJlbiwKICAgICAgZG9tYWluID0gX3JlZjE0LmRvbWFpbjsKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChFeHRlcm5hbExpbmssIHsKICAgIHVybDogImh0dHBzOi8vd3d3LmlhbmEub3JnL3dob2lzP3E9Ii5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRvbWFpbikpCiAgfSwgY2hpbGRyZW4gPyBjaGlsZHJlbiA6IGRvbWFpbik7Cn0pOwoKZXhwb3J0cy5XaG9Jc0xpbmsgPSBXaG9Jc0xpbms7Cldob0lzTGluay5kaXNwbGF5TmFtZSA9ICdXaG9Jc0xpbmsnOw=="},null]}