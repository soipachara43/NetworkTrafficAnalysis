{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/beats_management/public/lib/configuration_blocks.js","dependencies":[{"path":"x-pack/legacy/plugins/beats_management/public/lib/configuration_blocks.js","mtime":1589249551707},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvbmZpZ0Jsb2Nrc0xpYiA9IHZvaWQgMDsKCnZhciBfanNZYW1sID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJqcy15YW1sIikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsKICB0cnkgewogICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOwogICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVqZWN0KGVycm9yKTsKICAgIHJldHVybjsKICB9CgogIGlmIChpbmZvLmRvbmUpIHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0gZWxzZSB7CiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgfQp9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKCiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgfQoKICAgICAgX25leHQodW5kZWZpbmVkKTsKICAgIH0pOwogIH07Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Cgp2YXIgQ29uZmlnQmxvY2tzTGliID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29uZmlnQmxvY2tzTGliKGFkYXB0ZXIsIGNvbmZpZ1NjaGVtYXMpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZ0Jsb2Nrc0xpYik7CgogICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjsKICAgIHRoaXMuY29uZmlnU2NoZW1hcyA9IGNvbmZpZ1NjaGVtYXM7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJkZWxldGUiLCB0aGlzLmFkYXB0ZXIuZGVsZXRlLmJpbmQodGhpcy5hZGFwdGVyKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ1cHNlcnQiLAogICAgLyojX19QVVJFX18qLwogICAgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYmxvY2tzKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYWRhcHRlci51cHNlcnQoX3RoaXMudXNlckNvbmZpZ3NUb0pzb24oYmxvY2tzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0Rm9yVGFncyIsCiAgICAvKiNfX1BVUkVfXyovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHRhZ0lkcywgcGFnZSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hZGFwdGVyLmdldEZvclRhZ3ModGFnSWRzLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQubGlzdCA9IF90aGlzLmpzb25Db25maWdUb1VzZXJZYW1sKHJlc3VsdC5saXN0KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MiwgX3gzKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENvbmZpZ0Jsb2Nrc0xpYiwgW3sKICAgIGtleTogImpzb25Db25maWdUb1VzZXJZYW1sIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBqc29uQ29uZmlnVG9Vc2VyWWFtbChibG9ja3MpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7IC8vIGNvbmZpZ3VyYXRpb25fYmxvY2tzIHlhbWwsIEpTIGNhbnQgcmVhZCBZQU1MIHNvIHdlIHBhcnNlIGl0IGludG8gSlMsCiAgICAgIC8vIGJlY2F1c2UgYmVhdHMgZmxhdHRlbnMgYWxsIGZpZWxkcywgYW5kIHdlIG5lZWQgbW9yZSBzdHJ1Y3R1cmUuCiAgICAgIC8vIHdlIHRha2UgdGFnQ29uZmlncywgZ3JhYiB0aGUgY29uZmlnIHRoYXQgYXBwbGllcyBoZXJlLCByZW5kZXIgd2hhdCB3ZSBjYW4gaW50bwogICAgICAvLyBhbiBvYmplY3QsIGFuZCB0aGUgcmVzdCB3ZSBhc3N1bWUgdG8gYmUgdGhlIHlhbWwgc3RyaW5nIHRoYXQgZ29lcwogICAgICAvLyBpbnRvIHRoZSB5YW1sIGVkaXRvci4uLgogICAgICAvLyBOT1RFOiBUaGUgcGVyayBvZiB0aGlzLCBpcyB0aGF0IGFzIHdlIHN1cHBvcnQgbW9yZSBmZWF0dXJlcyB2aWEgY29udHJvbHMKICAgICAgLy8gdnMgeWFtbCBlZGl0aW5nLCBpdCBzaG91bGQgImp1c3Qgd29yayIsIGFuZCB0aGluZ3MgdGhhdCB3ZXJlIGluIFlBTUwKICAgICAgLy8gd2lsbCBub3cgYmUgaW4gdGhlIFVJIGZvcm1zLi4uCgoKICAgICAgcmV0dXJuIGJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrKSB7CiAgICAgICAgdmFyIHR5cGUgPSBibG9jay50eXBlLAogICAgICAgICAgICBjb25maWcgPSBibG9jay5jb25maWc7CgogICAgICAgIHZhciB0aGlzQ29uZmlnU2NoZW1hID0gX3RoaXMyLmNvbmZpZ1NjaGVtYXMuZmluZChmdW5jdGlvbiAoY29uZikgewogICAgICAgICAgcmV0dXJuIGNvbmYuaWQgPT09IHR5cGU7CiAgICAgICAgfSk7CgogICAgICAgIHZhciB0aGlzQ29uZmlnQmxvY2tTY2hlbWEgPSB0aGlzQ29uZmlnU2NoZW1hID8gdGhpc0NvbmZpZ1NjaGVtYS5jb25maWdzIDogbnVsbDsKCiAgICAgICAgaWYgKCF0aGlzQ29uZmlnQmxvY2tTY2hlbWEpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29uZmlnIGJsb2NrIHNjaGVtYSAnKTsKICAgICAgICB9CgogICAgICAgIHZhciBrbm93bkNvbmZpZ0lkcyA9IHRoaXNDb25maWdCbG9ja1NjaGVtYS5tYXAoZnVuY3Rpb24gKHNjaGVtYSkgewogICAgICAgICAgcmV0dXJuIHNjaGVtYS5pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgY29udmVydGVkQ29uZmlnID0ga25vd25Db25maWdJZHMucmVkdWNlKGZ1bmN0aW9uIChibG9ja09iaiwgY29uZmlnS2V5LCBpbmRleCkgewogICAgICAgICAgdmFyIHVuaHlkcmF0ZWRLZXkgPSBrbm93bkNvbmZpZ0lkc1tpbmRleF07CiAgICAgICAgICAoMCwgX2xvZGFzaC5zZXQpKGJsb2NrT2JqLCBjb25maWdLZXksICgwLCBfbG9kYXNoLmdldCkoY29uZmlnLCB1bmh5ZHJhdGVkS2V5KSk7CiAgICAgICAgICByZXR1cm4gYmxvY2tPYmo7CiAgICAgICAgfSwgdGhpc0NvbmZpZ1NjaGVtYSAmJiB0aGlzQ29uZmlnU2NoZW1hLmFsbG93T3RoZXJDb25maWdzID8gewogICAgICAgICAgb3RoZXI6IF9qc1lhbWwuZGVmYXVsdC5zYWZlRHVtcCgoMCwgX2xvZGFzaC5vbWl0KShjb25maWcsIGtub3duQ29uZmlnSWRzKSkKICAgICAgICB9IDoge30pOyAvLyBXb3JrYXJvdW5kIHRvIGVtcHR5IG9iamVjdCBwYXNzZWQgaW50byBkdW1wIHJlc3VsdGluZyBpbiB0aGlzIG9kZCBvdXRwdXQKCiAgICAgICAgaWYgKGNvbnZlcnRlZENvbmZpZy5vdGhlciAmJiBjb252ZXJ0ZWRDb25maWcub3RoZXIgPT09ICd7fVxuJykgewogICAgICAgICAgY29udmVydGVkQ29uZmlnLm90aGVyID0gJyc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYmxvY2ssIHsKICAgICAgICAgIGNvbmZpZzogY29udmVydGVkQ29uZmlnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVzZXJDb25maWdzVG9Kc29uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1c2VyQ29uZmlnc1RvSnNvbihibG9ja3MpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7IC8vIGNvbmZpZ3VyYXRpb25zIGlzIHRoZSBKUyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29uZmlnIHlhbWwsCiAgICAgIC8vIHNvIGhlcmUgd2UgdGFrZSB0aGF0IEpTIGFuZCBjb252ZXJ0IGl0IGludG8gYSBZQU1MIHN0cmluZy4KICAgICAgLy8gd2UgZG8gc28gd2hpbGUgYWxzbyBmbGF0dGVuaW5nICJvdGhlciIgaW50byB0aGUgZmxhdCB5YW1sIGJlYXRzIGV4cGVjdAoKCiAgICAgIHJldHVybiBibG9ja3MubWFwKGZ1bmN0aW9uIChibG9jaykgewogICAgICAgIHZhciB0eXBlID0gYmxvY2sudHlwZSwKICAgICAgICAgICAgY29uZmlnID0gYmxvY2suY29uZmlnOwoKICAgICAgICB2YXIgdGhpc0NvbmZpZ1NjaGVtYSA9IF90aGlzMy5jb25maWdTY2hlbWFzLmZpbmQoZnVuY3Rpb24gKGNvbmYpIHsKICAgICAgICAgIHJldHVybiBjb25mLmlkID09PSB0eXBlOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgdGhpc0NvbmZpZ0Jsb2NrU2NoZW1hID0gdGhpc0NvbmZpZ1NjaGVtYSA/IHRoaXNDb25maWdTY2hlbWEuY29uZmlncyA6IG51bGw7CgogICAgICAgIGlmICghdGhpc0NvbmZpZ0Jsb2NrU2NoZW1hKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbmZpZyBibG9jayBzY2hlbWEgJyk7CiAgICAgICAgfQoKICAgICAgICB2YXIga25vd25Db25maWdJZHMgPSB0aGlzQ29uZmlnQmxvY2tTY2hlbWEubWFwKGZ1bmN0aW9uIChzY2hlbWEpIHsKICAgICAgICAgIHJldHVybiBzY2hlbWEuaWQ7CiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgcmV0dXJuIGlkICE9PSAnb3RoZXInOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcGlja2VkID0gX3RoaXMzLnBpY2tEZWVwKGNvbmZpZywga25vd25Db25maWdJZHMpOwoKICAgICAgICB2YXIgb3RoZXIgPSBfanNZYW1sLmRlZmF1bHQuc2FmZUxvYWQoY29uZmlnLm90aGVyIHx8ICd7fScpOwoKICAgICAgICBpZiAodHlwZW9mIG90aGVyID09PSAnc3RyaW5nJykgewogICAgICAgICAgb3RoZXIgPSBfZGVmaW5lUHJvcGVydHkoe30sIG90aGVyLCAnJyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29udmVydGVkQ29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgb3RoZXIsIHt9LCBwaWNrZWQpOwoKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYmxvY2ssIHsKICAgICAgICAgIGNvbmZpZzogY29udmVydGVkQ29uZmlnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInBpY2tEZWVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwaWNrRGVlcChvYmosIGtleXMpIHsKICAgICAgdmFyIGNvcHkgPSB7fTsKICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoKDAsIF9sb2Rhc2guaGFzKShvYmosIGtleSkpIHsKICAgICAgICAgIHZhciB2YWwgPSAoMCwgX2xvZGFzaC5nZXQpKG9iaiwga2V5KTsKICAgICAgICAgICgwLCBfbG9kYXNoLnNldCkoY29weSwga2V5LCB2YWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjb3B5OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbmZpZ0Jsb2Nrc0xpYjsKfSgpOwoKZXhwb3J0cy5Db25maWdCbG9ja3NMaWIgPSBDb25maWdCbG9ja3NMaWI7"},null]}