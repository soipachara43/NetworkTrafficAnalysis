{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/timeline/footer/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/timeline/footer/index.js","mtime":1589249553196},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkZvb3RlciA9IGV4cG9ydHMuRm9vdGVyQ29tcG9uZW50ID0gZXhwb3J0cy5QYWdpbmdDb250cm9sID0gZXhwb3J0cy5QYWdpbmdDb250cm9sQ29tcG9uZW50ID0gZXhwb3J0cy5FdmVudHNDb3VudCA9IGV4cG9ydHMuRXZlbnRzQ291bnRDb21wb25lbnQgPSBleHBvcnRzLmZvb3RlckhlaWdodCA9IGV4cG9ydHMuU2VydmVyU2lkZUV2ZW50Q291bnQgPSBleHBvcnRzLmlzQ29tcGFjdEZvb3RlciA9IHZvaWQgMDsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0ID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9zdHlsZWRDb21wb25lbnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJzdHlsZWQtY29tcG9uZW50cyIpKTsKCnZhciBfbG9hZGluZyA9IHJlcXVpcmUoIi4uLy4uL2xvYWRpbmciKTsKCnZhciBfbGFzdF91cGRhdGVkID0gcmVxdWlyZSgiLi9sYXN0X3VwZGF0ZWQiKTsKCnZhciBpMThuID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi90cmFuc2xhdGlvbnMiKSk7Cgp2YXIgX3RpbWVsaW5lX2NvbnRleHQgPSByZXF1aXJlKCIuLi90aW1lbGluZV9jb250ZXh0Iik7Cgp2YXIgX2V2ZW50X2RldGFpbHNfd2lkdGhfY29udGV4dCA9IHJlcXVpcmUoIi4uLy4uL2V2ZW50c192aWV3ZXIvZXZlbnRfZGV0YWlsc193aWR0aF9jb250ZXh0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBpc0NvbXBhY3RGb290ZXIgPSBmdW5jdGlvbiBpc0NvbXBhY3RGb290ZXIod2lkdGgpIHsKICByZXR1cm4gd2lkdGggPCA2MDA7Cn07CgpleHBvcnRzLmlzQ29tcGFjdEZvb3RlciA9IGlzQ29tcGFjdEZvb3RlcjsKCnZhciBGaXhlZFdpZHRoTGFzdFVwZGF0ZWRDb250YWluZXIgPSBfcmVhY3QyLmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZikgewogIHZhciB1cGRhdGVkQXQgPSBfcmVmLnVwZGF0ZWRBdDsKICB2YXIgd2lkdGggPSAoMCwgX2V2ZW50X2RldGFpbHNfd2lkdGhfY29udGV4dC51c2VFdmVudERldGFpbHNXaWR0aENvbnRleHQpKCk7CiAgdmFyIGNvbXBhY3QgPSAoMCwgX3JlYWN0Mi51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaXNDb21wYWN0Rm9vdGVyKHdpZHRoKTsKICB9LCBbd2lkdGhdKTsKICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRml4ZWRXaWR0aExhc3RVcGRhdGVkLCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZml4ZWQtd2lkdGgtbGFzdC11cGRhdGVkIiwKICAgIGNvbXBhY3Q6IGNvbXBhY3QKICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbGFzdF91cGRhdGVkLkxhc3RVcGRhdGVkQXQsIHsKICAgIHVwZGF0ZWRBdDogdXBkYXRlZEF0LAogICAgY29tcGFjdDogY29tcGFjdAogIH0pKTsKfSk7CgpGaXhlZFdpZHRoTGFzdFVwZGF0ZWRDb250YWluZXIuZGlzcGxheU5hbWUgPSAnRml4ZWRXaWR0aExhc3RVcGRhdGVkQ29udGFpbmVyJzsKCnZhciBGaXhlZFdpZHRoTGFzdFVwZGF0ZWQgPSBfc3R5bGVkQ29tcG9uZW50cy5kZWZhdWx0LmRpdi53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIkZpeGVkV2lkdGhMYXN0VXBkYXRlZCIsCiAgY29tcG9uZW50SWQ6ICJzYy0xM3ZxdjUzLTAiCn0pKFsid2lkdGg6IiwgInB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmVuZDsiXSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgdmFyIGNvbXBhY3QgPSBfcmVmMi5jb21wYWN0OwogIHJldHVybiAhY29tcGFjdCA/IDIwMCA6IDI1Owp9KTsKCkZpeGVkV2lkdGhMYXN0VXBkYXRlZC5kaXNwbGF5TmFtZSA9ICdGaXhlZFdpZHRoTGFzdFVwZGF0ZWQnOwp2YXIgRm9vdGVyQ29udGFpbmVyID0gKDAsIF9zdHlsZWRDb21wb25lbnRzLmRlZmF1bHQpKF9ldWkuRXVpRmxleEdyb3VwKS5hdHRycyhmdW5jdGlvbiAoX3JlZjMpIHsKICB2YXIgaGVpZ2h0ID0gX3JlZjMuaGVpZ2h0OwogIHJldHVybiB7CiAgICBzdHlsZTogewogICAgICBoZWlnaHQ6ICIiLmNvbmNhdChoZWlnaHQsICJweCIpCiAgICB9CiAgfTsKfSkud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJGb290ZXJDb250YWluZXIiLAogIGNvbXBvbmVudElkOiAic2MtMTN2cXY1My0xIgp9KShbImZsZXg6MDsiXSk7CkZvb3RlckNvbnRhaW5lci5kaXNwbGF5TmFtZSA9ICdGb290ZXJDb250YWluZXInOwp2YXIgRm9vdGVyRmxleEdyb3VwID0gKDAsIF9zdHlsZWRDb21wb25lbnRzLmRlZmF1bHQpKF9ldWkuRXVpRmxleEdyb3VwKS53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIkZvb3RlckZsZXhHcm91cCIsCiAgY29tcG9uZW50SWQ6ICJzYy0xM3ZxdjUzLTIiCn0pKFsiaGVpZ2h0OjM1cHg7d2lkdGg6MTAwJTsiXSk7CkZvb3RlckZsZXhHcm91cC5kaXNwbGF5TmFtZSA9ICdGb290ZXJGbGV4R3JvdXAnOwoKdmFyIExvYWRpbmdQYW5lbENvbnRhaW5lciA9IF9zdHlsZWRDb21wb25lbnRzLmRlZmF1bHQuZGl2LndpdGhDb25maWcoewogIGRpc3BsYXlOYW1lOiAiTG9hZGluZ1BhbmVsQ29udGFpbmVyIiwKICBjb21wb25lbnRJZDogInNjLTEzdnF2NTMtMyIKfSkoWyJwYWRkaW5nLXRvcDozcHg7Il0pOwoKTG9hZGluZ1BhbmVsQ29udGFpbmVyLmRpc3BsYXlOYW1lID0gJ0xvYWRpbmdQYW5lbENvbnRhaW5lcic7CnZhciBQb3BvdmVyUm93SXRlbXMgPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdCkoX2V1aS5FdWlQb3BvdmVyKS53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIlBvcG92ZXJSb3dJdGVtcyIsCiAgY29tcG9uZW50SWQ6ICJzYy0xM3ZxdjUzLTQiCn0pKFsiLmV1aUJ1dHRvbkVtcHR5X19jb250ZW50e3BhZGRpbmc6MHB4IDBweDt9Il0pOwpQb3BvdmVyUm93SXRlbXMuZGlzcGxheU5hbWUgPSAnUG9wb3ZlclJvd0l0ZW1zJzsKCnZhciBTZXJ2ZXJTaWRlRXZlbnRDb3VudCA9IF9zdHlsZWRDb21wb25lbnRzLmRlZmF1bHQuZGl2LndpdGhDb25maWcoewogIGRpc3BsYXlOYW1lOiAiU2VydmVyU2lkZUV2ZW50Q291bnQiLAogIGNvbXBvbmVudElkOiAic2MtMTN2cXY1My01Igp9KShbIm1hcmdpbjowIDVweCAwIDVweDsiXSk7CgpleHBvcnRzLlNlcnZlclNpZGVFdmVudENvdW50ID0gU2VydmVyU2lkZUV2ZW50Q291bnQ7ClNlcnZlclNpZGVFdmVudENvdW50LmRpc3BsYXlOYW1lID0gJ1NlcnZlclNpZGVFdmVudENvdW50JzsKLyoqIFRoZSBoZWlnaHQgb2YgdGhlIGZvb3RlciwgZXhwb3J0ZWQgZm9yIHVzZSBpbiBoZWlnaHQgY2FsY3VsYXRpb25zICovCgp2YXIgZm9vdGVySGVpZ2h0ID0gNDA7IC8vIHB4CgovKiogRGlzcGxheXMgdGhlIHNlcnZlci1zaWRlIGNvdW50IG9mIGV2ZW50cyAqLwoKZXhwb3J0cy5mb290ZXJIZWlnaHQgPSBmb290ZXJIZWlnaHQ7Cgp2YXIgRXZlbnRzQ291bnRDb21wb25lbnQgPSBmdW5jdGlvbiBFdmVudHNDb3VudENvbXBvbmVudChfcmVmNCkgewogIHZhciBfdGltZWxpbmVUeXBlQ29udGV4dCQsIF90aW1lbGluZVR5cGVDb250ZXh0JDI7CgogIHZhciBjbG9zZVBvcG92ZXIgPSBfcmVmNC5jbG9zZVBvcG92ZXIsCiAgICAgIGlzT3BlbiA9IF9yZWY0LmlzT3BlbiwKICAgICAgaXRlbXMgPSBfcmVmNC5pdGVtcywKICAgICAgaXRlbXNDb3VudCA9IF9yZWY0Lml0ZW1zQ291bnQsCiAgICAgIG9uQ2xpY2sgPSBfcmVmNC5vbkNsaWNrLAogICAgICBzZXJ2ZXJTaWRlRXZlbnRDb3VudCA9IF9yZWY0LnNlcnZlclNpZGVFdmVudENvdW50OwogIHZhciB0aW1lbGluZVR5cGVDb250ZXh0ID0gKDAsIF90aW1lbGluZV9jb250ZXh0LnVzZVRpbWVsaW5lVHlwZUNvbnRleHQpKCk7CiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJSb3dJdGVtcywgewogICAgY2xhc3NOYW1lOiAiZm9vdGVyLXBvcG92ZXIiLAogICAgaWQ6ICJjdXN0b21pemFibGVQYWdpbmF0aW9uIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0aW1lbGluZVNpemVSb3dQb3BvdmVyIiwKICAgIGJ1dHRvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJhZGdlLCB7CiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJsb2NhbC1ldmVudHMtY291bnQiLAogICAgICBjb2xvcjogImhvbGxvdyIKICAgIH0sIGl0ZW1zQ291bnQsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgICAgc2l6ZTogInMiLAogICAgICBjb2xvcjogInRleHQiLAogICAgICBpY29uVHlwZTogImFycm93RG93biIsCiAgICAgIGljb25TaWRlOiAicmlnaHQiLAogICAgICBvbkNsaWNrOiBvbkNsaWNrCiAgICB9KSksICIgIi5jb25jYXQoaTE4bi5PRiwgIiAiKSksCiAgICBpc09wZW46IGlzT3BlbiwKICAgIGNsb3NlUG9wb3ZlcjogY2xvc2VQb3BvdmVyLAogICAgcGFuZWxQYWRkaW5nU2l6ZTogIm5vbmUiCiAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb250ZXh0TWVudVBhbmVsLCB7CiAgICBpdGVtczogaXRlbXMsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAidGltZWxpbmVQaWNrU2l6ZVJvdyIKICB9KSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgY29udGVudDogIiIuY29uY2F0KHNlcnZlclNpZGVFdmVudENvdW50LCAiICIpLmNvbmNhdCgoX3RpbWVsaW5lVHlwZUNvbnRleHQkID0gdGltZWxpbmVUeXBlQ29udGV4dC5mb290ZXJUZXh0KSAhPT0gbnVsbCAmJiBfdGltZWxpbmVUeXBlQ29udGV4dCQgIT09IHZvaWQgMCA/IF90aW1lbGluZVR5cGVDb250ZXh0JCA6IGkxOG4uVE9UQUxfQ09VTlRfT0ZfRVZFTlRTKQogIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlcnZlclNpZGVFdmVudENvdW50LCBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJhZGdlLCB7CiAgICBjb2xvcjogImhvbGxvdyIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2VydmVyLXNpZGUtZXZlbnQtY291bnQiCiAgfSwgc2VydmVyU2lkZUV2ZW50Q291bnQpLCAnICcsIChfdGltZWxpbmVUeXBlQ29udGV4dCQyID0gdGltZWxpbmVUeXBlQ29udGV4dC5kb2N1bWVudFR5cGUpICE9PSBudWxsICYmIF90aW1lbGluZVR5cGVDb250ZXh0JDIgIT09IHZvaWQgMCA/IF90aW1lbGluZVR5cGVDb250ZXh0JDIgOiBpMThuLkVWRU5UUykpKTsKfTsKCmV4cG9ydHMuRXZlbnRzQ291bnRDb21wb25lbnQgPSBFdmVudHNDb3VudENvbXBvbmVudDsKRXZlbnRzQ291bnRDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnRXZlbnRzQ291bnRDb21wb25lbnQnOwoKdmFyIEV2ZW50c0NvdW50ID0gX3JlYWN0Mi5kZWZhdWx0Lm1lbW8oRXZlbnRzQ291bnRDb21wb25lbnQpOwoKZXhwb3J0cy5FdmVudHNDb3VudCA9IEV2ZW50c0NvdW50OwpFdmVudHNDb3VudC5kaXNwbGF5TmFtZSA9ICdFdmVudHNDb3VudCc7Cgp2YXIgUGFnaW5nQ29udHJvbENvbXBvbmVudCA9IGZ1bmN0aW9uIFBhZ2luZ0NvbnRyb2xDb21wb25lbnQoX3JlZjUpIHsKICB2YXIgaGFzTmV4dFBhZ2UgPSBfcmVmNS5oYXNOZXh0UGFnZSwKICAgICAgaXNMb2FkaW5nID0gX3JlZjUuaXNMb2FkaW5nLAogICAgICBsb2FkTW9yZSA9IF9yZWY1LmxvYWRNb3JlOwogIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsIGhhc05leHRQYWdlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiVGltZWxpbmVNb3JlQnV0dG9uIiwKICAgIGlzTG9hZGluZzogaXNMb2FkaW5nLAogICAgb25DbGljazogbG9hZE1vcmUsCiAgICBzaXplOiAicyIKICB9LCBpc0xvYWRpbmcgPyAiIi5jb25jYXQoaTE4bi5MT0FESU5HLCAiLi4uIikgOiBpMThuLkxPQURfTU9SRSkpOwp9OwoKZXhwb3J0cy5QYWdpbmdDb250cm9sQ29tcG9uZW50ID0gUGFnaW5nQ29udHJvbENvbXBvbmVudDsKUGFnaW5nQ29udHJvbENvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdQYWdpbmdDb250cm9sQ29tcG9uZW50JzsKCnZhciBQYWdpbmdDb250cm9sID0gX3JlYWN0Mi5kZWZhdWx0Lm1lbW8oUGFnaW5nQ29udHJvbENvbXBvbmVudCk7CgpleHBvcnRzLlBhZ2luZ0NvbnRyb2wgPSBQYWdpbmdDb250cm9sOwpQYWdpbmdDb250cm9sLmRpc3BsYXlOYW1lID0gJ1BhZ2luZ0NvbnRyb2wnOwovKiogUmVuZGVycyBhIGxvYWRpbmcgaW5kaWNhdG9yIGFuZCBwYWdpbmcgY29udHJvbHMgKi8KCnZhciBGb290ZXJDb21wb25lbnQgPSBmdW5jdGlvbiBGb290ZXJDb21wb25lbnQoX3JlZjYpIHsKICB2YXIgZ2V0VXBkYXRlZEF0ID0gX3JlZjYuZ2V0VXBkYXRlZEF0LAogICAgICBoYXNOZXh0UGFnZSA9IF9yZWY2Lmhhc05leHRQYWdlLAogICAgICBoZWlnaHQgPSBfcmVmNi5oZWlnaHQsCiAgICAgIGlzTGl2ZSA9IF9yZWY2LmlzTGl2ZSwKICAgICAgaXNMb2FkaW5nID0gX3JlZjYuaXNMb2FkaW5nLAogICAgICBpdGVtc0NvdW50ID0gX3JlZjYuaXRlbXNDb3VudCwKICAgICAgaXRlbXNQZXJQYWdlID0gX3JlZjYuaXRlbXNQZXJQYWdlLAogICAgICBpdGVtc1BlclBhZ2VPcHRpb25zID0gX3JlZjYuaXRlbXNQZXJQYWdlT3B0aW9ucywKICAgICAgbmV4dEN1cnNvciA9IF9yZWY2Lm5leHRDdXJzb3IsCiAgICAgIG9uQ2hhbmdlSXRlbXNQZXJQYWdlID0gX3JlZjYub25DaGFuZ2VJdGVtc1BlclBhZ2UsCiAgICAgIG9uTG9hZE1vcmUgPSBfcmVmNi5vbkxvYWRNb3JlLAogICAgICBzZXJ2ZXJTaWRlRXZlbnRDb3VudCA9IF9yZWY2LnNlcnZlclNpZGVFdmVudENvdW50LAogICAgICB0aWVCcmVha2VyID0gX3JlZjYudGllQnJlYWtlcjsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QyLnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc1BvcG92ZXJPcGVuID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SXNQb3BvdmVyT3BlbiA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdDIudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBwYWdpbmF0aW9uTG9hZGluZyA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldFBhZ2luYXRpb25Mb2FkaW5nID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSAoMCwgX3JlYWN0Mi51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgdXBkYXRlZEF0ID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0VXBkYXRlZEF0ID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIHRpbWVsaW5lVHlwZUNvbnRleHQgPSAoMCwgX3RpbWVsaW5lX2NvbnRleHQudXNlVGltZWxpbmVUeXBlQ29udGV4dCkoKTsKICB2YXIgbG9hZE1vcmUgPSAoMCwgX3JlYWN0Mi51c2VDYWxsYmFjaykoZnVuY3Rpb24gKCkgewogICAgc2V0UGFnaW5hdGlvbkxvYWRpbmcodHJ1ZSk7CiAgICBvbkxvYWRNb3JlKG5leHRDdXJzb3IsIHRpZUJyZWFrZXIpOwogIH0sIFtuZXh0Q3Vyc29yLCB0aWVCcmVha2VyLCBvbkxvYWRNb3JlLCBzZXRQYWdpbmF0aW9uTG9hZGluZ10pOwogIHZhciBvbkJ1dHRvbkNsaWNrID0gKDAsIF9yZWFjdDIudXNlQ2FsbGJhY2spKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzZXRJc1BvcG92ZXJPcGVuKCFpc1BvcG92ZXJPcGVuKTsKICB9LCBbaXNQb3BvdmVyT3Blbiwgc2V0SXNQb3BvdmVyT3Blbl0pOwogIHZhciBjbG9zZVBvcG92ZXIgPSAoMCwgX3JlYWN0Mi51c2VDYWxsYmFjaykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNldElzUG9wb3Zlck9wZW4oZmFsc2UpOwogIH0sIFtzZXRJc1BvcG92ZXJPcGVuXSk7CiAgKDAsIF9yZWFjdDIudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAocGFnaW5hdGlvbkxvYWRpbmcgJiYgIWlzTG9hZGluZykgewogICAgICBzZXRQYWdpbmF0aW9uTG9hZGluZyhmYWxzZSk7CiAgICAgIHNldFVwZGF0ZWRBdChnZXRVcGRhdGVkQXQoKSk7CiAgICB9CgogICAgaWYgKHVwZGF0ZWRBdCA9PT0gbnVsbCB8fCAhaXNMb2FkaW5nKSB7CiAgICAgIHNldFVwZGF0ZWRBdChnZXRVcGRhdGVkQXQoKSk7CiAgICB9CiAgfSwgW2lzTG9hZGluZ10pOwoKICBpZiAoaXNMb2FkaW5nICYmICFwYWdpbmF0aW9uTG9hZGluZykgewogICAgdmFyIF90aW1lbGluZVR5cGVDb250ZXh0JDM7CgogICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvYWRpbmdQYW5lbENvbnRhaW5lciwgbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2xvYWRpbmcuTG9hZGluZ1BhbmVsLCB7CiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJMb2FkaW5nUGFuZWxUaW1lbGluZSIsCiAgICAgIGhlaWdodDogIjM1cHgiLAogICAgICBzaG93Qm9yZGVyOiBmYWxzZSwKICAgICAgdGV4dDogIiIuY29uY2F0KChfdGltZWxpbmVUeXBlQ29udGV4dCQzID0gdGltZWxpbmVUeXBlQ29udGV4dC5sb2FkaW5nVGV4dCkgIT09IG51bGwgJiYgX3RpbWVsaW5lVHlwZUNvbnRleHQkMyAhPT0gdm9pZCAwID8gX3RpbWVsaW5lVHlwZUNvbnRleHQkMyA6IGkxOG4uTE9BRElOR19USU1FTElORV9EQVRBLCAiLi4uIiksCiAgICAgIHdpZHRoOiAiMTAwJSIKICAgIH0pKTsKICB9CgogIHZhciByb3dJdGVtcyA9IGl0ZW1zUGVyUGFnZU9wdGlvbnMgJiYgaXRlbXNQZXJQYWdlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUNvbnRleHRNZW51SXRlbSwgewogICAgICBrZXk6IGl0ZW0sCiAgICAgIGljb246IGl0ZW1zUGVyUGFnZSA9PT0gaXRlbSA/ICdjaGVjaycgOiAnZW1wdHknLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIGNsb3NlUG9wb3ZlcigpOwogICAgICAgIG9uQ2hhbmdlSXRlbXNQZXJQYWdlKGl0ZW0pOwogICAgICB9CiAgICB9LCAiIi5jb25jYXQoaXRlbSwgIiAiKS5jb25jYXQoaTE4bi5ST1dTKSk7CiAgfSk7CiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvb3RlckNvbnRhaW5lciwgewogICAgImRhdGEtdGVzdC1zdWJqIjogInRpbWVsaW5lLWZvb3RlciIsCiAgICBkaXJlY3Rpb246ICJjb2x1bW4iLAogICAgZ3V0dGVyU2l6ZTogIm5vbmUiLAogICAgaGVpZ2h0OiBoZWlnaHQsCiAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQXJvdW5kIgogIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZvb3RlckZsZXhHcm91cCwgewogICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZm9vdGVyLWZsZXgtZ3JvdXAiLAogICAgZGlyZWN0aW9uOiAicm93IiwKICAgIGd1dHRlclNpemU6ICJub25lIiwKICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIgogIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJldmVudC1jb3VudC1jb250YWluZXIiLAogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXZlbnRzLWNvdW50IiwKICAgIGRpcmVjdGlvbjogInJvdyIsCiAgICBndXR0ZXJTaXplOiAibm9uZSIKICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChFdmVudHNDb3VudCwgewogICAgY2xvc2VQb3BvdmVyOiBjbG9zZVBvcG92ZXIsCiAgICBpc09wZW46IGlzUG9wb3Zlck9wZW4sCiAgICBpdGVtczogcm93SXRlbXMsCiAgICBpdGVtc0NvdW50OiBpdGVtc0NvdW50LAogICAgb25DbGljazogb25CdXR0b25DbGljaywKICAgIHNlcnZlclNpZGVFdmVudENvdW50OiBzZXJ2ZXJTaWRlRXZlbnRDb3VudAogIH0pKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJwYWdpbmctY29udHJvbC1jb250YWluZXIiLAogICAgZ3JvdzogZmFsc2UKICB9LCBpc0xpdmUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgIHNpemU6ICJzIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJpcy1saXZlLW9uLW1lc3NhZ2UiCiAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCBpMThuLkFVVE9fUkVGUkVTSF9BQ1RJVkUsICcgJywgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uVGlwLCB7CiAgICBjb2xvcjogInN1YmR1ZWQiLAogICAgY29udGVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5zaWVtLmZvb3Rlci5hdXRvUmVmcmVzaEFjdGl2ZVRvb2x0aXAiLAogICAgICBkZWZhdWx0TWVzc2FnZTogIldoaWxlIGF1dG8tcmVmcmVzaCBpcyBlbmFibGVkLCB0aW1lbGluZSB3aWxsIHNob3cgeW91IHRoZSBsYXRlc3Qge251bWJlck9mSXRlbXN9IGV2ZW50cyB0aGF0IG1hdGNoIHlvdXIgcXVlcnkuIiwKICAgICAgdmFsdWVzOiB7CiAgICAgICAgbnVtYmVyT2ZJdGVtczogaXRlbXNDb3VudAogICAgICB9CiAgICB9KSwKICAgIHR5cGU6ICJpSW5DaXJjbGUiCiAgfSkpKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2luZ0NvbnRyb2wsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJwYWdpbmctY29udHJvbCIsCiAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsCiAgICBpc0xvYWRpbmc6IGlzTG9hZGluZywKICAgIGxvYWRNb3JlOiBsb2FkTW9yZQogIH0pKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImxhc3QtdXBkYXRlZC1jb250YWluZXIiLAogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChGaXhlZFdpZHRoTGFzdFVwZGF0ZWRDb250YWluZXIsIHsKICAgIHVwZGF0ZWRBdDogdXBkYXRlZEF0IHx8IGdldFVwZGF0ZWRBdCgpCiAgfSkpKSk7Cn07CgpleHBvcnRzLkZvb3RlckNvbXBvbmVudCA9IEZvb3RlckNvbXBvbmVudDsKRm9vdGVyQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ0Zvb3RlckNvbXBvbmVudCc7Cgp2YXIgRm9vdGVyID0gX3JlYWN0Mi5kZWZhdWx0Lm1lbW8oRm9vdGVyQ29tcG9uZW50KTsKCmV4cG9ydHMuRm9vdGVyID0gRm9vdGVyOwpGb290ZXIuZGlzcGxheU5hbWUgPSAnRm9vdGVyJzs="},null]}