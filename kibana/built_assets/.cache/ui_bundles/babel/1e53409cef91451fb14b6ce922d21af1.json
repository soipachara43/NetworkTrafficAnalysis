{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/timelion/public/app.js","dependencies":[{"path":"src/legacy/core_plugins/timelion/public/app.js","mtime":1589249549918},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9jYXBhYmlsaXRpZXMgPSByZXF1aXJlKCJ1aS9jYXBhYmlsaXRpZXMiKTsKCnZhciBfZG9jX3RpdGxlID0gcmVxdWlyZSgidWkvZG9jX3RpdGxlIik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF90aW1lZmlsdGVyID0gcmVxdWlyZSgidWkvdGltZWZpbHRlciIpOwoKdmFyIF9uZXdfcGxhdGZvcm0gPSByZXF1aXJlKCJ1aS9uZXdfcGxhdGZvcm0iKTsKCnZhciBfYnJlYWRjcnVtYnMgPSByZXF1aXJlKCIuL2JyZWFkY3J1bWJzIik7Cgp2YXIgX3B1YmxpYyA9IHJlcXVpcmUoIi4uLy4uL3Zpc190eXBlX3RpbWVsaW9uL3B1YmxpYyIpOwoKcmVxdWlyZSgidWlFeHBvcnRzL3NhdmVkT2JqZWN0VHlwZXMiKTsKCnJlcXVpcmUoInVpL2RpcmVjdGl2ZXMvaW5wdXRfZm9jdXMiKTsKCnJlcXVpcmUoIi4vZGlyZWN0aXZlcy9zYXZlZF9vYmplY3RfZmluZGVyIik7CgpyZXF1aXJlKCJ1aS9kaXJlY3RpdmVzL2xpc3RlbiIpOwoKcmVxdWlyZSgiLi9kaXJlY3RpdmVzL3NhdmVkX29iamVjdF9zYXZlX2FzX2NoZWNrYm94Iik7CgpyZXF1aXJlKCIuL3NlcnZpY2VzL3NhdmVkX3NoZWV0X3JlZ2lzdGVyIik7Cgp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwbHVnaW5zL3RpbWVsaW9uL2luZGV4Lmh0bWwiKSk7Cgp2YXIgX2xlZ2FjeSA9IHJlcXVpcmUoIi4uLy4uL3Zpc3VhbGl6YXRpb25zL3B1YmxpYy9ucF9yZWFkeS9wdWJsaWMvbGVnYWN5Iik7Cgp2YXIgX3B1YmxpYzIgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9wbHVnaW5zL2tpYmFuYV9sZWdhY3kvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKcmVxdWlyZSgndWkvYXV0b2xvYWQvYWxsJyk7IC8vIFRPRE86IHJlbW92ZSB1aSBpbXBvcnRzIGNvbXBsZXRlbHkgKG1vdmUgdG8gcGx1Z2lucykKCgooMCwgX3B1YmxpYzIubG9hZEtiblRvcE5hdkRpcmVjdGl2ZXMpKF9uZXdfcGxhdGZvcm0ubnBTdGFydC5wbHVnaW5zLm5hdmlnYXRpb24udWkpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL2NlbGxzL2NlbGxzJyk7CgpyZXF1aXJlKCdwbHVnaW5zL3RpbWVsaW9uL2RpcmVjdGl2ZXMvZml4ZWRfZWxlbWVudCcpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL2Z1bGxzY3JlZW4vZnVsbHNjcmVlbicpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL3RpbWVsaW9uX2V4cHJlc3Npb25faW5wdXQnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy90aW1lbGlvbl9oZWxwL3RpbWVsaW9uX2hlbHAnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy90aW1lbGlvbl9pbnRlcnZhbC90aW1lbGlvbl9pbnRlcnZhbCcpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL3RpbWVsaW9uX3NhdmVfc2hlZXQnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy90aW1lbGlvbl9sb2FkX3NoZWV0Jyk7CgpyZXF1aXJlKCdwbHVnaW5zL3RpbWVsaW9uL2RpcmVjdGl2ZXMvdGltZWxpb25fb3B0aW9uc19zaGVldCcpOwoKZG9jdW1lbnQudGl0bGUgPSAnVGltZWxpb24gLSBLaWJhbmEnOwoKdmFyIGFwcCA9IHJlcXVpcmUoJ3VpL21vZHVsZXMnKS5nZXQoJ2FwcHMvdGltZWxpb24nLCBbXSk7CgpyZXF1aXJlKCd1aS9yb3V0ZXMnKS5lbmFibGUoKTsKCnJlcXVpcmUoJ3VpL3JvdXRlcycpLndoZW4oJy86aWQ/JywgewogIHRlbXBsYXRlOiBfaW5kZXguZGVmYXVsdCwKICByZWxvYWRPblNlYXJjaDogZmFsc2UsCiAgazdCcmVhZGNydW1iczogZnVuY3Rpb24gazdCcmVhZGNydW1icygkaW5qZWN0b3IsICRyb3V0ZSkgewogICAgcmV0dXJuICRpbmplY3Rvci5pbnZva2UoJHJvdXRlLmN1cnJlbnQucGFyYW1zLmlkID8gX2JyZWFkY3J1bWJzLmdldFNhdmVkU2hlZXRCcmVhZGNydW1icyA6IF9icmVhZGNydW1icy5nZXRDcmVhdGVCcmVhZGNydW1icyk7CiAgfSwKICBiYWRnZTogZnVuY3Rpb24gYmFkZ2UodWlDYXBhYmlsaXRpZXMpIHsKICAgIGlmICh1aUNhcGFiaWxpdGllcy50aW1lbGlvbi5zYXZlKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLmJhZGdlLnJlYWRPbmx5LnRleHQnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdSZWFkIG9ubHknCiAgICAgIH0pLAogICAgICB0b29sdGlwOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24uYmFkZ2UucmVhZE9ubHkudG9vbHRpcCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1VuYWJsZSB0byBzYXZlIFRpbWVsaW9uIHNoZWV0cycKICAgICAgfSksCiAgICAgIGljb25UeXBlOiAnZ2xhc3NlcycKICAgIH07CiAgfSwKICByZXNvbHZlOiB7CiAgICBzYXZlZFNoZWV0OiBmdW5jdGlvbiBzYXZlZFNoZWV0KHJlZGlyZWN0V2hlbk1pc3NpbmcsIHNhdmVkU2hlZXRzLCAkcm91dGUpIHsKICAgICAgcmV0dXJuIHNhdmVkU2hlZXRzLmdldCgkcm91dGUuY3VycmVudC5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKHNhdmVkU2hlZXQpIHsKICAgICAgICBpZiAoJHJvdXRlLmN1cnJlbnQucGFyYW1zLmlkKSB7CiAgICAgICAgICBfbmV3X3BsYXRmb3JtLm5wU3RhcnQuY29yZS5jaHJvbWUucmVjZW50bHlBY2Nlc3NlZC5hZGQoc2F2ZWRTaGVldC5nZXRGdWxsUGF0aCgpLCBzYXZlZFNoZWV0LnRpdGxlLCBzYXZlZFNoZWV0LmlkKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzYXZlZFNoZWV0OwogICAgICB9KS5jYXRjaChyZWRpcmVjdFdoZW5NaXNzaW5nKHsKICAgICAgICBzZWFyY2g6ICcvJwogICAgICB9KSk7CiAgICB9CiAgfQp9KTsKCnZhciBsb2NhdGlvbiA9ICdUaW1lbGlvbic7CmFwcC5jb250cm9sbGVyKCd0aW1lbGlvbicsIGZ1bmN0aW9uICgkaHR0cCwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRzY29wZSwgJHRpbWVvdXQsIEFwcFN0YXRlLCBjb25maWcsIGtiblVybCkgewogIC8vIEtlZXBpbmcgdGhpcyBhdCBhcHAgc2NvcGUgYWxsb3dzIHVzIHRvIGtlZXAgdGhlIGN1cnJlbnQgcGFnZSB3aGVuIHRoZSB1c2VyCiAgLy8gc3dpdGNoZXMgdG8gc2F5LCB0aGUgdGltZXBpY2tlci4KICAkc2NvcGUucGFnZSA9IGNvbmZpZy5nZXQoJ3RpbWVsaW9uOnNob3dUdXRvcmlhbCcsIHRydWUpID8gMSA6IDA7CgogICRzY29wZS5zZXRQYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHsKICAgIHJldHVybiAkc2NvcGUucGFnZSA9IHBhZ2U7CiAgfTsKCiAgX3RpbWVmaWx0ZXIudGltZWZpbHRlci5lbmFibGVBdXRvUmVmcmVzaFNlbGVjdG9yKCk7CgogIF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZW5hYmxlVGltZVJhbmdlU2VsZWN0b3IoKTsKCiAgdmFyIHNhdmVkVmlzdWFsaXphdGlvbnMgPSBfbGVnYWN5LnN0YXJ0LnNhdmVkVmlzdWFsaXphdGlvbnNMb2FkZXI7CiAgdmFyIHRpbWV6b25lID0gKDAsIF9wdWJsaWMuZ2V0VGltZXpvbmUpKGNvbmZpZyk7CiAgdmFyIGRlZmF1bHRFeHByZXNzaW9uID0gJy5lcygqKSc7CiAgdmFyIHNhdmVkU2hlZXQgPSAkcm91dGUuY3VycmVudC5sb2NhbHMuc2F2ZWRTaGVldDsKICAkc2NvcGUudG9wTmF2TWVudSA9IGdldFRvcE5hdk1lbnUoKTsKICAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICBpZiAoY29uZmlnLmdldCgndGltZWxpb246c2hvd1R1dG9yaWFsJywgdHJ1ZSkpIHsKICAgICAgJHNjb3BlLnRvZ2dsZU1lbnUoJ3Nob3dIZWxwJyk7CiAgICB9CiAgfSwgMCk7CiAgJHNjb3BlLnRyYW5zaWVudCA9IHt9OwogICRzY29wZS5zdGF0ZSA9IG5ldyBBcHBTdGF0ZShnZXRTdGF0ZURlZmF1bHRzKCkpOwoKICBmdW5jdGlvbiBnZXRTdGF0ZURlZmF1bHRzKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hlZXQ6IHNhdmVkU2hlZXQudGltZWxpb25fc2hlZXQsCiAgICAgIHNlbGVjdGVkOiAwLAogICAgICBjb2x1bW5zOiBzYXZlZFNoZWV0LnRpbWVsaW9uX2NvbHVtbnMsCiAgICAgIHJvd3M6IHNhdmVkU2hlZXQudGltZWxpb25fcm93cywKICAgICAgaW50ZXJ2YWw6IHNhdmVkU2hlZXQudGltZWxpb25faW50ZXJ2YWwKICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZXRUb3BOYXZNZW51KCkgewogICAgdmFyIG5ld1NoZWV0QWN0aW9uID0gewogICAgICBpZDogJ25ldycsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5uZXdTaGVldEJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTmV3JwogICAgICB9KSwKICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51Lm5ld1NoZWV0QnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTmV3IFNoZWV0JwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAga2JuVXJsLmNoYW5nZSgnLycpOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvbk5ld0J1dHRvbicKICAgIH07CiAgICB2YXIgYWRkU2hlZXRBY3Rpb24gPSB7CiAgICAgIGlkOiAnYWRkJywKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LmFkZENoYXJ0QnV0dG9uTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBZGQnCiAgICAgIH0pLAogICAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuYWRkQ2hhcnRCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBZGQgYSBjaGFydCcKICAgICAgfSksCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2NvcGUubmV3Q2VsbCgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvbkFkZENoYXJ0QnV0dG9uJwogICAgfTsKICAgIHZhciBzYXZlU2hlZXRBY3Rpb24gPSB7CiAgICAgIGlkOiAnc2F2ZScsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5zYXZlU2hlZXRCdXR0b25MYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUnCiAgICAgIH0pLAogICAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuc2F2ZVNoZWV0QnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZSBTaGVldCcKICAgICAgfSksCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2NvcGUudG9nZ2xlTWVudSgnc2hvd1NhdmUnKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdGVzdElkOiAndGltZWxpb25TYXZlQnV0dG9uJwogICAgfTsKICAgIHZhciBkZWxldGVTaGVldEFjdGlvbiA9IHsKICAgICAgaWQ6ICdkZWxldGUnLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuZGVsZXRlU2hlZXRCdXR0b25MYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZScKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5kZWxldGVTaGVldEJ1dHRvbkFyaWFMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZSBjdXJyZW50IHNoZWV0JwogICAgICB9KSwKICAgICAgZGlzYWJsZUJ1dHRvbjogZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbigpIHsKICAgICAgICByZXR1cm4gIXNhdmVkU2hlZXQuaWQ7CiAgICAgIH0sCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgIHZhciB0aXRsZSA9IHNhdmVkU2hlZXQudGl0bGU7CgogICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKCkgewogICAgICAgICAgc2F2ZWRTaGVldC5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX25vdGlmeS50b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcyhfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5kZWxldGUubW9kYWwuc3VjY2Vzc05vdGlmaWNhdGlvblRleHQnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJEZWxldGVkICd7dGl0bGV9JyIsCiAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGtiblVybC5jaGFuZ2UoJy8nKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICByZXR1cm4gKDAsIF9ub3RpZnkuZmF0YWxFcnJvcikoZXJyb3IsIGxvY2F0aW9uKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbmZpcm1Nb2RhbE9wdGlvbnMgPSB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuZGVsZXRlLm1vZGFsLmNvbmZpcm1CdXR0b25MYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUnCiAgICAgICAgICB9KSwKICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5kZWxldGUubW9kYWxUaXRsZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJEZWxldGUgVGltZWxpb24gc2hlZXQgJ3t0aXRsZX0nPyIsCiAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgIHRpdGxlOiB0aXRsZQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgX25ld19wbGF0Zm9ybS5ucFN0YXJ0LmNvcmUub3ZlcmxheXMub3BlbkNvbmZpcm0oX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuZGVsZXRlLm1vZGFsLndhcm5pbmdUZXh0JywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIllvdSBjYW4ndCByZWNvdmVyIGRlbGV0ZWQgc2hlZXRzLiIKICAgICAgICAgIH0pLCBjb25maXJtTW9kYWxPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChpc0NvbmZpcm1lZCkgewogICAgICAgICAgICBpZiAoaXNDb25maXJtZWQpIHsKICAgICAgICAgICAgICBkb0RlbGV0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdGVzdElkOiAndGltZWxpb25EZWxldGVCdXR0b24nCiAgICB9OwogICAgdmFyIG9wZW5TaGVldEFjdGlvbiA9IHsKICAgICAgaWQ6ICdvcGVuJywKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51Lm9wZW5TaGVldEJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3BlbicKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5vcGVuU2hlZXRCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdPcGVuIFNoZWV0JwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRzY29wZS50b2dnbGVNZW51KCdzaG93TG9hZCcpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvbk9wZW5CdXR0b24nCiAgICB9OwogICAgdmFyIG9wdGlvbnNBY3Rpb24gPSB7CiAgICAgIGlkOiAnb3B0aW9ucycsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5vcHRpb25zQnV0dG9uTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdPcHRpb25zJwogICAgICB9KSwKICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51Lm9wdGlvbnNCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdPcHRpb25zJwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRzY29wZS50b2dnbGVNZW51KCdzaG93T3B0aW9ucycpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvbk9wdGlvbnNCdXR0b24nCiAgICB9OwogICAgdmFyIGhlbHBBY3Rpb24gPSB7CiAgICAgIGlkOiAnaGVscCcsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5oZWxwQnV0dG9uTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdIZWxwJwogICAgICB9KSwKICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LmhlbHBCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdIZWxwJwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRzY29wZS50b2dnbGVNZW51KCdzaG93SGVscCcpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvbkRvY3NCdXR0b24nCiAgICB9OwoKICAgIGlmIChfY2FwYWJpbGl0aWVzLmNhcGFiaWxpdGllcy5nZXQoKS50aW1lbGlvbi5zYXZlKSB7CiAgICAgIHJldHVybiBbbmV3U2hlZXRBY3Rpb24sIGFkZFNoZWV0QWN0aW9uLCBzYXZlU2hlZXRBY3Rpb24sIGRlbGV0ZVNoZWV0QWN0aW9uLCBvcGVuU2hlZXRBY3Rpb24sIG9wdGlvbnNBY3Rpb24sIGhlbHBBY3Rpb25dOwogICAgfQoKICAgIHJldHVybiBbbmV3U2hlZXRBY3Rpb24sIGFkZFNoZWV0QWN0aW9uLCBvcGVuU2hlZXRBY3Rpb24sIG9wdGlvbnNBY3Rpb24sIGhlbHBBY3Rpb25dOwogIH0KCiAgdmFyIHJlZnJlc2hlcjsKCiAgdmFyIHNldFJlZnJlc2hEYXRhID0gZnVuY3Rpb24gc2V0UmVmcmVzaERhdGEoKSB7CiAgICBpZiAocmVmcmVzaGVyKSAkdGltZW91dC5jYW5jZWwocmVmcmVzaGVyKTsKCiAgICB2YXIgaW50ZXJ2YWwgPSBfdGltZWZpbHRlci50aW1lZmlsdGVyLmdldFJlZnJlc2hJbnRlcnZhbCgpOwoKICAgIGlmIChpbnRlcnZhbC52YWx1ZSA+IDAgJiYgIWludGVydmFsLnBhdXNlKSB7CiAgICAgIHZhciBzdGFydFJlZnJlc2ggPSBmdW5jdGlvbiBzdGFydFJlZnJlc2goKSB7CiAgICAgICAgcmVmcmVzaGVyID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCEkc2NvcGUucnVubmluZykgJHNjb3BlLnNlYXJjaCgpOwogICAgICAgICAgc3RhcnRSZWZyZXNoKCk7CiAgICAgICAgfSwgaW50ZXJ2YWwudmFsdWUpOwogICAgICB9OwoKICAgICAgc3RhcnRSZWZyZXNoKCk7CiAgICB9CiAgfTsKCiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkgewogICAgJHNjb3BlLnJ1bm5pbmcgPSBmYWxzZTsKICAgICRzY29wZS5zZWFyY2goKTsKICAgIHNldFJlZnJlc2hEYXRhKCk7CiAgICAkc2NvcGUubW9kZWwgPSB7CiAgICAgIHRpbWVSYW5nZTogX3RpbWVmaWx0ZXIudGltZWZpbHRlci5nZXRUaW1lKCksCiAgICAgIHJlZnJlc2hJbnRlcnZhbDogX3RpbWVmaWx0ZXIudGltZWZpbHRlci5nZXRSZWZyZXNoSW50ZXJ2YWwoKQogICAgfTsKICAgICRzY29wZS4kbGlzdGVuKCRzY29wZS5zdGF0ZSwgJ2ZldGNoX3dpdGhfY2hhbmdlcycsICRzY29wZS5zZWFyY2gpOwoKICAgIF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZ2V0RmV0Y2gkKCkuc3Vic2NyaWJlKCRzY29wZS5zZWFyY2gpOwoKICAgICRzY29wZS5vcHRzID0gewogICAgICBzYXZlRXhwcmVzc2lvbjogc2F2ZUV4cHJlc3Npb24sCiAgICAgIHNhdmVTaGVldDogc2F2ZVNoZWV0LAogICAgICBzYXZlZFNoZWV0OiBzYXZlZFNoZWV0LAogICAgICBzdGF0ZTogJHNjb3BlLnN0YXRlLAogICAgICBzZWFyY2g6ICRzY29wZS5zZWFyY2gsCiAgICAgIGRvbnRTaG93SGVscDogZnVuY3Rpb24gZG9udFNob3dIZWxwKCkgewogICAgICAgIGNvbmZpZy5zZXQoJ3RpbWVsaW9uOnNob3dUdXRvcmlhbCcsIGZhbHNlKTsKICAgICAgICAkc2NvcGUuc2V0UGFnZSgwKTsKICAgICAgICAkc2NvcGUuY2xvc2VNZW51cygpOwogICAgICB9CiAgICB9OwogICAgJHNjb3BlLm1lbnVzID0gewogICAgICBzaG93SGVscDogZmFsc2UsCiAgICAgIHNob3dTYXZlOiBmYWxzZSwKICAgICAgc2hvd0xvYWQ6IGZhbHNlLAogICAgICBzaG93T3B0aW9uczogZmFsc2UKICAgIH07CgogICAgJHNjb3BlLnRvZ2dsZU1lbnUgPSBmdW5jdGlvbiAobWVudU5hbWUpIHsKICAgICAgdmFyIGN1clN0YXRlID0gJHNjb3BlLm1lbnVzW21lbnVOYW1lXTsKICAgICAgJHNjb3BlLmNsb3NlTWVudXMoKTsKICAgICAgJHNjb3BlLm1lbnVzW21lbnVOYW1lXSA9ICFjdXJTdGF0ZTsKICAgIH07CgogICAgJHNjb3BlLmNsb3NlTWVudXMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIF9sb2Rhc2guZGVmYXVsdC5mb3JPd24oJHNjb3BlLm1lbnVzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICRzY29wZS5tZW51c1trZXldID0gZmFsc2U7CiAgICAgIH0pOwogICAgfTsKICB9OwoKICAkc2NvcGUub25UaW1lVXBkYXRlID0gZnVuY3Rpb24gKF9yZWYpIHsKICAgIHZhciBkYXRlUmFuZ2UgPSBfcmVmLmRhdGVSYW5nZTsKICAgICRzY29wZS5tb2RlbC50aW1lUmFuZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBkYXRlUmFuZ2UpOwoKICAgIF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuc2V0VGltZShkYXRlUmFuZ2UpOwogIH07CgogICRzY29wZS5vblJlZnJlc2hDaGFuZ2UgPSBmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBpc1BhdXNlZCA9IF9yZWYyLmlzUGF1c2VkLAogICAgICAgIHJlZnJlc2hJbnRlcnZhbCA9IF9yZWYyLnJlZnJlc2hJbnRlcnZhbDsKICAgICRzY29wZS5tb2RlbC5yZWZyZXNoSW50ZXJ2YWwgPSB7CiAgICAgIHBhdXNlOiBpc1BhdXNlZCwKICAgICAgdmFsdWU6IHJlZnJlc2hJbnRlcnZhbAogICAgfTsKCiAgICBfdGltZWZpbHRlci50aW1lZmlsdGVyLnNldFJlZnJlc2hJbnRlcnZhbCh7CiAgICAgIHBhdXNlOiBpc1BhdXNlZCwKICAgICAgdmFsdWU6IHJlZnJlc2hJbnRlcnZhbCA/IHJlZnJlc2hJbnRlcnZhbCA6ICRzY29wZS5yZWZyZXNoSW50ZXJ2YWwudmFsdWUKICAgIH0pOwoKICAgIHNldFJlZnJlc2hEYXRhKCk7CiAgfTsKCiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc2F2ZWRTaGVldC5sYXN0U2F2ZWRUaXRsZTsKICB9LCBmdW5jdGlvbiAobmV3VGl0bGUpIHsKICAgIF9kb2NfdGl0bGUuZG9jVGl0bGUuY2hhbmdlKHNhdmVkU2hlZXQuaWQgPyBuZXdUaXRsZSA6IHVuZGVmaW5lZCk7CiAgfSk7CgogICRzY29wZS50b2dnbGUgPSBmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICRzY29wZVtwcm9wZXJ0eV0gPSAhJHNjb3BlW3Byb3BlcnR5XTsKICB9OwoKICAkc2NvcGUubmV3U2hlZXQgPSBmdW5jdGlvbiAoKSB7CiAgICBrYm5VcmwuY2hhbmdlKCcvJywge30pOwogIH07CgogICRzY29wZS5uZXdDZWxsID0gZnVuY3Rpb24gKCkgewogICAgJHNjb3BlLnN0YXRlLnNoZWV0LnB1c2goZGVmYXVsdEV4cHJlc3Npb24pOwogICAgJHNjb3BlLnN0YXRlLnNlbGVjdGVkID0gJHNjb3BlLnN0YXRlLnNoZWV0Lmxlbmd0aCAtIDE7CiAgICAkc2NvcGUuc2FmZVNlYXJjaCgpOwogIH07CgogICRzY29wZS5zZXRBY3RpdmVDZWxsID0gZnVuY3Rpb24gKGNlbGwpIHsKICAgICRzY29wZS5zdGF0ZS5zZWxlY3RlZCA9IGNlbGw7CiAgfTsKCiAgJHNjb3BlLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICAgICRzY29wZS5zdGF0ZS5zYXZlKCk7CiAgICAkc2NvcGUucnVubmluZyA9IHRydWU7IC8vIHBhcnNlIHRoZSB0aW1lIHJhbmdlIGNsaWVudCBzaWRlIHRvIG1ha2Ugc3VyZSBpdCBiZWhhdmVzIGxpa2Ugb3RoZXIgY2hhcnRzCgogICAgdmFyIHRpbWVSYW5nZUJvdW5kcyA9IF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZ2V0Qm91bmRzKCk7CgogICAgdmFyIGh0dHBSZXN1bHQgPSAkaHR0cC5wb3N0KCcuLi9hcGkvdGltZWxpb24vcnVuJywgewogICAgICBzaGVldDogJHNjb3BlLnN0YXRlLnNoZWV0LAogICAgICB0aW1lOiBfbG9kYXNoLmRlZmF1bHQuZXh0ZW5kKHsKICAgICAgICBmcm9tOiB0aW1lUmFuZ2VCb3VuZHMubWluLAogICAgICAgIHRvOiB0aW1lUmFuZ2VCb3VuZHMubWF4CiAgICAgIH0sIHsKICAgICAgICBpbnRlcnZhbDogJHNjb3BlLnN0YXRlLmludGVydmFsLAogICAgICAgIHRpbWV6b25lOiB0aW1lem9uZQogICAgICB9KQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICByZXR1cm4gcmVzcC5kYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdGhyb3cgcmVzcC5kYXRhOwogICAgfSk7CiAgICBodHRwUmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgJHNjb3BlLnN0YXRzID0gcmVzcC5zdGF0czsKICAgICAgJHNjb3BlLnNoZWV0ID0gcmVzcC5zaGVldDsKCiAgICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKHJlc3Auc2hlZXQsIGZ1bmN0aW9uIChjZWxsKSB7CiAgICAgICAgaWYgKGNlbGwuZXhjZXB0aW9uKSB7CiAgICAgICAgICAkc2NvcGUuc3RhdGUuc2VsZWN0ZWQgPSBjZWxsLnBsb3Q7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgICRzY29wZS5ydW5uaW5nID0gZmFsc2U7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcCkgewogICAgICAkc2NvcGUuc2hlZXQgPSBbXTsKICAgICAgJHNjb3BlLnJ1bm5pbmcgPSBmYWxzZTsKICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihyZXNwLm1lc3NhZ2UpOwogICAgICBlcnIuc3RhY2sgPSByZXNwLnN0YWNrOwoKICAgICAgX25vdGlmeS50b2FzdE5vdGlmaWNhdGlvbnMuYWRkRXJyb3IoZXJyLCB7CiAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5zZWFyY2hFcnJvclRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaW1lbGlvbiByZXF1ZXN0IGVycm9yJwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgJHNjb3BlLnNhZmVTZWFyY2ggPSBfbG9kYXNoLmRlZmF1bHQuZGVib3VuY2UoJHNjb3BlLnNlYXJjaCwgNTAwKTsKCiAgZnVuY3Rpb24gc2F2ZVNoZWV0KCkgewogICAgc2F2ZWRTaGVldC50aW1lbGlvbl9zaGVldCA9ICRzY29wZS5zdGF0ZS5zaGVldDsKICAgIHNhdmVkU2hlZXQudGltZWxpb25faW50ZXJ2YWwgPSAkc2NvcGUuc3RhdGUuaW50ZXJ2YWw7CiAgICBzYXZlZFNoZWV0LnRpbWVsaW9uX2NvbHVtbnMgPSAkc2NvcGUuc3RhdGUuY29sdW1uczsKICAgIHNhdmVkU2hlZXQudGltZWxpb25fcm93cyA9ICRzY29wZS5zdGF0ZS5yb3dzOwogICAgc2F2ZWRTaGVldC5zYXZlKCkudGhlbihmdW5jdGlvbiAoaWQpIHsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgX25vdGlmeS50b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2Vzcyh7CiAgICAgICAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnNhdmVTaGVldC5zdWNjZXNzTm90aWZpY2F0aW9uVGV4dCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZlZCBzaGVldCAne3RpdGxlfSciLAogICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICB0aXRsZTogc2F2ZWRTaGVldC50aXRsZQogICAgICAgICAgICB9CiAgICAgICAgICB9KSwKICAgICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICd0aW1lbGlvblNhdmVTdWNjZXNzVG9hc3QnCiAgICAgICAgfSk7CgogICAgICAgIGlmIChzYXZlZFNoZWV0LmlkICE9PSAkcm91dGVQYXJhbXMuaWQpIHsKICAgICAgICAgIGtiblVybC5jaGFuZ2UoJy97e2lkfX0nLCB7CiAgICAgICAgICAgIGlkOiBzYXZlZFNoZWV0LmlkCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gc2F2ZUV4cHJlc3Npb24odGl0bGUpIHsKICAgIHNhdmVkVmlzdWFsaXphdGlvbnMuZ2V0KHsKICAgICAgdHlwZTogJ3RpbWVsaW9uJwogICAgfSkudGhlbihmdW5jdGlvbiAoc2F2ZWRFeHByZXNzaW9uKSB7CiAgICAgIHNhdmVkRXhwcmVzc2lvbi52aXNTdGF0ZS5wYXJhbXMgPSB7CiAgICAgICAgZXhwcmVzc2lvbjogJHNjb3BlLnN0YXRlLnNoZWV0WyRzY29wZS5zdGF0ZS5zZWxlY3RlZF0sCiAgICAgICAgaW50ZXJ2YWw6ICRzY29wZS5zdGF0ZS5pbnRlcnZhbAogICAgICB9OwogICAgICBzYXZlZEV4cHJlc3Npb24udGl0bGUgPSB0aXRsZTsKICAgICAgc2F2ZWRFeHByZXNzaW9uLnZpc1N0YXRlLnRpdGxlID0gdGl0bGU7CiAgICAgIHNhdmVkRXhwcmVzc2lvbi5zYXZlKCkudGhlbihmdW5jdGlvbiAoaWQpIHsKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIF9ub3RpZnkudG9hc3ROb3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnNhdmVFeHByZXNzaW9uLnN1Y2Nlc3NOb3RpZmljYXRpb25UZXh0JywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNhdmVkIGV4cHJlc3Npb24gJ3t0aXRsZX0nIiwKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgdGl0bGU6IHNhdmVkRXhwcmVzc2lvbi50aXRsZQogICAgICAgICAgICB9CiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgaW5pdCgpOwp9KTs="},null]}