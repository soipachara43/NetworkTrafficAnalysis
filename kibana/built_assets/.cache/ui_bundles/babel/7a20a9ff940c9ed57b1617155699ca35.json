{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/timeline/selectable_timeline/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/timeline/selectable_timeline/index.js","mtime":1589249553200},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNlbGVjdGFibGVUaW1lbGluZSA9IHZvaWQgMDsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX2ZwID0gcmVxdWlyZSgibG9kYXNoL2ZwIik7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3N0eWxlZENvbXBvbmVudHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInN0eWxlZC1jb21wb25lbnRzIikpOwoKdmFyIF9hbGwgPSByZXF1aXJlKCIuLi8uLi8uLi9jb250YWluZXJzL3RpbWVsaW5lL2FsbCIpOwoKdmFyIF90eXBlcyA9IHJlcXVpcmUoIi4uLy4uLy4uL2dyYXBocWwvdHlwZXMiKTsKCnZhciBfaGVscGVycyA9IHJlcXVpcmUoIi4uLy4uL29wZW5fdGltZWxpbmUvaGVscGVycyIpOwoKdmFyIGkxOG5UaW1lbGluZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4uLy4uL29wZW5fdGltZWxpbmUvdHJhbnNsYXRpb25zIikpOwoKdmFyIF9lbXB0eV92YWx1ZSA9IHJlcXVpcmUoIi4uLy4uL2VtcHR5X3ZhbHVlIik7Cgp2YXIgaTE4biA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4uL3RyYW5zbGF0aW9ucyIpKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIE15RXVpRmxleEl0ZW0gPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdCkoX2V1aS5FdWlGbGV4SXRlbSkud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJNeUV1aUZsZXhJdGVtIiwKICBjb21wb25lbnRJZDogInNzaDQzay0wIgp9KShbImRpc3BsYXk6aW5saW5lLWJsb2NrO21heC13aWR0aDoyOTZweDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7Il0pOwp2YXIgTXlFdWlGbGV4R3JvdXAgPSAoMCwgX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdCkoX2V1aS5FdWlGbGV4R3JvdXApLndpdGhDb25maWcoewogIGRpc3BsYXlOYW1lOiAiTXlFdWlGbGV4R3JvdXAiLAogIGNvbXBvbmVudElkOiAic3NoNDNrLTEiCn0pKFsicGFkZGluZyAwcHggNHB4OyJdKTsKCnZhciBFdWlTZWxlY3RhYmxlQ29udGFpbmVyID0gX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdC5kaXYud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJFdWlTZWxlY3RhYmxlQ29udGFpbmVyIiwKICBjb21wb25lbnRJZDogInNzaDQzay0yIgp9KShbIi5ldWlTZWxlY3RhYmxley5ldWlGb3JtQ29udHJvbExheW91dF9fY2hpbGRyZW5XcmFwcGVye2Rpc3BsYXk6ZmxleDt9IiwgIn0iXSwgZnVuY3Rpb24gKF9yZWYpIHsKICB2YXIgaXNMb2FkaW5nID0gX3JlZi5pc0xvYWRpbmc7CiAgcmV0dXJuICIiLmNvbmNhdChpc0xvYWRpbmcgPyAiXG4gICAgICAuZXVpRm9ybUNvbnRyb2xMYXlvdXRJY29ucyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuZXVpRm9ybUNvbnRyb2xMYXlvdXRJY29ucy5ldWlGb3JtQ29udHJvbExheW91dEljb25zLS1yaWdodCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBsZWZ0OiAxMnB4O1xuICAgICAgICB0b3A6IDEycHg7XG4gICAgICB9IiA6ICcnLCAiXG4gICAgIik7Cn0pOwoKdmFyIE9SSUdJTkFMX1BBR0VfU0laRSA9IDUwOwp2YXIgUE9QT1ZFUl9IRUlHSFQgPSAyNjA7CnZhciBUSU1FTElORV9JVEVNX0hFSUdIVCA9IDUwOwoKdmFyIFNlbGVjdGFibGVUaW1lbGluZUNvbXBvbmVudCA9IGZ1bmN0aW9uIFNlbGVjdGFibGVUaW1lbGluZUNvbXBvbmVudChfcmVmMikgewogIHZhciBfcmVmMiRoaWRlVW50aXRsZWQgPSBfcmVmMi5oaWRlVW50aXRsZWQsCiAgICAgIGhpZGVVbnRpdGxlZCA9IF9yZWYyJGhpZGVVbnRpdGxlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiRoaWRlVW50aXRsZWQsCiAgICAgIGdldFNlbGVjdGFibGVPcHRpb25zID0gX3JlZjIuZ2V0U2VsZWN0YWJsZU9wdGlvbnMsCiAgICAgIG9uQ2xvc2VQb3BvdmVyID0gX3JlZjIub25DbG9zZVBvcG92ZXIsCiAgICAgIG9uVGltZWxpbmVDaGFuZ2UgPSBfcmVmMi5vblRpbWVsaW5lQ2hhbmdlOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoT1JJR0lOQUxfUEFHRV9TSVpFKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHBhZ2VTaXplID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0UGFnZVNpemUgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKDApLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGhlaWdodFRyaWdnZXIgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRIZWlnaHRUcmlnZ2VyID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSgnJyksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VhcmNoVGltZWxpbmVWYWx1ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNlYXJjaFRpbWVsaW5lVmFsdWUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBvbmx5RmF2b3JpdGVzID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0T25seUZhdm9yaXRlcyA9IF91c2VTdGF0ZThbMV07CgogIHZhciBfdXNlU3RhdGU5ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkobnVsbCksCiAgICAgIF91c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlOSwgMiksCiAgICAgIHNlYXJjaFJlZiA9IF91c2VTdGF0ZTEwWzBdLAogICAgICBzZXRTZWFyY2hSZWYgPSBfdXNlU3RhdGUxMFsxXTsKCiAgdmFyIG9uU2VhcmNoVGltZWxpbmUgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAodmFsKSB7CiAgICBzZXRTZWFyY2hUaW1lbGluZVZhbHVlKHZhbCk7CiAgfSwgW10pOwogIHZhciBoYW5kbGVPblRvZ2dsZU9ubHlGYXZvcml0ZXMgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoKSB7CiAgICBzZXRPbmx5RmF2b3JpdGVzKCFvbmx5RmF2b3JpdGVzKTsKICB9LCBbb25seUZhdm9yaXRlc10pOwogIHZhciBoYW5kbGVPblNjcm9sbCA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uICh0b3RhbFRpbWVsaW5lcywgdG90YWxDb3VudCwgX3JlZjMpIHsKICAgIHZhciBjbGllbnRIZWlnaHQgPSBfcmVmMy5jbGllbnRIZWlnaHQsCiAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3JlZjMuc2Nyb2xsSGVpZ2h0LAogICAgICAgIHNjcm9sbFRvcCA9IF9yZWYzLnNjcm9sbFRvcDsKCiAgICBpZiAodG90YWxUaW1lbGluZXMgPCB0b3RhbENvdW50KSB7CiAgICAgIHZhciBjbGllbnRIZWlnaHRUcmlnZ2VyID0gY2xpZW50SGVpZ2h0ICogMS4yOwoKICAgICAgaWYgKHNjcm9sbFRvcCA+IDEwICYmIHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCA8IGNsaWVudEhlaWdodFRyaWdnZXIgJiYgc2Nyb2xsSGVpZ2h0ID4gaGVpZ2h0VHJpZ2dlcikgewogICAgICAgIHNldEhlaWdodFRyaWdnZXIoc2Nyb2xsSGVpZ2h0KTsKICAgICAgICBzZXRQYWdlU2l6ZShwYWdlU2l6ZSArIE9SSUdJTkFMX1BBR0VfU0laRSk7CiAgICAgIH0KICAgIH0KICB9LCBbaGVpZ2h0VHJpZ2dlciwgcGFnZVNpemVdKTsKICB2YXIgcmVuZGVyVGltZWxpbmVPcHRpb24gPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAob3B0aW9uLCBzZWFyY2hWYWx1ZSkgewogICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgZ3V0dGVyU2l6ZTogInMiLAogICAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIsCiAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiLAogICAgICByZXNwb25zaXZlOiBmYWxzZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgIGdyb3c6IGZhbHNlCiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpSWNvbiwgewogICAgICB0eXBlOiAiIi5jb25jYXQob3B0aW9uLmNoZWNrZWQgPT09ICdvbicgPyAnY2hlY2snIDogJ25vbmUnKSwKICAgICAgY29sb3I6ICJwcmltYXJ5IgogICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgZ3JvdzogdHJ1ZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICBndXR0ZXJTaXplOiAibm9uZSIsCiAgICAgIGRpcmVjdGlvbjogImNvbHVtbiIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTXlFdWlGbGV4SXRlbSwgewogICAgICBncm93OiBmYWxzZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUhpZ2hsaWdodCwgewogICAgICBzZWFyY2g6IHNlYXJjaFZhbHVlCiAgICB9LCAoMCwgX2hlbHBlcnMuaXNVbnRpdGxlZCkob3B0aW9uKSA/IGkxOG5UaW1lbGluZS5VTlRJVExFRF9USU1FTElORSA6IG9wdGlvbi50aXRsZSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KE15RXVpRmxleEl0ZW0sIHsKICAgICAgZ3JvdzogZmFsc2UKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0Q29sb3IsIHsKICAgICAgY29sb3I6ICJzdWJkdWVkIiwKICAgICAgY29tcG9uZW50OiAic3BhbiIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInNtYWxsIiwgbnVsbCwgb3B0aW9uLmRlc2NyaXB0aW9uICE9IG51bGwgJiYgb3B0aW9uLmRlc2NyaXB0aW9uLnRyaW0oKS5sZW5ndGggPiAwID8gb3B0aW9uLmRlc2NyaXB0aW9uIDogKDAsIF9lbXB0eV92YWx1ZS5nZXRFbXB0eVRhZ1ZhbHVlKSgpKSkpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICBncm93OiBmYWxzZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUljb24sIHsKICAgICAgdHlwZTogIiIuY29uY2F0KG9wdGlvbi5mYXZvcml0ZSAhPSBudWxsICYmICgwLCBfZnAuaXNFbXB0eSkob3B0aW9uLmZhdm9yaXRlKSA/ICdzdGFyRW1wdHknIDogJ3N0YXJGaWxsZWQnKQogICAgfSkpKTsKICB9LCBbXSk7CiAgdmFyIGhhbmRsZVRpbWVsaW5lQ2hhbmdlID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIHZhciBzZWxlY3RlZFRpbWVsaW5lID0gb3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikgewogICAgICByZXR1cm4gb3B0aW9uLmNoZWNrZWQgPT09ICdvbic7CiAgICB9KTsKCiAgICBpZiAoc2VsZWN0ZWRUaW1lbGluZSAhPSBudWxsICYmIHNlbGVjdGVkVGltZWxpbmUubGVuZ3RoID4gMCkgewogICAgICBvblRpbWVsaW5lQ2hhbmdlKCgwLCBfZnAuaXNFbXB0eSkoc2VsZWN0ZWRUaW1lbGluZVswXS50aXRsZSkgPyBpMThuVGltZWxpbmUuVU5USVRMRURfVElNRUxJTkUgOiBzZWxlY3RlZFRpbWVsaW5lWzBdLnRpdGxlLCBzZWxlY3RlZFRpbWVsaW5lWzBdLmlkID09PSAnLTEnID8gbnVsbCA6IHNlbGVjdGVkVGltZWxpbmVbMF0uaWQpOwogICAgfQoKICAgIG9uQ2xvc2VQb3BvdmVyKCk7CiAgfSwgW29uQ2xvc2VQb3BvdmVyLCBvblRpbWVsaW5lQ2hhbmdlXSk7CiAgdmFyIGZhdm9yaXRlUG9ydGFsID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc2VhcmNoUmVmICE9IG51bGwgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpUG9ydGFsLCB7CiAgICAgIGluc2VydDogewogICAgICAgIHNpYmxpbmc6IHNlYXJjaFJlZiwKICAgICAgICBwb3NpdGlvbjogJ2FmdGVyJwogICAgICB9CiAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KE15RXVpRmxleEdyb3VwLCB7CiAgICAgIGd1dHRlclNpemU6ICJ4cyIsCiAgICAgIGp1c3RpZnlDb250ZW50OiAiZmxleEVuZCIKICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICBncm93OiBmYWxzZQogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpbHRlckdyb3VwLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmlsdGVyQnV0dG9uLCB7CiAgICAgIHNpemU6ICJsIiwKICAgICAgImRhdGEtdGVzdC1zdWJqIjogIm9ubHktZmF2b3JpdGVzLXRvZ2dsZSIsCiAgICAgIGhhc0FjdGl2ZUZpbHRlcnM6IG9ubHlGYXZvcml0ZXMsCiAgICAgIG9uQ2xpY2s6IGhhbmRsZU9uVG9nZ2xlT25seUZhdm9yaXRlcwogICAgfSwgaTE4blRpbWVsaW5lLk9OTFlfRkFWT1JJVEVTKSkpKSkgOiBudWxsOwogIH0sIFtzZWFyY2hSZWYsIG9ubHlGYXZvcml0ZXMsIGhhbmRsZU9uVG9nZ2xlT25seUZhdm9yaXRlc10pOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hbGwuQWxsVGltZWxpbmVzUXVlcnksIHsKICAgIHBhZ2VJbmZvOiB7CiAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgcGFnZVNpemU6IHBhZ2VTaXplCiAgICB9LAogICAgc2VhcmNoOiBzZWFyY2hUaW1lbGluZVZhbHVlLAogICAgc29ydDogewogICAgICBzb3J0RmllbGQ6IF90eXBlcy5Tb3J0RmllbGRUaW1lbGluZS51cGRhdGVkLAogICAgICBzb3J0T3JkZXI6IF90eXBlcy5EaXJlY3Rpb24uZGVzYwogICAgfSwKICAgIG9ubHlVc2VyRmF2b3JpdGU6IG9ubHlGYXZvcml0ZXMKICB9LCBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciB0aW1lbGluZXMgPSBfcmVmNC50aW1lbGluZXMsCiAgICAgICAgbG9hZGluZyA9IF9yZWY0LmxvYWRpbmcsCiAgICAgICAgdG90YWxDb3VudCA9IF9yZWY0LnRvdGFsQ291bnQ7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChFdWlTZWxlY3RhYmxlQ29udGFpbmVyLCB7CiAgICAgIGlzTG9hZGluZzogbG9hZGluZwogICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNlbGVjdGFibGUsIHsKICAgICAgaGVpZ2h0OiBQT1BPVkVSX0hFSUdIVCwKICAgICAgaXNMb2FkaW5nOiBsb2FkaW5nICYmIHRpbWVsaW5lcy5sZW5ndGggPT09IDAsCiAgICAgIGxpc3RQcm9wczogewogICAgICAgIHJvd0hlaWdodDogVElNRUxJTkVfSVRFTV9IRUlHSFQsCiAgICAgICAgc2hvd0ljb25zOiBmYWxzZSwKICAgICAgICB2aXJ0dWFsaXplZFByb3BzOiB7CiAgICAgICAgICBvblNjcm9sbDogaGFuZGxlT25TY3JvbGwuYmluZChudWxsLCB0aW1lbGluZXMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiAhaGlkZVVudGl0bGVkIHx8IHQudGl0bGUgIT09ICcnOwogICAgICAgICAgfSkubGVuZ3RoLCB0b3RhbENvdW50KQogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyT3B0aW9uOiByZW5kZXJUaW1lbGluZU9wdGlvbiwKICAgICAgb25DaGFuZ2U6IGhhbmRsZVRpbWVsaW5lQ2hhbmdlLAogICAgICBzZWFyY2hhYmxlOiB0cnVlLAogICAgICBzZWFyY2hQcm9wczogewogICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICd0aW1lbGluZS1zdXBlci1zZWxlY3Qtc2VhcmNoLWJveCcsCiAgICAgICAgaXNMb2FkaW5nOiBsb2FkaW5nLAogICAgICAgIHBsYWNlaG9sZGVyOiBpMThuLlNFQVJDSF9CT1hfVElNRUxJTkVfUExBQ0VIT0xERVIsCiAgICAgICAgb25TZWFyY2g6IG9uU2VhcmNoVGltZWxpbmUsCiAgICAgICAgaW5jcmVtZW50YWw6IGZhbHNlLAogICAgICAgIGlucHV0UmVmOiBmdW5jdGlvbiBpbnB1dFJlZihyZWYpIHsKICAgICAgICAgIHNldFNlYXJjaFJlZihyZWYpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2luZ2xlU2VsZWN0aW9uOiB0cnVlLAogICAgICBvcHRpb25zOiBnZXRTZWxlY3RhYmxlT3B0aW9ucyh7CiAgICAgICAgdGltZWxpbmVzOiB0aW1lbGluZXMsCiAgICAgICAgb25seUZhdm9yaXRlczogb25seUZhdm9yaXRlcywKICAgICAgICBzZWFyY2hUaW1lbGluZVZhbHVlOiBzZWFyY2hUaW1lbGluZVZhbHVlCiAgICAgIH0pCiAgICB9LCBmdW5jdGlvbiAobGlzdCwgc2VhcmNoKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBzZWFyY2gsIGZhdm9yaXRlUG9ydGFsLCBsaXN0KTsKICAgIH0pKTsKICB9KSk7Cn07Cgp2YXIgU2VsZWN0YWJsZVRpbWVsaW5lID0gKDAsIF9yZWFjdC5tZW1vKShTZWxlY3RhYmxlVGltZWxpbmVDb21wb25lbnQpOwpleHBvcnRzLlNlbGVjdGFibGVUaW1lbGluZSA9IFNlbGVjdGFibGVUaW1lbGluZTs="},null]}