{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/vis_type_timeseries/public/components/vis_editor_visualization.js","dependencies":[{"path":"src/legacy/core_plugins/vis_type_timeseries/public/components/vis_editor_visualization.js","mtime":1589249550022},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlZpc0VkaXRvclZpc3VhbGl6YXRpb24gPSB2b2lkIDA7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfZ2V0X2ludGVydmFsID0gcmVxdWlyZSgiLi9saWIvZ2V0X2ludGVydmFsIik7Cgp2YXIgX3BhbmVsX3R5cGVzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy92aXNfdHlwZV90aW1lc2VyaWVzL2NvbW1vbi9wYW5lbF90eXBlcyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIE1JTl9DSEFSVF9IRUlHSFQgPSAzMDA7Cgp2YXIgVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhWaXNFZGl0b3JWaXN1YWxpemF0aW9uVUksIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBWaXNFZGl0b3JWaXN1YWxpemF0aW9uVUkocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihWaXNFZGl0b3JWaXN1YWxpemF0aW9uVUkpLmNhbGwodGhpcywgcHJvcHMpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVNb3VzZURvd24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX3RoaXMuaGFuZGxlTW91c2VVcCk7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZHJhZ2dpbmc6IHRydWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVNb3VzZVVwIiwgZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLmhhbmRsZU1vdXNlVXApOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGRyYWdnaW5nOiBmYWxzZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZU1vdXNlTW92ZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoX3RoaXMuc3RhdGUuZHJhZ2dpbmcpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KE1JTl9DSEFSVF9IRUlHSFQsIHByZXZTdGF0ZS5oZWlnaHQgKyBldmVudC5tb3ZlbWVudFkpCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblNpemVIYW5kbGVLZXlEb3duIiwgZnVuY3Rpb24gKGV2KSB7CiAgICAgIHZhciBrZXlDb2RlID0gZXYua2V5Q29kZTsKCiAgICAgIGlmIChrZXlDb2RlID09PSBfZXVpLmtleUNvZGVzLlVQIHx8IGtleUNvZGUgPT09IF9ldWkua2V5Q29kZXMuRE9XTikgewogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICAgIHZhciBuZXdIZWlnaHQgPSBwcmV2U3RhdGUuaGVpZ2h0ICsgKGtleUNvZGUgPT09IF9ldWkua2V5Q29kZXMuVVAgPyAtMTUgOiAxNSk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KE1JTl9DSEFSVF9IRUlHSFQsIG5ld0hlaWdodCkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF90aGlzLnN0YXRlID0gewogICAgICBoZWlnaHQ6IE1JTl9DSEFSVF9IRUlHSFQsCiAgICAgIGRyYWdnaW5nOiBmYWxzZSwKICAgICAgcGFuZWxJbnRlcnZhbDogMAogICAgfTsKICAgIF90aGlzLl92aXNFbCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZVJlZigpOwogICAgX3RoaXMuX3N1YnNjcmlwdGlvbiA9IG51bGw7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJLCBbewogICAga2V5OiAiX2xvYWRWaXN1YWxpemF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZFZpc3VhbGl6YXRpb24yID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIF90aGlzJHByb3BzLCBvbkRhdGFDaGFuZ2UsIGVtYmVkZGFibGVIYW5kbGVyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlzRWwuY3VycmVudCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywgb25EYXRhQ2hhbmdlID0gX3RoaXMkcHJvcHMub25EYXRhQ2hhbmdlLCBlbWJlZGRhYmxlSGFuZGxlciA9IF90aGlzJHByb3BzLmVtYmVkZGFibGVIYW5kbGVyOwogICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlciA9IGVtYmVkZGFibGVIYW5kbGVyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlci5yZW5kZXIodGhpcy5fdmlzRWwuY3VycmVudCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbiA9IHRoaXMuX2hhbmRsZXIuaGFuZGxlci5kYXRhJC5zdWJzY3JpYmUoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFBhbmVsSW50ZXJ2YWwoZGF0YS52YWx1ZS52aXNEYXRhKTsKCiAgICAgICAgICAgICAgICAgIG9uRGF0YUNoYW5nZShkYXRhLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gX2xvYWRWaXN1YWxpemF0aW9uKCkgewogICAgICAgIHJldHVybiBfbG9hZFZpc3VhbGl6YXRpb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBfbG9hZFZpc3VhbGl6YXRpb247CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzZXRQYW5lbEludGVydmFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYW5lbEludGVydmFsKHZpc0RhdGEpIHsKICAgICAgdmFyIHBhbmVsSW50ZXJ2YWwgPSAoMCwgX2dldF9pbnRlcnZhbC5nZXRJbnRlcnZhbCkodmlzRGF0YSwgdGhpcy5wcm9wcy5tb2RlbCk7CgogICAgICBpZiAodGhpcy5zdGF0ZS5wYW5lbEludGVydmFsICE9PSBwYW5lbEludGVydmFsKSB7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBwYW5lbEludGVydmFsOiBwYW5lbEludGVydmFsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVzaXplIHRoZSBjaGFydCBoZWlnaHQgd2hlbiBwcmVzc2luZyB1cC9kb3duIHdoaWxlIHRoZSBkcmFnIGhhbmRsZQogICAgICogZm9yIHJlc2l6aW5nIGhhcyB0aGUgZm9jdXMuCiAgICAgKiBXZSB1c2UgMTVweCBzdGVwcyB0byBkbyB0aGUgc2NhbGluZyBhbmQgbWFrZSBzdXJlIHRoZSBjaGFydCBoYXMgYXQgbGVhc3QgaXRzCiAgICAgKiBkZWZpbmVkIG1pbmltdW0gd2lkdGggKE1JTl9DSEFSVF9IRUlHSFQpLgogICAgICovCgogIH0sIHsKICAgIGtleTogImhhc1Nob3dQYW5lbEludGVydmFsVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1Nob3dQYW5lbEludGVydmFsVmFsdWUoKSB7CiAgICAgIHZhciB0eXBlID0gKDAsIF9sb2Rhc2guZ2V0KSh0aGlzLnByb3BzLCAnbW9kZWwudHlwZScsICcnKTsKICAgICAgdmFyIGludGVydmFsID0gKDAsIF9sb2Rhc2guZ2V0KSh0aGlzLnByb3BzLCAnbW9kZWwuaW50ZXJ2YWwnLCBfZ2V0X2ludGVydmFsLkFVVE9fSU5URVJWQUwpOwogICAgICByZXR1cm4gW19wYW5lbF90eXBlcy5QQU5FTF9UWVBFUy5NRVRSSUMsIF9wYW5lbF90eXBlcy5QQU5FTF9UWVBFUy5UT1BfTiwgX3BhbmVsX3R5cGVzLlBBTkVMX1RZUEVTLkdBVUdFLCBfcGFuZWxfdHlwZXMuUEFORUxfVFlQRVMuTUFSS0RPV04sIF9wYW5lbF90eXBlcy5QQU5FTF9UWVBFUy5UQUJMRV0uaW5jbHVkZXModHlwZSkgJiYgKCgwLCBfZ2V0X2ludGVydmFsLmlzQXV0b0ludGVydmFsKShpbnRlcnZhbCkgfHwgKDAsIF9nZXRfaW50ZXJ2YWwuaXNHdGVJbnRlcnZhbCkoaW50ZXJ2YWwpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRGb3JtYXR0ZWRQYW5lbEludGVydmFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRQYW5lbEludGVydmFsKCkgewogICAgICB2YXIgaW50ZXJ2YWwgPSAoMCwgX2dldF9pbnRlcnZhbC5jb252ZXJ0SW50ZXJ2YWxJbnRvVW5pdCkodGhpcy5zdGF0ZS5wYW5lbEludGVydmFsLCBmYWxzZSk7CiAgICAgIHJldHVybiBpbnRlcnZhbCA/ICIiLmNvbmNhdChpbnRlcnZhbC51bml0VmFsdWUpLmNvbmNhdChpbnRlcnZhbC51bml0U3RyaW5nKSA6IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7CgogICAgICBpZiAodGhpcy5faGFuZGxlcikgewogICAgICAgIHRoaXMuX2hhbmRsZXIuZGVzdHJveSgpOwogICAgICB9CgogICAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7CgogICAgICB0aGlzLl9sb2FkVmlzdWFsaXphdGlvbigpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkgewogICAgICBpZiAodGhpcy5faGFuZGxlcikgewogICAgICAgIHRoaXMuX2hhbmRsZXIudXBkYXRlSW5wdXQoewogICAgICAgICAgdGltZVJhbmdlOiB0aGlzLnByb3BzLnRpbWVSYW5nZSwKICAgICAgICAgIGZpbHRlcnM6IHRoaXMucHJvcHMuZmlsdGVycyB8fCBbXSwKICAgICAgICAgIHF1ZXJ5OiB0aGlzLnByb3BzLnF1ZXJ5CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBkaXJ0eSA9IF90aGlzJHByb3BzMi5kaXJ0eSwKICAgICAgICAgIGF1dG9BcHBseSA9IF90aGlzJHByb3BzMi5hdXRvQXBwbHksCiAgICAgICAgICB0aXRsZSA9IF90aGlzJHByb3BzMi50aXRsZSwKICAgICAgICAgIGRlc2NyaXB0aW9uID0gX3RoaXMkcHJvcHMyLmRlc2NyaXB0aW9uLAogICAgICAgICAgb25Ub2dnbGVBdXRvQXBwbHkgPSBfdGhpcyRwcm9wczIub25Ub2dnbGVBdXRvQXBwbHksCiAgICAgICAgICBvbkNvbW1pdCA9IF90aGlzJHByb3BzMi5vbkNvbW1pdDsKICAgICAgdmFyIHN0eWxlID0gewogICAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5oZWlnaHQKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnN0YXRlLmRyYWdnaW5nKSB7CiAgICAgICAgc3R5bGUudXNlclNlbGVjdCA9ICdub25lJzsKICAgICAgfQoKICAgICAgdmFyIHBhbmVsSW50ZXJ2YWwgPSB0aGlzLmhhc1Nob3dQYW5lbEludGVydmFsVmFsdWUoKSAmJiB0aGlzLmdldEZvcm1hdHRlZFBhbmVsSW50ZXJ2YWwoKTsKCiAgICAgIHZhciBhcHBseU1lc3NhZ2UgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAidmlzVHlwZVRpbWVzZXJpZXMudmlzRWRpdG9yVmlzdWFsaXphdGlvbi5jaGFuZ2VzU3VjY2Vzc2Z1bGx5QXBwbGllZE1lc3NhZ2UiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGhlIGxhdGVzdCBjaGFuZ2VzIGhhdmUgYmVlbiBhcHBsaWVkLiIKICAgICAgfSk7CgogICAgICBpZiAoZGlydHkpIHsKICAgICAgICBhcHBseU1lc3NhZ2UgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ2aXNUeXBlVGltZXNlcmllcy52aXNFZGl0b3JWaXN1YWxpemF0aW9uLmNoYW5nZXNIYXZlTm90QmVlbkFwcGxpZWRNZXNzYWdlIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVGhlIGNoYW5nZXMgdG8gdGhpcyB2aXN1YWxpemF0aW9uIGhhdmUgbm90IGJlZW4gYXBwbGllZC4iCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChhdXRvQXBwbHkpIHsKICAgICAgICBhcHBseU1lc3NhZ2UgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ2aXNUeXBlVGltZXNlcmllcy52aXNFZGl0b3JWaXN1YWxpemF0aW9uLmNoYW5nZXNXaWxsQmVBdXRvbWF0aWNhbGx5QXBwbGllZE1lc3NhZ2UiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgY2hhbmdlcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYXBwbGllZC4iCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBhcHBseUJ1dHRvbiA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0dmJFZGl0b3JWaXN1YWxpemF0aW9uX19hcHBseSIsCiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogdHJ1ZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3dpdGNoLCB7CiAgICAgICAgaWQ6ICJ0c3ZiQXV0b0FwcGx5SW5wdXQiLAogICAgICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ2aXNUeXBlVGltZXNlcmllcy52aXNFZGl0b3JWaXN1YWxpemF0aW9uLmF1dG9BcHBseUxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQXV0byBhcHBseSIKICAgICAgICB9KSwKICAgICAgICBjaGVja2VkOiBhdXRvQXBwbHksCiAgICAgICAgb25DaGFuZ2U6IG9uVG9nZ2xlQXV0b0FwcGx5CiAgICAgIH0pKSwgcGFuZWxJbnRlcnZhbCAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgIGNvbG9yOiAiZGVmYXVsdCIsCiAgICAgICAgc2l6ZTogInhzIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICBpZDogInZpc1R5cGVUaW1lc2VyaWVzLnZpc0VkaXRvclZpc3VhbGl6YXRpb24ucGFuZWxJbnRlcnZhbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJbnRlcnZhbDoge3BhbmVsSW50ZXJ2YWx9IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHBhbmVsSW50ZXJ2YWw6IHBhbmVsSW50ZXJ2YWwKICAgICAgICB9CiAgICAgIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgIGNvbG9yOiBkaXJ0eSA/ICdkZWZhdWx0JyA6ICdzdWJkdWVkJywKICAgICAgICBzaXplOiAieHMiCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBhcHBseU1lc3NhZ2UpKSksICFhdXRvQXBwbHkgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgIGljb25UeXBlOiAicGxheSIsCiAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICBzaXplOiAicyIsCiAgICAgICAgb25DbGljazogb25Db21taXQsCiAgICAgICAgZGlzYWJsZWQ6ICFkaXJ0eSwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiYXBwbHlCdG4iCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ2aXNUeXBlVGltZXNlcmllcy52aXNFZGl0b3JWaXN1YWxpemF0aW9uLmFwcGx5Q2hhbmdlc0xhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFwcGx5IGNoYW5nZXMiCiAgICAgIH0pKSkpOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBzdHlsZTogc3R5bGUsCiAgICAgICAgY2xhc3NOYW1lOiAidHZiRWRpdG9yVmlzdWFsaXphdGlvbiIsCiAgICAgICAgImRhdGEtc2hhcmVkLWl0ZW1zLWNvbnRhaW5lciI6IHRydWUsCiAgICAgICAgImRhdGEtdGl0bGUiOiB0aXRsZSwKICAgICAgICAiZGF0YS1kZXNjcmlwdGlvbiI6IGRlc2NyaXB0aW9uLAogICAgICAgIHJlZjogdGhpcy5fdmlzRWwKICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0dmJFZGl0b3ItLWhpZGVGb3JSZXBvcnRpbmciCiAgICAgIH0sIGFwcGx5QnV0dG9uLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgY2xhc3NOYW1lOiAidHZiRWRpdG9yVmlzdWFsaXphdGlvbl9fZHJhZ2hhbmRsZSIsCiAgICAgICAgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLAogICAgICAgIG9uTW91c2VVcDogdGhpcy5oYW5kbGVNb3VzZVVwLAogICAgICAgIG9uS2V5RG93bjogdGhpcy5vblNpemVIYW5kbGVLZXlEb3duLAogICAgICAgICJhcmlhLWxhYmVsIjogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgaWQ6ICd2aXNUeXBlVGltZXNlcmllcy5jb2xvclJ1bGVzLmFkanVzdENoYXJ0U2l6ZUFyaWFMYWJlbCcsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1ByZXNzIHVwL2Rvd24gdG8gYWRqdXN0IHRoZSBjaGFydCBzaXplJwogICAgICAgIH0pCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZmEgZmEtZWxsaXBzaXMtaCIKICAgICAgfSkpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJLnByb3BUeXBlcyA9IHsKICBtb2RlbDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdCwKICBvbkNvbW1pdDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgdWlTdGF0ZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdCwKICBvblRvZ2dsZUF1dG9BcHBseTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgZW1iZWRkYWJsZUhhbmRsZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgdGltZVJhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LAogIGRpcnR5OiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCwKICBhdXRvQXBwbHk6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sCn07CnZhciBWaXNFZGl0b3JWaXN1YWxpemF0aW9uID0gKDAsIF9yZWFjdDIuaW5qZWN0STE4bikoVmlzRWRpdG9yVmlzdWFsaXphdGlvblVJKTsKZXhwb3J0cy5WaXNFZGl0b3JWaXN1YWxpemF0aW9uID0gVmlzRWRpdG9yVmlzdWFsaXphdGlvbjs="},null]}