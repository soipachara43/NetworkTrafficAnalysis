{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/pages/case/components/all_cases/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/pages/case/components/all_cases/index.js","mtime":1589249553260},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFsbENhc2VzID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfZnAgPSByZXF1aXJlKCJsb2Rhc2gvZnAiKTsKCnZhciBfc3R5bGVkQ29tcG9uZW50cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInN0eWxlZC1jb21wb25lbnRzIikpOwoKdmFyIGkxOG4gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCIuL3RyYW5zbGF0aW9ucyIpKTsKCnZhciBfY29sdW1ucyA9IHJlcXVpcmUoIi4vY29sdW1ucyIpOwoKdmFyIF90eXBlcyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbnRhaW5lcnMvY2FzZS90eXBlcyIpOwoKdmFyIF91c2VfZ2V0X2Nhc2VzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29udGFpbmVycy9jYXNlL3VzZV9nZXRfY2FzZXMiKTsKCnZhciBfdXNlX2dldF9jYXNlc19zdGF0dXMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb250YWluZXJzL2Nhc2UvdXNlX2dldF9jYXNlc19zdGF0dXMiKTsKCnZhciBfdXNlX2RlbGV0ZV9jYXNlcyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbnRhaW5lcnMvY2FzZS91c2VfZGVsZXRlX2Nhc2VzIik7Cgp2YXIgX3VzZV9nZXRfdXJsX3NlYXJjaCA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbmF2aWdhdGlvbi91c2VfZ2V0X3VybF9zZWFyY2giKTsKCnZhciBfcGFuZWwgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL3BhbmVsIik7Cgp2YXIgX3V0aWxpdHlfYmFyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5X2JhciIpOwoKdmFyIF9saW5rX3RvID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9saW5rX3RvIik7Cgp2YXIgX2J1bGtfYWN0aW9ucyA9IHJlcXVpcmUoIi4uL2J1bGtfYWN0aW9ucyIpOwoKdmFyIF9jYXNlX2hlYWRlcl9wYWdlID0gcmVxdWlyZSgiLi4vY2FzZV9oZWFkZXJfcGFnZSIpOwoKdmFyIF9jb25maXJtX2RlbGV0ZV9jYXNlID0gcmVxdWlyZSgiLi4vY29uZmlybV9kZWxldGVfY2FzZSIpOwoKdmFyIF9vcGVuX2Nsb3NlZF9zdGF0cyA9IHJlcXVpcmUoIi4uL29wZW5fY2xvc2VkX3N0YXRzIik7Cgp2YXIgX2hvbWVfbmF2aWdhdGlvbnMgPSByZXF1aXJlKCIuLi8uLi8uLi9ob21lL2hvbWVfbmF2aWdhdGlvbnMiKTsKCnZhciBfYWN0aW9ucyA9IHJlcXVpcmUoIi4vYWN0aW9ucyIpOwoKdmFyIF90YWJsZV9maWx0ZXJzID0gcmVxdWlyZSgiLi90YWJsZV9maWx0ZXJzIik7Cgp2YXIgX3VzZV9idWxrX3VwZGF0ZV9jYXNlID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29udGFpbmVycy9jYXNlL3VzZV9idWxrX3VwZGF0ZV9jYXNlIik7Cgp2YXIgX3VzZV9nZXRfYWN0aW9uX2xpY2Vuc2UgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi9jb250YWluZXJzL2Nhc2UvdXNlX2dldF9hY3Rpb25fbGljZW5zZSIpOwoKdmFyIF9oZWxwZXJzID0gcmVxdWlyZSgiLi4vdXNlX3B1c2hfdG9fc2VydmljZS9oZWxwZXJzIik7Cgp2YXIgX2NhbGxvdXQgPSByZXF1aXJlKCIuLi9jYWxsb3V0Iik7Cgp2YXIgX2J1dHRvbiA9IHJlcXVpcmUoIi4uL2NvbmZpZ3VyZV9jYXNlcy9idXR0b24iKTsKCnZhciBfdHJhbnNsYXRpb25zMiA9IHJlcXVpcmUoIi4uL3VzZV9wdXNoX3RvX3NlcnZpY2UvdHJhbnNsYXRpb25zIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgRGl2ID0gX3N0eWxlZENvbXBvbmVudHMuZGVmYXVsdC5kaXYud2l0aENvbmZpZyh7CiAgZGlzcGxheU5hbWU6ICJEaXYiLAogIGNvbXBvbmVudElkOiAic2MtNThpYzl6LTAiCn0pKFsibWFyZ2luLXRvcDoiLCAiOyJdLCBmdW5jdGlvbiAoX3JlZikgewogIHZhciB0aGVtZSA9IF9yZWYudGhlbWU7CiAgcmV0dXJuIHRoZW1lLmV1aS5wYWRkaW5nU2l6ZXMubTsKfSk7Cgp2YXIgRmxleEl0ZW1EaXZpZGVyID0gKDAsIF9zdHlsZWRDb21wb25lbnRzLmRlZmF1bHQpKF9ldWkuRXVpRmxleEl0ZW0pLndpdGhDb25maWcoewogIGRpc3BsYXlOYW1lOiAiRmxleEl0ZW1EaXZpZGVyIiwKICBjb21wb25lbnRJZDogInNjLTU4aWM5ei0xIgp9KShbIiIsICIiXSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgdmFyIHRoZW1lID0gX3JlZjIudGhlbWU7CiAgcmV0dXJuICgwLCBfc3R5bGVkQ29tcG9uZW50cy5jc3MpKFsiLmV1aUZsZXhHcm91cC0tZ3V0dGVyTWVkaXVtID4gJi5ldWlGbGV4SXRlbXtib3JkZXItcmlnaHQ6IiwgIjtwYWRkaW5nLXJpZ2h0OiIsICI7bWFyZ2luLXJpZ2h0OiIsICI7fSJdLCB0aGVtZS5ldWkuZXVpQm9yZGVyVGhpbiwgdGhlbWUuZXVpLmV1aVNpemUsIHRoZW1lLmV1aS5ldWlTaXplKTsKfSk7CnZhciBQcm9ncmVzc0xvYWRlciA9ICgwLCBfc3R5bGVkQ29tcG9uZW50cy5kZWZhdWx0KShfZXVpLkV1aVByb2dyZXNzKS53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogIlByb2dyZXNzTG9hZGVyIiwKICBjb21wb25lbnRJZDogInNjLTU4aWM5ei0yIgp9KShbIiIsICIiXSwgZnVuY3Rpb24gKF9yZWYzKSB7CiAgdmFyIHRoZW1lID0gX3JlZjMudGhlbWU7CiAgcmV0dXJuICgwLCBfc3R5bGVkQ29tcG9uZW50cy5jc3MpKFsidG9wOjJweDtib3JkZXItcmFkaXVzOiIsICI7ei1pbmRleDoiLCAiOyJdLCB0aGVtZS5ldWkuZXVpQm9yZGVyUmFkaXVzLCB0aGVtZS5ldWkuZXVpWkhlYWRlcik7Cn0pOwoKdmFyIGdldFNvcnRGaWVsZCA9IGZ1bmN0aW9uIGdldFNvcnRGaWVsZChmaWVsZCkgewogIGlmIChmaWVsZCA9PT0gX3R5cGVzLlNvcnRGaWVsZENhc2UuY3JlYXRlZEF0KSB7CiAgICByZXR1cm4gX3R5cGVzLlNvcnRGaWVsZENhc2UuY3JlYXRlZEF0OwogIH0gZWxzZSBpZiAoZmllbGQgPT09IF90eXBlcy5Tb3J0RmllbGRDYXNlLmNsb3NlZEF0KSB7CiAgICByZXR1cm4gX3R5cGVzLlNvcnRGaWVsZENhc2UuY2xvc2VkQXQ7CiAgfQoKICByZXR1cm4gX3R5cGVzLlNvcnRGaWVsZENhc2UuY3JlYXRlZEF0Owp9OwoKdmFyIEFsbENhc2VzID0gX3JlYWN0LmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZjQpIHsKICB2YXIgX2RhdGEkdG90YWw7CgogIHZhciB1c2VyQ2FuQ3J1ZCA9IF9yZWY0LnVzZXJDYW5DcnVkOwogIHZhciB1cmxTZWFyY2ggPSAoMCwgX3VzZV9nZXRfdXJsX3NlYXJjaC51c2VHZXRVcmxTZWFyY2gpKF9ob21lX25hdmlnYXRpb25zLm5hdlRhYnMuY2FzZSk7CgogIHZhciBfdXNlR2V0QWN0aW9uTGljZW5zZSA9ICgwLCBfdXNlX2dldF9hY3Rpb25fbGljZW5zZS51c2VHZXRBY3Rpb25MaWNlbnNlKSgpLAogICAgICBhY3Rpb25MaWNlbnNlID0gX3VzZUdldEFjdGlvbkxpY2Vuc2UuYWN0aW9uTGljZW5zZTsKCiAgdmFyIF91c2VHZXRDYXNlc1N0YXR1cyA9ICgwLCBfdXNlX2dldF9jYXNlc19zdGF0dXMudXNlR2V0Q2FzZXNTdGF0dXMpKCksCiAgICAgIGNvdW50Q2xvc2VkQ2FzZXMgPSBfdXNlR2V0Q2FzZXNTdGF0dXMuY291bnRDbG9zZWRDYXNlcywKICAgICAgY291bnRPcGVuQ2FzZXMgPSBfdXNlR2V0Q2FzZXNTdGF0dXMuY291bnRPcGVuQ2FzZXMsCiAgICAgIGlzQ2FzZXNTdGF0dXNMb2FkaW5nID0gX3VzZUdldENhc2VzU3RhdHVzLmlzTG9hZGluZywKICAgICAgZmV0Y2hDYXNlc1N0YXR1cyA9IF91c2VHZXRDYXNlc1N0YXR1cy5mZXRjaENhc2VzU3RhdHVzOwoKICB2YXIgX3VzZUdldENhc2VzID0gKDAsIF91c2VfZ2V0X2Nhc2VzLnVzZUdldENhc2VzKSgpLAogICAgICBkYXRhID0gX3VzZUdldENhc2VzLmRhdGEsCiAgICAgIGRpc3BhdGNoVXBkYXRlQ2FzZVByb3BlcnR5ID0gX3VzZUdldENhc2VzLmRpc3BhdGNoVXBkYXRlQ2FzZVByb3BlcnR5LAogICAgICBmaWx0ZXJPcHRpb25zID0gX3VzZUdldENhc2VzLmZpbHRlck9wdGlvbnMsCiAgICAgIGxvYWRpbmcgPSBfdXNlR2V0Q2FzZXMubG9hZGluZywKICAgICAgcXVlcnlQYXJhbXMgPSBfdXNlR2V0Q2FzZXMucXVlcnlQYXJhbXMsCiAgICAgIHNlbGVjdGVkQ2FzZXMgPSBfdXNlR2V0Q2FzZXMuc2VsZWN0ZWRDYXNlcywKICAgICAgcmVmZXRjaENhc2VzID0gX3VzZUdldENhc2VzLnJlZmV0Y2hDYXNlcywKICAgICAgc2V0RmlsdGVycyA9IF91c2VHZXRDYXNlcy5zZXRGaWx0ZXJzLAogICAgICBzZXRRdWVyeVBhcmFtcyA9IF91c2VHZXRDYXNlcy5zZXRRdWVyeVBhcmFtcywKICAgICAgc2V0U2VsZWN0ZWRDYXNlcyA9IF91c2VHZXRDYXNlcy5zZXRTZWxlY3RlZENhc2VzOyAvLyBEZWxldGUgY2FzZQoKCiAgdmFyIF91c2VEZWxldGVDYXNlcyA9ICgwLCBfdXNlX2RlbGV0ZV9jYXNlcy51c2VEZWxldGVDYXNlcykoKSwKICAgICAgZGlzcGF0Y2hSZXNldElzRGVsZXRlZCA9IF91c2VEZWxldGVDYXNlcy5kaXNwYXRjaFJlc2V0SXNEZWxldGVkLAogICAgICBoYW5kbGVPbkRlbGV0ZUNvbmZpcm0gPSBfdXNlRGVsZXRlQ2FzZXMuaGFuZGxlT25EZWxldGVDb25maXJtLAogICAgICBoYW5kbGVUb2dnbGVNb2RhbCA9IF91c2VEZWxldGVDYXNlcy5oYW5kbGVUb2dnbGVNb2RhbCwKICAgICAgaXNEZWxldGluZyA9IF91c2VEZWxldGVDYXNlcy5pc0xvYWRpbmcsCiAgICAgIGlzRGVsZXRlZCA9IF91c2VEZWxldGVDYXNlcy5pc0RlbGV0ZWQsCiAgICAgIGlzRGlzcGxheUNvbmZpcm1EZWxldGVNb2RhbCA9IF91c2VEZWxldGVDYXNlcy5pc0Rpc3BsYXlDb25maXJtRGVsZXRlTW9kYWw7IC8vIFVwZGF0ZSBjYXNlCgoKICB2YXIgX3VzZVVwZGF0ZUNhc2VzID0gKDAsIF91c2VfYnVsa191cGRhdGVfY2FzZS51c2VVcGRhdGVDYXNlcykoKSwKICAgICAgZGlzcGF0Y2hSZXNldElzVXBkYXRlZCA9IF91c2VVcGRhdGVDYXNlcy5kaXNwYXRjaFJlc2V0SXNVcGRhdGVkLAogICAgICBpc1VwZGF0aW5nID0gX3VzZVVwZGF0ZUNhc2VzLmlzTG9hZGluZywKICAgICAgaXNVcGRhdGVkID0gX3VzZVVwZGF0ZUNhc2VzLmlzVXBkYXRlZCwKICAgICAgdXBkYXRlQnVsa1N0YXR1cyA9IF91c2VVcGRhdGVDYXNlcy51cGRhdGVCdWxrU3RhdHVzOwoKICB2YXIgX3VzZVN0YXRlID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoewogICAgdGl0bGU6ICcnLAogICAgaWQ6ICcnCiAgfSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBkZWxldGVUaGlzQ2FzZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERlbGV0ZVRoaXNDYXNlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShbXSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgZGVsZXRlQnVsayA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldERlbGV0ZUJ1bGsgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgZmlsdGVyUmVmZXRjaCA9ICgwLCBfcmVhY3QudXNlUmVmKSgpOwogIHZhciBzZXRGaWx0ZXJSZWZldGNoID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKHJlZmV0Y2hGaWx0ZXIpIHsKICAgIGZpbHRlclJlZmV0Y2guY3VycmVudCA9IHJlZmV0Y2hGaWx0ZXI7CiAgfSwgW2ZpbHRlclJlZmV0Y2guY3VycmVudF0pOwogIHZhciByZWZyZXNoQ2FzZXMgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoKSB7CiAgICB2YXIgZGF0YVJlZnJlc2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7CiAgICBpZiAoZGF0YVJlZnJlc2gpIHJlZmV0Y2hDYXNlcyhmaWx0ZXJPcHRpb25zLCBxdWVyeVBhcmFtcyk7CiAgICBmZXRjaENhc2VzU3RhdHVzKCk7CiAgICBzZXRTZWxlY3RlZENhc2VzKFtdKTsKICAgIHNldERlbGV0ZUJ1bGsoW10pOwoKICAgIGlmIChmaWx0ZXJSZWZldGNoLmN1cnJlbnQgIT0gbnVsbCkgewogICAgICBmaWx0ZXJSZWZldGNoLmN1cnJlbnQoKTsKICAgIH0KICB9LCBbZmlsdGVyT3B0aW9ucywgcXVlcnlQYXJhbXMsIGZpbHRlclJlZmV0Y2guY3VycmVudF0pOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBpZiAoaXNEZWxldGVkKSB7CiAgICAgIHJlZnJlc2hDYXNlcygpOwogICAgICBkaXNwYXRjaFJlc2V0SXNEZWxldGVkKCk7CiAgICB9CgogICAgaWYgKGlzVXBkYXRlZCkgewogICAgICByZWZyZXNoQ2FzZXMoKTsKICAgICAgZGlzcGF0Y2hSZXNldElzVXBkYXRlZCgpOwogICAgfQogIH0sIFtpc0RlbGV0ZWQsIGlzVXBkYXRlZF0pOwogIHZhciBjb25maXJtRGVsZXRlTW9kYWwgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb25maXJtX2RlbGV0ZV9jYXNlLkNvbmZpcm1EZWxldGVDYXNlTW9kYWwsIHsKICAgICAgY2FzZVRpdGxlOiBkZWxldGVUaGlzQ2FzZS50aXRsZSwKICAgICAgaXNNb2RhbFZpc2libGU6IGlzRGlzcGxheUNvbmZpcm1EZWxldGVNb2RhbCwKICAgICAgaXNQbHVyYWw6IGRlbGV0ZUJ1bGsubGVuZ3RoID4gMCwKICAgICAgb25DYW5jZWw6IGhhbmRsZVRvZ2dsZU1vZGFsLAogICAgICBvbkNvbmZpcm06IGhhbmRsZU9uRGVsZXRlQ29uZmlybS5iaW5kKG51bGwsIGRlbGV0ZUJ1bGsubGVuZ3RoID4gMCA/IGRlbGV0ZUJ1bGsgOiBbZGVsZXRlVGhpc0Nhc2VdKQogICAgfSk7CiAgfSwgW2RlbGV0ZUJ1bGssIGRlbGV0ZVRoaXNDYXNlLCBpc0Rpc3BsYXlDb25maXJtRGVsZXRlTW9kYWxdKTsKICB2YXIgdG9nZ2xlRGVsZXRlTW9kYWwgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoZGVsZXRlQ2FzZSkgewogICAgaGFuZGxlVG9nZ2xlTW9kYWwoKTsKICAgIHNldERlbGV0ZVRoaXNDYXNlKGRlbGV0ZUNhc2UpOwogIH0sIFtdKTsKICB2YXIgdG9nZ2xlQnVsa0RlbGV0ZU1vZGFsID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKGNhc2VJZHMpIHsKICAgIGhhbmRsZVRvZ2dsZU1vZGFsKCk7CgogICAgaWYgKGNhc2VJZHMubGVuZ3RoID09PSAxKSB7CiAgICAgIHZhciBzaW5nbGVDYXNlID0gc2VsZWN0ZWRDYXNlcy5maW5kKGZ1bmN0aW9uICh0aGVDYXNlKSB7CiAgICAgICAgcmV0dXJuIHRoZUNhc2UuaWQgPT09IGNhc2VJZHNbMF07CiAgICAgIH0pOwoKICAgICAgaWYgKHNpbmdsZUNhc2UpIHsKICAgICAgICByZXR1cm4gc2V0RGVsZXRlVGhpc0Nhc2UoewogICAgICAgICAgaWQ6IHNpbmdsZUNhc2UuaWQsCiAgICAgICAgICB0aXRsZTogc2luZ2xlQ2FzZS50aXRsZQogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgdmFyIGNvbnZlcnRUb0RlbGV0ZUNhc2VzID0gY2FzZUlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH07CiAgICB9KTsKICAgIHNldERlbGV0ZUJ1bGsoY29udmVydFRvRGVsZXRlQ2FzZXMpOwogIH0sIFtzZWxlY3RlZENhc2VzXSk7CiAgdmFyIGhhbmRsZVVwZGF0ZUNhc2VTdGF0dXMgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoc3RhdHVzKSB7CiAgICB1cGRhdGVCdWxrU3RhdHVzKHNlbGVjdGVkQ2FzZXMsIHN0YXR1cyk7CiAgfSwgW3NlbGVjdGVkQ2FzZXNdKTsKICB2YXIgc2VsZWN0ZWRDYXNlSWRzID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc2VsZWN0ZWRDYXNlcy5tYXAoZnVuY3Rpb24gKGNhc2VPYmopIHsKICAgICAgcmV0dXJuIGNhc2VPYmouaWQ7CiAgICB9KTsKICB9LCBbc2VsZWN0ZWRDYXNlc10pOwogIHZhciBnZXRCdWxrSXRlbXNQb3BvdmVyQ29udGVudCA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChjbG9zZVBvcG92ZXIpIHsKICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29udGV4dE1lbnVQYW5lbCwgewogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY2FzZXMtYnVsay1hY3Rpb25zIiwKICAgICAgaXRlbXM6ICgwLCBfYnVsa19hY3Rpb25zLmdldEJ1bGtJdGVtcykoewogICAgICAgIGNhc2VTdGF0dXM6IGZpbHRlck9wdGlvbnMuc3RhdHVzLAogICAgICAgIGNsb3NlUG9wb3ZlcjogY2xvc2VQb3BvdmVyLAogICAgICAgIGRlbGV0ZUNhc2VzQWN0aW9uOiB0b2dnbGVCdWxrRGVsZXRlTW9kYWwsCiAgICAgICAgc2VsZWN0ZWRDYXNlSWRzOiBzZWxlY3RlZENhc2VJZHMsCiAgICAgICAgdXBkYXRlQ2FzZVN0YXR1czogaGFuZGxlVXBkYXRlQ2FzZVN0YXR1cwogICAgICB9KQogICAgfSk7CiAgfSwgW3NlbGVjdGVkQ2FzZUlkcywgZmlsdGVyT3B0aW9ucy5zdGF0dXMsIHRvZ2dsZUJ1bGtEZWxldGVNb2RhbF0pOwogIHZhciBoYW5kbGVEaXNwYXRjaFVwZGF0ZSA9ICgwLCBfcmVhY3QudXNlQ2FsbGJhY2spKGZ1bmN0aW9uIChhcmdzKSB7CiAgICBkaXNwYXRjaFVwZGF0ZUNhc2VQcm9wZXJ0eShfb2JqZWN0U3ByZWFkKHt9LCBhcmdzLCB7CiAgICAgIHJlZmV0Y2hDYXNlc1N0YXR1czogZmV0Y2hDYXNlc1N0YXR1cwogICAgfSkpOwogIH0sIFtkaXNwYXRjaFVwZGF0ZUNhc2VQcm9wZXJ0eSwgZmV0Y2hDYXNlc1N0YXR1c10pOwogIHZhciBhY3Rpb25zID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gKDAsIF9hY3Rpb25zLmdldEFjdGlvbnMpKHsKICAgICAgY2FzZVN0YXR1czogZmlsdGVyT3B0aW9ucy5zdGF0dXMsCiAgICAgIGRlbGV0ZUNhc2VPbkNsaWNrOiB0b2dnbGVEZWxldGVNb2RhbCwKICAgICAgZGlzcGF0Y2hVcGRhdGU6IGhhbmRsZURpc3BhdGNoVXBkYXRlCiAgICB9KTsKICB9LCBbZmlsdGVyT3B0aW9ucy5zdGF0dXMsIHRvZ2dsZURlbGV0ZU1vZGFsLCBoYW5kbGVEaXNwYXRjaFVwZGF0ZV0pOwogIHZhciBhY3Rpb25zRXJyb3JzID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gKDAsIF9oZWxwZXJzLmdldEFjdGlvbkxpY2Vuc2VFcnJvcikoYWN0aW9uTGljZW5zZSk7CiAgfSwgW2FjdGlvbkxpY2Vuc2VdKTsKICB2YXIgdGFibGVPbkNoYW5nZUNhbGxiYWNrID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICB2YXIgcGFnZSA9IF9yZWY1LnBhZ2UsCiAgICAgICAgc29ydCA9IF9yZWY1LnNvcnQ7CiAgICB2YXIgbmV3UXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtczsKCiAgICBpZiAoc29ydCkgewogICAgICBuZXdRdWVyeVBhcmFtcyA9IF9vYmplY3RTcHJlYWQoe30sIG5ld1F1ZXJ5UGFyYW1zLCB7CiAgICAgICAgc29ydEZpZWxkOiBnZXRTb3J0RmllbGQoc29ydC5maWVsZCksCiAgICAgICAgc29ydE9yZGVyOiBzb3J0LmRpcmVjdGlvbgogICAgICB9KTsKICAgIH0KCiAgICBpZiAocGFnZSkgewogICAgICBuZXdRdWVyeVBhcmFtcyA9IF9vYmplY3RTcHJlYWQoe30sIG5ld1F1ZXJ5UGFyYW1zLCB7CiAgICAgICAgcGFnZTogcGFnZS5pbmRleCArIDEsCiAgICAgICAgcGVyUGFnZTogcGFnZS5zaXplCiAgICAgIH0pOwogICAgfQoKICAgIHNldFF1ZXJ5UGFyYW1zKG5ld1F1ZXJ5UGFyYW1zKTsKICAgIHJlZnJlc2hDYXNlcyhmYWxzZSk7CiAgfSwgW3F1ZXJ5UGFyYW1zXSk7CiAgdmFyIG9uRmlsdGVyQ2hhbmdlZENhbGxiYWNrID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKG5ld0ZpbHRlck9wdGlvbnMpIHsKICAgIGlmIChuZXdGaWx0ZXJPcHRpb25zLnN0YXR1cyAmJiBuZXdGaWx0ZXJPcHRpb25zLnN0YXR1cyA9PT0gJ2Nsb3NlZCcpIHsKICAgICAgc2V0UXVlcnlQYXJhbXMoewogICAgICAgIHNvcnRGaWVsZDogX3R5cGVzLlNvcnRGaWVsZENhc2UuY2xvc2VkQXQKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKG5ld0ZpbHRlck9wdGlvbnMuc3RhdHVzICYmIG5ld0ZpbHRlck9wdGlvbnMuc3RhdHVzID09PSAnb3BlbicpIHsKICAgICAgc2V0UXVlcnlQYXJhbXMoewogICAgICAgIHNvcnRGaWVsZDogX3R5cGVzLlNvcnRGaWVsZENhc2UuY3JlYXRlZEF0CiAgICAgIH0pOwogICAgfQoKICAgIHNldEZpbHRlcnMobmV3RmlsdGVyT3B0aW9ucyk7CiAgICByZWZyZXNoQ2FzZXMoZmFsc2UpOwogIH0sIFtmaWx0ZXJPcHRpb25zLCBxdWVyeVBhcmFtc10pOwogIHZhciBtZW1vaXplZEdldENhc2VzQ29sdW1ucyA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICgwLCBfY29sdW1ucy5nZXRDYXNlc0NvbHVtbnMpKHVzZXJDYW5DcnVkID8gYWN0aW9ucyA6IFtdLCBmaWx0ZXJPcHRpb25zLnN0YXR1cyk7CiAgfSwgW2FjdGlvbnMsIGZpbHRlck9wdGlvbnMuc3RhdHVzLCB1c2VyQ2FuQ3J1ZF0pOwogIHZhciBtZW1vaXplZFBhZ2luYXRpb24gPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VJbmRleDogcXVlcnlQYXJhbXMucGFnZSAtIDEsCiAgICAgIHBhZ2VTaXplOiBxdWVyeVBhcmFtcy5wZXJQYWdlLAogICAgICB0b3RhbEl0ZW1Db3VudDogZGF0YS50b3RhbCwKICAgICAgcGFnZVNpemVPcHRpb25zOiBbNSwgMTAsIDE1LCAyMCwgMjVdCiAgICB9OwogIH0sIFtkYXRhLCBxdWVyeVBhcmFtc10pOwogIHZhciBzb3J0aW5nID0gewogICAgc29ydDogewogICAgICBmaWVsZDogcXVlcnlQYXJhbXMuc29ydEZpZWxkLAogICAgICBkaXJlY3Rpb246IHF1ZXJ5UGFyYW1zLnNvcnRPcmRlcgogICAgfQogIH07CiAgdmFyIGV1aUJhc2ljVGFibGVTZWxlY3Rpb25Qcm9wcyA9ICgwLCBfcmVhY3QudXNlTWVtbykoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgb25TZWxlY3Rpb25DaGFuZ2U6IHNldFNlbGVjdGVkQ2FzZXMKICAgIH07CiAgfSwgW3NlbGVjdGVkQ2FzZXNdKTsKICB2YXIgaXNDYXNlc0xvYWRpbmcgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBsb2FkaW5nLmluZGV4T2YoJ2Nhc2VzJykgPiAtMSB8fCBsb2FkaW5nLmluZGV4T2YoJ2Nhc2VVcGRhdGUnKSA+IC0xOwogIH0sIFtsb2FkaW5nXSk7CiAgdmFyIGlzRGF0YUVtcHR5ID0gKDAsIF9yZWFjdC51c2VNZW1vKShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZGF0YS50b3RhbCA9PT0gMDsKICB9LCBbZGF0YV0pOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAhKDAsIF9mcC5pc0VtcHR5KShhY3Rpb25zRXJyb3JzKSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jYWxsb3V0LkNhc2VDYWxsT3V0LCB7CiAgICB0aXRsZTogX3RyYW5zbGF0aW9uczIuRVJST1JfUFVTSF9TRVJWSUNFX0NBTExPVVRfVElUTEUsCiAgICBtZXNzYWdlczogYWN0aW9uc0Vycm9ycwogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jYXNlX2hlYWRlcl9wYWdlLkNhc2VIZWFkZXJQYWdlLCB7CiAgICB0aXRsZTogaTE4bi5QQUdFX1RJVExFCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICBndXR0ZXJTaXplOiAibSIsCiAgICByZXNwb25zaXZlOiBmYWxzZSwKICAgIHdyYXA6IHRydWUKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfb3Blbl9jbG9zZWRfc3RhdHMuT3BlbkNsb3NlZFN0YXRzLCB7CiAgICBjYXNlQ291bnQ6IGNvdW50T3BlbkNhc2VzLAogICAgY2FzZVN0YXR1czogJ29wZW4nLAogICAgaXNMb2FkaW5nOiBpc0Nhc2VzU3RhdHVzTG9hZGluZwogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChGbGV4SXRlbURpdmlkZXIsIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfb3Blbl9jbG9zZWRfc3RhdHMuT3BlbkNsb3NlZFN0YXRzLCB7CiAgICBjYXNlQ291bnQ6IGNvdW50Q2xvc2VkQ2FzZXMsCiAgICBjYXNlU3RhdHVzOiAnY2xvc2VkJywKICAgIGlzTG9hZGluZzogaXNDYXNlc1N0YXR1c0xvYWRpbmcKICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9idXR0b24uQ29uZmlndXJlQ2FzZUJ1dHRvbiwgewogICAgbGFiZWw6IGkxOG4uQ09ORklHVVJFX0NBU0VTX0JVVFRPTiwKICAgIGlzRGlzYWJsZWQ6ICEoMCwgX2ZwLmlzRW1wdHkpKGFjdGlvbnNFcnJvcnMpIHx8ICF1c2VyQ2FuQ3J1ZCwKICAgIHNob3dUb29sVGlwOiAhKDAsIF9mcC5pc0VtcHR5KShhY3Rpb25zRXJyb3JzKSwKICAgIG1zZ1Rvb2x0aXA6ICEoMCwgX2ZwLmlzRW1wdHkpKGFjdGlvbnNFcnJvcnMpID8gYWN0aW9uc0Vycm9yc1swXS5kZXNjcmlwdGlvbiA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LmRlZmF1bHQuRnJhZ21lbnQsIG51bGwpLAogICAgdGl0bGVUb29sdGlwOiAhKDAsIF9mcC5pc0VtcHR5KShhY3Rpb25zRXJyb3JzKSA/IGFjdGlvbnNFcnJvcnNbMF0udGl0bGUgOiAnJywKICAgIHVybFNlYXJjaDogdXJsU2VhcmNoCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgaXNEaXNhYmxlZDogIXVzZXJDYW5DcnVkLAogICAgZmlsbDogdHJ1ZSwKICAgIGhyZWY6ICgwLCBfbGlua190by5nZXRDcmVhdGVDYXNlVXJsKSh1cmxTZWFyY2gpLAogICAgaWNvblR5cGU6ICJwbHVzSW5DaXJjbGUiCiAgfSwgaTE4bi5DUkVBVEVfVElUTEUpKSkpLCAoaXNDYXNlc0xvYWRpbmcgfHwgaXNEZWxldGluZyB8fCBpc1VwZGF0aW5nKSAmJiAhaXNEYXRhRW1wdHkgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChQcm9ncmVzc0xvYWRlciwgewogICAgc2l6ZTogInhzIiwKICAgIGNvbG9yOiAiYWNjZW50IiwKICAgIGNsYXNzTmFtZTogImVzc2VudGlhbEFuaW1hdGlvbiIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcGFuZWwuUGFuZWwsIHsKICAgIGxvYWRpbmc6IGlzQ2FzZXNMb2FkaW5nCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdGFibGVfZmlsdGVycy5DYXNlc1RhYmxlRmlsdGVycywgewogICAgY291bnRDbG9zZWRDYXNlczogZGF0YS5jb3VudENsb3NlZENhc2VzLAogICAgY291bnRPcGVuQ2FzZXM6IGRhdGEuY291bnRPcGVuQ2FzZXMsCiAgICBvbkZpbHRlckNoYW5nZWQ6IG9uRmlsdGVyQ2hhbmdlZENhbGxiYWNrLAogICAgaW5pdGlhbDogewogICAgICBzZWFyY2g6IGZpbHRlck9wdGlvbnMuc2VhcmNoLAogICAgICByZXBvcnRlcnM6IGZpbHRlck9wdGlvbnMucmVwb3J0ZXJzLAogICAgICB0YWdzOiBmaWx0ZXJPcHRpb25zLnRhZ3MsCiAgICAgIHN0YXR1czogZmlsdGVyT3B0aW9ucy5zdGF0dXMKICAgIH0sCiAgICBzZXRGaWx0ZXJSZWZldGNoOiBzZXRGaWx0ZXJSZWZldGNoCiAgfSksIGlzQ2FzZXNMb2FkaW5nICYmIGlzRGF0YUVtcHR5ID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChEaXYsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMb2FkaW5nQ29udGVudCwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImluaXRpYWxMb2FkaW5nUGFuZWxBbGxDYXNlcyIsCiAgICBsaW5lczogMTAKICB9KSkgOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KERpdiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXRpbGl0eV9iYXIuVXRpbGl0eUJhciwgewogICAgYm9yZGVyOiB0cnVlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXRpbGl0eV9iYXIuVXRpbGl0eUJhclNlY3Rpb24sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3V0aWxpdHlfYmFyLlV0aWxpdHlCYXJHcm91cCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXRpbGl0eV9iYXIuVXRpbGl0eUJhclRleHQsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjYXNlLXRhYmxlLWNhc2UtY291bnQiCiAgfSwgaTE4bi5TSE9XSU5HX0NBU0VTKChfZGF0YSR0b3RhbCA9IGRhdGEudG90YWwpICE9PSBudWxsICYmIF9kYXRhJHRvdGFsICE9PSB2b2lkIDAgPyBfZGF0YSR0b3RhbCA6IDApKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3V0aWxpdHlfYmFyLlV0aWxpdHlCYXJHcm91cCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXRpbGl0eV9iYXIuVXRpbGl0eUJhclRleHQsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjYXNlLXRhYmxlLXNlbGVjdGVkLWNhc2UtY291bnQiCiAgfSwgaTE4bi5TSE9XSU5HX1NFTEVDVEVEX0NBU0VTKHNlbGVjdGVkQ2FzZXMubGVuZ3RoKSksIHVzZXJDYW5DcnVkICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3V0aWxpdHlfYmFyLlV0aWxpdHlCYXJBY3Rpb24sIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJjYXNlLXRhYmxlLWJ1bGstYWN0aW9ucyIsCiAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgIGljb25UeXBlOiAiYXJyb3dEb3duIiwKICAgIHBvcG92ZXJDb250ZW50OiBnZXRCdWxrSXRlbXNQb3BvdmVyQ29udGVudAogIH0sIGkxOG4uQlVMS19BQ1RJT05TKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdXRpbGl0eV9iYXIuVXRpbGl0eUJhckFjdGlvbiwgewogICAgaWNvblNpZGU6ICJsZWZ0IiwKICAgIGljb25UeXBlOiAicmVmcmVzaCIsCiAgICBvbkNsaWNrOiByZWZyZXNoQ2FzZXMKICB9LCBpMThuLlJFRlJFU0gpKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQmFzaWNUYWJsZSwgewogICAgY29sdW1uczogbWVtb2l6ZWRHZXRDYXNlc0NvbHVtbnMsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY2FzZXMtdGFibGUiLAogICAgaXNTZWxlY3RhYmxlOiB1c2VyQ2FuQ3J1ZCwKICAgIGl0ZW1JZDogImlkIiwKICAgIGl0ZW1zOiBkYXRhLmNhc2VzLAogICAgbm9JdGVtc01lc3NhZ2U6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlFbXB0eVByb21wdCwgewogICAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBpMThuLk5PX0NBU0VTKSwKICAgICAgdGl0bGVTaXplOiAieHMiLAogICAgICBib2R5OiBpMThuLk5PX0NBU0VTX0JPRFksCiAgICAgIGFjdGlvbnM6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICBpc0Rpc2FibGVkOiAhdXNlckNhbkNydWQsCiAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICBzaXplOiAicyIsCiAgICAgICAgaHJlZjogKDAsIF9saW5rX3RvLmdldENyZWF0ZUNhc2VVcmwpKHVybFNlYXJjaCksCiAgICAgICAgaWNvblR5cGU6ICJwbHVzSW5DaXJjbGUiCiAgICAgIH0sIGkxOG4uQUREX05FV19DQVNFKQogICAgfSksCiAgICBvbkNoYW5nZTogdGFibGVPbkNoYW5nZUNhbGxiYWNrLAogICAgcGFnaW5hdGlvbjogbWVtb2l6ZWRQYWdpbmF0aW9uLAogICAgc2VsZWN0aW9uOiB1c2VyQ2FuQ3J1ZCA/IGV1aUJhc2ljVGFibGVTZWxlY3Rpb25Qcm9wcyA6IHt9LAogICAgc29ydGluZzogc29ydGluZwogIH0pKSksIGNvbmZpcm1EZWxldGVNb2RhbCk7Cn0pOwoKZXhwb3J0cy5BbGxDYXNlcyA9IEFsbENhc2VzOwpBbGxDYXNlcy5kaXNwbGF5TmFtZSA9ICdBbGxDYXNlcyc7"},null]}