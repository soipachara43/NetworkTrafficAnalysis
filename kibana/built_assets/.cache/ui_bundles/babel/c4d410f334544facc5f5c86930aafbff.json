{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/siem/public/components/super_date_picker/index.js","dependencies":[{"path":"x-pack/legacy/plugins/siem/public/components/super_date_picker/index.js","mtime":1589249553132},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlN1cGVyRGF0ZVBpY2tlciA9IGV4cG9ydHMuY29ubmVjdG9yID0gZXhwb3J0cy5tYWtlTWFwU3RhdGVUb1Byb3BzID0gZXhwb3J0cy5kaXNwYXRjaFVwZGF0ZVJlZHV4VGltZSA9IGV4cG9ydHMuZm9ybWF0RGF0ZSA9IGV4cG9ydHMuU3VwZXJEYXRlUGlja2VyQ29tcG9uZW50ID0gdm9pZCAwOwoKdmFyIF9kYXRlbWF0aCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGVsYXN0aWMvZGF0ZW1hdGgiKSk7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9mcCA9IHJlcXVpcmUoImxvZGFzaC9mcCIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9yZWFjdFJlZHV4ID0gcmVxdWlyZSgicmVhY3QtcmVkdXgiKTsKCnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyIpOwoKdmFyIF9raWJhbmEgPSByZXF1aXJlKCIuLi8uLi9saWIva2liYW5hIik7Cgp2YXIgX2FjdGlvbnMgPSByZXF1aXJlKCIuLi8uLi9zdG9yZS9hY3Rpb25zIik7Cgp2YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoIi4vc2VsZWN0b3JzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKdmFyIE1BWF9SRUNFTlRMWV9VU0VEX1JBTkdFUyA9IDk7Cgp2YXIgU3VwZXJEYXRlUGlja2VyQ29tcG9uZW50ID0gX3JlYWN0LmRlZmF1bHQubWVtbyhmdW5jdGlvbiAoX3JlZikgewogIHZhciBkdXJhdGlvbiA9IF9yZWYuZHVyYXRpb24sCiAgICAgIGVuZCA9IF9yZWYuZW5kLAogICAgICBmcm9tU3RyID0gX3JlZi5mcm9tU3RyLAogICAgICBpZCA9IF9yZWYuaWQsCiAgICAgIGlzTG9hZGluZyA9IF9yZWYuaXNMb2FkaW5nLAogICAgICBraW5kID0gX3JlZi5raW5kLAogICAgICBrcWxRdWVyeSA9IF9yZWYua3FsUXVlcnksCiAgICAgIHBvbGljeSA9IF9yZWYucG9saWN5LAogICAgICBxdWVyaWVzID0gX3JlZi5xdWVyaWVzLAogICAgICBzZXREdXJhdGlvbiA9IF9yZWYuc2V0RHVyYXRpb24sCiAgICAgIHN0YXJ0ID0gX3JlZi5zdGFydCwKICAgICAgc3RhcnRBdXRvUmVsb2FkID0gX3JlZi5zdGFydEF1dG9SZWxvYWQsCiAgICAgIHN0b3BBdXRvUmVsb2FkID0gX3JlZi5zdG9wQXV0b1JlbG9hZCwKICAgICAgdGltZWxpbmVJZCA9IF9yZWYudGltZWxpbmVJZCwKICAgICAgdG9TdHIgPSBfcmVmLnRvU3RyLAogICAgICB1cGRhdGVSZWR1eFRpbWUgPSBfcmVmLnVwZGF0ZVJlZHV4VGltZTsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHRydWUpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaXNRdWlja1NlbGVjdGlvbiA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldElzUXVpY2tTZWxlY3Rpb24gPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICByZWNlbnRseVVzZWRSYW5nZXMgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRSZWNlbnRseVVzZWRSYW5nZXMgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgb25SZWZyZXNoID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgbmV3U3RhcnQgPSBfcmVmMi5zdGFydCwKICAgICAgICBuZXdFbmQgPSBfcmVmMi5lbmQ7CgogICAgdmFyIF91cGRhdGVSZWR1eFRpbWUgPSB1cGRhdGVSZWR1eFRpbWUoewogICAgICBlbmQ6IG5ld0VuZCwKICAgICAgaWQ6IGlkLAogICAgICBpc0ludmFsaWQ6IGZhbHNlLAogICAgICBpc1F1aWNrU2VsZWN0aW9uOiBpc1F1aWNrU2VsZWN0aW9uLAogICAgICBrcWw6IGtxbFF1ZXJ5LAogICAgICBzdGFydDogbmV3U3RhcnQsCiAgICAgIHRpbWVsaW5lSWQ6IHRpbWVsaW5lSWQKICAgIH0pLAogICAgICAgIGtxbEhhdmVCZWVuVXBkYXRlZCA9IF91cGRhdGVSZWR1eFRpbWUua3FsSGF2ZUJlZW5VcGRhdGVkOwoKICAgIHZhciBjdXJyZW50U3RhcnQgPSBmb3JtYXREYXRlKG5ld1N0YXJ0KTsKICAgIHZhciBjdXJyZW50RW5kID0gaXNRdWlja1NlbGVjdGlvbiA/IGZvcm1hdERhdGUobmV3RW5kLCB7CiAgICAgIHJvdW5kVXA6IHRydWUKICAgIH0pIDogZm9ybWF0RGF0ZShuZXdFbmQpOwoKICAgIGlmICgha3FsSGF2ZUJlZW5VcGRhdGVkICYmICghaXNRdWlja1NlbGVjdGlvbiB8fCBzdGFydCA9PT0gY3VycmVudFN0YXJ0ICYmIGVuZCA9PT0gY3VycmVudEVuZCkpIHsKICAgICAgcmVmZXRjaFF1ZXJ5KHF1ZXJpZXMpOwogICAgfQogIH0sIFtlbmQsIGlkLCBpc1F1aWNrU2VsZWN0aW9uLCBrcWxRdWVyeSwgc3RhcnQsIHRpbWVsaW5lSWRdKTsKICB2YXIgb25SZWZyZXNoQ2hhbmdlID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICB2YXIgaXNQYXVzZWQgPSBfcmVmMy5pc1BhdXNlZCwKICAgICAgICByZWZyZXNoSW50ZXJ2YWwgPSBfcmVmMy5yZWZyZXNoSW50ZXJ2YWw7CgogICAgaWYgKGR1cmF0aW9uICE9PSByZWZyZXNoSW50ZXJ2YWwpIHsKICAgICAgc2V0RHVyYXRpb24oewogICAgICAgIGlkOiBpZCwKICAgICAgICBkdXJhdGlvbjogcmVmcmVzaEludGVydmFsCiAgICAgIH0pOwogICAgfQoKICAgIGlmIChpc1BhdXNlZCAmJiBwb2xpY3kgPT09ICdpbnRlcnZhbCcpIHsKICAgICAgc3RvcEF1dG9SZWxvYWQoewogICAgICAgIGlkOiBpZAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoIWlzUGF1c2VkICYmIHBvbGljeSA9PT0gJ21hbnVhbCcpIHsKICAgICAgc3RhcnRBdXRvUmVsb2FkKHsKICAgICAgICBpZDogaWQKICAgICAgfSk7CiAgICB9CgogICAgaWYgKCFpc1BhdXNlZCAmJiAoIWlzUXVpY2tTZWxlY3Rpb24gfHwgaXNRdWlja1NlbGVjdGlvbiAmJiB0b1N0ciAhPT0gJ25vdycpKSB7CiAgICAgIHJlZmV0Y2hRdWVyeShxdWVyaWVzKTsKICAgIH0KICB9LCBbaWQsIGlzUXVpY2tTZWxlY3Rpb24sIGR1cmF0aW9uLCBwb2xpY3ksIHRvU3RyXSk7CgogIHZhciByZWZldGNoUXVlcnkgPSBmdW5jdGlvbiByZWZldGNoUXVlcnkobmV3UXVlcmllcykgewogICAgbmV3UXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChxKSB7CiAgICAgIHJldHVybiBxLnJlZmV0Y2ggJiYgcS5yZWZldGNoKCk7CiAgICB9KTsKICB9OwoKICB2YXIgb25UaW1lQ2hhbmdlID0gKDAsIF9yZWFjdC51c2VDYWxsYmFjaykoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICB2YXIgbmV3U3RhcnQgPSBfcmVmNC5zdGFydCwKICAgICAgICBuZXdFbmQgPSBfcmVmNC5lbmQsCiAgICAgICAgbmV3SXNRdWlja1NlbGVjdGlvbiA9IF9yZWY0LmlzUXVpY2tTZWxlY3Rpb24sCiAgICAgICAgaXNJbnZhbGlkID0gX3JlZjQuaXNJbnZhbGlkOwoKICAgIGlmICghaXNJbnZhbGlkKSB7CiAgICAgIHVwZGF0ZVJlZHV4VGltZSh7CiAgICAgICAgZW5kOiBuZXdFbmQsCiAgICAgICAgaWQ6IGlkLAogICAgICAgIGlzSW52YWxpZDogaXNJbnZhbGlkLAogICAgICAgIGlzUXVpY2tTZWxlY3Rpb246IG5ld0lzUXVpY2tTZWxlY3Rpb24sCiAgICAgICAga3FsOiBrcWxRdWVyeSwKICAgICAgICBzdGFydDogbmV3U3RhcnQsCiAgICAgICAgdGltZWxpbmVJZDogdGltZWxpbmVJZAogICAgICB9KTsKICAgICAgdmFyIG5ld1JlY2VudGx5VXNlZFJhbmdlcyA9IFt7CiAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0LAogICAgICAgIGVuZDogbmV3RW5kCiAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoKDAsIF9mcC50YWtlKShNQVhfUkVDRU5UTFlfVVNFRF9SQU5HRVMsIHJlY2VudGx5VXNlZFJhbmdlcy5maWx0ZXIoZnVuY3Rpb24gKHJlY2VudGx5VXNlZFJhbmdlKSB7CiAgICAgICAgcmV0dXJuICEocmVjZW50bHlVc2VkUmFuZ2Uuc3RhcnQgPT09IG5ld1N0YXJ0ICYmIHJlY2VudGx5VXNlZFJhbmdlLmVuZCA9PT0gbmV3RW5kKTsKICAgICAgfSkpKSk7CiAgICAgIHNldFJlY2VudGx5VXNlZFJhbmdlcyhuZXdSZWNlbnRseVVzZWRSYW5nZXMpOwogICAgICBzZXRJc1F1aWNrU2VsZWN0aW9uKG5ld0lzUXVpY2tTZWxlY3Rpb24pOwogICAgfQogIH0sIFtyZWNlbnRseVVzZWRSYW5nZXMsIGtxbFF1ZXJ5XSk7CiAgdmFyIGVuZERhdGUgPSBraW5kID09PSAncmVsYXRpdmUnID8gdG9TdHIgOiBuZXcgRGF0ZShlbmQpLnRvSVNPU3RyaW5nKCk7CiAgdmFyIHN0YXJ0RGF0ZSA9IGtpbmQgPT09ICdyZWxhdGl2ZScgPyBmcm9tU3RyIDogbmV3IERhdGUoc3RhcnQpLnRvSVNPU3RyaW5nKCk7CgogIHZhciBfdXNlVWlTZXR0aW5nJCA9ICgwLCBfa2liYW5hLnVzZVVpU2V0dGluZyQpKF9jb25zdGFudHMuREVGQVVMVF9USU1FUElDS0VSX1FVSUNLX1JBTkdFUyksCiAgICAgIF91c2VVaVNldHRpbmckMiA9IF9zbGljZWRUb0FycmF5KF91c2VVaVNldHRpbmckLCAxKSwKICAgICAgcXVpY2tSYW5nZXMgPSBfdXNlVWlTZXR0aW5nJDJbMF07CgogIHZhciBjb21tb25seVVzZWRSYW5nZXMgPSAoMCwgX2ZwLmlzRW1wdHkpKHF1aWNrUmFuZ2VzKSA/IFtdIDogcXVpY2tSYW5nZXMubWFwKGZ1bmN0aW9uIChfcmVmNSkgewogICAgdmFyIGZyb20gPSBfcmVmNS5mcm9tLAogICAgICAgIHRvID0gX3JlZjUudG8sCiAgICAgICAgZGlzcGxheSA9IF9yZWY1LmRpc3BsYXk7CiAgICByZXR1cm4gewogICAgICBzdGFydDogZnJvbSwKICAgICAgZW5kOiB0bywKICAgICAgbGFiZWw6IGRpc3BsYXkKICAgIH07CiAgfSk7CiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTdXBlckRhdGVQaWNrZXIsIHsKICAgIGNvbW1vbmx5VXNlZFJhbmdlczogY29tbW9ubHlVc2VkUmFuZ2VzLAogICAgZW5kOiBlbmREYXRlLAogICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsCiAgICBpc1BhdXNlZDogcG9saWN5ID09PSAnbWFudWFsJywKICAgIG9uUmVmcmVzaDogb25SZWZyZXNoLAogICAgb25SZWZyZXNoQ2hhbmdlOiBvblJlZnJlc2hDaGFuZ2UsCiAgICBvblRpbWVDaGFuZ2U6IG9uVGltZUNoYW5nZSwKICAgIHJlY2VudGx5VXNlZFJhbmdlczogcmVjZW50bHlVc2VkUmFuZ2VzLAogICAgcmVmcmVzaEludGVydmFsOiBkdXJhdGlvbiwKICAgIHNob3dVcGRhdGVCdXR0b246IHRydWUsCiAgICBzdGFydDogc3RhcnREYXRlCiAgfSk7Cn0pOwoKZXhwb3J0cy5TdXBlckRhdGVQaWNrZXJDb21wb25lbnQgPSBTdXBlckRhdGVQaWNrZXJDb21wb25lbnQ7Cgp2YXIgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucykgewogIHZhciBtb21lbnREYXRlID0gX2RhdGVtYXRoLmRlZmF1bHQucGFyc2UoZGF0ZSwgb3B0aW9ucyk7CgogIHJldHVybiBtb21lbnREYXRlICE9IG51bGwgJiYgbW9tZW50RGF0ZS5pc1ZhbGlkKCkgPyBtb21lbnREYXRlLnZhbHVlT2YoKSA6IDA7Cn07CgpleHBvcnRzLmZvcm1hdERhdGUgPSBmb3JtYXREYXRlOwoKdmFyIGRpc3BhdGNoVXBkYXRlUmVkdXhUaW1lID0gZnVuY3Rpb24gZGlzcGF0Y2hVcGRhdGVSZWR1eFRpbWUoZGlzcGF0Y2gpIHsKICByZXR1cm4gZnVuY3Rpb24gKF9yZWY2KSB7CiAgICB2YXIgZW5kID0gX3JlZjYuZW5kLAogICAgICAgIGlkID0gX3JlZjYuaWQsCiAgICAgICAgaXNRdWlja1NlbGVjdGlvbiA9IF9yZWY2LmlzUXVpY2tTZWxlY3Rpb24sCiAgICAgICAga3FsID0gX3JlZjYua3FsLAogICAgICAgIHN0YXJ0ID0gX3JlZjYuc3RhcnQsCiAgICAgICAgdGltZWxpbmVJZCA9IF9yZWY2LnRpbWVsaW5lSWQ7CiAgICB2YXIgZnJvbURhdGUgPSBmb3JtYXREYXRlKHN0YXJ0KTsKICAgIHZhciB0b0RhdGUgPSBmb3JtYXREYXRlKGVuZCwgewogICAgICByb3VuZFVwOiB0cnVlCiAgICB9KTsKCiAgICBpZiAoaXNRdWlja1NlbGVjdGlvbikgewogICAgICBkaXNwYXRjaChfYWN0aW9ucy5pbnB1dHNBY3Rpb25zLnNldFJlbGF0aXZlUmFuZ2VEYXRlUGlja2VyKHsKICAgICAgICBpZDogaWQsCiAgICAgICAgZnJvbVN0cjogc3RhcnQsCiAgICAgICAgdG9TdHI6IGVuZCwKICAgICAgICBmcm9tOiBmcm9tRGF0ZSwKICAgICAgICB0bzogdG9EYXRlCiAgICAgIH0pKTsKICAgIH0gZWxzZSB7CiAgICAgIHRvRGF0ZSA9IGZvcm1hdERhdGUoZW5kKTsKICAgICAgZGlzcGF0Y2goX2FjdGlvbnMuaW5wdXRzQWN0aW9ucy5zZXRBYnNvbHV0ZVJhbmdlRGF0ZVBpY2tlcih7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIGZyb206IGZvcm1hdERhdGUoc3RhcnQpLAogICAgICAgIHRvOiBmb3JtYXREYXRlKGVuZCkKICAgICAgfSkpOwogICAgfQoKICAgIGlmICh0aW1lbGluZUlkICE9IG51bGwpIHsKICAgICAgZGlzcGF0Y2goX2FjdGlvbnMudGltZWxpbmVBY3Rpb25zLnVwZGF0ZVJhbmdlKHsKICAgICAgICBpZDogdGltZWxpbmVJZCwKICAgICAgICBzdGFydDogZnJvbURhdGUsCiAgICAgICAgZW5kOiB0b0RhdGUKICAgICAgfSkpOwogICAgfQoKICAgIGlmIChrcWwpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBrcWxIYXZlQmVlblVwZGF0ZWQ6IGtxbC5yZWZldGNoKGRpc3BhdGNoKQogICAgICB9OwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGtxbEhhdmVCZWVuVXBkYXRlZDogZmFsc2UKICAgIH07CiAgfTsKfTsKCmV4cG9ydHMuZGlzcGF0Y2hVcGRhdGVSZWR1eFRpbWUgPSBkaXNwYXRjaFVwZGF0ZVJlZHV4VGltZTsKCnZhciBtYWtlTWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFrZU1hcFN0YXRlVG9Qcm9wcygpIHsKICB2YXIgZ2V0RHVyYXRpb25TZWxlY3RvciA9ICgwLCBfc2VsZWN0b3JzLmR1cmF0aW9uU2VsZWN0b3IpKCk7CiAgdmFyIGdldEVuZFNlbGVjdG9yID0gKDAsIF9zZWxlY3RvcnMuZW5kU2VsZWN0b3IpKCk7CiAgdmFyIGdldEZyb21TdHJTZWxlY3RvciA9ICgwLCBfc2VsZWN0b3JzLmZyb21TdHJTZWxlY3RvcikoKTsKICB2YXIgZ2V0SXNMb2FkaW5nU2VsZWN0b3IgPSAoMCwgX3NlbGVjdG9ycy5pc0xvYWRpbmdTZWxlY3RvcikoKTsKICB2YXIgZ2V0S2luZFNlbGVjdG9yID0gKDAsIF9zZWxlY3RvcnMua2luZFNlbGVjdG9yKSgpOwogIHZhciBnZXRLcWxRdWVyeVNlbGVjdG9yID0gKDAsIF9zZWxlY3RvcnMua3FsUXVlcnlTZWxlY3RvcikoKTsKICB2YXIgZ2V0UG9saWN5U2VsZWN0b3IgPSAoMCwgX3NlbGVjdG9ycy5wb2xpY3lTZWxlY3RvcikoKTsKICB2YXIgZ2V0UXVlcmllc1NlbGVjdG9yID0gKDAsIF9zZWxlY3RvcnMucXVlcmllc1NlbGVjdG9yKSgpOwogIHZhciBnZXRTdGFydFNlbGVjdG9yID0gKDAsIF9zZWxlY3RvcnMuc3RhcnRTZWxlY3RvcikoKTsKICB2YXIgZ2V0VG9TdHJTZWxlY3RvciA9ICgwLCBfc2VsZWN0b3JzLnRvU3RyU2VsZWN0b3IpKCk7CiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZjcpIHsKICAgIHZhciBpZCA9IF9yZWY3LmlkOwogICAgdmFyIGlucHV0c1JhbmdlID0gKDAsIF9mcC5nZXRPcikoe30sICJpbnB1dHMuIi5jb25jYXQoaWQpLCBzdGF0ZSk7CiAgICByZXR1cm4gewogICAgICBkdXJhdGlvbjogZ2V0RHVyYXRpb25TZWxlY3RvcihpbnB1dHNSYW5nZSksCiAgICAgIGVuZDogZ2V0RW5kU2VsZWN0b3IoaW5wdXRzUmFuZ2UpLAogICAgICBmcm9tU3RyOiBnZXRGcm9tU3RyU2VsZWN0b3IoaW5wdXRzUmFuZ2UpLAogICAgICBpc0xvYWRpbmc6IGdldElzTG9hZGluZ1NlbGVjdG9yKGlucHV0c1JhbmdlKSwKICAgICAga2luZDogZ2V0S2luZFNlbGVjdG9yKGlucHV0c1JhbmdlKSwKICAgICAga3FsUXVlcnk6IGdldEtxbFF1ZXJ5U2VsZWN0b3IoaW5wdXRzUmFuZ2UpLAogICAgICBwb2xpY3k6IGdldFBvbGljeVNlbGVjdG9yKGlucHV0c1JhbmdlKSwKICAgICAgcXVlcmllczogZ2V0UXVlcmllc1NlbGVjdG9yKGlucHV0c1JhbmdlKSwKICAgICAgc3RhcnQ6IGdldFN0YXJ0U2VsZWN0b3IoaW5wdXRzUmFuZ2UpLAogICAgICB0b1N0cjogZ2V0VG9TdHJTZWxlY3RvcihpbnB1dHNSYW5nZSkKICAgIH07CiAgfTsKfTsKCmV4cG9ydHMubWFrZU1hcFN0YXRlVG9Qcm9wcyA9IG1ha2VNYXBTdGF0ZVRvUHJvcHM7ClN1cGVyRGF0ZVBpY2tlckNvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdTdXBlckRhdGVQaWNrZXJDb21wb25lbnQnOwoKdmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkgewogIHJldHVybiB7CiAgICBzdGFydEF1dG9SZWxvYWQ6IGZ1bmN0aW9uIHN0YXJ0QXV0b1JlbG9hZChfcmVmOCkgewogICAgICB2YXIgaWQgPSBfcmVmOC5pZDsKICAgICAgcmV0dXJuIGRpc3BhdGNoKF9hY3Rpb25zLmlucHV0c0FjdGlvbnMuc3RhcnRBdXRvUmVsb2FkKHsKICAgICAgICBpZDogaWQKICAgICAgfSkpOwogICAgfSwKICAgIHN0b3BBdXRvUmVsb2FkOiBmdW5jdGlvbiBzdG9wQXV0b1JlbG9hZChfcmVmOSkgewogICAgICB2YXIgaWQgPSBfcmVmOS5pZDsKICAgICAgcmV0dXJuIGRpc3BhdGNoKF9hY3Rpb25zLmlucHV0c0FjdGlvbnMuc3RvcEF1dG9SZWxvYWQoewogICAgICAgIGlkOiBpZAogICAgICB9KSk7CiAgICB9LAogICAgc2V0RHVyYXRpb246IGZ1bmN0aW9uIHNldER1cmF0aW9uKF9yZWYxMCkgewogICAgICB2YXIgaWQgPSBfcmVmMTAuaWQsCiAgICAgICAgICBkdXJhdGlvbiA9IF9yZWYxMC5kdXJhdGlvbjsKICAgICAgcmV0dXJuIGRpc3BhdGNoKF9hY3Rpb25zLmlucHV0c0FjdGlvbnMuc2V0RHVyYXRpb24oewogICAgICAgIGlkOiBpZCwKICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24KICAgICAgfSkpOwogICAgfSwKICAgIHVwZGF0ZVJlZHV4VGltZTogZGlzcGF0Y2hVcGRhdGVSZWR1eFRpbWUoZGlzcGF0Y2gpCiAgfTsKfTsKCnZhciBjb25uZWN0b3IgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFrZU1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKTsKZXhwb3J0cy5jb25uZWN0b3IgPSBjb25uZWN0b3I7CnZhciBTdXBlckRhdGVQaWNrZXIgPSBjb25uZWN0b3IoU3VwZXJEYXRlUGlja2VyQ29tcG9uZW50KTsKZXhwb3J0cy5TdXBlckRhdGVQaWNrZXIgPSBTdXBlckRhdGVQaWNrZXI7"},null]}