{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/common/migrations/references.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/common/migrations/references.js","mtime":1589249552380},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmV4dHJhY3RSZWZlcmVuY2VzID0gZXh0cmFjdFJlZmVyZW5jZXM7CmV4cG9ydHMuaW5qZWN0UmVmZXJlbmNlcyA9IGluamVjdFJlZmVyZW5jZXM7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi9jb25zdGFudHMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpmdW5jdGlvbiBkb2VzU291cmNlVXNlSW5kZXhQYXR0ZXJuKGxheWVyRGVzY3JpcHRvcikgewogIHZhciBzb3VyY2VUeXBlID0gX2xvZGFzaC5kZWZhdWx0LmdldChsYXllckRlc2NyaXB0b3IsICdzb3VyY2VEZXNjcmlwdG9yLnR5cGUnKTsKCiAgcmV0dXJuIHNvdXJjZVR5cGUgPT09IF9jb25zdGFudHMuRVNfR0VPX0dSSUQgfHwgc291cmNlVHlwZSA9PT0gX2NvbnN0YW50cy5FU19TRUFSQ0ggfHwgc291cmNlVHlwZSA9PT0gX2NvbnN0YW50cy5FU19QRVdfUEVXOwp9CgpmdW5jdGlvbiBleHRyYWN0UmVmZXJlbmNlcyhfcmVmKSB7CiAgdmFyIGF0dHJpYnV0ZXMgPSBfcmVmLmF0dHJpYnV0ZXMsCiAgICAgIF9yZWYkcmVmZXJlbmNlcyA9IF9yZWYucmVmZXJlbmNlcywKICAgICAgcmVmZXJlbmNlcyA9IF9yZWYkcmVmZXJlbmNlcyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHJlZmVyZW5jZXM7CgogIGlmICghYXR0cmlidXRlcy5sYXllckxpc3RKU09OKSB7CiAgICByZXR1cm4gewogICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAogICAgICByZWZlcmVuY2VzOiByZWZlcmVuY2VzCiAgICB9OwogIH0KCiAgdmFyIGV4dHJhY3RlZFJlZmVyZW5jZXMgPSBbXTsKICB2YXIgbGF5ZXJMaXN0ID0gSlNPTi5wYXJzZShhdHRyaWJ1dGVzLmxheWVyTGlzdEpTT04pOwogIGxheWVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChsYXllciwgbGF5ZXJJbmRleCkgewogICAgLy8gRXh0cmFjdCBpbmRleC1wYXR0ZXJuIHJlZmVyZW5jZXMgZnJvbSBzb3VyY2UgZGVzY3JpcHRvcgogICAgaWYgKGRvZXNTb3VyY2VVc2VJbmRleFBhdHRlcm4obGF5ZXIpICYmIF9sb2Rhc2guZGVmYXVsdC5oYXMobGF5ZXIsICdzb3VyY2VEZXNjcmlwdG9yLmluZGV4UGF0dGVybklkJykpIHsKICAgICAgdmFyIHJlZk5hbWUgPSAibGF5ZXJfIi5jb25jYXQobGF5ZXJJbmRleCwgIl9zb3VyY2VfaW5kZXhfcGF0dGVybiIpOwogICAgICBleHRyYWN0ZWRSZWZlcmVuY2VzLnB1c2goewogICAgICAgIG5hbWU6IHJlZk5hbWUsCiAgICAgICAgdHlwZTogJ2luZGV4LXBhdHRlcm4nLAogICAgICAgIGlkOiBsYXllci5zb3VyY2VEZXNjcmlwdG9yLmluZGV4UGF0dGVybklkCiAgICAgIH0pOwogICAgICBkZWxldGUgbGF5ZXIuc291cmNlRGVzY3JpcHRvci5pbmRleFBhdHRlcm5JZDsKICAgICAgbGF5ZXIuc291cmNlRGVzY3JpcHRvci5pbmRleFBhdHRlcm5SZWZOYW1lID0gcmVmTmFtZTsKICAgIH0gLy8gRXh0cmFjdCBpbmRleC1wYXR0ZXJuIHJlZmVyZW5jZXMgZnJvbSBqb2luCgoKICAgIHZhciBqb2lucyA9IF9sb2Rhc2guZGVmYXVsdC5nZXQobGF5ZXIsICdqb2lucycsIFtdKTsKCiAgICBqb2lucy5mb3JFYWNoKGZ1bmN0aW9uIChqb2luLCBqb2luSW5kZXgpIHsKICAgICAgaWYgKF9sb2Rhc2guZGVmYXVsdC5oYXMoam9pbiwgJ3JpZ2h0LmluZGV4UGF0dGVybklkJykpIHsKICAgICAgICB2YXIgX3JlZk5hbWUgPSAibGF5ZXJfIi5jb25jYXQobGF5ZXJJbmRleCwgIl9qb2luXyIpLmNvbmNhdChqb2luSW5kZXgsICJfaW5kZXhfcGF0dGVybiIpOwoKICAgICAgICBleHRyYWN0ZWRSZWZlcmVuY2VzLnB1c2goewogICAgICAgICAgbmFtZTogX3JlZk5hbWUsCiAgICAgICAgICB0eXBlOiAnaW5kZXgtcGF0dGVybicsCiAgICAgICAgICBpZDogam9pbi5yaWdodC5pbmRleFBhdHRlcm5JZAogICAgICAgIH0pOwogICAgICAgIGRlbGV0ZSBqb2luLnJpZ2h0LmluZGV4UGF0dGVybklkOwogICAgICAgIGpvaW4ucmlnaHQuaW5kZXhQYXR0ZXJuUmVmTmFtZSA9IF9yZWZOYW1lOwogICAgICB9CiAgICB9KTsKICB9KTsKICByZXR1cm4gewogICAgYXR0cmlidXRlczogX29iamVjdFNwcmVhZCh7fSwgYXR0cmlidXRlcywgewogICAgICBsYXllckxpc3RKU09OOiBKU09OLnN0cmluZ2lmeShsYXllckxpc3QpCiAgICB9KSwKICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMuY29uY2F0KGV4dHJhY3RlZFJlZmVyZW5jZXMpCiAgfTsKfQoKZnVuY3Rpb24gZmluZFJlZmVyZW5jZSh0YXJnZXROYW1lLCByZWZlcmVuY2VzKSB7CiAgdmFyIHJlZmVyZW5jZSA9IHJlZmVyZW5jZXMuZmluZChmdW5jdGlvbiAocmVmZXJlbmNlKSB7CiAgICByZXR1cm4gcmVmZXJlbmNlLm5hbWUgPT09IHRhcmdldE5hbWU7CiAgfSk7CgogIGlmICghcmVmZXJlbmNlKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIHJlZmVyZW5jZSBcIiIuY29uY2F0KHRhcmdldE5hbWUsICJcIiIpKTsKICB9CgogIHJldHVybiByZWZlcmVuY2U7Cn0KCmZ1bmN0aW9uIGluamVjdFJlZmVyZW5jZXMoX3JlZjIpIHsKICB2YXIgYXR0cmlidXRlcyA9IF9yZWYyLmF0dHJpYnV0ZXMsCiAgICAgIHJlZmVyZW5jZXMgPSBfcmVmMi5yZWZlcmVuY2VzOwoKICBpZiAoIWF0dHJpYnV0ZXMubGF5ZXJMaXN0SlNPTikgewogICAgcmV0dXJuIHsKICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlcwogICAgfTsKICB9CgogIHZhciBsYXllckxpc3QgPSBKU09OLnBhcnNlKGF0dHJpYnV0ZXMubGF5ZXJMaXN0SlNPTik7CiAgbGF5ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7CiAgICAvLyBJbmplY3QgaW5kZXgtcGF0dGVybiByZWZlcmVuY2VzIGludG8gc291cmNlIGRlc2NyaXB0b3IKICAgIGlmIChkb2VzU291cmNlVXNlSW5kZXhQYXR0ZXJuKGxheWVyKSAmJiBfbG9kYXNoLmRlZmF1bHQuaGFzKGxheWVyLCAnc291cmNlRGVzY3JpcHRvci5pbmRleFBhdHRlcm5SZWZOYW1lJykpIHsKICAgICAgdmFyIHJlZmVyZW5jZSA9IGZpbmRSZWZlcmVuY2UobGF5ZXIuc291cmNlRGVzY3JpcHRvci5pbmRleFBhdHRlcm5SZWZOYW1lLCByZWZlcmVuY2VzKTsKICAgICAgbGF5ZXIuc291cmNlRGVzY3JpcHRvci5pbmRleFBhdHRlcm5JZCA9IHJlZmVyZW5jZS5pZDsKICAgICAgZGVsZXRlIGxheWVyLnNvdXJjZURlc2NyaXB0b3IuaW5kZXhQYXR0ZXJuUmVmTmFtZTsKICAgIH0gLy8gSW5qZWN0IGluZGV4LXBhdHRlcm4gcmVmZXJlbmNlcyBpbnRvIGpvaW4KCgogICAgdmFyIGpvaW5zID0gX2xvZGFzaC5kZWZhdWx0LmdldChsYXllciwgJ2pvaW5zJywgW10pOwoKICAgIGpvaW5zLmZvckVhY2goZnVuY3Rpb24gKGpvaW4pIHsKICAgICAgaWYgKF9sb2Rhc2guZGVmYXVsdC5oYXMoam9pbiwgJ3JpZ2h0LmluZGV4UGF0dGVyblJlZk5hbWUnKSkgewogICAgICAgIHZhciBfcmVmZXJlbmNlID0gZmluZFJlZmVyZW5jZShqb2luLnJpZ2h0LmluZGV4UGF0dGVyblJlZk5hbWUsIHJlZmVyZW5jZXMpOwoKICAgICAgICBqb2luLnJpZ2h0LmluZGV4UGF0dGVybklkID0gX3JlZmVyZW5jZS5pZDsKICAgICAgICBkZWxldGUgam9pbi5yaWdodC5pbmRleFBhdHRlcm5SZWZOYW1lOwogICAgICB9CiAgICB9KTsKICB9KTsKICByZXR1cm4gewogICAgYXR0cmlidXRlczogX29iamVjdFNwcmVhZCh7fSwgYXR0cmlidXRlcywgewogICAgICBsYXllckxpc3RKU09OOiBKU09OLnN0cmluZ2lmeShsYXllckxpc3QpCiAgICB9KQogIH07Cn0="},null]}