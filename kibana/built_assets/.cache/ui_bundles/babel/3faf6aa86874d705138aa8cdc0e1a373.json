{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/visualizations/public/np_ready/public/saved_visualizations/_saved_vis.js","dependencies":[{"path":"src/legacy/core_plugins/visualizations/public/np_ready/public/saved_visualizations/_saved_vis.js","mtime":1589249550170},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuY3JlYXRlU2F2ZWRWaXNDbGFzcyA9IGNyZWF0ZVNhdmVkVmlzQ2xhc3M7CmV4cG9ydHMuY29udmVydEZyb21TZXJpYWxpemVkVmlzID0gZXhwb3J0cy5jb252ZXJ0VG9TZXJpYWxpemVkVmlzID0gdm9pZCAwOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wbHVnaW5zL3NhdmVkX29iamVjdHMvcHVibGljIik7Cgp2YXIgX3Zpc191cGRhdGVfc3RhdGUgPSByZXF1aXJlKCIuLi9sZWdhY3kvdmlzX3VwZGF0ZV9zdGF0ZSIpOwoKdmFyIF9zYXZlZF92aXN1YWxpemF0aW9uX3JlZmVyZW5jZXMgPSByZXF1aXJlKCIuL3NhdmVkX3Zpc3VhbGl6YXRpb25fcmVmZXJlbmNlcyIpOwoKdmFyIF9wdWJsaWMyID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9kYXRhL3B1YmxpYyIpOwoKdmFyIF9wdWJsaWMzID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGx1Z2lucy9kaXNjb3Zlci9wdWJsaWMiKTsKCnZhciBfc2VydmljZXMgPSByZXF1aXJlKCIuLi9zZXJ2aWNlcyIpOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBfdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpID09PSAic3ltYm9sIikgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9IGVsc2UgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IF90eXBlb2YyKG9iaik7CiAgICB9OwogIH0KCiAgcmV0dXJuIF90eXBlb2Yob2JqKTsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7CiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogIH0KCiAgcmV0dXJuIHNlbGY7Cn0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsKICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7CiAgfTsKICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKdmFyIGNvbnZlcnRUb1NlcmlhbGl6ZWRWaXMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHNhdmVkVmlzKSB7CiAgICB2YXIgdmlzU3RhdGUsIHNlYXJjaFNvdXJjZSwgaW5kZXhQYXR0ZXJuLCBhZ2dzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB2aXNTdGF0ZSA9IHNhdmVkVmlzLnZpc1N0YXRlOwogICAgICAgICAgICBfY29udGV4dC50MCA9IHNhdmVkVmlzLnNlYXJjaFNvdXJjZTsKCiAgICAgICAgICAgIGlmICghX2NvbnRleHQudDApIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBnZXRTZWFyY2hTb3VyY2Uoc2F2ZWRWaXMuc2VhcmNoU291cmNlLCBzYXZlZFZpcy5zYXZlZFNlYXJjaElkKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHNlYXJjaFNvdXJjZSA9IF9jb250ZXh0LnQwOwogICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBzZWFyY2hTb3VyY2UgJiYgc2VhcmNoU291cmNlLmdldEZpZWxkKCdpbmRleCcpID8gc2VhcmNoU291cmNlLmdldEZpZWxkKCdpbmRleCcpLmlkIDogdW5kZWZpbmVkOwogICAgICAgICAgICBhZ2dzID0gaW5kZXhQYXR0ZXJuID8gdmlzU3RhdGUuYWdncyB8fCBbXSA6IHZpc1N0YXRlLmFnZ3M7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBpZDogc2F2ZWRWaXMuaWQsCiAgICAgICAgICAgICAgdGl0bGU6IHNhdmVkVmlzLnRpdGxlLAogICAgICAgICAgICAgIHR5cGU6IHZpc1N0YXRlLnR5cGUsCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNhdmVkVmlzLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgIHBhcmFtczogdmlzU3RhdGUucGFyYW1zLAogICAgICAgICAgICAgIHVpU3RhdGU6IEpTT04ucGFyc2Uoc2F2ZWRWaXMudWlTdGF0ZUpTT04gfHwgJ3t9JyksCiAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgaW5kZXhQYXR0ZXJuOiBpbmRleFBhdHRlcm4sCiAgICAgICAgICAgICAgICBhZ2dzOiBhZ2dzLAogICAgICAgICAgICAgICAgc2VhcmNoU291cmNlOiBzZWFyY2hTb3VyY2UsCiAgICAgICAgICAgICAgICBzYXZlZFNlYXJjaElkOiBzYXZlZFZpcy5zYXZlZFNlYXJjaElkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRUb1NlcmlhbGl6ZWRWaXMoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKZXhwb3J0cy5jb252ZXJ0VG9TZXJpYWxpemVkVmlzID0gY29udmVydFRvU2VyaWFsaXplZFZpczsKCnZhciBjb252ZXJ0RnJvbVNlcmlhbGl6ZWRWaXMgPSBmdW5jdGlvbiBjb252ZXJ0RnJvbVNlcmlhbGl6ZWRWaXModmlzKSB7CiAgcmV0dXJuIHsKICAgIGlkOiB2aXMuaWQsCiAgICB0aXRsZTogdmlzLnRpdGxlLAogICAgZGVzY3JpcHRpb246IHZpcy5kZXNjcmlwdGlvbiwKICAgIHZpc1N0YXRlOiB7CiAgICAgIHR5cGU6IHZpcy50eXBlLAogICAgICBhZ2dzOiB2aXMuZGF0YS5hZ2dzLAogICAgICBwYXJhbXM6IHZpcy5wYXJhbXMKICAgIH0sCiAgICB1aVN0YXRlSlNPTjogSlNPTi5zdHJpbmdpZnkodmlzLnVpU3RhdGUpLAogICAgc2VhcmNoU291cmNlOiB2aXMuZGF0YS5zZWFyY2hTb3VyY2UsCiAgICBzYXZlZFNlYXJjaElkOiB2aXMuZGF0YS5zYXZlZFNlYXJjaElkCiAgfTsKfTsKCmV4cG9ydHMuY29udmVydEZyb21TZXJpYWxpemVkVmlzID0gY29udmVydEZyb21TZXJpYWxpemVkVmlzOwoKdmFyIGdldFNlYXJjaFNvdXJjZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihpbnB1dFNlYXJjaFNvdXJjZSwgc2F2ZWRTZWFyY2hJZCkgewogICAgdmFyIHNlYXJjaFNvdXJjZSwgc2F2ZWRTZWFyY2g7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzZWFyY2hTb3VyY2UgPSBpbnB1dFNlYXJjaFNvdXJjZS5jcmVhdGVDb3B5ID8gaW5wdXRTZWFyY2hTb3VyY2UuY3JlYXRlQ29weSgpIDogbmV3IF9wdWJsaWMyLlNlYXJjaFNvdXJjZShfb2JqZWN0U3ByZWFkKHt9LCBpbnB1dFNlYXJjaFNvdXJjZS5maWVsZHMpKTsKCiAgICAgICAgICAgIGlmICghc2F2ZWRTZWFyY2hJZCkgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gKDAsIF9wdWJsaWMzLmNyZWF0ZVNhdmVkU2VhcmNoZXNMb2FkZXIpKHsKICAgICAgICAgICAgICBzYXZlZE9iamVjdHNDbGllbnQ6ICgwLCBfc2VydmljZXMuZ2V0U2F2ZWRPYmplY3RzKSgpLmNsaWVudCwKICAgICAgICAgICAgICBpbmRleFBhdHRlcm5zOiAoMCwgX3NlcnZpY2VzLmdldEluZGV4UGF0dGVybnMpKCksCiAgICAgICAgICAgICAgY2hyb21lOiAoMCwgX3NlcnZpY2VzLmdldENocm9tZSkoKSwKICAgICAgICAgICAgICBvdmVybGF5czogKDAsIF9zZXJ2aWNlcy5nZXRPdmVybGF5cykoKQogICAgICAgICAgICB9KS5nZXQoc2F2ZWRTZWFyY2hJZCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBzYXZlZFNlYXJjaCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBzZWFyY2hTb3VyY2Uuc2V0UGFyZW50KHNhdmVkU2VhcmNoLnNlYXJjaFNvdXJjZSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBzZWFyY2hTb3VyY2Uuc2V0RmllbGQoJ3NpemUnLCAwKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHNlYXJjaFNvdXJjZSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0U2VhcmNoU291cmNlKF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CgpmdW5jdGlvbiBjcmVhdGVTYXZlZFZpc0NsYXNzKHNlcnZpY2VzKSB7CiAgdmFyIFNhdmVkT2JqZWN0Q2xhc3MgPSAoMCwgX3B1YmxpYy5jcmVhdGVTYXZlZE9iamVjdENsYXNzKShzZXJ2aWNlcyk7CgogIHZhciBTYXZlZFZpcyA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uIChfU2F2ZWRPYmplY3RDbGFzcykgewogICAgX2luaGVyaXRzKFNhdmVkVmlzLCBfU2F2ZWRPYmplY3RDbGFzcyk7IC8vIE9yZGVyIHRoZXNlIGZpZWxkcyB0byB0aGUgdG9wLCB0aGUgcmVzdCBhcmUgYWxwaGFiZXRpY2FsCgoKICAgIGZ1bmN0aW9uIFNhdmVkVmlzKCkgewogICAgICB2YXIgX3RoaXM7CgogICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2F2ZWRWaXMpOwoKICAgICAgaWYgKF90eXBlb2Yob3B0cykgIT09ICdvYmplY3QnKSB7CiAgICAgICAgb3B0cyA9IHsKICAgICAgICAgIGlkOiBvcHRzCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHZpc1N0YXRlID0gIW9wdHMudHlwZSA/IG51bGwgOiB7CiAgICAgICAgdHlwZTogb3B0cy50eXBlCiAgICAgIH07IC8vIEdpdmVzIG91ciBTYXZlZFdvcmtzcGFjZSB0aGUgcHJvcGVydGllcyBvZiBhIFNhdmVkT2JqZWN0CgogICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTYXZlZFZpcykuY2FsbCh0aGlzLCB7CiAgICAgICAgdHlwZTogU2F2ZWRWaXMudHlwZSwKICAgICAgICBtYXBwaW5nOiBTYXZlZFZpcy5tYXBwaW5nLAogICAgICAgIHNlYXJjaFNvdXJjZTogU2F2ZWRWaXMuc2VhcmNoU291cmNlLAogICAgICAgIGV4dHJhY3RSZWZlcmVuY2VzOiBfc2F2ZWRfdmlzdWFsaXphdGlvbl9yZWZlcmVuY2VzLmV4dHJhY3RSZWZlcmVuY2VzLAogICAgICAgIGluamVjdFJlZmVyZW5jZXM6IF9zYXZlZF92aXN1YWxpemF0aW9uX3JlZmVyZW5jZXMuaW5qZWN0UmVmZXJlbmNlcywKICAgICAgICBpZDogb3B0cy5pZCB8fCAnJywKICAgICAgICBpbmRleFBhdHRlcm46IG9wdHMuaW5kZXhQYXR0ZXJuLAogICAgICAgIGRlZmF1bHRzOiB7CiAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICB2aXNTdGF0ZTogdmlzU3RhdGUsCiAgICAgICAgICB1aVN0YXRlSlNPTjogJ3t9JywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgIHNhdmVkU2VhcmNoSWQ6IG9wdHMuc2F2ZWRTZWFyY2hJZCwKICAgICAgICAgIHZlcnNpb246IDEKICAgICAgICB9LAogICAgICAgIGFmdGVyRVNSZXNwOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX2FmdGVyRVNSZXNwID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhzYXZlZE9iamVjdCkgewogICAgICAgICAgICB2YXIgc2F2ZWRWaXM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgc2F2ZWRWaXMgPSBzYXZlZE9iamVjdDsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfdmlzX3VwZGF0ZV9zdGF0ZS51cGRhdGVPbGRTdGF0ZSkoc2F2ZWRWaXMudmlzU3RhdGUpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIHNhdmVkVmlzLnZpc1N0YXRlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgIGlmICghKHNhdmVkVmlzLnNhdmVkU2VhcmNoSWQgJiYgc2F2ZWRWaXMuc2VhcmNoU291cmNlKSkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFNlYXJjaFNvdXJjZShzYXZlZFZpcy5zZWFyY2hTb3VyY2UsIHNhdmVkVmlzLnNhdmVkU2VhcmNoSWQpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgIHNhdmVkT2JqZWN0LnNlYXJjaFNvdXJjZSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBzYXZlZFZpcyk7CgogICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgZnVuY3Rpb24gYWZ0ZXJFU1Jlc3AoX3g0KSB7CiAgICAgICAgICAgIHJldHVybiBfYWZ0ZXJFU1Jlc3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYWZ0ZXJFU1Jlc3A7CiAgICAgICAgfSgpCiAgICAgIH0pKTsKICAgICAgX3RoaXMuc2hvd0luUmVjZW50bHlBY2Nlc3NlZCA9IHRydWU7CgogICAgICBfdGhpcy5nZXRGdWxsUGF0aCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIi9hcHAva2liYW5hIy92aXN1YWxpemUvZWRpdC8iLmNvbmNhdChfdGhpcy5pZCk7CiAgICAgIH07CgogICAgICByZXR1cm4gX3RoaXM7CiAgICB9CgogICAgcmV0dXJuIFNhdmVkVmlzOwogIH0oU2F2ZWRPYmplY3RDbGFzcyk7CgogIF9kZWZpbmVQcm9wZXJ0eShTYXZlZFZpcywgInR5cGUiLCAndmlzdWFsaXphdGlvbicpOwoKICBfZGVmaW5lUHJvcGVydHkoU2F2ZWRWaXMsICJtYXBwaW5nIiwgewogICAgdGl0bGU6ICd0ZXh0JywKICAgIHZpc1N0YXRlOiAnanNvbicsCiAgICB1aVN0YXRlSlNPTjogJ3RleHQnLAogICAgZGVzY3JpcHRpb246ICd0ZXh0JywKICAgIHNhdmVkU2VhcmNoSWQ6ICdrZXl3b3JkJywKICAgIHZlcnNpb246ICdpbnRlZ2VyJwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkoU2F2ZWRWaXMsICJmaWVsZE9yZGVyIiwgWyd0aXRsZScsICdkZXNjcmlwdGlvbiddKTsKCiAgX2RlZmluZVByb3BlcnR5KFNhdmVkVmlzLCAic2VhcmNoU291cmNlIiwgdHJ1ZSk7CgogIHJldHVybiBTYXZlZFZpczsKfQ=="},null]}