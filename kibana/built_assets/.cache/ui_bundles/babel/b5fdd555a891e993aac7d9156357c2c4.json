{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/layers/styles/vector/properties/dynamic_icon_property.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/layers/styles/vector/properties/dynamic_icon_property.js","mtime":1589249552480},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkR5bmFtaWNJY29uUHJvcGVydHkgPSB2b2lkIDA7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3N0eWxlX3V0aWwgPSByZXF1aXJlKCIuLi9zdHlsZV91dGlsIik7Cgp2YXIgX2R5bmFtaWNfc3R5bGVfcHJvcGVydHkgPSByZXF1aXJlKCIuL2R5bmFtaWNfc3R5bGVfcHJvcGVydHkiKTsKCnZhciBfc3ltYm9sX3V0aWxzID0gcmVxdWlyZSgiLi4vc3ltYm9sX3V0aWxzIik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9jYXRlZ29yeSA9IHJlcXVpcmUoIi4uL2NvbXBvbmVudHMvbGVnZW5kL2NhdGVnb3J5Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKdmFyIER5bmFtaWNJY29uUHJvcGVydHkgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfRHluYW1pY1N0eWxlUHJvcGVydHkpIHsKICBfaW5oZXJpdHMoRHluYW1pY0ljb25Qcm9wZXJ0eSwgX0R5bmFtaWNTdHlsZVByb3BlcnR5KTsKCiAgZnVuY3Rpb24gRHluYW1pY0ljb25Qcm9wZXJ0eSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEeW5hbWljSWNvblByb3BlcnR5KTsKCiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKER5bmFtaWNJY29uUHJvcGVydHkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKER5bmFtaWNJY29uUHJvcGVydHksIFt7CiAgICBrZXk6ICJpc09yZGluYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzT3JkaW5hbCgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ2F0ZWdvcmljYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2F0ZWdvcmljYWwoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogInN5bmNJY29uV2l0aE1iIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jSWNvbldpdGhNYihzeW1ib2xMYXllcklkLCBtYk1hcCwgaWNvblBpeGVsU2l6ZSkgewogICAgICBpZiAodGhpcy5faXNJY29uRHluYW1pY0NvbmZpZ0NvbXBsZXRlKCkpIHsKICAgICAgICBtYk1hcC5zZXRMYXlvdXRQcm9wZXJ0eShzeW1ib2xMYXllcklkLCAnaWNvbi1pbWFnZScsIHRoaXMuX2dldE1iSWNvbkltYWdlRXhwcmVzc2lvbihpY29uUGl4ZWxTaXplKSk7CiAgICAgICAgbWJNYXAuc2V0TGF5b3V0UHJvcGVydHkoc3ltYm9sTGF5ZXJJZCwgJ2ljb24tYW5jaG9yJywgdGhpcy5fZ2V0TWJJY29uQW5jaG9yRXhwcmVzc2lvbigpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYk1hcC5zZXRMYXlvdXRQcm9wZXJ0eShzeW1ib2xMYXllcklkLCAnaWNvbi1pbWFnZScsIG51bGwpOwogICAgICAgIG1iTWFwLnNldExheW91dFByb3BlcnR5KHN5bWJvbExheWVySWQsICdpY29uLWFuY2hvcicsIG51bGwpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dldFBhbGV0dGVTdG9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBhbGV0dGVTdG9wcygpIHsKICAgICAgaWYgKHRoaXMuX29wdGlvbnMudXNlQ3VzdG9tSWNvbk1hcCAmJiB0aGlzLl9vcHRpb25zLmN1c3RvbUljb25TdG9wcykgewogICAgICAgIHZhciBzdG9wcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuX29wdGlvbnMuY3VzdG9tSWNvblN0b3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgX3RoaXMkX29wdGlvbnMkY3VzdG9tID0gdGhpcy5fb3B0aW9ucy5jdXN0b21JY29uU3RvcHNbaV0sCiAgICAgICAgICAgICAgc3RvcCA9IF90aGlzJF9vcHRpb25zJGN1c3RvbS5zdG9wLAogICAgICAgICAgICAgIGljb24gPSBfdGhpcyRfb3B0aW9ucyRjdXN0b20uaWNvbjsKICAgICAgICAgIHN0b3BzLnB1c2goewogICAgICAgICAgICBzdG9wOiBzdG9wLAogICAgICAgICAgICBzdHlsZTogaWNvbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmFsbGJhY2s6IHRoaXMuX29wdGlvbnMuY3VzdG9tSWNvblN0b3BzLmxlbmd0aCA+IDAgPyB0aGlzLl9vcHRpb25zLmN1c3RvbUljb25TdG9wc1swXS5pY29uIDogbnVsbCwKICAgICAgICAgIHN0b3BzOiBzdG9wcwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiAoMCwgX3N0eWxlX3V0aWwuYXNzaWduQ2F0ZWdvcmllc1RvUGFsZXR0ZSkoewogICAgICAgIGNhdGVnb3JpZXM6IF9sb2Rhc2guZGVmYXVsdC5nZXQodGhpcy5nZXRDYXRlZ29yeUZpZWxkTWV0YSgpLCAnY2F0ZWdvcmllcycsIFtdKSwKICAgICAgICBwYWxldHRlVmFsdWVzOiAoMCwgX3N5bWJvbF91dGlscy5nZXRJY29uUGFsZXR0ZSkodGhpcy5fb3B0aW9ucy5pY29uUGFsZXR0ZUlkKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2V0TWJJY29uSW1hZ2VFeHByZXNzaW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TWJJY29uSW1hZ2VFeHByZXNzaW9uKGljb25QaXhlbFNpemUpIHsKICAgICAgdmFyIF90aGlzJF9nZXRQYWxldHRlU3RvcCA9IHRoaXMuX2dldFBhbGV0dGVTdG9wcygpLAogICAgICAgICAgc3RvcHMgPSBfdGhpcyRfZ2V0UGFsZXR0ZVN0b3Auc3RvcHMsCiAgICAgICAgICBmYWxsYmFjayA9IF90aGlzJF9nZXRQYWxldHRlU3RvcC5mYWxsYmFjazsKCiAgICAgIGlmIChzdG9wcy5sZW5ndGggPCAxIHx8ICFmYWxsYmFjaykgewogICAgICAgIC8vb2NjdXJzIHdoZW4gbm8gZGF0YQogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgbWJTdG9wcyA9IFtdOwogICAgICBzdG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHN0b3AgPSBfcmVmLnN0b3AsCiAgICAgICAgICAgIHN0eWxlID0gX3JlZi5zdHlsZTsKICAgICAgICBtYlN0b3BzLnB1c2goIiIuY29uY2F0KHN0b3ApKTsKICAgICAgICBtYlN0b3BzLnB1c2goKDAsIF9zeW1ib2xfdXRpbHMuZ2V0TWFraUljb25JZCkoc3R5bGUsIGljb25QaXhlbFNpemUpKTsKICAgICAgfSk7CiAgICAgIG1iU3RvcHMucHVzaCgoMCwgX3N5bWJvbF91dGlscy5nZXRNYWtpSWNvbklkKShmYWxsYmFjaywgaWNvblBpeGVsU2l6ZSkpOyAvL2xhc3QgaXRlbSBpcyBmYWxsYmFjayBzdHlsZSBmb3IgYW55dGhpbmcgdGhhdCBkb2VzIG5vdCBtYXRjaCBwcm92aWRlZCBzdG9wcwoKICAgICAgcmV0dXJuIFsnbWF0Y2gnLCBbJ3RvLXN0cmluZycsIFsnZ2V0JywgdGhpcy5fb3B0aW9ucy5maWVsZC5uYW1lXV1dLmNvbmNhdChtYlN0b3BzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2V0TWJJY29uQW5jaG9yRXhwcmVzc2lvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE1iSWNvbkFuY2hvckV4cHJlc3Npb24oKSB7CiAgICAgIHZhciBfdGhpcyRfZ2V0UGFsZXR0ZVN0b3AyID0gdGhpcy5fZ2V0UGFsZXR0ZVN0b3BzKCksCiAgICAgICAgICBzdG9wcyA9IF90aGlzJF9nZXRQYWxldHRlU3RvcDIuc3RvcHMsCiAgICAgICAgICBmYWxsYmFjayA9IF90aGlzJF9nZXRQYWxldHRlU3RvcDIuZmFsbGJhY2s7CgogICAgICBpZiAoc3RvcHMubGVuZ3RoIDwgMSB8fCAhZmFsbGJhY2spIHsKICAgICAgICAvL29jY3VycyB3aGVuIG5vIGRhdGEKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIG1iU3RvcHMgPSBbXTsKICAgICAgc3RvcHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgc3RvcCA9IF9yZWYyLnN0b3AsCiAgICAgICAgICAgIHN0eWxlID0gX3JlZjIuc3R5bGU7CiAgICAgICAgbWJTdG9wcy5wdXNoKCIiLmNvbmNhdChzdG9wKSk7CiAgICAgICAgbWJTdG9wcy5wdXNoKCgwLCBfc3ltYm9sX3V0aWxzLmdldE1ha2lTeW1ib2xBbmNob3IpKHN0eWxlKSk7CiAgICAgIH0pOwogICAgICBtYlN0b3BzLnB1c2goKDAsIF9zeW1ib2xfdXRpbHMuZ2V0TWFraVN5bWJvbEFuY2hvcikoZmFsbGJhY2spKTsgLy9sYXN0IGl0ZW0gaXMgZmFsbGJhY2sgc3R5bGUgZm9yIGFueXRoaW5nIHRoYXQgZG9lcyBub3QgbWF0Y2ggcHJvdmlkZWQgc3RvcHMKCiAgICAgIHJldHVybiBbJ21hdGNoJywgWyd0by1zdHJpbmcnLCBbJ2dldCcsIHRoaXMuX29wdGlvbnMuZmllbGQubmFtZV1dXS5jb25jYXQobWJTdG9wcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2lzSWNvbkR5bmFtaWNDb25maWdDb21wbGV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2lzSWNvbkR5bmFtaWNDb25maWdDb21wbGV0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkICYmIHRoaXMuX2ZpZWxkLmlzVmFsaWQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJCcmVha2VkTGVnZW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCcmVha2VkTGVnZW5kKF9yZWYzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmllbGRMYWJlbCA9IF9yZWYzLmZpZWxkTGFiZWwsCiAgICAgICAgICBpc1BvaW50c09ubHkgPSBfcmVmMy5pc1BvaW50c09ubHksCiAgICAgICAgICBpc0xpbmVzT25seSA9IF9yZWYzLmlzTGluZXNPbmx5OwogICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdOwoKICAgICAgdmFyIF90aGlzJF9nZXRQYWxldHRlU3RvcDMgPSB0aGlzLl9nZXRQYWxldHRlU3RvcHMoKSwKICAgICAgICAgIHN0b3BzID0gX3RoaXMkX2dldFBhbGV0dGVTdG9wMy5zdG9wcywKICAgICAgICAgIGZhbGxiYWNrID0gX3RoaXMkX2dldFBhbGV0dGVTdG9wMy5mYWxsYmFjazsKCiAgICAgIHN0b3BzLm1hcChmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgc3RvcCA9IF9yZWY0LnN0b3AsCiAgICAgICAgICAgIHN0eWxlID0gX3JlZjQuc3R5bGU7CiAgICAgICAgY2F0ZWdvcmllcy5wdXNoKF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NhdGVnb3J5LkNhdGVnb3J5LCB7CiAgICAgICAgICBrZXk6IHN0b3AsCiAgICAgICAgICBzdHlsZU5hbWU6IF90aGlzLmdldFN0eWxlTmFtZSgpLAogICAgICAgICAgbGFiZWw6IF90aGlzLmZvcm1hdEZpZWxkKHN0b3ApLAogICAgICAgICAgY29sb3I6ICJncmV5IiwKICAgICAgICAgIGlzTGluZXNPbmx5OiBpc0xpbmVzT25seSwKICAgICAgICAgIGlzUG9pbnRzT25seTogaXNQb2ludHNPbmx5LAogICAgICAgICAgc3ltYm9sSWQ6IHN0eWxlCiAgICAgICAgfSkpOwogICAgICB9KTsKCiAgICAgIGlmIChmYWxsYmFjaykgewogICAgICAgIGNhdGVnb3JpZXMucHVzaChfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jYXRlZ29yeS5DYXRlZ29yeSwgewogICAgICAgICAga2V5OiAiZmFsbGJhY2tDYXRlZ29yeSIsCiAgICAgICAgICBzdHlsZU5hbWU6IHRoaXMuZ2V0U3R5bGVOYW1lKCksCiAgICAgICAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHRDb2xvciwgewogICAgICAgICAgICBjb2xvcjogInNlY29uZGFyeSIKICAgICAgICAgIH0sICgwLCBfc3R5bGVfdXRpbC5nZXRPdGhlckNhdGVnb3J5TGFiZWwpKCkpLAogICAgICAgICAgY29sb3I6ICJncmV5IiwKICAgICAgICAgIGlzTGluZXNPbmx5OiBpc0xpbmVzT25seSwKICAgICAgICAgIGlzUG9pbnRzT25seTogaXNQb2ludHNPbmx5LAogICAgICAgICAgc3ltYm9sSWQ6IGZhbGxiYWNrCiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIGRpcmVjdGlvbjogImNvbHVtbiIsCiAgICAgICAgZ3V0dGVyU2l6ZTogIm5vbmUiCiAgICAgIH0sIGNhdGVnb3JpZXMpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgZ3V0dGVyU2l6ZTogInhzIiwKICAgICAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQXJvdW5kIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVG9vbFRpcCwgewogICAgICAgIHBvc2l0aW9uOiAidG9wIiwKICAgICAgICB0aXRsZTogdGhpcy5nZXREaXNwbGF5U3R5bGVOYW1lKCksCiAgICAgICAgY29udGVudDogZmllbGRMYWJlbAogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgIGNsYXNzTmFtZTogImV1aS10ZXh0VHJ1bmNhdGUiLAogICAgICAgIHNpemU6ICJ4cyIsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1heFdpZHRoOiAnMTgwcHgnCiAgICAgICAgfQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJzbWFsbCIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIGZpZWxkTGFiZWwpKSkpKSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIER5bmFtaWNJY29uUHJvcGVydHk7Cn0oX2R5bmFtaWNfc3R5bGVfcHJvcGVydHkuRHluYW1pY1N0eWxlUHJvcGVydHkpOwoKZXhwb3J0cy5EeW5hbWljSWNvblByb3BlcnR5ID0gRHluYW1pY0ljb25Qcm9wZXJ0eTs="},null]}