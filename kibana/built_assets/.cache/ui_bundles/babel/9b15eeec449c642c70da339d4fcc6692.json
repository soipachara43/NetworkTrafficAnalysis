{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/data/public/query/timefilter/timefilter.js","dependencies":[{"path":"src/plugins/data/public/query/timefilter/timefilter.js","mtime":1589249550623},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlRpbWVmaWx0ZXIgPSB2b2lkIDA7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9yeGpzID0gcmVxdWlyZSgicnhqcyIpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfZGlmZl90aW1lX3BpY2tlcl92YWxzID0gcmVxdWlyZSgiLi9saWIvZGlmZl90aW1lX3BpY2tlcl92YWxzIik7Cgp2YXIgX3BhcnNlX3F1ZXJ5c3RyaW5nID0gcmVxdWlyZSgiLi9saWIvcGFyc2VfcXVlcnlzdHJpbmciKTsKCnZhciBfZ2V0X3RpbWUgPSByZXF1aXJlKCIuL2dldF90aW1lIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfSAvLyBUT0RPOiByZW1vdmUhCgoKdmFyIFRpbWVmaWx0ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICAvLyBGaXJlZCB3aGVuIGlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkIFwgaXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCBhcmUgdG9nZ2xlZAogIC8vIEZpcmVkIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHRpbWVyYW5nZQogIC8vIEZpcmVkIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHRoZSBhdXRvcmVmcmVzaCBzZXR0aW5ncwogIC8vIFVzZWQgd2hlbiBhbiBhdXRvIHJlZnJlc2ggaXMgdHJpZ2dlcmVkCiAgZnVuY3Rpb24gVGltZWZpbHRlcihjb25maWcsIHRpbWVIaXN0b3J5KSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lZmlsdGVyKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImVuYWJsZWRVcGRhdGVkJCIsIG5ldyBfcnhqcy5CZWhhdmlvclN1YmplY3QoZmFsc2UpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInRpbWVVcGRhdGUkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZWZyZXNoSW50ZXJ2YWxVcGRhdGUkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhdXRvUmVmcmVzaEZldGNoJCIsIG5ldyBfcnhqcy5TdWJqZWN0KCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmV0Y2gkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfdGltZSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfcmVmcmVzaEludGVydmFsIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9oaXN0b3J5Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9pc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2F1dG9SZWZyZXNoSW50ZXJ2YWxJZCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidGltZURlZmF1bHRzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInJlZnJlc2hJbnRlcnZhbERlZmF1bHRzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEVuYWJsZWRVcGRhdGVkJCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLmVuYWJsZWRVcGRhdGVkJC5hc09ic2VydmFibGUoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0VGltZVVwZGF0ZSQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy50aW1lVXBkYXRlJC5hc09ic2VydmFibGUoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0UmVmcmVzaEludGVydmFsVXBkYXRlJCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLnJlZnJlc2hJbnRlcnZhbFVwZGF0ZSQuYXNPYnNlcnZhYmxlKCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEF1dG9SZWZyZXNoRmV0Y2gkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMuYXV0b1JlZnJlc2hGZXRjaCQuYXNPYnNlcnZhYmxlKCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEZldGNoJCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLmZldGNoJC5hc09ic2VydmFibGUoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0VGltZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJF90aW1lID0gX3RoaXMuX3RpbWUsCiAgICAgICAgICBmcm9tID0gX3RoaXMkX3RpbWUuZnJvbSwKICAgICAgICAgIHRvID0gX3RoaXMkX3RpbWUudG87CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5fdGltZSwgewogICAgICAgIGZyb206IF9tb21lbnQuZGVmYXVsdC5pc01vbWVudChmcm9tKSA/IGZyb20udG9JU09TdHJpbmcoKSA6IGZyb20sCiAgICAgICAgdG86IF9tb21lbnQuZGVmYXVsdC5pc01vbWVudCh0bykgPyB0by50b0lTT1N0cmluZygpIDogdG8KICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNldFRpbWUiLCBmdW5jdGlvbiAodGltZSkgewogICAgICAvLyBPYmplY3QuYXNzaWduIHVzZWQgZm9yIHBhcnRpYWxseSBjb21wb3NlZCB1cGRhdGVzCiAgICAgIHZhciBuZXdUaW1lID0gT2JqZWN0LmFzc2lnbihfdGhpcy5nZXRUaW1lKCksIHRpbWUpOwoKICAgICAgaWYgKCgwLCBfZGlmZl90aW1lX3BpY2tlcl92YWxzLmFyZVRpbWVSYW5nZXNEaWZmZXJlbnQpKF90aGlzLmdldFRpbWUoKSwgbmV3VGltZSkpIHsKICAgICAgICBfdGhpcy5fdGltZSA9IHsKICAgICAgICAgIGZyb206IG5ld1RpbWUuZnJvbSwKICAgICAgICAgIHRvOiBuZXdUaW1lLnRvCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMuX2hpc3RvcnkuYWRkKF90aGlzLl90aW1lKTsKCiAgICAgICAgX3RoaXMudGltZVVwZGF0ZSQubmV4dCgpOwoKICAgICAgICBfdGhpcy5mZXRjaCQubmV4dCgpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldFJlZnJlc2hJbnRlcnZhbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9sb2Rhc2guZGVmYXVsdC5jbG9uZShfdGhpcy5fcmVmcmVzaEludGVydmFsKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2V0UmVmcmVzaEludGVydmFsIiwgZnVuY3Rpb24gKHJlZnJlc2hJbnRlcnZhbCkgewogICAgICB2YXIgcHJldlJlZnJlc2hJbnRlcnZhbCA9IF90aGlzLmdldFJlZnJlc2hJbnRlcnZhbCgpOwoKICAgICAgdmFyIG5ld1JlZnJlc2hJbnRlcnZhbCA9IF9vYmplY3RTcHJlYWQoe30sIHByZXZSZWZyZXNoSW50ZXJ2YWwsIHt9LCByZWZyZXNoSW50ZXJ2YWwpOyAvLyBJZiB0aGUgcmVmcmVzaCBpbnRlcnZhbCBpcyA8PSAwIGhhbmRsZSB0aGF0IGFzIGEgcGF1c2VkIHJlZnJlc2gKCgogICAgICBpZiAobmV3UmVmcmVzaEludGVydmFsLnZhbHVlIDw9IDApIHsKICAgICAgICBuZXdSZWZyZXNoSW50ZXJ2YWwudmFsdWUgPSAwOwogICAgICAgIG5ld1JlZnJlc2hJbnRlcnZhbC5wYXVzZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIF90aGlzLl9yZWZyZXNoSW50ZXJ2YWwgPSB7CiAgICAgICAgdmFsdWU6IG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSwKICAgICAgICBwYXVzZTogbmV3UmVmcmVzaEludGVydmFsLnBhdXNlCiAgICAgIH07IC8vIE9ubHkgc2VuZCBvdXQgYW4gZXZlbnQgaWYgd2UgYWxyZWFkeSBoYWQgYSBwcmV2aW91cyByZWZyZXNoIGludGVydmFsIChub3QgZm9yIHRoZSBpbml0aWFsIHNldCkKICAgICAgLy8gYW5kIHRoZSBvbGQgYW5kIG5ldyByZWZyZXNoIGludGVydmFsIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQuCgogICAgICBpZiAocHJldlJlZnJlc2hJbnRlcnZhbCAmJiAoMCwgX2RpZmZfdGltZV9waWNrZXJfdmFscy5hcmVSZWZyZXNoSW50ZXJ2YWxzRGlmZmVyZW50KShwcmV2UmVmcmVzaEludGVydmFsLCBuZXdSZWZyZXNoSW50ZXJ2YWwpKSB7CiAgICAgICAgX3RoaXMucmVmcmVzaEludGVydmFsVXBkYXRlJC5uZXh0KCk7CgogICAgICAgIGlmICghbmV3UmVmcmVzaEludGVydmFsLnBhdXNlICYmIG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSAhPT0gMCkgewogICAgICAgICAgX3RoaXMuZmV0Y2gkLm5leHQoKTsKICAgICAgICB9CiAgICAgIH0gLy8gQ2xlYXIgdGhlIHByZXZpb3VzIGF1dG8gcmVmcmVzaCBpbnRlcnZhbCBhbmQgc3RhcnQgYSBuZXcgb25lIChpZiBub3QgcGF1c2VkKQoKCiAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuX2F1dG9SZWZyZXNoSW50ZXJ2YWxJZCk7CgogICAgICBpZiAoIW5ld1JlZnJlc2hJbnRlcnZhbC5wYXVzZSkgewogICAgICAgIF90aGlzLl9hdXRvUmVmcmVzaEludGVydmFsSWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmF1dG9SZWZyZXNoRmV0Y2gkLm5leHQoKTsKICAgICAgICB9LCBuZXdSZWZyZXNoSW50ZXJ2YWwudmFsdWUpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImNyZWF0ZUZpbHRlciIsIGZ1bmN0aW9uIChpbmRleFBhdHRlcm4sIHRpbWVSYW5nZSkgewogICAgICByZXR1cm4gKDAsIF9nZXRfdGltZS5nZXRUaW1lKShpbmRleFBhdHRlcm4sIHRpbWVSYW5nZSA/IHRpbWVSYW5nZSA6IF90aGlzLl90aW1lLCBfdGhpcy5nZXRGb3JjZU5vdygpKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZW5hYmxlVGltZVJhbmdlU2VsZWN0b3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLl9pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCA9IHRydWU7CgogICAgICBfdGhpcy5lbmFibGVkVXBkYXRlZCQubmV4dCh0cnVlKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGlzYWJsZVRpbWVSYW5nZVNlbGVjdG9yIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5faXNUaW1lUmFuZ2VTZWxlY3RvckVuYWJsZWQgPSBmYWxzZTsKCiAgICAgIF90aGlzLmVuYWJsZWRVcGRhdGVkJC5uZXh0KGZhbHNlKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZW5hYmxlQXV0b1JlZnJlc2hTZWxlY3RvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuX2lzQXV0b1JlZnJlc2hTZWxlY3RvckVuYWJsZWQgPSB0cnVlOwoKICAgICAgX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLm5leHQodHJ1ZSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImRpc2FibGVBdXRvUmVmcmVzaFNlbGVjdG9yIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5faXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCA9IGZhbHNlOwoKICAgICAgX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLm5leHQoZmFsc2UpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRGb3JjZU5vdyIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGZvcmNlTm93ID0gKDAsIF9wYXJzZV9xdWVyeXN0cmluZy5wYXJzZVF1ZXJ5U3RyaW5nKSgpLmZvcmNlTm93OwoKICAgICAgaWYgKCFmb3JjZU5vdykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRpY2tzID0gRGF0ZS5wYXJzZShmb3JjZU5vdyk7CgogICAgICBpZiAoaXNOYU4odGlja3MpKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJmb3JjZU5vdyBxdWVyeSBwYXJhbWV0ZXIsICIuY29uY2F0KGZvcmNlTm93LCAiLCBjYW4ndCBiZSBwYXJzZWQgYnkgRGF0ZS5wYXJzZSIpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpY2tzKTsKICAgIH0pOwoKICAgIHRoaXMuX2hpc3RvcnkgPSB0aW1lSGlzdG9yeTsKICAgIHRoaXMudGltZURlZmF1bHRzID0gY29uZmlnLnRpbWVEZWZhdWx0czsKICAgIHRoaXMucmVmcmVzaEludGVydmFsRGVmYXVsdHMgPSBjb25maWcucmVmcmVzaEludGVydmFsRGVmYXVsdHM7CiAgICB0aGlzLl90aW1lID0gY29uZmlnLnRpbWVEZWZhdWx0czsKICAgIHRoaXMuc2V0UmVmcmVzaEludGVydmFsKGNvbmZpZy5yZWZyZXNoSW50ZXJ2YWxEZWZhdWx0cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVGltZWZpbHRlciwgW3sKICAgIGtleTogImlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2lzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQXV0b1JlZnJlc2hTZWxlY3RvckVuYWJsZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQXV0b1JlZnJlc2hTZWxlY3RvckVuYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9pc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJvdW5kcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Qm91bmRzKCkgewogICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVCb3VuZHModGhpcy5fdGltZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FsY3VsYXRlQm91bmRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHModGltZVJhbmdlKSB7CiAgICAgIHJldHVybiAoMCwgX2dldF90aW1lLmNhbGN1bGF0ZUJvdW5kcykodGltZVJhbmdlLCB7CiAgICAgICAgZm9yY2VOb3c6IHRoaXMuZ2V0Rm9yY2VOb3coKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRBY3RpdmVCb3VuZHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFjdGl2ZUJvdW5kcygpIHsKICAgICAgaWYgKHRoaXMuaXNUaW1lUmFuZ2VTZWxlY3RvckVuYWJsZWQoKSkgewogICAgICAgIHJldHVybiB0aGlzLmdldEJvdW5kcygpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNob3cgdGhlIHRpbWUgYm91bmRzIHNlbGVjdG9yIHBhcnQgb2YgdGhlIHRpbWUgZmlsdGVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0VGltZURlZmF1bHRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaW1lRGVmYXVsdHMoKSB7CiAgICAgIHJldHVybiBfbG9kYXNoLmRlZmF1bHQuY2xvbmVEZWVwKHRoaXMudGltZURlZmF1bHRzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSZWZyZXNoSW50ZXJ2YWxEZWZhdWx0cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmcmVzaEludGVydmFsRGVmYXVsdHMoKSB7CiAgICAgIHJldHVybiBfbG9kYXNoLmRlZmF1bHQuY2xvbmVEZWVwKHRoaXMucmVmcmVzaEludGVydmFsRGVmYXVsdHMpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRpbWVmaWx0ZXI7Cn0oKTsKCmV4cG9ydHMuVGltZWZpbHRlciA9IFRpbWVmaWx0ZXI7"},null]}