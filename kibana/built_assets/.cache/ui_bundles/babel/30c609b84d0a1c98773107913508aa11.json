{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/index_management/public/application/components/template_form/template_form.js","dependencies":[{"path":"x-pack/plugins/index_management/public/application/components/template_form/template_form.js","mtime":1589249554124},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlRlbXBsYXRlRm9ybSA9IHZvaWQgMDsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIF9zaGFyZWRfaW1wb3J0cyA9IHJlcXVpcmUoIi4uLy4uLy4uL3NoYXJlZF9pbXBvcnRzIik7Cgp2YXIgX3RlbXBsYXRlX3N0ZXBzID0gcmVxdWlyZSgiLi90ZW1wbGF0ZV9zdGVwcyIpOwoKdmFyIF9zdGVwcyA9IHJlcXVpcmUoIi4vc3RlcHMiKTsKCnZhciBfc2VjdGlvbl9lcnJvciA9IHJlcXVpcmUoIi4uL3NlY3Rpb25fZXJyb3IiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBzdHJpcEVtcHR5RmllbGRzID0gX3NoYXJlZF9pbXBvcnRzLnNlcmlhbGl6ZXJzLnN0cmlwRW1wdHlGaWVsZHM7CnZhciBkZWZhdWx0VmFsaWRhdGlvbiA9IHsKICBpc1ZhbGlkOiB0cnVlCn07CnZhciBzdGVwQ29tcG9uZW50TWFwID0gewogIDE6IF9zdGVwcy5TdGVwTG9naXN0aWNzLAogIDI6IF9zdGVwcy5TdGVwU2V0dGluZ3MsCiAgMzogX3N0ZXBzLlN0ZXBNYXBwaW5ncywKICA0OiBfc3RlcHMuU3RlcEFsaWFzZXMsCiAgNTogX3N0ZXBzLlN0ZXBSZXZpZXcKfTsKCnZhciBUZW1wbGF0ZUZvcm0gPSBmdW5jdGlvbiBUZW1wbGF0ZUZvcm0oX3JlZikgewogIHZhciBfcmVmJGRlZmF1bHRWYWx1ZSA9IF9yZWYuZGVmYXVsdFZhbHVlLAogICAgICBkZWZhdWx0VmFsdWUgPSBfcmVmJGRlZmF1bHRWYWx1ZSA9PT0gdm9pZCAwID8gewogICAgaXNNYW5hZ2VkOiBmYWxzZQogIH0gOiBfcmVmJGRlZmF1bHRWYWx1ZSwKICAgICAgb25TYXZlID0gX3JlZi5vblNhdmUsCiAgICAgIGlzU2F2aW5nID0gX3JlZi5pc1NhdmluZywKICAgICAgc2F2ZUVycm9yID0gX3JlZi5zYXZlRXJyb3IsCiAgICAgIGNsZWFyU2F2ZUVycm9yID0gX3JlZi5jbGVhclNhdmVFcnJvciwKICAgICAgaXNFZGl0aW5nID0gX3JlZi5pc0VkaXRpbmc7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKSgxKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGN1cnJlbnRTdGVwID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0Q3VycmVudFN0ZXAgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHsKICAgIDE6IGRlZmF1bHRWYWxpZGF0aW9uLAogICAgMjogZGVmYXVsdFZhbGlkYXRpb24sCiAgICAzOiBkZWZhdWx0VmFsaWRhdGlvbiwKICAgIDQ6IGRlZmF1bHRWYWxpZGF0aW9uLAogICAgNTogZGVmYXVsdFZhbGlkYXRpb24KICB9KSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICB2YWxpZGF0aW9uID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0VmFsaWRhdGlvbiA9IF91c2VTdGF0ZTRbMV07CgogIHZhciB0ZW1wbGF0ZSA9ICgwLCBfcmVhY3QudXNlUmVmKShkZWZhdWx0VmFsdWUpOwogIHZhciBzdGVwc0RhdGFHZXR0ZXJzID0gKDAsIF9yZWFjdC51c2VSZWYpKHt9KTsKICB2YXIgbGFzdFN0ZXAgPSBPYmplY3Qua2V5cyhzdGVwQ29tcG9uZW50TWFwKS5sZW5ndGg7CiAgdmFyIEN1cnJlbnRTdGVwQ29tcG9uZW50ID0gc3RlcENvbXBvbmVudE1hcFtjdXJyZW50U3RlcF07CiAgdmFyIGlzU3RlcFZhbGlkID0gdmFsaWRhdGlvbltjdXJyZW50U3RlcF0uaXNWYWxpZDsKICB2YXIgc2V0U3RlcERhdGFHZXR0ZXIgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoc3RlcERhdGFHZXR0ZXIpIHsKICAgIHN0ZXBzRGF0YUdldHRlcnMuY3VycmVudFtjdXJyZW50U3RlcF0gPSBzdGVwRGF0YUdldHRlcjsKICB9LCBbY3VycmVudFN0ZXBdKTsKICB2YXIgb25TdGVwVmFsaWRpdHlDaGFuZ2UgPSAoMCwgX3JlYWN0LnVzZUNhbGxiYWNrKShmdW5jdGlvbiAoaXNWYWxpZCkgewogICAgc2V0VmFsaWRhdGlvbihmdW5jdGlvbiAocHJldikgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcHJldiwgX2RlZmluZVByb3BlcnR5KHt9LCBjdXJyZW50U3RlcCwgewogICAgICAgIGlzVmFsaWQ6IGlzVmFsaWQsCiAgICAgICAgZXJyb3JzOiB7fQogICAgICB9KSk7CiAgICB9KTsKICB9LCBbY3VycmVudFN0ZXBdKTsKCiAgdmFyIHZhbGlkYXRlQW5kR2V0RGF0YUZyb21DdXJyZW50U3RlcCA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHZhbGlkYXRlQW5kR2V0RGF0YSwgX3JlZjMsIGlzVmFsaWQsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdmFsaWRhdGVBbmRHZXREYXRhID0gc3RlcHNEYXRhR2V0dGVycy5jdXJyZW50W2N1cnJlbnRTdGVwXTsKCiAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlQW5kR2V0RGF0YSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTm8gZGF0YSBnZXR0ZXIgaGFzIGJlZW4gc2V0IGZvciBzdGVwIFwiIi5jb25jYXQoY3VycmVudFN0ZXAsICJcIiIpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVBbmRHZXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3JlZjMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlzVmFsaWQgPSBfcmVmMy5pc1ZhbGlkOwogICAgICAgICAgICAgIGRhdGEgPSBfcmVmMy5kYXRhOwoKICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0ZW1wbGF0ZSBvYmplY3QKICAgICAgICAgICAgICAgIHRlbXBsYXRlLmN1cnJlbnQgPSBfb2JqZWN0U3ByZWFkKHt9LCB0ZW1wbGF0ZS5jdXJyZW50LCB7fSwgZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBpc1ZhbGlkOiBpc1ZhbGlkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIHZhbGlkYXRlQW5kR2V0RGF0YUZyb21DdXJyZW50U3RlcCgpIHsKICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIHVwZGF0ZUN1cnJlbnRTdGVwID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihuZXh0U3RlcCkgewogICAgICB2YXIgc2hvdWxkVmFsaWRhdGUsIGlzVmFsaWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gQWxsIHN0ZXBzIG5lZWRzIHZhbGlkYXRpb24sIGV4Y2VwdCBmb3IgdGhlIGxhc3Qgc3RlcAogICAgICAgICAgICAgIHNob3VsZFZhbGlkYXRlID0gY3VycmVudFN0ZXAgIT09IGxhc3RTdGVwOwogICAgICAgICAgICAgIGlzVmFsaWQgPSBpc1N0ZXBWYWxpZDsKCiAgICAgICAgICAgICAgaWYgKCFzaG91bGRWYWxpZGF0ZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCEoaXNWYWxpZCA9PT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IGZhbHNlOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUFuZEdldERhdGFGcm9tQ3VycmVudFN0ZXAoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC5pc1ZhbGlkOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBpc1ZhbGlkID0gX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBzZXRDdXJyZW50U3RlcChuZXh0U3RlcCk7CiAgICAgICAgICAgICAgY2xlYXJTYXZlRXJyb3IoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRTdGVwKF94KSB7CiAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBvbkJhY2sgPSBmdW5jdGlvbiBvbkJhY2soKSB7CiAgICB2YXIgcHJldlN0ZXAgPSBjdXJyZW50U3RlcCAtIDE7CiAgICB1cGRhdGVDdXJyZW50U3RlcChwcmV2U3RlcCk7CiAgfTsKCiAgdmFyIG9uTmV4dCA9IGZ1bmN0aW9uIG9uTmV4dCgpIHsKICAgIHZhciBuZXh0U3RlcCA9IGN1cnJlbnRTdGVwICsgMTsKICAgIHVwZGF0ZUN1cnJlbnRTdGVwKG5leHRTdGVwKTsKICB9OwoKICB2YXIgc2F2ZUJ1dHRvbkxhYmVsID0gaXNFZGl0aW5nID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgIGlkOiAieHBhY2suaWR4TWdtdC50ZW1wbGF0ZUZvcm0uc2F2ZUJ1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZSB0ZW1wbGF0ZSIKICB9KSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLmlkeE1nbXQudGVtcGxhdGVGb3JtLmNyZWF0ZUJ1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQ3JlYXRlIHRlbXBsYXRlIgogIH0pOwogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdGVtcGxhdGVfc3RlcHMuVGVtcGxhdGVTdGVwcywgewogICAgY3VycmVudFN0ZXA6IGN1cnJlbnRTdGVwLAogICAgdXBkYXRlQ3VycmVudFN0ZXA6IHVwZGF0ZUN1cnJlbnRTdGVwLAogICAgaXNDdXJyZW50U3RlcFZhbGlkOiBpc1N0ZXBWYWxpZAogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibCIKICB9KSwgc2F2ZUVycm9yID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlY3Rpb25fZXJyb3IuU2VjdGlvbkVycm9yLCB7CiAgICB0aXRsZTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgaWQ6ICJ4cGFjay5pZHhNZ210LnRlbXBsYXRlRm9ybS5zYXZlVGVtcGxhdGVFcnJvciIsCiAgICAgIGRlZmF1bHRNZXNzYWdlOiAiVW5hYmxlIHRvIGNyZWF0ZSB0ZW1wbGF0ZSIKICAgIH0pLAogICAgZXJyb3I6IHNhdmVFcnJvciwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlVGVtcGxhdGVFcnJvciIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSkpIDogbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJ0ZW1wbGF0ZUZvcm0iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChDdXJyZW50U3RlcENvbXBvbmVudCwgewogICAga2V5OiBjdXJyZW50U3RlcCwKICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZS5jdXJyZW50LAogICAgc2V0RGF0YUdldHRlcjogc2V0U3RlcERhdGFHZXR0ZXIsCiAgICB1cGRhdGVDdXJyZW50U3RlcDogdXBkYXRlQ3VycmVudFN0ZXAsCiAgICBvblN0ZXBWYWxpZGl0eUNoYW5nZTogb25TdGVwVmFsaWRpdHlDaGFuZ2UsCiAgICBpc0VkaXRpbmc6IGlzRWRpdGluZwogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAibCIKICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAganVzdGlmeUNvbnRlbnQ6ICJzcGFjZUJldHdlZW4iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIG51bGwsIGN1cnJlbnRTdGVwID4gMSA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uRW1wdHksIHsKICAgIGljb25UeXBlOiAiYXJyb3dMZWZ0IiwKICAgIG9uQ2xpY2s6IG9uQmFjaywKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJiYWNrQnV0dG9uIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLmlkeE1nbXQudGVtcGxhdGVGb3JtLmJhY2tCdXR0b25MYWJlbCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIkJhY2siCiAgfSkpKSA6IG51bGwsIGN1cnJlbnRTdGVwIDwgbGFzdFN0ZXAgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgZmlsbDogdHJ1ZSwKICAgIGljb25UeXBlOiAiYXJyb3dSaWdodCIsCiAgICBvbkNsaWNrOiBvbk5leHQsCiAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgIGRpc2FibGVkOiBpc1N0ZXBWYWxpZCA9PT0gZmFsc2UsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAibmV4dEJ1dHRvbiIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgaWQ6ICJ4cGFjay5pZHhNZ210LnRlbXBsYXRlRm9ybS5uZXh0QnV0dG9uTGFiZWwiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJOZXh0IgogIH0pKSkgOiBudWxsLCBjdXJyZW50U3RlcCA9PT0gbGFzdFN0ZXAgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgZmlsbDogdHJ1ZSwKICAgIGNvbG9yOiAic2Vjb25kYXJ5IiwKICAgIGljb25UeXBlOiAiY2hlY2siLAogICAgb25DbGljazogb25TYXZlLmJpbmQobnVsbCwgc3RyaXBFbXB0eUZpZWxkcyh0ZW1wbGF0ZS5jdXJyZW50KSksCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic3VibWl0QnV0dG9uIiwKICAgIGlzTG9hZGluZzogaXNTYXZpbmcKICB9LCBpc1NhdmluZyA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICBpZDogInhwYWNrLmlkeE1nbXQudGVtcGxhdGVGb3JtLnNhdmluZ0J1dHRvbkxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2aW5nLi4uIgogIH0pIDogc2F2ZUJ1dHRvbkxhYmVsKSkgOiBudWxsKSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogIm0iCiAgfSkpOwp9OwoKZXhwb3J0cy5UZW1wbGF0ZUZvcm0gPSBUZW1wbGF0ZUZvcm07"},null]}