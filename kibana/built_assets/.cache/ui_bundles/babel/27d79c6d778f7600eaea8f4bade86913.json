{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/maps/public/layers/styles/vector/components/color/color_map_select.js","dependencies":[{"path":"x-pack/legacy/plugins/maps/public/layers/styles/vector/components/color/color_map_select.js","mtime":1589249552472},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvbG9yTWFwU2VsZWN0ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfY29sb3Jfc3RvcHNfb3JkaW5hbCA9IHJlcXVpcmUoIi4vY29sb3Jfc3RvcHNfb3JkaW5hbCIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzIik7Cgp2YXIgX2NvbG9yX3N0b3BzX2NhdGVnb3JpY2FsID0gcmVxdWlyZSgiLi9jb2xvcl9zdG9wc19jYXRlZ29yaWNhbCIpOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIENVU1RPTV9DT0xPUl9NQVAgPSAnQ1VTVE9NX0NPTE9SX01BUCc7Cgp2YXIgQ29sb3JNYXBTZWxlY3QgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKENvbG9yTWFwU2VsZWN0LCBfQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gQ29sb3JNYXBTZWxlY3QoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yTWFwU2VsZWN0KTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKENvbG9yTWFwU2VsZWN0KSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3RhdGUiLCB7fSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiX29uQ29sb3JNYXBTZWxlY3QiLCBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkgewogICAgICB2YXIgdXNlQ3VzdG9tQ29sb3JNYXAgPSBzZWxlY3RlZFZhbHVlID09PSBDVVNUT01fQ09MT1JfTUFQOwoKICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoewogICAgICAgIGNvbG9yOiB1c2VDdXN0b21Db2xvck1hcCA/IG51bGwgOiBzZWxlY3RlZFZhbHVlLAogICAgICAgIHVzZUN1c3RvbUNvbG9yTWFwOiB1c2VDdXN0b21Db2xvck1hcCwKICAgICAgICB0eXBlOiBfdGhpcy5wcm9wcy5jb2xvck1hcFR5cGUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfb25DdXN0b21Db2xvck1hcENoYW5nZSIsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBjb2xvclN0b3BzID0gX3JlZi5jb2xvclN0b3BzLAogICAgICAgICAgaXNJbnZhbGlkID0gX3JlZi5pc0ludmFsaWQ7CgogICAgICAvLyBNYW5hZ2UgaW52YWxpZCBjdXN0b20gY29sb3IgbWFwIGluIGxvY2FsIHN0YXRlCiAgICAgIGlmIChpc0ludmFsaWQpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBjdXN0b21Db2xvck1hcDogY29sb3JTdG9wcwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHsKICAgICAgICB1c2VDdXN0b21Db2xvck1hcDogdHJ1ZSwKICAgICAgICBjdXN0b21Db2xvck1hcDogY29sb3JTdG9wcywKICAgICAgICB0eXBlOiBfdGhpcy5wcm9wcy5jb2xvck1hcFR5cGUKICAgICAgfSk7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29sb3JNYXBTZWxlY3QsIFt7CiAgICBrZXk6ICJfcmVuZGVyQ29sb3JNYXBUb2dnbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJDb2xvck1hcFRvZ2dsZSgpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBbewogICAgICAgIHZhbHVlOiBfY29uc3RhbnRzLkNPTE9SX01BUF9UWVBFLk9SRElOQUwsCiAgICAgICAgdGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1hcHMuc3R5bGVzLmR5bmFtaWNDb2xvclNlbGVjdC5xdWFudGl0YXRpdmVMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQXMgbnVtYmVyJwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogX2NvbnN0YW50cy5DT0xPUl9NQVBfVFlQRS5DQVRFR09SSUNBTCwKICAgICAgICB0ZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWFwcy5zdHlsZXMuZHluYW1pY0NvbG9yU2VsZWN0LnF1YWxpdGF0aXZlTGFiZWwnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0FzIGNhdGVnb3J5JwogICAgICAgIH0pCiAgICAgIH1dOwogICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMucHJvcHMuc3R5bGVQcm9wZXJ0eS5pc09yZGluYWwoKSA/IF9jb25zdGFudHMuQ09MT1JfTUFQX1RZUEUuT1JESU5BTCA6IF9jb25zdGFudHMuQ09MT1JfTUFQX1RZUEUuQ0FURUdPUklDQUw7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU2VsZWN0LCB7CiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZSwKICAgICAgICBvbkNoYW5nZTogdGhpcy5wcm9wcy5vbkNvbG9yTWFwVHlwZUNoYW5nZSwKICAgICAgICAiYXJpYS1sYWJlbCI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tYXBzLnN0eWxlcy5keW5hbWljQ29sb3JTZWxlY3QucXVhbGl0YXRpdmVPclF1YW50aXRhdGl2ZUFyaWFMYWJlbCcsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2hvb3NlIGBBcyBudW1iZXJgIHRvIG1hcCBieSBudW1iZXIgaW4gYSBjb2xvciByYW5nZSwgb3IgYEFzIGNhdGVnb3J5YHRvIGNhdGVnb3JpemUgYnkgY29sb3IgcGFsZXR0ZS4nCiAgICAgICAgfSksCiAgICAgICAgY29tcHJlc3NlZDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVuZGVyQ29sb3JTdG9wc0lucHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyQ29sb3JTdG9wc0lucHV0KCkgewogICAgICBpZiAoIXRoaXMucHJvcHMudXNlQ3VzdG9tQ29sb3JNYXApIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIGNvbG9yU3RvcEVkaXRvcjsKCiAgICAgIGlmICh0aGlzLnByb3BzLmNvbG9yTWFwVHlwZSA9PT0gX2NvbnN0YW50cy5DT0xPUl9NQVBfVFlQRS5PUkRJTkFMKSB7CiAgICAgICAgY29sb3JTdG9wRWRpdG9yID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29sb3Jfc3RvcHNfb3JkaW5hbC5Db2xvclN0b3BzT3JkaW5hbCwgewogICAgICAgICAgY29sb3JTdG9wczogdGhpcy5zdGF0ZS5jdXN0b21Db2xvck1hcCwKICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkN1c3RvbUNvbG9yTWFwQ2hhbmdlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBjb2xvclN0b3BFZGl0b3IgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb2xvcl9zdG9wc19jYXRlZ29yaWNhbC5Db2xvclN0b3BzQ2F0ZWdvcmljYWwsIHsKICAgICAgICBjb2xvclN0b3BzOiB0aGlzLnN0YXRlLmN1c3RvbUNvbG9yTWFwLAogICAgICAgIGZpZWxkOiB0aGlzLnByb3BzLnN0eWxlUHJvcGVydHkuZ2V0RmllbGQoKSwKICAgICAgICBnZXRWYWx1ZVN1Z2dlc3Rpb25zOiB0aGlzLnByb3BzLnN0eWxlUHJvcGVydHkuZ2V0VmFsdWVTdWdnZXN0aW9ucywKICAgICAgICBvbkNoYW5nZTogdGhpcy5fb25DdXN0b21Db2xvck1hcENoYW5nZQogICAgICB9KTsKCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIGNvbG9yU3RvcEVkaXRvcikpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9yZW5kZXJDb2xvck1hcFNlbGVjdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJDb2xvck1hcFNlbGVjdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGNvbG9yTWFwT3B0aW9uc1dpdGhDdXN0b20gPSBbewogICAgICAgIHZhbHVlOiBDVVNUT01fQ09MT1JfTUFQLAogICAgICAgIGlucHV0RGlzcGxheTogdGhpcy5wcm9wcy5jdXN0b21PcHRpb25MYWJlbAogICAgICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMucHJvcHMuY29sb3JNYXBPcHRpb25zKSk7CiAgICAgIHZhciB2YWx1ZU9mU2VsZWN0ZWQ7CgogICAgICBpZiAodGhpcy5wcm9wcy51c2VDdXN0b21Db2xvck1hcCkgewogICAgICAgIHZhbHVlT2ZTZWxlY3RlZCA9IENVU1RPTV9DT0xPUl9NQVA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWVPZlNlbGVjdGVkID0gdGhpcy5wcm9wcy5jb2xvck1hcE9wdGlvbnMuZmluZChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBfdGhpczIucHJvcHMuY29sb3I7CiAgICAgICAgfSkgPyB0aGlzLnByb3BzLmNvbG9yIDogJyc7CiAgICAgIH0KCiAgICAgIHZhciB0b2dnbGUgPSB0aGlzLnByb3BzLnNob3dDb2xvck1hcFR5cGVUb2dnbGUgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCB0aGlzLl9yZW5kZXJDb2xvck1hcFRvZ2dsZSgpKSA6IG51bGw7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgZ3V0dGVyU2l6ZTogJ25vbmUnCiAgICAgIH0sIHRvZ2dsZSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3VwZXJTZWxlY3QsIHsKICAgICAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgICAgIG9wdGlvbnM6IGNvbG9yTWFwT3B0aW9uc1dpdGhDdXN0b20sCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uQ29sb3JNYXBTZWxlY3QsCiAgICAgICAgdmFsdWVPZlNlbGVjdGVkOiB2YWx1ZU9mU2VsZWN0ZWQsCiAgICAgICAgaGFzRGl2aWRlcnM6IHRydWUKICAgICAgfSkpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCB0aGlzLl9yZW5kZXJDb2xvck1hcFNlbGVjdGlvbnMoKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgdGhpcy5fcmVuZGVyQ29sb3JTdG9wc0lucHV0KCkpOwogICAgfQogIH1dLCBbewogICAga2V5OiAiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHsKICAgICAgaWYgKG5leHRQcm9wcy5jdXN0b21Db2xvck1hcCA9PT0gcHJldlN0YXRlLnByZXZQcm9wc0N1c3RvbUNvbG9yTWFwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgcHJldlByb3BzQ3VzdG9tQ29sb3JNYXA6IG5leHRQcm9wcy5jdXN0b21Db2xvck1hcCwKICAgICAgICAvLyByZXNldCB0cmFja2VyIHRvIGxhdGVzdCB2YWx1ZQogICAgICAgIGN1c3RvbUNvbG9yTWFwOiBuZXh0UHJvcHMuY3VzdG9tQ29sb3JNYXAgLy8gcmVzZXQgY3VzdG9tQ29sb3JNYXAgdG8gbGF0ZXN0IHZhbHVlCgogICAgICB9OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbG9yTWFwU2VsZWN0Owp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5Db2xvck1hcFNlbGVjdCA9IENvbG9yTWFwU2VsZWN0Ow=="},null]}