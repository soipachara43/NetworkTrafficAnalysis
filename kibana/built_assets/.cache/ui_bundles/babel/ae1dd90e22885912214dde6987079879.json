{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/legacy/plugins/cross_cluster_replication/public/np_ready/app/store/actions/follower_index.js","dependencies":[{"path":"x-pack/legacy/plugins/cross_cluster_replication/public/np_ready/app/store/actions/follower_index.js","mtime":1589249552208},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnVuZm9sbG93TGVhZGVySW5kZXggPSBleHBvcnRzLnJlc3VtZUZvbGxvd2VySW5kZXggPSBleHBvcnRzLnBhdXNlRm9sbG93ZXJJbmRleCA9IGV4cG9ydHMuc2F2ZUZvbGxvd2VySW5kZXggPSBleHBvcnRzLmdldEZvbGxvd2VySW5kZXggPSBleHBvcnRzLmxvYWRGb2xsb3dlckluZGljZXMgPSBleHBvcnRzLnNlbGVjdEVkaXRGb2xsb3dlckluZGV4ID0gZXhwb3J0cy5zZWxlY3REZXRhaWxGb2xsb3dlckluZGV4ID0gdm9pZCAwOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX3JvdXRpbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL3NlcnZpY2VzL3JvdXRpbmciKSk7Cgp2YXIgX25vdGlmaWNhdGlvbnMgPSByZXF1aXJlKCIuLi8uLi9zZXJ2aWNlcy9ub3RpZmljYXRpb25zIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uL2NvbnN0YW50cyIpOwoKdmFyIF9hcGkgPSByZXF1aXJlKCIuLi8uLi9zZXJ2aWNlcy9hcGkiKTsKCnZhciB0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi4vYWN0aW9uX3R5cGVzIikpOwoKdmFyIF9hcGkyID0gcmVxdWlyZSgiLi9hcGkiKTsKCnZhciBfc2VsZWN0b3JzID0gcmVxdWlyZSgiLi4vc2VsZWN0b3JzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCnZhciBzY29wZSA9IF9jb25zdGFudHMuU0VDVElPTlMuRk9MTE9XRVJfSU5ERVg7Cgp2YXIgc2VsZWN0RGV0YWlsRm9sbG93ZXJJbmRleCA9IGZ1bmN0aW9uIHNlbGVjdERldGFpbEZvbGxvd2VySW5kZXgoaWQpIHsKICByZXR1cm4gewogICAgdHlwZTogdC5GT0xMT1dFUl9JTkRFWF9TRUxFQ1RfREVUQUlMLAogICAgcGF5bG9hZDogaWQKICB9Owp9OwoKZXhwb3J0cy5zZWxlY3REZXRhaWxGb2xsb3dlckluZGV4ID0gc2VsZWN0RGV0YWlsRm9sbG93ZXJJbmRleDsKCnZhciBzZWxlY3RFZGl0Rm9sbG93ZXJJbmRleCA9IGZ1bmN0aW9uIHNlbGVjdEVkaXRGb2xsb3dlckluZGV4KGlkKSB7CiAgcmV0dXJuIHsKICAgIHR5cGU6IHQuRk9MTE9XRVJfSU5ERVhfU0VMRUNUX0VESVQsCiAgICBwYXlsb2FkOiBpZAogIH07Cn07CgpleHBvcnRzLnNlbGVjdEVkaXRGb2xsb3dlckluZGV4ID0gc2VsZWN0RWRpdEZvbGxvd2VySW5kZXg7Cgp2YXIgbG9hZEZvbGxvd2VySW5kaWNlcyA9IGZ1bmN0aW9uIGxvYWRGb2xsb3dlckluZGljZXMoKSB7CiAgdmFyIGlzVXBkYXRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogIHJldHVybiAoMCwgX2FwaTIuc2VuZEFwaVJlcXVlc3QpKHsKICAgIGxhYmVsOiB0LkZPTExPV0VSX0lOREVYX0xPQUQsCiAgICBzY29wZTogc2NvcGUsCiAgICBzdGF0dXM6IGlzVXBkYXRpbmcgPyBfY29uc3RhbnRzLkFQSV9TVEFUVVMuVVBEQVRJTkcgOiBfY29uc3RhbnRzLkFQSV9TVEFUVVMuTE9BRElORywKICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2FwaS5sb2FkRm9sbG93ZXJJbmRpY2VzKSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgcmV0dXJuIF9oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVyOwogICAgfSgpCiAgfSk7Cn07CgpleHBvcnRzLmxvYWRGb2xsb3dlckluZGljZXMgPSBsb2FkRm9sbG93ZXJJbmRpY2VzOwoKdmFyIGdldEZvbGxvd2VySW5kZXggPSBmdW5jdGlvbiBnZXRGb2xsb3dlckluZGV4KGlkKSB7CiAgcmV0dXJuICgwLCBfYXBpMi5zZW5kQXBpUmVxdWVzdCkoewogICAgbGFiZWw6IHQuRk9MTE9XRVJfSU5ERVhfR0VULAogICAgc2NvcGU6ICIiLmNvbmNhdChzY29wZSwgIi1nZXQiKSwKICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVyMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9hcGkuZ2V0Rm9sbG93ZXJJbmRleCkoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHJldHVybiBfaGFuZGxlcjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZXI7CiAgICB9KCkKICB9KTsKfTsKCmV4cG9ydHMuZ2V0Rm9sbG93ZXJJbmRleCA9IGdldEZvbGxvd2VySW5kZXg7Cgp2YXIgc2F2ZUZvbGxvd2VySW5kZXggPSBmdW5jdGlvbiBzYXZlRm9sbG93ZXJJbmRleChuYW1lLCBmb2xsb3dlckluZGV4KSB7CiAgdmFyIGlzVXBkYXRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHJldHVybiAoMCwgX2FwaTIuc2VuZEFwaVJlcXVlc3QpKHsKICAgIGxhYmVsOiB0LkZPTExPV0VSX0lOREVYX0NSRUFURSwKICAgIHN0YXR1czogX2NvbnN0YW50cy5BUElfU1RBVFVTLlNBVklORywKICAgIHNjb3BlOiAiIi5jb25jYXQoc2NvcGUsICItc2F2ZSIpLAogICAgaGFuZGxlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZXIzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghaXNVcGRhdGluZykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2FwaS51cGRhdGVGb2xsb3dlckluZGV4KShuYW1lLCBmb2xsb3dlckluZGV4KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfYXBpLmNyZWF0ZUZvbGxvd2VySW5kZXgpKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgICAgICB9LCBmb2xsb3dlckluZGV4KSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgcmV0dXJuIF9oYW5kbGVyMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaGFuZGxlcjsKICAgIH0oKSwKICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKCkgewogICAgICB2YXIgc3VjY2Vzc01lc3NhZ2UgPSBpc1VwZGF0aW5nID8gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgudXBkYXRlQWN0aW9uLnN1Y2Nlc3NOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkZvbGxvd2VyIGluZGV4ICd7bmFtZX0nIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIG5hbWU6IG5hbWUKICAgICAgICB9CiAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXguYWRkQWN0aW9uLnN1Y2Nlc3NOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZGVkIGZvbGxvd2VyIGluZGV4ICd7bmFtZX0nIiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIG5hbWU6IG5hbWUKICAgICAgICB9CiAgICAgIH0pOwogICAgICAoMCwgX25vdGlmaWNhdGlvbnMuZ2V0Tm90aWZpY2F0aW9ucykoKS5hZGRTdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKTsKCiAgICAgIF9yb3V0aW5nLmRlZmF1bHQubmF2aWdhdGUoIi9mb2xsb3dlcl9pbmRpY2VzIiwgdW5kZWZpbmVkLCB7CiAgICAgICAgbmFtZTogZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpCiAgICAgIH0pOwogICAgfQogIH0pOwp9OwoKZXhwb3J0cy5zYXZlRm9sbG93ZXJJbmRleCA9IHNhdmVGb2xsb3dlckluZGV4OwoKdmFyIHBhdXNlRm9sbG93ZXJJbmRleCA9IGZ1bmN0aW9uIHBhdXNlRm9sbG93ZXJJbmRleChpZCkgewogIHJldHVybiAoMCwgX2FwaTIuc2VuZEFwaVJlcXVlc3QpKHsKICAgIGxhYmVsOiB0LkZPTExPV0VSX0lOREVYX1BBVVNFLAogICAgc3RhdHVzOiBfY29uc3RhbnRzLkFQSV9TVEFUVVMuU0FWSU5HLAogICAgc2NvcGU6IHNjb3BlLAogICAgaGFuZGxlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZXI0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAoMCwgX2FwaS5wYXVzZUZvbGxvd2VySW5kZXgpKGlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgcmV0dXJuIF9oYW5kbGVyNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaGFuZGxlcjsKICAgIH0oKSwKICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJlc3BvbnNlLCBkaXNwYXRjaCkgewogICAgICAvKioKICAgICAgICogV2UgY2FuIGhhdmUgMSBvciBtb3JlIGZvbGxvd2VyIGluZGV4IHBhdXNlIG9wZXJhdGlvbgogICAgICAgKiB0aGF0IGNhbiBmYWlsIG9yIHN1Y2NlZWQuIFdlIHdpbGwgc2hvdyAxIHRvYXN0IG5vdGlmaWNhdGlvbiBmb3IgZWFjaC4KICAgICAgICovCiAgICAgIGlmIChyZXNwb25zZS5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGhhc011bHRpcGxlRXJyb3JzID0gcmVzcG9uc2UuZXJyb3JzLmxlbmd0aCA+IDE7CiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGhhc011bHRpcGxlRXJyb3JzID8gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgucGF1c2VBY3Rpb24uZXJyb3JNdWx0aXBsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciBwYXVzaW5nIHtjb3VudH0gZm9sbG93ZXIgaW5kaWNlcyIsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgY291bnQ6IHJlc3BvbnNlLmVycm9ycy5sZW5ndGgKICAgICAgICAgIH0KICAgICAgICB9KSA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4LnBhdXNlQWN0aW9uLmVycm9yU2luZ2xlTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIHBhdXNpbmcgZm9sbG93ZXIgaW5kZXggJ3tuYW1lfSciLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmVycm9yc1swXS5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICgwLCBfbm90aWZpY2F0aW9ucy5nZXROb3RpZmljYXRpb25zKSgpLmFkZERhbmdlcihlcnJvck1lc3NhZ2UpOwogICAgICB9CgogICAgICBpZiAocmVzcG9uc2UuaXRlbXNQYXVzZWQubGVuZ3RoKSB7CiAgICAgICAgdmFyIGhhc011bHRpcGxlUGF1c2VkID0gcmVzcG9uc2UuaXRlbXNQYXVzZWQubGVuZ3RoID4gMTsKICAgICAgICB2YXIgc3VjY2Vzc01lc3NhZ2UgPSBoYXNNdWx0aXBsZVBhdXNlZCA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4LnBhdXNlQWN0aW9uLnN1Y2Nlc3NNdWx0aXBsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJ7Y291bnR9IGZvbGxvd2VyIGluZGljZXMgd2VyZSBwYXVzZWQiLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIGNvdW50OiByZXNwb25zZS5pdGVtc1BhdXNlZC5sZW5ndGgKICAgICAgICAgIH0KICAgICAgICB9KSA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4LnBhdXNlQWN0aW9uLnN1Y2Nlc3NTaW5nbGVOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRm9sbG93ZXIgaW5kZXggJ3tuYW1lfScgd2FzIHBhdXNlZCIsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgbmFtZTogcmVzcG9uc2UuaXRlbXNQYXVzZWRbMF0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAoMCwgX25vdGlmaWNhdGlvbnMuZ2V0Tm90aWZpY2F0aW9ucykoKS5hZGRTdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKTsgLy8gUmVmcmVzaCBsaXN0CgogICAgICAgIGRpc3BhdGNoKGxvYWRGb2xsb3dlckluZGljZXModHJ1ZSkpOwogICAgICB9CiAgICB9CiAgfSk7Cn07CgpleHBvcnRzLnBhdXNlRm9sbG93ZXJJbmRleCA9IHBhdXNlRm9sbG93ZXJJbmRleDsKCnZhciByZXN1bWVGb2xsb3dlckluZGV4ID0gZnVuY3Rpb24gcmVzdW1lRm9sbG93ZXJJbmRleChpZCkgewogIHJldHVybiAoMCwgX2FwaTIuc2VuZEFwaVJlcXVlc3QpKHsKICAgIGxhYmVsOiB0LkZPTExPV0VSX0lOREVYX1JFU1VNRSwKICAgIHN0YXR1czogX2NvbnN0YW50cy5BUElfU1RBVFVTLlNBVklORywKICAgIHNjb3BlOiBzY29wZSwKICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVyNSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgKDAsIF9hcGkucmVzdW1lRm9sbG93ZXJJbmRleCkoaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICByZXR1cm4gX2hhbmRsZXI1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVyOwogICAgfSgpLAogICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2UsIGRpc3BhdGNoKSB7CiAgICAgIC8qKgogICAgICAgKiBXZSBjYW4gaGF2ZSAxIG9yIG1vcmUgZm9sbG93ZXIgaW5kZXggcmVzdW1lIG9wZXJhdGlvbgogICAgICAgKiB0aGF0IGNhbiBmYWlsIG9yIHN1Y2NlZWQuIFdlIHdpbGwgc2hvdyAxIHRvYXN0IG5vdGlmaWNhdGlvbiBmb3IgZWFjaC4KICAgICAgICovCiAgICAgIGlmIChyZXNwb25zZS5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGhhc011bHRpcGxlRXJyb3JzID0gcmVzcG9uc2UuZXJyb3JzLmxlbmd0aCA+IDE7CiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGhhc011bHRpcGxlRXJyb3JzID8gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgucmVzdW1lQWN0aW9uLmVycm9yTXVsdGlwbGVOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXJyb3IgcmVzdW1pbmcge2NvdW50fSBmb2xsb3dlciBpbmRpY2VzIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBjb3VudDogcmVzcG9uc2UuZXJyb3JzLmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgucmVzdW1lQWN0aW9uLmVycm9yU2luZ2xlTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIHJlc3VtaW5nIGZvbGxvd2VyIGluZGV4ICd7bmFtZX0nIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBuYW1lOiByZXNwb25zZS5lcnJvcnNbMF0uaWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAoMCwgX25vdGlmaWNhdGlvbnMuZ2V0Tm90aWZpY2F0aW9ucykoKS5hZGREYW5nZXIoZXJyb3JNZXNzYWdlKTsKICAgICAgfQoKICAgICAgaWYgKHJlc3BvbnNlLml0ZW1zUmVzdW1lZC5sZW5ndGgpIHsKICAgICAgICB2YXIgaGFzTXVsdGlwbGVSZXN1bWVkID0gcmVzcG9uc2UuaXRlbXNSZXN1bWVkLmxlbmd0aCA+IDE7CiAgICAgICAgdmFyIHN1Y2Nlc3NNZXNzYWdlID0gaGFzTXVsdGlwbGVSZXN1bWVkID8gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgucmVzdW1lQWN0aW9uLnN1Y2Nlc3NNdWx0aXBsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJ7Y291bnR9IGZvbGxvd2VyIGluZGljZXMgd2VyZSByZXN1bWVkIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBjb3VudDogcmVzcG9uc2UuaXRlbXNSZXN1bWVkLmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgucmVzdW1lQWN0aW9uLnN1Y2Nlc3NTaW5nbGVOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRm9sbG93ZXIgaW5kZXggJ3tuYW1lfScgd2FzIHJlc3VtZWQiLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLml0ZW1zUmVzdW1lZFswXQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICgwLCBfbm90aWZpY2F0aW9ucy5nZXROb3RpZmljYXRpb25zKSgpLmFkZFN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpOwogICAgICB9IC8vIFJlZnJlc2ggbGlzdAoKCiAgICAgIGRpc3BhdGNoKGxvYWRGb2xsb3dlckluZGljZXModHJ1ZSkpOwogICAgfQogIH0pOwp9OwoKZXhwb3J0cy5yZXN1bWVGb2xsb3dlckluZGV4ID0gcmVzdW1lRm9sbG93ZXJJbmRleDsKCnZhciB1bmZvbGxvd0xlYWRlckluZGV4ID0gZnVuY3Rpb24gdW5mb2xsb3dMZWFkZXJJbmRleChpZCkgewogIHJldHVybiAoMCwgX2FwaTIuc2VuZEFwaVJlcXVlc3QpKHsKICAgIGxhYmVsOiB0LkZPTExPV0VSX0lOREVYX1VORk9MTE9XLAogICAgc3RhdHVzOiBfY29uc3RhbnRzLkFQSV9TVEFUVVMuREVMRVRJTkcsCiAgICBzY29wZTogIiIuY29uY2F0KHNjb3BlLCAiLWRlbGV0ZSIpLAogICAgaGFuZGxlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZXI2ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCAoMCwgX2FwaS51bmZvbGxvd0xlYWRlckluZGV4KShpZCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHJldHVybiBfaGFuZGxlcjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZXI7CiAgICB9KCksCiAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXNwb25zZSwgZGlzcGF0Y2gsIGdldFN0YXRlKSB7CiAgICAgIC8qKgogICAgICAgKiBXZSBjYW4gaGF2ZSAxIG9yIG1vcmUgZm9sbG93ZXIgaW5kZXggdW5mb2xsb3cgb3BlcmF0aW9uCiAgICAgICAqIHRoYXQgY2FuIGZhaWwgb3Igc3VjY2VlZC4gV2Ugd2lsbCBzaG93IDEgdG9hc3Qgbm90aWZpY2F0aW9uIGZvciBlYWNoLgogICAgICAgKi8KICAgICAgaWYgKHJlc3BvbnNlLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICB2YXIgaGFzTXVsdGlwbGVFcnJvcnMgPSByZXNwb25zZS5lcnJvcnMubGVuZ3RoID4gMTsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gaGFzTXVsdGlwbGVFcnJvcnMgPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleC51bmZvbGxvd0FjdGlvbi5lcnJvck11bHRpcGxlTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkVycm9yIHVuZm9sbG93aW5nIGxlYWRlciBpbmRleCBvZiB7Y291bnR9IGZvbGxvd2VyIGluZGljZXMiLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIGNvdW50OiByZXNwb25zZS5lcnJvcnMubGVuZ3RoCiAgICAgICAgICB9CiAgICAgICAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleC51bmZvbGxvd0FjdGlvbi5lcnJvclNpbmdsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciB1bmZvbGxvd2luZyBsZWFkZXIgaW5kZXggb2YgZm9sbG93ZXIgaW5kZXggJ3tuYW1lfSciLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmVycm9yc1swXS5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICgwLCBfbm90aWZpY2F0aW9ucy5nZXROb3RpZmljYXRpb25zKSgpLmFkZERhbmdlcihlcnJvck1lc3NhZ2UpOwogICAgICB9CgogICAgICBpZiAocmVzcG9uc2UuaXRlbXNVbmZvbGxvd2VkLmxlbmd0aCkgewogICAgICAgIHZhciBoYXNNdWx0aXBsZVVuZm9sbG93ID0gcmVzcG9uc2UuaXRlbXNVbmZvbGxvd2VkLmxlbmd0aCA+IDE7CiAgICAgICAgdmFyIHN1Y2Nlc3NNZXNzYWdlID0gaGFzTXVsdGlwbGVVbmZvbGxvdyA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5jcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbi5mb2xsb3dlckluZGV4LnVuZm9sbG93QWN0aW9uLnN1Y2Nlc3NNdWx0aXBsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMZWFkZXIgaW5kaWNlcyBvZiB7Y291bnR9IGZvbGxvd2VyIGluZGljZXMgd2VyZSB1bmZvbGxvd2VkIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBjb3VudDogcmVzcG9uc2UuaXRlbXNVbmZvbGxvd2VkLmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgudW5mb2xsb3dBY3Rpb24uc3VjY2Vzc1NpbmdsZU5vdGlmaWNhdGlvblRpdGxlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJMZWFkZXIgaW5kZXggb2YgZm9sbG93ZXIgaW5kZXggJ3tuYW1lfScgd2FzIHVuZm9sbG93ZWQiLAogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLml0ZW1zVW5mb2xsb3dlZFswXQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICgwLCBfbm90aWZpY2F0aW9ucy5nZXROb3RpZmljYXRpb25zKSgpLmFkZFN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpOwogICAgICB9CgogICAgICBpZiAocmVzcG9uc2UuaXRlbXNOb3RPcGVuLmxlbmd0aCkgewogICAgICAgIHZhciBoYXNNdWx0aXBsZU5vdE9wZW4gPSByZXNwb25zZS5pdGVtc05vdE9wZW4ubGVuZ3RoID4gMTsKICAgICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBoYXNNdWx0aXBsZU5vdE9wZW4gPyBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2suY3Jvc3NDbHVzdGVyUmVwbGljYXRpb24uZm9sbG93ZXJJbmRleC51bmZvbGxvd0FjdGlvbi5ub3RPcGVuV2FybmluZ011bHRpcGxlTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIntjb3VudH0gaW5kaWNlcyBjb3VsZCBub3QgYmUgcmUtb3BlbmVkIiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICBjb3VudDogcmVzcG9uc2UuaXRlbXNOb3RPcGVuLmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0pIDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLmNyb3NzQ2x1c3RlclJlcGxpY2F0aW9uLmZvbGxvd2VySW5kZXgudW5mb2xsb3dBY3Rpb24ubm90T3Blbldhcm5pbmdTaW5nbGVOb3RpZmljYXRpb25UaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiSW5kZXggJ3tuYW1lfScgY291bGQgbm90IGJlIHJlLW9wZW5lZCIsCiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgbmFtZTogcmVzcG9uc2UuaXRlbXNOb3RPcGVuWzBdCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgKDAsIF9ub3RpZmljYXRpb25zLmdldE5vdGlmaWNhdGlvbnMpKCkuYWRkV2FybmluZyh3YXJuaW5nTWVzc2FnZSk7CiAgICAgIH0gLy8gSWYgd2UndmUganVzdCB1bmZvbGxvd2VkIGEgZm9sbG93ZXIgaW5kZXggd2Ugd2VyZSBsb29raW5nIGF0LCB3ZSBuZWVkIHRvIGNsb3NlIHRoZSBwYW5lbC4KCgogICAgICB2YXIgZm9sbG93ZXJJbmRleElkID0gKDAsIF9zZWxlY3RvcnMuZ2V0U2VsZWN0ZWRGb2xsb3dlckluZGV4SWQpKCdkZXRhaWwnKShnZXRTdGF0ZSgpKTsKCiAgICAgIGlmIChyZXNwb25zZS5pdGVtc1VuZm9sbG93ZWQuaW5jbHVkZXMoZm9sbG93ZXJJbmRleElkKSkgewogICAgICAgIGRpc3BhdGNoKHNlbGVjdERldGFpbEZvbGxvd2VySW5kZXgobnVsbCkpOwogICAgICB9CiAgICB9CiAgfSk7Cn07CgpleHBvcnRzLnVuZm9sbG93TGVhZGVySW5kZXggPSB1bmZvbGxvd0xlYWRlckluZGV4Ow=="},null]}