{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/triggers_actions_ui/public/application/sections/alert_details/components/alert_instances.js","dependencies":[{"path":"x-pack/plugins/triggers_actions_ui/public/application/sections/alert_details/components/alert_instances.js","mtime":1589249555561},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFsZXJ0SW5zdGFuY2VzID0gQWxlcnRJbnN0YW5jZXM7CmV4cG9ydHMuYWxlcnRJbnN0YW5jZVRvTGlzdEl0ZW0gPSBhbGVydEluc3RhbmNlVG9MaXN0SXRlbTsKZXhwb3J0cy5BbGVydEluc3RhbmNlc1dpdGhBcGkgPSBleHBvcnRzLmFsZXJ0SW5zdGFuY2VzVGFibGVDb2x1bW5zID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfc2VydmljZXMgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkvbGliL3NlcnZpY2VzIik7Cgp2YXIgX2xvZGFzaCA9IHJlcXVpcmUoImxvZGFzaCIpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfd2l0aF9idWxrX2FsZXJ0X2FwaV9vcGVyYXRpb25zID0gcmVxdWlyZSgiLi4vLi4vY29tbW9uL2NvbXBvbmVudHMvd2l0aF9idWxrX2FsZXJ0X2FwaV9vcGVyYXRpb25zIik7Cgp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIi4uLy4uLy4uL2NvbnN0YW50cyIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgZGVmYXVsdDogb2JqCiAgfTsKfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgdHJ5IHsKICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsKICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlamVjdChlcnJvcik7CiAgICByZXR1cm47CiAgfQoKICBpZiAoaW5mby5kb25lKSB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9IGVsc2UgewogICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogIH0KfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgIH0KCiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICB9KTsKICB9Owp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCnZhciBhbGVydEluc3RhbmNlc1RhYmxlQ29sdW1ucyA9IGZ1bmN0aW9uIGFsZXJ0SW5zdGFuY2VzVGFibGVDb2x1bW5zKG9uTXV0ZUFjdGlvbikgewogIHJldHVybiBbewogICAgZmllbGQ6ICdpbnN0YW5jZScsCiAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJpZ2dlcnNBY3Rpb25zVUkuc2VjdGlvbnMuYWxlcnREZXRhaWxzLmFsZXJ0SW5zdGFuY2VzTGlzdC5jb2x1bW5zLmluc3RhbmNlJywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0luc3RhbmNlJwogICAgfSksCiAgICBzb3J0YWJsZTogZmFsc2UsCiAgICB0cnVuY2F0ZVRleHQ6IHRydWUsCiAgICAnZGF0YS10ZXN0LXN1YmonOiAnYWxlcnRJbnN0YW5jZXNUYWJsZUNlbGwtaW5zdGFuY2UnCiAgfSwgewogICAgZmllbGQ6ICdzdGF0dXMnLAogICAgbmFtZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyaWdnZXJzQWN0aW9uc1VJLnNlY3Rpb25zLmFsZXJ0RGV0YWlscy5hbGVydEluc3RhbmNlc0xpc3QuY29sdW1ucy5zdGF0dXMnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU3RhdHVzJwogICAgfSksCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih2YWx1ZSwgaW5zdGFuY2UpIHsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlIZWFsdGgsIHsKICAgICAgICBjb2xvcjogdmFsdWUuaGVhbHRoQ29sb3IKICAgICAgfSwgdmFsdWUubGFiZWwpOwogICAgfSwKICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICdkYXRhLXRlc3Qtc3Viaic6ICdhbGVydEluc3RhbmNlc1RhYmxlQ2VsbC1zdGF0dXMnCiAgfSwgewogICAgZmllbGQ6ICdzdGFydCcsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih2YWx1ZSwgaW5zdGFuY2UpIHsKICAgICAgcmV0dXJuIHZhbHVlID8gKDAsIF9tb21lbnQuZGVmYXVsdCkodmFsdWUpLmZvcm1hdCgnRCBNTU0gWVlZWSBAIEhIOm1tOnNzJykgOiAnJzsKICAgIH0sCiAgICBuYW1lOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJpZ2dlcnNBY3Rpb25zVUkuc2VjdGlvbnMuYWxlcnREZXRhaWxzLmFsZXJ0SW5zdGFuY2VzTGlzdC5jb2x1bW5zLnN0YXJ0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1N0YXJ0JwogICAgfSksCiAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAnZGF0YS10ZXN0LXN1YmonOiAnYWxlcnRJbnN0YW5jZXNUYWJsZUNlbGwtc3RhcnQnCiAgfSwgewogICAgZmllbGQ6ICdkdXJhdGlvbicsCiAgICBhbGlnbjogX3NlcnZpY2VzLkNFTlRFUl9BTElHTk1FTlQsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih2YWx1ZSwgaW5zdGFuY2UpIHsKICAgICAgcmV0dXJuIHZhbHVlID8gZHVyYXRpb25Bc1N0cmluZyhfbW9tZW50LmRlZmF1bHQuZHVyYXRpb24odmFsdWUpKSA6ICcnOwogICAgfSwKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hbGVydERldGFpbHMuYWxlcnRJbnN0YW5jZXNMaXN0LmNvbHVtbnMuZHVyYXRpb24nLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRHVyYXRpb24nCiAgICB9KSwKICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICdkYXRhLXRlc3Qtc3Viaic6ICdhbGVydEluc3RhbmNlc1RhYmxlQ2VsbC1kdXJhdGlvbicKICB9LCB7CiAgICBmaWVsZDogJycsCiAgICBhbGlnbjogX3NlcnZpY2VzLlJJR0hUX0FMSUdOTUVOVCwKICAgIG5hbWU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hbGVydERldGFpbHMuYWxlcnRJbnN0YW5jZXNMaXN0LmNvbHVtbnMuYWN0aW9ucycsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBY3Rpb25zJwogICAgfSksCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihhbGVydEluc3RhbmNlKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgYWxlcnRJbnN0YW5jZS5pc011dGVkID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJhZGdlLCB7CiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogIm11dGVkQWxlcnRJbnN0YW5jZUxhYmVsXyIuY29uY2F0KGFsZXJ0SW5zdGFuY2UuaW5zdGFuY2UpCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hbGVydERldGFpbHMuYWxlcnRJbnN0YW5jZXMubXV0ZWRBbGVydCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJNdXRlZCIKICAgICAgfSkpIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uVG9nZ2xlLCB7CiAgICAgICAgbGFiZWw6IGFsZXJ0SW5zdGFuY2UuaXNNdXRlZCA/IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hbGVydERldGFpbHMuYWxlcnRJbnN0YW5jZXNMaXN0LmFjdGlvbnMudW5tdXRlJywgewogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbm11dGUnCiAgICAgICAgfSkgOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2sudHJpZ2dlcnNBY3Rpb25zVUkuc2VjdGlvbnMuYWxlcnREZXRhaWxzLmFsZXJ0SW5zdGFuY2VzTGlzdC5hY3Rpb25zLm11dGUnLCB7CiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ011dGUnCiAgICAgICAgfSksCiAgICAgICAgImRhdGEtdGVzdC1zdWJqIjogIm11dGVBbGVydEluc3RhbmNlQnV0dG9uXyIuY29uY2F0KGFsZXJ0SW5zdGFuY2UuaW5zdGFuY2UpLAogICAgICAgIGljb25UeXBlOiBhbGVydEluc3RhbmNlLmlzTXV0ZWQgPyAnZXllQ2xvc2VkJyA6ICdleWUnLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgICAgIHJldHVybiBvbk11dGVBY3Rpb24oYWxlcnRJbnN0YW5jZSk7CiAgICAgICAgfSwKICAgICAgICBpc1NlbGVjdGVkOiBhbGVydEluc3RhbmNlLmlzTXV0ZWQsCiAgICAgICAgaXNFbXB0eTogdHJ1ZSwKICAgICAgICBpc0ljb25Pbmx5OiB0cnVlCiAgICAgIH0pKTsKICAgIH0sCiAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAnZGF0YS10ZXN0LXN1YmonOiAnYWxlcnRJbnN0YW5jZXNUYWJsZUNlbGwtYWN0aW9ucycKICB9XTsKfTsKCmV4cG9ydHMuYWxlcnRJbnN0YW5jZXNUYWJsZUNvbHVtbnMgPSBhbGVydEluc3RhbmNlc1RhYmxlQ29sdW1uczsKCmZ1bmN0aW9uIGR1cmF0aW9uQXNTdHJpbmcoZHVyYXRpb24pIHsKICByZXR1cm4gW2R1cmF0aW9uLmhvdXJzKCksIGR1cmF0aW9uLm1pbnV0ZXMoKSwgZHVyYXRpb24uc2Vjb25kcygpXS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gKDAsIF9sb2Rhc2gucGFkTGVmdCkoIiIuY29uY2F0KHZhbHVlKSwgMiwgJzAnKTsKICB9KS5qb2luKCc6Jyk7Cn0KCmZ1bmN0aW9uIEFsZXJ0SW5zdGFuY2VzKF9yZWYpIHsKICB2YXIgYWxlcnQgPSBfcmVmLmFsZXJ0LAogICAgICBfcmVmJGFsZXJ0U3RhdGUkYWxlcnQgPSBfcmVmLmFsZXJ0U3RhdGUuYWxlcnRJbnN0YW5jZXMsCiAgICAgIGFsZXJ0SW5zdGFuY2VzID0gX3JlZiRhbGVydFN0YXRlJGFsZXJ0ID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkYWxlcnRTdGF0ZSRhbGVydCwKICAgICAgbXV0ZUFsZXJ0SW5zdGFuY2UgPSBfcmVmLm11dGVBbGVydEluc3RhbmNlLAogICAgICB1bm11dGVBbGVydEluc3RhbmNlID0gX3JlZi51bm11dGVBbGVydEluc3RhbmNlLAogICAgICByZXF1ZXN0UmVmcmVzaCA9IF9yZWYucmVxdWVzdFJlZnJlc2gsCiAgICAgIF9yZWYkZHVyYXRpb25FcG9jaCA9IF9yZWYuZHVyYXRpb25FcG9jaCwKICAgICAgZHVyYXRpb25FcG9jaCA9IF9yZWYkZHVyYXRpb25FcG9jaCA9PT0gdm9pZCAwID8gRGF0ZS5ub3coKSA6IF9yZWYkZHVyYXRpb25FcG9jaDsKCiAgdmFyIF91c2VTdGF0ZSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHsKICAgIGluZGV4OiAwLAogICAgc2l6ZTogX2NvbnN0YW50cy5ERUZBVUxUX1NFQVJDSF9QQUdFX1NJWkUKICB9KSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHBhZ2luYXRpb24gPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRQYWdpbmF0aW9uID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIG1lcmdlZEFsZXJ0SW5zdGFuY2VzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShPYmplY3QuZW50cmllcyhhbGVydEluc3RhbmNlcykubWFwKGZ1bmN0aW9uIChfcmVmMikgewogICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDIpLAogICAgICAgIGluc3RhbmNlSWQgPSBfcmVmM1swXSwKICAgICAgICBpbnN0YW5jZSA9IF9yZWYzWzFdOwoKICAgIHJldHVybiBhbGVydEluc3RhbmNlVG9MaXN0SXRlbShkdXJhdGlvbkVwb2NoLCBhbGVydCwgaW5zdGFuY2VJZCwgaW5zdGFuY2UpOwogIH0pKSwgX3RvQ29uc3VtYWJsZUFycmF5KCgwLCBfbG9kYXNoLmRpZmZlcmVuY2UpKGFsZXJ0Lm11dGVkSW5zdGFuY2VJZHMsIE9iamVjdC5rZXlzKGFsZXJ0SW5zdGFuY2VzKSkubWFwKGZ1bmN0aW9uIChpbnN0YW5jZUlkKSB7CiAgICByZXR1cm4gYWxlcnRJbnN0YW5jZVRvTGlzdEl0ZW0oZHVyYXRpb25FcG9jaCwgYWxlcnQsIGluc3RhbmNlSWQpOwogIH0pKSk7CiAgdmFyIHBhZ2VPZkFsZXJ0SW5zdGFuY2VzID0gZ2V0UGFnZShtZXJnZWRBbGVydEluc3RhbmNlcywgcGFnaW5hdGlvbik7CgogIHZhciBvbk11dGVBY3Rpb24gPQogIC8qI19fUFVSRV9fKi8KICBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaW5zdGFuY2UpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5pc011dGVkID8gdW5tdXRlQWxlcnRJbnN0YW5jZShhbGVydCwgaW5zdGFuY2UuaW5zdGFuY2UpIDogbXV0ZUFsZXJ0SW5zdGFuY2UoYWxlcnQsIGluc3RhbmNlLmluc3RhbmNlKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXF1ZXN0UmVmcmVzaCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gb25NdXRlQWN0aW9uKF94KSB7CiAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCB7CiAgICB0eXBlOiAiaGlkZGVuIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJhbGVydEluc3RhbmNlc0R1cmF0aW9uRXBvY2giLAogICAgbmFtZTogImFsZXJ0SW5zdGFuY2VzRHVyYXRpb25FcG9jaCIsCiAgICB2YWx1ZTogZHVyYXRpb25FcG9jaAogIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQmFzaWNUYWJsZSwgewogICAgaXRlbXM6IHBhZ2VPZkFsZXJ0SW5zdGFuY2VzLAogICAgcGFnaW5hdGlvbjogewogICAgICBwYWdlSW5kZXg6IHBhZ2luYXRpb24uaW5kZXgsCiAgICAgIHBhZ2VTaXplOiBwYWdpbmF0aW9uLnNpemUsCiAgICAgIHRvdGFsSXRlbUNvdW50OiBtZXJnZWRBbGVydEluc3RhbmNlcy5sZW5ndGgKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoX3JlZjUpIHsKICAgICAgdmFyIGNoYW5nZWRQYWdlID0gX3JlZjUucGFnZTsKICAgICAgc2V0UGFnaW5hdGlvbihjaGFuZ2VkUGFnZSk7CiAgICB9LAogICAgcm93UHJvcHM6IGZ1bmN0aW9uIHJvd1Byb3BzKCkgewogICAgICByZXR1cm4gewogICAgICAgICdkYXRhLXRlc3Qtc3Viaic6ICdhbGVydC1pbnN0YW5jZS1yb3cnCiAgICAgIH07CiAgICB9LAogICAgY2VsbFByb3BzOiBmdW5jdGlvbiBjZWxsUHJvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ2NlbGwnCiAgICAgIH07CiAgICB9LAogICAgY29sdW1uczogYWxlcnRJbnN0YW5jZXNUYWJsZUNvbHVtbnMob25NdXRlQWN0aW9uKSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJhbGVydEluc3RhbmNlc0xpc3QiCiAgfSkpOwp9Cgp2YXIgQWxlcnRJbnN0YW5jZXNXaXRoQXBpID0gKDAsIF93aXRoX2J1bGtfYWxlcnRfYXBpX29wZXJhdGlvbnMud2l0aEJ1bGtBbGVydE9wZXJhdGlvbnMpKEFsZXJ0SW5zdGFuY2VzKTsKZXhwb3J0cy5BbGVydEluc3RhbmNlc1dpdGhBcGkgPSBBbGVydEluc3RhbmNlc1dpdGhBcGk7CgpmdW5jdGlvbiBnZXRQYWdlKGl0ZW1zLCBwYWdpbmF0aW9uKSB7CiAgcmV0dXJuICgwLCBfbG9kYXNoLmNodW5rKShpdGVtcywgcGFnaW5hdGlvbi5zaXplKVtwYWdpbmF0aW9uLmluZGV4XSB8fCBbXTsKfQoKdmFyIEFDVElWRV9MQUJFTCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay50cmlnZ2Vyc0FjdGlvbnNVSS5zZWN0aW9ucy5hbGVydERldGFpbHMuYWxlcnRJbnN0YW5jZXNMaXN0LnN0YXR1cy5hY3RpdmUnLCB7CiAgZGVmYXVsdE1lc3NhZ2U6ICdBY3RpdmUnCn0pOwoKdmFyIElOQUNUSVZFX0xBQkVMID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLnRyaWdnZXJzQWN0aW9uc1VJLnNlY3Rpb25zLmFsZXJ0RGV0YWlscy5hbGVydEluc3RhbmNlc0xpc3Quc3RhdHVzLmluYWN0aXZlJywgewogIGRlZmF1bHRNZXNzYWdlOiAnSW5hY3RpdmUnCn0pOwoKdmFyIGR1cmF0aW9uU2luY2UgPSBmdW5jdGlvbiBkdXJhdGlvblNpbmNlKGR1cmF0aW9uRXBvY2gsIHN0YXJ0VGltZSkgewogIHJldHVybiBzdGFydFRpbWUgPyBkdXJhdGlvbkVwb2NoIC0gc3RhcnRUaW1lIDogMDsKfTsKCmZ1bmN0aW9uIGFsZXJ0SW5zdGFuY2VUb0xpc3RJdGVtKGR1cmF0aW9uRXBvY2gsIGFsZXJ0LCBpbnN0YW5jZUlkLCBpbnN0YW5jZSkgewogIHZhciBfaW5zdGFuY2UkbWV0YSwgX2luc3RhbmNlJG1ldGEkbGFzdFNjLCBfcmVmNiwgX2luc3RhbmNlJG1ldGEyLCBfaW5zdGFuY2UkbWV0YTIkbGFzdFMsIF9pbnN0YW5jZSRtZXRhMiRsYXN0UzI7CgogIHZhciBpc011dGVkID0gYWxlcnQubXV0ZWRJbnN0YW5jZUlkcy5maW5kSW5kZXgoZnVuY3Rpb24gKG11dGVkKSB7CiAgICByZXR1cm4gbXV0ZWQgPT09IGluc3RhbmNlSWQ7CiAgfSkgPj0gMDsKICByZXR1cm4gewogICAgaW5zdGFuY2U6IGluc3RhbmNlSWQsCiAgICBzdGF0dXM6IGluc3RhbmNlID8gewogICAgICBsYWJlbDogQUNUSVZFX0xBQkVMLAogICAgICBoZWFsdGhDb2xvcjogJ3ByaW1hcnknCiAgICB9IDogewogICAgICBsYWJlbDogSU5BQ1RJVkVfTEFCRUwsCiAgICAgIGhlYWx0aENvbG9yOiAnc3ViZHVlZCcKICAgIH0sCiAgICBzdGFydDogaW5zdGFuY2UgPT09IG51bGwgfHwgaW5zdGFuY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaW5zdGFuY2UkbWV0YSA9IGluc3RhbmNlLm1ldGEpID09PSBudWxsIHx8IF9pbnN0YW5jZSRtZXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2luc3RhbmNlJG1ldGEkbGFzdFNjID0gX2luc3RhbmNlJG1ldGEubGFzdFNjaGVkdWxlZEFjdGlvbnMpID09PSBudWxsIHx8IF9pbnN0YW5jZSRtZXRhJGxhc3RTYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2luc3RhbmNlJG1ldGEkbGFzdFNjLmRhdGUsCiAgICBkdXJhdGlvbjogZHVyYXRpb25TaW5jZShkdXJhdGlvbkVwb2NoLCAoX3JlZjYgPSBpbnN0YW5jZSA9PT0gbnVsbCB8fCBpbnN0YW5jZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pbnN0YW5jZSRtZXRhMiA9IGluc3RhbmNlLm1ldGEpID09PSBudWxsIHx8IF9pbnN0YW5jZSRtZXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pbnN0YW5jZSRtZXRhMiRsYXN0UyA9IF9pbnN0YW5jZSRtZXRhMi5sYXN0U2NoZWR1bGVkQWN0aW9ucykgPT09IG51bGwgfHwgX2luc3RhbmNlJG1ldGEyJGxhc3RTID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2luc3RhbmNlJG1ldGEyJGxhc3RTMiA9IF9pbnN0YW5jZSRtZXRhMiRsYXN0Uy5kYXRlKSA9PT0gbnVsbCB8fCBfaW5zdGFuY2UkbWV0YTIkbGFzdFMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaW5zdGFuY2UkbWV0YTIkbGFzdFMyLmdldFRpbWUoKSkgIT09IG51bGwgJiYgX3JlZjYgIT09IHZvaWQgMCA/IF9yZWY2IDogMCksCiAgICBpc011dGVkOiBpc011dGVkCiAgfTsKfQ=="},null]}