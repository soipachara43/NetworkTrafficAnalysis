{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/reporting/public/components/reporting_panel_content.js","dependencies":[{"path":"x-pack/plugins/reporting/public/components/reporting_panel_content.js","mtime":1589249555121},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuUmVwb3J0aW5nUGFuZWxDb250ZW50ID0gdm9pZCAwOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3VybCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidXJsIikpOwoKdmFyIF9wdWJsaWMgPSByZXF1aXJlKCIuLi8uLi8uLi8uLi8uLi9zcmMvcGx1Z2lucy9raWJhbmFfcmVhY3QvcHVibGljIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICByZXR1cm4gY2FsbDsKICB9CgogIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOwp9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogIH07CiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsKfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7CiAgaWYgKHNlbGYgPT09IHZvaWQgMCkgewogICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICB9CgogIHJldHVybiBzZWxmOwp9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsKICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICB9CgogIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IHsKICAgICAgdmFsdWU6IHN1YkNsYXNzLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICB9CiAgfSk7CiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7Cn0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICBvLl9fcHJvdG9fXyA9IHA7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOwp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKdmFyIFJlcG9ydGluZ1BhbmVsQ29udGVudFVpID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhSZXBvcnRpbmdQYW5lbENvbnRlbnRVaSwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFJlcG9ydGluZ1BhbmVsQ29udGVudFVpKF9wcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXBvcnRpbmdQYW5lbENvbnRlbnRVaSk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUmVwb3J0aW5nUGFuZWxDb250ZW50VWkpLmNhbGwodGhpcywgX3Byb3BzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibW91bnRlZCIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0QWJzb2x1dGVSZXBvcnRHZW5lcmF0aW9uVXJsIiwgZnVuY3Rpb24gKHByb3BzKSB7CiAgICAgIHZhciByZWxhdGl2ZVBhdGggPSBfdGhpcy5wcm9wcy5hcGlDbGllbnQuZ2V0UmVwb3J0aW5nSm9iUGF0aChwcm9wcy5yZXBvcnRUeXBlLCBwcm9wcy5nZXRKb2JQYXJhbXMoKSk7CgogICAgICByZXR1cm4gX3VybC5kZWZhdWx0LnJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYsIHJlbGF0aXZlUGF0aCk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJyZW5kZXJHZW5lcmF0ZVJlcG9ydEJ1dHRvbiIsIGZ1bmN0aW9uIChpc0Rpc2FibGVkKSB7CiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIG9uQ2xpY2s6IF90aGlzLmNyZWF0ZVJlcG9ydGluZ0pvYiwKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZ2VuZXJhdGVSZXBvcnRCdXR0b24iLAogICAgICAgIHNpemU6ICJzIgogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAieHBhY2sucmVwb3J0aW5nLnBhbmVsQ29udGVudC5nZW5lcmF0ZUJ1dHRvbkxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkdlbmVyYXRlIHtyZXBvcnRpbmdUeXBlfSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICByZXBvcnRpbmdUeXBlOiBfdGhpcy5wcmV0dHlQcmludFJlcG9ydGluZ1R5cGUoKQogICAgICAgIH0KICAgICAgfSkpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicHJldHR5UHJpbnRSZXBvcnRpbmdUeXBlIiwgZnVuY3Rpb24gKCkgewogICAgICBzd2l0Y2ggKF90aGlzLnByb3BzLnJlcG9ydFR5cGUpIHsKICAgICAgICBjYXNlICdwcmludGFibGVQZGYnOgogICAgICAgICAgcmV0dXJuICdQREYnOwoKICAgICAgICBjYXNlICdjc3YnOgogICAgICAgICAgcmV0dXJuICdDU1YnOwoKICAgICAgICBjYXNlICdwbmcnOgogICAgICAgICAgcmV0dXJuICdQTkcnOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnJlcG9ydFR5cGU7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm1hcmtBc1N0YWxlIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoIV90aGlzLm1vdW50ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1N0YWxlOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaXNOb3RTYXZlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9iamVjdElkID09PSB1bmRlZmluZWQgfHwgX3RoaXMucHJvcHMub2JqZWN0SWQgPT09ICcnOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2V0QWJzb2x1dGVSZXBvcnRHZW5lcmF0aW9uVXJsIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoIV90aGlzLm1vdW50ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBhYnNvbHV0ZVVybCA9IF90aGlzLmdldEFic29sdXRlUmVwb3J0R2VuZXJhdGlvblVybChfdGhpcy5wcm9wcyk7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgYWJzb2x1dGVVcmw6IGFic29sdXRlVXJsCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY3JlYXRlUmVwb3J0aW5nSm9iIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgaW50bCA9IF90aGlzLnByb3BzLmludGw7CiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5hcGlDbGllbnQuY3JlYXRlUmVwb3J0aW5nSm9iKF90aGlzLnByb3BzLnJlcG9ydFR5cGUsIF90aGlzLnByb3BzLmdldEpvYlBhcmFtcygpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5wcm9wcy50b2FzdHMuYWRkU3VjY2Vzcyh7CiAgICAgICAgICB0aXRsZTogaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgaWQ6ICd4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50LnN1Y2Nlc3NmdWxseVF1ZXVlZFJlcG9ydE5vdGlmaWNhdGlvblRpdGxlJywKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdRdWV1ZWQgcmVwb3J0IGZvciB7b2JqZWN0VHlwZX0nCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG9iamVjdFR5cGU6IF90aGlzLnByb3BzLm9iamVjdFR5cGUKICAgICAgICAgIH0pLAogICAgICAgICAgdGV4dDogKDAsIF9wdWJsaWMudG9Nb3VudFBvaW50KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICBpZDogInhwYWNrLnJlcG9ydGluZy5wYW5lbENvbnRlbnQuc3VjY2Vzc2Z1bGx5UXVldWVkUmVwb3J0Tm90aWZpY2F0aW9uRGVzY3JpcHRpb24iLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRyYWNrIGl0cyBwcm9ncmVzcyBpbiBNYW5hZ2VtZW50IgogICAgICAgICAgfSkpLAogICAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ3F1ZXVlUmVwb3J0U3VjY2VzcycKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2YXIgX2Vycm9yJHJlczsKCiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdub3QgZXhwb3J0YWJsZScpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy50b2FzdHMuYWRkV2FybmluZyh7CiAgICAgICAgICAgIHRpdGxlOiBpbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgICAgIGlkOiAneHBhY2sucmVwb3J0aW5nLnBhbmVsQ29udGVudC53aGF0Q2FuQmVFeHBvcnRlZFdhcm5pbmdUaXRsZScsCiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdPbmx5IHNhdmVkIHtvYmplY3RUeXBlfSBjYW4gYmUgZXhwb3J0ZWQnCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBvYmplY3RUeXBlOiBfdGhpcy5wcm9wcy5vYmplY3RUeXBlCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICB0ZXh0OiAoMCwgX3B1YmxpYy50b01vdW50UG9pbnQpKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgaWQ6ICJ4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50LndoYXRDYW5CZUV4cG9ydGVkV2FybmluZ0Rlc2NyaXB0aW9uIiwKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlBsZWFzZSBzYXZlIHlvdXIgd29yayBmaXJzdCIKICAgICAgICAgICAgfSkpCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBkZWZhdWx0TWVzc2FnZSA9IChlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvciRyZXMgPSBlcnJvci5yZXMpID09PSBudWxsIHx8IF9lcnJvciRyZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXMuc3RhdHVzKSA9PT0gNDAzID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAieHBhY2sucmVwb3J0aW5nLnBhbmVsQ29udGVudC5ub1Blcm1pc3Npb25Ub0dlbmVyYXRlUmVwb3J0RGVzY3JpcHRpb24iLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGdlbmVyYXRlIHRoaXMgcmVwb3J0LiIKICAgICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInhwYWNrLnJlcG9ydGluZy5wYW5lbENvbnRlbnQubm90aWZpY2F0aW9uLmNhbnRSZWFjaFNlcnZlckRlc2NyaXB0aW9uIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuJ3QgcmVhY2ggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLnByb3BzLnRvYXN0cy5hZGREYW5nZXIoewogICAgICAgICAgdGl0bGU6IGludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICAgIGlkOiAneHBhY2sucmVwb3J0aW5nLnBhbmVsQ29udGVudC5ub3RpZmljYXRpb24ucmVwb3J0aW5nRXJyb3JUaXRsZScsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVwb3J0aW5nIGVycm9yJwogICAgICAgICAgfSksCiAgICAgICAgICB0ZXh0OiAoMCwgX3B1YmxpYy50b01vdW50UG9pbnQpKGVycm9yLm1lc3NhZ2UgfHwgZGVmYXVsdE1lc3NhZ2UpLAogICAgICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogJ3F1ZXVlUmVwb3J0RXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CgogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIGlzU3RhbGU6IGZhbHNlLAogICAgICBhYnNvbHV0ZVVybDogX3RoaXMuZ2V0QWJzb2x1dGVSZXBvcnRHZW5lcmF0aW9uVXJsKF9wcm9wcyksCiAgICAgIGxheW91dElkOiAnJwogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhSZXBvcnRpbmdQYW5lbENvbnRlbnRVaSwgW3sKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICAgIGlmICh0aGlzLnByb3BzLmxheW91dElkICYmIHRoaXMucHJvcHMubGF5b3V0SWQgIT09IHByZXZTdGF0ZS5sYXlvdXRJZCkgewogICAgICAgIHRoaXMuc2V0U3RhdGUoX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLCB7CiAgICAgICAgICBhYnNvbHV0ZVVybDogdGhpcy5nZXRBYnNvbHV0ZVJlcG9ydEdlbmVyYXRpb25VcmwodGhpcy5wcm9wcyksCiAgICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXRJZAogICAgICAgIH0pKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLm1hcmtBc1N0YWxlKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2V0QWJzb2x1dGVSZXBvcnRHZW5lcmF0aW9uVXJsKTsKICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMubWFya0FzU3RhbGUsIGZhbHNlKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2V0QWJzb2x1dGVSZXBvcnRHZW5lcmF0aW9uVXJsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgaWYgKHRoaXMuaXNOb3RTYXZlZCgpIHx8IHRoaXMucHJvcHMuaXNEaXJ0eSB8fCB0aGlzLnN0YXRlLmlzU3RhbGUpIHsKICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJrYm5TaGFyZUNvbnRleHRNZW51X19maW5hbFBhbmVsIiwKICAgICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzaGFyZVJlcG9ydGluZ0Zvcm0iCiAgICAgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgICAgICBoZWxwVGV4dDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgICAgaWQ6ICJ4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50LnNhdmVXb3JrRGVzY3JpcHRpb24iLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlBsZWFzZSBzYXZlIHlvdXIgd29yayBiZWZvcmUgZ2VuZXJhdGluZyBhIHJlcG9ydC4iCiAgICAgICAgICB9KQogICAgICAgIH0sIHRoaXMucmVuZGVyR2VuZXJhdGVSZXBvcnRCdXR0b24odHJ1ZSkpKTsKICAgICAgfQoKICAgICAgdmFyIHJlcG9ydE1zZyA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50LmdlbmVyYXRpb25UaW1lRGVzY3JpcHRpb24iLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAie3JlcG9ydGluZ1R5cGV9cyBjYW4gdGFrZSBhIG1pbnV0ZSBvciB0d28gdG8gZ2VuZXJhdGUgYmFzZWQgdXBvbiB0aGUgc2l6ZSBvZiB5b3VyIHtvYmplY3RUeXBlfS4iLAogICAgICAgIGRlc2NyaXB0aW9uOiAiSGVyZSAncmVwb3J0aW5nVHlwZScgY2FuIGJlICdQREYnIG9yICdDU1YnIiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHJlcG9ydGluZ1R5cGU6IHRoaXMucHJldHR5UHJpbnRSZXBvcnRpbmdUeXBlKCksCiAgICAgICAgICBvYmplY3RUeXBlOiB0aGlzLnByb3BzLm9iamVjdFR5cGUKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybSwgewogICAgICAgIGNsYXNzTmFtZTogImtiblNoYXJlQ29udGV4dE1lbnVfX2ZpbmFsUGFuZWwiLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzaGFyZVJlcG9ydGluZ0Zvcm0iCiAgICAgIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIHJlcG9ydE1zZykpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgdGhpcy5wcm9wcy5vcHRpb25zLCB0aGlzLnJlbmRlckdlbmVyYXRlUmVwb3J0QnV0dG9uKGZhbHNlKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAicyIKICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJ4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50Lmhvd1RvQ2FsbEdlbmVyYXRpb25EZXNjcmlwdGlvbiIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJBbHRlcm5hdGl2ZWx5LCBjb3B5IHRoaXMgUE9TVCBVUkwgdG8gY2FsbCBnZW5lcmF0aW9uIGZyb20gb3V0c2lkZSBLaWJhbmEgb3IgZnJvbSBXYXRjaGVyLiIKICAgICAgfSkpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAicyIKICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ29weSwgewogICAgICAgIHRleHRUb0NvcHk6IHRoaXMuc3RhdGUuYWJzb2x1dGVVcmwsCiAgICAgICAgYW5jaG9yQ2xhc3NOYW1lOiAiZXVpLWRpc3BsYXlCbG9jayIKICAgICAgfSwgZnVuY3Rpb24gKGNvcHkpIHsKICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSwKICAgICAgICAgIG9uQ2xpY2s6IGNvcHksCiAgICAgICAgICBzaXplOiAicyIKICAgICAgICB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ4cGFjay5yZXBvcnRpbmcucGFuZWxDb250ZW50LmNvcHlVcmxCdXR0b25MYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNvcHkgUE9TVCBVUkwiCiAgICAgICAgfSkpOwogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVwb3J0aW5nUGFuZWxDb250ZW50VWk7Cn0oX3JlYWN0Mi5Db21wb25lbnQpOwoKdmFyIFJlcG9ydGluZ1BhbmVsQ29udGVudCA9ICgwLCBfcmVhY3QuaW5qZWN0STE4bikoUmVwb3J0aW5nUGFuZWxDb250ZW50VWkpOwpleHBvcnRzLlJlcG9ydGluZ1BhbmVsQ29udGVudCA9IFJlcG9ydGluZ1BhbmVsQ29udGVudDs="},null]}