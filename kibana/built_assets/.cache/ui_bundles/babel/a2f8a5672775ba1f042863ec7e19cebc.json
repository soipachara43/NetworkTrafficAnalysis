{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/expressions/common/executor/executor.js","dependencies":[{"path":"src/plugins/expressions/common/executor/executor.js","mtime":1589249550819},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5Mih0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eTIob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkV4ZWN1dG9yID0gZXhwb3J0cy5GdW5jdGlvbnNSZWdpc3RyeSA9IGV4cG9ydHMuVHlwZXNSZWdpc3RyeSA9IHZvaWQgMDsKCnZhciBfY29udGFpbmVyID0gcmVxdWlyZSgiLi9jb250YWluZXIiKTsKCnZhciBfZXhwcmVzc2lvbl9mdW5jdGlvbnMgPSByZXF1aXJlKCIuLi9leHByZXNzaW9uX2Z1bmN0aW9ucyIpOwoKdmFyIF9leGVjdXRpb24gPSByZXF1aXJlKCIuLi9leGVjdXRpb24vZXhlY3V0aW9uIik7Cgp2YXIgX2V4cHJlc3Npb25fdHlwZSA9IHJlcXVpcmUoIi4uL2V4cHJlc3Npb25fdHlwZXMvZXhwcmVzc2lvbl90eXBlIik7Cgp2YXIgX2V4cHJlc3Npb25fdHlwZXMgPSByZXF1aXJlKCIuLi9leHByZXNzaW9uX3R5cGVzIik7Cgp2YXIgX3NwZWNzID0gcmVxdWlyZSgiLi4vZXhwcmVzc2lvbl90eXBlcy9zcGVjcyIpOwoKdmFyIF9zcGVjczIgPSByZXF1aXJlKCIuLi9leHByZXNzaW9uX2Z1bmN0aW9ucy9zcGVjcyIpOwoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBUeXBlc1JlZ2lzdHJ5ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVHlwZXNSZWdpc3RyeShleGVjdXRvcikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR5cGVzUmVnaXN0cnkpOwoKICAgIHRoaXMuZXhlY3V0b3IgPSBleGVjdXRvcjsKICB9CgogIF9jcmVhdGVDbGFzcyhUeXBlc1JlZ2lzdHJ5LCBbewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKHR5cGVEZWZpbml0aW9uKSB7CiAgICAgIHRoaXMuZXhlY3V0b3IucmVnaXN0ZXJUeXBlKHR5cGVEZWZpbml0aW9uKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldChpZCkgewogICAgICByZXR1cm4gdGhpcy5leGVjdXRvci5zdGF0ZS5zZWxlY3RvcnMuZ2V0VHlwZShpZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9KUyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KUygpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0b3IuZ2V0VHlwZXMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0FycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnRvSlMoKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVHlwZXNSZWdpc3RyeTsKfSgpOwoKZXhwb3J0cy5UeXBlc1JlZ2lzdHJ5ID0gVHlwZXNSZWdpc3RyeTsKCnZhciBGdW5jdGlvbnNSZWdpc3RyeSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEZ1bmN0aW9uc1JlZ2lzdHJ5KGV4ZWN1dG9yKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnVuY3Rpb25zUmVnaXN0cnkpOwoKICAgIHRoaXMuZXhlY3V0b3IgPSBleGVjdXRvcjsKICB9CgogIF9jcmVhdGVDbGFzcyhGdW5jdGlvbnNSZWdpc3RyeSwgW3sKICAgIGtleTogInJlZ2lzdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlcihmdW5jdGlvbkRlZmluaXRpb24pIHsKICAgICAgdGhpcy5leGVjdXRvci5yZWdpc3RlckZ1bmN0aW9uKGZ1bmN0aW9uRGVmaW5pdGlvbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0b3Iuc3RhdGUuc2VsZWN0b3JzLmdldEZ1bmN0aW9uKGlkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0pTIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTKCkgewogICAgICByZXR1cm4gdGhpcy5leGVjdXRvci5nZXRGdW5jdGlvbnMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0FycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnRvSlMoKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRnVuY3Rpb25zUmVnaXN0cnk7Cn0oKTsKCmV4cG9ydHMuRnVuY3Rpb25zUmVnaXN0cnkgPSBGdW5jdGlvbnNSZWdpc3RyeTsKCnZhciBFeGVjdXRvciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIF9jcmVhdGVDbGFzcyhFeGVjdXRvciwgbnVsbCwgW3sKICAgIGtleTogImNyZWF0ZVdpdGhEZWZhdWx0cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlV2l0aERlZmF1bHRzKHN0YXRlKSB7CiAgICAgIHZhciBleGVjdXRvciA9IG5ldyBFeGVjdXRvcihzdGF0ZSk7CiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX3NwZWNzLnR5cGVTcGVjc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciB0eXBlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBleGVjdXRvci5yZWdpc3RlclR5cGUodHlwZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlOwogICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBfc3BlY3MyLmZ1bmN0aW9uU3BlY3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHsKICAgICAgICAgIHZhciBmdW5jID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgZXhlY3V0b3IucmVnaXN0ZXJGdW5jdGlvbihmdW5jKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZXhlY3V0b3I7CiAgICB9CiAgfV0pOwoKICBmdW5jdGlvbiBFeGVjdXRvcihzdGF0ZSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4ZWN1dG9yKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInN0YXRlIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImZ1bmN0aW9ucyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0eXBlcyIsIHZvaWQgMCk7CgogICAgdGhpcy5zdGF0ZSA9ICgwLCBfY29udGFpbmVyLmNyZWF0ZUV4ZWN1dG9yQ29udGFpbmVyKShzdGF0ZSk7CiAgICB0aGlzLmZ1bmN0aW9ucyA9IG5ldyBGdW5jdGlvbnNSZWdpc3RyeSh0aGlzKTsKICAgIHRoaXMudHlwZXMgPSBuZXcgVHlwZXNSZWdpc3RyeSh0aGlzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhFeGVjdXRvciwgW3sKICAgIGtleTogInJlZ2lzdGVyRnVuY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyRnVuY3Rpb24oZnVuY3Rpb25EZWZpbml0aW9uKSB7CiAgICAgIHZhciBmbiA9IG5ldyBfZXhwcmVzc2lvbl9mdW5jdGlvbnMuRXhwcmVzc2lvbkZ1bmN0aW9uKF90eXBlb2YoZnVuY3Rpb25EZWZpbml0aW9uKSA9PT0gJ29iamVjdCcgPyBmdW5jdGlvbkRlZmluaXRpb24gOiBmdW5jdGlvbkRlZmluaXRpb24oKSk7CiAgICAgIHRoaXMuc3RhdGUudHJhbnNpdGlvbnMuYWRkRnVuY3Rpb24oZm4pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEZ1bmN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmdldCgpLmZ1bmN0aW9uc1tuYW1lXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRGdW5jdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZ1bmN0aW9ucygpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHRoaXMuc3RhdGUuZ2V0KCkuZnVuY3Rpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlclR5cGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyVHlwZSh0eXBlRGVmaW5pdGlvbikgewogICAgICB2YXIgdHlwZSA9IG5ldyBfZXhwcmVzc2lvbl90eXBlLkV4cHJlc3Npb25UeXBlKF90eXBlb2YodHlwZURlZmluaXRpb24pID09PSAnb2JqZWN0JyA/IHR5cGVEZWZpbml0aW9uIDogdHlwZURlZmluaXRpb24oKSk7CiAgICAgIHRoaXMuc3RhdGUudHJhbnNpdGlvbnMuYWRkVHlwZSh0eXBlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRUeXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUeXBlKG5hbWUpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZ2V0KCkudHlwZXNbbmFtZV07CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VHlwZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFR5cGVzKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZS5nZXQoKS50eXBlcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXh0ZW5kQ29udGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kQ29udGV4dChleHRyYUNvbnRleHQpIHsKICAgICAgdGhpcy5zdGF0ZS50cmFuc2l0aW9ucy5leHRlbmRDb250ZXh0KGV4dHJhQ29udGV4dCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW50ZXJwcmV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW50ZXJwcmV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShhc3QsIGlucHV0LCBvcHRpb25zKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSAoMCwgX2V4cHJlc3Npb25fdHlwZXMuZ2V0VHlwZSkoYXN0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSBfY29udGV4dC50MCA9PT0gJ2V4cHJlc3Npb24nID8gMyA6IF9jb250ZXh0LnQwID09PSAnc3RyaW5nJyA/IDYgOiBfY29udGV4dC50MCA9PT0gJ251bWJlcicgPyA2IDogX2NvbnRleHQudDAgPT09ICdudWxsJyA/IDYgOiBfY29udGV4dC50MCA9PT0gJ2Jvb2xlYW4nID8gNiA6IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnByZXRFeHByZXNzaW9uKGFzdCwgaW5wdXQsIG9wdGlvbnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEFTVCBvYmplY3Q6ICIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGFzdCkpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGludGVycHJldChfeCwgX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX2ludGVycHJldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW50ZXJwcmV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW50ZXJwcmV0RXhwcmVzc2lvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ludGVycHJldEV4cHJlc3Npb24gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihhc3QsIGlucHV0LCBvcHRpb25zKSB7CiAgICAgICAgdmFyIGV4ZWN1dGlvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZXhlY3V0aW9uID0gdGhpcy5jcmVhdGVFeGVjdXRpb24oYXN0LCB1bmRlZmluZWQsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgZXhlY3V0aW9uLnN0YXJ0KGlucHV0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRpb24ucmVzdWx0OwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBpbnRlcnByZXRFeHByZXNzaW9uKF94NCwgX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX2ludGVycHJldEV4cHJlc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGludGVycHJldEV4cHJlc3Npb247CiAgICB9KCkKICAgIC8qKgogICAgICogRXhlY3V0ZSBleHByZXNzaW9uIGFuZCByZXR1cm4gcmVzdWx0LgogICAgICoKICAgICAqIEBwYXJhbSBhc3QgRXhwcmVzc2lvbiBBU1Qgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGV4cHJlc3Npb24uCiAgICAgKiBAcGFyYW0gaW5wdXQgSW5pdGlhbCBpbnB1dCB0byB0aGUgZmlyc3QgZXhwcmVzc2lvbiBmdW5jdGlvbi4KICAgICAqIEBwYXJhbSBjb250ZXh0IEV4dHJhIGdsb2JhbCBjb250ZXh0IG9iamVjdCB0aGF0IHdpbGwgYmUgbWVyZ2VkIGludG8gdGhlCiAgICAgKiAgICBleHByZXNzaW9uIGdsb2JhbCBjb250ZXh0IG9iamVjdCB0aGF0IGlzIHByb3ZpZGVkIHRvIGVhY2ggZnVuY3Rpb24gdG8gYWxsb3cgc2lkZS1lZmZlY3RzLgogICAgICovCgogIH0sIHsKICAgIGtleTogInJ1biIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3J1biA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGFzdCwgaW5wdXQsIGNvbnRleHQpIHsKICAgICAgICB2YXIgZXhlY3V0aW9uOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBleGVjdXRpb24gPSB0aGlzLmNyZWF0ZUV4ZWN1dGlvbihhc3QsIGNvbnRleHQpOwogICAgICAgICAgICAgICAgZXhlY3V0aW9uLnN0YXJ0KGlucHV0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRpb24ucmVzdWx0OwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBydW4oX3g3LCBfeDgsIF94OSkgewogICAgICAgIHJldHVybiBfcnVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBydW47CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVFeGVjdXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUV4ZWN1dGlvbihhc3QpIHsKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwoKICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9LAogICAgICAgICAgZGVidWcgPSBfcmVmLmRlYnVnOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBleGVjdXRvcjogdGhpcywKICAgICAgICBjb250ZXh0OiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbnRleHQsIHt9LCBjb250ZXh0KSwKICAgICAgICBkZWJ1ZzogZGVidWcKICAgICAgfTsKICAgICAgaWYgKHR5cGVvZiBhc3QgPT09ICdzdHJpbmcnKSBwYXJhbXMuZXhwcmVzc2lvbiA9IGFzdDtlbHNlIHBhcmFtcy5hc3QgPSBhc3Q7CiAgICAgIHZhciBleGVjdXRpb24gPSBuZXcgX2V4ZWN1dGlvbi5FeGVjdXRpb24ocGFyYW1zKTsKICAgICAgcmV0dXJuIGV4ZWN1dGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb3JrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JrKCkgewogICAgICB2YXIgaW5pdGlhbFN0YXRlID0gdGhpcy5zdGF0ZS5nZXQoKTsKICAgICAgdmFyIGZvcmsgPSBuZXcgRXhlY3V0b3IoaW5pdGlhbFN0YXRlKTsKICAgICAgLyoqCiAgICAgICAqIFN5bmNocm9uaXplIHJlZ2lzdHJ5IHN0YXRlIC0gbWFrZSBhbnkgbmV3IHR5cGVzLCBmdW5jdGlvbnMgYW5kIGNvbnRleHQKICAgICAgICogYWxzbyBhdmFpbGFibGUgaW4gdGhlIGZvcmtlZCBpbnN0YW5jZSBvZiBgRXhlY3V0b3JgLgogICAgICAgKi8KCiAgICAgIHRoaXMuc3RhdGUuc3RhdGUkLnN1YnNjcmliZShmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgdHlwZXMgPSBfcmVmMi50eXBlcywKICAgICAgICAgICAgZnVuY3Rpb25zID0gX3JlZjIuZnVuY3Rpb25zLAogICAgICAgICAgICBjb250ZXh0ID0gX3JlZjIuY29udGV4dDsKICAgICAgICB2YXIgc3RhdGUgPSBmb3JrLnN0YXRlLmdldCgpOwogICAgICAgIGZvcmsuc3RhdGUuc2V0KF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICAgICAgICB0eXBlczogX29iamVjdFNwcmVhZCh7fSwgdHlwZXMsIHt9LCBzdGF0ZS50eXBlcyksCiAgICAgICAgICBmdW5jdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIGZ1bmN0aW9ucywge30sIHN0YXRlLmZ1bmN0aW9ucyksCiAgICAgICAgICBjb250ZXh0OiBfb2JqZWN0U3ByZWFkKHt9LCBjb250ZXh0LCB7fSwgc3RhdGUuY29udGV4dCkKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gZm9yazsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb250ZXh0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RvcnMuZ2V0Q29udGV4dCgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEV4ZWN1dG9yOwp9KCk7CgpleHBvcnRzLkV4ZWN1dG9yID0gRXhlY3V0b3I7"},null]}