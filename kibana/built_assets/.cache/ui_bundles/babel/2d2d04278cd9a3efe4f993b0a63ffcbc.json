{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!x-pack/plugins/ml/common/util/anomaly_utils.js","dependencies":[{"path":"x-pack/plugins/ml/common/util/anomaly_utils.js","mtime":1589249554465},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFNldmVyaXR5ID0gZ2V0U2V2ZXJpdHk7CmV4cG9ydHMuZ2V0U2V2ZXJpdHlUeXBlID0gZ2V0U2V2ZXJpdHlUeXBlOwpleHBvcnRzLmdldFNldmVyaXR5V2l0aExvdyA9IGdldFNldmVyaXR5V2l0aExvdzsKZXhwb3J0cy5nZXRTZXZlcml0eUNvbG9yID0gZ2V0U2V2ZXJpdHlDb2xvcjsKZXhwb3J0cy5nZXRNdWx0aUJ1Y2tldEltcGFjdExhYmVsID0gZ2V0TXVsdGlCdWNrZXRJbXBhY3RMYWJlbDsKZXhwb3J0cy5nZXRFbnRpdHlGaWVsZE5hbWUgPSBnZXRFbnRpdHlGaWVsZE5hbWU7CmV4cG9ydHMuZ2V0RW50aXR5RmllbGRWYWx1ZSA9IGdldEVudGl0eUZpZWxkVmFsdWU7CmV4cG9ydHMuZ2V0RW50aXR5RmllbGRMaXN0ID0gZ2V0RW50aXR5RmllbGRMaXN0OwpleHBvcnRzLnNob3dBY3R1YWxGb3JGdW5jdGlvbiA9IHNob3dBY3R1YWxGb3JGdW5jdGlvbjsKZXhwb3J0cy5zaG93VHlwaWNhbEZvckZ1bmN0aW9uID0gc2hvd1R5cGljYWxGb3JGdW5jdGlvbjsKZXhwb3J0cy5pc1J1bGVTdXBwb3J0ZWQgPSBpc1J1bGVTdXBwb3J0ZWQ7CmV4cG9ydHMuYWdncmVnYXRpb25UeXBlVHJhbnNmb3JtID0gdm9pZCAwOwoKdmFyIF9pMThuID0gcmVxdWlyZSgiQGtibi9pMThuIik7Cgp2YXIgX2RldGVjdG9yX3J1bGUgPSByZXF1aXJlKCIuLi9jb25zdGFudHMvZGV0ZWN0b3JfcnVsZSIpOwoKdmFyIF9tdWx0aV9idWNrZXRfaW1wYWN0ID0gcmVxdWlyZSgiLi4vY29uc3RhbnRzL211bHRpX2J1Y2tldF9pbXBhY3QiKTsKCnZhciBfYW5vbWFsaWVzID0gcmVxdWlyZSgiLi4vY29uc3RhbnRzL2Fub21hbGllcyIpOwoKLyoKICogQ29weXJpZ2h0IEVsYXN0aWNzZWFyY2ggQi5WLiBhbmQvb3IgbGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gTGljZW5zZWQgdW5kZXIgdGhlIEVsYXN0aWMgTGljZW5zZTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBFbGFzdGljIExpY2Vuc2UuCiAqLwoKLyoKICogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBvcGVyYXRpb25zIGNvbW1vbmx5IHBlcmZvcm1lZCBvbiBhbm9tYWx5IGRhdGEKICogdG8gZXh0cmFjdCBpbmZvcm1hdGlvbiBmb3IgZGlzcGxheSBpbiBkYXNoYm9hcmRzLgogKi8KLy8gTGlzdCBvZiBmdW5jdGlvbiBkZXNjcmlwdGlvbnMgZm9yIHdoaWNoIGFjdHVhbCB2YWx1ZXMgZnJvbSByZWNvcmQgbGV2ZWwgcmVzdWx0cyBzaG91bGQgYmUgZGlzcGxheWVkLgp2YXIgRElTUExBWV9BQ1RVQUxfRlVOQ1RJT05TID0gWydjb3VudCcsICdkaXN0aW5jdF9jb3VudCcsICdsYXRfbG9uZycsICdtZWFuJywgJ21heCcsICdtaW4nLCAnc3VtJywgJ21lZGlhbicsICd2YXJwJywgJ2luZm9fY29udGVudCcsICd0aW1lJ107IC8vIExpc3Qgb2YgZnVuY3Rpb24gZGVzY3JpcHRpb25zIGZvciB3aGljaCB0eXBpY2FsIHZhbHVlcyBmcm9tIHJlY29yZCBsZXZlbCByZXN1bHRzIHNob3VsZCBiZSBkaXNwbGF5ZWQuCgp2YXIgRElTUExBWV9UWVBJQ0FMX0ZVTkNUSU9OUyA9IFsnY291bnQnLCAnZGlzdGluY3RfY291bnQnLCAnbGF0X2xvbmcnLCAnbWVhbicsICdtYXgnLCAnbWluJywgJ3N1bScsICdtZWRpYW4nLCAndmFycCcsICdpbmZvX2NvbnRlbnQnLCAndGltZSddOwp2YXIgc2V2ZXJpdHlUeXBlczsKCmZ1bmN0aW9uIGdldFNldmVyaXR5VHlwZXMoKSB7CiAgaWYgKHNldmVyaXR5VHlwZXMpIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzOwogIH0KCiAgcmV0dXJuIHNldmVyaXR5VHlwZXMgPSB7CiAgICBjcml0aWNhbDogewogICAgICBpZDogX2Fub21hbGllcy5BTk9NQUxZX1NFVkVSSVRZLkNSSVRJQ0FMLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3hwYWNrLm1sLmFub21hbHlVdGlscy5zZXZlcml0eS5jcml0aWNhbExhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnY3JpdGljYWwnCiAgICAgIH0pCiAgICB9LAogICAgbWFqb3I6IHsKICAgICAgaWQ6IF9hbm9tYWxpZXMuQU5PTUFMWV9TRVZFUklUWS5NQUpPUiwKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5hbm9tYWx5VXRpbHMuc2V2ZXJpdHkubWFqb3JMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ21ham9yJwogICAgICB9KQogICAgfSwKICAgIG1pbm9yOiB7CiAgICAgIGlkOiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuTUlOT1IsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuYW5vbWFseVV0aWxzLnNldmVyaXR5Lm1pbm9yTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdtaW5vcicKICAgICAgfSkKICAgIH0sCiAgICB3YXJuaW5nOiB7CiAgICAgIGlkOiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuV0FSTklORywKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5hbm9tYWx5VXRpbHMuc2V2ZXJpdHkud2FybmluZ0xhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnd2FybmluZycKICAgICAgfSkKICAgIH0sCiAgICB1bmtub3duOiB7CiAgICAgIGlkOiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuVU5LTk9XTiwKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5hbm9tYWx5VXRpbHMuc2V2ZXJpdHkudW5rbm93bkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAndW5rbm93bicKICAgICAgfSkKICAgIH0sCiAgICBsb3c6IHsKICAgICAgaWQ6IF9hbm9tYWxpZXMuQU5PTUFMWV9TRVZFUklUWS5MT1csCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuYW5vbWFseVV0aWxzLnNldmVyaXR5V2l0aExvdy5sb3dMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ2xvdycKICAgICAgfSkKICAgIH0KICB9Owp9IC8vIFJldHVybnMgYSBzZXZlcml0eSBsYWJlbCAob25lIG9mIGNyaXRpY2FsLCBtYWpvciwgbWlub3IsIHdhcm5pbmcgb3IgdW5rbm93bikKLy8gZm9yIHRoZSBzdXBwbGllZCBub3JtYWxpemVkIGFub21hbHkgc2NvcmUgKGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxMDApLgoKCmZ1bmN0aW9uIGdldFNldmVyaXR5KG5vcm1hbGl6ZWRTY29yZSkgewogIHZhciBzZXZlcml0eVR5cGVzTGlzdCA9IGdldFNldmVyaXR5VHlwZXMoKTsKCiAgaWYgKG5vcm1hbGl6ZWRTY29yZSA+PSBfYW5vbWFsaWVzLkFOT01BTFlfVEhSRVNIT0xELkNSSVRJQ0FMKSB7CiAgICByZXR1cm4gc2V2ZXJpdHlUeXBlc0xpc3QuY3JpdGljYWw7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gX2Fub21hbGllcy5BTk9NQUxZX1RIUkVTSE9MRC5NQUpPUikgewogICAgcmV0dXJuIHNldmVyaXR5VHlwZXNMaXN0Lm1ham9yOwogIH0gZWxzZSBpZiAobm9ybWFsaXplZFNjb3JlID49IF9hbm9tYWxpZXMuQU5PTUFMWV9USFJFU0hPTEQuTUlOT1IpIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzTGlzdC5taW5vcjsKICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRTY29yZSA+PSBfYW5vbWFsaWVzLkFOT01BTFlfVEhSRVNIT0xELkxPVykgewogICAgcmV0dXJuIHNldmVyaXR5VHlwZXNMaXN0Lndhcm5pbmc7CiAgfSBlbHNlIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzTGlzdC51bmtub3duOwogIH0KfQoKZnVuY3Rpb24gZ2V0U2V2ZXJpdHlUeXBlKG5vcm1hbGl6ZWRTY29yZSkgewogIGlmIChub3JtYWxpemVkU2NvcmUgPj0gNzUpIHsKICAgIHJldHVybiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuQ1JJVElDQUw7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gNTApIHsKICAgIHJldHVybiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuTUFKT1I7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gMjUpIHsKICAgIHJldHVybiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuTUlOT1I7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gMykgewogICAgcmV0dXJuIF9hbm9tYWxpZXMuQU5PTUFMWV9TRVZFUklUWS5XQVJOSU5HOwogIH0gZWxzZSBpZiAobm9ybWFsaXplZFNjb3JlID49IDApIHsKICAgIHJldHVybiBfYW5vbWFsaWVzLkFOT01BTFlfU0VWRVJJVFkuTE9XOwogIH0gZWxzZSB7CiAgICByZXR1cm4gX2Fub21hbGllcy5BTk9NQUxZX1NFVkVSSVRZLlVOS05PV047CiAgfQp9IC8vIFJldHVybnMgYSBzZXZlcml0eSBsYWJlbCAob25lIG9mIGNyaXRpY2FsLCBtYWpvciwgbWlub3IsIHdhcm5pbmcsIGxvdyBvciB1bmtub3duKQovLyBmb3IgdGhlIHN1cHBsaWVkIG5vcm1hbGl6ZWQgYW5vbWFseSBzY29yZSAoYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEwMCksIHdoZXJlIHNjb3JlcwovLyBsZXNzIHRoYW4gMyBhcmUgYXNzaWduZWQgYSBzZXZlcml0eSBvZiAnbG93Jy4KCgpmdW5jdGlvbiBnZXRTZXZlcml0eVdpdGhMb3cobm9ybWFsaXplZFNjb3JlKSB7CiAgdmFyIHNldmVyaXR5VHlwZXNMaXN0ID0gZ2V0U2V2ZXJpdHlUeXBlcygpOwoKICBpZiAobm9ybWFsaXplZFNjb3JlID49IF9hbm9tYWxpZXMuQU5PTUFMWV9USFJFU0hPTEQuQ1JJVElDQUwpIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzTGlzdC5jcml0aWNhbDsKICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRTY29yZSA+PSBfYW5vbWFsaWVzLkFOT01BTFlfVEhSRVNIT0xELk1BSk9SKSB7CiAgICByZXR1cm4gc2V2ZXJpdHlUeXBlc0xpc3QubWFqb3I7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gX2Fub21hbGllcy5BTk9NQUxZX1RIUkVTSE9MRC5NSU5PUikgewogICAgcmV0dXJuIHNldmVyaXR5VHlwZXNMaXN0Lm1pbm9yOwogIH0gZWxzZSBpZiAobm9ybWFsaXplZFNjb3JlID49IF9hbm9tYWxpZXMuQU5PTUFMWV9USFJFU0hPTEQuV0FSTklORykgewogICAgcmV0dXJuIHNldmVyaXR5VHlwZXNMaXN0Lndhcm5pbmc7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gX2Fub21hbGllcy5BTk9NQUxZX1RIUkVTSE9MRC5MT1cpIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzTGlzdC5sb3c7CiAgfSBlbHNlIHsKICAgIHJldHVybiBzZXZlcml0eVR5cGVzTGlzdC51bmtub3duOwogIH0KfSAvLyBSZXR1cm5zIGEgc2V2ZXJpdHkgUkdCIGNvbG9yIChvbmUgb2YgY3JpdGljYWwsIG1ham9yLCBtaW5vciwgd2FybmluZywgbG93X3dhcm5pbmcgb3IgdW5rbm93bikKLy8gZm9yIHRoZSBzdXBwbGllZCBub3JtYWxpemVkIGFub21hbHkgc2NvcmUgKGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxMDApLgoKCmZ1bmN0aW9uIGdldFNldmVyaXR5Q29sb3Iobm9ybWFsaXplZFNjb3JlKSB7CiAgaWYgKG5vcm1hbGl6ZWRTY29yZSA+PSBfYW5vbWFsaWVzLkFOT01BTFlfVEhSRVNIT0xELkNSSVRJQ0FMKSB7CiAgICByZXR1cm4gJyNmZTUwNTAnOwogIH0gZWxzZSBpZiAobm9ybWFsaXplZFNjb3JlID49IF9hbm9tYWxpZXMuQU5PTUFMWV9USFJFU0hPTEQuTUFKT1IpIHsKICAgIHJldHVybiAnI2ZiYTc0MCc7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gX2Fub21hbGllcy5BTk9NQUxZX1RIUkVTSE9MRC5NSU5PUikgewogICAgcmV0dXJuICcjZmRlYzI1JzsKICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRTY29yZSA+PSBfYW5vbWFsaWVzLkFOT01BTFlfVEhSRVNIT0xELldBUk5JTkcpIHsKICAgIHJldHVybiAnIzhiYzhmYic7CiAgfSBlbHNlIGlmIChub3JtYWxpemVkU2NvcmUgPj0gX2Fub21hbGllcy5BTk9NQUxZX1RIUkVTSE9MRC5MT1cpIHsKICAgIHJldHVybiAnI2QyZTlmNyc7CiAgfSBlbHNlIHsKICAgIHJldHVybiAnI2ZmZmZmZic7CiAgfQp9IC8vIFJldHVybnMgYSBsYWJlbCB0byB1c2UgZm9yIHRoZSBtdWx0aS1idWNrZXQgaW1wYWN0IG9mIGFuIGFub21hbHkKLy8gYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZSBvZiB0aGUgbXVsdGlfYnVja2V0X2ltcGFjdCBmaWVsZCBvZiBhIHJlY29yZCwKLy8gd2hpY2ggcmFuZ2VzIGZyb20gLTUgdG8gKzUuCgoKZnVuY3Rpb24gZ2V0TXVsdGlCdWNrZXRJbXBhY3RMYWJlbChtdWx0aUJ1Y2tldEltcGFjdCkgewogIGlmIChtdWx0aUJ1Y2tldEltcGFjdCA+PSBfbXVsdGlfYnVja2V0X2ltcGFjdC5NVUxUSV9CVUNLRVRfSU1QQUNULkhJR0gpIHsKICAgIHJldHVybiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuYW5vbWFseVV0aWxzLm11bHRpQnVja2V0SW1wYWN0LmhpZ2hMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdoaWdoJwogICAgfSk7CiAgfSBlbHNlIGlmIChtdWx0aUJ1Y2tldEltcGFjdCA+PSBfbXVsdGlfYnVja2V0X2ltcGFjdC5NVUxUSV9CVUNLRVRfSU1QQUNULk1FRElVTSkgewogICAgcmV0dXJuIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5hbm9tYWx5VXRpbHMubXVsdGlCdWNrZXRJbXBhY3QubWVkaXVtTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnbWVkaXVtJwogICAgfSk7CiAgfSBlbHNlIGlmIChtdWx0aUJ1Y2tldEltcGFjdCA+PSBfbXVsdGlfYnVja2V0X2ltcGFjdC5NVUxUSV9CVUNLRVRfSU1QQUNULkxPVykgewogICAgcmV0dXJuIF9pMThuLmkxOG4udHJhbnNsYXRlKCd4cGFjay5tbC5hbm9tYWx5VXRpbHMubXVsdGlCdWNrZXRJbXBhY3QubG93TGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnbG93JwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgneHBhY2subWwuYW5vbWFseVV0aWxzLm11bHRpQnVja2V0SW1wYWN0Lm5vbmVMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdub25lJwogICAgfSk7CiAgfQp9IC8vIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIHVzZSBhcyB0aGUgZW50aXR5IG5hbWUgZnJvbSB0aGUgc291cmNlIHJlY29yZAovLyBvYnRhaW5lZCBmcm9tIEVsYXN0aWNzZWFyY2guIFRoZSBmdW5jdGlvbiBsb29rcyBmaXJzdCBmb3IgYSBieV9maWVsZCwgdGhlbiBvdmVyX2ZpZWxkLAovLyB0aGVuIHBhcnRpdGlvbl9maWVsZCwgcmV0dXJuaW5nIHVuZGVmaW5lZCBpZiBub25lIG9mIHRoZXNlIGZpZWxkcyBhcmUgcHJlc2VudC4KCgpmdW5jdGlvbiBnZXRFbnRpdHlGaWVsZE5hbWUocmVjb3JkKSB7CiAgLy8gQW5hbHlzZXMgd2l0aCBieSBhbmQgb3ZlciBmaWVsZHMsIHdpbGwgaGF2ZSBhIHRvcC1sZXZlbCBieV9maWVsZF9uYW1lLCBidXQKICAvLyB0aGUgYnlfZmllbGRfdmFsdWUocykgd2lsbCBiZSBpbiB0aGUgbmVzdGVkIGNhdXNlcyBhcnJheS4KICBpZiAocmVjb3JkLmJ5X2ZpZWxkX25hbWUgIT09IHVuZGVmaW5lZCAmJiByZWNvcmQuYnlfZmllbGRfdmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgcmV0dXJuIHJlY29yZC5ieV9maWVsZF9uYW1lOwogIH0KCiAgaWYgKHJlY29yZC5vdmVyX2ZpZWxkX25hbWUgIT09IHVuZGVmaW5lZCkgewogICAgcmV0dXJuIHJlY29yZC5vdmVyX2ZpZWxkX25hbWU7CiAgfQoKICBpZiAocmVjb3JkLnBhcnRpdGlvbl9maWVsZF9uYW1lICE9PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiByZWNvcmQucGFydGl0aW9uX2ZpZWxkX25hbWU7CiAgfQoKICByZXR1cm4gdW5kZWZpbmVkOwp9IC8vIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZCB0byB1c2UgYXMgdGhlIGVudGl0eSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgcmVjb3JkCi8vIG9idGFpbmVkIGZyb20gRWxhc3RpY3NlYXJjaC4gVGhlIGZ1bmN0aW9uIGxvb2tzIGZpcnN0IGZvciBhIGJ5X2ZpZWxkLCB0aGVuIG92ZXJfZmllbGQsCi8vIHRoZW4gcGFydGl0aW9uX2ZpZWxkLCByZXR1cm5pbmcgdW5kZWZpbmVkIGlmIG5vbmUgb2YgdGhlc2UgZmllbGRzIGFyZSBwcmVzZW50LgoKCmZ1bmN0aW9uIGdldEVudGl0eUZpZWxkVmFsdWUocmVjb3JkKSB7CiAgaWYgKHJlY29yZC5ieV9maWVsZF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICByZXR1cm4gcmVjb3JkLmJ5X2ZpZWxkX3ZhbHVlOwogIH0KCiAgaWYgKHJlY29yZC5vdmVyX2ZpZWxkX3ZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiByZWNvcmQub3Zlcl9maWVsZF92YWx1ZTsKICB9CgogIGlmIChyZWNvcmQucGFydGl0aW9uX2ZpZWxkX3ZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiByZWNvcmQucGFydGl0aW9uX2ZpZWxkX3ZhbHVlOwogIH0KCiAgcmV0dXJuIHVuZGVmaW5lZDsKfSAvLyBSZXR1cm5zIHRoZSBsaXN0IG9mIHBhcnRpdGlvbmluZyBlbnRpdHkgZmllbGRzIGZvciB0aGUgc291cmNlIHJlY29yZCBhcyBhIGxpc3QKLy8gb2Ygb2JqZWN0cyBpbiB0aGUgZm9ybSB7IGZpZWxkTmFtZTogYWlybGluZSwgZmllbGRWYWx1ZTogQUFMLCBmaWVsZFR5cGU6IHBhcnRpdGlvbiB9CgoKZnVuY3Rpb24gZ2V0RW50aXR5RmllbGRMaXN0KHJlY29yZCkgewogIHZhciBlbnRpdHlGaWVsZHMgPSBbXTsKCiAgaWYgKHJlY29yZC5wYXJ0aXRpb25fZmllbGRfbmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICBlbnRpdHlGaWVsZHMucHVzaCh7CiAgICAgIGZpZWxkTmFtZTogcmVjb3JkLnBhcnRpdGlvbl9maWVsZF9uYW1lLAogICAgICBmaWVsZFZhbHVlOiByZWNvcmQucGFydGl0aW9uX2ZpZWxkX3ZhbHVlLAogICAgICBmaWVsZFR5cGU6ICdwYXJ0aXRpb24nCiAgICB9KTsKICB9CgogIGlmIChyZWNvcmQub3Zlcl9maWVsZF9uYW1lICE9PSB1bmRlZmluZWQpIHsKICAgIGVudGl0eUZpZWxkcy5wdXNoKHsKICAgICAgZmllbGROYW1lOiByZWNvcmQub3Zlcl9maWVsZF9uYW1lLAogICAgICBmaWVsZFZhbHVlOiByZWNvcmQub3Zlcl9maWVsZF92YWx1ZSwKICAgICAgZmllbGRUeXBlOiAnb3ZlcicKICAgIH0pOwogIH0gLy8gRm9yIGpvYnMgd2l0aCBieSBhbmQgb3ZlciBmaWVsZHMsIGRvbid0IGFkZCB0aGUgJ2J5JyBmaWVsZCBhcyB0aGlzCiAgLy8gZmllbGQgd2lsbCBvbmx5IGJlIGFkZGVkIHRvIHRoZSB0b3AtbGV2ZWwgZmllbGRzIGZvciByZWNvcmQgdHlwZSByZXN1bHRzCiAgLy8gaWYgaXQgYWxzbyBhbiBpbmZsdWVuY2VyIG92ZXIgdGhlIGJ1Y2tldC4KCgogIGlmIChyZWNvcmQuYnlfZmllbGRfbmFtZSAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5vdmVyX2ZpZWxkX25hbWUgPT09IHVuZGVmaW5lZCkgewogICAgZW50aXR5RmllbGRzLnB1c2goewogICAgICBmaWVsZE5hbWU6IHJlY29yZC5ieV9maWVsZF9uYW1lLAogICAgICBmaWVsZFZhbHVlOiByZWNvcmQuYnlfZmllbGRfdmFsdWUsCiAgICAgIGZpZWxkVHlwZTogJ2J5JwogICAgfSk7CiAgfQoKICByZXR1cm4gZW50aXR5RmllbGRzOwp9IC8vIFJldHVybnMgd2hldGhlciBhY3R1YWwgdmFsdWVzIHNob3VsZCBiZSBkaXNwbGF5ZWQgZm9yIGEgcmVjb3JkIHdpdGggdGhlIHNwZWNpZmllZCBmdW5jdGlvbiBkZXNjcmlwdGlvbi4KLy8gTm90ZSB0aGF0IHRoZSAnZnVuY3Rpb24nIGZpZWxkIGluIGEgcmVjb3JkIGNvbnRhaW5zIHdoYXQgdGhlIHVzZXIgZW50ZXJlZCBlLmcuICdoaWdoX2NvdW50JywKLy8gd2hlcmVhcyB0aGUgJ2Z1bmN0aW9uX2Rlc2NyaXB0aW9uJyBmaWVsZCBob2xkcyBhIE1MLWJ1aWx0IGRpc3BsYXkgaGludCBmb3IgZnVuY3Rpb24gZS5nLiAnY291bnQnLgoKCmZ1bmN0aW9uIHNob3dBY3R1YWxGb3JGdW5jdGlvbihmdW5jdGlvbkRlc2NyaXB0aW9uKSB7CiAgcmV0dXJuIERJU1BMQVlfQUNUVUFMX0ZVTkNUSU9OUy5pbmRleE9mKGZ1bmN0aW9uRGVzY3JpcHRpb24pID4gLTE7Cn0gLy8gUmV0dXJucyB3aGV0aGVyIHR5cGljYWwgdmFsdWVzIHNob3VsZCBiZSBkaXNwbGF5ZWQgZm9yIGEgcmVjb3JkIHdpdGggdGhlIHNwZWNpZmllZCBmdW5jdGlvbiBkZXNjcmlwdGlvbi4KLy8gTm90ZSB0aGF0IHRoZSAnZnVuY3Rpb24nIGZpZWxkIGluIGEgcmVjb3JkIGNvbnRhaW5zIHdoYXQgdGhlIHVzZXIgZW50ZXJlZCBlLmcuICdoaWdoX2NvdW50JywKLy8gd2hlcmVhcyB0aGUgJ2Z1bmN0aW9uX2Rlc2NyaXB0aW9uJyBmaWVsZCBob2xkcyBhIE1MLWJ1aWx0IGRpc3BsYXkgaGludCBmb3IgZnVuY3Rpb24gZS5nLiAnY291bnQnLgoKCmZ1bmN0aW9uIHNob3dUeXBpY2FsRm9yRnVuY3Rpb24oZnVuY3Rpb25EZXNjcmlwdGlvbikgewogIHJldHVybiBESVNQTEFZX1RZUElDQUxfRlVOQ1RJT05TLmluZGV4T2YoZnVuY3Rpb25EZXNjcmlwdGlvbikgPiAtMTsKfSAvLyBSZXR1cm5zIHdoZXRoZXIgYSBydWxlIGNhbiBiZSBjb25maWd1cmVkIGFnYWluc3QgdGhlIHNwZWNpZmllZCBhbm9tYWx5LgoKCmZ1bmN0aW9uIGlzUnVsZVN1cHBvcnRlZChyZWNvcmQpIHsKICAvLyBBIHJ1bGUgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBhIG51bWVyaWMgY29uZGl0aW9uIGlmIHRoZSBmdW5jdGlvbiBzdXBwb3J0cyBpdCwKICAvLyBhbmQvb3Igd2l0aCBzY29wZSBpZiB0aGVyZSBpcyBhIHBhcnRpdGlvbmluZyBmaWVsZHMuCiAgcmV0dXJuIF9kZXRlY3Rvcl9ydWxlLkNPTkRJVElPTlNfTk9UX1NVUFBPUlRFRF9GVU5DVElPTlMuaW5kZXhPZihyZWNvcmQuZnVuY3Rpb24pID09PSAtMSB8fCBnZXRFbnRpdHlGaWVsZE5hbWUocmVjb3JkKSAhPT0gdW5kZWZpbmVkOwp9IC8vIFR3byBmdW5jdGlvbnMgZm9yIGNvbnZlcnRpbmcgYWdncmVnYXRpb24gdHlwZSBuYW1lcy4KLy8gTUwgYW5kIEVTIHVzZSBkaWZmZXJlbnQgbmFtZXMgZm9yIHRoZSBzYW1lIGZ1bmN0aW9uLgovLyBQb3NzaWJsZSB2YWx1ZXMgZm9yIE1MIGFnZ3JlZ2F0aW9uIHR5cGUgYXJlIChkZWZpbmVkIGluIGxpYi9tb2RlbC9DQW5vbWFseURldGVjdG9yLmNjKToKLy8gICAgY291bnQKLy8gICAgZGlzdGluY3RfY291bnQKLy8gICAgcmFyZQovLyAgICBpbmZvX2NvbnRlbnQKLy8gICAgbWVhbgovLyAgICBtZWRpYW4KLy8gICAgbWluCi8vICAgIG1heAovLyAgICB2YXJwCi8vICAgIHN1bQovLyAgICBsYXRfbG9uZwovLyAgICB0aW1lCi8vIFRoZSBpbnB1dCB0byB0b0VTIGFuZCB0aGUgb3V0cHV0IGZyb20gdG9NTCBjb3JyZXNwb25kIHRvIHRoZSB2YWx1ZSBvZiB0aGUKLy8gZnVuY3Rpb25fZGVzY3JpcHRpb24gZmllbGQgb2YgYW5vbWFseSByZWNvcmRzLgoKCnZhciBhZ2dyZWdhdGlvblR5cGVUcmFuc2Zvcm0gPSB7CiAgdG9FUzogZnVuY3Rpb24gdG9FUyhvbGRBZ2dUeXBlKSB7CiAgICB2YXIgbmV3QWdnVHlwZSA9IG9sZEFnZ1R5cGU7CgogICAgaWYgKG5ld0FnZ1R5cGUgPT09ICdtZWFuJykgewogICAgICBuZXdBZ2dUeXBlID0gJ2F2Zyc7CiAgICB9IGVsc2UgaWYgKG5ld0FnZ1R5cGUgPT09ICdkaXN0aW5jdF9jb3VudCcpIHsKICAgICAgbmV3QWdnVHlwZSA9ICdjYXJkaW5hbGl0eSc7CiAgICB9IGVsc2UgaWYgKG5ld0FnZ1R5cGUgPT09ICdtZWRpYW4nKSB7CiAgICAgIG5ld0FnZ1R5cGUgPSAncGVyY2VudGlsZXMnOwogICAgfQoKICAgIHJldHVybiBuZXdBZ2dUeXBlOwogIH0sCiAgdG9NTDogZnVuY3Rpb24gdG9NTChvbGRBZ2dUeXBlKSB7CiAgICB2YXIgbmV3QWdnVHlwZSA9IG9sZEFnZ1R5cGU7CgogICAgaWYgKG5ld0FnZ1R5cGUgPT09ICdhdmcnKSB7CiAgICAgIG5ld0FnZ1R5cGUgPSAnbWVhbic7CiAgICB9IGVsc2UgaWYgKG5ld0FnZ1R5cGUgPT09ICdjYXJkaW5hbGl0eScpIHsKICAgICAgbmV3QWdnVHlwZSA9ICdkaXN0aW5jdF9jb3VudCc7CiAgICB9IGVsc2UgaWYgKG5ld0FnZ1R5cGUgPT09ICdwZXJjZW50aWxlcycpIHsKICAgICAgbmV3QWdnVHlwZSA9ICdtZWRpYW4nOwogICAgfQoKICAgIHJldHVybiBuZXdBZ2dUeXBlOwogIH0KfTsKZXhwb3J0cy5hZ2dyZWdhdGlvblR5cGVUcmFuc2Zvcm0gPSBhZ2dyZWdhdGlvblR5cGVUcmFuc2Zvcm07"},null]}