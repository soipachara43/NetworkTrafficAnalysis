{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/data/public/ui/saved_query_form/save_query_form.js","dependencies":[{"path":"src/plugins/data/public/ui/saved_query_form/save_query_form.js","mtime":1589249550691},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1589249605183},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1589249608558},{"path":"node_modules/babel-loader/lib/index.js","mtime":1589249591025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNhdmVRdWVyeUZvcm0gPSBTYXZlUXVlcnlGb3JtOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogIHRyeSB7CiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZWplY3QoZXJyb3IpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGluZm8uZG9uZSkgewogICAgcmVzb2x2ZSh2YWx1ZSk7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsKICB9Cn0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBhcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOwoKICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOwogICAgICB9CgogICAgICBfbmV4dCh1bmRlZmluZWQpOwogICAgfSk7CiAgfTsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICB2YXIgX2FyciA9IFtdOwogIHZhciBfbiA9IHRydWU7CiAgdmFyIF9kID0gZmFsc2U7CiAgdmFyIF9lID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICBfYXJyLnB1c2goX3MudmFsdWUpOwoKICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2QgPSB0cnVlOwogICAgX2UgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgIH0KICB9CgogIHJldHVybiBfYXJyOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gU2F2ZVF1ZXJ5Rm9ybShfcmVmKSB7CiAgdmFyIHNhdmVkUXVlcnkgPSBfcmVmLnNhdmVkUXVlcnksCiAgICAgIHNhdmVkUXVlcnlTZXJ2aWNlID0gX3JlZi5zYXZlZFF1ZXJ5U2VydmljZSwKICAgICAgb25TYXZlID0gX3JlZi5vblNhdmUsCiAgICAgIG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2UsCiAgICAgIF9yZWYkc2hvd0ZpbHRlck9wdGlvbiA9IF9yZWYuc2hvd0ZpbHRlck9wdGlvbiwKICAgICAgc2hvd0ZpbHRlck9wdGlvbiA9IF9yZWYkc2hvd0ZpbHRlck9wdGlvbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkc2hvd0ZpbHRlck9wdGlvbiwKICAgICAgX3JlZiRzaG93VGltZUZpbHRlck9wID0gX3JlZi5zaG93VGltZUZpbHRlck9wdGlvbiwKICAgICAgc2hvd1RpbWVGaWx0ZXJPcHRpb24gPSBfcmVmJHNob3dUaW1lRmlsdGVyT3AgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHNob3dUaW1lRmlsdGVyT3A7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShzYXZlZFF1ZXJ5ID8gc2F2ZWRRdWVyeS50aXRsZSA6ICcnKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHRpdGxlID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0VGl0bGUgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHNhdmVkUXVlcnkgPyBzYXZlZFF1ZXJ5LmRlc2NyaXB0aW9uIDogJycpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGRlc2NyaXB0aW9uID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0RGVzY3JpcHRpb24gPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBzYXZlZFF1ZXJpZXMgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTYXZlZFF1ZXJpZXMgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHNhdmVkUXVlcnkgPyAhIXNhdmVkUXVlcnkuZmlsdGVycyA6IHRydWUpLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIHNob3VsZEluY2x1ZGVGaWx0ZXJzID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0U2hvdWxkSW5jbHVkZUZpbHRlcnMgPSBfdXNlU3RhdGU4WzFdOyAvLyBEZWZhdWx0cyB0byBmYWxzZSBiZWNhdXNlIHNhdmVkIHF1ZXJpZXMgYXJlIG1lYW50IHRvIGJlIGFzIHBvcnRhYmxlIGFzIHBvc3NpYmxlIGFuZCBsb2FkaW5nCiAgLy8gYSBzYXZlZCBxdWVyeSB3aXRoIGEgdGltZSBmaWx0ZXIgd2lsbCBvdmVycmlkZSB3aGF0ZXZlciB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgZ2xvYmFsIHRpbWVwaWNrZXIKICAvLyBpcy4gV2UgZXhwZWN0IHRoaXMgb3B0aW9uIHRvIGJlIHVzZWQgcmFyZWx5IGFuZCBvbmx5IHdoZW4gdGhlIHVzZXIga25vd3MgdGhleSB3YW50IHRoaXMgYmVoYXZpb3IuCgoKICB2YXIgX3VzZVN0YXRlOSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKHNhdmVkUXVlcnkgPyAhIXNhdmVkUXVlcnkudGltZWZpbHRlciA6IGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgc2hvdWxkSW5jbHVkZVRpbWVmaWx0ZXIgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0SW5jbHVkZVRpbWVmaWx0ZXIgPSBfdXNlU3RhdGUxMFsxXTsKCiAgdmFyIF91c2VTdGF0ZTExID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoW10pLAogICAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSwKICAgICAgZm9ybUVycm9ycyA9IF91c2VTdGF0ZTEyWzBdLAogICAgICBzZXRGb3JtRXJyb3JzID0gX3VzZVN0YXRlMTJbMV07CgogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICB2YXIgZmV0Y2hRdWVyaWVzID0KICAgIC8qI19fUFVSRV9fKi8KICAgIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYWxsU2F2ZWRRdWVyaWVzLCBzb3J0ZWRBbGxTYXZlZFF1ZXJpZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRRdWVyeVNlcnZpY2UuZ2V0QWxsU2F2ZWRRdWVyaWVzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGFsbFNhdmVkUXVlcmllcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBzb3J0ZWRBbGxTYXZlZFF1ZXJpZXMgPSAoMCwgX2xvZGFzaC5zb3J0QnkpKGFsbFNhdmVkUXVlcmllcywgJ2F0dHJpYnV0ZXMudGl0bGUnKTsKICAgICAgICAgICAgICAgIHNldFNhdmVkUXVlcmllcyhzb3J0ZWRBbGxTYXZlZFF1ZXJpZXMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoUXVlcmllcygpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBmZXRjaFF1ZXJpZXMoKTsKICB9LCBbc2F2ZWRRdWVyeVNlcnZpY2VdKTsKCiAgdmFyIHNhdmVkUXVlcnlEZXNjcmlwdGlvblRleHQgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlEZXNjcmlwdGlvblRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUgcXVlcnkgdGV4dCBhbmQgZmlsdGVycyB0aGF0IHlvdSB3YW50IHRvIHVzZSBhZ2Fpbi4nCiAgfSk7CgogIHZhciB0aXRsZUNvbmZsaWN0RXJyb3JUZXh0ID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5Rm9ybS50aXRsZUNvbmZsaWN0VGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnTmFtZSBjb25mbGljdHMgd2l0aCBhbiBleGlzdGluZyBzYXZlZCBxdWVyeScKICB9KTsKCiAgdmFyIHRpdGxlTWlzc2luZ0Vycm9yVGV4dCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCdkYXRhLnNlYXJjaC5zZWFyY2hCYXIuc2F2ZWRRdWVyeUZvcm0udGl0bGVNaXNzaW5nVGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnTmFtZSBpcyByZXF1aXJlZCcKICB9KTsKCiAgdmFyIHdoaXRlc3BhY2VFcnJvclRleHQgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlGb3JtLndoaXRlc3BhY2VFcnJvclRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ05hbWUgY2Fubm90IGNvbnRhaW4gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlJwogIH0pOwoKICB2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgIHZhciBlcnJvcnMgPSBbXTsKCiAgICBpZiAoIXRpdGxlLmxlbmd0aCkgewogICAgICBlcnJvcnMucHVzaCh0aXRsZU1pc3NpbmdFcnJvclRleHQpOwogICAgfQoKICAgIGlmICh0aXRsZS5sZW5ndGggPiB0aXRsZS50cmltKCkubGVuZ3RoKSB7CiAgICAgIGVycm9ycy5wdXNoKHdoaXRlc3BhY2VFcnJvclRleHQpOwogICAgfQoKICAgIGlmICghIXNhdmVkUXVlcmllcy5maW5kKGZ1bmN0aW9uIChleGlzdGluZ1NhdmVkUXVlcnkpIHsKICAgICAgcmV0dXJuICFzYXZlZFF1ZXJ5ICYmIGV4aXN0aW5nU2F2ZWRRdWVyeS5hdHRyaWJ1dGVzLnRpdGxlID09PSB0aXRsZTsKICAgIH0pKSB7CiAgICAgIGVycm9ycy5wdXNoKHRpdGxlQ29uZmxpY3RFcnJvclRleHQpOwogICAgfQoKICAgIGlmICghKDAsIF9sb2Rhc2guaXNFcXVhbCkoZXJyb3JzLCBmb3JtRXJyb3JzKSkgewogICAgICBzZXRGb3JtRXJyb3JzKGVycm9ycyk7CiAgICB9CiAgfTsKCiAgdmFyIGhhc0Vycm9ycyA9IGZvcm1FcnJvcnMubGVuZ3RoID4gMDsKCiAgaWYgKGhhc0Vycm9ycykgewogICAgdmFsaWRhdGUoKTsKICB9CgogIHZhciBzYXZlUXVlcnlGb3JtID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIHsKICAgIGlzSW52YWxpZDogaGFzRXJyb3JzLAogICAgZXJyb3I6IGZvcm1FcnJvcnMsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZVF1ZXJ5Rm9ybSIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgIGNvbG9yOiAic3ViZHVlZCIKICB9LCBzYXZlZFF1ZXJ5RGVzY3JpcHRpb25UZXh0KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5TmFtZUxhYmVsVGV4dCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOYW1lJwogICAgfSksCiAgICBoZWxwVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5TmFtZUhlbHBUZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ05hbWUgaXMgcmVxdWlyZWQuIE5hbWUgY2Fubm90IGNvbnRhaW4gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlLiBOYW1lIG11c3QgYmUgdW5pcXVlLicKICAgIH0pLAogICAgaXNJbnZhbGlkOiBoYXNFcnJvcnMKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICBkaXNhYmxlZDogISFzYXZlZFF1ZXJ5LAogICAgdmFsdWU6IHRpdGxlLAogICAgbmFtZTogInRpdGxlIiwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICBzZXRUaXRsZShldmVudC50YXJnZXQudmFsdWUpOwogICAgfSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlUXVlcnlGb3JtVGl0bGUiLAogICAgaXNJbnZhbGlkOiBoYXNFcnJvcnMsCiAgICBvbkJsdXI6IHZhbGlkYXRlCiAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdkYXRhLnNlYXJjaC5zZWFyY2hCYXIuc2F2ZWRRdWVyeURlc2NyaXB0aW9uTGFiZWxUZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ0Rlc2NyaXB0aW9uJwogICAgfSkKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICB2YWx1ZTogZGVzY3JpcHRpb24sCiAgICBuYW1lOiAiZGVzY3JpcHRpb24iLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHNldERlc2NyaXB0aW9uKGV2ZW50LnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVRdWVyeUZvcm1EZXNjcmlwdGlvbiIKICB9KSksIHNob3dGaWx0ZXJPcHRpb24gJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgIG5hbWU6ICJzaG91bGRJbmNsdWRlRmlsdGVycyIsCiAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5SW5jbHVkZUZpbHRlcnNMYWJlbFRleHQnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5jbHVkZSBmaWx0ZXJzJwogICAgfSksCiAgICBjaGVja2VkOiBzaG91bGRJbmNsdWRlRmlsdGVycywKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgc2V0U2hvdWxkSW5jbHVkZUZpbHRlcnMoIXNob3VsZEluY2x1ZGVGaWx0ZXJzKTsKICAgIH0sCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZVF1ZXJ5Rm9ybUluY2x1ZGVGaWx0ZXJzT3B0aW9uIgogIH0pKSwgc2hvd1RpbWVGaWx0ZXJPcHRpb24gJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTd2l0Y2gsIHsKICAgIG5hbWU6ICJzaG91bGRJbmNsdWRlVGltZWZpbHRlciIsCiAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5SW5jbHVkZVRpbWVGaWx0ZXJMYWJlbFRleHQnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSW5jbHVkZSB0aW1lIGZpbHRlcicKICAgIH0pLAogICAgY2hlY2tlZDogc2hvdWxkSW5jbHVkZVRpbWVmaWx0ZXIsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgIHNldEluY2x1ZGVUaW1lZmlsdGVyKCFzaG91bGRJbmNsdWRlVGltZWZpbHRlcik7CiAgICB9LAogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVRdWVyeUZvcm1JbmNsdWRlVGltZUZpbHRlck9wdGlvbiIKICB9KSkpOwoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU92ZXJsYXlNYXNrLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTW9kYWwsIHsKICAgIG9uQ2xvc2U6IG9uQ2xvc2UsCiAgICBpbml0aWFsRm9jdXM6ICJbbmFtZT10aXRsZV0iCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aU1vZGFsSGVhZGVyLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTW9kYWxIZWFkZXJUaXRsZSwgbnVsbCwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5Rm9ybVRpdGxlJywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIHF1ZXJ5JwogIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlNb2RhbEJvZHksIG51bGwsIHNhdmVRdWVyeUZvcm0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpTW9kYWxGb290ZXIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgb25DbGljazogb25DbG9zZSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlZFF1ZXJ5Rm9ybUNhbmNlbEJ1dHRvbiIKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlGb3JtQ2FuY2VsQnV0dG9uVGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2FuY2VsJwogIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgcmV0dXJuIG9uU2F2ZSh7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiwKICAgICAgICBzaG91bGRJbmNsdWRlRmlsdGVyczogc2hvdWxkSW5jbHVkZUZpbHRlcnMsCiAgICAgICAgc2hvdWxkSW5jbHVkZVRpbWVmaWx0ZXI6IHNob3VsZEluY2x1ZGVUaW1lZmlsdGVyCiAgICAgIH0pOwogICAgfSwKICAgIGZpbGw6IHRydWUsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZWRRdWVyeUZvcm1TYXZlQnV0dG9uIiwKICAgIGRpc2FibGVkOiBoYXNFcnJvcnMKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlGb3JtU2F2ZUJ1dHRvblRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUnCiAgfSkpKSkpOwp9"},null]}