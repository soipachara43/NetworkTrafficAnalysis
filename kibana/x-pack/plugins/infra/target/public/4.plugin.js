(window["infra_bundle_jsonpfunction"]=window["infra_bundle_jsonpfunction"]||[]).push([[4],Array(698).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _logs_router=__webpack_require__(1116);Object.keys(_logs_router).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _logs_router[key]}})}));var _metrics_router=__webpack_require__(1521);Object.keys(_metrics_router).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _metrics_router[key]}})}))},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_analysis=__webpack_require__(1346);Object.keys(_log_analysis).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis[key]}})}));var _log_analysis_results=__webpack_require__(1347);Object.keys(_log_analysis_results).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_results[key]}})}));var _log_entry_rate_analysis=__webpack_require__(1348);Object.keys(_log_entry_rate_analysis).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_rate_analysis[key]}})}));var _log_entry_categories_analysis=__webpack_require__(1349);Object.keys(_log_entry_categories_analysis).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_categories_analysis[key]}})}));var _job_parameters=__webpack_require__(1350);Object.keys(_job_parameters).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _job_parameters[key]}})}))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTSVBModel=void 0;var createTSVBModel=function createTSVBModel(id,requires,series){var interval=arguments.length>3&&arguments[3]!==undefined?arguments[3]:">=300s";var dropLastBucket=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return function(timeField,indexPattern){return{id:id,requires:requires,drop_last_bucket:dropLastBucket,index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:series}}};exports.createTSVBModel=createTSVBModel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _source=__webpack_require__(837);Object.keys(_source).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _source[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAppDependencies=exports.AppContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AppContext=(0,_react.createContext)(null);var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children,appDeps=_ref.appDeps;return appDeps?_react.default.createElement(AppContext.Provider,{value:appDeps},children):null};exports.AppContextProvider=AppContextProvider;var useAppDependencies=function useAppDependencies(){var ctx=(0,_react.useContext)(AppContext);if(!ctx){throw new Error('The app dependencies Context has not been set. Use the "setAppDependencies()" method when bootstrapping the app.')}return ctx};exports.useAppDependencies=useAppDependencies},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlexPage=exports.PageContent=exports.ColumnarPage=void 0;var _eui=__webpack_require__(4);var _public=__webpack_require__(64);function _templateObject3(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  width: 100%\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ColumnarPage=_public.euiStyled.div(_templateObject());exports.ColumnarPage=ColumnarPage;var PageContent=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.euiColorEmptyShade}));exports.PageContent=PageContent;var FlexPage=(0,_public.euiStyled)(_eui.EuiPage)(_templateObject3());exports.FlexPage=FlexPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLinkProps=void 0;var _react=__webpack_require__(3);var _queryString=__webpack_require__(225);var _url=_interopRequireDefault(__webpack_require__(223));var _public=__webpack_require__(15);var _use_prefix_path_with_basepath=__webpack_require__(1342);var _history_context=__webpack_require__(826);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var useLinkProps=function useLinkProps(_ref){var app=_ref.app,pathname=_ref.pathname,hash=_ref.hash,search=_ref.search;validateParams({app:app,pathname:pathname,hash:hash,search:search});var history=(0,_history_context.useHistory)();var prefixer=(0,_use_prefix_path_with_basepath.usePrefixPathWithBasepath)();var encodedSearch=(0,_react.useMemo)((function(){return search?encodeSearch(search):undefined}),[search]);var internalLinkResult=(0,_react.useMemo)((function(){return history===null||history===void 0?void 0:history.createHref({pathname:pathname?formatPathname(pathname):undefined,search:encodedSearch})}),[history,pathname,encodedSearch]);var externalLinkResult=(0,_react.useMemo)((function(){var mergedHash=hash&&encodedSearch?"".concat(hash,"?").concat(encodedSearch):hash;var link=_url.default.format({pathname:pathname,hash:mergedHash,search:!hash?encodedSearch:undefined});return prefixer(app,link)}),[hash,encodedSearch,pathname,prefixer,app]);var onClick=(0,_react.useMemo)((function(){if(internalLinkResult&&linksAreEquivalent(externalLinkResult,internalLinkResult)){return function(e){e.preventDefault();if(history){history.push({pathname:pathname?formatPathname(pathname):undefined,search:encodedSearch})}}}else{return undefined}}),[internalLinkResult,externalLinkResult,history,pathname,encodedSearch]);return{href:externalLinkResult,onClick:onClick}};exports.useLinkProps=useLinkProps;var encodeSearch=function encodeSearch(search){return(0,_queryString.stringify)(_public.url.encodeQuery(search),{sort:false,encode:false})};var formatPathname=function formatPathname(pathname){return pathname[0]==="/"?pathname:"/".concat(pathname)};var validateParams=function validateParams(_ref2){var app=_ref2.app,pathname=_ref2.pathname,hash=_ref2.hash,search=_ref2.search;if(!app&&hash){throw new Error("The metrics and logs apps use browserHistory. Please provide a pathname rather than a hash.")}};var linksAreEquivalent=function linksAreEquivalent(externalLink,internalLink){return externalLink.replace(/\/$/,"")===internalLink.replace(/\/$/,"")}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.replaceStateKeyInQueryString=exports.getParamFromQueryString=exports.getQueryStringFromLocation=exports.decodeRisonUrlState=exports.UrlStateContainer=void 0;var _queryString=__webpack_require__(225);var _lodash=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _risonNode=__webpack_require__(770);var _public=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UrlStateContainerLifecycle=function(_React$Component){_inherits(UrlStateContainerLifecycle,_React$Component);function UrlStateContainerLifecycle(){var _getPrototypeOf2;var _this;_classCallCheck(this,UrlStateContainerLifecycle);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UrlStateContainerLifecycle)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"replaceStateInLocation",(0,_lodash.throttle)((function(urlState){var _this$props=_this.props,history=_this$props.history,location=_this$props.location,urlStateKey=_this$props.urlStateKey;var newLocation=replaceQueryStringInLocation(location,replaceStateKeyInQueryString(urlStateKey,urlState)(getQueryStringFromLocation(location)));if(newLocation!==location){history.replace(newLocation)}}),1e3));_defineProperty(_assertThisInitialized(_this),"handleInitialize",(function(location){var _this$props2=_this.props,onInitialize=_this$props2.onInitialize,mapToUrlState=_this$props2.mapToUrlState,urlStateKey=_this$props2.urlStateKey,urlState=_this$props2.urlState;if(!onInitialize||!mapToUrlState){return}var newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(location),urlStateKey);var newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));if(!newUrlState&&_this.props.populateWithInitialState){_this.replaceStateInLocation(urlState);onInitialize(urlState)}else{onInitialize(newUrlState)}}));_defineProperty(_assertThisInitialized(_this),"handleLocationChange",(function(prevLocation,newLocation){var _this$props3=_this.props,onChange=_this$props3.onChange,mapToUrlState=_this$props3.mapToUrlState,urlStateKey=_this$props3.urlStateKey;if(!onChange||!mapToUrlState){return}var previousUrlStateString=getParamFromQueryString(getQueryStringFromLocation(prevLocation),urlStateKey);var newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(newLocation),urlStateKey);if(previousUrlStateString!==newUrlStateString){var _previousUrlState=mapToUrlState(decodeRisonUrlState(previousUrlStateString));var newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));if(typeof newUrlState!=="undefined"){onChange(newUrlState,_previousUrlState)}}}));return _this}_createClass(UrlStateContainerLifecycle,[{key:"render",value:function render(){return null}},{key:"componentDidUpdate",value:function componentDidUpdate(_ref){var prevLocation=_ref.location,prevUrlState=_ref.urlState;var _this$props4=this.props,history=_this$props4.history,location=_this$props4.location,urlState=_this$props4.urlState;if(urlState!==prevUrlState){this.replaceStateInLocation(urlState)}if(history.action==="POP"&&location!==prevLocation){this.handleLocationChange(prevLocation,location)}}},{key:"componentDidMount",value:function componentDidMount(){var location=this.props.location;this.handleInitialize(location)}}]);return UrlStateContainerLifecycle}(_react.default.Component);var UrlStateContainer=function UrlStateContainer(props){return _react.default.createElement(_reactRouterDom.Route,null,(function(_ref2){var history=_ref2.history,location=_ref2.location;return _react.default.createElement(UrlStateContainerLifecycle,_extends({history:history,location:location},props))}))};exports.UrlStateContainer=UrlStateContainer;var decodeRisonUrlState=function decodeRisonUrlState(value){try{return value?(0,_risonNode.decode)(value):undefined}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error")){return{}}throw error}};exports.decodeRisonUrlState=decodeRisonUrlState;var encodeRisonUrlState=function encodeRisonUrlState(state){return(0,_risonNode.encode)(state)};var getQueryStringFromLocation=function getQueryStringFromLocation(location){return location.search.substring(1)};exports.getQueryStringFromLocation=getQueryStringFromLocation;var getParamFromQueryString=function getParamFromQueryString(queryString,key){var parsedQueryString=(0,_queryString.parse)(queryString,{sort:false});var queryParam=parsedQueryString[key];return Array.isArray(queryParam)?queryParam[0]:queryParam};exports.getParamFromQueryString=getParamFromQueryString;var replaceStateKeyInQueryString=function replaceStateKeyInQueryString(stateKey,urlState){return function(queryString){var previousQueryValues=(0,_queryString.parse)(queryString,{sort:false});var encodedUrlState=typeof urlState!=="undefined"?encodeRisonUrlState(urlState):undefined;return(0,_queryString.stringify)(_public.url.encodeQuery(_objectSpread({},previousQueryValues,_defineProperty({},stateKey,encodedUrlState))),{sort:false,encode:false})}};exports.replaceStateKeyInQueryString=replaceStateKeyInQueryString;var replaceQueryStringInLocation=function replaceQueryStringInLocation(location,queryString){if(queryString===getQueryStringFromLocation(location)){return location}else{return _objectSpread({},location,{search:"?".concat(queryString)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_analysis_capabilities=__webpack_require__(1343);Object.keys(_log_analysis_capabilities).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_capabilities[key]}})}));var _log_analysis_cleanup=__webpack_require__(1345);Object.keys(_log_analysis_cleanup).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_cleanup[key]}})}));var _log_analysis_module=__webpack_require__(1352);Object.keys(_log_analysis_module).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_module[key]}})}));var _log_analysis_module_status=__webpack_require__(938);Object.keys(_log_analysis_module_status).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_module_status[key]}})}));var _log_analysis_module_types=__webpack_require__(1353);Object.keys(_log_analysis_module_types).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_module_types[key]}})}));var _log_analysis_setup_state=__webpack_require__(1354);Object.keys(_log_analysis_setup_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_setup_state[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useKibanaUiSetting=useKibanaUiSetting;var _react=__webpack_require__(3);var _public=__webpack_require__(9);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function useKibanaUiSetting(key,defaultValue){var _useUiSetting$=(0,_public.useUiSetting$)(key),_useUiSetting$2=_slicedToArray(_useUiSetting$,2),uiSetting=_useUiSetting$2[0],setUiSetting=_useUiSetting$2[1];var uiSettingValue=(0,_react.useMemo)((function(){return uiSetting?uiSetting:defaultValue}),[uiSetting,defaultValue]);return[uiSettingValue,setUiSetting]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasDeleteActionsCapability=exports.hasDeleteAlertsCapability=exports.hasSaveActionsCapability=exports.hasSaveAlertsCapability=exports.hasShowActionsCapability=exports.hasShowAlertsCapability=void 0;var apps=["apm","siem","uptime","infrastructure"];function hasCapability(capabilities,capability){return apps.some((function(app){var _capabilities$app;return(_capabilities$app=capabilities[app])===null||_capabilities$app===void 0?void 0:_capabilities$app[capability]}))}function createCapabilityCheck(capability){return function(capabilities){return hasCapability(capabilities,capability)}}var hasShowAlertsCapability=createCapabilityCheck("alerting:show");exports.hasShowAlertsCapability=hasShowAlertsCapability;var hasShowActionsCapability=createCapabilityCheck("actions:show");exports.hasShowActionsCapability=hasShowActionsCapability;var hasSaveAlertsCapability=createCapabilityCheck("alerting:save");exports.hasSaveAlertsCapability=hasSaveAlertsCapability;var hasSaveActionsCapability=createCapabilityCheck("actions:save");exports.hasSaveActionsCapability=hasSaveActionsCapability;var hasDeleteAlertsCapability=createCapabilityCheck("alerting:delete");exports.hasDeleteAlertsCapability=hasDeleteAlertsCapability;var hasDeleteActionsCapability=createCapabilityCheck("actions:delete");exports.hasDeleteActionsCapability=hasDeleteActionsCapability},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Section=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _side_nav_context=__webpack_require__(994);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var Section=function Section(_ref){var children=_ref.children,metrics=_ref.metrics,navLabel=_ref.navLabel,sectionLabel=_ref.sectionLabel,onChangeRangeTime=_ref.onChangeRangeTime,isLiveStreaming=_ref.isLiveStreaming,stopLiveStreaming=_ref.stopLiveStreaming;var _useContext=(0,_react.useContext)(_side_nav_context.SideNavContext),addNavItem=_useContext.addNavItem;var subNavItems=_react.Children.toArray(children).reduce((function(accumulatedChildren,child){var _ref2;if(!(0,_react.isValidElement)(child)){return accumulatedChildren}var metric=(_ref2=metrics===null||metrics===void 0?void 0:metrics.find((function(m){return m.id===child.props.id})))!==null&&_ref2!==void 0?_ref2:null;if(metric===null){return accumulatedChildren}return[].concat(_toConsumableArray(accumulatedChildren),[{id:child.props.id,name:child.props.label,onClick:function onClick(){var el=document.getElementById(child.props.id);if(el){el.scrollIntoView()}}}])}),[]);var childrenWithProps=_react.Children.map(children,(function(child){return(0,_react.isValidElement)(child)?(0,_react.cloneElement)(child,{metrics:metrics,onChangeRangeTime:onChangeRangeTime,isLiveStreaming:isLiveStreaming,stopLiveStreaming:stopLiveStreaming}):null}));if(metrics&&subNavItems.length){addNavItem({id:navLabel,name:navLabel,items:subNavItems});return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,sectionLabel)),childrenWithProps)}return null};exports.Section=Section},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SubSection=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SubSection=function SubSection(_ref){var id=_ref.id,label=_ref.label,children=_ref.children,metrics=_ref.metrics,onChangeRangeTime=_ref.onChangeRangeTime,isLiveStreaming=_ref.isLiveStreaming,stopLiveStreaming=_ref.stopLiveStreaming;var metric=(0,_react.useMemo)((function(){return metrics===null||metrics===void 0?void 0:metrics.find((function(m){return m.id===id}))}),[id,metrics]);if(!children||!metric){return null}var childrenWithProps=_react.Children.map(children,(function(child){if((0,_react.isValidElement)(child)){return(0,_react.cloneElement)(child,{metric:metric,id:id,onChangeRangeTime:onChangeRangeTime,isLiveStreaming:isLiveStreaming,stopLiveStreaming:stopLiveStreaming})}return null}));return _react.default.createElement("div",{style:{margin:"10px 0 16px 0"},id:id},label?_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,label)):null,childrenWithProps)};exports.SubSection=SubSection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChartSectionVis=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _moment=_interopRequireDefault(__webpack_require__(11));var _i18n=__webpack_require__(0);var _charts=__webpack_require__(694);var _eui=__webpack_require__(4);var _get_chart_theme=__webpack_require__(984);var _series_chart=__webpack_require__(1710);var _helpers=__webpack_require__(995);var _error_message=__webpack_require__(1711);var _use_kibana_ui_setting=__webpack_require__(713);var _public=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ChartSectionVis=function ChartSectionVis(_ref){var id=_ref.id,onChangeRangeTime=_ref.onChangeRangeTime,metric=_ref.metric,stopLiveStreaming=_ref.stopLiveStreaming,isLiveStreaming=_ref.isLiveStreaming,formatter=_ref.formatter,formatterTemplate=_ref.formatterTemplate,stacked=_ref.stacked,seriesOverrides=_ref.seriesOverrides,type=_ref.type;var isDarkMode=(0,_public.useUiSetting)("theme:darkMode");var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),dateFormat=_useKibanaUiSetting2[0];var valueFormatter=(0,_react.useCallback)((0,_helpers.getFormatter)(formatter,formatterTemplate),[formatter,formatterTemplate]);var dateFormatter=(0,_react.useMemo)((function(){return metric!=null?(0,_charts.niceTimeFormatter)((0,_helpers.getMaxMinTimestamp)(metric)):undefined}),[metric]);var handleTimeChange=(0,_react.useCallback)((function(from,to){if(onChangeRangeTime){if(isLiveStreaming&&stopLiveStreaming){stopLiveStreaming()}onChangeRangeTime({from:(0,_moment.default)(from).toISOString(),to:(0,_moment.default)(to).toISOString(),interval:">=1m"})}}),[onChangeRangeTime,isLiveStreaming,stopLiveStreaming]);var tooltipProps={headerFormatter:(0,_react.useCallback)((function(data){return(0,_moment.default)(data.value).format(dateFormat||"Y-MM-DD HH:mm:ss.SSS")}),[dateFormat])};if(!id){return null}else if(!metric){return _react.default.createElement(_error_message.ErrorMessage,{title:_i18n.i18n.translate("xpack.infra.chartSection.missingMetricDataText",{defaultMessage:"Missing Data"}),body:_i18n.i18n.translate("xpack.infra.chartSection.missingMetricDataBody",{defaultMessage:"The data for this chart is missing."})})}else if(metric.series.some(_helpers.seriesHasLessThen2DataPoints)){return _react.default.createElement(_error_message.ErrorMessage,{title:_i18n.i18n.translate("xpack.infra.chartSection.notEnoughDataPointsToRenderTitle",{defaultMessage:"Not Enough Data"}),body:_i18n.i18n.translate("xpack.infra.chartSection.notEnoughDataPointsToRenderText",{defaultMessage:"Not enough data points to render chart, try increasing the time range."})})}return _react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement("div",{className:"infrastructureChart",style:{height:250,marginBottom:16}},_react.default.createElement(_charts.Chart,null,_react.default.createElement(_charts.Axis,{id:"timestamp",position:_charts.Position.Bottom,showOverlappingTicks:true,tickFormat:dateFormatter}),_react.default.createElement(_charts.Axis,{id:"values",position:_charts.Position.Left,tickFormat:valueFormatter}),metric&&metric.series.map((function(series){return _react.default.createElement(_series_chart.SeriesChart,{key:"series-".concat(id,"-").concat(series.id),id:"series-".concat(id,"-").concat(series.id),series:series,name:(0,_helpers.getChartName)(seriesOverrides,series.id,series.id),type:(0,_helpers.getChartType)(seriesOverrides,type,series.id),color:(0,_helpers.getChartColor)(seriesOverrides,series.id),stack:stacked})})),_react.default.createElement(_charts.Settings,{tooltip:tooltipProps,onBrushEnd:handleTimeChange,theme:(0,_get_chart_theme.getChartTheme)(isDarkMode),showLegend:true,showLegendExtra:true,legendPosition:"right"}))))};exports.ChartSectionVis=ChartSectionVis},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_position_state=__webpack_require__(901);Object.keys(_log_position_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_position_state[key]}})}));var _with_log_position_url_state=__webpack_require__(1221);Object.keys(_with_log_position_url_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _with_log_position_url_state[key]}})}))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useColumnWidths=exports.getColumnWidths=exports.iconColumnId=exports.LogEntryColumnContent=exports.LogEntryColumn=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(64);var _source_configuration=__webpack_require__(784);var _formatted_time=__webpack_require__(945);var _text_styles=__webpack_require__(757);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  padding: 2px ","px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-items: stretch;\n  display: flex;\n  flex-basis: ",";\n  flex-direction: row;\n  flex-grow: ",";\n  flex-shrink: ",";\n  overflow: hidden;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var DATE_COLUMN_SLACK_FACTOR=1.1;var FIELD_COLUMN_MIN_WIDTH_CHARACTERS=10;var DETAIL_FLYOUT_ICON_MIN_WIDTH=32;var COLUMN_PADDING=8;var LogEntryColumn=_public.euiStyled.div.attrs((function(){return{role:"cell"}}))(_templateObject(),(function(props){return props.baseWidth||"0%"}),(function(props){return props.growWeight||0}),(function(props){return props.shrinkWeight||0}));exports.LogEntryColumn=LogEntryColumn;var LogEntryColumnContent=_public.euiStyled.div(_templateObject2(),COLUMN_PADDING);exports.LogEntryColumnContent=LogEntryColumnContent;var iconColumnId=Symbol("iconColumnId");exports.iconColumnId=iconColumnId;var getColumnWidths=function getColumnWidths(columns,characterWidth,formattedDateWidth){return columns.reduce((function(columnWidths,column){if((0,_source_configuration.isTimestampLogColumnConfiguration)(column)){return _objectSpread({},columnWidths,_defineProperty({},column.timestampColumn.id,{growWeight:0,shrinkWeight:0,baseWidth:"".concat(Math.ceil(characterWidth*formattedDateWidth*DATE_COLUMN_SLACK_FACTOR)+2*COLUMN_PADDING,"px")}))}else if((0,_source_configuration.isMessageLogColumnConfiguration)(column)){return _objectSpread({},columnWidths,_defineProperty({},column.messageColumn.id,{growWeight:5,shrinkWeight:0,baseWidth:"0%"}))}else{return _objectSpread({},columnWidths,_defineProperty({},column.fieldColumn.id,{growWeight:1,shrinkWeight:0,baseWidth:"".concat(Math.ceil(characterWidth*FIELD_COLUMN_MIN_WIDTH_CHARACTERS)+2*COLUMN_PADDING,"px")}))}}),_defineProperty({},iconColumnId,{growWeight:0,shrinkWeight:0,baseWidth:"".concat(DETAIL_FLYOUT_ICON_MIN_WIDTH+2*COLUMN_PADDING,"px")}))};exports.getColumnWidths=getColumnWidths;var useColumnWidths=function useColumnWidths(_ref){var columnConfigurations=_ref.columnConfigurations,scale=_ref.scale,_ref$timeFormat=_ref.timeFormat,timeFormat=_ref$timeFormat===void 0?"time":_ref$timeFormat;var _useMeasuredCharacter=(0,_text_styles.useMeasuredCharacterDimensions)(scale),CharacterDimensionsProbe=_useMeasuredCharacter.CharacterDimensionsProbe,dimensions=_useMeasuredCharacter.dimensions;var referenceTime=(0,_react.useMemo)((function(){return Date.now()}),[]);var formattedCurrentDate=(0,_formatted_time.useFormattedTime)(referenceTime,{format:timeFormat});var columnWidths=(0,_react.useMemo)((function(){return getColumnWidths(columnConfigurations,dimensions.width,formattedCurrentDate.length)}),[columnConfigurations,dimensions.width,formattedCurrentDate]);return(0,_react.useMemo)((function(){return{columnWidths:columnWidths,CharacterDimensionsProbe:CharacterDimensionsProbe}}),[columnWidths,CharacterDimensionsProbe])};exports.useColumnWidths=useColumnWidths},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadActionTypes=loadActionTypes;exports.loadAllActions=loadAllActions;exports.createActionConnector=createActionConnector;exports.updateActionConnector=updateActionConnector;exports.deleteActions=deleteActions;var _constants=__webpack_require__(94);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var MAX_ACTIONS_RETURNED=1e4;function loadActionTypes(_x){return _loadActionTypes.apply(this,arguments)}function _loadActionTypes(){_loadActionTypes=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var http;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:http=_ref.http;_context.next=3;return http.get("".concat(_constants.BASE_ACTION_API_PATH,"/types"));case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}}),_callee)})));return _loadActionTypes.apply(this,arguments)}function loadAllActions(_x2){return _loadAllActions.apply(this,arguments)}function _loadAllActions(){_loadAllActions=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref2){var http;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:http=_ref2.http;_context2.next=3;return http.get("".concat(_constants.BASE_ACTION_API_PATH,"/_find"),{query:{per_page:MAX_ACTIONS_RETURNED,sort_field:"name.keyword",sort_order:"asc"}});case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}}),_callee2)})));return _loadAllActions.apply(this,arguments)}function createActionConnector(_x3){return _createActionConnector.apply(this,arguments)}function _createActionConnector(){_createActionConnector=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(_ref3){var http,connector;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:http=_ref3.http,connector=_ref3.connector;_context3.next=3;return http.post("".concat(_constants.BASE_ACTION_API_PATH),{body:JSON.stringify(connector)});case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}}),_callee3)})));return _createActionConnector.apply(this,arguments)}function updateActionConnector(_x4){return _updateActionConnector.apply(this,arguments)}function _updateActionConnector(){_updateActionConnector=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref4){var http,connector,id;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:http=_ref4.http,connector=_ref4.connector,id=_ref4.id;_context4.next=3;return http.put("".concat(_constants.BASE_ACTION_API_PATH,"/").concat(id),{body:JSON.stringify({name:connector.name,config:connector.config,secrets:connector.secrets})});case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}}}),_callee4)})));return _updateActionConnector.apply(this,arguments)}function deleteActions(_x5){return _deleteActions.apply(this,arguments)}function _deleteActions(){_deleteActions=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(_ref5){var ids,http,successes,errors;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:ids=_ref5.ids,http=_ref5.http;successes=[];errors=[];_context5.next=5;return Promise.all(ids.map((function(id){return http.delete("".concat(_constants.BASE_ACTION_API_PATH,"/").concat(id))}))).then((function(fulfilled){successes.push.apply(successes,_toConsumableArray(fulfilled))}),(function(rejected){errors.push.apply(errors,_toConsumableArray(rejected))}));case 5:return _context5.abrupt("return",{successes:successes,errors:errors});case 6:case"end":return _context5.stop()}}}),_callee5)})));return _deleteActions.apply(this,arguments)}},,,,function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DocumentTitle=void 0;var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var wrapWithSharedState=function wrapWithSharedState(){var titles=[];var TITLE_SUFFIX=" - Kibana";return(function(_React$Component){_inherits(_class,_React$Component);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,_getPrototypeOf(_class).apply(this,arguments))}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){var _this=this;this.setState((function(){return{index:titles.push("")-1}}),(function(){_this.pushTitle(_this.getTitle(_this.props.title));_this.updateDocumentTitle()}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.pushTitle(this.getTitle(this.props.title));this.updateDocumentTitle()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeTitle();this.updateDocumentTitle()}},{key:"render",value:function render(){return null}},{key:"getTitle",value:function getTitle(title){return typeof title==="function"?title(titles[this.state.index-1]):title}},{key:"pushTitle",value:function pushTitle(title){titles[this.state.index]=title}},{key:"removeTitle",value:function removeTitle(){titles.pop()}},{key:"updateDocumentTitle",value:function updateDocumentTitle(){var title=(titles[titles.length-1]||"")+TITLE_SUFFIX;if(title!==document.title){document.title=title}}}]);return _class}(_react.default.Component))};var DocumentTitle=wrapWithSharedState();exports.DocumentTitle=DocumentTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotMetricTypeRT=exports.SnapshotModelRT=exports.SnapshotModelAggregationRT=exports.SnapshotTermsWithAggregationRT=exports.SnapshotModelSumBucketRT=exports.SnapshotModelDerivativeRT=exports.SnapshotModelCumulativeSumRT=exports.SnapshotModelBucketScriptRT=exports.SnapshotModelMetricAggRT=exports.TSVBMetricModelRT=exports.TSVBSeriesRT=exports.TSVBMetricRT=exports.TSVBMetricModelSeriesAggRT=exports.TSVBMetricModelDerivativeRT=exports.TSVBMetricModelBucketScriptRT=exports.TSVBMetricModelVariableRT=exports.TSVBMetricModelBasicMetricRT=exports.TSVBMetricModelCountRT=exports.TSVBMetricTypeRT=exports.InventoryMetricRT=exports.InventoryFormatterTypeRT=exports.InventoryVisTypeRT=exports.ItemTypeRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ItemTypeRT=rt.keyof({host:null,pod:null,container:null,awsEC2:null,awsS3:null,awsSQS:null,awsRDS:null});exports.ItemTypeRT=ItemTypeRT;var InventoryVisTypeRT=rt.keyof({line:null,area:null,bar:null});exports.InventoryVisTypeRT=InventoryVisTypeRT;var InventoryFormatterTypeRT=rt.keyof({abbreviatedNumber:null,bits:null,bytes:null,number:null,percent:null,highPercision:null});exports.InventoryFormatterTypeRT=InventoryFormatterTypeRT;var InventoryMetricRT=rt.keyof({hostSystemOverview:null,hostCpuUsage:null,hostFilesystem:null,hostK8sOverview:null,hostK8sCpuCap:null,hostK8sDiskCap:null,hostK8sMemoryCap:null,hostK8sPodCap:null,hostLoad:null,hostMemoryUsage:null,hostNetworkTraffic:null,hostDockerOverview:null,hostDockerInfo:null,hostDockerTop5ByCpu:null,hostDockerTop5ByMemory:null,podOverview:null,podCpuUsage:null,podMemoryUsage:null,podLogUsage:null,podNetworkTraffic:null,containerOverview:null,containerCpuKernel:null,containerCpuUsage:null,containerDiskIOOps:null,containerDiskIOBytes:null,containerMemory:null,containerNetworkTraffic:null,nginxHits:null,nginxRequestRate:null,nginxActiveConnections:null,nginxRequestsPerConnection:null,awsOverview:null,awsCpuUtilization:null,awsNetworkBytes:null,awsNetworkPackets:null,awsDiskioBytes:null,awsDiskioOps:null,awsEC2CpuUtilization:null,awsEC2NetworkTraffic:null,awsEC2DiskIOBytes:null,awsS3TotalRequests:null,awsS3NumberOfObjects:null,awsS3BucketSize:null,awsS3DownloadBytes:null,awsS3UploadBytes:null,awsRDSCpuTotal:null,awsRDSConnections:null,awsRDSQueriesExecuted:null,awsRDSActiveTransactions:null,awsRDSLatency:null,awsSQSMessagesVisible:null,awsSQSMessagesDelayed:null,awsSQSMessagesSent:null,awsSQSMessagesEmpty:null,awsSQSOldestMessage:null,custom:null});exports.InventoryMetricRT=InventoryMetricRT;var TSVBMetricTypeRT=rt.keyof({avg:null,max:null,min:null,calculation:null,cardinality:null,series_agg:null,positive_only:null,derivative:null,count:null,sum:null,cumulative_sum:null});exports.TSVBMetricTypeRT=TSVBMetricTypeRT;var TSVBMetricModelCountRT=rt.type({id:rt.string,type:rt.literal("count")});exports.TSVBMetricModelCountRT=TSVBMetricModelCountRT;var TSVBMetricModelBasicMetricRT=rt.intersection([rt.type({id:rt.string,type:TSVBMetricTypeRT}),rt.partial({field:rt.string})]);exports.TSVBMetricModelBasicMetricRT=TSVBMetricModelBasicMetricRT;var TSVBMetricModelVariableRT=rt.type({field:rt.string,id:rt.string,name:rt.string});exports.TSVBMetricModelVariableRT=TSVBMetricModelVariableRT;var TSVBMetricModelBucketScriptRT=rt.type({id:rt.string,script:rt.string,type:rt.literal("calculation"),variables:rt.array(TSVBMetricModelVariableRT)});exports.TSVBMetricModelBucketScriptRT=TSVBMetricModelBucketScriptRT;var TSVBMetricModelDerivativeRT=rt.type({id:rt.string,field:rt.string,unit:rt.string,type:rt.literal("derivative")});exports.TSVBMetricModelDerivativeRT=TSVBMetricModelDerivativeRT;var TSVBMetricModelSeriesAggRT=rt.type({id:rt.string,function:rt.string,type:rt.literal("series_agg")});exports.TSVBMetricModelSeriesAggRT=TSVBMetricModelSeriesAggRT;var TSVBMetricRT=rt.union([TSVBMetricModelCountRT,TSVBMetricModelBasicMetricRT,TSVBMetricModelBucketScriptRT,TSVBMetricModelDerivativeRT,TSVBMetricModelSeriesAggRT]);exports.TSVBMetricRT=TSVBMetricRT;var TSVBSeriesRT=rt.intersection([rt.type({id:rt.string,metrics:rt.array(TSVBMetricRT),split_mode:rt.string}),rt.partial({terms_field:rt.string,terms_size:rt.number,terms_order_by:rt.string,filter:rt.type({query:rt.string,language:rt.keyof({lucene:null,kuery:null})})})]);exports.TSVBSeriesRT=TSVBSeriesRT;var TSVBMetricModelRT=rt.intersection([rt.type({id:InventoryMetricRT,requires:rt.array(rt.string),index_pattern:rt.union([rt.string,rt.array(rt.string)]),interval:rt.string,time_field:rt.string,type:rt.string,series:rt.array(TSVBSeriesRT)}),rt.partial({filter:rt.string,map_field_to:rt.string,id_type:rt.keyof({cloud:null,node:null}),drop_last_bucket:rt.boolean})]);exports.TSVBMetricModelRT=TSVBMetricModelRT;var SnapshotModelMetricAggRT=rt.record(rt.string,rt.union([rt.undefined,rt.type({field:rt.string})]));exports.SnapshotModelMetricAggRT=SnapshotModelMetricAggRT;var SnapshotModelBucketScriptRT=rt.type({bucket_script:rt.intersection([rt.type({buckets_path:rt.record(rt.string,rt.union([rt.undefined,rt.string])),script:rt.type({source:rt.string,lang:rt.keyof({painless:null,expression:null})})}),rt.partial({gap_policy:rt.keyof({skip:null,insert_zeros:null})})])});exports.SnapshotModelBucketScriptRT=SnapshotModelBucketScriptRT;var SnapshotModelCumulativeSumRT=rt.type({cumulative_sum:rt.type({buckets_path:rt.string})});exports.SnapshotModelCumulativeSumRT=SnapshotModelCumulativeSumRT;var SnapshotModelDerivativeRT=rt.type({derivative:rt.type({buckets_path:rt.string,gap_policy:rt.keyof({skip:null,insert_zeros:null}),unit:rt.string})});exports.SnapshotModelDerivativeRT=SnapshotModelDerivativeRT;var SnapshotModelSumBucketRT=rt.type({sum_bucket:rt.type({buckets_path:rt.string})});exports.SnapshotModelSumBucketRT=SnapshotModelSumBucketRT;var SnapshotTermsWithAggregationRT=rt.recursion("SnapshotModelRT",(function(){return rt.type({terms:rt.type({field:rt.string}),aggregations:SnapshotModelRT})}));exports.SnapshotTermsWithAggregationRT=SnapshotTermsWithAggregationRT;var SnapshotModelAggregationRT=rt.union([SnapshotModelMetricAggRT,SnapshotModelBucketScriptRT,SnapshotModelCumulativeSumRT,SnapshotModelDerivativeRT,SnapshotModelSumBucketRT,SnapshotTermsWithAggregationRT]);exports.SnapshotModelAggregationRT=SnapshotModelAggregationRT;var SnapshotModelRT=rt.record(rt.string,rt.union([rt.undefined,SnapshotModelAggregationRT]));exports.SnapshotModelRT=SnapshotModelRT;var SnapshotMetricTypeRT=rt.keyof({count:null,cpu:null,load:null,memory:null,tx:null,rx:null,logRate:null,diskIOReadBytes:null,diskIOWriteBytes:null,s3TotalRequests:null,s3NumberOfObjects:null,s3BucketSize:null,s3DownloadBytes:null,s3UploadBytes:null,rdsConnections:null,rdsQueriesExecuted:null,rdsActiveTransactions:null,rdsLatency:null,sqsMessagesVisible:null,sqsMessagesDelayed:null,sqsMessagesSent:null,sqsMessagesEmpty:null,sqsOldestMessage:null,custom:null});exports.SnapshotMetricTypeRT=SnapshotMetricTypeRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerOptionsContainer=exports.useMetricsExplorerOptions=exports.DEFAULT_OPTIONS=exports.DEFAULT_METRICS=exports.DEFAULT_CHART_OPTIONS=exports.DEFAULT_TIMERANGE=exports.MetricsExplorerYAxisMode=exports.MetricsExplorerChartType=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _color_palette=__webpack_require__(760);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsExplorerChartType;exports.MetricsExplorerChartType=MetricsExplorerChartType;(function(MetricsExplorerChartType){MetricsExplorerChartType["line"]="line";MetricsExplorerChartType["area"]="area";MetricsExplorerChartType["bar"]="bar"})(MetricsExplorerChartType||(exports.MetricsExplorerChartType=MetricsExplorerChartType={}));var MetricsExplorerYAxisMode;exports.MetricsExplorerYAxisMode=MetricsExplorerYAxisMode;(function(MetricsExplorerYAxisMode){MetricsExplorerYAxisMode["fromZero"]="fromZero";MetricsExplorerYAxisMode["auto"]="auto"})(MetricsExplorerYAxisMode||(exports.MetricsExplorerYAxisMode=MetricsExplorerYAxisMode={}));var DEFAULT_TIMERANGE={from:"now-1h",to:"now",interval:">=10s"};exports.DEFAULT_TIMERANGE=DEFAULT_TIMERANGE;var DEFAULT_CHART_OPTIONS={type:MetricsExplorerChartType.line,yAxisMode:MetricsExplorerYAxisMode.fromZero,stack:false};exports.DEFAULT_CHART_OPTIONS=DEFAULT_CHART_OPTIONS;var DEFAULT_METRICS=[{aggregation:"avg",field:"system.cpu.user.pct",color:_color_palette.MetricsExplorerColor.color0},{aggregation:"avg",field:"kubernetes.pod.cpu.usage.node.pct",color:_color_palette.MetricsExplorerColor.color1},{aggregation:"avg",field:"docker.cpu.total.pct",color:_color_palette.MetricsExplorerColor.color2}];exports.DEFAULT_METRICS=DEFAULT_METRICS;var DEFAULT_OPTIONS={aggregation:"avg",metrics:DEFAULT_METRICS};exports.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function parseJsonOrDefault(value,defaultValue){if(!value){return defaultValue}try{return JSON.parse(value)}catch(e){return defaultValue}}function useStateWithLocalStorage(key,defaultState){var storageState=localStorage.getItem(key);var _useState=(0,_react.useState)(parseJsonOrDefault(storageState,defaultState)),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];(0,_react.useEffect)((function(){localStorage.setItem(key,JSON.stringify(state))}),[key,state]);return[state,setState]}var useMetricsExplorerOptions=function useMetricsExplorerOptions(){var _useStateWithLocalSto=useStateWithLocalStorage("MetricsExplorerOptions",DEFAULT_OPTIONS),_useStateWithLocalSto2=_slicedToArray(_useStateWithLocalSto,2),options=_useStateWithLocalSto2[0],setOptions=_useStateWithLocalSto2[1];var _useStateWithLocalSto3=useStateWithLocalStorage("MetricsExplorerTimeRange",DEFAULT_TIMERANGE),_useStateWithLocalSto4=_slicedToArray(_useStateWithLocalSto3,2),currentTimerange=_useStateWithLocalSto4[0],setTimeRange=_useStateWithLocalSto4[1];var _useStateWithLocalSto5=useStateWithLocalStorage("MetricsExplorerChartOptions",DEFAULT_CHART_OPTIONS),_useStateWithLocalSto6=_slicedToArray(_useStateWithLocalSto5,2),chartOptions=_useStateWithLocalSto6[0],setChartOptions=_useStateWithLocalSto6[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isAutoReloading=_useState4[0],setAutoReloading=_useState4[1];return{defaultViewState:{options:DEFAULT_OPTIONS,chartOptions:DEFAULT_CHART_OPTIONS,currentTimerange:DEFAULT_TIMERANGE},options:options,chartOptions:chartOptions,setChartOptions:setChartOptions,currentTimerange:currentTimerange,isAutoReloading:isAutoReloading,setOptions:setOptions,setTimeRange:setTimeRange,startAutoReload:function startAutoReload(){return setAutoReloading(true)},stopAutoReload:function stopAutoReload(){return setAutoReloading(false)}}};exports.useMetricsExplorerOptions=useMetricsExplorerOptions;var MetricsExplorerOptionsContainer=(0,_constate.default)(useMetricsExplorerOptions);exports.MetricsExplorerOptionsContainer=MetricsExplorerOptionsContainer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN=void 0;var PLUGIN={ID:"triggers_actions_ui",getI18nName:function getI18nName(i18n){return i18n.translate("xpack.triggersActionsUI.appName",{defaultMessage:"Alerts and Actions"})}};exports.PLUGIN=PLUGIN},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotRequestRT=exports.SnapshotMetricInputRT=exports.SnapshotCustomMetricInputRT=exports.SnapshotCustomAggregationRT=exports.SNAPSHOT_CUSTOM_AGGREGATIONS=exports.SnapshotNamedMetricInputRT=exports.SnapshotGroupByRT=exports.InfraTimerangeInputRT=exports.SnapshotNodeResponseRT=exports.SnapshotNodeRT=exports.SnapshotNodeMetricRT=exports.SnapshotNodePathRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _types=__webpack_require__(727);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SnapshotNodePathRT=rt.intersection([rt.type({value:rt.string,label:rt.string}),rt.partial({ip:rt.union([rt.string,rt.null])})]);exports.SnapshotNodePathRT=SnapshotNodePathRT;var SnapshotNodeMetricOptionalRT=rt.partial({value:rt.union([rt.number,rt.null]),avg:rt.union([rt.number,rt.null]),max:rt.union([rt.number,rt.null])});var SnapshotNodeMetricRequiredRT=rt.type({name:_types.SnapshotMetricTypeRT});var SnapshotNodeMetricRT=rt.intersection([SnapshotNodeMetricRequiredRT,SnapshotNodeMetricOptionalRT]);exports.SnapshotNodeMetricRT=SnapshotNodeMetricRT;var SnapshotNodeRT=rt.type({metric:SnapshotNodeMetricRT,path:rt.array(SnapshotNodePathRT)});exports.SnapshotNodeRT=SnapshotNodeRT;var SnapshotNodeResponseRT=rt.type({nodes:rt.array(SnapshotNodeRT),interval:rt.string});exports.SnapshotNodeResponseRT=SnapshotNodeResponseRT;var InfraTimerangeInputRT=rt.type({interval:rt.string,to:rt.number,from:rt.number});exports.InfraTimerangeInputRT=InfraTimerangeInputRT;var SnapshotGroupByRT=rt.array(rt.partial({label:rt.union([rt.string,rt.null]),field:rt.union([rt.string,rt.null])}));exports.SnapshotGroupByRT=SnapshotGroupByRT;var SnapshotNamedMetricInputRT=rt.type({type:_types.SnapshotMetricTypeRT});exports.SnapshotNamedMetricInputRT=SnapshotNamedMetricInputRT;var SNAPSHOT_CUSTOM_AGGREGATIONS=["avg","max","min","rate"];exports.SNAPSHOT_CUSTOM_AGGREGATIONS=SNAPSHOT_CUSTOM_AGGREGATIONS;var snapshotCustomAggregationKeys=SNAPSHOT_CUSTOM_AGGREGATIONS.reduce((function(acc,agg){return _objectSpread({},acc,_defineProperty({},agg,null))}),{});var SnapshotCustomAggregationRT=rt.keyof(snapshotCustomAggregationKeys);exports.SnapshotCustomAggregationRT=SnapshotCustomAggregationRT;var SnapshotCustomMetricInputRT=rt.intersection([rt.type({type:rt.literal("custom"),field:rt.string,aggregation:SnapshotCustomAggregationRT,id:rt.string}),rt.partial({label:rt.string})]);exports.SnapshotCustomMetricInputRT=SnapshotCustomMetricInputRT;var SnapshotMetricInputRT=rt.union([SnapshotNamedMetricInputRT,SnapshotCustomMetricInputRT]);exports.SnapshotMetricInputRT=SnapshotMetricInputRT;var SnapshotRequestRT=rt.intersection([rt.type({timerange:InfraTimerangeInputRT,metric:SnapshotMetricInputRT,groupBy:SnapshotGroupByRT,nodeType:_types.ItemTypeRT,sourceId:rt.string}),rt.partial({accountId:rt.string,region:rt.string,filterQuery:rt.union([rt.string,rt.null])})]);exports.SnapshotRequestRT=SnapshotRequestRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsAndGroupByToolbarItems=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _metric_control=__webpack_require__(1666);var _waffle_group_by_controls=__webpack_require__(1672);var _toolbar_wrapper=__webpack_require__(993);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var MetricsAndGroupByToolbarItems=function MetricsAndGroupByToolbarItems(props){var metricOptions=(0,_react.useMemo)((function(){return props.metricTypes.map(_toolbar_wrapper.toMetricOpt).filter((function(v){return v}))}),[props.metricTypes]);var groupByOptions=(0,_react.useMemo)((function(){return props.groupByFields.map(_toolbar_wrapper.toGroupByOpt)}),[props.groupByFields]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_metric_control.WaffleMetricControls,{fields:props.createDerivedIndexPattern("metrics").fields,options:metricOptions,metric:props.metric,onChange:props.changeMetric,onChangeCustomMetrics:props.changeCustomMetrics,customMetrics:props.customMetrics})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_waffle_group_by_controls.WaffleGroupByControls,{options:groupByOptions,groupBy:props.groupBy,nodeType:props.nodeType,onChange:props.changeGroupBy,fields:props.createDerivedIndexPattern("metrics").fields,onChangeCustomOptions:props.changeCustomOptions,customOptions:props.customOptions})))};exports.MetricsAndGroupByToolbarItems=MetricsAndGroupByToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LayoutContent=void 0;var _eui=__webpack_require__(4);var _public=__webpack_require__(64);function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LayoutContent=(0,_public.euiStyled)(_eui.EuiPageContent)(_templateObject());exports.LayoutContent=LayoutContent},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_filter_state=__webpack_require__(900);Object.keys(_log_filter_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_filter_state[key]}})}));var _with_log_filter_url_state=__webpack_require__(1119);Object.keys(_with_log_filter_url_state).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _with_log_filter_url_state[key]}})}))},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceLoadingPage=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _loading_page=__webpack_require__(753);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceLoadingPage=function SourceLoadingPage(){return _react2.default.createElement(_loading_page.LoadingPage,{message:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceLoadingPage.loadingDataSourcesMessage",defaultMessage:"Loading data sources"})})};exports.SourceLoadingPage=SourceLoadingPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _analyze_in_ml_button=__webpack_require__(1379);Object.keys(_analyze_in_ml_button).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _analyze_in_ml_button[key]}})}));var _first_use_callout=__webpack_require__(1380);Object.keys(_first_use_callout).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _first_use_callout[key]}})}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.InfraLoadingStaticContentPanel=exports.InfraLoadingStaticPanel=exports.InfraLoadingPanel=void 0;var _eui=__webpack_require__(4);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  flex: 0 0 auto;\n  align-self: center;\n  text-align: center;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var InfraLoadingPanel=function(_React$PureComponent){_inherits(InfraLoadingPanel,_React$PureComponent);function InfraLoadingPanel(){_classCallCheck(this,InfraLoadingPanel);return _possibleConstructorReturn(this,_getPrototypeOf(InfraLoadingPanel).apply(this,arguments))}_createClass(InfraLoadingPanel,[{key:"render",value:function render(){var _this$props=this.props,height=_this$props.height,text=_this$props.text,width=_this$props.width;return React.createElement(InfraLoadingStaticPanel,{style:{height:height,width:width}},React.createElement(InfraLoadingStaticContentPanel,null,React.createElement(_eui.EuiPanel,null,React.createElement(_eui.EuiLoadingChart,{size:"m"}),React.createElement(_eui.EuiText,null,React.createElement("p",null,text)))))}}]);return InfraLoadingPanel}(React.PureComponent);exports.InfraLoadingPanel=InfraLoadingPanel;var InfraLoadingStaticPanel=_public.euiStyled.div(_templateObject());exports.InfraLoadingStaticPanel=InfraLoadingStaticPanel;var InfraLoadingStaticContentPanel=_public.euiStyled.div(_templateObject2());exports.InfraLoadingStaticContentPanel=InfraLoadingStaticContentPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_analysis=__webpack_require__(756);Object.keys(_log_analysis).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis[key]}})}));var _metadata_api=__webpack_require__(959);Object.keys(_metadata_api).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _metadata_api[key]}})}));var _log_entries=__webpack_require__(1432);Object.keys(_log_entries).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entries[key]}})}));var _metrics_explorer=__webpack_require__(844);Object.keys(_metrics_explorer).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _metrics_explorer[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddMessageVariables=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _eui=__webpack_require__(4);__webpack_require__(1536);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AddMessageVariables=function AddMessageVariables(_ref){var messageVariables=_ref.messageVariables,paramsProperty=_ref.paramsProperty,onSelectEventHandler=_ref.onSelectEventHandler;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isVariablesPopoverOpen=_useState2[0],setIsVariablesPopoverOpen=_useState2[1];var getMessageVariables=function getMessageVariables(){return messageVariables===null||messageVariables===void 0?void 0:messageVariables.map((function(variable,i){return _react.default.createElement(_eui.EuiContextMenuItem,{key:variable,"data-test-subj":"variableMenuButton-".concat(i),icon:"empty",onClick:function onClick(){onSelectEventHandler(variable);setIsVariablesPopoverOpen(false)}},"{{".concat(variable,"}}"))}))};var addVariableButtonTitle=_i18n.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addVariableTitle",{defaultMessage:"Add alert variable"});return _react.default.createElement(_eui.EuiPopover,{button:_react.default.createElement(_eui.EuiButtonIcon,{"data-test-subj":"".concat(paramsProperty,"AddVariableButton"),title:addVariableButtonTitle,onClick:function onClick(){return setIsVariablesPopoverOpen(true)},iconType:"indexOpen","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"})}),isOpen:isVariablesPopoverOpen,closePopover:function closePopover(){return setIsVariablesPopoverOpen(false)},panelPaddingSize:"none",anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenuPanel,{className:"messageVariablesPanel",items:getMessageVariables()}))};exports.AddMessageVariables=AddMessageVariables},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadAlertTypes=loadAlertTypes;exports.loadAlert=loadAlert;exports.loadAlertState=loadAlertState;exports.loadAlerts=loadAlerts;exports.deleteAlerts=deleteAlerts;exports.createAlert=createAlert;exports.updateAlert=updateAlert;exports.enableAlert=enableAlert;exports.enableAlerts=enableAlerts;exports.disableAlert=disableAlert;exports.disableAlerts=disableAlerts;exports.muteAlertInstance=muteAlertInstance;exports.unmuteAlertInstance=unmuteAlertInstance;exports.muteAlert=muteAlert;exports.muteAlerts=muteAlerts;exports.unmuteAlert=unmuteAlert;exports.unmuteAlerts=unmuteAlerts;exports.health=health;var t=_interopRequireWildcard(__webpack_require__(39));var _pipeable=__webpack_require__(48);var _Either=__webpack_require__(33);var _lodash=__webpack_require__(1);var _common=__webpack_require__(226);var _constants=__webpack_require__(94);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function loadAlertTypes(_x){return _loadAlertTypes.apply(this,arguments)}function _loadAlertTypes(){_loadAlertTypes=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var http;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:http=_ref.http;_context.next=3;return http.get("".concat(_constants.BASE_ALERT_API_PATH,"/types"));case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}}),_callee)})));return _loadAlertTypes.apply(this,arguments)}function loadAlert(_x2){return _loadAlert.apply(this,arguments)}function _loadAlert(){_loadAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref2){var http,alertId;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:http=_ref2.http,alertId=_ref2.alertId;_context2.next=3;return http.get("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(alertId));case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}}),_callee2)})));return _loadAlert.apply(this,arguments)}function loadAlertState(_x3){return _loadAlertState.apply(this,arguments)}function _loadAlertState(){_loadAlertState=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(_ref3){var http,alertId;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:http=_ref3.http,alertId=_ref3.alertId;_context3.next=3;return http.get("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(alertId,"/state")).then((function(state){return state?state:{}})).then((function(state){return(0,_pipeable.pipe)(_common.alertStateSchema.decode(state),(0,_Either.fold)((function(e){throw new Error('Alert "'.concat(alertId,'" has invalid state'))}),t.identity))}));case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}}),_callee3)})));return _loadAlertState.apply(this,arguments)}function loadAlerts(_x4){return _loadAlerts.apply(this,arguments)}function _loadAlerts(){_loadAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref4){var http,page,searchText,typesFilter,actionTypesFilter,filters;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:http=_ref4.http,page=_ref4.page,searchText=_ref4.searchText,typesFilter=_ref4.typesFilter,actionTypesFilter=_ref4.actionTypesFilter;filters=[];if(typesFilter&&typesFilter.length){filters.push("alert.attributes.alertTypeId:(".concat(typesFilter.join(" or "),")"))}if(actionTypesFilter&&actionTypesFilter.length){filters.push(["(",actionTypesFilter.map((function(id){return"alert.attributes.actions:{ actionTypeId:".concat(id," }")})).join(" OR "),")"].join(""))}_context4.next=6;return http.get("".concat(_constants.BASE_ALERT_API_PATH,"/_find"),{query:{page:page.index+1,per_page:page.size,search_fields:searchText?JSON.stringify(["name","tags"]):undefined,search:searchText,filter:filters.length?filters.join(" and "):undefined,default_search_operator:"AND",sort_field:"name.keyword",sort_order:"asc"}});case 6:return _context4.abrupt("return",_context4.sent);case 7:case"end":return _context4.stop()}}}),_callee4)})));return _loadAlerts.apply(this,arguments)}function deleteAlerts(_x5){return _deleteAlerts.apply(this,arguments)}function _deleteAlerts(){_deleteAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(_ref5){var ids,http,successes,errors;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:ids=_ref5.ids,http=_ref5.http;successes=[];errors=[];_context5.next=5;return Promise.all(ids.map((function(id){return http.delete("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id))}))).then((function(fulfilled){successes.push.apply(successes,_toConsumableArray(fulfilled))}),(function(rejected){errors.push.apply(errors,_toConsumableArray(rejected))}));case 5:return _context5.abrupt("return",{successes:successes,errors:errors});case 6:case"end":return _context5.stop()}}}),_callee5)})));return _deleteAlerts.apply(this,arguments)}function createAlert(_x6){return _createAlert.apply(this,arguments)}function _createAlert(){_createAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(_ref6){var http,alert;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:http=_ref6.http,alert=_ref6.alert;_context6.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH),{body:JSON.stringify(alert)});case 3:return _context6.abrupt("return",_context6.sent);case 4:case"end":return _context6.stop()}}}),_callee6)})));return _createAlert.apply(this,arguments)}function updateAlert(_x7){return _updateAlert.apply(this,arguments)}function _updateAlert(){_updateAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(_ref7){var http,alert,id;return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:http=_ref7.http,alert=_ref7.alert,id=_ref7.id;_context7.next=3;return http.put("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id),{body:JSON.stringify((0,_lodash.pick)(alert,["throttle","name","tags","schedule","params","actions"]))});case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}}}),_callee7)})));return _updateAlert.apply(this,arguments)}function enableAlert(_x8){return _enableAlert.apply(this,arguments)}function _enableAlert(){_enableAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(_ref8){var id,http;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:id=_ref8.id,http=_ref8.http;_context8.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/_enable"));case 3:case"end":return _context8.stop()}}}),_callee8)})));return _enableAlert.apply(this,arguments)}function enableAlerts(_x9){return _enableAlerts.apply(this,arguments)}function _enableAlerts(){_enableAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(_ref9){var ids,http;return regeneratorRuntime.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:ids=_ref9.ids,http=_ref9.http;_context9.next=3;return Promise.all(ids.map((function(id){return enableAlert({id:id,http:http})})));case 3:case"end":return _context9.stop()}}}),_callee9)})));return _enableAlerts.apply(this,arguments)}function disableAlert(_x10){return _disableAlert.apply(this,arguments)}function _disableAlert(){_disableAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(_ref10){var id,http;return regeneratorRuntime.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:id=_ref10.id,http=_ref10.http;_context10.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/_disable"));case 3:case"end":return _context10.stop()}}}),_callee10)})));return _disableAlert.apply(this,arguments)}function disableAlerts(_x11){return _disableAlerts.apply(this,arguments)}function _disableAlerts(){_disableAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(_ref11){var ids,http;return regeneratorRuntime.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:ids=_ref11.ids,http=_ref11.http;_context11.next=3;return Promise.all(ids.map((function(id){return disableAlert({id:id,http:http})})));case 3:case"end":return _context11.stop()}}}),_callee11)})));return _disableAlerts.apply(this,arguments)}function muteAlertInstance(_x12){return _muteAlertInstance.apply(this,arguments)}function _muteAlertInstance(){_muteAlertInstance=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(_ref12){var id,instanceId,http;return regeneratorRuntime.wrap((function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:id=_ref12.id,instanceId=_ref12.instanceId,http=_ref12.http;_context12.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/alert_instance/").concat(instanceId,"/_mute"));case 3:case"end":return _context12.stop()}}}),_callee12)})));return _muteAlertInstance.apply(this,arguments)}function unmuteAlertInstance(_x13){return _unmuteAlertInstance.apply(this,arguments)}function _unmuteAlertInstance(){_unmuteAlertInstance=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(_ref13){var id,instanceId,http;return regeneratorRuntime.wrap((function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:id=_ref13.id,instanceId=_ref13.instanceId,http=_ref13.http;_context13.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/alert_instance/").concat(instanceId,"/_unmute"));case 3:case"end":return _context13.stop()}}}),_callee13)})));return _unmuteAlertInstance.apply(this,arguments)}function muteAlert(_x14){return _muteAlert.apply(this,arguments)}function _muteAlert(){_muteAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(_ref14){var id,http;return regeneratorRuntime.wrap((function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:id=_ref14.id,http=_ref14.http;_context14.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/_mute_all"));case 3:case"end":return _context14.stop()}}}),_callee14)})));return _muteAlert.apply(this,arguments)}function muteAlerts(_x15){return _muteAlerts.apply(this,arguments)}function _muteAlerts(){_muteAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee15(_ref15){var ids,http;return regeneratorRuntime.wrap((function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:ids=_ref15.ids,http=_ref15.http;_context15.next=3;return Promise.all(ids.map((function(id){return muteAlert({http:http,id:id})})));case 3:case"end":return _context15.stop()}}}),_callee15)})));return _muteAlerts.apply(this,arguments)}function unmuteAlert(_x16){return _unmuteAlert.apply(this,arguments)}function _unmuteAlert(){_unmuteAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee16(_ref16){var id,http;return regeneratorRuntime.wrap((function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:id=_ref16.id,http=_ref16.http;_context16.next=3;return http.post("".concat(_constants.BASE_ALERT_API_PATH,"/").concat(id,"/_unmute_all"));case 3:case"end":return _context16.stop()}}}),_callee16)})));return _unmuteAlert.apply(this,arguments)}function unmuteAlerts(_x17){return _unmuteAlerts.apply(this,arguments)}function _unmuteAlerts(){_unmuteAlerts=_asyncToGenerator(regeneratorRuntime.mark((function _callee17(_ref17){var ids,http;return regeneratorRuntime.wrap((function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:ids=_ref17.ids,http=_ref17.http;_context17.next=3;return Promise.all(ids.map((function(id){return unmuteAlert({id:id,http:http})})));case 3:case"end":return _context17.stop()}}}),_callee17)})));return _unmuteAlerts.apply(this,arguments)}function health(_x18){return _health.apply(this,arguments)}function _health(){_health=_asyncToGenerator(regeneratorRuntime.mark((function _callee18(_ref18){var http;return regeneratorRuntime.wrap((function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:http=_ref18.http;_context18.next=3;return http.get("".concat(_constants.BASE_ALERT_API_PATH,"/_health"));case 3:return _context18.abrupt("return",_context18.sent);case 4:case"end":return _context18.stop()}}}),_callee18)})));return _health.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.withBulkAlertOperations=withBulkAlertOperations;var _react=_interopRequireDefault(__webpack_require__(3));var _app_context=__webpack_require__(706);var _alert_api=__webpack_require__(743);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function withBulkAlertOperations(WrappedComponent){return function(props){var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http;return _react.default.createElement(WrappedComponent,_extends({},props,{muteAlerts:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(items){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(0,_alert_api.muteAlerts)({http:http,ids:items.filter((function(item){return!isAlertMuted(item)})).map((function(item){return item.id}))}));case 1:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),unmuteAlerts:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(items){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",(0,_alert_api.unmuteAlerts)({http:http,ids:items.filter(isAlertMuted).map((function(item){return item.id}))}));case 1:case"end":return _context2.stop()}}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}(),enableAlerts:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(items){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",(0,_alert_api.enableAlerts)({http:http,ids:items.filter(isAlertDisabled).map((function(item){return item.id}))}));case 1:case"end":return _context3.stop()}}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}(),disableAlerts:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(items){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",(0,_alert_api.disableAlerts)({http:http,ids:items.filter((function(item){return!isAlertDisabled(item)})).map((function(item){return item.id}))}));case 1:case"end":return _context4.stop()}}}),_callee4)})));return function(_x4){return _ref4.apply(this,arguments)}}(),deleteAlerts:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(items){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",(0,_alert_api.deleteAlerts)({http:http,ids:items.map((function(item){return item.id}))}));case 1:case"end":return _context5.stop()}}}),_callee5)})));return function(_x5){return _ref5.apply(this,arguments)}}(),muteAlert:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(alert){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(isAlertMuted(alert)){_context6.next=2;break}return _context6.abrupt("return",(0,_alert_api.muteAlert)({http:http,id:alert.id}));case 2:case"end":return _context6.stop()}}}),_callee6)})));return function(_x6){return _ref6.apply(this,arguments)}}(),unmuteAlert:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(alert){return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!isAlertMuted(alert)){_context7.next=2;break}return _context7.abrupt("return",(0,_alert_api.unmuteAlert)({http:http,id:alert.id}));case 2:case"end":return _context7.stop()}}}),_callee7)})));return function(_x7){return _ref7.apply(this,arguments)}}(),muteAlertInstance:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(alert,instanceId){return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(isAlertInstanceMuted(alert,instanceId)){_context8.next=2;break}return _context8.abrupt("return",(0,_alert_api.muteAlertInstance)({http:http,id:alert.id,instanceId:instanceId}));case 2:case"end":return _context8.stop()}}}),_callee8)})));return function(_x8,_x9){return _ref8.apply(this,arguments)}}(),unmuteAlertInstance:function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(alert,instanceId){return regeneratorRuntime.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!isAlertInstanceMuted(alert,instanceId)){_context9.next=2;break}return _context9.abrupt("return",(0,_alert_api.unmuteAlertInstance)({http:http,id:alert.id,instanceId:instanceId}));case 2:case"end":return _context9.stop()}}}),_callee9)})));return function(_x10,_x11){return _ref9.apply(this,arguments)}}(),enableAlert:function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(alert){return regeneratorRuntime.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!isAlertDisabled(alert)){_context10.next=2;break}return _context10.abrupt("return",(0,_alert_api.enableAlert)({http:http,id:alert.id}));case 2:case"end":return _context10.stop()}}}),_callee10)})));return function(_x12){return _ref10.apply(this,arguments)}}(),disableAlert:function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(alert){return regeneratorRuntime.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:if(isAlertDisabled(alert)){_context11.next=2;break}return _context11.abrupt("return",(0,_alert_api.disableAlert)({http:http,id:alert.id}));case 2:case"end":return _context11.stop()}}}),_callee11)})));return function(_x13){return _ref11.apply(this,arguments)}}(),deleteAlert:function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(alert){return regeneratorRuntime.wrap((function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.abrupt("return",(0,_alert_api.deleteAlerts)({http:http,ids:[alert.id]}));case 1:case"end":return _context12.stop()}}}),_callee12)})));return function(_x14){return _ref12.apply(this,arguments)}}(),loadAlert:function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(alertId){return regeneratorRuntime.wrap((function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",(0,_alert_api.loadAlert)({http:http,alertId:alertId}));case 1:case"end":return _context13.stop()}}}),_callee13)})));return function(_x15){return _ref13.apply(this,arguments)}}(),loadAlertState:function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(alertId){return regeneratorRuntime.wrap((function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",(0,_alert_api.loadAlertState)({http:http,alertId:alertId}));case 1:case"end":return _context14.stop()}}}),_callee14)})));return function(_x16){return _ref14.apply(this,arguments)}}(),loadAlertTypes:_asyncToGenerator(regeneratorRuntime.mark((function _callee15(){return regeneratorRuntime.wrap((function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:return _context15.abrupt("return",(0,_alert_api.loadAlertTypes)({http:http}));case 1:case"end":return _context15.stop()}}}),_callee15)}))),getHealth:_asyncToGenerator(regeneratorRuntime.mark((function _callee16(){return regeneratorRuntime.wrap((function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:return _context16.abrupt("return",(0,_alert_api.health)({http:http}));case 1:case"end":return _context16.stop()}}}),_callee16)})))}))}}function isAlertDisabled(alert){return alert.enabled===false}function isAlertMuted(alert){return alert.muteAll===true}function isAlertInstanceMuted(alert,instanceId){return alert.mutedInstanceIds.findIndex((function(muted){return muted===instanceId}))>=0}},,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingPage=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _page=__webpack_require__(709);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LoadingPage=function LoadingPage(_ref){var message=_ref.message;return _react.default.createElement(_page.FlexPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})),_react.default.createElement(_eui.EuiFlexItem,null,message)))))};exports.LoadingPage=LoadingPage},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"metrics",{enumerable:true,get:function get(){return _metrics.metrics}});exports.findInventoryFields=exports.findInventoryModel=exports.inventoryModels=void 0;var _i18n=__webpack_require__(0);var _host=__webpack_require__(1239);var _pod=__webpack_require__(1261);var _aws_ec=__webpack_require__(1271);var _aws_s=__webpack_require__(1280);var _aws_rds=__webpack_require__(1291);var _aws_sqs=__webpack_require__(1302);var _container=__webpack_require__(1313);var _metrics=__webpack_require__(933);var inventoryModels=[_host.host,_pod.pod,_container.container,_aws_ec.awsEC2,_aws_s.awsS3,_aws_rds.awsRDS,_aws_sqs.awsSQS];exports.inventoryModels=inventoryModels;var findInventoryModel=function findInventoryModel(type){var model=inventoryModels.find((function(m){return m.id===type}));if(!model){throw new Error(_i18n.i18n.translate("xpack.infra.inventoryModels.findInventoryModel.error",{defaultMessage:"The inventory model you've attempted to find does not exist"}))}return model};exports.findInventoryModel=findInventoryModel;var LEGACY_TYPES=["host","pod","container"];var getFieldByType=function getFieldByType(type,fields){switch(type){case"pod":return fields.pod;case"host":return fields.host;case"container":return fields.container}};var findInventoryFields=function findInventoryFields(type,fields){var inventoryModel=findInventoryModel(type);if(LEGACY_TYPES.includes(type)){var id=getFieldByType(type,fields)||inventoryModel.fields.id;return _objectSpread({},inventoryModel.fields,{id:id})}else{return inventoryModel.fields}};exports.findInventoryFields=findInventoryFields},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingOverlayWrapper=void 0;var _eui=__webpack_require__(4);var _polished=__webpack_require__(215);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  align-items: center;\n  background-color: ",";\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var LoadingOverlayWrapper=function LoadingOverlayWrapper(_ref){var children=_ref.children,isLoading=_ref.isLoading,loadingChildren=_ref.loadingChildren,rest=_objectWithoutProperties(_ref,["children","isLoading","loadingChildren"]);return _react.default.createElement(RelativeDiv,rest,children,isLoading?_react.default.createElement(Overlay,null,loadingChildren):null)};exports.LoadingOverlayWrapper=LoadingOverlayWrapper;var Overlay=function Overlay(_ref2){var children=_ref2.children;return _react.default.createElement(OverlayDiv,null,children?children:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))};var RelativeDiv=_public.euiStyled.div(_templateObject());var OverlayDiv=_public.euiStyled.div(_templateObject2(),(function(props){return(0,_polished.transparentize)(.3,props.theme.eui.euiColorEmptyShade)}),(function(props){return props.theme.eui.euiZLevel1}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _results=__webpack_require__(1391);Object.keys(_results).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _results[key]}})}));var _validation=__webpack_require__(1402);Object.keys(_validation).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _validation[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useMeasuredCharacterDimensions=exports.unwrappedContentStyle=exports.preWrappedContentStyle=exports.longWrappedContentStyle=exports.hoveredContentStyle=exports.monospaceTextStyle=void 0;var _polished=__webpack_require__(215);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject6(){var data=_taggedTemplateLiteral(["\n  visibility: hidden;\n  position: absolute;\n  height: auto;\n  width: auto;\n  padding: 0;\n  margin: 0;\n\n  ",";\n"]);_templateObject6=function _templateObject6(){return data};return data}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _templateObject5(){var data=_taggedTemplateLiteral(["\n  overflow: hidden;\n  white-space: nowrap;\n"]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  overflow: hidden;\n  white-space: pre;\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  overflow: visible;\n  white-space: pre-wrap;\n  word-break: break-all;\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  font-family: ",";\n  font-size: ",";\n  line-height: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var monospaceTextStyle=function monospaceTextStyle(scale){return(0,_public.css)(_templateObject(),(function(props){return props.theme.eui.euiCodeFontFamily}),(function(props){switch(scale){case"large":return props.theme.eui.euiFontSizeM;case"medium":return props.theme.eui.euiFontSizeS;case"small":return props.theme.eui.euiFontSizeXS;default:return props.theme.eui.euiFontSize}}),(function(props){return props.theme.eui.euiLineHeight}))};exports.monospaceTextStyle=monospaceTextStyle;var hoveredContentStyle=(0,_public.css)(_templateObject2(),(function(props){return props.theme.darkMode?(0,_polished.transparentize)(.9,(0,_polished.darken)(.05,props.theme.eui.euiColorHighlight)):(0,_polished.darken)(.05,props.theme.eui.euiColorHighlight)}));exports.hoveredContentStyle=hoveredContentStyle;var longWrappedContentStyle=(0,_public.css)(_templateObject3());exports.longWrappedContentStyle=longWrappedContentStyle;var preWrappedContentStyle=(0,_public.css)(_templateObject4());exports.preWrappedContentStyle=preWrappedContentStyle;var unwrappedContentStyle=(0,_public.css)(_templateObject5());exports.unwrappedContentStyle=unwrappedContentStyle;var useMeasuredCharacterDimensions=function useMeasuredCharacterDimensions(scale){var _useState=(0,_react.useState)({height:0,width:0}),_useState2=_slicedToArray(_useState,2),dimensions=_useState2[0],setDimensions=_useState2[1];var measureElement=(0,_react.useCallback)((function(element){if(!element){return}var boundingBox=element.getBoundingClientRect();setDimensions({height:boundingBox.height,width:boundingBox.width})}),[]);var CharacterDimensionsProbe=(0,_react.useMemo)((function(){return function(){return _react.default.createElement(MonospaceCharacterDimensionsProbe,{scale:scale,ref:measureElement},"X")}}),[measureElement,scale]);return{CharacterDimensionsProbe:CharacterDimensionsProbe,dimensions:dimensions}};exports.useMeasuredCharacterDimensions=useMeasuredCharacterDimensions;var MonospaceCharacterDimensionsProbe=_public.euiStyled.div.attrs((function(){return{"aria-hidden":true}}))(_templateObject6(),(function(props){return monospaceTextStyle(props.scale)}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.AutoSizer=void 0;var _lodash=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(3));var _resizeObserverPolyfill=_interopRequireDefault(__webpack_require__(241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AutoSizer=function(_React$PureComponent){_inherits(AutoSizer,_React$PureComponent);function AutoSizer(props){var _this;_classCallCheck(this,AutoSizer);_this=_possibleConstructorReturn(this,_getPrototypeOf(AutoSizer).call(this,props));_defineProperty(_assertThisInitialized(_this),"element",null);_defineProperty(_assertThisInitialized(_this),"resizeObserver",null);_defineProperty(_assertThisInitialized(_this),"windowWidth",-1);_defineProperty(_assertThisInitialized(_this),"windowHeight",-1);_defineProperty(_assertThisInitialized(_this),"state",{boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0}});_defineProperty(_assertThisInitialized(_this),"measure",(function(entry){if(!_this.element){return}var _this$props=_this.props,_this$props$content=_this$props.content,content=_this$props$content===void 0?true:_this$props$content,_this$props$bounds=_this$props.bounds,bounds=_this$props$bounds===void 0?false:_this$props$bounds;var _this$state=_this.state,previousBoundsMeasurement=_this$state.boundsMeasurement,previousContentMeasurement=_this$state.contentMeasurement;var boundsRect=bounds?_this.element.getBoundingClientRect():null;var boundsMeasurement=boundsRect?{height:boundsRect.height,width:boundsRect.width}:previousBoundsMeasurement;if(_this.props.detectAnyWindowResize&&boundsMeasurement){if(boundsMeasurement.width&&_this.windowWidth!==-1&&_this.windowWidth>window.innerWidth){var gap=_this.windowWidth-window.innerWidth;boundsMeasurement.width=boundsMeasurement.width-gap}if(boundsMeasurement.height&&_this.windowHeight!==-1&&_this.windowHeight>window.innerHeight){var _gap=_this.windowHeight-window.innerHeight;boundsMeasurement.height=boundsMeasurement.height-_gap}}_this.windowWidth=window.innerWidth;_this.windowHeight=window.innerHeight;var contentRect=content&&entry?entry.contentRect:null;var contentMeasurement=contentRect&&entry?{height:entry.contentRect.height,width:entry.contentRect.width}:previousContentMeasurement;if((0,_lodash.isEqual)(boundsMeasurement,previousBoundsMeasurement)&&(0,_lodash.isEqual)(contentMeasurement,previousContentMeasurement)){return}requestAnimationFrame((function(){if(!_this.resizeObserver){return}_this.setState({boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement});if(_this.props.onResize){_this.props.onResize({bounds:boundsMeasurement,content:contentMeasurement})}}))}));_defineProperty(_assertThisInitialized(_this),"updateMeasurement",(function(){return requestAnimationFrame((function(){var detectAnyWindowResize=_this.props.detectAnyWindowResize;if(!detectAnyWindowResize)return;switch(detectAnyWindowResize){case"height":if(_this.windowHeight!==window.innerHeight){_this.measure(null)}break;case"width":if(_this.windowWidth!==window.innerWidth){_this.measure(null)}break;default:_this.measure(null)}}))}));_defineProperty(_assertThisInitialized(_this),"storeRef",(function(element){if(_this.element&&_this.resizeObserver){_this.resizeObserver.unobserve(_this.element)}if(element&&_this.resizeObserver){_this.resizeObserver.observe(element)}_this.element=element}));if(_this.props.detectAnyWindowResize){window.addEventListener("resize",_this.updateMeasurement)}_this.resizeObserver=new _resizeObserverPolyfill.default((function(entries){entries.forEach((function(entry){if(entry.target===_this.element){_this.measure(entry)}}))}));return _this}_createClass(AutoSizer,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.resizeObserver){this.resizeObserver.disconnect();this.resizeObserver=null}if(this.props.detectAnyWindowResize){window.removeEventListener("resize",this.updateMeasurement)}}},{key:"render",value:function render(){var children=this.props.children;var _this$state2=this.state,boundsMeasurement=_this$state2.boundsMeasurement,contentMeasurement=_this$state2.contentMeasurement;return children({bounds:boundsMeasurement,content:contentMeasurement,measureRef:this.storeRef})}}]);return AutoSizer}(_react.default.PureComponent);exports.AutoSizer=AutoSizer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesCursorRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var logEntriesCursorRT=rt.type({time:rt.number,tiebreaker:rt.number});exports.logEntriesCursorRT=logEntriesCursorRT},function(module,exports,__webpack_require__){"use strict";var _defaultPalette;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.sampleColor=exports.colorTransformer=exports.createPaletteTransformer=exports.defaultPalette=exports.MetricsExplorerColor=void 0;var _lodash=__webpack_require__(1);var _eui=__webpack_require__(4);var MetricsExplorerColor;exports.MetricsExplorerColor=MetricsExplorerColor;(function(MetricsExplorerColor){MetricsExplorerColor["color0"]="color0";MetricsExplorerColor["color1"]="color1";MetricsExplorerColor["color2"]="color2";MetricsExplorerColor["color3"]="color3";MetricsExplorerColor["color4"]="color4";MetricsExplorerColor["color5"]="color5";MetricsExplorerColor["color6"]="color6";MetricsExplorerColor["color7"]="color7";MetricsExplorerColor["color8"]="color8";MetricsExplorerColor["color9"]="color9"})(MetricsExplorerColor||(exports.MetricsExplorerColor=MetricsExplorerColor={}));var euiPalette=(0,_eui.euiPaletteColorBlind)();var defaultPalette=(_defaultPalette={},_defineProperty(_defaultPalette,MetricsExplorerColor.color0,euiPalette[1]),_defineProperty(_defaultPalette,MetricsExplorerColor.color1,euiPalette[2]),_defineProperty(_defaultPalette,MetricsExplorerColor.color2,euiPalette[0]),_defineProperty(_defaultPalette,MetricsExplorerColor.color3,euiPalette[3]),_defineProperty(_defaultPalette,MetricsExplorerColor.color4,euiPalette[4]),_defineProperty(_defaultPalette,MetricsExplorerColor.color5,euiPalette[5]),_defineProperty(_defaultPalette,MetricsExplorerColor.color6,euiPalette[6]),_defineProperty(_defaultPalette,MetricsExplorerColor.color7,euiPalette[7]),_defineProperty(_defaultPalette,MetricsExplorerColor.color8,euiPalette[8]),_defineProperty(_defaultPalette,MetricsExplorerColor.color9,euiPalette[9]),_defaultPalette);exports.defaultPalette=defaultPalette;var createPaletteTransformer=function createPaletteTransformer(palette){return function(color){return palette[color]}};exports.createPaletteTransformer=createPaletteTransformer;var colorTransformer=createPaletteTransformer(defaultPalette);exports.colorTransformer=colorTransformer;var sampleColor=function sampleColor(){var usedColors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var available=(0,_lodash.difference)((0,_lodash.values)(MetricsExplorerColor),usedColors);return(0,_lodash.first)(available)||MetricsExplorerColor.color0};exports.sampleColor=sampleColor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useActionsConnectorsContext=exports.ActionsConnectorsContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ActionsConnectorsContext=(0,_react.createContext)(null);var ActionsConnectorsContextProvider=function ActionsConnectorsContextProvider(_ref){var children=_ref.children,value=_ref.value;return _react.default.createElement(ActionsConnectorsContext.Provider,{value:value},children)};exports.ActionsConnectorsContextProvider=ActionsConnectorsContextProvider;var useActionsConnectorsContext=function useActionsConnectorsContext(){var ctx=(0,_react.useContext)(ActionsConnectorsContext);if(!ctx){throw new Error("ActionsConnectorsContext has not been set.")}return ctx};exports.useActionsConnectorsContext=useActionsConnectorsContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAlertsContext=exports.AlertsContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AlertsContext=(0,_react.createContext)(null);var AlertsContextProvider=function AlertsContextProvider(_ref){var children=_ref.children,value=_ref.value;return _react.default.createElement(AlertsContext.Provider,{value:value},children)};exports.AlertsContextProvider=AlertsContextProvider;var useAlertsContext=function useAlertsContext(){var ctx=(0,_react.useContext)(AlertsContext);if(!ctx){throw new Error("ActionsConnectorsContext has not been set.")}return ctx};exports.useAlertsContext=useAlertsContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithWaffleOptionsUrlState=exports.WithWaffleOptions=exports.withWaffleOptions=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRedux=__webpack_require__(733);var _reselect=__webpack_require__(745);var _lodash=__webpack_require__(1);var _store=__webpack_require__(725);var _typed_react=__webpack_require__(220);var _typed_redux=__webpack_require__(746);var _url_state=__webpack_require__(711);var _snapshot_api=__webpack_require__(730);var _types=__webpack_require__(727);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var selectOptionsUrlState=(0,_reselect.createSelector)(_store.waffleOptionsSelectors.selectMetric,_store.waffleOptionsSelectors.selectView,_store.waffleOptionsSelectors.selectGroupBy,_store.waffleOptionsSelectors.selectNodeType,_store.waffleOptionsSelectors.selectCustomOptions,_store.waffleOptionsSelectors.selectBoundsOverride,_store.waffleOptionsSelectors.selectAutoBounds,_store.waffleOptionsSelectors.selectAccountId,_store.waffleOptionsSelectors.selectRegion,_store.waffleOptionsSelectors.selectCustomMetrics,(function(metric,view,groupBy,nodeType,customOptions,boundsOverride,autoBounds,accountId,region,customMetrics){return{metric:metric,groupBy:groupBy,nodeType:nodeType,view:view,customOptions:customOptions,boundsOverride:boundsOverride,autoBounds:autoBounds,accountId:accountId,region:region,customMetrics:customMetrics}}));var withWaffleOptions=(0,_reactRedux.connect)((function(state){return{metric:_store.waffleOptionsSelectors.selectMetric(state),groupBy:_store.waffleOptionsSelectors.selectGroupBy(state),nodeType:_store.waffleOptionsSelectors.selectNodeType(state),view:_store.waffleOptionsSelectors.selectView(state),customOptions:_store.waffleOptionsSelectors.selectCustomOptions(state),boundsOverride:_store.waffleOptionsSelectors.selectBoundsOverride(state),autoBounds:_store.waffleOptionsSelectors.selectAutoBounds(state),accountId:_store.waffleOptionsSelectors.selectAccountId(state),region:_store.waffleOptionsSelectors.selectRegion(state),urlState:selectOptionsUrlState(state),customMetrics:_store.waffleOptionsSelectors.selectCustomMetrics(state)}}),(0,_typed_redux.bindPlainActionCreators)({changeMetric:_store.waffleOptionsActions.changeMetric,changeGroupBy:_store.waffleOptionsActions.changeGroupBy,changeNodeType:_store.waffleOptionsActions.changeNodeType,changeView:_store.waffleOptionsActions.changeView,changeCustomOptions:_store.waffleOptionsActions.changeCustomOptions,changeBoundsOverride:_store.waffleOptionsActions.changeBoundsOverride,changeAutoBounds:_store.waffleOptionsActions.changeAutoBounds,changeAccount:_store.waffleOptionsActions.changeAccount,changeRegion:_store.waffleOptionsActions.changeRegion,changeCustomMetrics:_store.waffleOptionsActions.changeCustomMetrics}));exports.withWaffleOptions=withWaffleOptions;var WithWaffleOptions=(0,_typed_react.asChildFunctionRenderer)(withWaffleOptions);exports.WithWaffleOptions=WithWaffleOptions;var WithWaffleOptionsUrlState=function WithWaffleOptionsUrlState(){return _react.default.createElement(WithWaffleOptions,null,(function(_ref){var changeMetric=_ref.changeMetric,urlState=_ref.urlState,changeGroupBy=_ref.changeGroupBy,changeNodeType=_ref.changeNodeType,changeView=_ref.changeView,changeCustomOptions=_ref.changeCustomOptions,changeAutoBounds=_ref.changeAutoBounds,changeBoundsOverride=_ref.changeBoundsOverride,changeAccount=_ref.changeAccount,changeRegion=_ref.changeRegion,changeCustomMetrics=_ref.changeCustomMetrics;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:urlState,urlStateKey:"waffleOptions",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.metric){changeMetric(newUrlState.metric)}if(newUrlState&&newUrlState.groupBy){changeGroupBy(newUrlState.groupBy)}if(newUrlState&&newUrlState.nodeType){changeNodeType(newUrlState.nodeType)}if(newUrlState&&newUrlState.view){changeView(newUrlState.view)}if(newUrlState&&newUrlState.customOptions){changeCustomOptions(newUrlState.customOptions)}if(newUrlState&&newUrlState.bounds){changeBoundsOverride(newUrlState.bounds)}if(newUrlState&&newUrlState.auto){changeAutoBounds(newUrlState.auto)}if(newUrlState&&newUrlState.accountId){changeAccount(newUrlState.accountId)}if(newUrlState&&newUrlState.region){changeRegion(newUrlState.region)}if(newUrlState&&newUrlState.customMetrics){changeCustomMetrics(newUrlState.customMetrics)}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.metric){changeMetric(initialUrlState.metric)}if(initialUrlState&&initialUrlState.groupBy){changeGroupBy(initialUrlState.groupBy)}if(initialUrlState&&initialUrlState.nodeType){changeNodeType(initialUrlState.nodeType)}if(initialUrlState&&initialUrlState.view){changeView(initialUrlState.view)}if(initialUrlState&&initialUrlState.customOptions){changeCustomOptions(initialUrlState.customOptions)}if(initialUrlState&&initialUrlState.bounds){changeBoundsOverride(initialUrlState.bounds)}if(initialUrlState&&initialUrlState.auto){changeAutoBounds(initialUrlState.auto)}if(initialUrlState&&initialUrlState.accountId){changeAccount(initialUrlState.accountId)}if(initialUrlState&&initialUrlState.region){changeRegion(initialUrlState.region)}if(initialUrlState&&initialUrlState.customMetrics){changeCustomMetrics(initialUrlState.customMetrics)}}})}))};exports.WithWaffleOptionsUrlState=WithWaffleOptionsUrlState;var mapToUrlState=function mapToUrlState(value){return value?{metric:mapToMetricUrlState(value.metric),groupBy:mapToGroupByUrlState(value.groupBy),nodeType:mapToNodeTypeUrlState(value.nodeType),view:mapToViewUrlState(value.view),customOptions:mapToCustomOptionsUrlState(value.customOptions),bounds:mapToBoundsOverideUrlState(value.boundsOverride),auto:mapToAutoBoundsUrlState(value.autoBounds),accountId:value.accountId,region:value.region,customMetrics:mapToCustomMetricsUrlState(value.customMetrics)}:undefined};var isInfraNodeType=function isInfraNodeType(value){return value in _types.ItemTypeRT};var isInfraSnapshotMetricInput=function isInfraSnapshotMetricInput(subject){return subject!=null&&subject.type in _types.SnapshotMetricTypeRT};var isInfraSnapshotGroupbyInput=function isInfraSnapshotGroupbyInput(subject){return subject!=null&&subject.type!=null};var isInfraGroupByOption=function isInfraGroupByOption(subject){return subject!=null&&subject.text!=null&&subject.field!=null};var mapToMetricUrlState=function mapToMetricUrlState(subject){return subject&&isInfraSnapshotMetricInput(subject)?subject:undefined};var mapToGroupByUrlState=function mapToGroupByUrlState(subject){return subject&&Array.isArray(subject)&&subject.every(isInfraSnapshotGroupbyInput)?subject:undefined};var mapToNodeTypeUrlState=function mapToNodeTypeUrlState(subject){return isInfraNodeType(subject)?subject:undefined};var mapToViewUrlState=function mapToViewUrlState(subject){return subject&&["map","table"].includes(subject)?subject:undefined};var mapToCustomOptionsUrlState=function mapToCustomOptionsUrlState(subject){return subject&&Array.isArray(subject)&&subject.every(isInfraGroupByOption)?subject:undefined};var mapToCustomMetricsUrlState=function mapToCustomMetricsUrlState(subject){return subject&&Array.isArray(subject)&&subject.every((function(s){return _snapshot_api.SnapshotCustomMetricInputRT.is(s)}))?subject:[]};var mapToBoundsOverideUrlState=function mapToBoundsOverideUrlState(subject){return subject!=null&&(0,_lodash.isNumber)(subject.max)&&(0,_lodash.isNumber)(subject.min)?subject:undefined};var mapToAutoBoundsUrlState=function mapToAutoBoundsUrlState(subject){return subject!=null&&(0,_lodash.isBoolean)(subject)?subject:undefined}},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertKueryToElasticSearchQuery=void 0;var _public=__webpack_require__(25);var convertKueryToElasticSearchQuery=function convertKueryToElasticSearchQuery(kueryExpression,indexPattern){try{return kueryExpression?JSON.stringify(_public.esKuery.toElasticsearchQuery(_public.esKuery.fromKueryExpression(kueryExpression),indexPattern)):""}catch(err){return""}};exports.convertKueryToElasticSearchQuery=convertKueryToElasticSearchQuery},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_unit=__webpack_require__(917);Object.keys(_time_unit).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _time_unit[key]}})}));var _time_scale=__webpack_require__(1222);Object.keys(_time_scale).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _time_scale[key]}})}));var _time_key=__webpack_require__(1223);Object.keys(_time_key).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _time_key[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFromFromLocation=exports.getToFromLocation=exports.getFilterFromLocation=exports.getTimeFromLocation=void 0;var _url_state=__webpack_require__(711);var getTimeFromLocation=function getTimeFromLocation(location){var timeParam=(0,_url_state.getParamFromQueryString)((0,_url_state.getQueryStringFromLocation)(location),"time");return timeParam?parseFloat(timeParam):NaN};exports.getTimeFromLocation=getTimeFromLocation;var getFilterFromLocation=function getFilterFromLocation(location){var param=(0,_url_state.getParamFromQueryString)((0,_url_state.getQueryStringFromLocation)(location),"filter");return param?param:""};exports.getFilterFromLocation=getFilterFromLocation;var getToFromLocation=function getToFromLocation(location){var timeParam=(0,_url_state.getParamFromQueryString)((0,_url_state.getQueryStringFromLocation)(location),"to");return timeParam?parseFloat(timeParam):NaN};exports.getToFromLocation=getToFromLocation;var getFromFromLocation=function getFromFromLocation(location){var timeParam=(0,_url_state.getParamFromQueryString)((0,_url_state.getQueryStringFromLocation)(location),"from");return timeParam?parseFloat(timeParam):NaN};exports.getFromFromLocation=getFromFromLocation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceMetricTimeInQueryString=exports.WithMetricsTimeUrlState=exports.WithMetricsTime=exports.MetricsTimeContainer=exports.useMetricsTime=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=_interopRequireWildcard(__webpack_require__(3));var _lodash=__webpack_require__(1);var _moment=_interopRequireDefault(__webpack_require__(11));var _datemath=_interopRequireDefault(__webpack_require__(24));var rt=_interopRequireWildcard(__webpack_require__(39));var _Either=__webpack_require__(33);var _url_state=__webpack_require__(711);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var parseRange=function parseRange(range){var parsedFrom=_datemath.default.parse(range.from);var parsedTo=_datemath.default.parse(range.to,{roundUp:true});return _objectSpread({},range,{from:parsedFrom&&parsedFrom.valueOf()||(0,_moment.default)().subtract(1,"hour").valueOf(),to:parsedTo&&parsedTo.valueOf()||(0,_moment.default)().valueOf()})};var useMetricsTime=function useMetricsTime(){var defaultRange={from:"now-1h",to:"now",interval:">=1m"};var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isAutoReloading=_useState2[0],setAutoReload=_useState2[1];var _useState3=(0,_react.useState)(5e3),_useState4=_slicedToArray(_useState3,2),refreshInterval=_useState4[0],setRefreshInterval=_useState4[1];var _useState5=(0,_react.useState)((0,_moment.default)().valueOf()),_useState6=_slicedToArray(_useState5,2),lastRefresh=_useState6[0],setLastRefresh=_useState6[1];var _useState7=(0,_react.useState)(defaultRange),_useState8=_slicedToArray(_useState7,2),timeRange=_useState8[0],setTimeRange=_useState8[1];var _useState9=(0,_react.useState)(parseRange(defaultRange)),_useState10=_slicedToArray(_useState9,2),parsedTimeRange=_useState10[0],setParsedTimeRange=_useState10[1];var updateTimeRange=(0,_react.useCallback)((function(range){setTimeRange(range);setParsedTimeRange(parseRange(range))}),[]);return{timeRange:timeRange,setTimeRange:updateTimeRange,parsedTimeRange:parsedTimeRange,refreshInterval:refreshInterval,setRefreshInterval:setRefreshInterval,isAutoReloading:isAutoReloading,setAutoReload:setAutoReload,lastRefresh:lastRefresh,triggerRefresh:(0,_react.useCallback)((function(){return setLastRefresh((0,_moment.default)().valueOf())}),[setLastRefresh])}};exports.useMetricsTime=useMetricsTime;var MetricsTimeContainer=(0,_constate.default)(useMetricsTime);exports.MetricsTimeContainer=MetricsTimeContainer;var WithMetricsTime=function WithMetricsTime(_ref){var children=_ref.children;var metricsTimeState=(0,_react.useContext)(MetricsTimeContainer.Context);return children(_objectSpread({},metricsTimeState))};exports.WithMetricsTime=WithMetricsTime;var WithMetricsTimeUrlState=function WithMetricsTimeUrlState(){return _react.default.createElement(WithMetricsTime,null,(function(_ref2){var timeRange=_ref2.timeRange,setTimeRange=_ref2.setTimeRange,refreshInterval=_ref2.refreshInterval,setRefreshInterval=_ref2.setRefreshInterval,isAutoReloading=_ref2.isAutoReloading,setAutoReload=_ref2.setAutoReload;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:{time:timeRange,autoReload:isAutoReloading,refreshInterval:refreshInterval},urlStateKey:"metricTime",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.time){setTimeRange(newUrlState.time)}if(newUrlState&&newUrlState.autoReload){setAutoReload(true)}else if(newUrlState&&typeof newUrlState.autoReload!=="undefined"&&!newUrlState.autoReload){setAutoReload(false)}if(newUrlState&&newUrlState.refreshInterval){setRefreshInterval(newUrlState.refreshInterval)}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.time){if(timeRange.from!==initialUrlState.time.from||timeRange.to!==initialUrlState.time.to||timeRange.interval!==initialUrlState.time.interval){setTimeRange(initialUrlState.time)}}if(initialUrlState&&initialUrlState.autoReload){setAutoReload(true)}if(initialUrlState&&initialUrlState.refreshInterval){setRefreshInterval(initialUrlState.refreshInterval)}}})}))};exports.WithMetricsTimeUrlState=WithMetricsTimeUrlState;var mapToUrlState=function mapToUrlState(value){return value?{time:mapToTimeUrlState(value.time),autoReload:mapToAutoReloadUrlState(value.autoReload),refreshInterval:mapToRefreshInterval(value.refreshInterval)}:undefined};var MetricsTimeRT=rt.type({from:rt.union([rt.string,rt.number]),to:rt.union([rt.string,rt.number]),interval:rt.string});var mapToTimeUrlState=function mapToTimeUrlState(value){var result=MetricsTimeRT.decode(value);if((0,_Either.isRight)(result)){var resultValue=result.right;var to=(0,_lodash.isNumber)(resultValue.to)?(0,_moment.default)(resultValue.to).toISOString():resultValue.to;var from=(0,_lodash.isNumber)(resultValue.from)?(0,_moment.default)(resultValue.from).toISOString():resultValue.from;return _objectSpread({},resultValue,{from:from,to:to})}return undefined};var mapToAutoReloadUrlState=function mapToAutoReloadUrlState(value){return typeof value==="boolean"?value:undefined};var mapToRefreshInterval=function mapToRefreshInterval(value){return typeof value==="number"?value:undefined};var replaceMetricTimeInQueryString=function replaceMetricTimeInQueryString(from,to){return Number.isNaN(from)||Number.isNaN(to)?function(value){return value}:(0,_url_state.replaceStateKeyInQueryString)("metricTime",{autoReload:false,time:{interval:">=1m",from:(0,_moment.default)(from).toISOString(),to:(0,_moment.default)(to).toISOString()}})};exports.replaceMetricTimeInQueryString=replaceMetricTimeInQueryString},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.networkTrafficWithInterfaces=void 0;var networkTrafficWithInterfaces=function networkTrafficWithInterfaces(id,metricField,interfaceField){var _ref;return _ref={},_defineProperty(_ref,"".concat(id,"_interfaces"),{terms:{field:interfaceField},aggregations:_defineProperty({},"".concat(id,"_interface_max"),{max:{field:metricField}})}),_defineProperty(_ref,"".concat(id,"_sum_of_interfaces"),{sum_bucket:{buckets_path:"".concat(id,"_interfaces>").concat(id,"_interface_max")}}),_defineProperty(_ref,"".concat(id,"_deriv"),{derivative:{buckets_path:"".concat(id,"_sum_of_interfaces"),gap_policy:"skip",unit:"1s"}}),_defineProperty(_ref,id,{bucket_script:{buckets_path:{value:"".concat(id,"_deriv[normalized_value]")},script:{source:"params.value > 0.0 ? params.value : 0.0",lang:"painless"},gap_policy:"skip"}}),_ref};exports.networkTrafficWithInterfaces=networkTrafficWithInterfaces},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(1338)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _setup_page=__webpack_require__(1358);Object.keys(_setup_page).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _setup_page[key]}})}));var _initial_configuration_step=__webpack_require__(1359);Object.keys(_initial_configuration_step).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _initial_configuration_step[key]}})}));var _process_step=__webpack_require__(1365);Object.keys(_process_step).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _process_step[key]}})}));var _missing_results_privileges_prompt=__webpack_require__(1369);Object.keys(_missing_results_privileges_prompt).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _missing_results_privileges_prompt[key]}})}));var _missing_setup_privileges_prompt=__webpack_require__(1370);Object.keys(_missing_setup_privileges_prompt).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _missing_setup_privileges_prompt[key]}})}));var _ml_unavailable_prompt=__webpack_require__(1371);Object.keys(_ml_unavailable_prompt).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _ml_unavailable_prompt[key]}})}));var _setup_status_unknown_prompt=__webpack_require__(1372);Object.keys(_setup_status_unknown_prompt).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _setup_status_unknown_prompt[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceErrorPage=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _error_page=__webpack_require__(1373);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceErrorPage=function SourceErrorPage(_ref){var errorMessage=_ref.errorMessage,retry=_ref.retry;return _react2.default.createElement(_error_page.ErrorPage,{shortMessage:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceErrorPage.failedToLoadDataSourcesMessage",defaultMessage:"Failed to load data sources."}),detailedMessage:_react2.default.createElement("code",null,errorMessage),retry:retry})};exports.SourceErrorPage=SourceErrorPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BetaBadge=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BetaBadge=function BetaBadge(){return _react.default.createElement(_eui.EuiBetaBadge,{"aria-label":betaBadgeLabel,label:betaBadgeLabel,tooltipContent:betaBadgeTooltipContent,className:"eui-alignMiddle"})};exports.BetaBadge=BetaBadge;var betaBadgeLabel=_i18n.i18n.translate("xpack.infra.common.tabBetaBadgeLabel",{defaultMessage:"Beta"});var betaBadgeTooltipContent=_i18n.i18n.translate("xpack.infra.common.tabBetaBadgeTooltipContent",{defaultMessage:"This feature is under active development. Extra functionality is coming, and some functionality may change."})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _errors=__webpack_require__(1393);Object.keys(_errors).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _errors[key]}})}));var _metric_statistics=__webpack_require__(1394);Object.keys(_metric_statistics).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _metric_statistics[key]}})}));var _time_range=__webpack_require__(1395);Object.keys(_time_range).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _time_range[key]}})}));var _timing=__webpack_require__(1396);Object.keys(_timing).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _timing[key]}})}))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isTimestampLogColumnConfiguration=exports.isMessageLogColumnConfiguration=exports.isFieldLogColumnConfiguration=void 0;var isFieldLogColumnConfiguration=function isFieldLogColumnConfiguration(logColumnConfiguration){return logColumnConfiguration!=null&&"fieldColumn"in logColumnConfiguration};exports.isFieldLogColumnConfiguration=isFieldLogColumnConfiguration;var isMessageLogColumnConfiguration=function isMessageLogColumnConfiguration(logColumnConfiguration){return logColumnConfiguration!=null&&"messageColumn"in logColumnConfiguration};exports.isMessageLogColumnConfiguration=isMessageLogColumnConfiguration;var isTimestampLogColumnConfiguration=function isTimestampLogColumnConfiguration(logColumnConfiguration){return logColumnConfiguration!=null&&"timestampColumn"in logColumnConfiguration};exports.isTimestampLogColumnConfiguration=isTimestampLogColumnConfiguration},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_entry=__webpack_require__(1408);Object.keys(_log_entry).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry[key]}})}));var _log_entry_highlight=__webpack_require__(1409);Object.keys(_log_entry_highlight).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_highlight[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoIndices",{enumerable:true,get:function get(){return _no_indices.NoIndices}});Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});var _no_indices=__webpack_require__(843);var _no_data=__webpack_require__(952)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryCategoriesModuleContext=exports.LogEntryCategoriesModuleProvider=exports.useLogEntryCategoriesModule=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _log_analysis=__webpack_require__(712);var _module_descriptor=__webpack_require__(1431);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryCategoriesModule=function useLogEntryCategoriesModule(_ref){var indexPattern=_ref.indexPattern,sourceId=_ref.sourceId,spaceId=_ref.spaceId,timestampField=_ref.timestampField;var sourceConfiguration=(0,_react.useMemo)((function(){return{indices:indexPattern.split(","),sourceId:sourceId,spaceId:spaceId,timestampField:timestampField}}),[indexPattern,sourceId,spaceId,timestampField]);return(0,_log_analysis.useLogAnalysisModule)({moduleDescriptor:_module_descriptor.logEntryCategoriesModule,sourceConfiguration:sourceConfiguration})};exports.useLogEntryCategoriesModule=useLogEntryCategoriesModule;var _createContainer=(0,_constate.default)(useLogEntryCategoriesModule),_createContainer2=_slicedToArray(_createContainer,2),LogEntryCategoriesModuleProvider=_createContainer2[0],useLogEntryCategoriesModuleContext=_createContainer2[1];exports.useLogEntryCategoriesModuleContext=useLogEntryCategoriesModuleContext;exports.LogEntryCategoriesModuleProvider=LogEntryCategoriesModuleProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryRateModuleContext=exports.LogEntryRateModuleProvider=exports.useLogEntryRateModule=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _log_analysis=__webpack_require__(712);var _module_descriptor=__webpack_require__(1452);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryRateModule=function useLogEntryRateModule(_ref){var indexPattern=_ref.indexPattern,sourceId=_ref.sourceId,spaceId=_ref.spaceId,timestampField=_ref.timestampField;var sourceConfiguration=(0,_react.useMemo)((function(){return{indices:indexPattern.split(","),sourceId:sourceId,spaceId:spaceId,timestampField:timestampField}}),[indexPattern,sourceId,spaceId,timestampField]);return(0,_log_analysis.useLogAnalysisModule)({moduleDescriptor:_module_descriptor.logEntryRateModule,sourceConfiguration:sourceConfiguration})};exports.useLogEntryRateModule=useLogEntryRateModule;var _createContainer=(0,_constate.default)(useLogEntryRateModule),_createContainer2=_slicedToArray(_createContainer,2),LogEntryRateModuleProvider=_createContainer2[0],useLogEntryRateModuleContext=_createContainer2[1];exports.useLogEntryRateModuleContext=useLogEntryRateModuleContext;exports.LogEntryRateModuleProvider=LogEntryRateModuleProvider},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.availableTextScales=exports.LogViewConfiguration=exports.useLogViewConfiguration=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogViewConfiguration=function useLogViewConfiguration(){var _useState=(0,_react.useState)("medium"),_useState2=_slicedToArray(_useState,2),textScale=_useState2[0],setTextScale=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),textWrap=_useState4[0],setTextWrap=_useState4[1];return{availableTextScales:availableTextScales,setTextScale:setTextScale,setTextWrap:setTextWrap,textScale:textScale,textWrap:textWrap}};exports.useLogViewConfiguration=useLogViewConfiguration;var LogViewConfiguration=(0,_constate.default)(useLogViewConfiguration);exports.LogViewConfiguration=LogViewConfiguration;var availableTextScales=["large","medium","small"];exports.availableTextScales=availableTextScales},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogHighlightsState=exports.useLogHighlightsState=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _reactUse=__webpack_require__(747);var _log_entry_highlights=__webpack_require__(1499);var _log_summary_highlights=__webpack_require__(1501);var _next_and_previous=__webpack_require__(1503);var _log_position=__webpack_require__(719);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FETCH_THROTTLE_INTERVAL=3e3;var useLogHighlightsState=function useLogHighlightsState(_ref){var sourceId=_ref.sourceId,sourceVersion=_ref.sourceVersion,centerCursor=_ref.centerCursor,size=_ref.size,filterQuery=_ref.filterQuery;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),highlightTerms=_useState2[0],setHighlightTerms=_useState2[1];var _useContext=(0,_react.useContext)(_log_position.LogPositionState.Context),visibleMidpoint=_useContext.visibleMidpoint,jumpToTargetPosition=_useContext.jumpToTargetPosition,startTimestamp=_useContext.startTimestamp,endTimestamp=_useContext.endTimestamp;var throttledStartTimestamp=(0,_reactUse.useThrottle)(startTimestamp,FETCH_THROTTLE_INTERVAL);var throttledEndTimestamp=(0,_reactUse.useThrottle)(endTimestamp,FETCH_THROTTLE_INTERVAL);var _useLogEntryHighlight=(0,_log_entry_highlights.useLogEntryHighlights)(sourceId,sourceVersion,throttledStartTimestamp,throttledEndTimestamp,centerCursor,size,filterQuery,highlightTerms),logEntryHighlights=_useLogEntryHighlight.logEntryHighlights,logEntryHighlightsById=_useLogEntryHighlight.logEntryHighlightsById,loadLogEntryHighlightsRequest=_useLogEntryHighlight.loadLogEntryHighlightsRequest;var _useLogSummaryHighlig=(0,_log_summary_highlights.useLogSummaryHighlights)(sourceId,sourceVersion,throttledStartTimestamp,throttledEndTimestamp,filterQuery,highlightTerms),logSummaryHighlights=_useLogSummaryHighlig.logSummaryHighlights,loadLogSummaryHighlightsRequest=_useLogSummaryHighlig.loadLogSummaryHighlightsRequest;var _useNextAndPrevious=(0,_next_and_previous.useNextAndPrevious)({visibleMidpoint:visibleMidpoint,logEntryHighlights:logEntryHighlights,highlightTerms:highlightTerms,jumpToTargetPosition:jumpToTargetPosition}),currentHighlightKey=_useNextAndPrevious.currentHighlightKey,hasPreviousHighlight=_useNextAndPrevious.hasPreviousHighlight,hasNextHighlight=_useNextAndPrevious.hasNextHighlight,goToPreviousHighlight=_useNextAndPrevious.goToPreviousHighlight,goToNextHighlight=_useNextAndPrevious.goToNextHighlight;return{highlightTerms:highlightTerms,setHighlightTerms:setHighlightTerms,logEntryHighlights:logEntryHighlights,logEntryHighlightsById:logEntryHighlightsById,logSummaryHighlights:logSummaryHighlights,loadLogEntryHighlightsRequest:loadLogEntryHighlightsRequest,loadLogSummaryHighlightsRequest:loadLogSummaryHighlightsRequest,currentHighlightKey:currentHighlightKey,hasPreviousHighlight:hasPreviousHighlight,hasNextHighlight:hasNextHighlight,goToPreviousHighlight:goToPreviousHighlight,goToNextHighlight:goToNextHighlight}};exports.useLogHighlightsState=useLogHighlightsState;var LogHighlightsState=(0,_constate.default)(useLogHighlightsState);exports.LogHighlightsState=LogHighlightsState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Toolbar",{enumerable:true,get:function get(){return _toolbar.Toolbar}});var _toolbar=__webpack_require__(1507)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"WithSource",{enumerable:true,get:function get(){return _with_source.WithSource}});var _with_source=__webpack_require__(1525)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CloudToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _waffle_accounts_controls=__webpack_require__(1677);var _waffle_region_controls=__webpack_require__(1678);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CloudToolbarItems=function CloudToolbarItems(props){return _react.default.createElement(_react.default.Fragment,null,props.accounts.length>0&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_waffle_accounts_controls.WaffleAccountsControls,{changeAccount:props.changeAccount,accountId:props.accountId,options:props.accounts})),props.regions.length>0&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_waffle_region_controls.WaffleRegionControls,{changeRegion:props.changeRegion,region:props.region,options:props.regions})))};exports.CloudToolbarItems=CloudToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GaugesSectionVis=void 0;var _eui=__webpack_require__(4);var _lodash=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _formatters=__webpack_require__(222);var _helpers=__webpack_require__(995);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var getFormatter=function getFormatter(){var defaultFormatter=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"number";var defaultFormatterTemplate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"{{value}}";var seriesOverrides=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var seriesId=arguments.length>3?arguments[3]:undefined;return function(val){if(val==null){return""}var formatter=(0,_lodash.get)(seriesOverrides,[seriesId,"formatter"],defaultFormatter);var formatterTemplate=(0,_lodash.get)(seriesOverrides,[seriesId,"formatterTemplate"],defaultFormatterTemplate);return(0,_formatters.createFormatter)(formatter,formatterTemplate)(val)}};var GaugesSectionVis=function GaugesSectionVis(_ref){var id=_ref.id,metric=_ref.metric,seriesOverrides=_ref.seriesOverrides,formatter=_ref.formatter,formatterTemplate=_ref.formatterTemplate;if(!metric||!id){return null}return _react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(GroupBox,null,metric.series.map((function(series){var lastDataPoint=(0,_lodash.last)(series.data);if(!lastDataPoint){return null}var formatterFn=getFormatter(formatter,formatterTemplate,seriesOverrides,series.id);var value=formatterFn(lastDataPoint.value||0);var name=(0,_helpers.getChartName)(seriesOverrides,series.id,series.id);var dataMax=(0,_lodash.max)(series.data.map((function(d){return d.value||0})));var gaugeMax=(0,_lodash.get)(seriesOverrides,[series.id,"gaugeMax"],dataMax);return _react.default.createElement(_eui.EuiFlexItem,{key:"".concat(id,"-").concat(series.id),style:{margin:"0.4rem"}},_react.default.createElement(_eui.EuiPanel,{style:{minWidth:"160px"}},_react.default.createElement(_eui.EuiText,{style:{textAlign:"right"},size:"s"},name),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h1",{style:{textAlign:"right",whiteSpace:"nowrap"}},value)),_react.default.createElement(_eui.EuiProgress,{value:lastDataPoint.value||0,max:gaugeMax,size:"s",color:"primary"})))}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.GaugesSectionVis=GaugesSectionVis;var GroupBox=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetadataDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _lodash=__webpack_require__(1);var _public=__webpack_require__(64);var _metadata_context=__webpack_require__(999);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\nflex-grow: 0;\nmargin-right: ",";\nmin-width: 0px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\nborder-top: "," solid ",";\nborder-bottom: "," solid ",";\npadding: "," 0;\nmargin-bottom: ",";\ndisplay: flex;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FIELDS=[{field:"cloud.instance.id",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.instanceId",{defaultMessage:"Instance ID"})},{field:"cloud.provider",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.cloudProvider",{defaultMessage:"Cloud Provider"})},{field:"host.os.name",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.operatinSystem",{defaultMessage:"Operating System"})},{field:"host.os.kernel",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.kernelVersion",{defaultMessage:"Kernel Version"})},{field:"host.hostname",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.hostname",{defaultMessage:"Hostname"})},{field:"host.containerized",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.containerized",{defaultMessage:"Containerized"}),isBoolean:true},{field:"cloud.project.id",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.projectId",{defaultMessage:"Project ID"})},{field:"cloud.availability_zone",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.availabilityZone",{defaultMessage:"Availability Zone"})},{field:"cloud.machine.type",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.machineType",{defaultMessage:"Machine Type"})},{field:"cloud.instance.name",label:_i18n.i18n.translate("xpack.infra.nodeDetails.labels.instanceName",{defaultMessage:"Instance Name"})}];var getLabelForField=function getLabelForField(_ref){var field=_ref.field;var fieldDef=FIELDS.find((function(f){return f.field===field}));if(!fieldDef)return field;return fieldDef.label};var getValueForField=function getValueForField(metadata,_ref2){var field=_ref2.field,isBoolean=_ref2.isBoolean;if(isBoolean){return(0,_lodash.get)(metadata.info,field,false)?_i18n.i18n.translate("xpack.infra.nodeDetails.yes",{defaultMessage:"Yes"}):_i18n.i18n.translate("xpack.infra.nodeDetails.no",{defaultMessage:"No"})}var value=(0,_lodash.get)(metadata.info,field,"--");return value};var NUMBER_OF_COLUMNS=4;var MetadataDetails=function MetadataDetails(props){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setControlState=_useState2[1];var toggleIsOpen=(0,_react.useCallback)((function(){return isOpen?setControlState(false):setControlState(true)}),[isOpen]);var filteredFields=(0,_react.useMemo)((function(){if(props.fields&&props.fields.length){return props.fields.map((function(field){var fieldDef=FIELDS.find((function(f){return f.field===field}));if(fieldDef){return fieldDef}})).filter((function(f){return f}))}else{return FIELDS}}),[props.fields]);var fields=(0,_react.useMemo)((function(){return isOpen?filteredFields:filteredFields.slice(0,NUMBER_OF_COLUMNS)}),[filteredFields,isOpen]);var metadata=(0,_react.useContext)(_metadata_context.MetadataContext);if(!metadata){return null}return _react.default.createElement(MetadataContainer,null,filteredFields.length>NUMBER_OF_COLUMNS?_react.default.createElement(Controls,null,_react.default.createElement(_eui.EuiButtonIcon,{iconType:isOpen?"arrowUp":"arrowDown",onClick:toggleIsOpen,"aria-label":_i18n.i18n.translate("xpack.infra.nodeDetails.labels.showMoreDetails",{defaultMessage:"Show more details"})})):null,_react.default.createElement(_eui.EuiFlexGrid,{columns:NUMBER_OF_COLUMNS,style:{flexGrow:1},gutterSize:"s"},fields.map((function(field){return _react.default.createElement(_eui.EuiFlexItem,{key:field.field,style:{minWidth:0}},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,getLabelForField(field))),_react.default.createElement(_eui.EuiText,null,getValueForField(metadata,field)))}))))};exports.MetadataDetails=MetadataDetails;var MetadataContainer=_public.euiStyled.div(_templateObject(),(function(props){return props.theme.eui.euiBorderWidthThin}),(function(props){return props.theme.eui.euiBorderColor}),(function(props){return props.theme.eui.euiBorderWidthThin}),(function(props){return props.theme.eui.euiBorderColor}),(function(props){return props.theme.eui.paddingSizes.m}),(function(props){return props.theme.eui.paddingSizes.m}));var Controls=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.paddingSizes.m}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LinkToPage",{enumerable:true,get:function get(){return _link_to.LinkToPage}});Object.defineProperty(exports,"getNodeLogsUrl",{enumerable:true,get:function get(){return _redirect_to_node_logs.getNodeLogsUrl}});Object.defineProperty(exports,"RedirectToNodeLogs",{enumerable:true,get:function get(){return _redirect_to_node_logs.RedirectToNodeLogs}});Object.defineProperty(exports,"getNodeDetailUrl",{enumerable:true,get:function get(){return _redirect_to_node_detail.getNodeDetailUrl}});Object.defineProperty(exports,"RedirectToNodeDetail",{enumerable:true,get:function get(){return _redirect_to_node_detail.RedirectToNodeDetail}});var _link_to=__webpack_require__(1117);var _redirect_to_node_logs=__webpack_require__(918);var _redirect_to_node_detail=__webpack_require__(836)},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isValidDatemath=isValidDatemath;exports.datemathToEpochMillis=datemathToEpochMillis;exports.extendDatemath=extendDatemath;exports.convertDate=convertDate;exports.normalizeDate=normalizeDate;var _datemath=_interopRequireDefault(__webpack_require__(24));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function isValidDatemath(value){var parsedValue=_datemath.default.parse(value);return!!(parsedValue&&parsedValue.isValid())}function datemathToEpochMillis(value){var round=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"down";var parsedValue=_datemath.default.parse(value,{roundUp:round==="up"});if(!parsedValue||!parsedValue.isValid()){return null}return parsedValue.valueOf()}var datemathNowExpression=/(\+|\-)(\d+)(ms|s|m|h|d|w|M|y)$/;function extendDatemath(value){var direction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"before";var oppositeEdge=arguments.length>2?arguments[2]:undefined;if(!isValidDatemath(value)){return undefined}if(value==="now"){return{value:"now"}}if(value.startsWith("now")){return extendRelativeDatemath(value,direction)}else if(oppositeEdge&&isValidDatemath(oppositeEdge)){return extendAbsoluteDatemath(value,direction,oppositeEdge)}return undefined}function extendRelativeDatemath(value,direction){var _ref=datemathNowExpression.exec(value)||[],_ref2=_slicedToArray(_ref,4),operator=_ref2[1],amount=_ref2[2],unit=_ref2[3];if(!operator||!amount||!unit){return undefined}var mustIncreaseAmount=operator==="-"&&direction==="before";var parsedAmount=parseInt(amount,10);var newUnit=unit;var newAmount;switch(unit){case"ms":case"s":newAmount=mustIncreaseAmount?parsedAmount*2:Math.floor(parsedAmount/2);break;case"m":var ratio;var MINUTES_LARGE=10;if(mustIncreaseAmount){ratio=parsedAmount>=MINUTES_LARGE?.5:1;newAmount=parsedAmount+Math.floor(parsedAmount*ratio)}else{newAmount=parsedAmount>=MINUTES_LARGE?Math.floor(parsedAmount/1.5):parsedAmount-Math.floor(parsedAmount*.5)}break;case"h":if(parsedAmount===1){newAmount=mustIncreaseAmount?90:30;newUnit="m"}else{newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1}break;case"d":case"w":case"M":case"y":if(parsedAmount===1){newUnit=_datemath.default.unitsDesc[_datemath.default.unitsDesc.indexOf(unit)+1];newAmount=mustIncreaseAmount?convertDate(1,unit,newUnit)+1:convertDate(1,unit,newUnit)-1}else{newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1}break;default:throw new TypeError("Unhandled datemath unit")}var _normalizeDate=normalizeDate(newAmount,newUnit),normalizedUnit=_normalizeDate.unit,normalizedAmount=_normalizeDate.amount;var diffAmount=Math.abs(normalizedAmount-convertDate(parsedAmount,unit,normalizedUnit));var shouldKeepDiffUnit=diffAmount%1!==0;return{value:"now".concat(operator).concat(normalizedAmount).concat(normalizedUnit),diffUnit:shouldKeepDiffUnit?unit:newUnit,diffAmount:shouldKeepDiffUnit?Math.abs(newAmount-parsedAmount):diffAmount}}function extendAbsoluteDatemath(value,direction,oppositeEdge){var valueTimestamp=datemathToEpochMillis(value);var oppositeEdgeTimestamp=datemathToEpochMillis(oppositeEdge);var actualTimestampDiff=Math.abs(valueTimestamp-oppositeEdgeTimestamp);var normalizedDiff=normalizeDate(actualTimestampDiff,"ms");var normalizedTimestampDiff=convertDate(normalizedDiff.amount,normalizedDiff.unit,"ms");var newValue=direction==="before"?valueTimestamp-normalizedTimestampDiff:valueTimestamp+normalizedTimestampDiff;return{value:new Date(newValue).toISOString(),diffUnit:normalizedDiff.unit,diffAmount:normalizedDiff.amount}}var CONVERSION_RATIOS={wy:[["w",52],["y",1]],w:[["ms",1e3],["s",60],["m",60],["h",24],["d",7],["w",4],["M",12],["y",1]],M:[["ms",1e3],["s",60],["m",60],["h",24],["d",30],["M",12],["y",1]],default:[["ms",1e3],["s",60],["m",60],["h",24],["d",365],["y",1]]};function getRatioScale(from,to){if(from==="y"&&to==="w"||from==="w"&&to==="y"){return CONVERSION_RATIOS.wy}else if(from==="w"||to==="w"){return CONVERSION_RATIOS.w}else if(from==="M"||to==="M"){return CONVERSION_RATIOS.M}else{return CONVERSION_RATIOS.default}}function convertDate(value,from,to){if(from===to){return value}var ratioScale=getRatioScale(from,to);var fromIdx=ratioScale.findIndex((function(ratio){return ratio[0]===from}));var toIdx=ratioScale.findIndex((function(ratio){return ratio[0]===to}));var convertedValue=value;if(fromIdx>toIdx){for(var i=toIdx;i<fromIdx;i++){convertedValue*=ratioScale[i][1]}}else{for(var _i2=fromIdx;_i2<toIdx;_i2++){convertedValue/=ratioScale[_i2][1]}}return convertedValue}function normalizeDate(amount,unit){if(unit==="y"){return{amount:amount,unit:unit}}var nextUnit=_datemath.default.unitsAsc[_datemath.default.unitsAsc.indexOf(unit)+1];var ratioScale=getRatioScale(unit,nextUnit);var ratio=ratioScale.find((function(r){return r[0]===unit}))[1];var newAmount=amount/ratio;if(newAmount===1){return{amount:newAmount,unit:nextUnit}}if(newAmount>=2){return normalizeDate(Math.round(newAmount),nextUnit)}return{amount:amount,unit:unit}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _source_id=__webpack_require__(1224);Object.keys(_source_id).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _source_id[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceStateKeyInQueryString=exports.useUrlState=void 0;var _queryString=__webpack_require__(225);var _react=__webpack_require__(3);var _risonNode=__webpack_require__(770);var _public=__webpack_require__(15);var _history_context=__webpack_require__(826);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useUrlState=function useUrlState(_ref){var defaultState=_ref.defaultState,decodeUrlState=_ref.decodeUrlState,encodeUrlState=_ref.encodeUrlState,urlStateKey=_ref.urlStateKey,_ref$writeDefaultStat=_ref.writeDefaultState,writeDefaultState=_ref$writeDefaultStat===void 0?false:_ref$writeDefaultStat;var history=(0,_history_context.useHistory)();var queryString=(history===null||history===void 0?void 0:history.location)?getQueryStringFromLocation(history.location):"";var urlStateString=(0,_react.useMemo)((function(){if(!queryString){return}return getParamFromQueryString(queryString,urlStateKey)}),[queryString,urlStateKey]);var decodedState=(0,_react.useMemo)((function(){return decodeUrlState(decodeRisonUrlState(urlStateString))}),[decodeUrlState,urlStateString]);var state=(0,_react.useMemo)((function(){return typeof decodedState!=="undefined"?decodedState:defaultState}),[defaultState,decodedState]);var setState=(0,_react.useCallback)((function(newState){if(!history||!history.location){return}var currentLocation=history.location;var newLocation=replaceQueryStringInLocation(currentLocation,replaceStateKeyInQueryString(urlStateKey,typeof newState!=="undefined"?encodeUrlState(newState):undefined)(getQueryStringFromLocation(currentLocation)));if(newLocation!==currentLocation){history.replace(newLocation)}}),[encodeUrlState,history,urlStateKey]);var _useState=(0,_react.useState)(writeDefaultState&&typeof decodedState==="undefined"),_useState2=_slicedToArray(_useState,2),shouldInitialize=_useState2[0],setShouldInitialize=_useState2[1];(0,_react.useEffect)((function(){if(shouldInitialize){setShouldInitialize(false);setState(defaultState)}}),[shouldInitialize,setState,defaultState]);return[state,setState]};exports.useUrlState=useUrlState;var decodeRisonUrlState=function decodeRisonUrlState(value){try{return value?(0,_risonNode.decode)(value):undefined}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error")){return{}}throw error}};var encodeRisonUrlState=function encodeRisonUrlState(state){return(0,_risonNode.encode)(state)};var getQueryStringFromLocation=function getQueryStringFromLocation(location){return location.search.substring(1)};var getParamFromQueryString=function getParamFromQueryString(queryString,key){var parsedQueryString=(0,_queryString.parse)(queryString,{sort:false});var queryParam=parsedQueryString[key];return Array.isArray(queryParam)?queryParam[0]:queryParam};var replaceStateKeyInQueryString=function replaceStateKeyInQueryString(stateKey,urlState){return function(queryString){var previousQueryValues=(0,_queryString.parse)(queryString,{sort:false});var encodedUrlState=typeof urlState!=="undefined"?encodeRisonUrlState(urlState):undefined;return(0,_queryString.stringify)(_public.url.encodeQuery(_objectSpread({},previousQueryValues,_defineProperty({},stateKey,encodedUrlState))),{sort:false,encode:false})}};exports.replaceStateKeyInQueryString=replaceStateKeyInQueryString;var replaceQueryStringInLocation=function replaceQueryStringInLocation(location,queryString){if(queryString===getQueryStringFromLocation(location)){return location}else{return _objectSpread({},location,{search:"?".concat(queryString)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNodeDetailUrl=exports.RedirectToNodeDetail=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _with_metrics_time=__webpack_require__(776);var _query_params=__webpack_require__(775);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToNodeDetail=function RedirectToNodeDetail(_ref){var _ref$match$params=_ref.match.params,nodeId=_ref$match$params.nodeId,nodeType=_ref$match$params.nodeType,location=_ref.location;var searchString=(0,_with_metrics_time.replaceMetricTimeInQueryString)((0,_query_params.getFromFromLocation)(location),(0,_query_params.getToFromLocation)(location))("");return _react.default.createElement(_reactRouterDom.Redirect,{to:"/detail/".concat(nodeType,"/").concat(nodeId,"?").concat(searchString)})};exports.RedirectToNodeDetail=RedirectToNodeDetail;var getNodeDetailUrl=function getNodeDetailUrl(_ref2){var nodeType=_ref2.nodeType,nodeId=_ref2.nodeId,to=_ref2.to,from=_ref2.from;return{app:"metrics",pathname:"link-to/".concat(nodeType,"-detail/").concat(nodeId),search:to&&from?{to:"".concat(to),from:"".concat(from)}:undefined}};exports.getNodeDetailUrl=getNodeDetailUrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSourceContext=exports.SourceProvider=exports.Source=exports.useSource=exports.pickIndexPattern=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _apollo_context=__webpack_require__(887);var _use_tracked_promise=__webpack_require__(214);var _create_source=__webpack_require__(1225);var _query_source=__webpack_require__(1237);var _update_source=__webpack_require__(1238);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var pickIndexPattern=function pickIndexPattern(source,type){if(!source){return"unknown-index"}if(type==="logs"){return source.configuration.logAlias}if(type==="metrics"){return source.configuration.metricAlias}return"".concat(source.configuration.logAlias,",").concat(source.configuration.metricAlias)};exports.pickIndexPattern=pickIndexPattern;var useSource=function useSource(_ref){var sourceId=_ref.sourceId;var apolloClient=(0,_apollo_context.useApolloClient)();var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),source=_useState2[0],setSource=_useState2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(apolloClient){_context.next=2;break}throw new _apollo_context.DependencyError("Failed to load source: No apollo client available.");case 2:_context.next=4;return apolloClient.query({fetchPolicy:"no-cache",query:_query_source.sourceQuery,variables:{sourceId:sourceId}});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){setSource(response.data.source)}},[apolloClient,sourceId]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),loadSourceRequest=_useTrackedPromise2[0],loadSource=_useTrackedPromise2[1];var _useTrackedPromise3=(0,_use_tracked_promise.useTrackedPromise)({createPromise:function(){var _createPromise2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(sourceProperties){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(apolloClient){_context2.next=2;break}throw new _apollo_context.DependencyError("Failed to create source configuration: No apollo client available.");case 2:_context2.next=4;return apolloClient.mutate({mutation:_create_source.createSourceMutation,fetchPolicy:"no-cache",variables:{sourceId:sourceId,sourceProperties:sourceProperties}});case 4:return _context2.abrupt("return",_context2.sent);case 5:case"end":return _context2.stop()}}}),_callee2)})));function createPromise(_x){return _createPromise2.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){if(response.data){setSource(response.data.createSource.source)}}},[apolloClient,sourceId]),_useTrackedPromise4=_slicedToArray(_useTrackedPromise3,2),createSourceConfigurationRequest=_useTrackedPromise4[0],createSourceConfiguration=_useTrackedPromise4[1];var _useTrackedPromise5=(0,_use_tracked_promise.useTrackedPromise)({createPromise:function(){var _createPromise3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(sourceProperties){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(apolloClient){_context3.next=2;break}throw new _apollo_context.DependencyError("Failed to update source configuration: No apollo client available.");case 2:_context3.next=4;return apolloClient.mutate({mutation:_update_source.updateSourceMutation,fetchPolicy:"no-cache",variables:{sourceId:sourceId,sourceProperties:sourceProperties}});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}}),_callee3)})));function createPromise(_x2){return _createPromise3.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){if(response.data){setSource(response.data.updateSource.source)}}},[apolloClient,sourceId]),_useTrackedPromise6=_slicedToArray(_useTrackedPromise5,2),updateSourceConfigurationRequest=_useTrackedPromise6[0],updateSourceConfiguration=_useTrackedPromise6[1];var createDerivedIndexPattern=function createDerivedIndexPattern(type){return{fields:source?source.status.indexFields:[],title:pickIndexPattern(source,type)}};var isLoading=(0,_react.useMemo)((function(){return[loadSourceRequest.state,createSourceConfigurationRequest.state,updateSourceConfigurationRequest.state].some((function(state){return state==="pending"}))}),[loadSourceRequest.state,createSourceConfigurationRequest.state,updateSourceConfigurationRequest.state]);var isUninitialized=(0,_react.useMemo)((function(){return loadSourceRequest.state==="uninitialized"}),[loadSourceRequest.state]);var sourceExists=(0,_react.useMemo)((function(){return source?!!source.version:undefined}),[source]);var logIndicesExist=(0,_react.useMemo)((function(){return source&&source.status&&source.status.logIndicesExist}),[source]);var metricIndicesExist=(0,_react.useMemo)((function(){return source&&source.status&&source.status.metricIndicesExist}),[source]);(0,_react.useEffect)((function(){loadSource()}),[loadSource,sourceId]);return{createSourceConfiguration:createSourceConfiguration,createDerivedIndexPattern:createDerivedIndexPattern,logIndicesExist:logIndicesExist,isLoading:isLoading,isLoadingSource:loadSourceRequest.state==="pending",isUninitialized:isUninitialized,hasFailedLoadingSource:loadSourceRequest.state==="rejected",loadSource:loadSource,loadSourceFailureMessage:loadSourceRequest.state==="rejected"?"".concat(loadSourceRequest.value):undefined,metricIndicesExist:metricIndicesExist,source:source,sourceExists:sourceExists,sourceId:sourceId,updateSourceConfiguration:updateSourceConfiguration,version:source&&source.version?source.version:undefined}};exports.useSource=useSource;var Source=(0,_constate.default)(useSource);exports.Source=Source;var _Source=_slicedToArray(Source,2),SourceProvider=_Source[0],useSourceContext=_Source[1];exports.useSourceContext=useSourceContext;exports.SourceProvider=SourceProvider},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"sharedFragments",{enumerable:true,get:function get(){return _fragments.sharedFragments}});Object.defineProperty(exports,"sharedSchema",{enumerable:true,get:function get(){return _schema.sharedSchema}});var _fragments=__webpack_require__(1235);var _schema=__webpack_require__(1236)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sourceStatusFieldsFragment=exports.sourceConfigurationFieldsFragment=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  fragment SourceStatusFields on InfraSourceStatus {\n    indexFields {\n      name\n      type\n      searchable\n      aggregatable\n      displayable\n    }\n    logIndicesExist\n    metricIndicesExist\n  }\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  fragment SourceConfigurationFields on InfraSourceConfiguration {\n    name\n    description\n    logAlias\n    metricAlias\n    fields {\n      container\n      host\n      message\n      pod\n      tiebreaker\n      timestamp\n    }\n    logColumns {\n      ... on InfraSourceTimestampLogColumn {\n        timestampColumn {\n          id\n        }\n      }\n      ... on InfraSourceMessageLogColumn {\n        messageColumn {\n          id\n        }\n      }\n      ... on InfraSourceFieldLogColumn {\n        fieldColumn {\n          id\n          field\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var sourceConfigurationFieldsFragment=(0,_graphqlTag.default)(_templateObject());exports.sourceConfigurationFieldsFragment=sourceConfigurationFieldsFragment;var sourceStatusFieldsFragment=(0,_graphqlTag.default)(_templateObject2());exports.sourceStatusFieldsFragment=sourceStatusFieldsFragment},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RedirectWithQueryParams=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var RedirectWithQueryParams=function RedirectWithQueryParams(_ref){var from=_ref.from,to=_ref.to,rest=_objectWithoutProperties(_ref,["from","to"]);return _react.default.createElement(_reactRouterDom.Route,{path:from,render:function render(_ref2){var location=_ref2.location;return location?_react.default.createElement(_reactRouterDom.Redirect,_extends({},rest,{from:from,to:typeof to==="string"?_objectSpread({},location,{pathname:to}):_objectSpread({},location,{},to)})):null}})};exports.RedirectWithQueryParams=RedirectWithQueryParams},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_analysis_job_problem_indicator=__webpack_require__(1375);Object.keys(_log_analysis_job_problem_indicator).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_analysis_job_problem_indicator[key]}})}));var _recreate_job_button=__webpack_require__(941);Object.keys(_recreate_job_button).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _recreate_job_button[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoIndices=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var NoIndices=function NoIndices(_ref){var actions=_ref.actions,message=_ref.message,title=_ref.title,rest=_objectWithoutProperties(_ref,["actions","message","title"]);return _react.default.createElement(CenteredEmptyPrompt,_extends({title:_react.default.createElement("h2",null,title),body:_react.default.createElement("p",null,message),actions:actions},rest))};exports.NoIndices=NoIndices;var CenteredEmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.metricsExplorerResponseRT=exports.metricsExplorerSeriesRT=exports.metricsExplorerRowRT=exports.metricsExplorerColumnRT=exports.metricsExplorerColumnTypeRT=exports.metricsExplorerPageInfoRT=exports.metricsExplorerRequestBodyRT=exports.metricsExplorerRequestBodyOptionalFieldsRT=exports.metricsExplorerRequestBodyRequiredFieldsRT=exports.timeRangeRT=exports.metricsExplorerMetricRT=exports.metricsExplorerMetricOptionalFieldsRT=exports.metricsExplorerMetricRequiredFieldsRT=exports.metricsExplorerAggregationRT=exports.METRIC_EXPLORER_AGGREGATIONS=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var METRIC_EXPLORER_AGGREGATIONS=["avg","max","min","cardinality","rate","count"];exports.METRIC_EXPLORER_AGGREGATIONS=METRIC_EXPLORER_AGGREGATIONS;var metricsExplorerAggregationKeys=METRIC_EXPLORER_AGGREGATIONS.reduce((function(acc,agg){return _objectSpread({},acc,_defineProperty({},agg,null))}),{});var metricsExplorerAggregationRT=rt.keyof(metricsExplorerAggregationKeys);exports.metricsExplorerAggregationRT=metricsExplorerAggregationRT;var metricsExplorerMetricRequiredFieldsRT=rt.type({aggregation:metricsExplorerAggregationRT});exports.metricsExplorerMetricRequiredFieldsRT=metricsExplorerMetricRequiredFieldsRT;var metricsExplorerMetricOptionalFieldsRT=rt.partial({field:rt.union([rt.string,rt.undefined])});exports.metricsExplorerMetricOptionalFieldsRT=metricsExplorerMetricOptionalFieldsRT;var metricsExplorerMetricRT=rt.intersection([metricsExplorerMetricRequiredFieldsRT,metricsExplorerMetricOptionalFieldsRT]);exports.metricsExplorerMetricRT=metricsExplorerMetricRT;var timeRangeRT=rt.type({field:rt.string,from:rt.number,to:rt.number,interval:rt.string});exports.timeRangeRT=timeRangeRT;var metricsExplorerRequestBodyRequiredFieldsRT=rt.type({timerange:timeRangeRT,indexPattern:rt.string,metrics:rt.array(metricsExplorerMetricRT)});exports.metricsExplorerRequestBodyRequiredFieldsRT=metricsExplorerRequestBodyRequiredFieldsRT;var metricsExplorerRequestBodyOptionalFieldsRT=rt.partial({groupBy:rt.union([rt.string,rt.null,rt.undefined]),afterKey:rt.union([rt.string,rt.null,rt.undefined]),limit:rt.union([rt.number,rt.null,rt.undefined]),filterQuery:rt.union([rt.string,rt.null,rt.undefined])});exports.metricsExplorerRequestBodyOptionalFieldsRT=metricsExplorerRequestBodyOptionalFieldsRT;var metricsExplorerRequestBodyRT=rt.intersection([metricsExplorerRequestBodyRequiredFieldsRT,metricsExplorerRequestBodyOptionalFieldsRT]);exports.metricsExplorerRequestBodyRT=metricsExplorerRequestBodyRT;var metricsExplorerPageInfoRT=rt.type({total:rt.number,afterKey:rt.union([rt.string,rt.null])});exports.metricsExplorerPageInfoRT=metricsExplorerPageInfoRT;var metricsExplorerColumnTypeRT=rt.keyof({date:null,number:null,string:null});exports.metricsExplorerColumnTypeRT=metricsExplorerColumnTypeRT;var metricsExplorerColumnRT=rt.type({name:rt.string,type:metricsExplorerColumnTypeRT});exports.metricsExplorerColumnRT=metricsExplorerColumnRT;var metricsExplorerRowRT=rt.intersection([rt.type({timestamp:rt.number}),rt.record(rt.string,rt.union([rt.string,rt.number,rt.null,rt.undefined]))]);exports.metricsExplorerRowRT=metricsExplorerRowRT;var metricsExplorerSeriesRT=rt.type({id:rt.string,columns:rt.array(metricsExplorerColumnRT),rows:rt.array(metricsExplorerRowRT)});exports.metricsExplorerSeriesRT=metricsExplorerSeriesRT;var metricsExplorerResponseRT=rt.type({series:rt.array(metricsExplorerSeriesRT),pageInfo:metricsExplorerPageInfoRT});exports.metricsExplorerResponseRT=metricsExplorerResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTopAnomalyScoreAcrossAllPartitions=exports.getAnnotationsForAll=exports.getTotalNumberOfLogEntriesForPartition=exports.getAnnotationsForPartition=exports.getLogEntryRateSeriesForPartition=exports.getLogEntryRateCombinedSeries=exports.getLogEntryRatePartitionedSeries=void 0;var _i18n=__webpack_require__(0);var _log_analysis=__webpack_require__(702);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var getLogEntryRatePartitionedSeries=function getLogEntryRatePartitionedSeries(results){return results.histogramBuckets.reduce((function(buckets,bucket){return[].concat(_toConsumableArray(buckets),_toConsumableArray(bucket.partitions.map((function(partition){return{group:(0,_log_analysis.getFriendlyNameForPartitionId)(partition.partitionId),time:bucket.startTime,value:partition.averageActualLogEntryRate}}))))}),[])};exports.getLogEntryRatePartitionedSeries=getLogEntryRatePartitionedSeries;var getLogEntryRateCombinedSeries=function getLogEntryRateCombinedSeries(results){return results.histogramBuckets.reduce((function(buckets,bucket){return[].concat(_toConsumableArray(buckets),[{time:bucket.startTime,value:bucket.partitions.reduce((function(accumulatedValue,partition){return accumulatedValue+partition.averageActualLogEntryRate}),0)}])}),[])};exports.getLogEntryRateCombinedSeries=getLogEntryRateCombinedSeries;var getLogEntryRateSeriesForPartition=function getLogEntryRateSeriesForPartition(results,partitionId){return results.partitionBuckets[partitionId].buckets.reduce((function(buckets,bucket){return[].concat(_toConsumableArray(buckets),[{time:bucket.startTime,value:bucket.averageActualLogEntryRate}])}),[])};exports.getLogEntryRateSeriesForPartition=getLogEntryRateSeriesForPartition;var getAnnotationsForPartition=function getAnnotationsForPartition(results,partitionId){return results.partitionBuckets[partitionId].buckets.reduce((function(annotatedBucketsBySeverity,bucket){var severityCategory=(0,_log_analysis.getSeverityCategoryForScore)(bucket.maximumAnomalyScore);if(!severityCategory){return annotatedBucketsBySeverity}return _objectSpread({},annotatedBucketsBySeverity,_defineProperty({},severityCategory,[].concat(_toConsumableArray(annotatedBucketsBySeverity[severityCategory]),[{coordinates:{x0:bucket.startTime,x1:bucket.startTime+results.bucketDuration},details:_i18n.i18n.translate("xpack.infra.logs.analysis.partitionMaxAnomalyScoreAnnotationLabel",{defaultMessage:"Max anomaly score: {maxAnomalyScore}",values:{maxAnomalyScore:(0,_log_analysis.formatAnomalyScore)(bucket.maximumAnomalyScore)}})}])))}),{warning:[],minor:[],major:[],critical:[]})};exports.getAnnotationsForPartition=getAnnotationsForPartition;var getTotalNumberOfLogEntriesForPartition=function getTotalNumberOfLogEntriesForPartition(results,partitionId){return results.partitionBuckets[partitionId].totalNumberOfLogEntries};exports.getTotalNumberOfLogEntriesForPartition=getTotalNumberOfLogEntriesForPartition;var getAnnotationsForAll=function getAnnotationsForAll(results){return results.histogramBuckets.reduce((function(annotatedBucketsBySeverity,bucket){var maxAnomalyScoresByPartition=bucket.partitions.reduce((function(bucketMaxAnomalyScoresByPartition,partition){if(!(0,_log_analysis.getSeverityCategoryForScore)(partition.maximumAnomalyScore)){return bucketMaxAnomalyScoresByPartition}return[].concat(_toConsumableArray(bucketMaxAnomalyScoresByPartition),[{partitionName:(0,_log_analysis.getFriendlyNameForPartitionId)(partition.partitionId),maximumAnomalyScore:(0,_log_analysis.formatAnomalyScore)(partition.maximumAnomalyScore)}])}),[]);if(maxAnomalyScoresByPartition.length===0){return annotatedBucketsBySeverity}var severityCategory=(0,_log_analysis.getSeverityCategoryForScore)(Math.max.apply(Math,_toConsumableArray(maxAnomalyScoresByPartition.map((function(partitionScore){return partitionScore.maximumAnomalyScore})))));if(!severityCategory){return annotatedBucketsBySeverity}var sortedMaxAnomalyScoresByPartition=maxAnomalyScoresByPartition.sort((function(a,b){return b.maximumAnomalyScore-a.maximumAnomalyScore}));return _objectSpread({},annotatedBucketsBySeverity,_defineProperty({},severityCategory,[].concat(_toConsumableArray(annotatedBucketsBySeverity[severityCategory]),[{coordinates:{x0:bucket.startTime,x1:bucket.startTime+results.bucketDuration},details:JSON.stringify({anomalyScoresByPartition:sortedMaxAnomalyScoresByPartition})}])))}),{warning:[],minor:[],major:[],critical:[]})};exports.getAnnotationsForAll=getAnnotationsForAll;var getTopAnomalyScoreAcrossAllPartitions=function getTopAnomalyScoreAcrossAllPartitions(results){var allTopScores=Object.values(results.partitionBuckets).reduce((function(scores,partition){return[].concat(_toConsumableArray(scores),[partition.topAnomalyScore])}),[]);return Math.max.apply(Math,_toConsumableArray(allTopScores))};exports.getTopAnomalyScoreAcrossAllPartitions=getTopAnomalyScoreAcrossAllPartitions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceConfigurationSettings=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _source=__webpack_require__(705);var _fields_configuration_panel=__webpack_require__(1460);var _indices_configuration_panel=__webpack_require__(1461);var _name_configuration_panel=__webpack_require__(1462);var _log_columns_configuration_panel=__webpack_require__(1463);var _source_configuration_form_state=__webpack_require__(1465);var _source_loading_page=__webpack_require__(738);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var SourceConfigurationSettings=function SourceConfigurationSettings(_ref){var shouldAllowEdit=_ref.shouldAllowEdit,displaySettings=_ref.displaySettings;var _useContext=(0,_react2.useContext)(_source.Source.Context),createSourceConfiguration=_useContext.createSourceConfiguration,source=_useContext.source,sourceExists=_useContext.sourceExists,isLoading=_useContext.isLoading,isUninitialized=_useContext.isUninitialized,updateSourceConfiguration=_useContext.updateSourceConfiguration;var availableFields=(0,_react2.useMemo)((function(){return source&&source.status?source.status.indexFields.map((function(field){return field.name})):[]}),[source]);var _useSourceConfigurati=(0,_source_configuration_form_state.useSourceConfigurationFormState)(source&&source.configuration),addLogColumn=_useSourceConfigurati.addLogColumn,moveLogColumn=_useSourceConfigurati.moveLogColumn,indicesConfigurationProps=_useSourceConfigurati.indicesConfigurationProps,logColumnConfigurationProps=_useSourceConfigurati.logColumnConfigurationProps,errors=_useSourceConfigurati.errors,resetForm=_useSourceConfigurati.resetForm,isFormDirty=_useSourceConfigurati.isFormDirty,isFormValid=_useSourceConfigurati.isFormValid,formState=_useSourceConfigurati.formState,formStateChanges=_useSourceConfigurati.formStateChanges;var persistUpdates=(0,_react2.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!sourceExists){_context.next=5;break}_context.next=3;return updateSourceConfiguration(formStateChanges);case 3:_context.next=7;break;case 5:_context.next=7;return createSourceConfiguration(formState);case 7:resetForm();case 8:case"end":return _context.stop()}}}),_callee)}))),[sourceExists,updateSourceConfiguration,createSourceConfiguration,resetForm,formState,formStateChanges]);var isWriteable=(0,_react2.useMemo)((function(){return shouldAllowEdit&&source&&source.origin!=="internal"}),[shouldAllowEdit,source]);if((isLoading||isUninitialized)&&!source){return _react2.default.createElement(_source_loading_page.SourceLoadingPage,null)}if(!(source===null||source===void 0?void 0:source.configuration)){return null}return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,{className:"eui-displayBlock",restrictWidth:true,"data-test-subj":"sourceConfigurationContent"},_react2.default.createElement(_reactRouterDom.Prompt,{when:isFormDirty,message:_i18n.i18n.translate("xpack.infra.sourceConfiguration.unsavedFormPrompt",{defaultMessage:"Are you sure you want to leave? Changes will be lost"})}),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_name_configuration_panel.NameConfigurationPanel,{isLoading:isLoading,nameFieldProps:indicesConfigurationProps.name,readOnly:!isWriteable})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_indices_configuration_panel.IndicesConfigurationPanel,{isLoading:isLoading,logAliasFieldProps:indicesConfigurationProps.logAlias,metricAliasFieldProps:indicesConfigurationProps.metricAlias,readOnly:!isWriteable,displaySettings:displaySettings})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_fields_configuration_panel.FieldsConfigurationPanel,{containerFieldProps:indicesConfigurationProps.containerField,hostFieldProps:indicesConfigurationProps.hostField,isLoading:isLoading,podFieldProps:indicesConfigurationProps.podField,readOnly:!isWriteable,tiebreakerFieldProps:indicesConfigurationProps.tiebreakerField,timestampFieldProps:indicesConfigurationProps.timestampField,displaySettings:displaySettings})),_react2.default.createElement(_eui.EuiSpacer,null),displaySettings==="logs"&&_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_log_columns_configuration_panel.LogColumnsConfigurationPanel,{addLogColumn:addLogColumn,moveLogColumn:moveLogColumn,availableFields:availableFields,isLoading:isLoading,logColumnConfiguration:logColumnConfigurationProps})),errors.length>0?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{color:"danger"},_react2.default.createElement("ul",null,errors.map((function(error,errorIndex){return _react2.default.createElement("li",{key:errorIndex},error)})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,null,isWriteable&&_react2.default.createElement(_eui.EuiFlexItem,null,isLoading?_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{color:"primary",isLoading:true,fill:true},"Loading"))):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"discardSettingsButton",color:"danger",iconType:"cross",isDisabled:isLoading||!isFormDirty,onClick:function onClick(){resetForm()}},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.discardSettingsButtonLabel",defaultMessage:"Discard"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"applySettingsButton",color:"primary",isDisabled:!isFormDirty||!isFormValid,fill:true,onClick:persistUpdates},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.applySettingsButtonLabel",defaultMessage:"Apply"}))))))))))};exports.SourceConfigurationSettings=SourceConfigurationSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useVisibilityState=void 0;var _react=__webpack_require__(3);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useVisibilityState=function useVisibilityState(initialState){var _useState=(0,_react.useState)(initialState),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var hide=(0,_react.useCallback)((function(){return setIsVisible(false)}),[]);var show=(0,_react.useCallback)((function(){return setIsVisible(true)}),[]);var toggle=(0,_react.useCallback)((function(){return setIsVisible((function(state){return!state}))}),[]);return(0,_react.useMemo)((function(){return{hide:hide,isVisible:isVisible,show:show,toggle:toggle}}),[hide,isVisible,show,toggle])};exports.useVisibilityState=useVisibilityState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithFlyoutOptionsUrlState=exports.LogFlyout=exports.useLogFlyout=exports.FlyoutVisibility=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _lodash=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(3));var _url_state=__webpack_require__(711);var _use_tracked_promise=__webpack_require__(214);var _source=__webpack_require__(705);var _fetch_log_entries_item=__webpack_require__(1496);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FlyoutVisibility;exports.FlyoutVisibility=FlyoutVisibility;(function(FlyoutVisibility){FlyoutVisibility["hidden"]="hidden";FlyoutVisibility["visible"]="visible"})(FlyoutVisibility||(exports.FlyoutVisibility=FlyoutVisibility={}));var useLogFlyout=function useLogFlyout(){var _useContext=(0,_react.useContext)(_source.Source.Context),sourceId=_useContext.sourceId;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),flyoutVisible=_useState2[0],setFlyoutVisibility=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),flyoutId=_useState4[0],setFlyoutId=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),flyoutItem=_useState6[0],setFlyoutItem=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=_slicedToArray(_useState7,2),surroundingLogsId=_useState8[0],setSurroundingLogsId=_useState8[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"creation",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(flyoutId){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;return(0,_fetch_log_entries_item.fetchLogEntriesItem)({sourceId:sourceId,id:flyoutId});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){if(response){var data=response.data;setFlyoutItem(data||null)}}},[sourceId,flyoutId]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),loadFlyoutItemRequest=_useTrackedPromise2[0],loadFlyoutItem=_useTrackedPromise2[1];var isLoading=(0,_react.useMemo)((function(){return loadFlyoutItemRequest.state==="pending"}),[loadFlyoutItemRequest.state]);(0,_react.useEffect)((function(){if(flyoutId){loadFlyoutItem()}}),[loadFlyoutItem,flyoutId]);return{flyoutVisible:flyoutVisible,setFlyoutVisibility:setFlyoutVisibility,flyoutId:flyoutId,setFlyoutId:setFlyoutId,surroundingLogsId:surroundingLogsId,setSurroundingLogsId:setSurroundingLogsId,isLoading:isLoading,flyoutItem:flyoutItem}};exports.useLogFlyout=useLogFlyout;var LogFlyout=(0,_constate.default)(useLogFlyout);exports.LogFlyout=LogFlyout;var WithFlyoutOptionsUrlState=function WithFlyoutOptionsUrlState(){var _useContext2=(0,_react.useContext)(LogFlyout.Context),flyoutVisible=_useContext2.flyoutVisible,setFlyoutVisibility=_useContext2.setFlyoutVisibility,flyoutId=_useContext2.flyoutId,setFlyoutId=_useContext2.setFlyoutId,surroundingLogsId=_useContext2.surroundingLogsId,setSurroundingLogsId=_useContext2.setSurroundingLogsId;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:{flyoutVisibility:flyoutVisible?FlyoutVisibility.visible:FlyoutVisibility.hidden,flyoutId:flyoutId,surroundingLogsId:surroundingLogsId},urlStateKey:"flyoutOptions",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.flyoutId){setFlyoutId(newUrlState.flyoutId)}if(newUrlState&&newUrlState.surroundingLogsId){setSurroundingLogsId(newUrlState.surroundingLogsId)}if(newUrlState&&newUrlState.flyoutVisibility===FlyoutVisibility.visible){setFlyoutVisibility(true)}if(newUrlState&&newUrlState.flyoutVisibility===FlyoutVisibility.hidden){setFlyoutVisibility(false)}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.flyoutId){setFlyoutId(initialUrlState.flyoutId)}if(initialUrlState&&initialUrlState.surroundingLogsId){setSurroundingLogsId(initialUrlState.surroundingLogsId)}if(initialUrlState&&initialUrlState.flyoutVisibility===FlyoutVisibility.visible){setFlyoutVisibility(true)}if(initialUrlState&&initialUrlState.flyoutVisibility===FlyoutVisibility.hidden){setFlyoutVisibility(false)}}})};exports.WithFlyoutOptionsUrlState=WithFlyoutOptionsUrlState;var mapToUrlState=function mapToUrlState(value){return value?{flyoutId:mapToFlyoutIdState(value.flyoutId),flyoutVisibility:mapToFlyoutVisibilityState(value.flyoutVisibility),surroundingLogsId:mapToSurroundingLogsIdState(value.surroundingLogsId)}:undefined};var mapToFlyoutIdState=function mapToFlyoutIdState(subject){return subject&&(0,_lodash.isString)(subject)?subject:undefined};var mapToSurroundingLogsIdState=function mapToSurroundingLogsIdState(subject){return subject&&(0,_lodash.isString)(subject)?subject:undefined};var mapToFlyoutVisibilityState=function mapToFlyoutVisibilityState(subject){if(subject){if(subject==="visible"){return FlyoutVisibility.visible}if(subject==="hidden"){return FlyoutVisibility.hidden}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SourceConfigurationSettings",{enumerable:true,get:function get(){return _source_configuration_settings.SourceConfigurationSettings}});Object.defineProperty(exports,"ViewSourceConfigurationButton",{enumerable:true,get:function get(){return _view_source_configuration_button.ViewSourceConfigurationButton}});var _source_configuration_settings=__webpack_require__(846);var _view_source_configuration_button=__webpack_require__(1517)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertFlyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(1532);var _triggers_actions_context=__webpack_require__(888);var _public2=__webpack_require__(9);var _types=__webpack_require__(96);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AlertFlyout=function AlertFlyout(props){var _services$notificatio;var _useContext=(0,_react.useContext)(_triggers_actions_context.TriggerActionsContext),triggersActionsUI=_useContext.triggersActionsUI;var _useKibana=(0,_public2.useKibana)(),services=_useKibana.services;return _react.default.createElement(_react.default.Fragment,null,triggersActionsUI&&_react.default.createElement(_public.AlertsContextProvider,{value:{metadata:{currentOptions:props.options,series:props.series},toastNotifications:(_services$notificatio=services.notifications)===null||_services$notificatio===void 0?void 0:_services$notificatio.toasts,http:services.http,docLinks:services.docLinks,actionTypeRegistry:triggersActionsUI.actionTypeRegistry,alertTypeRegistry:triggersActionsUI.alertTypeRegistry}},_react.default.createElement(_public.AlertAdd,{addFlyoutVisible:props.visible,setAddFlyoutVisibility:props.setVisible,alertTypeId:_types.METRIC_THRESHOLD_ALERT_TYPE_ID,canChangeTrigger:false,consumer:"metrics"})))};exports.AlertFlyout=AlertFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMatchingIndicesForThresholdAlertType=getMatchingIndicesForThresholdAlertType;exports.getThresholdAlertTypeFields=getThresholdAlertTypeFields;exports.getThresholdAlertVisualizationData=getThresholdAlertVisualizationData;exports.loadIndexPatterns=exports.getSavedObjectsClient=exports.setSavedObjectsClient=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var INDEX_THRESHOLD_API_ROOT="/api/alerting_builtins/index_threshold";function getMatchingIndicesForThresholdAlertType(_x){return _getMatchingIndicesForThresholdAlertType.apply(this,arguments)}function _getMatchingIndicesForThresholdAlertType(){_getMatchingIndicesForThresholdAlertType=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref3){var pattern,http,_ref4,indices;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:pattern=_ref3.pattern,http=_ref3.http;if(!pattern.startsWith("*")){pattern="*".concat(pattern)}if(!pattern.endsWith("*")){pattern="".concat(pattern,"*")}_context2.next=5;return http.post("".concat(INDEX_THRESHOLD_API_ROOT,"/_indices"),{body:JSON.stringify({pattern:pattern})});case 5:_ref4=_context2.sent;indices=_ref4.indices;return _context2.abrupt("return",indices);case 8:case"end":return _context2.stop()}}}),_callee2)})));return _getMatchingIndicesForThresholdAlertType.apply(this,arguments)}function getThresholdAlertTypeFields(_x2){return _getThresholdAlertTypeFields.apply(this,arguments)}function _getThresholdAlertTypeFields(){_getThresholdAlertTypeFields=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(_ref5){var indexes,http,_ref6,fields;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:indexes=_ref5.indexes,http=_ref5.http;_context3.next=3;return http.post("".concat(INDEX_THRESHOLD_API_ROOT,"/_fields"),{body:JSON.stringify({indexPatterns:indexes})});case 3:_ref6=_context3.sent;fields=_ref6.fields;return _context3.abrupt("return",fields);case 6:case"end":return _context3.stop()}}}),_callee3)})));return _getThresholdAlertTypeFields.apply(this,arguments)}var savedObjectsClient;var setSavedObjectsClient=function setSavedObjectsClient(aSavedObjectsClient){savedObjectsClient=aSavedObjectsClient};exports.setSavedObjectsClient=setSavedObjectsClient;var getSavedObjectsClient=function getSavedObjectsClient(){return savedObjectsClient};exports.getSavedObjectsClient=getSavedObjectsClient;var loadIndexPatterns=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref2,savedObjects;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getSavedObjectsClient().find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref2=_context.sent;savedObjects=_ref2.savedObjects;return _context.abrupt("return",savedObjects);case 5:case"end":return _context.stop()}}}),_callee)})));return function loadIndexPatterns(){return _ref.apply(this,arguments)}}();exports.loadIndexPatterns=loadIndexPatterns;function getThresholdAlertVisualizationData(_x3){return _getThresholdAlertVisualizationData.apply(this,arguments)}function _getThresholdAlertVisualizationData(){_getThresholdAlertVisualizationData=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref7){var model,visualizeOptions,http,timeSeriesQueryParams;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:model=_ref7.model,visualizeOptions=_ref7.visualizeOptions,http=_ref7.http;timeSeriesQueryParams={index:model.index,timeField:model.timeField,aggType:model.aggType,aggField:model.aggField,groupBy:model.groupBy,termField:model.termField,termSize:model.termSize,timeWindowSize:model.timeWindowSize,timeWindowUnit:model.timeWindowUnit,dateStart:new Date(visualizeOptions.rangeFrom).toISOString(),dateEnd:new Date(visualizeOptions.rangeTo).toISOString(),interval:visualizeOptions.interval};_context4.next=4;return http.post("".concat(INDEX_THRESHOLD_API_ROOT,"/_time_series_query"),{body:JSON.stringify(timeSeriesQueryParams)});case 4:return _context4.abrupt("return",_context4.sent);case 5:case"end":return _context4.stop()}}}),_callee4)})));return _getThresholdAlertVisualizationData.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkActionTypeEnabled=checkActionTypeEnabled;var _react=_interopRequireDefault(__webpack_require__(3));var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _constants=__webpack_require__(49);__webpack_require__(1575);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkActionTypeEnabled(actionType){if((actionType===null||actionType===void 0?void 0:actionType.enabledInLicense)===false){return{isEnabled:false,message:_i18n.i18n.translate("xpack.triggersActionsUI.checkActionTypeEnabled.actionTypeDisabledByLicenseMessage",{defaultMessage:"This connector requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:(0,_lodash.capitalize)(actionType.minimumLicenseRequired)}}),messageCard:_react.default.createElement(_eui.EuiCard,{titleSize:"xs",title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.actionTypeDisabledByLicenseMessageTitle",{defaultMessage:"This feature requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:(0,_lodash.capitalize)(actionType.minimumLicenseRequired)}}),description:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.actionTypeDisabledByLicenseMessageDescription",{defaultMessage:"To re-enable this action, please upgrade your license."}),className:"actCheckActionTypeEnabled__disabledActionWarningCard",children:_react.default.createElement(_eui.EuiLink,{href:_constants.VIEW_LICENSE_OPTIONS_LINK,target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"View license options",id:"xpack.triggersActionsUI.sections.alertForm.actionTypeDisabledByLicenseLinkTitle"}))})}}if((actionType===null||actionType===void 0?void 0:actionType.enabledInConfig)===false){return{isEnabled:false,message:_i18n.i18n.translate("xpack.triggersActionsUI.checkActionTypeEnabled.actionTypeDisabledByConfigMessage",{defaultMessage:"This connector is disabled by the Kibana configuration."}),messageCard:_react.default.createElement(_eui.EuiCard,{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.actionTypeDisabledByConfigMessageTitle",{defaultMessage:"This feature is disabled by the Kibana configuration."}),description:"",className:"actCheckActionTypeEnabled__disabledActionWarningCard"})}}return{isEnabled:true}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateBaseProperties=validateBaseProperties;exports.ActionConnectorForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function validateBaseProperties(actionObject){var validationResult={errors:{}};var verrors={name:new Array};validationResult.errors=verrors;if(!actionObject.name){verrors.name.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.requiredNameText",{defaultMessage:"Name is required."}))}return validationResult}var ActionConnectorForm=function ActionConnectorForm(_ref){var connector=_ref.connector,dispatch=_ref.dispatch,actionTypeName=_ref.actionTypeName,serverError=_ref.serverError,errors=_ref.errors,actionTypeRegistry=_ref.actionTypeRegistry,http=_ref.http;var setActionProperty=function setActionProperty(key,value){dispatch({command:{type:"setProperty"},payload:{key:key,value:value}})};var setActionConfigProperty=function setActionConfigProperty(key,value){dispatch({command:{type:"setConfigProperty"},payload:{key:key,value:value}})};var setActionSecretsProperty=function setActionSecretsProperty(key,value){dispatch({command:{type:"setSecretsProperty"},payload:{key:key,value:value}})};var actionTypeRegistered=actionTypeRegistry.get(connector.actionTypeId);if(!actionTypeRegistered)return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionTypeConfigurationWarningTitleText",{defaultMessage:"Action type not registered"}),color:"warning",iconType:"help"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionConfigurationWarningDescriptionText",defaultMessage:"To create this connector, you must configure at least one {actionType} account. {docLink}",values:{actionType:actionTypeName,docLink:_react.default.createElement(_eui.EuiLink,{target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionConfigurationWarningHelpLinkText",defaultMessage:"Learn more."}))}})))),_react.default.createElement(_eui.EuiSpacer,null));var FieldsComponent=actionTypeRegistered.actionConnectorFields;return _react.default.createElement(_eui.EuiForm,{isInvalid:!!serverError,error:serverError===null||serverError===void 0?void 0:serverError.body.message},_react.default.createElement(_eui.EuiFormRow,{id:"actionName",fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actionNameLabel",defaultMessage:"Connector name"}),isInvalid:errors.name.length>0&&connector.name!==undefined,error:errors.name},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,autoFocus:true,isInvalid:errors.name.length>0&&connector.name!==undefined,name:"name",placeholder:"Untitled","data-test-subj":"nameInput",value:connector.name||"",onChange:function onChange(e){setActionProperty("name",e.target.value)},onBlur:function onBlur(){if(!connector.name){setActionProperty("name","")}}})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),FieldsComponent!==null?_react.default.createElement(FieldsComponent,{action:connector,errors:errors,editActionConfig:setActionConfigProperty,editActionSecrets:setActionSecretsProperty,http:http}):null)};exports.ActionConnectorForm=ActionConnectorForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.connectorReducer=void 0;var _lodash=__webpack_require__(1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var connectorReducer=function connectorReducer(state,action){var command=action.command,payload=action.payload;var connector=state.connector;switch(command.type){case"setConnector":{var key=payload.key,value=payload.value;if(key==="connector"){return _objectSpread({},state,{connector:value})}else{return state}}case"setProperty":{var _key=payload.key,_value=payload.value;if((0,_lodash.isEqual)(connector[_key],_value)){return state}else{return _objectSpread({},state,{connector:_objectSpread({},connector,_defineProperty({},_key,_value))})}}case"setConfigProperty":{var _key2=payload.key,_value2=payload.value;if((0,_lodash.isEqual)(connector.config[_key2],_value2)){return state}else{return _objectSpread({},state,{connector:_objectSpread({},connector,{config:_objectSpread({},connector.config,_defineProperty({},_key2,_value2))})})}}case"setSecretsProperty":{var _key3=payload.key,_value3=payload.value;if((0,_lodash.isEqual)(connector.secrets[_key3],_value3)){return state}else{return _objectSpread({},state,{connector:_objectSpread({},connector,{secrets:_objectSpread({},connector.secrets,_defineProperty({},_key3,_value3))})})}}}};exports.connectorReducer=connectorReducer},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HealthCheck=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _Option=__webpack_require__(855);var _pipeable=__webpack_require__(48);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _alert_api=__webpack_require__(743);__webpack_require__(1607);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var HealthCheck=function HealthCheck(_ref){var docLinks=_ref.docLinks,http=_ref.http,children=_ref.children,_ref$inFlyout=_ref.inFlyout,inFlyout=_ref$inFlyout===void 0?false:_ref$inFlyout;var _React$useState=_react.default.useState(_Option.none),_React$useState2=_slicedToArray(_React$useState,2),alertingHealth=_React$useState2[0],setAlertingHealth=_React$useState2[1];_react.default.useEffect((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setAlertingHealth;_context.t1=_Option.some;_context.next=4;return(0,_alert_api.health)({http:http});case 4:_context.t2=_context.sent;_context.t3=(0,_context.t1)(_context.t2);(0,_context.t0)(_context.t3);case 7:case"end":return _context.stop()}}}),_callee)})))()}),[http]);var className=inFlyout?"alertingFlyoutHealthCheck":"alertingHealthCheck";return(0,_pipeable.pipe)(alertingHealth,(0,_Option.fold)((function(){return _react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}),(function(healthCheck){return(healthCheck===null||healthCheck===void 0?void 0:healthCheck.isSufficientlySecure)&&(healthCheck===null||healthCheck===void 0?void 0:healthCheck.hasPermanentEncryptionKey)?_react.default.createElement(_react.Fragment,null,children):!healthCheck.isSufficientlySecure&&!healthCheck.hasPermanentEncryptionKey?_react.default.createElement(TlsAndEncryptionError,{docLinks:docLinks,className:className}):!healthCheck.hasPermanentEncryptionKey?_react.default.createElement(EncryptionError,{docLinks:docLinks,className:className}):_react.default.createElement(TlsError,{docLinks:docLinks,className:className})})))};exports.HealthCheck=HealthCheck;var TlsAndEncryptionError=function TlsAndEncryptionError(_ref3){var _ref3$docLinks=_ref3.docLinks,ELASTIC_WEBSITE_URL=_ref3$docLinks.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=_ref3$docLinks.DOC_LINK_VERSION,className=_ref3.className;return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:_react.default.createElement("div",{className:"".concat(className,"__body")},_react.default.createElement("p",{role:"banner"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionError",{defaultMessage:"You must enable Transport Layer Security between Kibana and Elasticsearch and configure an encryption key in your kibana.yml file. "}),_react.default.createElement(_eui.EuiLink,{href:"".concat(ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(DOC_LINK_VERSION,"/alerting-getting-started.html#alerting-setup-prerequisites"),external:true,target:"_blank"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsAndEncryptionErrorAction",{defaultMessage:"Learn how"}))))})};var EncryptionError=function EncryptionError(_ref4){var _ref4$docLinks=_ref4.docLinks,ELASTIC_WEBSITE_URL=_ref4$docLinks.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=_ref4$docLinks.DOC_LINK_VERSION,className=_ref4.className;return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"You must set an encryption key"})),body:_react.default.createElement("div",{className:"".concat(className,"__body")},_react.default.createElement("p",{role:"banner"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"To create an alert, set a value for "}),_react.default.createElement(_eui.EuiCode,null,"xpack.encryptedSavedObjects.encryptionKey"),_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAfterKey",{defaultMessage:" in your kibana.yml file. "}),_react.default.createElement(_eui.EuiLink,{href:"".concat(ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(DOC_LINK_VERSION,"/alert-action-settings-kb.html#general-alert-action-settings"),external:true,target:"_blank"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn how."}))))})};var TlsError=function TlsError(_ref5){var _ref5$docLinks=_ref5.docLinks,ELASTIC_WEBSITE_URL=_ref5$docLinks.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=_ref5$docLinks.DOC_LINK_VERSION,className=_ref5.className;return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:className,titleSize:"xs",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.tlsErrorTitle",defaultMessage:"You must enable Transport Layer Security"})),body:_react.default.createElement("div",{className:"".concat(className,"__body")},_react.default.createElement("p",{role:"banner"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsError",{defaultMessage:"Alerting relies on API keys, which require TLS between Elasticsearch and Kibana. "}),_react.default.createElement(_eui.EuiLink,{href:"".concat(ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(DOC_LINK_VERSION,"/configuring-tls.html"),external:true,target:"_blank"},_i18n.i18n.translate("xpack.triggersActionsUI.components.healthCheck.tlsErrorAction",{defaultMessage:"Learn how to enable TLS."}))))})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithWaffleFilterUrlState=exports.WithWaffleFilter=exports.withWaffleFilter=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRedux=__webpack_require__(733);var _store=__webpack_require__(725);var _kuery=__webpack_require__(769);var _typed_react=__webpack_require__(220);var _typed_redux=__webpack_require__(746);var _url_state=__webpack_require__(711);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var withWaffleFilter=(0,_reactRedux.connect)((function(state){return{filterQuery:_store.waffleFilterSelectors.selectWaffleFilterQuery(state),filterQueryDraft:_store.waffleFilterSelectors.selectWaffleFilterQueryDraft(state),filterQueryAsJson:_store.waffleFilterSelectors.selectWaffleFilterQueryAsJson(state),isFilterQueryDraftValid:_store.waffleFilterSelectors.selectIsWaffleFilterQueryDraftValid(state)}}),(function(dispatch,ownProps){return(0,_typed_redux.bindPlainActionCreators)({applyFilterQuery:function applyFilterQuery(query){return _store.waffleFilterActions.applyWaffleFilterQuery({query:query,serializedQuery:(0,_kuery.convertKueryToElasticSearchQuery)(query.expression,ownProps.indexPattern)})},applyFilterQueryFromKueryExpression:function applyFilterQueryFromKueryExpression(expression){return _store.waffleFilterActions.applyWaffleFilterQuery({query:{kind:"kuery",expression:expression},serializedQuery:(0,_kuery.convertKueryToElasticSearchQuery)(expression,ownProps.indexPattern)})},setFilterQueryDraft:_store.waffleFilterActions.setWaffleFilterQueryDraft,setFilterQueryDraftFromKueryExpression:function setFilterQueryDraftFromKueryExpression(expression){return _store.waffleFilterActions.setWaffleFilterQueryDraft({kind:"kuery",expression:expression})}})}));exports.withWaffleFilter=withWaffleFilter;var WithWaffleFilter=(0,_typed_react.asChildFunctionRenderer)(withWaffleFilter);exports.WithWaffleFilter=WithWaffleFilter;var WithWaffleFilterUrlState=function WithWaffleFilterUrlState(_ref){var indexPattern=_ref.indexPattern;return _react.default.createElement(WithWaffleFilter,{indexPattern:indexPattern},(function(_ref2){var applyFilterQuery=_ref2.applyFilterQuery,filterQuery=_ref2.filterQuery;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:filterQuery,urlStateKey:"waffleFilter",mapToUrlState:mapToUrlState,onChange:function onChange(urlState){if(urlState){applyFilterQuery(urlState)}},onInitialize:function onInitialize(urlState){if(urlState){applyFilterQuery(urlState)}}})}))};exports.WithWaffleFilterUrlState=WithWaffleFilterUrlState;var mapToUrlState=function mapToUrlState(value){return value&&value.kind==="kuery"&&typeof value.expression==="string"?{kind:value.kind,expression:value.expression}:undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithWaffleTimeUrlState=exports.WithWaffleTime=exports.withWaffleTime=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRedux=__webpack_require__(733);var _reselect=__webpack_require__(745);var _store=__webpack_require__(725);var _typed_react=__webpack_require__(220);var _typed_redux=__webpack_require__(746);var _url_state=__webpack_require__(711);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var withWaffleTime=(0,_reactRedux.connect)((function(state){return{currentTime:_store.waffleTimeSelectors.selectCurrentTime(state),currentTimeRange:_store.waffleTimeSelectors.selectCurrentTimeRange(state),isAutoReloading:_store.waffleTimeSelectors.selectIsAutoReloading(state),urlState:selectTimeUrlState(state)}}),(0,_typed_redux.bindPlainActionCreators)({jumpToTime:_store.waffleTimeActions.jumpToTime,startAutoReload:_store.waffleTimeActions.startAutoReload,stopAutoReload:_store.waffleTimeActions.stopAutoReload}));exports.withWaffleTime=withWaffleTime;var WithWaffleTime=(0,_typed_react.asChildFunctionRenderer)(withWaffleTime,{onCleanup:function onCleanup(_ref){var stopAutoReload=_ref.stopAutoReload;return stopAutoReload()}});exports.WithWaffleTime=WithWaffleTime;var WithWaffleTimeUrlState=function WithWaffleTimeUrlState(){return _react.default.createElement(WithWaffleTime,null,(function(_ref2){var jumpToTime=_ref2.jumpToTime,startAutoReload=_ref2.startAutoReload,stopAutoReload=_ref2.stopAutoReload,urlState=_ref2.urlState;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:urlState,urlStateKey:"waffleTime",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.time){jumpToTime(newUrlState.time)}if(newUrlState&&newUrlState.autoReload){startAutoReload()}else if(newUrlState&&typeof newUrlState.autoReload!=="undefined"&&!newUrlState.autoReload){stopAutoReload()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState){jumpToTime(initialUrlState.time?initialUrlState.time:Date.now())}if(initialUrlState&&initialUrlState.autoReload){startAutoReload()}}})}))};exports.WithWaffleTimeUrlState=WithWaffleTimeUrlState;var selectTimeUrlState=(0,_reselect.createSelector)(_store.waffleTimeSelectors.selectCurrentTime,_store.waffleTimeSelectors.selectIsAutoReloading,(function(time,autoReload){return{time:time,autoReload:autoReload}}));var mapToUrlState=function mapToUrlState(value){return value?{time:mapToTimeUrlState(value.time),autoReload:mapToAutoReloadUrlState(value.autoReload)}:undefined};var mapToTimeUrlState=function mapToTimeUrlState(value){return value&&typeof value==="number"?value:undefined};var mapToAutoReloadUrlState=function mapToAutoReloadUrlState(value){return typeof value==="boolean"?value:undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isWaffleMapGroupWithNodes=isWaffleMapGroupWithNodes;exports.isWaffleMapGroupWithGroups=isWaffleMapGroupWithGroups;function isWaffleMapGroupWithNodes(subject){return subject&&subject.nodes!=null&&Array.isArray(subject.nodes)}function isWaffleMapGroupWithGroups(subject){return subject&&subject.groups!=null&&Array.isArray(subject.groups)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"css",{enumerable:true,get:function get(){return _eui_styled_components.css}});Object.defineProperty(exports,"euiStyled",{enumerable:true,get:function get(){return _eui_styled_components.euiStyled}});Object.defineProperty(exports,"EuiTheme",{enumerable:true,get:function get(){return _eui_styled_components.EuiTheme}});Object.defineProperty(exports,"EuiThemeProvider",{enumerable:true,get:function get(){return _eui_styled_components.EuiThemeProvider}});Object.defineProperty(exports,"createGlobalStyle",{enumerable:true,get:function get(){return _eui_styled_components.createGlobalStyle}});Object.defineProperty(exports,"keyframes",{enumerable:true,get:function get(){return _eui_styled_components.keyframes}});Object.defineProperty(exports,"withTheme",{enumerable:true,get:function get(){return _eui_styled_components.withTheme}});exports.default=void 0;var _eui_styled_components=__webpack_require__(1668);var _default=_eui_styled_components.euiStyled;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCustomMetricLabel=void 0;var _i18n=__webpack_require__(0);var getCustomMetricLabel=function getCustomMetricLabel(metric){var METRIC_LABELS={avg:_i18n.i18n.translate("xpack.infra.waffle.aggregationNames.avg",{defaultMessage:"Avg of {field}",values:{field:metric.field}}),max:_i18n.i18n.translate("xpack.infra.waffle.aggregationNames.max",{defaultMessage:"Max of {field}",values:{field:metric.field}}),min:_i18n.i18n.translate("xpack.infra.waffle.aggregationNames.min",{defaultMessage:"Min of {field}",values:{field:metric.field}}),rate:_i18n.i18n.translate("xpack.infra.waffle.aggregationNames.rate",{defaultMessage:"Rate of {field}",values:{field:metric.field}})};return metric.label?metric.label:METRIC_LABELS[metric.aggregation]};exports.getCustomMetricLabel=getCustomMetricLabel},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NotFoundPage=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var NotFoundPage=function(_React$PureComponent){_inherits(NotFoundPage,_React$PureComponent);function NotFoundPage(){_classCallCheck(this,NotFoundPage);return _possibleConstructorReturn(this,_getPrototypeOf(NotFoundPage).apply(this,arguments))}_createClass(NotFoundPage,[{key:"render",value:function render(){return _react2.default.createElement("div",{"data-test-subj":"infraNotFoundPage"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.notFoundPage.noContentFoundErrorTitle",defaultMessage:"No content found"}))}}]);return NotFoundPage}(_react2.default.PureComponent);exports.NotFoundPage=NotFoundPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogFilterState=exports.useLogFilterState=exports.logFilterInitialState=void 0;var _react=__webpack_require__(3);var _constate=_interopRequireDefault(__webpack_require__(213));var _public=__webpack_require__(25);var _kuery=__webpack_require__(769);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var logFilterInitialState={filterQuery:null,filterQueryDraft:null};exports.logFilterInitialState=logFilterInitialState;var useLogFilterState=function useLogFilterState(_ref){var indexPattern=_ref.indexPattern;var _useState=(0,_react.useState)(logFilterInitialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var filterQuery=state.filterQuery,filterQueryDraft=state.filterQueryDraft;var setLogFilterQueryDraft=(0,_react.useMemo)((function(){var setDraft=function setDraft(payload){return setState((function(prevState){return _objectSpread({},prevState,{filterQueryDraft:payload})}))};return function(expression){return setDraft({kind:"kuery",expression:expression})}}),[]);var applyLogFilterQuery=(0,_react.useMemo)((function(){var applyQuery=function applyQuery(payload){return setState((function(prevState){return _objectSpread({},prevState,{filterQueryDraft:payload.query,filterQuery:payload})}))};return function(expression){return applyQuery({query:{kind:"kuery",expression:expression},serializedQuery:(0,_kuery.convertKueryToElasticSearchQuery)(expression,indexPattern)})}}),[indexPattern]);var isFilterQueryDraftValid=(0,_react.useMemo)((function(){if((filterQueryDraft===null||filterQueryDraft===void 0?void 0:filterQueryDraft.kind)==="kuery"){try{_public.esKuery.fromKueryExpression(filterQueryDraft.expression)}catch(err){return false}}return true}),[filterQueryDraft]);var serializedFilterQuery=(0,_react.useMemo)((function(){return filterQuery?filterQuery.serializedQuery:null}),[filterQuery]);return _objectSpread({},state,{filterQueryAsKuery:state.filterQuery?state.filterQuery.query:null,filterQuery:serializedFilterQuery,isFilterQueryDraftValid:isFilterQueryDraftValid,setLogFilterQueryDraft:setLogFilterQueryDraft,applyLogFilterQuery:applyLogFilterQuery})};exports.useLogFilterState=useLogFilterState;var LogFilterState=(0,_constate.default)(useLogFilterState);exports.LogFilterState=LogFilterState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogPositionState=exports.useLogPositionState=void 0;var _react=__webpack_require__(3);var _constate=_interopRequireDefault(__webpack_require__(213));var _reactUse=__webpack_require__(747);var _datemath=__webpack_require__(833);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_DATE_RANGE={startDateExpression:"now-1d",endDateExpression:"now"};var DESIRED_BUFFER_PAGES=2;var useVisibleMidpoint=function useVisibleMidpoint(middleKey,targetPosition){var _useState=(0,_react.useState)({middleKey:middleKey,targetPosition:targetPosition,currentValue:middleKey||targetPosition}),_useState2=_slicedToArray(_useState,2),store=_useState2[0],update=_useState2[1];(0,_react.useEffect)((function(){if(middleKey!==store.middleKey){update({targetPosition:targetPosition,middleKey:middleKey,currentValue:middleKey})}else if(targetPosition!==store.targetPosition){update({targetPosition:targetPosition,middleKey:middleKey,currentValue:targetPosition})}}),[middleKey,targetPosition]);return store.currentValue};var useLogPositionState=function useLogPositionState(){var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isInitialized=_useState4[0],setInitialized=_useState4[1];var initialize=(0,_react.useCallback)((function(){setInitialized(true)}),[setInitialized]);var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),targetPosition=_useState6[0],jumpToTargetPosition=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),isStreaming=_useState8[0],setIsStreaming=_useState8[1];var _useState9=(0,_react.useState)({endKey:null,middleKey:null,startKey:null,pagesBeforeStart:Infinity,pagesAfterEnd:Infinity}),_useState10=_slicedToArray(_useState9,2),visiblePositions=_useState10[0],reportVisiblePositions=_useState10[1];var _useSetState=(0,_reactUse.useSetState)(_objectSpread({},DEFAULT_DATE_RANGE,{startTimestamp:(0,_datemath.datemathToEpochMillis)(DEFAULT_DATE_RANGE.startDateExpression),endTimestamp:(0,_datemath.datemathToEpochMillis)(DEFAULT_DATE_RANGE.endDateExpression,"up"),timestampsLastUpdate:Date.now()})),_useSetState2=_slicedToArray(_useSetState,2),dateRange=_useSetState2[0],setDateRange=_useSetState2[1];var startKey=visiblePositions.startKey,middleKey=visiblePositions.middleKey,endKey=visiblePositions.endKey,pagesBeforeStart=visiblePositions.pagesBeforeStart,pagesAfterEnd=visiblePositions.pagesAfterEnd;var visibleMidpoint=useVisibleMidpoint(middleKey,targetPosition);var visibleTimeInterval=(0,_react.useMemo)((function(){return startKey&&endKey?{start:startKey.time,end:endKey.time}:null}),[startKey,endKey]);var updateDateRange=(0,_react.useCallback)((function(newDateRange){if(!("startDateExpression"in newDateRange)&&!("endDateExpression"in newDateRange)){return}var nextStartDateExpression=newDateRange.startDateExpression||dateRange.startDateExpression;var nextEndDateExpression=newDateRange.endDateExpression||dateRange.endDateExpression;if(!(0,_datemath.isValidDatemath)(nextStartDateExpression)||!(0,_datemath.isValidDatemath)(nextEndDateExpression)){return}var nextStartTimestamp=(0,_datemath.datemathToEpochMillis)(nextStartDateExpression);var nextEndTimestamp=(0,_datemath.datemathToEpochMillis)(nextEndDateExpression,"up");if(targetPosition&&(nextStartTimestamp>targetPosition.time||nextEndTimestamp<targetPosition.time)){jumpToTargetPosition(null)}setDateRange(_objectSpread({},newDateRange,{startTimestamp:nextStartTimestamp,endTimestamp:nextEndTimestamp,timestampsLastUpdate:Date.now()}))}),[setDateRange,dateRange,targetPosition]);(0,_react.useEffect)((function(){if(dateRange.endDateExpression!=="now"){return}if(visiblePositions.pagesAfterEnd<=DESIRED_BUFFER_PAGES){setDateRange({endTimestamp:(0,_datemath.datemathToEpochMillis)(dateRange.endDateExpression,"up"),timestampsLastUpdate:Date.now()})}}),[dateRange.endDateExpression,visiblePositions,setDateRange]);var state=_objectSpread({isInitialized:isInitialized,targetPosition:targetPosition,isStreaming:isStreaming,firstVisiblePosition:startKey,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd,visibleMidpoint:visibleMidpoint,visibleMidpointTime:visibleMidpoint?visibleMidpoint.time:null,visibleTimeInterval:visibleTimeInterval},dateRange);var callbacks={initialize:initialize,jumpToTargetPosition:jumpToTargetPosition,jumpToTargetPositionTime:(0,_react.useCallback)((function(time){return jumpToTargetPosition({tiebreaker:0,time:time})}),[jumpToTargetPosition]),reportVisiblePositions:reportVisiblePositions,startLiveStreaming:(0,_react.useCallback)((function(){setIsStreaming(true);jumpToTargetPosition(null);updateDateRange({startDateExpression:"now-1d",endDateExpression:"now"})}),[setIsStreaming,updateDateRange]),stopLiveStreaming:(0,_react.useCallback)((function(){return setIsStreaming(false)}),[setIsStreaming]),updateDateRange:updateDateRange};return _objectSpread({},state,{},callbacks)};exports.useLogPositionState=useLogPositionState;var LogPositionState=(0,_constate.default)(useLogPositionState);exports.LogPositionState=LogPositionState},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _timeUnitLabels,_elasticSearchTimeUni;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getElasticSearchTimeUnit=exports.elasticSearchTimeUnits=exports.timeUnitLabels=exports.TimeUnit=void 0;var TimeUnit;exports.TimeUnit=TimeUnit;(function(TimeUnit){TimeUnit[TimeUnit["Millisecond"]=1]="Millisecond";TimeUnit[TimeUnit["Second"]=1e3]="Second";TimeUnit[TimeUnit["Minute"]=6e4]="Minute";TimeUnit[TimeUnit["Hour"]=36e5]="Hour";TimeUnit[TimeUnit["Day"]=864e5]="Day";TimeUnit[TimeUnit["Month"]=2592e6]="Month";TimeUnit[TimeUnit["Year"]=31104e6]="Year"})(TimeUnit||(exports.TimeUnit=TimeUnit={}));var timeUnitLabels=(_timeUnitLabels={},_defineProperty(_timeUnitLabels,TimeUnit.Millisecond,"ms"),_defineProperty(_timeUnitLabels,TimeUnit.Second,"s"),_defineProperty(_timeUnitLabels,TimeUnit.Minute,"m"),_defineProperty(_timeUnitLabels,TimeUnit.Hour,"h"),_defineProperty(_timeUnitLabels,TimeUnit.Day,"d"),_defineProperty(_timeUnitLabels,TimeUnit.Month,"M"),_defineProperty(_timeUnitLabels,TimeUnit.Year,"y"),_timeUnitLabels);exports.timeUnitLabels=timeUnitLabels;var elasticSearchTimeUnits=(_elasticSearchTimeUni={},_defineProperty(_elasticSearchTimeUni,TimeUnit.Second,"s"),_defineProperty(_elasticSearchTimeUni,TimeUnit.Minute,"m"),_defineProperty(_elasticSearchTimeUni,TimeUnit.Hour,"h"),_defineProperty(_elasticSearchTimeUni,TimeUnit.Day,"d"),_defineProperty(_elasticSearchTimeUni,TimeUnit.Month,"M"),_defineProperty(_elasticSearchTimeUni,TimeUnit.Year,"y"),_elasticSearchTimeUni);exports.elasticSearchTimeUnits=elasticSearchTimeUnits;var getElasticSearchTimeUnit=function getElasticSearchTimeUnit(scale){return elasticSearchTimeUnits[scale]};exports.getElasticSearchTimeUnit=getElasticSearchTimeUnit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNodeLogsUrl=exports.RedirectToNodeLogs=void 0;var _i18n=__webpack_require__(0);var _lodash=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _loading_page=__webpack_require__(753);var _log_filter=__webpack_require__(735);var _log_position=__webpack_require__(719);var _source_id=__webpack_require__(834);var _query_params=__webpack_require__(775);var _source=__webpack_require__(837);var _inventory_models=__webpack_require__(754);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getFieldByNodeType=function getFieldByNodeType(nodeType,fields){var inventoryFields=(0,_inventory_models.findInventoryFields)(nodeType,fields);return inventoryFields.id};var RedirectToNodeLogs=function RedirectToNodeLogs(_ref){var _ref$match$params=_ref.match.params,nodeId=_ref$match$params.nodeId,nodeType=_ref$match$params.nodeType,_ref$match$params$sou=_ref$match$params.sourceId,sourceId=_ref$match$params$sou===void 0?"default":_ref$match$params$sou,location=_ref.location;var _useSource=(0,_source.useSource)({sourceId:sourceId}),source=_useSource.source,isLoading=_useSource.isLoading;var configuration=source&&source.configuration;if(isLoading){return _react.default.createElement(_loading_page.LoadingPage,{message:_i18n.i18n.translate("xpack.infra.redirectToNodeLogs.loadingNodeLogsMessage",{defaultMessage:"Loading {nodeType} logs",values:{nodeType:nodeType}})})}if(!configuration){return null}var nodeFilter="".concat(getFieldByNodeType(nodeType,configuration.fields),": ").concat(nodeId);var userFilter=(0,_query_params.getFilterFromLocation)(location);var filter=userFilter?"(".concat(nodeFilter,") and (").concat(userFilter,")"):nodeFilter;var searchString=(0,_lodash.compose)((0,_log_filter.replaceLogFilterInQueryString)(filter),(0,_log_position.replaceLogPositionInQueryString)((0,_query_params.getTimeFromLocation)(location)),(0,_source_id.replaceSourceIdInQueryString)(sourceId))("");return _react.default.createElement(_reactRouterDom.Redirect,{to:"/?".concat(searchString)})};exports.RedirectToNodeLogs=RedirectToNodeLogs;var getNodeLogsUrl=function getNodeLogsUrl(_ref2){var nodeId=_ref2.nodeId,nodeType=_ref2.nodeType,time=_ref2.time;return{app:"logs",pathname:"link-to/".concat(nodeType,"-logs/").concat(nodeId),search:time?{time:"".concat(time)}:undefined}};exports.getNodeLogsUrl=getNodeLogsUrl},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _cpu=__webpack_require__(1240);var _count=__webpack_require__(924);var _load=__webpack_require__(1241);var _log_rate=__webpack_require__(1242);var _memory=__webpack_require__(1243);var _rx=__webpack_require__(1244);var _tx=__webpack_require__(1245);var _host_system_overview=__webpack_require__(1246);var _host_cpu_usage=__webpack_require__(1247);var _host_load=__webpack_require__(1248);var _host_memory_usage=__webpack_require__(1249);var _host_network_traffic=__webpack_require__(1250);var _host_filesystem=__webpack_require__(1251);var _host_k8s_overview=__webpack_require__(1252);var _host_k8s_cpu_cap=__webpack_require__(1253);var _host_k8s_pod_cap=__webpack_require__(1254);var _host_k8s_disk_cap=__webpack_require__(1255);var _host_k8s_memory_cap=__webpack_require__(1256);var _host_docker_top_5_by_memory=__webpack_require__(1257);var _host_docker_top_5_by_cpu=__webpack_require__(1258);var _host_docker_overview=__webpack_require__(1259);var _host_docker_info=__webpack_require__(1260);var metrics={tsvb:{hostSystemOverview:_host_system_overview.hostSystemOverview,hostCpuUsage:_host_cpu_usage.hostCpuUsage,hostLoad:_host_load.hostLoad,hostMemoryUsage:_host_memory_usage.hostMemoryUsage,hostNetworkTraffic:_host_network_traffic.hostNetworkTraffic,hostFilesystem:_host_filesystem.hostFilesystem,hostK8sOverview:_host_k8s_overview.hostK8sOverview,hostK8sCpuCap:_host_k8s_cpu_cap.hostK8sCpuCap,hostK8sPodCap:_host_k8s_pod_cap.hostK8sPodCap,hostK8sDiskCap:_host_k8s_disk_cap.hostK8sDiskCap,hostK8sMemoryCap:_host_k8s_memory_cap.hostK8sMemoryCap,hostDockerOverview:_host_docker_overview.hostDockerOverview,hostDockerInfo:_host_docker_info.hostDockerInfo,hostDockerTop5ByMemory:_host_docker_top_5_by_memory.hostDockerTop5ByMemory,hostDockerTop5ByCpu:_host_docker_top_5_by_cpu.hostDockerTop5ByCpu},snapshot:{count:_count.count,cpu:_cpu.cpu,load:_load.load,logRate:_log_rate.logRate,memory:_memory.memory,rx:_rx.rx,tx:_tx.tx},defaultSnapshot:"cpu",defaultTimeRangeInSeconds:3600};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.count=void 0;var count={count:{bucket_script:{buckets_path:{count:"_count"},script:{source:"count * 1",lang:"expression"},gap_policy:"skip"}}};exports.count=count},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aws=exports.nginx=void 0;var nginx=["nginxHits","nginxRequestRate","nginxActiveConnections","nginxRequestsPerConnection"];exports.nginx=nginx;var aws=["awsOverview","awsCpuUtilization","awsNetworkBytes","awsNetworkPackets","awsDiskioOps","awsDiskioBytes"];exports.aws=aws},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _cpu=__webpack_require__(1262);var _memory=__webpack_require__(1263);var _rx=__webpack_require__(1264);var _tx=__webpack_require__(1265);var _pod_overview=__webpack_require__(1266);var _pod_cpu_usage=__webpack_require__(1267);var _pod_log_usage=__webpack_require__(1268);var _pod_memory_usage=__webpack_require__(1269);var _pod_network_traffic=__webpack_require__(1270);var metrics={tsvb:{podOverview:_pod_overview.podOverview,podCpuUsage:_pod_cpu_usage.podCpuUsage,podLogUsage:_pod_log_usage.podLogUsage,podNetworkTraffic:_pod_network_traffic.podNetworkTraffic,podMemoryUsage:_pod_memory_usage.podMemoryUsage},snapshot:{cpu:_cpu.cpu,memory:_memory.memory,rx:_rx.rx,tx:_tx.tx},defaultSnapshot:"cpu",defaultTimeRangeInSeconds:3600};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.networkTraffic=void 0;var networkTraffic=function networkTraffic(id,field){var _ref;return _ref={},_defineProperty(_ref,"".concat(id,"_max"),{max:{field:field}}),_defineProperty(_ref,"".concat(id,"_deriv"),{derivative:{buckets_path:"".concat(id,"_max"),gap_policy:"skip",unit:"1s"}}),_defineProperty(_ref,id,{bucket_script:{buckets_path:{value:"".concat(id,"_deriv[normalized_value]")},script:{source:"params.value > 0.0 ? params.value : 0.0",lang:"painless"},gap_policy:"skip"}}),_ref};exports.networkTraffic=networkTraffic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _cpu=__webpack_require__(1272);var _rx=__webpack_require__(1273);var _tx=__webpack_require__(1274);var _disk_io_read_bytes=__webpack_require__(1275);var _disk_io_write_bytes=__webpack_require__(1276);var _aws_ec2_cpu_utilization=__webpack_require__(1277);var _aws_ec2_network_traffic=__webpack_require__(1278);var _aws_ec2_diskio_bytes=__webpack_require__(1279);var metrics={tsvb:{awsEC2CpuUtilization:_aws_ec2_cpu_utilization.awsEC2CpuUtilization,awsEC2NetworkTraffic:_aws_ec2_network_traffic.awsEC2NetworkTraffic,awsEC2DiskIOBytes:_aws_ec2_diskio_bytes.awsEC2DiskIOBytes},snapshot:{cpu:_cpu.cpu,rx:_rx.rx,tx:_tx.tx,diskIOReadBytes:_disk_io_read_bytes.diskIOReadBytes,diskIOWriteBytes:_disk_io_write_bytes.diskIOWriteBytes},defaultSnapshot:"cpu",defaultTimeRangeInSeconds:14400};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _aws_s3_bucket_size=__webpack_require__(1281);var _aws_s3_total_requests=__webpack_require__(1282);var _aws_s3_number_of_objects=__webpack_require__(1283);var _aws_s3_download_bytes=__webpack_require__(1284);var _aws_s3_upload_bytes=__webpack_require__(1285);var _s3_bucket_size=__webpack_require__(1286);var _s3_total_requests=__webpack_require__(1287);var _s3_number_of_objects=__webpack_require__(1288);var _s3_download_bytes=__webpack_require__(1289);var _s3_upload_bytes=__webpack_require__(1290);var metrics={tsvb:{awsS3BucketSize:_aws_s3_bucket_size.awsS3BucketSize,awsS3TotalRequests:_aws_s3_total_requests.awsS3TotalRequests,awsS3NumberOfObjects:_aws_s3_number_of_objects.awsS3NumberOfObjects,awsS3DownloadBytes:_aws_s3_download_bytes.awsS3DownloadBytes,awsS3UploadBytes:_aws_s3_upload_bytes.awsS3UploadBytes},snapshot:{s3BucketSize:_s3_bucket_size.s3BucketSize,s3NumberOfObjects:_s3_number_of_objects.s3NumberOfObjects,s3TotalRequests:_s3_total_requests.s3TotalRequests,s3UploadBytes:_s3_upload_bytes.s3UploadBytes,s3DownloadBytes:_s3_download_bytes.s3DownloadBytes},defaultSnapshot:"s3BucketSize",defaultTimeRangeInSeconds:86400*7};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _cpu=__webpack_require__(1292);var _rds_latency=__webpack_require__(1293);var _rds_connections=__webpack_require__(1294);var _rds_queries_executed=__webpack_require__(1295);var _rds_active_transactions=__webpack_require__(1296);var _aws_rds_latency=__webpack_require__(1297);var _aws_rds_connections=__webpack_require__(1298);var _aws_rds_cpu_total=__webpack_require__(1299);var _aws_rds_queries_executed=__webpack_require__(1300);var _aws_rds_active_transactions=__webpack_require__(1301);var metrics={tsvb:{awsRDSLatency:_aws_rds_latency.awsRDSLatency,awsRDSConnections:_aws_rds_connections.awsRDSConnections,awsRDSCpuTotal:_aws_rds_cpu_total.awsRDSCpuTotal,awsRDSQueriesExecuted:_aws_rds_queries_executed.awsRDSQueriesExecuted,awsRDSActiveTransactions:_aws_rds_active_transactions.awsRDSActiveTransactions},snapshot:{cpu:_cpu.cpu,rdsLatency:_rds_latency.rdsLatency,rdsConnections:_rds_connections.rdsConnections,rdsQueriesExecuted:_rds_queries_executed.rdsQueriesExecuted,rdsActiveTransactions:_rds_active_transactions.rdsActiveTransactions},defaultSnapshot:"cpu",defaultTimeRangeInSeconds:14400};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _sqs_messages_visible=__webpack_require__(1303);var _sqs_messages_delayed=__webpack_require__(1304);var _sqs_messages_empty=__webpack_require__(1305);var _sqs_messages_sent=__webpack_require__(1306);var _sqs_oldest_message=__webpack_require__(1307);var _aws_sqs_messages_visible=__webpack_require__(1308);var _aws_sqs_messages_delayed=__webpack_require__(1309);var _aws_sqs_messages_sent=__webpack_require__(1310);var _aws_sqs_messages_empty=__webpack_require__(1311);var _aws_sqs_oldest_message=__webpack_require__(1312);var metrics={tsvb:{awsSQSMessagesVisible:_aws_sqs_messages_visible.awsSQSMessagesVisible,awsSQSMessagesDelayed:_aws_sqs_messages_delayed.awsSQSMessagesDelayed,awsSQSMessagesSent:_aws_sqs_messages_sent.awsSQSMessagesSent,awsSQSMessagesEmpty:_aws_sqs_messages_empty.awsSQSMessagesEmpty,awsSQSOldestMessage:_aws_sqs_oldest_message.awsSQSOldestMessage},snapshot:{sqsMessagesVisible:_sqs_messages_visible.sqsMessagesVisible,sqsMessagesDelayed:_sqs_messages_delayed.sqsMessagesDelayed,sqsMessagesEmpty:_sqs_messages_empty.sqsMessagesEmpty,sqsMessagesSent:_sqs_messages_sent.sqsMessagesSent,sqsOldestMessage:_sqs_oldest_message.sqsOldestMessage},defaultSnapshot:"sqsMessagesVisible",defaultTimeRangeInSeconds:14400};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _cpu=__webpack_require__(1314);var _memory=__webpack_require__(1315);var _rx=__webpack_require__(1316);var _tx=__webpack_require__(1317);var _container_overview=__webpack_require__(1318);var _container_cpu_usage=__webpack_require__(1319);var _container_cpu_kernel=__webpack_require__(1320);var _container_diskio_ops=__webpack_require__(1321);var _container_disk_io_bytes=__webpack_require__(1322);var _container_memory=__webpack_require__(1323);var _container_network_traffic=__webpack_require__(1324);var metrics={tsvb:{containerOverview:_container_overview.containerOverview,containerCpuUsage:_container_cpu_usage.containerCpuUsage,containerCpuKernel:_container_cpu_kernel.containerCpuKernel,containerDiskIOOps:_container_diskio_ops.containerDiskIOOps,containerDiskIOBytes:_container_disk_io_bytes.containerDiskIOBytes,containerNetworkTraffic:_container_network_traffic.containerNetworkTraffic,containerMemory:_container_memory.containerMemory},snapshot:{cpu:_cpu.cpu,memory:_memory.memory,rx:_rx.rx,tx:_tx.tx},defaultSnapshot:"cpu",defaultTimeRangeInSeconds:3600};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _metrics=__webpack_require__(923);var _metrics2=__webpack_require__(1325);var _metrics3=__webpack_require__(926);var _metrics4=__webpack_require__(932);var _metrics5=__webpack_require__(928);var _metrics6=__webpack_require__(929);var _metrics7=__webpack_require__(930);var _metrics8=__webpack_require__(931);var metrics={tsvb:_objectSpread({},_metrics.metrics.tsvb,{},_metrics2.metrics.tsvb,{},_metrics3.metrics.tsvb,{},_metrics4.metrics.tsvb,{},_metrics5.metrics.tsvb,{},_metrics6.metrics.tsvb,{},_metrics7.metrics.tsvb,{},_metrics8.metrics.tsvb)};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrorPageBody=exports.Error=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _header=__webpack_require__(778);var _page=__webpack_require__(709);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  overflow: auto;\n  background-color: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var DetailPageContent=(0,_public.euiStyled)(_page.PageContent)(_templateObject(),(function(props){return props.theme.eui.euiColorLightestShade}));var Error=function Error(_ref){var message=_ref.message;return _react2.default.createElement(_page.ColumnarPage,null,_react2.default.createElement(_header.Header,null),_react2.default.createElement(DetailPageContent,null,_react2.default.createElement(ErrorPageBody,{message:message})))};exports.Error=Error;var ErrorPageBody=function ErrorPageBody(_ref2){var message=_ref2.message;return _react2.default.createElement(_eui.EuiPage,{style:{flex:"1 0 auto"}},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageHeader,null,_react2.default.createElement(_eui.EuiPageHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h1",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.errorPage.unexpectedErrorTitle",defaultMessage:"Oops!"}))))),_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiCallOut,{color:"danger",title:message,iconType:"alert"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.errorPage.tryAgainDescription ",defaultMessage:"Please click the back button and try again."}))))))};exports.ErrorPageBody=ErrorPageBody},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HelpCenterContent=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);var HelpCenterContent=function HelpCenterContent(_ref){var feedbackLink=_ref.feedbackLink,appName=_ref.appName;var chrome=(0,_public.useKibana)().services.chrome;(0,_react.useEffect)((function(){return chrome===null||chrome===void 0?void 0:chrome.setHelpExtension({appName:appName,links:[{linkType:"discuss",href:feedbackLink}]})}),[feedbackLink,appName,chrome]);return null};exports.HelpCenterContent=HelpCenterContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AppNavigation=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  background: ",";\n  border-bottom: ",";\n  padding: ",";\n  .euiTabs {\n    padding-left: 3px;\n    margin-left: -3px;\n  };\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var AppNavigation=function AppNavigation(_ref){var label=_ref["aria-label"],children=_ref.children;return _react.default.createElement(Nav,{"aria-label":label},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,children)))};exports.AppNavigation=AppNavigation;var Nav=_public.euiStyled.nav(_templateObject(),(function(props){return props.theme.eui.euiColorEmptyShade}),(function(props){return props.theme.eui.euiBorderThin}),(function(props){return"".concat(props.theme.eui.euiSize," ").concat(props.theme.eui.euiSizeL," ").concat(props.theme.eui.euiSize," ").concat(props.theme.eui.euiSizeL)}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RoutedTabs=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _public=__webpack_require__(64);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  .euiLink {\n    color: inherit !important;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var noop=function noop(){};var RoutedTabs=function RoutedTabs(_ref){var tabs=_ref.tabs;return _react.default.createElement(_eui.EuiTabs,{display:"condensed"},tabs.map((function(tab){return _react.default.createElement(Tab,_extends({key:"".concat(tab.pathname,"-").concat(tab.title)},tab))})))};exports.RoutedTabs=RoutedTabs;var Tab=function Tab(_ref2){var title=_ref2.title,pathname=_ref2.pathname,app=_ref2.app;var linkProps=(0,_use_link_props.useLinkProps)({app:app,pathname:pathname});return _react.default.createElement(_reactRouterDom.Route,{path:pathname,children:function children(_ref3){var match=_ref3.match,history=_ref3.history;return _react.default.createElement(TabContainer,{className:"euiTab"},_react.default.createElement(_eui.EuiLink,_extends({},linkProps,{"data-test-subj":"infrastructureNavLink_".concat(pathname)}),_react.default.createElement(_eui.EuiTab,{onClick:noop,isSelected:match!==null},title)))}})};var TabContainer=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useModuleStatus=void 0;var _react=__webpack_require__(3);var _log_analysis=__webpack_require__(702);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var createInitialState=function createInitialState(_ref){var jobTypes=_ref.jobTypes,sourceConfiguration=_ref.sourceConfiguration;return{jobDefinitions:[],jobStatus:jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,"unknown"))}),{}),jobSummaries:[],lastSetupErrorMessages:[],setupStatus:"initializing",sourceConfiguration:sourceConfiguration}};var createStatusReducer=function createStatusReducer(jobTypes){return function(state,action){switch(action.type){case"startedSetup":{return _objectSpread({},state,{jobStatus:jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,"initializing"))}),{}),setupStatus:"pending"})}case"finishedSetup":{var jobs=action.jobs,datafeeds=action.datafeeds,spaceId=action.spaceId,sourceId=action.sourceId;var nextJobStatus=jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,hasSuccessfullyCreatedJob((0,_log_analysis.getJobId)(spaceId,sourceId,jobType))(jobs)&&hasSuccessfullyStartedDatafeed((0,_log_analysis.getDatafeedId)(spaceId,sourceId,jobType))(datafeeds)?"started":"failed"))}),{});var nextSetupStatus=Object.values(nextJobStatus).every((function(jobState){return jobState==="started"}))?"succeeded":"failed";var nextErrorMessages=[].concat(_toConsumableArray(Object.values(datafeeds).filter(hasError).map((function(datafeed){return datafeed.error.msg}))),_toConsumableArray(Object.values(jobs).filter(hasError).map((function(job){return job.error.msg}))));return _objectSpread({},state,{jobStatus:nextJobStatus,lastSetupErrorMessages:nextErrorMessages,setupStatus:nextSetupStatus})}case"failedSetup":{return _objectSpread({},state,{jobStatus:jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,"failed"))}),{}),setupStatus:"failed"})}case"fetchingModuleDefinition":case"fetchingJobStatuses":{return _objectSpread({},state,{setupStatus:state.setupStatus==="unknown"?"initializing":state.setupStatus})}case"fetchedJobStatuses":{var jobSummaries=action.payload,_spaceId=action.spaceId,_sourceId=action.sourceId;var jobDefinitions=state.jobDefinitions,setupStatus=state.setupStatus,sourceConfiguration=state.sourceConfiguration;var _nextJobStatus=jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,getJobStatus((0,_log_analysis.getJobId)(_spaceId,_sourceId,jobType))(jobSummaries)))}),{});var _nextSetupStatus=getSetupStatus(_spaceId,_sourceId,sourceConfiguration,_nextJobStatus,jobDefinitions,jobSummaries)(setupStatus);return _objectSpread({},state,{jobSummaries:jobSummaries,jobStatus:_nextJobStatus,setupStatus:_nextSetupStatus})}case"failedFetchingJobStatuses":{return _objectSpread({},state,{setupStatus:"unknown",jobStatus:jobTypes.reduce((function(accumulatedJobStatus,jobType){return _objectSpread({},accumulatedJobStatus,_defineProperty({},jobType,"unknown"))}),{})})}case"fetchedModuleDefinition":{var _spaceId2=action.spaceId,_sourceId2=action.sourceId,moduleDefinition=action.moduleDefinition;var jobStatus=state.jobStatus,_jobSummaries=state.jobSummaries,_setupStatus=state.setupStatus,_sourceConfiguration=state.sourceConfiguration;var _nextSetupStatus2=getSetupStatus(_spaceId2,_sourceId2,_sourceConfiguration,jobStatus,moduleDefinition.jobs,_jobSummaries)(_setupStatus);return _objectSpread({},state,{jobDefinitions:moduleDefinition.jobs,setupStatus:_nextSetupStatus2})}case"updatedSourceConfiguration":{var _spaceId3=action.spaceId,_sourceId3=action.sourceId,_sourceConfiguration2=action.sourceConfiguration;var _jobDefinitions=state.jobDefinitions,_jobStatus=state.jobStatus,_jobSummaries2=state.jobSummaries,_setupStatus2=state.setupStatus;var _nextSetupStatus3=getSetupStatus(_spaceId3,_sourceId3,_sourceConfiguration2,_jobStatus,_jobDefinitions,_jobSummaries2)(_setupStatus2);return _objectSpread({},state,{setupStatus:_nextSetupStatus3,sourceConfiguration:_sourceConfiguration2})}case"requestedJobConfigurationUpdate":{return _objectSpread({},state,{setupStatus:"requiredForReconfiguration"})}case"requestedJobDefinitionUpdate":{return _objectSpread({},state,{setupStatus:"requiredForUpdate"})}case"viewedResults":{return _objectSpread({},state,{setupStatus:"hiddenAfterSuccess"})}default:{return state}}}};var hasSuccessfullyCreatedJob=function hasSuccessfullyCreatedJob(jobId){return function(jobSetupResponses){return jobSetupResponses.filter((function(jobSetupResponse){return jobSetupResponse.id===jobId&&jobSetupResponse.success&&!jobSetupResponse.error})).length>0}};var hasSuccessfullyStartedDatafeed=function hasSuccessfullyStartedDatafeed(datafeedId){return function(datafeedSetupResponses){return datafeedSetupResponses.filter((function(datafeedSetupResponse){return datafeedSetupResponse.id===datafeedId&&datafeedSetupResponse.success&&datafeedSetupResponse.started&&!datafeedSetupResponse.error})).length>0}};var getJobStatus=function getJobStatus(jobId){return function(jobSummaries){return jobSummaries.filter((function(jobSummary){return jobSummary.id===jobId})).map((function(jobSummary){if(jobSummary.jobState==="failed"||jobSummary.datafeedState===""){return"failed"}else if(jobSummary.jobState==="closed"&&jobSummary.datafeedState==="stopped"&&jobSummary.fullJob&&jobSummary.fullJob.finished_time!=null){return"finished"}else if(jobSummary.jobState==="closed"||jobSummary.jobState==="closing"||jobSummary.datafeedState==="stopped"){return"stopped"}else if(jobSummary.jobState==="opening"){return"initializing"}else if(jobSummary.jobState==="opened"&&jobSummary.datafeedState==="started"){return"started"}return"unknown"}))[0]||"missing"}};var getSetupStatus=function getSetupStatus(spaceId,sourceId,sourceConfiguration,everyJobStatus,jobDefinitions,jobSummaries){return function(previousSetupStatus){return Object.entries(everyJobStatus).reduce((function(setupStatus,_ref2){var _ref3=_slicedToArray(_ref2,2),jobType=_ref3[0],jobStatus=_ref3[1];var jobId=(0,_log_analysis.getJobId)(spaceId,sourceId,jobType);var jobDefinition=jobDefinitions.find((function(_ref4){var id=_ref4.id;return id===jobType}));if(jobStatus==="missing"){return"required"}else if(setupStatus==="required"||setupStatus==="requiredForUpdate"||setupStatus==="requiredForReconfiguration"){return setupStatus}else if(jobDefinition&&!isJobRevisionCurrent(jobId,jobDefinition.config.custom_settings.job_revision||0)(jobSummaries)){return"skippedButUpdatable"}else if(!isJobConfigurationConsistent(jobId,sourceConfiguration)(jobSummaries)){return"skippedButReconfigurable"}else if(setupStatus==="hiddenAfterSuccess"){return setupStatus}else if(setupStatus==="skipped"||(0,_log_analysis.isJobStatusWithResults)(jobStatus)){return"skipped"}return setupStatus}),previousSetupStatus)}};var isJobRevisionCurrent=function isJobRevisionCurrent(jobId,currentRevision){return function(jobSummaries){return jobSummaries.filter((function(jobSummary){return jobSummary.id===jobId})).every((function(jobSummary){var _ref5,_jobSummary$fullJob,_jobSummary$fullJob$c;return((_ref5=jobSummary===null||jobSummary===void 0?void 0:(_jobSummary$fullJob=jobSummary.fullJob)===null||_jobSummary$fullJob===void 0?void 0:(_jobSummary$fullJob$c=_jobSummary$fullJob.custom_settings)===null||_jobSummary$fullJob$c===void 0?void 0:_jobSummary$fullJob$c.job_revision)!==null&&_ref5!==void 0?_ref5:0)>=currentRevision}))}};var isJobConfigurationConsistent=function isJobConfigurationConsistent(jobId,sourceConfiguration){return function(jobSummaries){return jobSummaries.filter((function(jobSummary){return jobSummary.id===jobId})).every((function(jobSummary){if(!jobSummary.fullJob||!jobSummary.fullJob.custom_settings){return false}var jobConfiguration=jobSummary.fullJob.custom_settings.logs_source_config;return jobConfiguration&&jobConfiguration.bucketSpan===sourceConfiguration.bucketSpan&&jobConfiguration.indexPattern&&isIndexPatternSubset(jobConfiguration.indexPattern,sourceConfiguration.indexPattern)&&jobConfiguration.timestampField===sourceConfiguration.timestampField}))}};var isIndexPatternSubset=function isIndexPatternSubset(indexPatternSubset,indexPatternSuperset){var subsetSubPatterns=indexPatternSubset.split(",");var supersetSubPatterns=new Set(indexPatternSuperset.split(","));return subsetSubPatterns.every((function(subPattern){return supersetSubPatterns.has(subPattern)}))};var hasError=function hasError(value){return value.error!=null};var useModuleStatus=function useModuleStatus(jobTypes,sourceConfiguration){return(0,_react.useReducer)(createStatusReducer(jobTypes),{jobTypes:jobTypes,sourceConfiguration:sourceConfiguration},createInitialState)};exports.useModuleStatus=useModuleStatus},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UserManagementLink=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var UserManagementLink=function UserManagementLink(props){var linkProps=(0,_use_link_props.useLinkProps)({app:"kibana",hash:"/management/security/users"});return _react2.default.createElement(_eui.EuiButton,_extends({color:"primary",fill:true},linkProps,props),_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.userManagementButtonLabel",defaultMessage:"Manage users"}))};exports.UserManagementLink=UserManagementLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecreateJobCallout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _recreate_job_button=__webpack_require__(941);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecreateJobCallout=function RecreateJobCallout(_ref){var children=_ref.children,onRecreateMlJob=_ref.onRecreateMlJob,title=_ref.title;return _react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"alert",title:title},_react.default.createElement("p",null,children),_react.default.createElement(_recreate_job_button.RecreateJobButton,{color:"warning",onClick:onRecreateMlJob}))};exports.RecreateJobCallout=RecreateJobCallout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecreateJobButton=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecreateJobButton=function RecreateJobButton(props){return _react2.default.createElement(_eui.EuiButton,props,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.recreateJobButtonLabel",defaultMessage:"Recreate ML job"}))};exports.RecreateJobButton=RecreateJobButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useInterval=useInterval;var _react=__webpack_require__(3);function useInterval(callback,delay){var savedCallback=(0,_react.useRef)(callback);(0,_react.useEffect)((function(){savedCallback.current=callback}),[callback]);(0,_react.useEffect)((function(){function tick(){savedCallback.current()}if(delay!==null){var id=setInterval(tick,delay);return function(){return clearInterval(id)}}}),[delay])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _row_expansion_button=__webpack_require__(1385);Object.keys(_row_expansion_button).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _row_expansion_button[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LogEntryColumn",{enumerable:true,get:function get(){return _log_entry_column.LogEntryColumn}});Object.defineProperty(exports,"LogEntryColumnWidths",{enumerable:true,get:function get(){return _log_entry_column.LogEntryColumnWidths}});Object.defineProperty(exports,"useColumnWidths",{enumerable:true,get:function get(){return _log_entry_column.useColumnWidths}});Object.defineProperty(exports,"LogEntryFieldColumn",{enumerable:true,get:function get(){return _log_entry_field_column.LogEntryFieldColumn}});Object.defineProperty(exports,"LogEntryMessageColumn",{enumerable:true,get:function get(){return _log_entry_message_column.LogEntryMessageColumn}});Object.defineProperty(exports,"LogEntryRowWrapper",{enumerable:true,get:function get(){return _log_entry_row.LogEntryRowWrapper}});Object.defineProperty(exports,"LogEntryTimestampColumn",{enumerable:true,get:function get(){return _log_entry_timestamp_column.LogEntryTimestampColumn}});Object.defineProperty(exports,"ScrollableLogTextStreamView",{enumerable:true,get:function get(){return _scrollable_log_text_stream_view.ScrollableLogTextStreamView}});var _log_entry_column=__webpack_require__(721);var _log_entry_field_column=__webpack_require__(946);var _log_entry_message_column=__webpack_require__(949);var _log_entry_row=__webpack_require__(950);var _log_entry_timestamp_column=__webpack_require__(951);var _scrollable_log_text_stream_view=__webpack_require__(1412)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFormattedTime=void 0;var _moment=_interopRequireDefault(__webpack_require__(11));var _react=__webpack_require__(3);var _use_kibana_ui_setting=__webpack_require__(713);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getFormattedTime=function getFormattedTime(time,userFormat){var fallbackFormat=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Y-MM-DD HH:mm:ss.SSS";return userFormat?(0,_moment.default)(time).format(userFormat):(0,_moment.default)(time).format(fallbackFormat)};var useFormattedTime=function useFormattedTime(time){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$format=_ref.format,format=_ref$format===void 0?"dateTime":_ref$format,fallbackFormat=_ref.fallbackFormat;var scaledTuples=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat:scaled")[0]||[["",undefined]];var formatMap={dateTime:(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat")[0],time:scaledTuples.find((function(_ref2){var _ref3=_slicedToArray(_ref2,1),key=_ref3[0];return key===""}))[1]};var dateFormat=formatMap[format];var formattedTime=(0,_react.useMemo)((function(){return getFormattedTime(time,dateFormat,fallbackFormat)}),[time,dateFormat,fallbackFormat]);return formattedTime};exports.useFormattedTime=useFormattedTime},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryFieldColumn=void 0;var _jsonStableStringify=_interopRequireDefault(__webpack_require__(947));var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _log_entry=__webpack_require__(785);var _highlighting=__webpack_require__(948);var _log_entry_column=__webpack_require__(721);var _text_styles=__webpack_require__(757);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  text-overflow: ellipsis;\n\n  ",";\n  ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: inline;\n  &:not(:last-child) {\n    margin-right: 1ex;\n    &::after {\n      content: ',';\n    }\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogEntryFieldColumn=function LogEntryFieldColumn(_ref){var columnValue=_ref.columnValue,_ref$highlights=_slicedToArray(_ref.highlights,1),firstHighlight=_ref$highlights[0],isActiveHighlight=_ref.isActiveHighlight,isHighlighted=_ref.isHighlighted,isHovered=_ref.isHovered,wrapMode=_ref.wrapMode;var value=(0,_react.useMemo)((function(){if((0,_log_entry.isFieldColumn)(columnValue)){return columnValue.value}return null}),[columnValue]);var formattedValue=Array.isArray(value)?_react.default.createElement("ul",null,value.map((function(entry,i){return _react.default.createElement(CommaSeparatedLi,{key:"LogEntryFieldColumn-".concat(i)},(0,_highlighting.highlightFieldValue)(entry,(0,_log_entry.isHighlightFieldColumn)(firstHighlight)?firstHighlight.highlights:[],isActiveHighlight?_highlighting.ActiveHighlightMarker:_highlighting.HighlightMarker))}))):(0,_highlighting.highlightFieldValue)(typeof value==="string"?value:(0,_jsonStableStringify.default)(value),(0,_log_entry.isHighlightFieldColumn)(firstHighlight)?firstHighlight.highlights:[],isActiveHighlight?_highlighting.ActiveHighlightMarker:_highlighting.HighlightMarker);return _react.default.createElement(FieldColumnContent,{isHighlighted:isHighlighted,isHovered:isHovered,wrapMode:wrapMode},formattedValue)};exports.LogEntryFieldColumn=LogEntryFieldColumn;var CommaSeparatedLi=_public.euiStyled.li(_templateObject());var FieldColumnContent=(0,_public.euiStyled)(_log_entry_column.LogEntryColumnContent)(_templateObject2(),(function(props){return props.isHovered||props.isHighlighted?_text_styles.hoveredContentStyle:""}),(function(props){return props.wrapMode==="long"?_text_styles.longWrappedContentStyle:props.wrapMode==="pre-wrapped"?_text_styles.preWrappedContentStyle:_text_styles.unwrappedContentStyle}))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.highlightFieldValue=exports.HighlightMarker=exports.ActiveHighlightMarker=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _styles=__webpack_require__(1410);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  background-color: ",";\n  outline: 1px solid ",";\n  };\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  background-color: ",";\n  outline: 1px solid ",";\n  };\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ActiveHighlightMarker=_public.euiStyled.mark(_templateObject(),(function(props){return(0,_styles.chooseLightOrDarkColor)(props.theme.eui.euiColorAccent,props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)}),(function(props){return props.theme.eui.euiColorAccent}),(function(props){return props.theme.eui.euiColorAccent}));exports.ActiveHighlightMarker=ActiveHighlightMarker;var HighlightMarker=_public.euiStyled.mark(_templateObject2(),(function(props){return(0,_styles.chooseLightOrDarkColor)((0,_styles.tintOrShade)(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5),props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)}),(function(props){return(0,_styles.tintOrShade)(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)}),(function(props){return(0,_styles.tintOrShade)(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)}));exports.HighlightMarker=HighlightMarker;var highlightFieldValue=function highlightFieldValue(value,highlightTerms,HighlightComponent){return highlightTerms.reduce((function(fragments,highlightTerm,index){var lastFragment=fragments[fragments.length-1];if(typeof lastFragment!=="string"){return fragments}var highlightTermPosition=lastFragment.indexOf(highlightTerm);if(highlightTermPosition>-1){return[].concat(_toConsumableArray(fragments.slice(0,fragments.length-1)),[lastFragment.slice(0,highlightTermPosition),_react.default.createElement(HighlightComponent,{key:"highlight-".concat(highlightTerm,"-").concat(index)},highlightTerm),lastFragment.slice(highlightTermPosition+highlightTerm.length)])}else{return fragments}}),[value])};exports.highlightFieldValue=highlightFieldValue},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryMessageColumn=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _jsonStableStringify=_interopRequireDefault(__webpack_require__(947));var _public=__webpack_require__(64);var _log_entry=__webpack_require__(785);var _highlighting=__webpack_require__(948);var _log_entry_column=__webpack_require__(721);var _text_styles=__webpack_require__(757);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _templateObject(){var data=_taggedTemplateLiteral(["\n  text-overflow: ellipsis;\n\n  ",";\n  ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogEntryMessageColumn=(0,_react.memo)((function(_ref){var columnValue=_ref.columnValue,highlights=_ref.highlights,isActiveHighlight=_ref.isActiveHighlight,isHighlighted=_ref.isHighlighted,isHovered=_ref.isHovered,wrapMode=_ref.wrapMode;var message=(0,_react.useMemo)((function(){return(0,_log_entry.isMessageColumn)(columnValue)?formatMessageSegments(columnValue.message,highlights,isActiveHighlight):null}),[columnValue,highlights,isActiveHighlight]);return _react.default.createElement(MessageColumnContent,{isHighlighted:isHighlighted,isHovered:isHovered,wrapMode:wrapMode},message)}));exports.LogEntryMessageColumn=LogEntryMessageColumn;var MessageColumnContent=(0,_public.euiStyled)(_log_entry_column.LogEntryColumnContent)(_templateObject(),(function(props){return props.isHovered||props.isHighlighted?_text_styles.hoveredContentStyle:""}),(function(props){return props.wrapMode==="long"?_text_styles.longWrappedContentStyle:props.wrapMode==="pre-wrapped"?_text_styles.preWrappedContentStyle:_text_styles.unwrappedContentStyle}));var formatMessageSegments=function formatMessageSegments(messageSegments,highlights,isActiveHighlight){return messageSegments.map((function(messageSegment,index){return formatMessageSegment(messageSegment,highlights.map((function(highlight){if((0,_log_entry.isHighlightMessageColumn)(highlight)){var segment=highlight.message[index];if((0,_log_entry.isHighlightFieldSegment)(segment)){return segment.highlights}}return[]})),isActiveHighlight)}))};var formatMessageSegment=function formatMessageSegment(messageSegment,_ref2,isActiveHighlight){var _ref3=_slicedToArray(_ref2,1),_ref3$=_ref3[0],firstHighlight=_ref3$===void 0?[]:_ref3$;if((0,_log_entry.isFieldSegment)(messageSegment)){var value=typeof messageSegment.value==="string"?messageSegment.value:(0,_jsonStableStringify.default)(messageSegment.value);return(0,_highlighting.highlightFieldValue)(value,firstHighlight,isActiveHighlight?_highlighting.ActiveHighlightMarker:_highlighting.HighlightMarker)}else if((0,_log_entry.isConstantSegment)(messageSegment)){return messageSegment.constant}return"failed to format message"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRowWrapper=exports.LogEntryRow=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _log_entry=__webpack_require__(785);var _source_configuration=__webpack_require__(784);var _log_entry_column=__webpack_require__(721);var _log_entry_field_column=__webpack_require__(946);var _log_entry_icon_column=__webpack_require__(1411);var _log_entry_message_column=__webpack_require__(949);var _log_entry_timestamp_column=__webpack_require__(951);var _text_styles=__webpack_require__(757);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-items: stretch;\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  overflow: hidden;\n\n  ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogEntryRow=(0,_react.memo)((function(_ref){var boundingBoxRef=_ref.boundingBoxRef,columnConfigurations=_ref.columnConfigurations,columnWidths=_ref.columnWidths,highlights=_ref.highlights,isActiveHighlight=_ref.isActiveHighlight,isHighlighted=_ref.isHighlighted,logEntry=_ref.logEntry,openFlyoutWithItem=_ref.openFlyoutWithItem,scale=_ref.scale,wrap=_ref.wrap;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isHovered=_useState2[0],setIsHovered=_useState2[1];var setItemIsHovered=(0,_react.useCallback)((function(){setIsHovered(true)}),[]);var setItemIsNotHovered=(0,_react.useCallback)((function(){setIsHovered(false)}),[]);var openFlyout=(0,_react.useCallback)((function(){return openFlyoutWithItem===null||openFlyoutWithItem===void 0?void 0:openFlyoutWithItem(logEntry.id)}),[openFlyoutWithItem,logEntry.id]);var logEntryColumnsById=(0,_react.useMemo)((function(){return logEntry.columns.reduce((function(columnsById,column){return _objectSpread({},columnsById,_defineProperty({},column.columnId,column))}),{})}),[logEntry.columns]);var highlightsByColumnId=(0,_react.useMemo)((function(){return highlights.reduce((function(columnsById,highlight){return highlight.columns.reduce((function(innerColumnsById,column){return _objectSpread({},innerColumnsById,_defineProperty({},column.columnId,[].concat(_toConsumableArray(innerColumnsById[column.columnId]||[]),[column])))}),columnsById)}),{})}),[highlights]);return _react.default.createElement(LogEntryRowWrapper,{"data-test-subj":"streamEntry logTextStreamEntry",ref:boundingBoxRef,onMouseEnter:setItemIsHovered,onMouseLeave:setItemIsNotHovered,scale:scale},columnConfigurations.map((function(columnConfiguration){if((0,_source_configuration.isTimestampLogColumnConfiguration)(columnConfiguration)){var column=logEntryColumnsById[columnConfiguration.timestampColumn.id];var columnWidth=columnWidths[columnConfiguration.timestampColumn.id];return _react.default.createElement(_log_entry_column.LogEntryColumn,_extends({"data-test-subj":"logColumn timestampLogColumn",key:columnConfiguration.timestampColumn.id},columnWidth),(0,_log_entry.isTimestampColumn)(column)?_react.default.createElement(_log_entry_timestamp_column.LogEntryTimestampColumn,{isHighlighted:isHighlighted,isHovered:isHovered,time:column.timestamp}):null)}else if((0,_source_configuration.isMessageLogColumnConfiguration)(columnConfiguration)){var _column=logEntryColumnsById[columnConfiguration.messageColumn.id];var _columnWidth=columnWidths[columnConfiguration.messageColumn.id];return _react.default.createElement(_log_entry_column.LogEntryColumn,_extends({"data-test-subj":"logColumn messageLogColumn",key:columnConfiguration.messageColumn.id},_columnWidth),_column?_react.default.createElement(_log_entry_message_column.LogEntryMessageColumn,{columnValue:_column,highlights:highlightsByColumnId[_column.columnId]||[],isHighlighted:isHighlighted,isActiveHighlight:isActiveHighlight,isHovered:isHovered,wrapMode:wrap?"long":"pre-wrapped"}):null)}else if((0,_source_configuration.isFieldLogColumnConfiguration)(columnConfiguration)){var _column2=logEntryColumnsById[columnConfiguration.fieldColumn.id];var _columnWidth2=columnWidths[columnConfiguration.fieldColumn.id];return _react.default.createElement(_log_entry_column.LogEntryColumn,_extends({"data-test-subj":"logColumn fieldLogColumn fieldLogColumn:".concat(columnConfiguration.fieldColumn.field),key:columnConfiguration.fieldColumn.id},_columnWidth2),_column2?_react.default.createElement(_log_entry_field_column.LogEntryFieldColumn,{columnValue:_column2,highlights:highlightsByColumnId[_column2.columnId]||[],isActiveHighlight:isActiveHighlight,isHighlighted:isHighlighted,isHovered:isHovered,wrapMode:wrap?"long":"pre-wrapped"}):null)}})),_react.default.createElement(_log_entry_column.LogEntryColumn,_extends({key:"logColumn iconLogColumn iconLogColumn:details"},columnWidths[_log_entry_column.iconColumnId]),_react.default.createElement(_log_entry_icon_column.LogEntryDetailsIconColumn,{isHighlighted:isHighlighted,isHovered:isHovered,openFlyout:openFlyout})))}));exports.LogEntryRow=LogEntryRow;var LogEntryRowWrapper=_public.euiStyled.div.attrs((function(){return{role:"row"}}))(_templateObject(),(function(props){return props.theme.eui.euiTextColor}),(function(props){return(0,_text_styles.monospaceTextStyle)(props.scale)}));exports.LogEntryRowWrapper=LogEntryRowWrapper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryTimestampColumn=void 0;var _polished=__webpack_require__(215);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _formatted_time=__webpack_require__(945);var _log_entry_column=__webpack_require__(721);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: clip;\n  white-space: pre;\n\n  ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogEntryTimestampColumn=(0,_react.memo)((function(_ref){var _ref$format=_ref.format,format=_ref$format===void 0?"time":_ref$format,isHighlighted=_ref.isHighlighted,isHovered=_ref.isHovered,time=_ref.time;var formattedTime=(0,_formatted_time.useFormattedTime)(time,{format:format});return _react.default.createElement(TimestampColumnContent,{isHovered:isHovered,isHighlighted:isHighlighted},formattedTime)}));exports.LogEntryTimestampColumn=LogEntryTimestampColumn;var hoveredContentStyle=(0,_public.css)(_templateObject(),(function(props){return props.theme.darkMode?(0,_polished.transparentize)(.9,(0,_polished.darken)(.05,props.theme.eui.euiColorHighlight)):(0,_polished.darken)(.05,props.theme.eui.euiColorHighlight)}),(function(props){return props.theme.darkMode?(0,_polished.transparentize)(.7,(0,_polished.darken)(.2,props.theme.eui.euiColorHighlight)):(0,_polished.darken)(.2,props.theme.eui.euiColorHighlight)}),(function(props){return props.theme.eui.euiColorFullShade}));var TimestampColumnContent=(0,_public.euiStyled)(_log_entry_column.LogEntryColumnContent)(_templateObject2(),(function(props){return props.theme.eui.euiColorDarkShade}),(function(props){return props.isHovered||props.isHighlighted?hoveredContentStyle:""}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoData=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var NoData=function NoData(_ref){var titleText=_ref.titleText,bodyText=_ref.bodyText,refetchText=_ref.refetchText,onRefetch=_ref.onRefetch,testString=_ref.testString;return _react.default.createElement(CenteredEmptyPrompt,{title:_react.default.createElement("h2",null,titleText),titleSize:"m",body:_react.default.createElement("p",null,bodyText),actions:_react.default.createElement(_eui.EuiButton,{iconType:"refresh",color:"primary",fill:true,onClick:onRefetch},refetchText),"data-test-subj":testString})};exports.NoData=NoData;var CenteredEmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.VerticalScrollPanel=exports.ASSUMED_SCROLLBAR_WIDTH=void 0;var _d3Array=__webpack_require__(752);var _lodash=__webpack_require__(1);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n  overflow-x: hidden;\n  overflow-y: scroll;\n  position: relative;\n  padding-right: ","px;\n\n  & * {\n    overflow-anchor: none;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SCROLL_THROTTLE_INTERVAL=250;var ASSUMED_SCROLLBAR_WIDTH=20;exports.ASSUMED_SCROLLBAR_WIDTH=ASSUMED_SCROLLBAR_WIDTH;var VerticalScrollPanel=function(_React$PureComponent){_inherits(VerticalScrollPanel,_React$PureComponent);function VerticalScrollPanel(){var _getPrototypeOf2;var _this;_classCallCheck(this,VerticalScrollPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(VerticalScrollPanel)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"scrollRef",React.createRef());_defineProperty(_assertThisInitialized(_this),"childRefs",new Map);_defineProperty(_assertThisInitialized(_this),"childDimensions",new Map);_defineProperty(_assertThisInitialized(_this),"nextScrollEventFromCenterTarget",false);_defineProperty(_assertThisInitialized(_this),"handleScroll",(0,_lodash.throttle)((function(){_this.reportVisibleChildren(!_this.nextScrollEventFromCenterTarget);_this.nextScrollEventFromCenterTarget=false}),SCROLL_THROTTLE_INTERVAL));_defineProperty(_assertThisInitialized(_this),"registerChild",(function(key,element){if(element===null){_this.childRefs.delete(key)}else{_this.childRefs.set(key,element)}}));_defineProperty(_assertThisInitialized(_this),"updateChildDimensions",(function(){_this.childDimensions=new Map((0,_lodash.sortBy)(Array.from(_this.childRefs.entries()).reduce((function(accumulatedDimensions,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],child=_ref2[1];var currentOffsetRect=child.getOffsetRect();if(currentOffsetRect!==null){accumulatedDimensions.push([key,currentOffsetRect])}return accumulatedDimensions}),[]),"1.top"))}));_defineProperty(_assertThisInitialized(_this),"getVisibleChildren",(function(){if(_this.scrollRef.current===null||_this.childDimensions.size<=0){return}var _assertThisInitialize=_assertThisInitialized(_this),childDimensions=_assertThisInitialize.childDimensions,scrollViewHeight=_assertThisInitialize.props.height,scrollTop=_assertThisInitialize.scrollRef.current.scrollTop;return getVisibleChildren(Array.from(childDimensions.entries()),scrollViewHeight,scrollTop)}));_defineProperty(_assertThisInitialized(_this),"getScrollPosition",(function(){if(_this.scrollRef.current===null){return}var _assertThisInitialize2=_assertThisInitialized(_this),scrollViewHeight=_assertThisInitialize2.props.height,_assertThisInitialize3=_assertThisInitialize2.scrollRef.current,scrollHeight=_assertThisInitialize3.scrollHeight,scrollTop=_assertThisInitialize3.scrollTop;return{pagesAbove:scrollTop/scrollViewHeight,pagesBelow:(scrollHeight-scrollTop-scrollViewHeight)/scrollViewHeight}}));_defineProperty(_assertThisInitialized(_this),"reportVisibleChildren",(function(){var fromScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var onVisibleChildrenChange=_this.props.onVisibleChildrenChange;var visibleChildren=_this.getVisibleChildren();var scrollPosition=_this.getScrollPosition();if(!visibleChildren||!scrollPosition||typeof onVisibleChildrenChange!=="function"){return}onVisibleChildrenChange(_objectSpread({bottomChild:visibleChildren.bottomChild,middleChild:visibleChildren.middleChild,topChild:visibleChildren.topChild,fromScroll:fromScroll},scrollPosition))}));_defineProperty(_assertThisInitialized(_this),"centerTarget",(function(target,offset){var _assertThisInitialize4=_assertThisInitialized(_this),scrollViewHeight=_assertThisInitialize4.props.height,childDimensions=_assertThisInitialize4.childDimensions,scrollRef=_assertThisInitialize4.scrollRef;if(scrollRef.current===null||!target||childDimensions.size<=0){return false}var targetDimensions=childDimensions.get(target);if(targetDimensions){var targetOffset=typeof offset==="undefined"?targetDimensions.height/2:offset;_this.nextScrollEventFromCenterTarget=true;var currentScrollTop=scrollRef.current.scrollTop;var newScrollTop=targetDimensions.top+targetOffset-scrollViewHeight/2;scrollRef.current.scrollTop=newScrollTop;return currentScrollTop!==newScrollTop}return false}));_defineProperty(_assertThisInitialized(_this),"handleUpdatedChildren",(function(target,offset){_this.updateChildDimensions();var centerTargetWillReportChildren=false;if(!!target){centerTargetWillReportChildren=_this.centerTarget(target,offset)}if(!centerTargetWillReportChildren){_this.reportVisibleChildren()}}));return _this}_createClass(VerticalScrollPanel,[{key:"componentDidMount",value:function componentDidMount(){this.handleUpdatedChildren(this.props.target,undefined)}},{key:"getSnapshotBeforeUpdate",value:function getSnapshotBeforeUpdate(prevProps){if(prevProps.height===0&&this.props.height>0||prevProps.target!==this.props.target&&this.props.target){return{scrollOffset:undefined,scrollTarget:this.props.target}}else if(this.props.height>0){var _visibleChildren=this.getVisibleChildren();if(_visibleChildren){return{scrollOffset:_visibleChildren.middleChildOffset,scrollTarget:_visibleChildren.middleChild}}}return{scrollOffset:undefined,scrollTarget:undefined}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){if(prevProps.height!==this.props.height||prevProps.target!==this.props.target||prevProps.entriesCount!==this.props.entriesCount){this.handleUpdatedChildren(snapshot.scrollTarget,snapshot.scrollOffset)}if(prevProps.isLocked&&!this.props.isLocked&&this.scrollRef.current){this.scrollRef.current.scrollTop=this.scrollRef.current.scrollHeight}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.childRefs.clear()}},{key:"render",value:function render(){var _this$props=this.props,children=_this$props.children,height=_this$props.height,width=_this$props.width,hideScrollbar=_this$props.hideScrollbar,dataTestSubj=_this$props["data-test-subj"];var scrollbarOffset=hideScrollbar?ASSUMED_SCROLLBAR_WIDTH:0;return React.createElement(ScrollPanelWrapper,{"data-test-subj":dataTestSubj,style:{height:height,width:width+scrollbarOffset},scrollbarOffset:scrollbarOffset,onScroll:this.handleScroll,ref:this.scrollRef},typeof children==="function"?children(this.registerChild):null)}}]);return VerticalScrollPanel}(React.PureComponent);exports.VerticalScrollPanel=VerticalScrollPanel;_defineProperty(VerticalScrollPanel,"defaultProps",{hideScrollbar:false});var ScrollPanelWrapper=_public.euiStyled.div(_templateObject(),(function(props){return props.scrollbarOffset||0}));var getVisibleChildren=function getVisibleChildren(childDimensions,scrollViewHeight,scrollTop){var middleChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight/2),childDimensions.length-1);var topChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop,0,middleChildIndex),childDimensions.length-1);var bottomChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight,middleChildIndex),childDimensions.length-1);return{bottomChild:childDimensions[bottomChildIndex][0],bottomChildOffset:childDimensions[bottomChildIndex][1].top-scrollTop-scrollViewHeight,middleChild:childDimensions[middleChildIndex][0],middleChildOffset:scrollTop+scrollViewHeight/2-childDimensions[middleChildIndex][1].top,topChild:childDimensions[topChildIndex][0],topChildOffset:childDimensions[topChildIndex][1].top-scrollTop}};var getChildIndexBefore=(0,_d3Array.bisector)((function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],rect=_ref4[1];return rect.top+rect.height})).left},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.localizedDate=localizedDate;var _i18n=__webpack_require__(0);function localizedDate(dateTime){var locale=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_i18n.i18n.getLocale();var formatter=new Intl.DateTimeFormat(locale,{year:"numeric",month:"short",day:"numeric"});return formatter.format(dateTime)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchJobStatusResponsePayloadRT=exports.jobSummaryRT=exports.fetchJobStatusRequestPayloadRT=exports.callJobsSummaryAPI=void 0;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(702);var _runtime_types=__webpack_require__(210);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callJobsSummaryAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,sourceId,jobTypes){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/jobs/jobs_summary",{method:"POST",body:JSON.stringify(fetchJobStatusRequestPayloadRT.encode({jobIds:jobTypes.map((function(jobType){return(0,_log_analysis.getJobId)(spaceId,sourceId,jobType)}))}))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(fetchJobStatusResponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callJobsSummaryAPI(_x,_x2,_x3){return _ref.apply(this,arguments)}}();exports.callJobsSummaryAPI=callJobsSummaryAPI;var fetchJobStatusRequestPayloadRT=rt.type({jobIds:rt.array(rt.string)});exports.fetchJobStatusRequestPayloadRT=fetchJobStatusRequestPayloadRT;var datafeedStateRT=rt.keyof({started:null,stopped:null,stopping:null,"":null});var jobStateRT=rt.keyof({closed:null,closing:null,deleting:null,failed:null,opened:null,opening:null});var jobSummaryRT=rt.intersection([rt.type({id:rt.string,jobState:jobStateRT}),rt.partial({datafeedIndices:rt.array(rt.string),datafeedState:datafeedStateRT,fullJob:rt.partial({custom_settings:_log_analysis.jobCustomSettingsRT,finished_time:rt.number})})]);exports.jobSummaryRT=jobSummaryRT;var fetchJobStatusResponsePayloadRT=rt.array(jobSummaryRT);exports.fetchJobStatusResponsePayloadRT=fetchJobStatusResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callGetMlModuleAPI=void 0;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(702);var _runtime_types=__webpack_require__(210);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callGetMlModuleAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(moduleId){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/modules/get_module/".concat(moduleId),{method:"GET"});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(getMlModuleResponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callGetMlModuleAPI(_x){return _ref.apply(this,arguments)}}();exports.callGetMlModuleAPI=callGetMlModuleAPI;var jobDefinitionRT=rt.type({id:rt.string,config:rt.type({custom_settings:_log_analysis.jobCustomSettingsRT})});var getMlModuleResponsePayloadRT=rt.type({id:rt.string,jobs:rt.array(jobDefinitionRT)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callSetupMlModuleAPI=void 0;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(702);var _runtime_types=__webpack_require__(210);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callSetupMlModuleAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(moduleId,start,end,spaceId,sourceId,indexPattern){var jobOverrides,datafeedOverrides,response,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jobOverrides=_args.length>6&&_args[6]!==undefined?_args[6]:[];datafeedOverrides=_args.length>7&&_args[7]!==undefined?_args[7]:[];_context.next=4;return _legacy_singletons.npStart.http.fetch("/api/ml/modules/setup/".concat(moduleId),{method:"POST",body:JSON.stringify(setupMlModuleRequestPayloadRT.encode({start:start,end:end,indexPatternName:indexPattern,prefix:(0,_log_analysis.getJobIdPrefix)(spaceId,sourceId),startDatafeed:true,jobOverrides:jobOverrides,datafeedOverrides:datafeedOverrides}))});case 4:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(setupMlModuleResponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 6:case"end":return _context.stop()}}}),_callee)})));return function callSetupMlModuleAPI(_x,_x2,_x3,_x4,_x5,_x6){return _ref.apply(this,arguments)}}();exports.callSetupMlModuleAPI=callSetupMlModuleAPI;var setupMlModuleTimeParamsRT=rt.partial({start:rt.number,end:rt.number});var setupMlModuleJobOverridesRT=rt.type({job_id:rt.string,custom_settings:_log_analysis.jobCustomSettingsRT});var setupMlModuleDatafeedOverridesRT=rt.object;var setupMlModuleRequestParamsRT=rt.type({indexPatternName:rt.string,prefix:rt.string,startDatafeed:rt.boolean,jobOverrides:rt.array(setupMlModuleJobOverridesRT),datafeedOverrides:rt.array(setupMlModuleDatafeedOverridesRT)});var setupMlModuleRequestPayloadRT=rt.intersection([setupMlModuleTimeParamsRT,setupMlModuleRequestParamsRT]);var setupErrorResponseRT=rt.type({msg:rt.string});var datafeedSetupResponseRT=rt.intersection([rt.type({id:rt.string,started:rt.boolean,success:rt.boolean}),rt.partial({error:setupErrorResponseRT})]);var jobSetupResponseRT=rt.intersection([rt.type({id:rt.string,success:rt.boolean}),rt.partial({error:setupErrorResponseRT})]);var setupMlModuleResponsePayloadRT=rt.type({datafeeds:rt.array(datafeedSetupResponseRT),jobs:rt.array(jobSetupResponseRT)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callValidateIndicesAPI=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _http_api=__webpack_require__(741);var _runtime_types=__webpack_require__(210);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callValidateIndicesAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(indices,fields){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ANALYSIS_VALIDATE_INDICES_PATH,{method:"POST",body:JSON.stringify(_http_api.validationIndicesRequestPayloadRT.encode({data:{indices:indices,fields:fields}}))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.validationIndicesResponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callValidateIndicesAPI(_x,_x2){return _ref.apply(this,arguments)}}();exports.callValidateIndicesAPI=callValidateIndicesAPI},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfraMetadataRT=exports.InfraMetadataInfoRT=exports.InfraMetadataCloudRT=exports.InfraMetadataMachineRT=exports.InfraMetadataProjectRT=exports.InfraMetadataInstanceRT=exports.InfraMetadataHostRT=exports.InfraMetadataOSRT=exports.InfraMetadataFeatureRT=exports.InfraMetadataRequestRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _types=__webpack_require__(727);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var InfraMetadataRequestRT=rt.type({nodeId:rt.string,nodeType:_types.ItemTypeRT,sourceId:rt.string});exports.InfraMetadataRequestRT=InfraMetadataRequestRT;var InfraMetadataFeatureRT=rt.type({name:rt.string,source:rt.string});exports.InfraMetadataFeatureRT=InfraMetadataFeatureRT;var InfraMetadataOSRT=rt.partial({codename:rt.string,family:rt.string,kernel:rt.string,name:rt.string,platform:rt.string,version:rt.string});exports.InfraMetadataOSRT=InfraMetadataOSRT;var InfraMetadataHostRT=rt.partial({name:rt.string,os:InfraMetadataOSRT,architecture:rt.string,containerized:rt.boolean});exports.InfraMetadataHostRT=InfraMetadataHostRT;var InfraMetadataInstanceRT=rt.partial({id:rt.string,name:rt.string});exports.InfraMetadataInstanceRT=InfraMetadataInstanceRT;var InfraMetadataProjectRT=rt.partial({id:rt.string});exports.InfraMetadataProjectRT=InfraMetadataProjectRT;var InfraMetadataMachineRT=rt.partial({interface:rt.string});exports.InfraMetadataMachineRT=InfraMetadataMachineRT;var InfraMetadataCloudRT=rt.partial({instance:InfraMetadataInstanceRT,provider:rt.string,availability_zone:rt.string,project:InfraMetadataProjectRT,machine:InfraMetadataMachineRT});exports.InfraMetadataCloudRT=InfraMetadataCloudRT;var InfraMetadataInfoRT=rt.partial({cloud:InfraMetadataCloudRT,host:InfraMetadataHostRT});exports.InfraMetadataInfoRT=InfraMetadataInfoRT;var InfraMetadataRequiredRT=rt.type({id:rt.string,name:rt.string,features:rt.array(InfraMetadataFeatureRT)});var InfraMetadataOptionalRT=rt.partial({info:InfraMetadataInfoRT});var InfraMetadataRT=rt.intersection([InfraMetadataRequiredRT,InfraMetadataOptionalRT]);exports.InfraMetadataRT=InfraMetadataRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesResponseRT=exports.logEntryRT=exports.logColumnRT=exports.logMessageColumnRT=exports.logFieldColumnRT=exports.logTimestampColumnRT=exports.logMessagePartRT=exports.logMessageFieldPartRT=exports.logMessageConstantPartRT=exports.logEntriesRequestRT=exports.logEntriesCenteredRequestRT=exports.logEntriesAfterRequestRT=exports.logEntriesBeforeRequestRT=exports.logEntriesBaseRequestRT=exports.LOG_ENTRIES_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _common=__webpack_require__(759);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ENTRIES_PATH="/api/log_entries/entries";exports.LOG_ENTRIES_PATH=LOG_ENTRIES_PATH;var logEntriesBaseRequestRT=rt.intersection([rt.type({sourceId:rt.string,startTimestamp:rt.number,endTimestamp:rt.number}),rt.partial({query:rt.union([rt.string,rt.null]),size:rt.number})]);exports.logEntriesBaseRequestRT=logEntriesBaseRequestRT;var logEntriesBeforeRequestRT=rt.intersection([logEntriesBaseRequestRT,rt.type({before:rt.union([_common.logEntriesCursorRT,rt.literal("last")])})]);exports.logEntriesBeforeRequestRT=logEntriesBeforeRequestRT;var logEntriesAfterRequestRT=rt.intersection([logEntriesBaseRequestRT,rt.type({after:rt.union([_common.logEntriesCursorRT,rt.literal("first")])})]);exports.logEntriesAfterRequestRT=logEntriesAfterRequestRT;var logEntriesCenteredRequestRT=rt.intersection([logEntriesBaseRequestRT,rt.type({center:_common.logEntriesCursorRT})]);exports.logEntriesCenteredRequestRT=logEntriesCenteredRequestRT;var logEntriesRequestRT=rt.union([logEntriesBaseRequestRT,logEntriesBeforeRequestRT,logEntriesAfterRequestRT,logEntriesCenteredRequestRT]);exports.logEntriesRequestRT=logEntriesRequestRT;var logMessageConstantPartRT=rt.type({constant:rt.string});exports.logMessageConstantPartRT=logMessageConstantPartRT;var logMessageFieldPartRT=rt.type({field:rt.string,value:rt.unknown,highlights:rt.array(rt.string)});exports.logMessageFieldPartRT=logMessageFieldPartRT;var logMessagePartRT=rt.union([logMessageConstantPartRT,logMessageFieldPartRT]);exports.logMessagePartRT=logMessagePartRT;var logTimestampColumnRT=rt.type({columnId:rt.string,timestamp:rt.number});exports.logTimestampColumnRT=logTimestampColumnRT;var logFieldColumnRT=rt.type({columnId:rt.string,field:rt.string,value:rt.unknown,highlights:rt.array(rt.string)});exports.logFieldColumnRT=logFieldColumnRT;var logMessageColumnRT=rt.type({columnId:rt.string,message:rt.array(logMessagePartRT)});exports.logMessageColumnRT=logMessageColumnRT;var logColumnRT=rt.union([logTimestampColumnRT,logFieldColumnRT,logMessageColumnRT]);exports.logColumnRT=logColumnRT;var logEntryRT=rt.type({id:rt.string,cursor:_common.logEntriesCursorRT,columns:rt.array(logColumnRT)});exports.logEntryRT=logEntryRT;var logEntriesResponseRT=rt.type({data:rt.type({entries:rt.array(logEntryRT),topCursor:rt.union([_common.logEntriesCursorRT,rt.null]),bottomCursor:rt.union([_common.logEntriesCursorRT,rt.null])})});exports.logEntriesResponseRT=logEntriesResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesSummaryResponseRT=exports.logEntriesSummaryBucketRT=exports.logEntriesSummaryRequestRT=exports.LOG_ENTRIES_SUMMARY_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ENTRIES_SUMMARY_PATH="/api/log_entries/summary";exports.LOG_ENTRIES_SUMMARY_PATH=LOG_ENTRIES_SUMMARY_PATH;var logEntriesSummaryRequestRT=rt.type({sourceId:rt.string,startTimestamp:rt.number,endTimestamp:rt.number,bucketSize:rt.number,query:rt.union([rt.string,rt.undefined,rt.null])});exports.logEntriesSummaryRequestRT=logEntriesSummaryRequestRT;var logEntriesSummaryBucketRT=rt.type({start:rt.number,end:rt.number,entriesCount:rt.number});exports.logEntriesSummaryBucketRT=logEntriesSummaryBucketRT;var logEntriesSummaryResponseRT=rt.type({data:rt.type({start:rt.number,end:rt.number,buckets:rt.array(logEntriesSummaryBucketRT)})});exports.logEntriesSummaryResponseRT=logEntriesSummaryResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useKibanaSpaceId=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _public=__webpack_require__(9);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var useKibanaSpaceId=function useKibanaSpaceId(){var _kibana$services$inje;var kibana=(0,_public.useKibana)();var activeSpace=(_kibana$services$inje=kibana.services.injectedMetadata)===null||_kibana$services$inje===void 0?void 0:_kibana$services$inje.getInjectedVar("activeSpace");return(0,_pipeable.pipe)(activeSpaceRT.decode(activeSpace),(0,_Either.fold)((function(){return"default"}),(function(decodedActiveSpace){return decodedActiveSpace.space.id})))};exports.useKibanaSpaceId=useKibanaSpaceId;var activeSpaceRT=rt.type({space:rt.type({id:rt.string})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesChart=void 0;var _charts=__webpack_require__(694);var _numeral=_interopRequireDefault(__webpack_require__(216));var _i18n=__webpack_require__(0);var _moment=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _use_kibana_ui_setting=__webpack_require__(713);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AnomaliesChart=function AnomaliesChart(_ref){var chartId=_ref.chartId,series=_ref.series,annotations=_ref.annotations,setTimeRange=_ref.setTimeRange,timeRange=_ref.timeRange,renderAnnotationTooltip=_ref.renderAnnotationTooltip;var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat","Y-MM-DD HH:mm:ss.SSS"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),dateFormat=_useKibanaUiSetting2[0];var _useKibanaUiSetting3=(0,_use_kibana_ui_setting.useKibanaUiSetting)("theme:darkMode"),_useKibanaUiSetting4=_slicedToArray(_useKibanaUiSetting3,1),isDarkMode=_useKibanaUiSetting4[0];var chartDateFormatter=(0,_react.useMemo)((function(){return(0,_charts.niceTimeFormatter)([timeRange.startTime,timeRange.endTime])}),[timeRange]);var logEntryRateSpecId="averageValues";var tooltipProps=(0,_react.useMemo)((function(){return{headerFormatter:function headerFormatter(tooltipData){return(0,_moment.default)(tooltipData.value).format(dateFormat)}}}),[dateFormat]);var handleBrushEnd=(0,_react.useCallback)((function(startTime,endTime){setTimeRange({endTime:endTime,startTime:startTime})}),[setTimeRange]);return _react.default.createElement("div",{style:{height:160,width:"100%"}},_react.default.createElement(_charts.Chart,{className:"log-entry-rate-chart"},_react.default.createElement(_charts.Axis,{id:"timestamp",position:"bottom",showOverlappingTicks:true,tickFormat:chartDateFormatter}),_react.default.createElement(_charts.Axis,{id:"values",position:"left",tickFormat:function tickFormat(value){return(0,_numeral.default)(value.toPrecision(3)).format("0[.][00]a")}}),_react.default.createElement(_charts.BarSeries,{id:logEntryRateSpecId,name:_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesSectionLineSeriesName",{defaultMessage:"Log entries per 15 minutes (avg)"}),xScaleType:"time",yScaleType:"linear",xAccessor:"time",yAccessors:["value"],data:series,barSeriesStyle:barSeriesStyle}),renderAnnotations(annotations,chartId,renderAnnotationTooltip),_react.default.createElement(_charts.Settings,{onBrushEnd:handleBrushEnd,tooltip:tooltipProps,baseTheme:isDarkMode?_charts.DARK_THEME:_charts.LIGHT_THEME,xDomain:{min:timeRange.startTime,max:timeRange.endTime}})))};exports.AnomaliesChart=AnomaliesChart;var severityConfigs={warning:{id:"anomalies-warning",style:{fill:_log_analysis.ML_SEVERITY_COLORS.warning,opacity:.7}},minor:{id:"anomalies-minor",style:{fill:_log_analysis.ML_SEVERITY_COLORS.minor,opacity:.7}},major:{id:"anomalies-major",style:{fill:_log_analysis.ML_SEVERITY_COLORS.major,opacity:.7}},critical:{id:"anomalies-critical",style:{fill:_log_analysis.ML_SEVERITY_COLORS.critical,opacity:.7}}};var renderAnnotations=function renderAnnotations(annotations,chartId,renderAnnotationTooltip){return Object.entries(annotations).map((function(entry,index){return _react.default.createElement(_charts.RectAnnotation,{key:"".concat(chartId,":").concat(entry[0]),dataValues:entry[1],id:severityConfigs[entry[0]].id,style:severityConfigs[entry[0]].style,renderTooltip:renderAnnotationTooltip})}))};var barSeriesStyle={rect:{fill:"#D3DAE6",opacity:.6}}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogSummary=void 0;var _react=__webpack_require__(3);var _cancellable_effect=__webpack_require__(1493);var _fetch_log_summary=__webpack_require__(1494);var _bucket_size=__webpack_require__(967);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogSummary=function useLogSummary(sourceId,startTimestamp,endTimestamp,filterQuery){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),logSummaryBuckets=_useState2[0],setLogSummaryBuckets=_useState2[1];var bucketSize=(0,_bucket_size.useBucketSize)(startTimestamp,endTimestamp);(0,_cancellable_effect.useCancellableEffect)((function(getIsCancelled){if(startTimestamp===null||endTimestamp===null||bucketSize===null){return}(0,_fetch_log_summary.fetchLogSummary)({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,bucketSize:bucketSize,query:filterQuery}).then((function(response){if(!getIsCancelled()){setLogSummaryBuckets(response.data.buckets)}}))}),[sourceId,filterQuery,startTimestamp,endTimestamp,bucketSize]);return{buckets:logSummaryBuckets,start:startTimestamp,end:endTimestamp}};exports.useLogSummary=useLogSummary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useBucketSize=useBucketSize;var _react=__webpack_require__(3);var SUMMARY_BUCKET_COUNT=100;function useBucketSize(startTimestamp,endTimestamp){var bucketSize=(0,_react.useMemo)((function(){if(!startTimestamp||!endTimestamp){return null}return(endTimestamp-startTimestamp)/SUMMARY_BUCKET_COUNT}),[startTimestamp,endTimestamp]);return bucketSize}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntriesState=exports.useLogEntriesState=exports.logEntriesInitialState=exports.logEntriesInitialCallbacks=void 0;var _react=__webpack_require__(3);var _constate=_interopRequireDefault(__webpack_require__(213));var _lodash=__webpack_require__(1);var _time=__webpack_require__(774);var _fetch_log_entries=__webpack_require__(1504);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var DESIRED_BUFFER_PAGES=2;var LIVE_STREAM_INTERVAL=5e3;var Action;(function(Action){Action[Action["FetchingNewEntries"]=0]="FetchingNewEntries";Action[Action["FetchingMoreEntries"]=1]="FetchingMoreEntries";Action[Action["ReceiveNewEntries"]=2]="ReceiveNewEntries";Action[Action["ReceiveEntriesBefore"]=3]="ReceiveEntriesBefore";Action[Action["ReceiveEntriesAfter"]=4]="ReceiveEntriesAfter";Action[Action["ErrorOnNewEntries"]=5]="ErrorOnNewEntries";Action[Action["ErrorOnMoreEntries"]=6]="ErrorOnMoreEntries";Action[Action["ExpandRange"]=7]="ExpandRange"})(Action||(Action={}));var logEntriesInitialCallbacks={fetchNewerEntries:function(){var _fetchNewerEntries=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}}),_callee)})));function fetchNewerEntries(){return _fetchNewerEntries.apply(this,arguments)}return fetchNewerEntries}()};exports.logEntriesInitialCallbacks=logEntriesInitialCallbacks;var logEntriesInitialState={entries:[],topCursor:null,bottomCursor:null,centerCursor:null,isReloading:true,isLoadingMore:false,lastLoadedTime:null,hasMoreBeforeStart:false,hasMoreAfterEnd:false};exports.logEntriesInitialState=logEntriesInitialState;var cleanDuplicateItems=function cleanDuplicateItems(entriesA,entriesB){var ids=new Set(entriesB.map((function(item){return item.id})));return entriesA.filter((function(item){return!ids.has(item.id)}))};var shouldFetchNewEntries=function shouldFetchNewEntries(_ref){var prevParams=_ref.prevParams,timeKey=_ref.timeKey,filterQuery=_ref.filterQuery,topCursor=_ref.topCursor,bottomCursor=_ref.bottomCursor,startTimestamp=_ref.startTimestamp,endTimestamp=_ref.endTimestamp;var shouldLoadWithNewDates=prevParams?startTimestamp!==prevParams.startTimestamp&&startTimestamp>prevParams.startTimestamp||endTimestamp!==prevParams.endTimestamp&&endTimestamp<prevParams.endTimestamp:true;var shouldLoadWithNewFilter=prevParams?filterQuery!==prevParams.filterQuery:true;var shouldLoadAroundNewPosition=timeKey&&(!topCursor||!bottomCursor||!(0,_time.timeKeyIsBetween)(topCursor,bottomCursor,timeKey));return shouldLoadWithNewDates||shouldLoadWithNewFilter||shouldLoadAroundNewPosition};var ShouldFetchMoreEntries;(function(ShouldFetchMoreEntries){ShouldFetchMoreEntries[ShouldFetchMoreEntries["Before"]=0]="Before";ShouldFetchMoreEntries[ShouldFetchMoreEntries["After"]=1]="After"})(ShouldFetchMoreEntries||(ShouldFetchMoreEntries={}));var shouldFetchMoreEntries=function shouldFetchMoreEntries(_ref2,_ref3){var pagesAfterEnd=_ref2.pagesAfterEnd,pagesBeforeStart=_ref2.pagesBeforeStart;var hasMoreBeforeStart=_ref3.hasMoreBeforeStart,hasMoreAfterEnd=_ref3.hasMoreAfterEnd;if(pagesBeforeStart===null||pagesAfterEnd===null)return false;if(pagesBeforeStart<DESIRED_BUFFER_PAGES&&hasMoreBeforeStart)return ShouldFetchMoreEntries.Before;if(pagesAfterEnd<DESIRED_BUFFER_PAGES&&hasMoreAfterEnd)return ShouldFetchMoreEntries.After;return false};var useFetchEntriesEffect=function useFetchEntriesEffect(state,dispatch,props){var _useState=(0,_react.useState)(),_useState2=_slicedToArray(_useState,2),prevParams=_useState2[0],cachePrevParams=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),startedStreaming=_useState4[0],setStartedStreaming=_useState4[1];var runFetchNewEntriesRequest=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var overrides,commonFetchArgs,fetchArgs,_ref5,payload,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:overrides=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{};if(!(!props.startTimestamp||!props.endTimestamp)){_context2.next=3;break}return _context2.abrupt("return");case 3:dispatch({type:Action.FetchingNewEntries});_context2.prev=4;commonFetchArgs={sourceId:overrides.sourceId||props.sourceId,startTimestamp:overrides.startTimestamp||props.startTimestamp,endTimestamp:overrides.endTimestamp||props.endTimestamp,query:overrides.filterQuery||props.filterQuery};fetchArgs=props.timeKey?_objectSpread({},commonFetchArgs,{center:props.timeKey}):_objectSpread({},commonFetchArgs,{before:"last"});_context2.next=9;return(0,_fetch_log_entries.fetchLogEntries)(fetchArgs);case 9:_ref5=_context2.sent;payload=_ref5.data;dispatch({type:Action.ReceiveNewEntries,payload:payload});if(!props.timeKey&&payload.bottomCursor){setTimeout((function(){props.jumpToTargetPosition(payload.bottomCursor)}))}else if(props.timeKey&&payload.topCursor&&payload.bottomCursor&&!(0,_time.timeKeyIsBetween)(payload.topCursor,payload.bottomCursor,props.timeKey)){props.jumpToTargetPosition(payload.topCursor)}_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2["catch"](4);dispatch({type:Action.ErrorOnNewEntries});case 18:case"end":return _context2.stop()}}}),_callee2,null,[[4,15]])})));return function runFetchNewEntriesRequest(){return _ref4.apply(this,arguments)}}();var runFetchMoreEntriesRequest=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(direction){var getEntriesBefore,commonFetchArgs,fetchArgs,_ref7,payload;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(!props.startTimestamp||!props.endTimestamp)){_context3.next=2;break}return _context3.abrupt("return");case 2:getEntriesBefore=direction===ShouldFetchMoreEntries.Before;if(!(getEntriesBefore&&!state.topCursor||!state.bottomCursor)){_context3.next=5;break}return _context3.abrupt("return");case 5:dispatch({type:Action.FetchingMoreEntries});_context3.prev=6;commonFetchArgs={sourceId:props.sourceId,startTimestamp:props.startTimestamp,endTimestamp:props.endTimestamp,query:props.filterQuery};fetchArgs=getEntriesBefore?_objectSpread({},commonFetchArgs,{before:state.topCursor}):_objectSpread({},commonFetchArgs,{after:state.bottomCursor});_context3.next=11;return(0,_fetch_log_entries.fetchLogEntries)(fetchArgs);case 11:_ref7=_context3.sent;payload=_ref7.data;dispatch({type:getEntriesBefore?Action.ReceiveEntriesBefore:Action.ReceiveEntriesAfter,payload:payload});return _context3.abrupt("return",payload.bottomCursor);case 17:_context3.prev=17;_context3.t0=_context3["catch"](6);dispatch({type:Action.ErrorOnMoreEntries});case 20:case"end":return _context3.stop()}}}),_callee3,null,[[6,17]])})));return function runFetchMoreEntriesRequest(_x){return _ref6.apply(this,arguments)}}();var fetchNewEntriesEffectDependencies=Object.values((0,_lodash.pick)(props,["sourceId","filterQuery","timeKey","startTimestamp","endTimestamp"]));var fetchNewEntriesEffect=function fetchNewEntriesEffect(){if(props.isStreaming&&prevParams)return;if(shouldFetchNewEntries(_objectSpread({},props,{},state,{prevParams:prevParams}))){runFetchNewEntriesRequest()}cachePrevParams(props)};var fetchMoreEntriesEffectDependencies=[].concat(_toConsumableArray(Object.values((0,_lodash.pick)(props,["pagesAfterEnd","pagesBeforeStart"]))),[Object.values((0,_lodash.pick)(state,["hasMoreBeforeStart","hasMoreAfterEnd"]))]);var fetchMoreEntriesEffect=function fetchMoreEntriesEffect(){if(state.isLoadingMore||props.isStreaming)return;var direction=shouldFetchMoreEntries(props,state);switch(direction){case ShouldFetchMoreEntries.Before:case ShouldFetchMoreEntries.After:runFetchMoreEntriesRequest(direction);break;default:break}};var fetchNewerEntries=(0,_react.useCallback)((0,_lodash.throttle)((function(){return runFetchMoreEntriesRequest(ShouldFetchMoreEntries.After)}),500),[props,state.bottomCursor]);var streamEntriesEffectDependencies=[props.isStreaming,state.isLoadingMore,state.isReloading];var streamEntriesEffect=function streamEntriesEffect(){_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var endTimestamp,newEntriesEnd;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(props.isStreaming&&!state.isLoadingMore&&!state.isReloading)){_context4.next=18;break}if(!startedStreaming){_context4.next=6;break}_context4.next=4;return new Promise((function(res){return setTimeout(res,LIVE_STREAM_INTERVAL)}));case 4:_context4.next=12;break;case 6:endTimestamp=Date.now();props.jumpToTargetPosition({tiebreaker:0,time:endTimestamp});setStartedStreaming(true);if(!state.hasMoreAfterEnd){_context4.next=12;break}runFetchNewEntriesRequest({endTimestamp:endTimestamp});return _context4.abrupt("return");case 12:_context4.next=14;return runFetchMoreEntriesRequest(ShouldFetchMoreEntries.After);case 14:newEntriesEnd=_context4.sent;if(newEntriesEnd){props.jumpToTargetPosition(newEntriesEnd)}_context4.next=19;break;case 18:if(!props.isStreaming){setStartedStreaming(false)}case 19:case"end":return _context4.stop()}}}),_callee4)})))()};var expandRangeEffect=function expandRangeEffect(){if(!prevParams||!prevParams.startTimestamp||!prevParams.endTimestamp){return}if(props.timestampsLastUpdate===prevParams.timestampsLastUpdate){return}var shouldExpand={before:props.startTimestamp<prevParams.startTimestamp,after:props.endTimestamp>prevParams.endTimestamp};dispatch({type:Action.ExpandRange,payload:shouldExpand})};var expandRangeEffectDependencies=[prevParams===null||prevParams===void 0?void 0:prevParams.startTimestamp,prevParams===null||prevParams===void 0?void 0:prevParams.endTimestamp,props.startTimestamp,props.endTimestamp,props.timestampsLastUpdate];(0,_react.useEffect)(fetchNewEntriesEffect,fetchNewEntriesEffectDependencies);(0,_react.useEffect)(fetchMoreEntriesEffect,fetchMoreEntriesEffectDependencies);(0,_react.useEffect)(streamEntriesEffect,streamEntriesEffectDependencies);(0,_react.useEffect)(expandRangeEffect,expandRangeEffectDependencies);return{fetchNewerEntries:fetchNewerEntries,checkForNewEntries:runFetchNewEntriesRequest}};var useLogEntriesState=function useLogEntriesState(props){var _useReducer=(0,_react.useReducer)(logEntriesStateReducer,logEntriesInitialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _useFetchEntriesEffec=useFetchEntriesEffect(state,dispatch,props),fetchNewerEntries=_useFetchEntriesEffec.fetchNewerEntries,checkForNewEntries=_useFetchEntriesEffec.checkForNewEntries;var callbacks={fetchNewerEntries:fetchNewerEntries,checkForNewEntries:checkForNewEntries};return[state,callbacks]};exports.useLogEntriesState=useLogEntriesState;var logEntriesStateReducer=function logEntriesStateReducer(prevState,action){switch(action.type){case Action.ReceiveNewEntries:return _objectSpread({},prevState,{},action.payload,{centerCursor:getCenterCursor(action.payload.entries),lastLoadedTime:new Date,isReloading:false,hasMoreBeforeStart:true,hasMoreAfterEnd:true});case Action.ReceiveEntriesBefore:{var newEntries=action.payload.entries;var prevEntries=cleanDuplicateItems(prevState.entries,newEntries);var entries=[].concat(_toConsumableArray(newEntries),_toConsumableArray(prevEntries));var update={entries:entries,isLoadingMore:false,hasMoreBeforeStart:newEntries.length>0,topCursor:newEntries.length>0?action.payload.topCursor:prevState.topCursor,centerCursor:getCenterCursor(entries),lastLoadedTime:new Date};return _objectSpread({},prevState,{},update)}case Action.ReceiveEntriesAfter:{var _newEntries=action.payload.entries;var _prevEntries=cleanDuplicateItems(prevState.entries,_newEntries);var _entries=[].concat(_toConsumableArray(_prevEntries),_toConsumableArray(_newEntries));var _update={entries:_entries,isLoadingMore:false,hasMoreAfterEnd:_newEntries.length>0,bottomCursor:_newEntries.length>0?action.payload.bottomCursor:prevState.bottomCursor,centerCursor:getCenterCursor(_entries),lastLoadedTime:new Date};return _objectSpread({},prevState,{},_update)}case Action.FetchingNewEntries:return _objectSpread({},prevState,{isReloading:true,entries:[],topCursor:null,bottomCursor:null,centerCursor:null,hasMoreBeforeStart:true,hasMoreAfterEnd:true});case Action.FetchingMoreEntries:return _objectSpread({},prevState,{isLoadingMore:true});case Action.ErrorOnNewEntries:return _objectSpread({},prevState,{isReloading:false});case Action.ErrorOnMoreEntries:return _objectSpread({},prevState,{isLoadingMore:false});case Action.ExpandRange:{var hasMoreBeforeStart=action.payload.before?true:prevState.hasMoreBeforeStart;var hasMoreAfterEnd=action.payload.after?true:prevState.hasMoreAfterEnd;return _objectSpread({},prevState,{hasMoreBeforeStart:hasMoreBeforeStart,hasMoreAfterEnd:hasMoreAfterEnd})}default:throw new Error}};function getCenterCursor(entries){return entries.length>0?entries[Math.floor(entries.length/2)].cursor:null}var LogEntriesState=(0,_constate.default)(useLogEntriesState);exports.LogEntriesState=LogEntriesState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createFormatterForMetric=void 0;var _formatters=__webpack_require__(222);var _lib=__webpack_require__(66);var _metric_to_format=__webpack_require__(970);var createFormatterForMetric=function createFormatterForMetric(metric){if(metric&&metric.field){var format=(0,_metric_to_format.metricToFormat)(metric);if(format===_lib.InfraFormatterType.bits&&metric.aggregation==="rate"){return(0,_formatters.createFormatter)(_lib.InfraFormatterType.bits,"{{value}}/s")}return(0,_formatters.createFormatter)(format)}return(0,_formatters.createFormatter)(_lib.InfraFormatterType.number)};exports.createFormatterForMetric=createFormatterForMetric},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metricToFormat=void 0;var _lodash=__webpack_require__(1);var _lib=__webpack_require__(66);var metricToFormat=function metricToFormat(metric){if(metric&&metric.field){var suffix=(0,_lodash.last)(metric.field.split(/\./));if(suffix==="pct"){return _lib.InfraFormatterType.percent}if(suffix==="bytes"&&metric.aggregation==="rate"){return _lib.InfraFormatterType.bits}if(suffix==="bytes"){return _lib.InfraFormatterType.bytes}}return _lib.InfraFormatterType.number};exports.metricToFormat=metricToFormat},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createMetricLabel=void 0;var createMetricLabel=function createMetricLabel(metric){return"".concat(metric.aggregation,"(").concat(metric.field||"",")")};exports.createMetricLabel=createMetricLabel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.firstFieldOption=exports.getFields=exports.getIndexOptions=exports.getIndexPatterns=void 0;var _i18n=__webpack_require__(0);var _index_threshold_api=__webpack_require__(851);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var getIndexPatterns=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var indexPatternObjects;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(0,_index_threshold_api.getSavedObjectsClient)()){_context.next=5;break}_context.next=3;return(0,_index_threshold_api.loadIndexPatterns)();case 3:indexPatternObjects=_context.sent;return _context.abrupt("return",indexPatternObjects.map((function(indexPattern){return indexPattern.attributes.title})));case 5:return _context.abrupt("return",[]);case 6:case"end":return _context.stop()}}}),_callee)})));return function getIndexPatterns(){return _ref.apply(this,arguments)}}();exports.getIndexPatterns=getIndexPatterns;var getIndexOptions=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(http,pattern,indexPatternsParam){var options,matchingIndices,matchingIndexPatterns,matchingOptions;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=[];if(pattern){_context2.next=3;break}return _context2.abrupt("return",options);case 3:_context2.next=5;return(0,_index_threshold_api.getMatchingIndicesForThresholdAlertType)({pattern:pattern,http:http});case 5:matchingIndices=_context2.sent;matchingIndexPatterns=indexPatternsParam.filter((function(anIndexPattern){return anIndexPattern.includes(pattern)}));if(matchingIndices.length||matchingIndexPatterns.length){matchingOptions=_.uniq([].concat(_toConsumableArray(matchingIndices),_toConsumableArray(matchingIndexPatterns)));options.push({label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.indicesAndIndexPatternsLabel",{defaultMessage:"Based on your index patterns"}),options:matchingOptions.map((function(match){return{label:match,value:match}}))})}options.push({label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.chooseLabel",{defaultMessage:"Choose…"}),options:[{value:pattern,label:pattern}]});return _context2.abrupt("return",options);case 10:case"end":return _context2.stop()}}}),_callee2)})));return function getIndexOptions(_x,_x2,_x3){return _ref2.apply(this,arguments)}}();exports.getIndexOptions=getIndexOptions;var getFields=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(http,indexes){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_index_threshold_api.getThresholdAlertTypeFields)({indexes:indexes,http:http});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}}),_callee3)})));return function getFields(_x4,_x5){return _ref3.apply(this,arguments)}}();exports.getFields=getFields;var firstFieldOption={text:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.threshold.timeFieldOptionLabel",{defaultMessage:"Select a field"}),value:""};exports.firstFieldOption=firstFieldOption},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json_mode.XJsonMode}});var _x_json_mode=__webpack_require__(1545)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchSqlHighlightRules=void 0;var _brace=_interopRequireDefault(__webpack_require__(794));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _brace$default$acequi=_brace.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_brace$default$acequi.TextHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var ElasticsearchSqlHighlightRules=function ElasticsearchSqlHighlightRules(){var keywords="describe|between|in|like|not|and|or|desc|select|from|where|having|group|by|order"+"asc|desc|pivot|for|in|as|show|columns|include|frozen|tables|escape|limit|rlike|all|distinct|is";var builtinConstants="true|false";var builtinFunctions="avg|count|first|first_value|last|last_value|max|min|sum|kurtosis|mad|percentile|percentile_rank|skewness"+"|stddev_pop|sum_of_squares|var_pop|histogram|case|coalesce|greatest|ifnull|iif|isnull|least|nullif|nvl"+"|curdate|current_date|current_time|current_timestamp|curtime|dateadd|datediff|datepart|datetrunc|date_add"+"|date_diff|date_part|date_trunc|day|dayname|dayofmonth|dayofweek|dayofyear|day_name|day_of_month|day_of_week"+"|day_of_year|dom|dow|doy|hour|hour_of_day|idow|isodayofweek|isodow|isoweek|isoweekofyear|iso_day_of_week|iso_week_of_year"+"|iw|iwoy|minute|minute_of_day|minute_of_hour|month|monthname|month_name|month_of_year|now|quarter|second|second_of_minute"+"|timestampadd|timestampdiff|timestamp_add|timestamp_diff|today|week|week_of_year|year|abs|acos|asin|atan|atan2|cbrt"+"|ceil|ceiling|cos|cosh|cot|degrees|e|exp|expm1|floor|log|log10|mod|pi|power|radians|rand|random|round|sign|signum|sin"+"|sinh|sqrt|tan|truncate|ascii|bit_length|char|character_length|char_length|concat|insert|lcase|left|length|locate"+"|ltrim|octet_length|position|repeat|replace|right|rtrim|space|substring|ucase|cast|convert|database|user|st_astext|st_aswkt"+"|st_distance|st_geometrytype|st_geomfromtext|st_wkttosql|st_x|st_y|st_z|score";var dataTypes="null|boolean|byte|short|integer|long|double|float|half_float|scaled_float|keyword|text|binary|date|ip|object|nested|time"+"|interval_year|interval_month|interval_day|interval_hour|interval_minute|interval_second|interval_year_to_month"+"inteval_day_to_hour|interval_day_to_minute|interval_day_to_second|interval_hour_to_minute|interval_hour_to_second"+"interval_minute_to_second|geo_point|geo_shape|shape";var keywordMapper=this.createKeywordMapper({keyword:[keywords,builtinFunctions,builtinConstants,dataTypes].join("|")},"identifier",true);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"constant",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"entity.name.function",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"⇐|<⇒|\\*|\\.|\\:\\:|\\+|\\-|\\/|\\/\\/|%|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]};this.normalizeRules()};exports.ElasticsearchSqlHighlightRules=ElasticsearchSqlHighlightRules;oop.inherits(ElasticsearchSqlHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(794);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseDuration=parseDuration;exports.getDurationNumberInItsUnit=getDurationNumberInItsUnit;exports.getDurationUnitValue=getDurationUnitValue;exports.validateDurationSchema=validateDurationSchema;var SECONDS_REGEX=/^[1-9][0-9]*s$/;var MINUTES_REGEX=/^[1-9][0-9]*m$/;var HOURS_REGEX=/^[1-9][0-9]*h$/;var DAYS_REGEX=/^[1-9][0-9]*d$/;function parseDuration(duration){var parsed=parseInt(duration,10);if(isSeconds(duration)){return parsed*1e3}else if(isMinutes(duration)){return parsed*60*1e3}else if(isHours(duration)){return parsed*60*60*1e3}else if(isDays(duration)){return parsed*24*60*60*1e3}throw new Error('Invalid duration "'.concat(duration,'". Durations must be of the form {number}x. Example: 5s, 5m, 5h or 5d"'))}function getDurationNumberInItsUnit(duration){return parseInt(duration.replace(/[^0-9.]/g,""),0)}function getDurationUnitValue(duration){var durationNumber=getDurationNumberInItsUnit(duration);return duration.replace(durationNumber.toString(),"")}function validateDurationSchema(duration){if(duration.match(SECONDS_REGEX)){return}if(duration.match(MINUTES_REGEX)){return}if(duration.match(HOURS_REGEX)){return}if(duration.match(DAYS_REGEX)){return}return"string is not a valid duration: "+duration}function isSeconds(duration){return SECONDS_REGEX.test(duration)}function isMinutes(duration){return MINUTES_REGEX.test(duration)}function isHours(duration){return HOURS_REGEX.test(duration)}function isDays(duration){return DAYS_REGEX.test(duration)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ConnectorAddFlyout",{enumerable:true,get:function get(){return _connector_add_flyout.ConnectorAddFlyout}});Object.defineProperty(exports,"ConnectorEditFlyout",{enumerable:true,get:function get(){return _connector_edit_flyout.ConnectorEditFlyout}});Object.defineProperty(exports,"ActionForm",{enumerable:true,get:function get(){return _action_form.ActionForm}});var _connector_add_flyout=__webpack_require__(1573);var _connector_edit_flyout=__webpack_require__(1585);var _action_form=__webpack_require__(979)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.actionTypeCompare=actionTypeCompare;function actionTypeCompare(a,b){if(a.enabled===true&&b.enabled===false){return-1}if(a.enabled===false&&b.enabled===true){return 1}return a.name.localeCompare(b.name)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _action_connector_api=__webpack_require__(722);var _section_loading=__webpack_require__(1586);var _connector_add_modal=__webpack_require__(1587);var _action_type_compare=__webpack_require__(978);var _check_action_type_enabled=__webpack_require__(852);var _constants=__webpack_require__(49);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ActionForm=function ActionForm(_ref){var actions=_ref.actions,defaultActionGroupId=_ref.defaultActionGroupId,setActionIdByIndex=_ref.setActionIdByIndex,setAlertProperty=_ref.setAlertProperty,setActionParamsProperty=_ref.setActionParamsProperty,http=_ref.http,actionTypeRegistry=_ref.actionTypeRegistry,actionTypes=_ref.actionTypes,messageVariables=_ref.messageVariables,defaultActionMessage=_ref.defaultActionMessage,toastNotifications=_ref.toastNotifications,setHasActionsDisabled=_ref.setHasActionsDisabled;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),addModalVisible=_useState2[0],setAddModalVisibility=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),activeActionItem=_useState4[0],setActiveActionItem=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=_slicedToArray(_useState5,2),isAddActionPanelOpen=_useState6[0],setIsAddActionPanelOpen=_useState6[1];var _useState7=(0,_react.useState)([]),_useState8=_slicedToArray(_useState7,2),connectors=_useState8[0],setConnectors=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),isLoadingConnectors=_useState10[0],setIsLoadingConnectors=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=_slicedToArray(_useState11,2),isLoadingActionTypes=_useState12[0],setIsLoadingActionTypes=_useState12[1];var _useState13=(0,_react.useState)(undefined),_useState14=_slicedToArray(_useState13,2),actionTypesIndex=_useState14[0],setActionTypesIndex=_useState14[1];var _useState15=(0,_react.useState)([]),_useState16=_slicedToArray(_useState15,2),emptyActionsIds=_useState16[0],setEmptyActionsIds=_useState16[1];(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var registeredActionTypes,_index,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,actionTypeItem,hasActionsDisabled;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoadingActionTypes(true);if(!(actionTypes!==null&&actionTypes!==void 0)){_context.next=6;break}_context.t0=actionTypes;_context.next=9;break;case 6:_context.next=8;return(0,_action_connector_api.loadActionTypes)({http:http});case 8:_context.t0=_context.sent;case 9:_context.t1=function(a,b){return a.name.localeCompare(b.name)};registeredActionTypes=_context.t0.sort(_context.t1);_index={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=15;for(_iterator=registeredActionTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){actionTypeItem=_step.value;_index[actionTypeItem.id]=actionTypeItem}_context.next=23;break;case 19:_context.prev=19;_context.t2=_context["catch"](15);_didIteratorError=true;_iteratorError=_context.t2;case 23:_context.prev=23;_context.prev=24;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 26:_context.prev=26;if(!_didIteratorError){_context.next=29;break}throw _iteratorError;case 29:return _context.finish(26);case 30:return _context.finish(23);case 31:setActionTypesIndex(_index);hasActionsDisabled=actions.some((function(action){return!_index[action.actionTypeId].enabled}));if(setHasActionsDisabled){setHasActionsDisabled(hasActionsDisabled)}_context.next=39;break;case 36:_context.prev=36;_context.t3=_context["catch"](0);if(toastNotifications){toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadActionTypesMessage",{defaultMessage:"Unable to load action types"})})}case 39:_context.prev=39;setIsLoadingActionTypes(false);return _context.finish(39);case 42:case"end":return _context.stop()}}}),_callee,null,[[0,36,39,42],[15,19,23,31],[24,,26,30]])})))()}),[]);(0,_react.useEffect)((function(){loadConnectors()}),[]);function loadConnectors(){return _loadConnectors.apply(this,arguments)}function _loadConnectors(){_loadConnectors=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var actionsResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setIsLoadingConnectors(true);_context2.next=4;return(0,_action_connector_api.loadAllActions)({http:http});case 4:actionsResponse=_context2.sent;setConnectors(actionsResponse.data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadActionsMessage",{defaultMessage:"Unable to load connectors"})});case 11:_context2.prev=11;setIsLoadingConnectors(false);return _context2.finish(11);case 14:case"end":return _context2.stop()}}}),_callee2,null,[[0,8,11,14]])})));return _loadConnectors.apply(this,arguments)}var getSelectedOptions=function getSelectedOptions(actionItemId){var val=connectors.find((function(connector){return connector.id===actionItemId}));if(!val){return[]}return[{label:val.name,value:val.name,id:actionItemId}]};var getActionTypeForm=function getActionTypeForm(actionItem,actionConnector,actionParamsErrors,index){var optionsList=connectors.filter((function(connectorItem){return connectorItem.actionTypeId===actionItem.actionTypeId&&connectorItem.id===actionItem.id})).map((function(_ref3){var name=_ref3.name,id=_ref3.id;return{label:name,key:id,id:id}}));var actionTypeRegistered=actionTypeRegistry.get(actionConnector.actionTypeId);if(!actionTypeRegistered||actionItem.group!==defaultActionGroupId)return null;var ParamsFieldsComponent=actionTypeRegistered.actionParamsFields;var checkEnabledResult=(0,_check_action_type_enabled.checkActionTypeEnabled)(actionTypesIndex&&actionTypesIndex[actionConnector.actionTypeId]);var accordionContent=checkEnabledResult.isEnabled?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{component:"div"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.actionIdLabel",defaultMessage:"{connectorInstance} connector",values:{connectorInstance:actionTypesIndex?actionTypesIndex[actionConnector.actionTypeId].name:actionConnector.actionTypeId}}),labelAppend:_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:function onClick(){setActiveActionItem({actionTypeId:actionItem.actionTypeId,index:index});setAddModalVisibility(true)}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Add new",id:"xpack.triggersActionsUI.sections.alertForm.addNewConnectorEmptyButton"}))},_react.default.createElement(_eui.EuiComboBox,{fullWidth:true,singleSelection:{asPlainText:true},options:optionsList,selectedOptions:getSelectedOptions(actionItem.id),onChange:function onChange(selectedOptions){var _selectedOptions$0$id;setActionIdByIndex((_selectedOptions$0$id=selectedOptions[0].id)!==null&&_selectedOptions$0$id!==void 0?_selectedOptions$0$id:"",index)},isClearable:false})))),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),ParamsFieldsComponent?_react.default.createElement(ParamsFieldsComponent,{actionParams:actionItem.params,index:index,errors:actionParamsErrors.errors,editAction:setActionParamsProperty,messageVariables:messageVariables,defaultMessage:defaultActionMessage!==null&&defaultActionMessage!==void 0?defaultActionMessage:undefined}):null):checkEnabledResult.messageCard;return _react.default.createElement(_eui.EuiAccordion,{initialIsOpen:true,key:index,id:index.toString(),className:"actAccordionActionForm",buttonContentClassName:"actAccordionActionForm__button","data-test-subj":"alertActionAccordion-".concat(defaultActionGroupId),buttonContent:_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:actionTypeRegistered.iconClass,size:"m"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h5",null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{actionConnectorName}",id:"xpack.triggersActionsUI.sections.alertForm.selectAlertActionTypeEditTitle",values:{actionConnectorName:actionConnector.name}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},checkEnabledResult.isEnabled===false&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiIconTip,{type:"alert",color:"danger",content:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.actionDisabledTitle",{defaultMessage:"This action is disabled"}),position:"right"})))))))),extraAction:_react.default.createElement(_eui.EuiButtonIcon,{iconType:"cross",color:"danger",className:"actAccordionActionForm__extraAction","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.accordion.deleteIconAriaLabel",{defaultMessage:"Delete"}),onClick:function onClick(){var updatedActions=actions.filter((function(_item,i){return i!==index}));setAlertProperty(updatedActions);setIsAddActionPanelOpen(updatedActions.filter((function(item){return item.id!==actionItem.id})).length===0);setActiveActionItem(undefined)}}),paddingSize:"l"},accordionContent)};var getAddConnectorsForm=function getAddConnectorsForm(actionItem,index){var actionTypeName=actionTypesIndex?actionTypesIndex[actionItem.actionTypeId].name:actionItem.actionTypeId;var actionTypeRegistered=actionTypeRegistry.get(actionItem.actionTypeId);if(!actionTypeRegistered||actionItem.group!==defaultActionGroupId)return null;return _react.default.createElement(_eui.EuiAccordion,{initialIsOpen:true,key:index,id:index.toString(),className:"actAccordionActionForm",buttonContentClassName:"actAccordionActionForm__button","data-test-subj":"alertActionAccordion-".concat(defaultActionGroupId),buttonContent:_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:actionTypeRegistered.iconClass,size:"m"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{actionConnectorName}",id:"xpack.triggersActionsUI.sections.alertForm.selectAlertActionTypeEditTitle",values:{actionConnectorName:actionTypeRegistered.actionTypeTitle}}))))),extraAction:_react.default.createElement(_eui.EuiButtonIcon,{iconType:"cross",color:"danger",className:"actAccordionActionForm__extraAction","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.accordion.deleteIconAriaLabel",{defaultMessage:"Delete"}),onClick:function onClick(){var updatedActions=actions.filter((function(_item,i){return i!==index}));setAlertProperty(updatedActions);setIsAddActionPanelOpen(updatedActions.filter((function(item){return item.id!==actionItem.id})).length===0);setActiveActionItem(undefined)}}),paddingSize:"l"},_react.default.createElement(_eui.EuiEmptyPrompt,{title:emptyActionsIds.find((function(emptyId){return actionItem.id===emptyId}))?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.emptyConnectorsLabel",defaultMessage:"No {actionTypeName} connectors.",values:{actionTypeName:actionTypeName}}):_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadConnectorTitle",{defaultMessage:"Unable to load connector."}),color:"warning"}),actions:[_react.default.createElement(_eui.EuiButton,{color:"primary",fill:true,"data-test-subj":"createActionConnectorButton",onClick:function onClick(){setActiveActionItem({actionTypeId:actionItem.actionTypeId,index:index});setAddModalVisibility(true)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.addConnectorButtonLabel",defaultMessage:"Create a connector"}))]}))};function addActionType(actionTypeModel){if(!defaultActionGroupId){toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToAddAction",{defaultMessage:"Unable to add action, because default action group is not defined"})});return}setIsAddActionPanelOpen(false);var actionTypeConnectors=connectors.filter((function(field){return field.actionTypeId===actionTypeModel.id}));if(actionTypeConnectors.length>0){actions.push({id:"",actionTypeId:actionTypeModel.id,group:defaultActionGroupId,params:{}});setActionIdByIndex(actionTypeConnectors[0].id,actions.length-1)}if(actionTypeConnectors.length===0){actions.push({id:"",actionTypeId:actionTypeModel.id,group:defaultActionGroupId,params:{}});setActionIdByIndex(actions.length.toString(),actions.length-1);setEmptyActionsIds([].concat(_toConsumableArray(emptyActionsIds),[actions.length.toString()]))}}var actionTypeNodes=null;var hasDisabledByLicenseActionTypes=false;if(actionTypesIndex){actionTypeNodes=actionTypeRegistry.list().filter((function(item){return actionTypesIndex[item.id]&&actionTypesIndex[item.id].enabledInConfig===true})).sort((function(a,b){return(0,_action_type_compare.actionTypeCompare)(actionTypesIndex[a.id],actionTypesIndex[b.id])})).map((function(item,index){var actionType=actionTypesIndex[item.id];var checkEnabledResult=(0,_check_action_type_enabled.checkActionTypeEnabled)(actionTypesIndex[item.id]);if(!actionType.enabledInLicense){hasDisabledByLicenseActionTypes=true}var keyPadItem=_react.default.createElement(_eui.EuiKeyPadMenuItem,{key:index,isDisabled:!checkEnabledResult.isEnabled,"data-test-subj":"".concat(item.id,"-ActionTypeSelectOption"),label:actionTypesIndex[item.id].name,onClick:function onClick(){return addActionType(item)}},_react.default.createElement(_eui.EuiIcon,{size:"xl",type:item.iconClass}));return _react.default.createElement(_react.Fragment,{key:"keypad-".concat(item.id)},checkEnabledResult.isEnabled&&keyPadItem,checkEnabledResult.isEnabled===false&&_react.default.createElement(_eui.EuiToolTip,{position:"top",content:checkEnabledResult.message},keyPadItem))}))}var alertActionsList=actions.map((function(actionItem,index){var _actionTypeRegistry$g;var actionConnector=connectors.find((function(field){return field.id===actionItem.id}));if(!actionConnector){return getAddConnectorsForm(actionItem,index)}var actionErrors=(_actionTypeRegistry$g=actionTypeRegistry.get(actionItem.actionTypeId))===null||_actionTypeRegistry$g===void 0?void 0:_actionTypeRegistry$g.validateParams(actionItem.params);return getActionTypeForm(actionItem,actionConnector,actionErrors,index)}));return _react.default.createElement(_react.Fragment,null,isLoadingConnectors?_react.default.createElement(_section_loading.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingConnectorsDescription",defaultMessage:"Loading connectors…"})):_react.default.createElement(_react.Fragment,null,alertActionsList,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),isAddActionPanelOpen===false?_react.default.createElement(_eui.EuiButton,{iconType:"plusInCircle","data-test-subj":"addAlertActionButton",onClick:function onClick(){return setIsAddActionPanelOpen(true)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.addActionButtonLabel",defaultMessage:"Add action"})):null,isAddActionPanelOpen?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{id:"alertActionTypeTitle",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Actions: Select an action type",id:"xpack.triggersActionsUI.sections.alertForm.selectAlertActionTypeTitle"})))),hasDisabledByLicenseActionTypes&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h5",null,_react.default.createElement(_eui.EuiLink,{href:_constants.VIEW_LICENSE_OPTIONS_LINK,target:"_blank",className:"actActionForm__getMoreActionsLink"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Get more actions",id:"xpack.triggersActionsUI.sections.actionForm.getMoreActionsTitle"})))))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",wrap:true},isLoadingActionTypes?_react.default.createElement(_section_loading.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingActionTypesDescription",defaultMessage:"Loading action types…"})):actionTypeNodes)):null),actionTypesIndex&&activeActionItem?_react.default.createElement(_connector_add_modal.ConnectorAddModal,{key:activeActionItem.index,actionType:actionTypesIndex[activeActionItem.actionTypeId],addModalVisible:addModalVisible,setAddModalVisibility:setAddModalVisibility,postSaveEventHandler:function postSaveEventHandler(savedAction){connectors.push(savedAction);setActionIdByIndex(savedAction.id,activeActionItem.index)},actionTypeRegistry:actionTypeRegistry,http:http,toastNotifications:toastNotifications}):null)};exports.ActionForm=ActionForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeleteModalConfirmation=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _app_context=__webpack_require__(706);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var DeleteModalConfirmation=function DeleteModalConfirmation(_ref){var idsToDelete=_ref.idsToDelete,apiDeleteCall=_ref.apiDeleteCall,onDeleted=_ref.onDeleted,_onCancel=_ref.onCancel,onErrors=_ref.onErrors,singleTitle=_ref.singleTitle,multipleTitle=_ref.multipleTitle;var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http,toastNotifications=_useAppDependencies.toastNotifications;var numIdsToDelete=idsToDelete.length;if(!numIdsToDelete){return null}var confirmModalText=_i18n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.descriptionText",{defaultMessage:"You can't recover {numIdsToDelete, plural, one {a deleted {singleTitle}} other {deleted {multipleTitle}}}.",values:{numIdsToDelete:numIdsToDelete,singleTitle:singleTitle,multipleTitle:multipleTitle}});var confirmButtonText=_i18n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.deleteButtonLabel",{defaultMessage:"Delete {numIdsToDelete, plural, one {{singleTitle}} other {# {multipleTitle}}} ",values:{numIdsToDelete:numIdsToDelete,singleTitle:singleTitle,multipleTitle:multipleTitle}});var cancelButtonText=_i18n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"});return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteIdsConfirmation",title:confirmButtonText,onCancel:function onCancel(){return _onCancel()},onConfirm:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref3,successes,errors,numSuccesses,numErrors;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return apiDeleteCall({ids:idsToDelete,http:http});case 2:_ref3=_context.sent;successes=_ref3.successes;errors=_ref3.errors;numSuccesses=successes.length;numErrors=errors.length;onDeleted(successes);if(numSuccesses>0){toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.components.deleteSelectedIdsSuccessNotification.descriptionText",{defaultMessage:"Deleted {numSuccesses, number} {numSuccesses, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numSuccesses:numSuccesses,singleTitle:singleTitle,multipleTitle:multipleTitle}}))}if(numErrors>0){toastNotifications.addDanger(_i18n.i18n.translate("xpack.triggersActionsUI.components.deleteSelectedIdsErrorNotification.descriptionText",{defaultMessage:"Failed to delete {numErrors, number} {numErrors, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numErrors:numErrors,singleTitle:singleTitle,multipleTitle:multipleTitle}}));onErrors()}case 10:case"end":return _context.stop()}}}),_callee)}))),cancelButtonText:cancelButtonText,confirmButtonText:confirmButtonText},confirmModalText))};exports.DeleteModalConfirmation=DeleteModalConfirmation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AlertAdd",{enumerable:true,get:function get(){return _alert_add.AlertAdd}});Object.defineProperty(exports,"AlertEdit",{enumerable:true,get:function get(){return _alert_edit.AlertEdit}});var _alert_add=__webpack_require__(1605);var _alert_edit=__webpack_require__(1612)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateBaseProperties=validateBaseProperties;exports.AlertForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _Option=__webpack_require__(855);var _pipeable=__webpack_require__(48);var _parse_duration=__webpack_require__(976);var _alert_api=__webpack_require__(743);var _action_variables=__webpack_require__(1606);var _get_time_options=__webpack_require__(224);var _alerts_context=__webpack_require__(762);var _action_form=__webpack_require__(979);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function validateBaseProperties(alertObject){var validationResult={errors:{}};var errors={name:new Array,interval:new Array,alertTypeId:new Array,actionConnectors:new Array};validationResult.errors=errors;if(!alertObject.name){errors.name.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredNameText",{defaultMessage:"Name is required."}))}if(alertObject.schedule.interval.length<2){errors.interval.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredIntervalText",{defaultMessage:"Check interval is required."}))}if(!alertObject.alertTypeId){errors.alertTypeId.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredAlertTypeIdText",{defaultMessage:"Alert trigger is required."}))}return validationResult}var AlertForm=function AlertForm(_ref){var alert=_ref.alert,_ref$canChangeTrigger=_ref.canChangeTrigger,canChangeTrigger=_ref$canChangeTrigger===void 0?true:_ref$canChangeTrigger,dispatch=_ref.dispatch,errors=_ref.errors,setHasActionsDisabled=_ref.setHasActionsDisabled;var alertsContext=(0,_alerts_context.useAlertsContext)();var http=alertsContext.http,toastNotifications=alertsContext.toastNotifications,alertTypeRegistry=alertsContext.alertTypeRegistry,actionTypeRegistry=alertsContext.actionTypeRegistry;var _useState=(0,_react.useState)(alert.alertTypeId?alertTypeRegistry.get(alert.alertTypeId):null),_useState2=_slicedToArray(_useState,2),alertTypeModel=_useState2[0],setAlertTypeModel=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),alertTypesIndex=_useState4[0],setAlertTypesIndex=_useState4[1];var _useState5=(0,_react.useState)(alert.schedule.interval?(0,_parse_duration.getDurationNumberInItsUnit)(alert.schedule.interval):undefined),_useState6=_slicedToArray(_useState5,2),alertInterval=_useState6[0],setAlertInterval=_useState6[1];var _useState7=(0,_react.useState)(alert.schedule.interval?(0,_parse_duration.getDurationUnitValue)(alert.schedule.interval):"m"),_useState8=_slicedToArray(_useState7,2),alertIntervalUnit=_useState8[0],setAlertIntervalUnit=_useState8[1];var _useState9=(0,_react.useState)(alert.throttle?(0,_parse_duration.getDurationNumberInItsUnit)(alert.throttle):null),_useState10=_slicedToArray(_useState9,2),alertThrottle=_useState10[0],setAlertThrottle=_useState10[1];var _useState11=(0,_react.useState)(alert.throttle?(0,_parse_duration.getDurationUnitValue)(alert.throttle):"m"),_useState12=_slicedToArray(_useState11,2),alertThrottleUnit=_useState12[0],setAlertThrottleUnit=_useState12[1];var _useState13=(0,_react.useState)(undefined),_useState14=_slicedToArray(_useState13,2),defaultActionGroupId=_useState14[0],setDefaultActionGroupId=_useState14[1];(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var alertTypes,index,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,alertTypeItem;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_alert_api.loadAlertTypes)({http:http});case 3:alertTypes=_context.sent;index={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=8;for(_iterator=alertTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){alertTypeItem=_step.value;index[alertTypeItem.id]=alertTypeItem}_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](8);_didIteratorError=true;_iteratorError=_context.t0;case 16:_context.prev=16;_context.prev=17;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 19:_context.prev=19;if(!_didIteratorError){_context.next=22;break}throw _iteratorError;case 22:return _context.finish(19);case 23:return _context.finish(16);case 24:if(alert.alertTypeId&&index[alert.alertTypeId]){setDefaultActionGroupId(index[alert.alertTypeId].defaultActionGroupId)}setAlertTypesIndex(index);_context.next=31;break;case 28:_context.prev=28;_context.t1=_context["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadAlertTypesMessage",{defaultMessage:"Unable to load alert types"})});case 31:case"end":return _context.stop()}}}),_callee,null,[[0,28],[8,12,16,24],[17,,19,23]])})))()}),[]);var _setAlertProperty=function setAlertProperty(key,value){dispatch({command:{type:"setProperty"},payload:{key:key,value:value}})};var setAlertParams=function setAlertParams(key,value){dispatch({command:{type:"setAlertParams"},payload:{key:key,value:value}})};var setScheduleProperty=function setScheduleProperty(key,value){dispatch({command:{type:"setScheduleProperty"},payload:{key:key,value:value}})};var setActionProperty=function setActionProperty(key,value,index){dispatch({command:{type:"setAlertActionProperty"},payload:{key:key,value:value,index:index}})};var _setActionParamsProperty=function setActionParamsProperty(key,value,index){dispatch({command:{type:"setAlertActionParams"},payload:{key:key,value:value,index:index}})};var tagsOptions=alert.tags?alert.tags.map((function(label){return{label:label}})):[];var AlertParamsExpressionComponent=alertTypeModel?alertTypeModel.alertParamsExpression:null;var alertTypeNodes=alertTypeRegistry.list().map((function(item,index){return _react.default.createElement(_eui.EuiKeyPadMenuItem,{key:index,"data-test-subj":"".concat(item.id,"-SelectOption"),label:item.name,onClick:function onClick(){_setAlertProperty("alertTypeId",item.id);setAlertTypeModel(item);_setAlertProperty("params",{});if(alertTypesIndex&&alertTypesIndex[item.id]){setDefaultActionGroupId(alertTypesIndex[item.id].defaultActionGroupId)}}},_react.default.createElement(_eui.EuiIcon,{size:"xl",type:item.iconClass}))}));var alertTypeDetails=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s","data-test-subj":"selectedAlertTypeTitle"},_react.default.createElement("h5",{id:"selectedAlertTypeTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{alertType}",id:"xpack.triggersActionsUI.sections.alertForm.selectedAlertTypeTitle",values:{alertType:alertTypeModel?alertTypeModel.name:""}})))),canChangeTrigger?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.changeAlertTypeAriaLabel",{defaultMessage:"Delete"}),onClick:function onClick(){_setAlertProperty("alertTypeId",null);setAlertTypeModel(null);_setAlertProperty("params",{})}})):null),AlertParamsExpressionComponent?_react.default.createElement(AlertParamsExpressionComponent,{alertParams:alert.params,alertInterval:"".concat(alertInterval!==null&&alertInterval!==void 0?alertInterval:1).concat(alertIntervalUnit),errors:errors,setAlertParams:setAlertParams,setAlertProperty:_setAlertProperty,alertsContext:alertsContext}):null,defaultActionGroupId?_react.default.createElement(_action_form.ActionForm,{actions:alert.actions,setHasActionsDisabled:setHasActionsDisabled,messageVariables:alertTypesIndex&&alertTypesIndex[alert.alertTypeId]?(0,_action_variables.actionVariablesFromAlertType)(alertTypesIndex[alert.alertTypeId]).map((function(av){return av.name})):undefined,defaultActionGroupId:defaultActionGroupId,setActionIdByIndex:function setActionIdByIndex(id,index){return setActionProperty("id",id,index)},setAlertProperty:function setAlertProperty(updatedActions){return _setAlertProperty("actions",updatedActions)},setActionParamsProperty:function setActionParamsProperty(key,value,index){return _setActionParamsProperty(key,value,index)},http:http,actionTypeRegistry:actionTypeRegistry,defaultActionMessage:alertTypeModel===null||alertTypeModel===void 0?void 0:alertTypeModel.defaultActionMessage,toastNotifications:toastNotifications}):null);var labelForAlertChecked=_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.checkFieldLabel",defaultMessage:"Check every"})," ",_react.default.createElement(_eui.EuiIconTip,{position:"right",type:"questionInCircle",content:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.checkWithTooltip",{defaultMessage:"Define how often to evaluate the condition."})}));var labelForAlertRenotify=_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.renotifyFieldLabel",defaultMessage:"Notify every"})," ",_react.default.createElement(_eui.EuiIconTip,{position:"right",type:"questionInCircle",content:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.renotifyWithTooltip",{defaultMessage:"Define how often to repeat the action while the alert is active."})}));return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,id:"alertName",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.alertNameLabel",defaultMessage:"Name"}),isInvalid:errors.name.length>0&&alert.name!==undefined,error:errors.name},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,autoFocus:true,isInvalid:errors.name.length>0&&alert.name!==undefined,compressed:true,name:"name","data-test-subj":"alertNameInput",value:alert.name||"",onChange:function onChange(e){_setAlertProperty("name",e.target.value)},onBlur:function onBlur(){if(!alert.name){_setAlertProperty("name","")}}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionAdd.indexAction.indexTextFieldLabel",{defaultMessage:"Tags (optional)"})},_react.default.createElement(_eui.EuiComboBox,{noSuggestions:true,fullWidth:true,compressed:true,"data-test-subj":"tagsComboBox",selectedOptions:tagsOptions,onCreateOption:function onCreateOption(searchValue){var newOptions=[].concat(_toConsumableArray(tagsOptions),[{label:searchValue}]);_setAlertProperty("tags",newOptions.map((function(newOption){return newOption.label})))},onChange:function onChange(selectedOptions){_setAlertProperty("tags",selectedOptions.map((function(selectedOption){return selectedOption.label})))},onBlur:function onBlur(){if(!alert.tags){_setAlertProperty("tags",[])}}})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGrid,{columns:2},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,compressed:true,label:labelForAlertChecked,isInvalid:errors.interval.length>0,error:errors.interval},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldNumber,{fullWidth:true,min:1,isInvalid:errors.interval.length>0,compressed:true,value:alertInterval||"",name:"interval","data-test-subj":"intervalInput",onChange:function onChange(e){var interval=e.target.value!==""?parseInt(e.target.value,10):undefined;setAlertInterval(interval);setScheduleProperty("interval","".concat(e.target.value).concat(alertIntervalUnit))}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{fullWidth:true,compressed:true,value:alertIntervalUnit,options:(0,_get_time_options.getTimeOptions)(alertInterval!==null&&alertInterval!==void 0?alertInterval:1),onChange:function onChange(e){setAlertIntervalUnit(e.target.value);setScheduleProperty("interval","".concat(alertInterval).concat(e.target.value))}}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:labelForAlertRenotify},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldNumber,{fullWidth:true,min:1,compressed:true,value:alertThrottle||"",name:"throttle","data-test-subj":"throttleInput",onChange:function onChange(e){(0,_pipeable.pipe)((0,_Option.some)(e.target.value.trim()),(0,_Option.filter)((function(value){return value!==""})),(0,_Option.map)((function(value){return parseInt(value,10)})),(0,_Option.filter)((function(value){return!isNaN(value)})),(0,_Option.fold)((function(){setAlertThrottle(null);_setAlertProperty("throttle",null)}),(function(throttle){setAlertThrottle(throttle);_setAlertProperty("throttle","".concat(throttle).concat(alertThrottleUnit))})))}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{compressed:true,value:alertThrottleUnit,options:(0,_get_time_options.getTimeOptions)(alertThrottle!==null&&alertThrottle!==void 0?alertThrottle:1),onChange:function onChange(e){setAlertThrottleUnit(e.target.value);if(alertThrottle){_setAlertProperty("throttle","".concat(alertThrottle).concat(e.target.value))}}})))))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),alertTypeModel?_react.default.createElement(_react.Fragment,null,alertTypeDetails):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h5",{id:"alertTypeTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Select a trigger type",id:"xpack.triggersActionsUI.sections.alertForm.selectAlertTypeTitle"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",wrap:true},alertTypeNodes)))};exports.AlertForm=AlertForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.alertReducer=void 0;var _lodash=__webpack_require__(1);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var alertReducer=function alertReducer(state,action){var command=action.command,payload=action.payload;var alert=state.alert;switch(command.type){case"setAlert":{var key=payload.key,value=payload.value;if(key==="alert"){return _objectSpread({},state,{alert:value})}else{return state}}case"setProperty":{var _key=payload.key,_value=payload.value;if((0,_lodash.isEqual)(alert[_key],_value)){return state}else{return _objectSpread({},state,{alert:_objectSpread({},alert,_defineProperty({},_key,_value))})}}case"setScheduleProperty":{var _key2=payload.key,_value2=payload.value;if((0,_lodash.isEqual)(alert.schedule[_key2],_value2)){return state}else{return _objectSpread({},state,{alert:_objectSpread({},alert,{schedule:_objectSpread({},alert.schedule,_defineProperty({},_key2,_value2))})})}}case"setAlertParams":{var _key3=payload.key,_value3=payload.value;if((0,_lodash.isEqual)(alert.params[_key3],_value3)){return state}else{return _objectSpread({},state,{alert:_objectSpread({},alert,{params:_objectSpread({},alert.params,_defineProperty({},_key3,_value3))})})}}case"setAlertActionParams":{var _key4=payload.key,_value4=payload.value,index=payload.index;if(index===undefined||(0,_lodash.isEqual)(alert.actions[index][_key4],_value4)){return state}else{var oldAction=alert.actions.splice(index,1)[0];var updatedAction=_objectSpread({},oldAction,{params:_objectSpread({},oldAction.params,_defineProperty({},_key4,_value4))});alert.actions.splice(index,0,updatedAction);return _objectSpread({},state,{alert:_objectSpread({},alert,{actions:_toConsumableArray(alert.actions)})})}}case"setAlertActionProperty":{var _key5=payload.key,_value5=payload.value,_index=payload.index;if(_index===undefined||(0,_lodash.isEqual)(alert.actions[_index][_key5],_value5)){return state}else{var _oldAction=alert.actions.splice(_index,1)[0];var _updatedAction=_objectSpread({},_oldAction,_defineProperty({},_key5,_value5));alert.actions.splice(_index,0,_updatedAction);return _objectSpread({},state,{alert:_objectSpread({},alert,{actions:_toConsumableArray(alert.actions)})})}}}};exports.alertReducer=alertReducer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChartTheme=getChartTheme;var _charts=__webpack_require__(694);function getChartTheme(isDarkMode){return isDarkMode?_charts.DARK_THEME:_charts.LIGHT_THEME}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedViewsToolbarControls=SavedViewsToolbarControls;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);var _use_saved_view=__webpack_require__(1634);var _create_modal=__webpack_require__(1638);var _view_list_flyout=__webpack_require__(1639);var _public=__webpack_require__(9);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function SavedViewsToolbarControls(props){var kibana=(0,_public.useKibana)();var _useSavedView=(0,_use_saved_view.useSavedView)(props.defaultViewState,props.viewType),views=_useSavedView.views,saveView=_useSavedView.saveView,loading=_useSavedView.loading,deletedId=_useSavedView.deletedId,deleteView=_useSavedView.deleteView,find=_useSavedView.find,errorOnFind=_useSavedView.errorOnFind,errorOnCreate=_useSavedView.errorOnCreate,createdId=_useSavedView.createdId;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isInvalid=_useState4[0],setIsInvalid=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),createModalOpen=_useState6[0],setCreateModalOpen=_useState6[1];var openSaveModal=(0,_react.useCallback)((function(){setIsInvalid(false);setCreateModalOpen(true)}),[]);var closeModal=(0,_react.useCallback)((function(){return setModalOpen(false)}),[]);var closeCreateModal=(0,_react.useCallback)((function(){return setCreateModalOpen(false)}),[]);var loadViews=(0,_react.useCallback)((function(){find();setModalOpen(true)}),[find]);var save=(0,_react.useCallback)((function(name){var hasTime=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var currentState=_objectSpread({},props.viewState,{},!hasTime?{time:undefined}:{});saveView(_objectSpread({name:name},currentState))}),[props.viewState,saveView]);(0,_react.useEffect)((function(){if(errorOnCreate){setIsInvalid(true)}}),[errorOnCreate]);(0,_react.useEffect)((function(){if(createdId!==undefined){closeCreateModal()}}),[createdId,closeCreateModal]);(0,_react.useEffect)((function(){if(deletedId!==undefined){find()}}),[deletedId,find]);(0,_react.useEffect)((function(){if(errorOnCreate){kibana.notifications.toasts.warning(getErrorToast("create",errorOnCreate))}else if(errorOnFind){kibana.notifications.toasts.warning(getErrorToast("find",errorOnFind))}}),[errorOnCreate,errorOnFind,kibana]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"save",onClick:openSaveModal,"data-test-subj":"openSaveViewModal"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Save",id:"xpack.infra.waffle.savedViews.saveViewLabel"})),_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"importAction",onClick:loadViews,"data-test-subj":"loadViews"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Load",id:"xpack.infra.waffle.savedViews.loadViewsLabel"}))),createModalOpen&&_react.default.createElement(_create_modal.SavedViewCreateModal,{isInvalid:isInvalid,close:closeCreateModal,save:save}),modalOpen&&_react.default.createElement(_view_list_flyout.SavedViewListFlyout,{loading:loading,views:views,deleteView:deleteView,close:closeModal,setView:props.onViewChange}))}var getErrorToast=function getErrorToast(type,msg){if(type==="create"){return{toastLifeTimeMs:3e3,title:msg||_i18n.i18n.translate("xpack.infra.savedView.errorOnCreate.title",{defaultMessage:"An error occured saving view."})}}else if(type==="find"){return{toastLifeTimeMs:3e3,title:msg||_i18n.i18n.translate("xpack.infra.savedView.findError.title",{defaultMessage:"An error occurred while loading views."})}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mapKibanaQuickRangesToDatePickerRanges=void 0;var mapKibanaQuickRangesToDatePickerRanges=function mapKibanaQuickRangesToDatePickerRanges(timepickerQuickRanges){return timepickerQuickRanges?timepickerQuickRanges.map((function(r){return{start:r.from,end:r.to,label:r.display}})):[]};exports.mapKibanaQuickRangesToDatePickerRanges=mapKibanaQuickRangesToDatePickerRanges},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createId=createId;exports.createWaffleMapNode=createWaffleMapNode;exports.nodesToWaffleMap=nodesToWaffleMap;var _i18n=__webpack_require__(0);var _lodash=__webpack_require__(1);var _type_guards=__webpack_require__(859);function createId(path){return path.map((function(p){return p.value})).join("/")}function findOrCreateGroupWithNodes(groups,path){var id=path.length===0?"__all__":createId(path);if(path.length===2){var parentId=(0,_lodash.first)(path).value;var existingParentGroup=groups.find((function(g){return g.id===parentId}));if((0,_type_guards.isWaffleMapGroupWithGroups)(existingParentGroup)){var existingSubGroup=existingParentGroup.groups.find((function(g){return g.id===id}));if((0,_type_guards.isWaffleMapGroupWithNodes)(existingSubGroup)){return existingSubGroup}}}var lastPath=(0,_lodash.last)(path);var existingGroup=groups.find((function(g){return g.id===id}));if((0,_type_guards.isWaffleMapGroupWithNodes)(existingGroup)){return existingGroup}return{id:id,name:id==="__all__"?_i18n.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithNodes.allName",{defaultMessage:"All"}):lastPath&&lastPath.label||"Unknown Group",count:0,width:0,squareSize:0,nodes:[]}}function findOrCreateGroupWithGroups(groups,path){var id=path.length===0?"__all__":createId(path);var lastPath=(0,_lodash.last)(path);var existingGroup=groups.find((function(g){return g.id===id}));if((0,_type_guards.isWaffleMapGroupWithGroups)(existingGroup)){return existingGroup}return{id:id,name:id==="__all__"?_i18n.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithGroups.allName",{defaultMessage:"All"}):lastPath&&lastPath.label||"Unknown Group",count:0,width:0,squareSize:0,groups:[]}}function createWaffleMapNode(node){var nodePathItem=(0,_lodash.last)(node.path);if(!nodePathItem){throw new Error("There must be at least one node path item")}return{pathId:node.path.map((function(p){return p.value})).join("/"),path:node.path,id:nodePathItem.value,ip:nodePathItem.ip,name:nodePathItem.label||nodePathItem.value,metric:node.metric}}function withoutGroup(group){return function(subject){return subject.id!==group.id}}function nodesToWaffleMap(nodes){return nodes.reduce((function(groups,node){var waffleNode=createWaffleMapNode(node);if(node.path.length===2){var parentGroup=findOrCreateGroupWithNodes(groups,node.path.slice(0,node.path.length-1));parentGroup.nodes.push(waffleNode);return groups.filter(withoutGroup(parentGroup)).concat([parentGroup])}if(node.path.length===3){var _parentGroup=findOrCreateGroupWithNodes(groups,node.path.slice(0,node.path.length-1));_parentGroup.nodes.push(waffleNode);var topGroup=findOrCreateGroupWithGroups(groups,node.path.slice(0,node.path.length-2));topGroup.groups=topGroup.groups.filter(withoutGroup(_parentGroup)).concat([_parentGroup]);return groups.filter(withoutGroup(topGroup)).concat([topGroup])}var allGroup=findOrCreateGroupWithNodes(groups,[]);allGroup.nodes.push(waffleNode);return groups.filter(withoutGroup(allGroup)).concat([allGroup])}),[])}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GroupName=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  flex: 0 0 auto;\n  border-left: 1px solid ",";\n  padding: 6px 10px;\n  font-size: 0.85em;\n  font-weight: normal;\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  flex: 1 1 auto;\n  padding: 6px 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: 4px;\n  box-shadow: 0px 2px 0px 0px ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n  text-align: center;\n  font-size: 16px;\n  margin-bottom: 5px;\n  top: 20px;\n  display: flex;\n  justify-content: center;\n  padding: 0 10px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var GroupName=function(_React$PureComponent){_inherits(GroupName,_React$PureComponent);function GroupName(){var _getPrototypeOf2;var _this;_classCallCheck(this,GroupName);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(GroupName)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"handleClick",(function(event){event.preventDefault();var groupBy=_this.props.options.groupBy;if(groupBy.length===0){return}var currentPath=_this.props.isChild&&groupBy.length>1?groupBy[1]:groupBy[0];_this.props.onDrilldown("".concat(currentPath.field,': "').concat(_this.props.group.name,'"'))}));return _this}_createClass(GroupName,[{key:"render",value:function render(){var _this$props=this.props,group=_this$props.group,isChild=_this$props.isChild;var linkStyle={fontSize:isChild?"0.85em":"1em"};return _react.default.createElement(GroupNameContainer,null,_react.default.createElement(Inner,{isChild:isChild},_react.default.createElement(Name,null,_react.default.createElement(_eui.EuiToolTip,{position:"top",content:group.name},_react.default.createElement(_eui.EuiLink,{style:linkStyle,onClickCapture:this.handleClick},group.name))),_react.default.createElement(Count,null,group.count)))}}]);return GroupName}(_react.default.PureComponent);exports.GroupName=GroupName;var GroupNameContainer=_public.euiStyled.div(_templateObject());var Inner=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.euiBorderColor}),(function(props){return props.isChild?props.theme.eui.euiColorLightestShade:props.theme.eui.euiColorEmptyShade}),(function(props){return props.theme.eui.euiBorderColor}));var Name=_public.euiStyled.div(_templateObject3());var Count=_public.euiStyled.div(_templateObject4(),(function(props){return props.theme.eui.euiBorderColor}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GroupOfNodes=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _group_name=__webpack_require__(988);var _node=__webpack_require__(1650);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  margin: 0 10px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var GroupOfNodes=function GroupOfNodes(_ref){var group=_ref.group,options=_ref.options,formatter=_ref.formatter,onDrilldown=_ref.onDrilldown,_ref$isChild=_ref.isChild,isChild=_ref$isChild===void 0?false:_ref$isChild,bounds=_ref.bounds,nodeType=_ref.nodeType,currentTime=_ref.currentTime;var width=group.width>200?group.width:200;return _react.default.createElement(GroupOfNodesContainer,{style:{width:width}},_react.default.createElement(_group_name.GroupName,{group:group,onDrilldown:onDrilldown,isChild:isChild,options:options}),_react.default.createElement(Nodes,null,group.nodes.map((function(node){return _react.default.createElement(_node.Node,{key:node.pathId,options:options,squareSize:group.squareSize,node:node,formatter:formatter,bounds:bounds,nodeType:nodeType,currentTime:currentTime})}))))};exports.GroupOfNodes=GroupOfNodes;var GroupOfNodesContainer=_public.euiStyled.div(_templateObject());var Nodes=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.euiBorderColor}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isInfraWaffleMapStepLegend=isInfraWaffleMapStepLegend;exports.isInfraWaffleMapGradientLegend=isInfraWaffleMapGradientLegend;var _lib=__webpack_require__(66);function isInfraWaffleMapStepLegend(subject){return subject.type&&subject.type===_lib.InfraWaffleMapLegendMode.step}function isInfraWaffleMapGradientLegend(subject){return subject.type&&subject.type===_lib.InfraWaffleMapLegendMode.gradient}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeContextMenu=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _link_to=__webpack_require__(830);var _create_uptime_link=__webpack_require__(1653);var _inventory_models=__webpack_require__(754);var _public=__webpack_require__(9);var _public2=__webpack_require__(64);var _use_link_props=__webpack_require__(710);var _alert_flyout=__webpack_require__(850);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NodeContextMenu=function NodeContextMenu(_ref){var _useKibana$services$a,_uiCapabilities$logs;var options=_ref.options,currentTime=_ref.currentTime,children=_ref.children,node=_ref.node,isPopoverOpen=_ref.isPopoverOpen,closePopover=_ref.closePopover,nodeType=_ref.nodeType,popoverPosition=_ref.popoverPosition;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),flyoutVisible=_useState2[0],setFlyoutVisible=_useState2[1];var inventoryModel=(0,_inventory_models.findInventoryModel)(nodeType);var nodeDetailFrom=currentTime-inventoryModel.metrics.defaultTimeRangeInSeconds*1e3;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;var apmField=nodeType==="host"?"host.hostname":inventoryModel.fields.id;var showDetail=inventoryModel.crosslinkSupport.details;var showLogsLink=inventoryModel.crosslinkSupport.logs&&node.id&&(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$logs=uiCapabilities.logs)===null||_uiCapabilities$logs===void 0?void 0:_uiCapabilities$logs.show);var showAPMTraceLink=inventoryModel.crosslinkSupport.apm&&(uiCapabilities===null||uiCapabilities===void 0?void 0:uiCapabilities.apm)&&(uiCapabilities===null||uiCapabilities===void 0?void 0:uiCapabilities.apm.show);var showUptimeLink=inventoryModel.crosslinkSupport.uptime&&(["pod","container"].includes(nodeType)||node.ip);var inventoryId=(0,_react2.useMemo)((function(){if(nodeType==="host"){if(node.ip){return{label:_react2.default.createElement(_eui.EuiCode,null,"host.ip"),value:node.ip}}}else{if(options.fields){var _findInventoryFields=(0,_inventory_models.findInventoryFields)(nodeType,options.fields),id=_findInventoryFields.id;return{label:_react2.default.createElement(_eui.EuiCode,null,id),value:node.id}}}return{label:"",value:""}}),[nodeType,node.ip,node.id,options.fields]);var nodeLogsMenuItemLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({app:"logs"},(0,_link_to.getNodeLogsUrl)({nodeType:nodeType,nodeId:node.id,time:currentTime})));var nodeDetailMenuItemLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({},(0,_link_to.getNodeDetailUrl)({nodeType:nodeType,nodeId:node.id,from:nodeDetailFrom,to:currentTime})));var apmTracesMenuItemLinkProps=(0,_use_link_props.useLinkProps)({app:"apm",hash:"traces",search:{kuery:"".concat(apmField,':"').concat(node.id,'"')}});var uptimeMenuItemLinkProps=(0,_use_link_props.useLinkProps)((0,_create_uptime_link.createUptimeLink)(options,nodeType,node));var nodeLogsMenuItem=_objectSpread({label:_i18n.i18n.translate("xpack.infra.nodeContextMenu.viewLogsName",{defaultMessage:"{inventoryName} logs",values:{inventoryName:inventoryModel.singularDisplayName}})},nodeLogsMenuItemLinkProps,{"data-test-subj":"viewLogsContextMenuItem",isDisabled:!showLogsLink});var nodeDetailMenuItem=_objectSpread({label:_i18n.i18n.translate("xpack.infra.nodeContextMenu.viewMetricsName",{defaultMessage:"{inventoryName} metrics",values:{inventoryName:inventoryModel.singularDisplayName}})},nodeDetailMenuItemLinkProps,{isDisabled:!showDetail});var apmTracesMenuItem=_objectSpread({label:_i18n.i18n.translate("xpack.infra.nodeContextMenu.viewAPMTraces",{defaultMessage:"{inventoryName} APM traces",values:{inventoryName:inventoryModel.singularDisplayName}})},apmTracesMenuItemLinkProps,{"data-test-subj":"viewApmTracesContextMenuItem",isDisabled:!showAPMTraceLink});var uptimeMenuItem=_objectSpread({label:_i18n.i18n.translate("xpack.infra.nodeContextMenu.viewUptimeLink",{defaultMessage:"{inventoryName} in Uptime",values:{inventoryName:inventoryModel.singularDisplayName}})},uptimeMenuItemLinkProps,{isDisabled:!showUptimeLink});return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_public2.ActionMenu,{closePopover:closePopover,id:"".concat(node.pathId,"-popover"),isOpen:isPopoverOpen,button:children,anchorPosition:popoverPosition},_react2.default.createElement("div",{style:{maxWidth:300},"data-test-subj":"nodeContextMenu"},_react2.default.createElement(_public2.Section,null,_react2.default.createElement(_public2.SectionTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.nodeContextMenu.title",defaultMessage:"{inventoryName} details",values:{inventoryName:inventoryModel.singularDisplayName}})),inventoryId.label&&_react2.default.createElement(_public2.SectionSubtitle,null,_react2.default.createElement("div",{style:{wordBreak:"break-all"}},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.nodeContextMenu.description",defaultMessage:"View details for {label} {value}",values:{label:inventoryId.label,value:inventoryId.value}}))),_react2.default.createElement(_public2.SectionLinks,null,_react2.default.createElement(_public2.SectionLink,_extends({"data-test-subj":"viewLogsContextMenuItem"},nodeLogsMenuItem)),_react2.default.createElement(_public2.SectionLink,nodeDetailMenuItem),_react2.default.createElement(_public2.SectionLink,_extends({"data-test-subj":"viewApmTracesContextMenuItem"},apmTracesMenuItem)),_react2.default.createElement(_public2.SectionLink,uptimeMenuItem))))),_react2.default.createElement(_alert_flyout.AlertFlyout,{options:{filterQuery:"".concat(nodeType,": ").concat(node.id)},setVisible:setFlyoutVisible,visible:flyoutVisible}))};exports.NodeContextMenu=NodeContextMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldToName=void 0;var _i18n=__webpack_require__(0);var availabilityZoneName=_i18n.i18n.translate("xpack.infra.groupByDisplayNames.availabilityZone",{defaultMessage:"Availability zone"});var machineTypeName=_i18n.i18n.translate("xpack.infra.groupByDisplayNames.machineType",{defaultMessage:"Machine type"});var fieldToName=function fieldToName(field){var LOOKUP={"kubernetes.namespace":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.kubernetesNamespace",{defaultMessage:"Namespace"}),"kubernetes.node.name":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.kubernetesNodeName",{defaultMessage:"Node"}),"host.name":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.hostName",{defaultMessage:"Host"}),"cloud.availability_zone":availabilityZoneName,"cloud.machine.type":machineTypeName,"cloud.project.id":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.projectID",{defaultMessage:"Project ID"}),"cloud.provider":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.provider",{defaultMessage:"Cloud provider"}),"service.type":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.serviceType",{defaultMessage:"Service type"}),"aws.cloud.availability_zone":availabilityZoneName,"aws.cloud.machine.type":machineTypeName,"aws.tags":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.tags",{defaultMessage:"Tags"}),"aws.ec2.instance.image.id":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.image",{defaultMessage:"Image"}),"aws.ec2.instance.state.name":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.state.name",{defaultMessage:"State"}),"cloud.region":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.cloud.region",{defaultMessage:"Region"}),"aws.rds.db_instance.class":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.rds.db_instance.class",{defaultMessage:"Instance Class"}),"aws.rds.db_instance.status":_i18n.i18n.translate("xpack.infra.groupByDisplayNames.rds.db_instance.status",{defaultMessage:"Status"})};return LOOKUP[field]||field};exports.fieldToName=fieldToName},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toMetricOpt=exports.toGroupByOpt=exports.ToolbarWrapper=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _with_source=__webpack_require__(793);var _with_waffle_options=__webpack_require__(763);var _toolbar=__webpack_require__(792);var _field_to_display_name=__webpack_require__(992);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ToolbarWrapper=function ToolbarWrapper(props){return _react.default.createElement(_toolbar.Toolbar,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_with_source.WithSource,null,(function(_ref){var createDerivedIndexPattern=_ref.createDerivedIndexPattern;return _react.default.createElement(_with_waffle_options.WithWaffleOptions,null,(function(_ref2){var changeMetric=_ref2.changeMetric,changeGroupBy=_ref2.changeGroupBy,changeCustomOptions=_ref2.changeCustomOptions,changeAccount=_ref2.changeAccount,changeRegion=_ref2.changeRegion,customOptions=_ref2.customOptions,groupBy=_ref2.groupBy,metric=_ref2.metric,nodeType=_ref2.nodeType,accountId=_ref2.accountId,region=_ref2.region,customMetrics=_ref2.customMetrics,changeCustomMetrics=_ref2.changeCustomMetrics;return props.children({createDerivedIndexPattern:createDerivedIndexPattern,changeMetric:changeMetric,changeGroupBy:changeGroupBy,changeAccount:changeAccount,changeRegion:changeRegion,changeCustomOptions:changeCustomOptions,customOptions:customOptions,groupBy:groupBy,metric:metric,nodeType:nodeType,region:region,accountId:accountId,customMetrics:customMetrics,changeCustomMetrics:changeCustomMetrics})}))}))))};exports.ToolbarWrapper=ToolbarWrapper;var ToolbarTranslations={CPUUsage:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.cpuUsageText",{defaultMessage:"CPU usage"}),MemoryUsage:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.memoryUsageText",{defaultMessage:"Memory usage"}),InboundTraffic:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.inboundTrafficText",{defaultMessage:"Inbound traffic"}),OutboundTraffic:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.outboundTrafficText",{defaultMessage:"Outbound traffic"}),LogRate:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.hostLogRateText",{defaultMessage:"Log rate"}),Load:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.loadText",{defaultMessage:"Load"}),Count:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.countText",{defaultMessage:"Count"}),DiskIOReadBytes:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.diskIOReadBytes",{defaultMessage:"Disk Reads"}),DiskIOWriteBytes:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.diskIOWriteBytes",{defaultMessage:"Disk Writes"}),s3BucketSize:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.s3BucketSize",{defaultMessage:"Bucket Size"}),s3TotalRequests:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.s3TotalRequests",{defaultMessage:"Total Requests"}),s3NumberOfObjects:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.s3NumberOfObjects",{defaultMessage:"Number of Objects"}),s3DownloadBytes:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.s3DownloadBytes",{defaultMessage:"Downloads (Bytes)"}),s3UploadBytes:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.s3UploadBytes",{defaultMessage:"Uploads (Bytes)"}),rdsConnections:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.rdsConnections",{defaultMessage:"Connections"}),rdsQueriesExecuted:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.rdsQueriesExecuted",{defaultMessage:"Queries Executed"}),rdsActiveTransactions:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.rdsActiveTransactions",{defaultMessage:"Active Transactions"}),rdsLatency:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.rdsLatency",{defaultMessage:"Latency"}),sqsMessagesVisible:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.sqsMessagesVisible",{defaultMessage:"Messages Available"}),sqsMessagesDelayed:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.sqsMessagesDelayed",{defaultMessage:"Messages Delayed"}),sqsMessagesSent:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.sqsMessagesSent",{defaultMessage:"Messages Added"}),sqsMessagesEmpty:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.sqsMessagesEmpty",{defaultMessage:"Messages Returned Empty"}),sqsOldestMessage:_i18n.i18n.translate("xpack.infra.waffle.metricOptions.sqsOldestMessage",{defaultMessage:"Oldest Message"})};var toGroupByOpt=function toGroupByOpt(field){return{text:(0,_field_to_display_name.fieldToName)(field),field:field}};exports.toGroupByOpt=toGroupByOpt;var toMetricOpt=function toMetricOpt(metric){switch(metric){case"cpu":return{text:ToolbarTranslations.CPUUsage,value:"cpu"};case"memory":return{text:ToolbarTranslations.MemoryUsage,value:"memory"};case"rx":return{text:ToolbarTranslations.InboundTraffic,value:"rx"};case"tx":return{text:ToolbarTranslations.OutboundTraffic,value:"tx"};case"logRate":return{text:ToolbarTranslations.LogRate,value:"logRate"};case"load":return{text:ToolbarTranslations.Load,value:"load"};case"count":return{text:ToolbarTranslations.Count,value:"count"};case"diskIOReadBytes":return{text:ToolbarTranslations.DiskIOReadBytes,value:"diskIOReadBytes"};case"diskIOWriteBytes":return{text:ToolbarTranslations.DiskIOWriteBytes,value:"diskIOWriteBytes"};case"s3BucketSize":return{text:ToolbarTranslations.s3BucketSize,value:"s3BucketSize"};case"s3TotalRequests":return{text:ToolbarTranslations.s3TotalRequests,value:"s3TotalRequests"};case"s3NumberOfObjects":return{text:ToolbarTranslations.s3NumberOfObjects,value:"s3NumberOfObjects"};case"s3DownloadBytes":return{text:ToolbarTranslations.s3DownloadBytes,value:"s3DownloadBytes"};case"s3UploadBytes":return{text:ToolbarTranslations.s3UploadBytes,value:"s3UploadBytes"};case"rdsConnections":return{text:ToolbarTranslations.rdsConnections,value:"rdsConnections"};case"rdsQueriesExecuted":return{text:ToolbarTranslations.rdsQueriesExecuted,value:"rdsQueriesExecuted"};case"rdsActiveTransactions":return{text:ToolbarTranslations.rdsActiveTransactions,value:"rdsActiveTransactions"};case"rdsLatency":return{text:ToolbarTranslations.rdsLatency,value:"rdsLatency"};case"sqsMessagesVisible":return{text:ToolbarTranslations.sqsMessagesVisible,value:"sqsMessagesVisible"};case"sqsMessagesDelayed":return{text:ToolbarTranslations.sqsMessagesDelayed,value:"sqsMessagesDelayed"};case"sqsMessagesSent":return{text:ToolbarTranslations.sqsMessagesSent,value:"sqsMessagesSent"};case"sqsMessagesEmpty":return{text:ToolbarTranslations.sqsMessagesEmpty,value:"sqsMessagesEmpty"};case"sqsOldestMessage":return{text:ToolbarTranslations.sqsOldestMessage,value:"sqsOldestMessage"}}};exports.toMetricOpt=toMetricOpt},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SideNavContext=void 0;var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SideNavContext=_react.default.createContext({items:[],addNavItem:function addNavItem(item){}});exports.SideNavContext=SideNavContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChartType=exports.getChartColor=exports.getChartName=exports.getMaxMinTimestamp=exports.seriesHasLessThen2DataPoints=exports.getFormatter=void 0;var _color=_interopRequireDefault(__webpack_require__(1704));var _lodash=__webpack_require__(1);var _formatters=__webpack_require__(222);var _types=__webpack_require__(727);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getFormatter=function getFormatter(){var formatter=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"number";var template=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"{{value}}";return function(val){return val!=null?(0,_formatters.createFormatter)(formatter,template)(val):""}};exports.getFormatter=getFormatter;var seriesHasLessThen2DataPoints=function seriesHasLessThen2DataPoints(series){return series.data.length<2};exports.seriesHasLessThen2DataPoints=seriesHasLessThen2DataPoints;var getMaxMinTimestamp=function getMaxMinTimestamp(metric){if(metric.series.some(seriesHasLessThen2DataPoints)){return[0,0]}var values=metric.series.reduce((function(acc,item){var firstRow=(0,_lodash.first)(item.data);var lastRow=(0,_lodash.last)(item.data);return acc.concat([firstRow&&firstRow.timestamp||0,lastRow&&lastRow.timestamp||0])}),[]);return[(0,_lodash.min)(values),(0,_lodash.max)(values)]};exports.getMaxMinTimestamp=getMaxMinTimestamp;var getChartName=function getChartName(seriesOverrides,seriesId,label){if(!seriesOverrides){return label}return(0,_lodash.get)(seriesOverrides,[seriesId,"name"],label)};exports.getChartName=getChartName;var getChartColor=function getChartColor(seriesOverrides,seriesId){var rawColor=seriesOverrides?(0,_lodash.get)(seriesOverrides,[seriesId,"color"]):null;if(!rawColor){return null}var color=new _color.default(rawColor);return color.hex().toString()};exports.getChartColor=getChartColor;var getChartType=function getChartType(seriesOverrides,type,seriesId){if(!seriesOverrides||!type){return"line"}var overrideValue=(0,_lodash.get)(seriesOverrides,[seriesId,"type"]);if(_types.InventoryVisTypeRT.is(overrideValue)){return overrideValue}if(_types.InventoryVisTypeRT.is(type)){return type}return"line"};exports.getChartType=getChartType},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_section.Section,{navLabel:"Nginx",sectionLabel:"Nginx",metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"nginxHits",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.hitsSection.sectionLabel",{defaultMessage:"Hits"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{"200s":{color:theme.eui.euiColorVis1},"300s":{color:theme.eui.euiColorVis5},"400s":{color:theme.eui.euiColorVis2},"500s":{color:theme.eui.euiColorVis9}}})),_react.default.createElement(_sub_section.SubSection,{id:"nginxRequestRate",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestRateSection.sectionLabel",{defaultMessage:"Request Rate"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"abbreviatedNumber",formatterTemplate:"{{value}}/s",seriesOverrides:{rate:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"nginxActiveConnections",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.activeConnectionsSection.sectionLabel",{defaultMessage:"Active Connections"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"abbreviatedNumber",seriesOverrides:{connections:{color:theme.eui.euiColorVis1,type:"bar"}}})),_react.default.createElement(_sub_section.SubSection,{id:"nginxRequestsPerConnection",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.sectionLabel",{defaultMessage:"Requests per Connections"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{reqPerConns:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.reqsPerConnSeriesLabel",{defaultMessage:"reqs per conn"})}}}))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetadataContext=void 0;var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetadataContext=_react.default.createContext(null);exports.MetadataContext=MetadataContext},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsRouter=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _=__webpack_require__(899);var _link_to=__webpack_require__(830);var _logs=__webpack_require__(1339);var _redirect_with_query_params=__webpack_require__(841);var _public=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogsRouter=function LogsRouter(_ref){var _useKibana$services$a,_uiCapabilities$logs,_uiCapabilities$logs2;var history=_ref.history;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;return _react.default.createElement(_reactRouterDom.Router,{history:history},_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/link-to",component:_link_to.LinkToPage}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$logs=uiCapabilities.logs)===null||_uiCapabilities$logs===void 0?void 0:_uiCapabilities$logs.show)&&_react.default.createElement(_redirect_with_query_params.RedirectWithQueryParams,{from:"/",exact:true,to:"/stream"}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$logs2=uiCapabilities.logs)===null||_uiCapabilities$logs2===void 0?void 0:_uiCapabilities$logs2.show)&&_react.default.createElement(_reactRouterDom.Route,{path:"/",component:_logs.LogsPage}),_react.default.createElement(_reactRouterDom.Route,{component:_.NotFoundPage})))};exports.LogsRouter=LogsRouter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinkToPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _redirect_to_logs=__webpack_require__(1118);var _redirect_to_node_detail=__webpack_require__(836);var _redirect_to_node_logs=__webpack_require__(918);var _redirect_to_host_detail_via_ip=__webpack_require__(1336);var _inventory_models=__webpack_require__(754);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ITEM_TYPES=_inventory_models.inventoryModels.map((function(m){return m.id})).join("|");var LinkToPage=function LinkToPage(props){return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"".concat(props.match.url,"/:sourceId?/:nodeType(").concat(ITEM_TYPES,")-logs/:nodeId"),component:_redirect_to_node_logs.RedirectToNodeLogs}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(props.match.url,"/:nodeType(").concat(ITEM_TYPES,")-detail/:nodeId"),component:_redirect_to_node_detail.RedirectToNodeDetail}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(props.match.url,"/host-detail-via-ip/:hostIp"),component:_redirect_to_host_detail_via_ip.RedirectToHostDetailViaIP}),_react.default.createElement(_reactRouterDom.Route,{path:"".concat(props.match.url,"/:sourceId?/logs"),component:_redirect_to_logs.RedirectToLogs}),_react.default.createElement(_reactRouterDom.Redirect,{to:"/infrastructure"}))};exports.LinkToPage=LinkToPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RedirectToLogs=void 0;var _lodash=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _log_filter=__webpack_require__(735);var _log_position=__webpack_require__(719);var _source_id=__webpack_require__(834);var _query_params=__webpack_require__(775);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToLogs=function RedirectToLogs(_ref){var location=_ref.location,match=_ref.match;var sourceId=match.params.sourceId||"default";var filter=(0,_query_params.getFilterFromLocation)(location);var searchString=(0,_lodash.compose)((0,_log_filter.replaceLogFilterInQueryString)(filter),(0,_log_position.replaceLogPositionInQueryString)((0,_query_params.getTimeFromLocation)(location)),(0,_source_id.replaceSourceIdInQueryString)(sourceId))("");return _react.default.createElement(_reactRouterDom.Redirect,{to:"/stream?".concat(searchString)})};exports.RedirectToLogs=RedirectToLogs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceLogFilterInQueryString=exports.WithLogFilterUrlState=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _log_filter_state=__webpack_require__(900);var _url_state=__webpack_require__(711);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var WithLogFilterUrlState=function WithLogFilterUrlState(){var _useContext=(0,_react.useContext)(_log_filter_state.LogFilterState.Context),filterQueryAsKuery=_useContext.filterQueryAsKuery,applyLogFilterQuery=_useContext.applyLogFilterQuery;return _react.default.createElement(_url_state.UrlStateContainer,{urlState:filterQueryAsKuery,urlStateKey:"logFilter",mapToUrlState:mapToFilterQuery,onChange:function onChange(urlState){if(urlState){applyLogFilterQuery(urlState.expression)}},onInitialize:function onInitialize(urlState){if(urlState){applyLogFilterQuery(urlState.expression)}}})};exports.WithLogFilterUrlState=WithLogFilterUrlState;var mapToFilterQuery=function mapToFilterQuery(value){return(value===null||value===void 0?void 0:value.kind)==="kuery"&&typeof value.expression==="string"?{kind:value.kind,expression:value.expression}:undefined};var replaceLogFilterInQueryString=function replaceLogFilterInQueryString(expression){return(0,_url_state.replaceStateKeyInQueryString)("logFilter",{kind:"kuery",expression:expression})};exports.replaceLogFilterInQueryString=replaceLogFilterInQueryString},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceLogPositionInQueryString=exports.WithLogPositionUrlState=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _time=__webpack_require__(774);var _url_state=__webpack_require__(711);var _log_position_state=__webpack_require__(901);var _datemath=__webpack_require__(833);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ONE_HOUR=36e5;var WithLogPositionUrlState=function WithLogPositionUrlState(){var _useContext=(0,_react.useContext)(_log_position_state.LogPositionState.Context),visibleMidpoint=_useContext.visibleMidpoint,isStreaming=_useContext.isStreaming,jumpToTargetPosition=_useContext.jumpToTargetPosition,startLiveStreaming=_useContext.startLiveStreaming,stopLiveStreaming=_useContext.stopLiveStreaming,startDateExpression=_useContext.startDateExpression,endDateExpression=_useContext.endDateExpression,updateDateRange=_useContext.updateDateRange,initialize=_useContext.initialize;var urlState=(0,_react.useMemo)((function(){return{position:visibleMidpoint?(0,_time.pickTimeKey)(visibleMidpoint):null,streamLive:isStreaming,start:startDateExpression,end:endDateExpression}}),[visibleMidpoint,isStreaming,startDateExpression,endDateExpression]);return _react.default.createElement(_url_state.UrlStateContainer,{urlState:urlState,urlStateKey:"logPosition",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(!newUrlState){return}if(newUrlState.start||newUrlState.end){updateDateRange({startDateExpression:newUrlState.start,endDateExpression:newUrlState.end})}if(newUrlState.position){jumpToTargetPosition(newUrlState.position)}if(newUrlState.streamLive){startLiveStreaming()}else if(typeof newUrlState.streamLive!=="undefined"&&!newUrlState.streamLive){stopLiveStreaming()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState){var initialPosition=initialUrlState.position;var initialStartDateExpression=initialUrlState.start;var initialEndDateExpression=initialUrlState.end;if(!initialPosition){initialStartDateExpression=initialStartDateExpression||"now-1d";initialEndDateExpression=initialEndDateExpression||"now"}else{var initialStartTimestamp=initialStartDateExpression?(0,_datemath.datemathToEpochMillis)(initialStartDateExpression):undefined;var initialEndTimestamp=initialEndDateExpression?(0,_datemath.datemathToEpochMillis)(initialEndDateExpression,"up"):undefined;if(!initialStartTimestamp||initialStartTimestamp>initialPosition.time){initialStartDateExpression=new Date(initialPosition.time-ONE_HOUR).toISOString()}if(!initialEndTimestamp||initialEndTimestamp<initialPosition.time){initialEndDateExpression=new Date(initialPosition.time+ONE_HOUR).toISOString()}jumpToTargetPosition(initialPosition)}if(initialStartDateExpression||initialEndDateExpression){updateDateRange({startDateExpression:initialStartDateExpression,endDateExpression:initialEndDateExpression})}if(initialUrlState.streamLive){startLiveStreaming()}}initialize()}})};exports.WithLogPositionUrlState=WithLogPositionUrlState;var mapToUrlState=function mapToUrlState(value){return value?{position:mapToPositionUrlState(value.position),streamLive:mapToStreamLiveUrlState(value.streamLive),start:mapToDate(value.start),end:mapToDate(value.end)}:undefined};var mapToPositionUrlState=function mapToPositionUrlState(value){return value&&typeof value.time==="number"&&typeof value.tiebreaker==="number"?(0,_time.pickTimeKey)(value):undefined};var mapToStreamLiveUrlState=function mapToStreamLiveUrlState(value){return typeof value==="boolean"?value:false};var mapToDate=function mapToDate(value){return(0,_datemath.isValidDatemath)(value)?value:undefined};var replaceLogPositionInQueryString=function replaceLogPositionInQueryString(time){return Number.isNaN(time)?function(value){return value}:(0,_url_state.replaceStateKeyInQueryString)("logPosition",{position:{time:time,tiebreaker:0},streamLive:false})};exports.replaceLogPositionInQueryString=replaceLogPositionInQueryString},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}Object.defineProperty(exports,"__esModule",{value:true});exports.decomposeIntoUnits=exports.getLabelOfScale=exports.getMillisOfScale=void 0;var _time_unit=__webpack_require__(917);var getMillisOfScale=function getMillisOfScale(scale){return scale.unit*scale.value};exports.getMillisOfScale=getMillisOfScale;var getLabelOfScale=function getLabelOfScale(scale){return"".concat(scale.value).concat(_time_unit.timeUnitLabels[scale.unit])};exports.getLabelOfScale=getLabelOfScale;var decomposeIntoUnits=function decomposeIntoUnits(time,units){return units.reduce((function(result,unitMillis){var offset=result.reduce((function(accumulatedOffset,timeScale){return accumulatedOffset+getMillisOfScale(timeScale)}),0);var value=Math.floor((time-offset)/unitMillis);if(value>0){return[].concat(_toConsumableArray(result),[{unit:unitMillis,value:value}])}else{return result}}),[])};exports.decomposeIntoUnits=decomposeIntoUnits},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.compareTimeKeys=compareTimeKeys;exports.getNextTimeKey=exports.getPreviousTimeKey=exports.timeKeyIsBetween=exports.getIndexAtTimeKey=exports.compareToTimeKey=exports.pickTimeKey=exports.isTimeKey=void 0;var _d3Array=__webpack_require__(752);var _lodash=__webpack_require__(1);var isTimeKey=function isTimeKey(value){return value&&_typeof(value)==="object"&&typeof value.time==="number"&&typeof value.tiebreaker==="number"};exports.isTimeKey=isTimeKey;var pickTimeKey=function pickTimeKey(value){return(0,_lodash.pick)(value,["time","tiebreaker"])};exports.pickTimeKey=pickTimeKey;function compareTimeKeys(firstKey,secondKey){var compareValues=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_d3Array.ascending;var timeComparison=compareValues(firstKey.time,secondKey.time);if(timeComparison===0){var tiebreakerComparison=compareValues(firstKey.tiebreaker,secondKey.tiebreaker);if(tiebreakerComparison===0&&typeof firstKey.gid!=="undefined"&&typeof secondKey.gid!=="undefined"){return compareValues(firstKey.gid,secondKey.gid)}return tiebreakerComparison}return timeComparison}var compareToTimeKey=function compareToTimeKey(keyAccessor,compareValues){return function(value,key){return compareTimeKeys(keyAccessor(value),key,compareValues)}};exports.compareToTimeKey=compareToTimeKey;var getIndexAtTimeKey=function getIndexAtTimeKey(keyAccessor,compareValues){var comparator=compareToTimeKey(keyAccessor,compareValues);var collectionBisector=(0,_d3Array.bisector)(comparator);return function(collection,key){var index=collectionBisector.left(collection,key);if(index>=collection.length){return null}if(comparator(collection[index],key)!==0){return null}return index}};exports.getIndexAtTimeKey=getIndexAtTimeKey;var timeKeyIsBetween=function timeKeyIsBetween(min,max,operand){return compareTimeKeys(min,operand)<=0&&compareTimeKeys(max,operand)>=0};exports.timeKeyIsBetween=timeKeyIsBetween;var getPreviousTimeKey=function getPreviousTimeKey(timeKey){return _objectSpread({},timeKey,{time:timeKey.time,tiebreaker:timeKey.tiebreaker-1})};exports.getPreviousTimeKey=getPreviousTimeKey;var getNextTimeKey=function getNextTimeKey(timeKey){return _objectSpread({},timeKey,{time:timeKey.time,tiebreaker:timeKey.tiebreaker+1})};exports.getNextTimeKey=getNextTimeKey},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceSourceIdInQueryString=exports.useSourceId=void 0;var runtimeTypes=_interopRequireWildcard(__webpack_require__(39));var _pipeable=__webpack_require__(48);var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _use_url_state=__webpack_require__(835);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SOURCE_ID_URL_STATE_KEY="sourceId";var useSourceId=function useSourceId(){return(0,_use_url_state.useUrlState)({defaultState:"default",decodeUrlState:decodeSourceIdUrlState,encodeUrlState:encodeSourceIdUrlState,urlStateKey:SOURCE_ID_URL_STATE_KEY})};exports.useSourceId=useSourceId;var replaceSourceIdInQueryString=function replaceSourceIdInQueryString(sourceId){return(0,_use_url_state.replaceStateKeyInQueryString)(SOURCE_ID_URL_STATE_KEY,sourceId)};exports.replaceSourceIdInQueryString=replaceSourceIdInQueryString;var sourceIdRuntimeType=runtimeTypes.union([runtimeTypes.string,runtimeTypes.undefined]);var encodeSourceIdUrlState=sourceIdRuntimeType.encode;var decodeSourceIdUrlState=function decodeSourceIdUrlState(value){return(0,_pipeable.pipe)(sourceIdRuntimeType.decode(value),(0,_Either.fold)((0,_function.constant)(undefined),_function.identity))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSourceMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));var _shared=__webpack_require__(839);var _source_fields_fragment=__webpack_require__(840);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  mutation CreateSourceConfigurationMutation(\n    $sourceId: ID!\n    $sourceProperties: UpdateSourceInput!\n  ) {\n    createSource(id: $sourceId, sourceProperties: $sourceProperties) {\n      source {\n        ...InfraSourceFields\n        configuration {\n          ...SourceConfigurationFields\n        }\n        status {\n          ...SourceStatusFields\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var createSourceMutation=(0,_graphqlTag.default)(_templateObject(),_shared.sharedFragments.InfraSourceFields,_source_fields_fragment.sourceConfigurationFieldsFragment,_source_fields_fragment.sourceStatusFieldsFragment);exports.createSourceMutation=createSourceMutation},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _templateObject4(){var data=_taggedTemplateLiteral(["\n    fragment InfraLogEntryHighlightFields on InfraLogEntry {\n      gid\n      key {\n        time\n        tiebreaker\n      }\n      columns {\n        ... on InfraLogEntryMessageColumn {\n          columnId\n          message {\n            ... on InfraLogMessageFieldSegment {\n              field\n              highlights\n            }\n          }\n        }\n        ... on InfraLogEntryFieldColumn {\n          columnId\n          field\n          highlights\n        }\n      }\n    }\n  "]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n    fragment InfraLogEntryFields on InfraLogEntry {\n      gid\n      key {\n        time\n        tiebreaker\n      }\n      columns {\n        ... on InfraLogEntryTimestampColumn {\n          columnId\n          timestamp\n        }\n        ... on InfraLogEntryMessageColumn {\n          columnId\n          message {\n            ... on InfraLogMessageFieldSegment {\n              field\n              value\n            }\n            ... on InfraLogMessageConstantSegment {\n              constant\n            }\n          }\n        }\n        ... on InfraLogEntryFieldColumn {\n          columnId\n          field\n          value\n        }\n      }\n    }\n  "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n    fragment InfraSourceFields on InfraSource {\n      id\n      version\n      updatedAt\n      origin\n    }\n  "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n    fragment InfraTimeKeyFields on InfraTimeKey {\n      time\n      tiebreaker\n    }\n  "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});exports.sharedFragments=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sharedFragments={InfraTimeKey:(0,_graphqlTag.default)(_templateObject()),InfraSourceFields:(0,_graphqlTag.default)(_templateObject2()),InfraLogEntryFields:(0,_graphqlTag.default)(_templateObject3()),InfraLogEntryHighlightFields:(0,_graphqlTag.default)(_templateObject4())};exports.sharedFragments=sharedFragments},function(module,exports,__webpack_require__){"use strict";function _templateObject(){var data=_taggedTemplateLiteral(['\n  "A representation of the log entry\'s position in the event stream"\n  type InfraTimeKey {\n    "The timestamp of the event that the log entry corresponds to"\n    time: Float!\n    "The tiebreaker that disambiguates events with the same timestamp"\n    tiebreaker: Float!\n  }\n\n  input InfraTimeKeyInput {\n    time: Float!\n    tiebreaker: Float!\n  }\n\n  enum InfraIndexType {\n    ANY\n    LOGS\n    METRICS\n  }\n\n  enum InfraNodeType {\n    pod\n    container\n    host\n    awsEC2\n    awsS3\n    awsRDS\n    awsSQS\n  }\n']);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});exports.sharedSchema=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sharedSchema=(0,_graphqlTag.default)(_templateObject());exports.sharedSchema=sharedSchema},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sourceQuery=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));var _shared=__webpack_require__(839);var _source_fields_fragment=__webpack_require__(840);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(['\n  query SourceQuery($sourceId: ID = "default") {\n    source(id: $sourceId) {\n      ...InfraSourceFields\n      configuration {\n        ...SourceConfigurationFields\n      }\n      status {\n        ...SourceStatusFields\n      }\n    }\n  }\n\n  ',"\n  ","\n  ","\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var sourceQuery=(0,_graphqlTag.default)(_templateObject(),_shared.sharedFragments.InfraSourceFields,_source_fields_fragment.sourceConfigurationFieldsFragment,_source_fields_fragment.sourceStatusFieldsFragment);exports.sourceQuery=sourceQuery},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateSourceMutation=void 0;var _graphqlTag=_interopRequireDefault(__webpack_require__(737));var _shared=__webpack_require__(839);var _source_fields_fragment=__webpack_require__(840);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(['\n  mutation UpdateSourceMutation($sourceId: ID = "default", $sourceProperties: UpdateSourceInput!) {\n    updateSource(id: $sourceId, sourceProperties: $sourceProperties) {\n      source {\n        ...InfraSourceFields\n        configuration {\n          ...SourceConfigurationFields\n        }\n        status {\n          ...SourceStatusFields\n        }\n      }\n    }\n  }\n\n  ',"\n  ","\n  ","\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var updateSourceMutation=(0,_graphqlTag.default)(_templateObject(),_shared.sharedFragments.InfraSourceFields,_source_fields_fragment.sourceConfigurationFieldsFragment,_source_fields_fragment.sourceStatusFieldsFragment);exports.updateSourceMutation=updateSourceMutation},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}Object.defineProperty(exports,"__esModule",{value:true});exports.host=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(923);var _required_metrics=__webpack_require__(925);var host={id:"host",displayName:_i18n.i18n.translate("xpack.infra.inventoryModel.host.displayName",{defaultMessage:"Hosts"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.host.singularDisplayName",{defaultMessage:"Host"}),requiredModule:"system",crosslinkSupport:{details:true,logs:true,apm:true,uptime:true},fields:{id:"host.name",name:"host.name",ip:"host.ip"},metrics:_metrics.metrics,requiredMetrics:["hostSystemOverview","hostCpuUsage","hostLoad","hostMemoryUsage","hostNetworkTraffic","hostK8sOverview","hostK8sCpuCap","hostK8sMemoryCap","hostK8sDiskCap","hostK8sPodCap"].concat(_toConsumableArray(_required_metrics.aws),_toConsumableArray(_required_metrics.nginx))};exports.host=host},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cpu=void 0;var cpu={cpu_user:{avg:{field:"system.cpu.user.pct"}},cpu_system:{avg:{field:"system.cpu.system.pct"}},cpu_cores:{max:{field:"system.cpu.cores"}},cpu:{bucket_script:{buckets_path:{user:"cpu_user",system:"cpu_system",cores:"cpu_cores"},script:{source:"(params.user + params.system) / params.cores",lang:"painless"},gap_policy:"skip"}}};exports.cpu=cpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.load=void 0;var load={load:{avg:{field:"system.load.5"}}};exports.load=load},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logRate=void 0;var logRate={count:{bucket_script:{buckets_path:{count:"_count"},script:{source:"count * 1",lang:"expression"},gap_policy:"skip"}},cumsum:{cumulative_sum:{buckets_path:"count"}},logRate:{derivative:{buckets_path:"cumsum",gap_policy:"skip",unit:"1s"}}};exports.logRate=logRate},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.memory=void 0;var memory={memory:{avg:{field:"system.memory.actual.used.pct"}}};exports.memory=memory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rx=void 0;var _network_traffic_with_interfaces=__webpack_require__(777);var rx=(0,_network_traffic_with_interfaces.networkTrafficWithInterfaces)("rx","system.network.in.bytes","system.network.name");exports.rx=rx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tx=void 0;var _network_traffic_with_interfaces=__webpack_require__(777);var tx=(0,_network_traffic_with_interfaces.networkTrafficWithInterfaces)("tx","system.network.out.bytes","system.network.name");exports.tx=tx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostSystemOverview=void 0;var hostSystemOverview=function hostSystemOverview(timeField,indexPattern,interval){return{id:"hostSystemOverview",requires:["system.cpu","system.memory","system.load","system.network"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"gauge",series:[{id:"cpu",split_mode:"everything",metrics:[{field:"system.cpu.user.pct",id:"avg-cpu-user",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{field:"system.cpu.system.pct",id:"avg-cpu-system",type:"avg"},{id:"calc-user-system-cores",script:"(params.users + params.system) / params.cores",type:"calculation",variables:[{field:"avg-cpu-user",id:"var-users",name:"users"},{field:"avg-cpu-system",id:"var-system",name:"system"},{field:"max-cpu-cores",id:"var-cores",name:"cores"}]}]},{id:"load",split_mode:"everything",metrics:[{field:"system.load.5",id:"avg-load-5m",type:"avg"}]},{id:"memory",split_mode:"everything",metrics:[{field:"system.memory.actual.used.pct",id:"avg-memory-actual-used",type:"avg"}]},{id:"rx",split_mode:"terms",terms_field:"system.network.name",metrics:[{field:"system.network.in.bytes",id:"max-net-in",type:"max"},{field:"max-net-in",id:"deriv-max-net-in",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-in",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-in"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{function:"sum",id:"seriesagg-sum",type:"series_agg"}]},{id:"tx",split_mode:"terms",terms_field:"system.network.name",metrics:[{field:"system.network.out.bytes",id:"max-net-out",type:"max"},{field:"max-net-out",id:"deriv-max-net-out",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-out",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-out"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{function:"sum",id:"seriesagg-sum",type:"series_agg"}]}]}};exports.hostSystemOverview=hostSystemOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostCpuUsage=void 0;var hostCpuUsage=function hostCpuUsage(timeField,indexPattern,interval){return{id:"hostCpuUsage",requires:["system.cpu"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"user",metrics:[{field:"system.cpu.user.pct",id:"avg-cpu-user",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-user",id:"var-avg",name:"avg"}]}],split_mode:"everything"},{id:"system",metrics:[{field:"system.cpu.system.pct",id:"avg-cpu-system",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-system",id:"var-avg",name:"avg"}]}],split_mode:"everything"},{id:"steal",metrics:[{field:"system.cpu.steal.pct",id:"avg-cpu-steal",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"avg-cpu-steal",id:"var-avg",name:"avg"},{field:"max-cpu-cores",id:"var-cores",name:"cores"}]}],split_mode:"everything"},{id:"irq",metrics:[{field:"system.cpu.irq.pct",id:"avg-cpu-irq",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-irq",id:"var-avg",name:"avg"}]}],split_mode:"everything"},{id:"softirq",metrics:[{field:"system.cpu.softirq.pct",id:"avg-cpu-softirq",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-softirq",id:"var-avg",name:"avg"}]}],split_mode:"everything"},{id:"iowait",metrics:[{field:"system.cpu.iowait.pct",id:"avg-cpu-iowait",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-iowait",id:"var-avg",name:"avg"}]}],split_mode:"everything"},{id:"nice",metrics:[{field:"system.cpu.nice.pct",id:"avg-cpu-nice",type:"avg"},{field:"system.cpu.cores",id:"max-cpu-cores",type:"max"},{id:"calc-avg-cores",script:"params.avg / params.cores",type:"calculation",variables:[{field:"max-cpu-cores",id:"var-cores",name:"cores"},{field:"avg-cpu-nice",id:"var-avg",name:"avg"}]}],split_mode:"everything"}]}};exports.hostCpuUsage=hostCpuUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostLoad=void 0;var hostLoad=function hostLoad(timeField,indexPattern,interval){return{id:"hostLoad",requires:["system.cpu"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"load_1m",metrics:[{field:"system.load.1",id:"avg-load-1m",type:"avg"}],split_mode:"everything"},{id:"load_5m",metrics:[{field:"system.load.5",id:"avg-load-5m",type:"avg"}],split_mode:"everything"},{id:"load_15m",metrics:[{field:"system.load.15",id:"avg-load-15m",type:"avg"}],split_mode:"everything"}]}};exports.hostLoad=hostLoad},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostMemoryUsage=void 0;var hostMemoryUsage=function hostMemoryUsage(timeField,indexPattern,interval){return{id:"hostMemoryUsage",requires:["system.memory"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"free",metrics:[{field:"system.memory.free",id:"avg-memory-free",type:"avg"}],split_mode:"everything"},{id:"used",metrics:[{field:"system.memory.actual.used.bytes",id:"avg-memory-used",type:"avg"}],split_mode:"everything"},{id:"cache",metrics:[{field:"system.memory.actual.used.bytes",id:"avg-memory-actual-used",type:"avg"},{field:"system.memory.used.bytes",id:"avg-memory-used",type:"avg"},{id:"calc-used-actual",script:"params.used - params.actual",type:"calculation",variables:[{field:"avg-memory-actual-used",id:"var-actual",name:"actual"},{field:"avg-memory-used",id:"var-used",name:"used"}]}],split_mode:"everything"}]}};exports.hostMemoryUsage=hostMemoryUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostNetworkTraffic=void 0;var hostNetworkTraffic=function hostNetworkTraffic(timeField,indexPattern,interval){return{id:"hostNetworkTraffic",requires:["system.network"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"tx",metrics:[{field:"system.network.out.bytes",id:"max-net-out",type:"max"},{field:"max-net-out",id:"deriv-max-net-out",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-out",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-out"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{function:"sum",id:"seriesagg-sum",type:"series_agg"}],split_mode:"terms",terms_field:"system.network.name"},{id:"rx",metrics:[{field:"system.network.in.bytes",id:"max-net-in",type:"max"},{field:"max-net-in",id:"deriv-max-net-in",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-in",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-in"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{id:"calc-invert-rate",script:"params.rate * -1",type:"calculation",variables:[{field:"posonly-deriv-max-net-in",id:"var-rate",name:"rate"}]},{function:"sum",id:"seriesagg-sum",type:"series_agg"}],split_mode:"terms",terms_field:"system.network.name"}]}};exports.hostNetworkTraffic=hostNetworkTraffic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostFilesystem=void 0;var hostFilesystem=function hostFilesystem(timeField,indexPattern,interval){return{id:"hostFilesystem",requires:["system.filesystem"],filter:"system.filesystem.device_name:\\/*",index_pattern:indexPattern,time_field:timeField,interval:interval,type:"timeseries",series:[{id:"used",metrics:[{field:"system.filesystem.used.pct",id:"avg-filesystem-used",type:"avg"}],split_mode:"terms",terms_field:"system.filesystem.device_name",terms_order_by:"used",terms_size:5}]}};exports.hostFilesystem=hostFilesystem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostK8sOverview=void 0;var hostK8sOverview=function hostK8sOverview(timeField,indexPattern,interval){return{id:"hostK8sOverview",requires:["kubernetes"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"gauge",series:[{id:"cpucap",split_mode:"everything",metrics:[{field:"kubernetes.node.cpu.allocatable.cores",id:"max-cpu-cap",type:"max"},{field:"kubernetes.node.cpu.usage.nanocores",id:"avg-cpu-usage",type:"avg"},{id:"calc-used-cap",script:"params.used / (params.cap * 1000000000)",type:"calculation",variables:[{field:"max-cpu-cap",id:"var-cap",name:"cap"},{field:"avg-cpu-usage",id:"var-used",name:"used"}]}]},{id:"diskcap",metrics:[{field:"kubernetes.node.fs.capacity.bytes",id:"max-fs-cap",type:"max"},{field:"kubernetes.node.fs.used.bytes",id:"avg-fs-used",type:"avg"},{id:"calc-used-cap",script:"params.used / params.cap",type:"calculation",variables:[{field:"max-fs-cap",id:"var-cap",name:"cap"},{field:"avg-fs-used",id:"var-used",name:"used"}]}],split_mode:"everything"},{id:"memorycap",metrics:[{field:"kubernetes.node.memory.allocatable.bytes",id:"max-memory-cap",type:"max"},{field:"kubernetes.node.memory.usage.bytes",id:"avg-memory-usage",type:"avg"},{id:"calc-used-cap",script:"params.used / params.cap",type:"calculation",variables:[{field:"max-memory-cap",id:"var-cap",name:"cap"},{field:"avg-memory-usage",id:"var-used",name:"used"}]}],split_mode:"everything"},{id:"podcap",metrics:[{field:"kubernetes.node.pod.capacity.total",id:"max-pod-cap",type:"max"},{field:"kubernetes.pod.uid",id:"card-pod-name",type:"cardinality"},{id:"calc-used-cap",script:"params.used / params.cap",type:"calculation",variables:[{field:"max-pod-cap",id:"var-cap",name:"cap"},{field:"card-pod-name",id:"var-used",name:"used"}]}],split_mode:"everything"}]}};exports.hostK8sOverview=hostK8sOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostK8sCpuCap=void 0;var hostK8sCpuCap=function hostK8sCpuCap(timeField,indexPattern,interval){return{id:"hostK8sCpuCap",map_field_to:"kubernetes.node.name",requires:["kubernetes.node"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"capacity",metrics:[{field:"kubernetes.node.cpu.allocatable.cores",id:"max-cpu-cap",type:"max"},{id:"calc-nanocores",type:"calculation",variables:[{id:"var-cores",field:"max-cpu-cap",name:"cores"}],script:"params.cores * 1000000000"}],split_mode:"everything"},{id:"used",metrics:[{field:"kubernetes.node.cpu.usage.nanocores",id:"avg-cpu-usage",type:"avg"}],split_mode:"everything"}]}};exports.hostK8sCpuCap=hostK8sCpuCap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostK8sPodCap=void 0;var hostK8sPodCap=function hostK8sPodCap(timeField,indexPattern,interval){return{id:"hostK8sPodCap",requires:["kubernetes.node"],map_field_to:"kubernetes.node.name",index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"capacity",metrics:[{field:"kubernetes.node.pod.allocatable.total",id:"max-pod-cap",type:"max"}],split_mode:"everything"},{id:"used",metrics:[{field:"kubernetes.pod.uid",id:"avg-pod",type:"cardinality"}],split_mode:"everything"}]}};exports.hostK8sPodCap=hostK8sPodCap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostK8sDiskCap=void 0;var hostK8sDiskCap=function hostK8sDiskCap(timeField,indexPattern,interval){return{id:"hostK8sDiskCap",map_field_to:"kubernetes.node.name",requires:["kubernetes.node"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"capacity",metrics:[{field:"kubernetes.node.fs.capacity.bytes",id:"max-fs-cap",type:"max"}],split_mode:"everything"},{id:"used",metrics:[{field:"kubernetes.node.fs.used.bytes",id:"avg-fs-used",type:"avg"}],split_mode:"everything"}]}};exports.hostK8sDiskCap=hostK8sDiskCap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostK8sMemoryCap=void 0;var hostK8sMemoryCap=function hostK8sMemoryCap(timeField,indexPattern,interval){return{id:"hostK8sMemoryCap",map_field_to:"kubernetes.node.name",requires:["kubernetes.node"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"capacity",metrics:[{field:"kubernetes.node.memory.allocatable.bytes",id:"max-memory-cap",type:"max"}],split_mode:"everything"},{id:"used",metrics:[{field:"kubernetes.node.memory.usage.bytes",id:"avg-memory-usage",type:"avg"}],split_mode:"everything"}]}};exports.hostK8sMemoryCap=hostK8sMemoryCap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostDockerTop5ByMemory=void 0;var hostDockerTop5ByMemory=function hostDockerTop5ByMemory(timeField,indexPattern,interval){return{id:"hostDockerTop5ByMemory",requires:["docker.memory"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"avg-memory",metrics:[{field:"docker.memory.usage.pct",id:"avg-memory-metric",type:"avg"}],split_mode:"terms",terms_field:"container.name",terms_order_by:"avg-memory",terms_size:5}]}};exports.hostDockerTop5ByMemory=hostDockerTop5ByMemory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostDockerTop5ByCpu=void 0;var hostDockerTop5ByCpu=function hostDockerTop5ByCpu(timeField,indexPattern,interval){return{id:"hostDockerTop5ByCpu",requires:["docker.cpu"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"avg-cpu",metrics:[{field:"docker.cpu.total.pct",id:"avg-cpu-metric",type:"avg"}],split_mode:"terms",terms_field:"container.name",terms_order_by:"avg-cpu",terms_size:5}]}};exports.hostDockerTop5ByCpu=hostDockerTop5ByCpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostDockerOverview=void 0;var hostDockerOverview=function hostDockerOverview(timeField,indexPattern,interval){return{id:"hostDockerOverview",requires:["docker.info"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"gauge",series:[{id:"total",metrics:[{field:"docker.info.containers.total",id:"max-total",type:"max"}],split_mode:"everything"},{id:"running",metrics:[{field:"docker.info.containers.running",id:"max-running",type:"max"}],split_mode:"everything"},{id:"paused",metrics:[{field:"docker.info.containers.paused",id:"max-paused",type:"max"}],split_mode:"everything"},{id:"stopped",metrics:[{field:"docker.info.containers.stopped",id:"max-stopped",type:"max"}],split_mode:"everything"}]}};exports.hostDockerOverview=hostDockerOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hostDockerInfo=void 0;var hostDockerInfo=function hostDockerInfo(timeField,indexPattern,interval){return{id:"hostDockerInfo",requires:["docker.info"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"running",metrics:[{field:"docker.info.containers.running",id:"max-running",type:"max"}],split_mode:"everything"},{id:"paused",metrics:[{field:"docker.info.containers.paused",id:"max-paused",type:"max"}],split_mode:"everything"},{id:"stopped",metrics:[{field:"docker.info.containers.stopped",id:"max-stopped",type:"max"}],split_mode:"everything"}]}};exports.hostDockerInfo=hostDockerInfo},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}Object.defineProperty(exports,"__esModule",{value:true});exports.pod=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(926);var _required_metrics=__webpack_require__(925);var pod={id:"pod",displayName:_i18n.i18n.translate("xpack.infra.inventoryModel.pod.displayName",{defaultMessage:"Kubernetes Pods"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.pod.singularDisplayName",{defaultMessage:"Kubernetes Pod"}),requiredModule:"kubernetes",crosslinkSupport:{details:true,logs:true,apm:true,uptime:true},fields:{id:"kubernetes.pod.uid",name:"kubernetes.pod.name",ip:"kubernetes.pod.ip"},metrics:_metrics.metrics,requiredMetrics:["podOverview","podCpuUsage","podMemoryUsage","podNetworkTraffic"].concat(_toConsumableArray(_required_metrics.nginx))};exports.pod=pod},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cpu=void 0;var cpu={cpu_with_limit:{avg:{field:"kubernetes.pod.cpu.usage.limit.pct"}},cpu_without_limit:{avg:{field:"kubernetes.pod.cpu.usage.node.pct"}},cpu:{bucket_script:{buckets_path:{with_limit:"cpu_with_limit",without_limit:"cpu_without_limit"},script:{source:"params.with_limit > 0.0 ? params.with_limit : params.without_limit",lang:"painless"},gap_policy:"skip"}}};exports.cpu=cpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.memory=void 0;var memory={memory:{avg:{field:"kubernetes.pod.memory.usage.node.pct"}}};exports.memory=memory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rx=void 0;var _network_traffic=__webpack_require__(927);var rx=(0,_network_traffic.networkTraffic)("rx","kubernetes.pod.network.rx.bytes");exports.rx=rx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tx=void 0;var _network_traffic=__webpack_require__(927);var tx=(0,_network_traffic.networkTraffic)("tx","kubernetes.pod.network.tx.bytes");exports.tx=tx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.podOverview=void 0;var podOverview=function podOverview(timeField,indexPattern,interval){return{id:"podOverview",requires:["kubernetes.pod"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"cpu",split_mode:"everything",metrics:[{field:"kubernetes.pod.cpu.usage.node.pct",id:"avg-cpu-usage",type:"avg"}]},{id:"memory",split_mode:"everything",metrics:[{field:"kubernetes.pod.memory.usage.node.pct",id:"avg-memory-usage",type:"avg"}]},{id:"rx",split_mode:"everything",metrics:[{field:"kubernetes.pod.network.rx.bytes",id:"max-network-rx",type:"max"},{field:"max-network-rx",id:"deriv-max-network-rx",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-network-rx",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-network-rx"}],script:"params.rate > 0.0 ? params.rate : 0.0"}]},{id:"tx",split_mode:"everything",metrics:[{field:"kubernetes.pod.network.tx.bytes",id:"max-network-tx",type:"max"},{field:"max-network-tx",id:"deriv-max-network-tx",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-network-tx",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-network-tx"}],script:"params.rate > 0.0 ? params.rate : 0.0"}]}]}};exports.podOverview=podOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.podCpuUsage=void 0;var podCpuUsage=function podCpuUsage(timeField,indexPattern,interval){return{id:"podCpuUsage",requires:["kubernetes.pod"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"cpu",split_mode:"everything",metrics:[{field:"kubernetes.pod.cpu.usage.node.pct",id:"avg-cpu-without",type:"avg"},{field:"kubernetes.pod.cpu.usage.limit.pct",id:"avg-cpu-with",type:"avg"},{id:"cpu-usage",type:"calculation",variables:[{id:"cpu_with",name:"with_limit",field:"avg-cpu-with"},{id:"cpu_without",name:"without_limit",field:"avg-cpu-without"}],script:"params.with_limit > 0.0 ? params.with_limit : params.without_limit"}]}]}};exports.podCpuUsage=podCpuUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.podLogUsage=void 0;var podLogUsage=function podLogUsage(timeField,indexPattern,interval){return{id:"podLogUsage",requires:["kubernetes.pod"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"logs",split_mode:"everything",metrics:[{field:"kubernetes.container.logs.used.bytes",id:"avg-log-used",type:"avg"},{field:"kubernetes.container.logs.capacity.bytes",id:"max-log-cap",type:"max"},{id:"calc-usage-limit",script:"params.usage / params.limit",type:"calculation",variables:[{field:"avg-log-userd",id:"var-usage",name:"usage"},{field:"max-log-cap",id:"var-limit",name:"limit"}]}]}]}};exports.podLogUsage=podLogUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.podMemoryUsage=void 0;var podMemoryUsage=function podMemoryUsage(timeField,indexPattern,interval){return{id:"podMemoryUsage",requires:["kubernetes.pod"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"memory",split_mode:"everything",metrics:[{field:"kubernetes.pod.memory.usage.node.pct",id:"avg-memory-usage",type:"avg"}]}]}};exports.podMemoryUsage=podMemoryUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.podNetworkTraffic=void 0;var podNetworkTraffic=function podNetworkTraffic(timeField,indexPattern,interval){return{id:"podNetworkTraffic",requires:["kubernetes.pod"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"tx",split_mode:"everything",metrics:[{field:"kubernetes.pod.network.tx.bytes",id:"max-network-tx",type:"max"},{field:"max-network-tx",id:"deriv-max-network-tx",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-tx",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-network-tx"}],script:"params.rate > 0.0 ? params.rate : 0.0"}]},{id:"rx",split_mode:"everything",metrics:[{field:"kubernetes.pod.network.rx.bytes",id:"max-network-rx",type:"max"},{field:"max-network-rx",id:"deriv-max-network-rx",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-tx",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-network-tx"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{id:"invert-posonly-deriv-max-network-rx",script:"params.rate * -1",type:"calculation",variables:[{field:"posonly-deriv-max-network-rx",id:"var-rate",name:"rate"}]}]}]}};exports.podNetworkTraffic=podNetworkTraffic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsEC2=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(928);var awsEC2={id:"awsEC2",displayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsEC2.displayName",{defaultMessage:"EC2 Instances"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsEC2.singularDisplayName",{defaultMessage:"EC2 Instance"}),requiredModule:"aws",crosslinkSupport:{details:true,logs:true,apm:true,uptime:true},metrics:_metrics.metrics,fields:{id:"cloud.instance.id",name:"cloud.instance.name",ip:"aws.ec2.instance.public.ip"},requiredMetrics:["awsEC2CpuUtilization","awsEC2NetworkTraffic","awsEC2DiskIOBytes"]};exports.awsEC2=awsEC2},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cpu=void 0;var cpu={cpu_avg:{avg:{field:"aws.ec2.cpu.total.pct"}},cpu:{bucket_script:{buckets_path:{cpu:"cpu_avg"},script:{source:"params.cpu / 100",lang:"painless"},gap_policy:"skip"}}};exports.cpu=cpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rx=void 0;var rx={rx:{avg:{field:"aws.ec2.network.in.bytes_per_sec"}}};exports.rx=rx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tx=void 0;var tx={tx:{avg:{field:"aws.ec2.network.in.bytes_per_sec"}}};exports.tx=tx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.diskIOReadBytes=void 0;var diskIOReadBytes={diskIOReadBytes:{avg:{field:"aws.ec2.diskio.read.bytes_per_sec"}}};exports.diskIOReadBytes=diskIOReadBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.diskIOWriteBytes=void 0;var diskIOWriteBytes={diskIOWriteBytes:{avg:{field:"aws.ec2.diskio.write.bytes_per_sec"}}};exports.diskIOWriteBytes=diskIOWriteBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsEC2CpuUtilization=void 0;var _create_tsvb_model=__webpack_require__(704);var awsEC2CpuUtilization=(0,_create_tsvb_model.createTSVBModel)("awsEC2CpuUtilization",["aws.ec2"],[{id:"total",split_mode:"everything",metrics:[{field:"aws.ec2.cpu.total.pct",id:"avg-cpu",type:"avg"},{id:"convert-to-percent",script:"params.avg / 100",type:"calculation",variables:[{field:"avg-cpu",id:"var-avg",name:"avg"}]}]}]);exports.awsEC2CpuUtilization=awsEC2CpuUtilization},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsEC2NetworkTraffic=void 0;var _create_tsvb_model=__webpack_require__(704);var awsEC2NetworkTraffic=(0,_create_tsvb_model.createTSVBModel)("awsEC2NetworkTraffic",["aws.ec2"],[{id:"tx",split_mode:"everything",metrics:[{field:"aws.ec2.network.out.bytes_per_sec",id:"avg-tx",type:"avg"}]},{id:"rx",split_mode:"everything",metrics:[{field:"aws.ec2.network.in.bytes_per_sec",id:"avg-rx",type:"avg"},{id:"calculation-rate",type:"calculation",variables:[{id:"rate-var",name:"rate",field:"avg-rx"}],script:"params.rate * -1"}]}]);exports.awsEC2NetworkTraffic=awsEC2NetworkTraffic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsEC2DiskIOBytes=void 0;var _create_tsvb_model=__webpack_require__(704);var awsEC2DiskIOBytes=(0,_create_tsvb_model.createTSVBModel)("awsEC2DiskIOBytes",["aws.ec2"],[{id:"write",split_mode:"everything",metrics:[{field:"aws.ec2.diskio.write.bytes_per_sec",id:"avg-write",type:"avg"}]},{id:"read",split_mode:"everything",metrics:[{field:"aws.ec2.diskio.read.bytes_per_sec",id:"avg-read",type:"avg"},{id:"calculation-rate",type:"calculation",variables:[{id:"rate-var",name:"rate",field:"avg-read"}],script:"params.rate * -1"}]}]);exports.awsEC2DiskIOBytes=awsEC2DiskIOBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(929);var awsS3={id:"awsS3",displayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsS3.displayName",{defaultMessage:"S3 Buckets"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsS3.singularDisplayName",{defaultMessage:"S3 Bucket"}),requiredModule:"aws",crosslinkSupport:{details:true,logs:true,apm:false,uptime:false},metrics:_metrics.metrics,fields:{id:"aws.s3.bucket.name",name:"aws.s3.bucket.name"},requiredMetrics:["awsS3BucketSize","awsS3NumberOfObjects","awsS3TotalRequests","awsS3DownloadBytes","awsS3UploadBytes"]};exports.awsS3=awsS3},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3BucketSize=void 0;var _create_tsvb_model=__webpack_require__(704);var awsS3BucketSize=(0,_create_tsvb_model.createTSVBModel)("awsS3BucketSize",["aws.s3_daily_storage"],[{id:"bytes",split_mode:"everything",metrics:[{field:"aws.s3_daily_storage.bucket.size.bytes",id:"max-bytes",type:"max"}]}],">=86400s",false);exports.awsS3BucketSize=awsS3BucketSize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3TotalRequests=void 0;var _create_tsvb_model=__webpack_require__(704);var awsS3TotalRequests=(0,_create_tsvb_model.createTSVBModel)("awsS3TotalRequests",["aws.s3_request"],[{id:"total",split_mode:"everything",metrics:[{field:"aws.s3_request.requests.total",id:"max-size",type:"max"}]}],">=300s");exports.awsS3TotalRequests=awsS3TotalRequests},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3NumberOfObjects=void 0;var _create_tsvb_model=__webpack_require__(704);var awsS3NumberOfObjects=(0,_create_tsvb_model.createTSVBModel)("awsS3NumberOfObjects",["aws.s3_daily_storage"],[{id:"objects",split_mode:"everything",metrics:[{field:"aws.s3_daily_storage.number_of_objects",id:"max-size",type:"max"}]}],">=86400s",false);exports.awsS3NumberOfObjects=awsS3NumberOfObjects},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3DownloadBytes=void 0;var _create_tsvb_model=__webpack_require__(704);var awsS3DownloadBytes=(0,_create_tsvb_model.createTSVBModel)("awsS3DownloadBytes",["aws.s3_request"],[{id:"bytes",split_mode:"everything",metrics:[{field:"aws.s3_request.downloaded.bytes",id:"max-bytes",type:"max"}]}],">=300s");exports.awsS3DownloadBytes=awsS3DownloadBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsS3UploadBytes=void 0;var _create_tsvb_model=__webpack_require__(704);var awsS3UploadBytes=(0,_create_tsvb_model.createTSVBModel)("awsS3UploadBytes",["aws.s3_request"],[{id:"bytes",split_mode:"everything",metrics:[{field:"aws.s3_request.uploaded.bytes",id:"max-bytes",type:"max"}]}],">=300s");exports.awsS3UploadBytes=awsS3UploadBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.s3BucketSize=void 0;var s3BucketSize={s3BucketSize:{max:{field:"aws.s3_daily_storage.bucket.size.bytes"}}};exports.s3BucketSize=s3BucketSize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.s3TotalRequests=void 0;var s3TotalRequests={s3TotalRequests:{max:{field:"aws.s3_request.requests.total"}}};exports.s3TotalRequests=s3TotalRequests},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.s3NumberOfObjects=void 0;var s3NumberOfObjects={s3NumberOfObjects:{max:{field:"aws.s3_daily_storage.number_of_objects"}}};exports.s3NumberOfObjects=s3NumberOfObjects},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.s3DownloadBytes=void 0;var s3DownloadBytes={s3DownloadBytes:{max:{field:"aws.s3_request.downloaded.bytes"}}};exports.s3DownloadBytes=s3DownloadBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.s3UploadBytes=void 0;var s3UploadBytes={s3UploadBytes:{max:{field:"aws.s3_request.uploaded.bytes"}}};exports.s3UploadBytes=s3UploadBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDS=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(930);var awsRDS={id:"awsRDS",displayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsRDS.displayName",{defaultMessage:"RDS Databases"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsRDS.singularDisplayName",{defaultMessage:"RDS Database"}),requiredModule:"aws",crosslinkSupport:{details:true,logs:true,apm:false,uptime:false},metrics:_metrics.metrics,fields:{id:"aws.rds.db_instance.arn",name:"aws.rds.db_instance.identifier"},requiredMetrics:["awsRDSCpuTotal","awsRDSConnections","awsRDSQueriesExecuted","awsRDSActiveTransactions","awsRDSLatency"]};exports.awsRDS=awsRDS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cpu=void 0;var cpu={cpu_avg:{avg:{field:"aws.rds.cpu.total.pct"}},cpu:{bucket_script:{buckets_path:{cpu:"cpu_avg"},script:{source:"params.cpu / 100",lang:"painless"},gap_policy:"skip"}}};exports.cpu=cpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rdsLatency=void 0;var rdsLatency={rdsLatency:{avg:{field:"aws.rds.latency.dml"}}};exports.rdsLatency=rdsLatency},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rdsConnections=void 0;var rdsConnections={rdsConnections:{avg:{field:"aws.rds.database_connections"}}};exports.rdsConnections=rdsConnections},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rdsQueriesExecuted=void 0;var rdsQueriesExecuted={rdsQueriesExecuted:{avg:{field:"aws.rds.queries"}}};exports.rdsQueriesExecuted=rdsQueriesExecuted},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rdsActiveTransactions=void 0;var rdsActiveTransactions={rdsActiveTransactions:{avg:{field:"aws.rds.transactions.active"}}};exports.rdsActiveTransactions=rdsActiveTransactions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDSLatency=void 0;var _create_tsvb_model=__webpack_require__(704);var awsRDSLatency=(0,_create_tsvb_model.createTSVBModel)("awsRDSLatency",["aws.rds"],[{id:"read",split_mode:"everything",metrics:[{field:"aws.rds.latency.read",id:"avg",type:"avg"}]},{id:"write",split_mode:"everything",metrics:[{field:"aws.rds.latency.write",id:"avg",type:"avg"}]},{id:"insert",split_mode:"everything",metrics:[{field:"aws.rds.latency.insert",id:"avg",type:"avg"}]},{id:"update",split_mode:"everything",metrics:[{field:"aws.rds.latency.update",id:"avg",type:"avg"}]},{id:"commit",split_mode:"everything",metrics:[{field:"aws.rds.latency.commit",id:"avg",type:"avg"}]}]);exports.awsRDSLatency=awsRDSLatency},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDSConnections=void 0;var _create_tsvb_model=__webpack_require__(704);var awsRDSConnections=(0,_create_tsvb_model.createTSVBModel)("awsRDSConnections",["aws.rds"],[{id:"connections",split_mode:"everything",metrics:[{field:"aws.rds.database_connections",id:"avg-conns",type:"avg"}]}]);exports.awsRDSConnections=awsRDSConnections},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDSCpuTotal=void 0;var _create_tsvb_model=__webpack_require__(704);var awsRDSCpuTotal=(0,_create_tsvb_model.createTSVBModel)("awsRDSCpuTotal",["aws.rds"],[{id:"cpu",split_mode:"everything",metrics:[{field:"aws.rds.cpu.total.pct",id:"avg-cpu",type:"avg"},{id:"convert-to-percent",script:"params.avg / 100",type:"calculation",variables:[{field:"avg-cpu",id:"var-avg",name:"avg"}]}]}]);exports.awsRDSCpuTotal=awsRDSCpuTotal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDSQueriesExecuted=void 0;var _create_tsvb_model=__webpack_require__(704);var awsRDSQueriesExecuted=(0,_create_tsvb_model.createTSVBModel)("awsRDSQueriesExecuted",["aws.rds"],[{id:"queries",split_mode:"everything",metrics:[{field:"aws.rds.queries",id:"avg-queries",type:"avg"}]}]);exports.awsRDSQueriesExecuted=awsRDSQueriesExecuted},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsRDSActiveTransactions=void 0;var _create_tsvb_model=__webpack_require__(704);var awsRDSActiveTransactions=(0,_create_tsvb_model.createTSVBModel)("awsRDSActiveTransactions",["aws.rds"],[{id:"active",split_mode:"everything",metrics:[{field:"aws.rds.transactions.active",id:"avg",type:"avg"}]},{id:"blocked",split_mode:"everything",metrics:[{field:"aws.rds.transactions.blocked",id:"avg",type:"avg"}]}]);exports.awsRDSActiveTransactions=awsRDSActiveTransactions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQS=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(931);var awsSQS={id:"awsSQS",displayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsSQS.displayName",{defaultMessage:"SQS Queues"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModels.awsSQS.singularDisplayName",{defaultMessage:"SQS Queue"}),requiredModule:"aws",crosslinkSupport:{details:true,logs:true,apm:false,uptime:false},metrics:_metrics.metrics,fields:{id:"aws.sqs.queue.name",name:"aws.sqs.queue.name"},requiredMetrics:["awsSQSMessagesVisible","awsSQSMessagesDelayed","awsSQSMessagesSent","awsSQSMessagesEmpty","awsSQSOldestMessage"]};exports.awsSQS=awsSQS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sqsMessagesVisible=void 0;var sqsMessagesVisible={sqsMessagesVisible:{avg:{field:"aws.sqs.messages.visible"}}};exports.sqsMessagesVisible=sqsMessagesVisible},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sqsMessagesDelayed=void 0;var sqsMessagesDelayed={sqsMessagesDelayed:{max:{field:"aws.sqs.messages.delayed"}}};exports.sqsMessagesDelayed=sqsMessagesDelayed},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sqsMessagesEmpty=void 0;var sqsMessagesEmpty={sqsMessagesEmpty:{max:{field:"aws.sqs.messages.not_visible"}}};exports.sqsMessagesEmpty=sqsMessagesEmpty},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sqsMessagesSent=void 0;var sqsMessagesSent={sqsMessagesSent:{max:{field:"aws.sqs.messages.sent"}}};exports.sqsMessagesSent=sqsMessagesSent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sqsOldestMessage=void 0;var sqsOldestMessage={sqsOldestMessage:{max:{field:"aws.sqs.oldest_message_age.sec"}}};exports.sqsOldestMessage=sqsOldestMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQSMessagesVisible=void 0;var _create_tsvb_model=__webpack_require__(704);var awsSQSMessagesVisible=(0,_create_tsvb_model.createTSVBModel)("awsSQSMessagesVisible",["aws.sqs"],[{id:"visible",split_mode:"everything",metrics:[{field:"aws.sqs.messages.visible",id:"avg-visible",type:"avg"}]}],">=300s");exports.awsSQSMessagesVisible=awsSQSMessagesVisible},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQSMessagesDelayed=void 0;var _create_tsvb_model=__webpack_require__(704);var awsSQSMessagesDelayed=(0,_create_tsvb_model.createTSVBModel)("awsSQSMessagesDelayed",["aws.sqs"],[{id:"delayed",split_mode:"everything",metrics:[{field:"aws.sqs.messages.delayed",id:"avg-delayed",type:"avg"}]}],">=300s");exports.awsSQSMessagesDelayed=awsSQSMessagesDelayed},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQSMessagesSent=void 0;var _create_tsvb_model=__webpack_require__(704);var awsSQSMessagesSent=(0,_create_tsvb_model.createTSVBModel)("awsSQSMessagesSent",["aws.sqs"],[{id:"sent",split_mode:"everything",metrics:[{field:"aws.sqs.messages.sent",id:"avg-sent",type:"avg"}]}],">=300s");exports.awsSQSMessagesSent=awsSQSMessagesSent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQSMessagesEmpty=void 0;var _create_tsvb_model=__webpack_require__(704);var awsSQSMessagesEmpty=(0,_create_tsvb_model.createTSVBModel)("awsSQSMessagesEmpty",["aws.sqs"],[{id:"empty",split_mode:"everything",metrics:[{field:"aws.sqs.messages.not_visible",id:"avg-empty",type:"avg"}]}],">=300s");exports.awsSQSMessagesEmpty=awsSQSMessagesEmpty},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsSQSOldestMessage=void 0;var _create_tsvb_model=__webpack_require__(704);var awsSQSOldestMessage=(0,_create_tsvb_model.createTSVBModel)("awsSQSOldestMessage",["aws.sqs"],[{id:"oldest",split_mode:"everything",metrics:[{field:"aws.sqs.oldest_message_age.sec",id:"max-oldest",type:"max"}]}],">=300s");exports.awsSQSOldestMessage=awsSQSOldestMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.container=void 0;var _i18n=__webpack_require__(0);var _metrics=__webpack_require__(932);var container={id:"container",displayName:_i18n.i18n.translate("xpack.infra.inventoryModel.container.displayName",{defaultMessage:"Docker Containers"}),singularDisplayName:_i18n.i18n.translate("xpack.infra.inventoryModel.container.singularDisplayName",{defaultMessage:"Docker Container"}),requiredModule:"docker",crosslinkSupport:{details:true,logs:true,apm:true,uptime:true},fields:{id:"container.id",name:"container.name",ip:"continaer.ip_address"},metrics:_metrics.metrics,requiredMetrics:["containerOverview","containerCpuUsage","containerMemory","containerNetworkTraffic","containerDiskIOBytes","containerDiskIOOps"]};exports.container=container},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cpu=void 0;var cpu={cpu:{avg:{field:"docker.cpu.total.pct"}}};exports.cpu=cpu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.memory=void 0;var memory={memory:{avg:{field:"docker.memory.usage.pct"}}};exports.memory=memory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rx=void 0;var _network_traffic_with_interfaces=__webpack_require__(777);var rx=(0,_network_traffic_with_interfaces.networkTrafficWithInterfaces)("rx","docker.network.inbound.bytes","docker.network.interface");exports.rx=rx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tx=void 0;var _network_traffic_with_interfaces=__webpack_require__(777);var tx=(0,_network_traffic_with_interfaces.networkTrafficWithInterfaces)("tx","docker.network.outbound.bytes","docker.network.interface");exports.tx=tx},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerOverview=void 0;var containerOverview=function containerOverview(timeField,indexPattern,interval){return{id:"containerOverview",requires:["docker"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"cpu",split_mode:"everything",metrics:[{field:"docker.cpu.total.pct",id:"avg-cpu-total",type:"avg"}]},{id:"memory",split_mode:"everything",metrics:[{field:"docker.memory.usage.pct",id:"avg-memory",type:"avg"}]},{id:"tx",split_mode:"everything",metrics:[{field:"docker.network.out.bytes",id:"avg-network-out",type:"avg"}]},{id:"rx",split_mode:"everything",metrics:[{field:"docker.network.in.bytes",id:"avg-network-in",type:"avg"}]}]}};exports.containerOverview=containerOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerCpuUsage=void 0;var containerCpuUsage=function containerCpuUsage(timeField,indexPattern,interval){return{id:"containerCpuUsage",requires:["docker.cpu"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"cpu",split_mode:"everything",metrics:[{field:"docker.cpu.total.pct",id:"avg-cpu-total",type:"avg"}]}]}};exports.containerCpuUsage=containerCpuUsage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerCpuKernel=void 0;var containerCpuKernel=function containerCpuKernel(timeField,indexPattern,interval){return{id:"containerCpuKernel",requires:["docker.cpu"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"kernel",split_mode:"everything",metrics:[{field:"docker.cpu.kernel.pct",id:"avg-cpu-kernel",type:"avg"}]}]}};exports.containerCpuKernel=containerCpuKernel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerDiskIOOps=void 0;var containerDiskIOOps=function containerDiskIOOps(timeField,indexPattern,interval){return{id:"containerDiskIOOps",requires:["docker.disk"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"read",split_mode:"everything",metrics:[{field:"docker.diskio.read.ops",id:"max-diskio-read-ops",type:"max"},{field:"max-diskio-read-ops",id:"deriv-max-diskio-read-ops",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-diskio-read-ops",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-diskio-read-ops"}],script:"params.rate > 0.0 ? params.rate : 0.0"}]},{id:"write",split_mode:"everything",metrics:[{field:"docker.diskio.write.ops",id:"max-diskio-write-ops",type:"max"},{field:"max-diskio-write-ops",id:"deriv-max-diskio-write-ops",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-diskio-write-ops",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-diskio-write-ops"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{id:"calc-invert-rate",script:"params.rate * -1",type:"calculation",variables:[{field:"posonly-deriv-max-diskio-write-ops",id:"var-rate",name:"rate"}]}]}]}};exports.containerDiskIOOps=containerDiskIOOps},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerDiskIOBytes=void 0;var containerDiskIOBytes=function containerDiskIOBytes(timeField,indexPattern,interval){return{id:"containerDiskIOBytes",requires:["docker.disk"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"read",split_mode:"everything",metrics:[{field:"docker.diskio.read.bytes",id:"max-diskio-read-bytes",type:"max"},{field:"max-diskio-read-bytes",id:"deriv-max-diskio-read-bytes",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-diskio-read-bytes",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-diskio-read-bytes"}],script:"params.rate > 0.0 ? params.rate : 0.0"}]},{id:"write",split_mode:"everything",metrics:[{field:"docker.diskio.write.bytes",id:"max-diskio-write-bytes",type:"max"},{field:"max-diskio-write-bytes",id:"deriv-max-diskio-write-bytes",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-diskio-write-bytes",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-diskio-write-bytes"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{id:"calc-invert-rate",script:"params.rate * -1",type:"calculation",variables:[{field:"posonly-deriv-max-diskio-write-bytes",id:"var-rate",name:"rate"}]}]}]}};exports.containerDiskIOBytes=containerDiskIOBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerMemory=void 0;var containerMemory=function containerMemory(timeField,indexPattern,interval){return{id:"containerMemory",requires:["docker.memory"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"memory",split_mode:"everything",metrics:[{field:"docker.memory.usage.pct",id:"avg-memory",type:"avg"}]}]}};exports.containerMemory=containerMemory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containerNetworkTraffic=void 0;var containerNetworkTraffic=function containerNetworkTraffic(timeField,indexPattern,interval){return{id:"containerNetworkTraffic",requires:["docker.network"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"tx",metrics:[{field:"docker.network.outbound.bytes",id:"max-net-out",type:"max"},{field:"max-net-out",id:"deriv-max-net-out",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-out",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-out"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{function:"sum",id:"seriesagg-sum",type:"series_agg"}],split_mode:"terms",terms_field:"docker.network.interface"},{id:"rx",metrics:[{field:"docker.network.inbound.bytes",id:"max-net-in",type:"max"},{field:"max-net-in",id:"deriv-max-net-in",type:"derivative",unit:"1s"},{id:"posonly-deriv-max-net-in",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"deriv-max-net-in"}],script:"params.rate > 0.0 ? params.rate : 0.0"},{id:"calc-invert-rate",script:"params.rate * -1",type:"calculation",variables:[{field:"posonly-deriv-max-net-in",id:"var-rate",name:"rate"}]},{function:"sum",id:"seriesagg-sum",type:"series_agg"}],split_mode:"terms",terms_field:"docker.network.interface"}]}};exports.containerNetworkTraffic=containerNetworkTraffic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metrics=void 0;var _nginx_request_rate=__webpack_require__(1326);var _nginx_active_connections=__webpack_require__(1327);var _nginx_hits=__webpack_require__(1328);var _nginx_requests_per_connection=__webpack_require__(1329);var _aws_cpu_utilization=__webpack_require__(1330);var _aws_diskio_bytes=__webpack_require__(1331);var _aws_diskio_ops=__webpack_require__(1332);var _aws_network_bytes=__webpack_require__(1333);var _aws_network_packets=__webpack_require__(1334);var _aws_overview=__webpack_require__(1335);var _count=__webpack_require__(924);var metrics={tsvb:{nginxActiveConnections:_nginx_active_connections.nginxActiveConnections,nginxHits:_nginx_hits.nginxHits,nginxRequestRate:_nginx_request_rate.nginxRequestRate,nginxRequestsPerConnection:_nginx_requests_per_connection.nginxRequestsPerConnection,awsCpuUtilization:_aws_cpu_utilization.awsCpuUtilization,awsDiskioBytes:_aws_diskio_bytes.awsDiskioBytes,awsDiskioOps:_aws_diskio_ops.awsDiskioOps,awsNetworkBytes:_aws_network_bytes.awsNetworkBytes,awsNetworkPackets:_aws_network_packets.awsNetworkPackets,awsOverview:_aws_overview.awsOverview},snapshot:{count:_count.count},defaultSnapshot:"count",defaultTimeRangeInSeconds:3600};exports.metrics=metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nginxRequestRate=void 0;var nginxRequestRate=function nginxRequestRate(timeField,indexPattern,interval){return{id:"nginxRequestRate",requires:["nginx.stubstatus"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"rate",metrics:[{field:"nginx.stubstatus.requests",id:"max-requests",type:"max"},{field:"max-requests",id:"derv-max-requests",type:"derivative",unit:"1s"},{id:"posonly-derv-max-requests",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"derv-max-requests"}],script:"params.rate > 0.0 ? params.rate : 0.0"}],split_mode:"everything"}]}};exports.nginxRequestRate=nginxRequestRate},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nginxActiveConnections=void 0;var nginxActiveConnections=function nginxActiveConnections(timeField,indexPattern,interval){return{id:"nginxActiveConnections",requires:["nginx.stubstatus"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"connections",metrics:[{field:"nginx.stubstatus.active",id:"avg-active",type:"avg"}],split_mode:"everything"}]}};exports.nginxActiveConnections=nginxActiveConnections},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nginxHits=void 0;var nginxHits=function nginxHits(timeField,indexPattern,interval){return{id:"nginxHits",requires:["nginx.access"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"200s",metrics:[{id:"count-200",type:"count"}],split_mode:"filter",filter:{query:"http.response.status_code:[200 TO 299]",language:"lucene"}},{id:"300s",metrics:[{id:"count-300",type:"count"}],split_mode:"filter",filter:{query:"http.response.status_code:[300 TO 399]",language:"lucene"}},{id:"400s",metrics:[{id:"count-400",type:"count"}],split_mode:"filter",filter:{query:"http.response.status_code:[400 TO 499]",language:"lucene"}},{id:"500s",metrics:[{id:"count-500",type:"count"}],split_mode:"filter",filter:{query:"http.response.status_code:[500 TO 599]",language:"lucene"}}]}};exports.nginxHits=nginxHits},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nginxRequestsPerConnection=void 0;var nginxRequestsPerConnection=function nginxRequestsPerConnection(timeField,indexPattern,interval){return{id:"nginxRequestsPerConnection",requires:["nginx.stubstatus"],index_pattern:indexPattern,interval:interval,time_field:timeField,type:"timeseries",series:[{id:"reqPerConns",metrics:[{field:"nginx.stubstatus.handled",id:"max-handled",type:"max"},{field:"nginx.stubstatus.requests",id:"max-requests",type:"max"},{id:"reqs-per-connection",type:"calculation",variables:[{id:"var-handled",name:"handled",field:"max-handled"},{id:"var-requests",name:"requests",field:"max-requests"}],script:"params.handled > 0.0 && params.requests > 0.0 ? params.handled / params.requests : 0.0"}],split_mode:"everything"}]}};exports.nginxRequestsPerConnection=nginxRequestsPerConnection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsCpuUtilization=void 0;var awsCpuUtilization=function awsCpuUtilization(timeField,indexPattern){return{id:"awsCpuUtilization",requires:["aws.ec2"],map_field_to:"cloud.instance.id",id_type:"cloud",index_pattern:indexPattern,interval:">=5m",time_field:timeField,type:"timeseries",series:[{id:"cpu-util",metrics:[{field:"aws.ec2.cpu.total.pct",id:"avg-cpu-util",type:"avg"}],split_mode:"everything"}]}};exports.awsCpuUtilization=awsCpuUtilization},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsDiskioBytes=void 0;var awsDiskioBytes=function awsDiskioBytes(timeField,indexPattern){return{id:"awsDiskioBytes",requires:["aws.ec2"],index_pattern:indexPattern,map_field_to:"cloud.instance.id",id_type:"cloud",interval:">=5m",time_field:timeField,type:"timeseries",series:[{id:"writes",metrics:[{field:"aws.ec2.diskio.write.bytes",id:"sum-diskio-out",type:"sum"},{id:"csum-sum-diskio-out",field:"sum-diskio-out",type:"cumulative_sum"},{id:"deriv-csum-sum-diskio-out",unit:"1s",type:"derivative",field:"csum-sum-diskio-out"},{id:"posonly-deriv-csum-sum-diskio-out",field:"deriv-csum-sum-diskio-out",type:"positive_only"}],split_mode:"everything"},{id:"reads",metrics:[{field:"aws.ec2.diskio.read.bytes",id:"sum-diskio-in",type:"sum"},{id:"csum-sum-diskio-in",field:"sum-diskio-in",type:"cumulative_sum"},{id:"deriv-csum-sum-diskio-in",unit:"1s",type:"derivative",field:"csum-sum-diskio-in"},{id:"posonly-deriv-csum-sum-diskio-in",field:"deriv-csum-sum-diskio-in",type:"positive_only"},{id:"inverted-posonly-deriv-csum-sum-diskio-in",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"posonly-deriv-csum-sum-diskio-in"}],script:"params.rate * -1"}],split_mode:"everything"}]}};exports.awsDiskioBytes=awsDiskioBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsDiskioOps=void 0;var awsDiskioOps=function awsDiskioOps(timeField,indexPattern){return{id:"awsDiskioOps",requires:["aws.ec2"],index_pattern:indexPattern,map_field_to:"cloud.instance.id",id_type:"cloud",interval:">=5m",time_field:timeField,type:"timeseries",series:[{id:"writes",metrics:[{field:"aws.ec2.diskio.write.count",id:"sum-diskio-writes",type:"sum"},{id:"csum-sum-diskio-writes",field:"sum-diskio-writes",type:"cumulative_sum"},{id:"deriv-csum-sum-diskio-writes",unit:"1s",type:"derivative",field:"csum-sum-diskio-writes"},{id:"posonly-deriv-csum-sum-diskio-writes",field:"deriv-csum-sum-diskio-writes",type:"positive_only"}],split_mode:"everything"},{id:"reads",metrics:[{field:"aws.ec2.diskio.read.count",id:"sum-diskio-reads",type:"sum"},{id:"csum-sum-diskio-reads",field:"sum-diskio-reads",type:"cumulative_sum"},{id:"deriv-csum-sum-diskio-reads",unit:"1s",type:"derivative",field:"csum-sum-diskio-reads"},{id:"posonly-deriv-csum-sum-diskio-reads",field:"deriv-csum-sum-diskio-reads",type:"positive_only"},{id:"inverted-posonly-deriv-csum-sum-diskio-reads",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"posonly-deriv-csum-sum-diskio-reads"}],script:"params.rate * -1"}],split_mode:"everything"}]}};exports.awsDiskioOps=awsDiskioOps},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsNetworkBytes=void 0;var awsNetworkBytes=function awsNetworkBytes(timeField,indexPattern){return{id:"awsNetworkBytes",requires:["aws.ec2"],index_pattern:indexPattern,map_field_to:"cloud.instance.id",id_type:"cloud",interval:">=5m",time_field:timeField,type:"timeseries",series:[{id:"tx",metrics:[{field:"aws.ec2.network.out.bytes",id:"sum-net-out",type:"sum"},{id:"csum-sum-net-out",field:"sum-net-out",type:"cumulative_sum"},{id:"deriv-csum-sum-net-out",unit:"1s",type:"derivative",field:"csum-sum-net-out"},{id:"posonly-deriv-csum-sum-net-out",field:"deriv-csum-sum-net-out",type:"positive_only"}],split_mode:"everything"},{id:"rx",metrics:[{field:"aws.ec2.network.in.bytes",id:"sum-net-in",type:"sum"},{id:"csum-sum-net-in",field:"sum-net-in",type:"cumulative_sum"},{id:"deriv-csum-sum-net-in",unit:"1s",type:"derivative",field:"csum-sum-net-in"},{id:"posonly-deriv-csum-sum-net-in",field:"deriv-csum-sum-net-in",type:"positive_only"},{id:"inverted-posonly-deriv-csum-sum-net-in",type:"calculation",variables:[{id:"var-rate",name:"rate",field:"posonly-deriv-csum-sum-net-in"}],script:"params.rate * -1"}],split_mode:"everything"}]}};exports.awsNetworkBytes=awsNetworkBytes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsNetworkPackets=void 0;var awsNetworkPackets=function awsNetworkPackets(timeField,indexPattern){return{id:"awsNetworkPackets",requires:["aws.ec2"],index_pattern:indexPattern,map_field_to:"cloud.instance.id",id_type:"cloud",interval:">=5m",time_field:timeField,type:"timeseries",series:[{id:"packets-out",metrics:[{field:"aws.ec2.network.out.packets",id:"avg-net-out",type:"avg"}],split_mode:"everything"},{id:"packets-in",metrics:[{field:"aws.ec2.network.in.packets",id:"avg-net-in",type:"avg"},{id:"inverted-avg-net-in",type:"calculation",variables:[{id:"var-avg",name:"avg",field:"avg-net-in"}],script:"params.avg * -1"}],split_mode:"everything"}]}};exports.awsNetworkPackets=awsNetworkPackets},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.awsOverview=void 0;var awsOverview=function awsOverview(timeField,indexPattern){return{id:"awsOverview",requires:["aws.ec2"],index_pattern:indexPattern,map_field_to:"cloud.instance.id",id_type:"cloud",interval:">=5m",time_field:timeField,type:"gauge",series:[{id:"cpu-util",split_mode:"everything",metrics:[{field:"aws.ec2.cpu.total.pct",id:"cpu-total-pct",type:"max"}]},{id:"status-check-failed",split_mode:"everything",metrics:[{field:"aws.ec2.status.check_failed",id:"status-check-failed",type:"max"}]},{id:"packets-out",split_mode:"everything",metrics:[{field:"aws.ec2.network.out.packets",id:"network-out-packets",type:"avg"}]},{id:"packets-in",split_mode:"everything",metrics:[{field:"aws.ec2.network.in.packets",id:"network-in-packets",type:"avg"}]}]}};exports.awsOverview=awsOverview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RedirectToHostDetailViaIP=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _i18n=__webpack_require__(0);var _with_metrics_time=__webpack_require__(776);var _use_host_ip_to_name=__webpack_require__(1337);var _query_params=__webpack_require__(775);var _loading_page=__webpack_require__(753);var _error=__webpack_require__(934);var _source=__webpack_require__(837);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RedirectToHostDetailViaIP=function RedirectToHostDetailViaIP(_ref){var hostIp=_ref.match.params.hostIp,location=_ref.location;var _useSource=(0,_source.useSource)({sourceId:"default"}),source=_useSource.source;var _useHostIpToName=(0,_use_host_ip_to_name.useHostIpToName)(hostIp,source&&source.configuration&&source.configuration.metricAlias||null),error=_useHostIpToName.error,name=_useHostIpToName.name;if(error){return _react.default.createElement(_error.Error,{message:_i18n.i18n.translate("xpack.infra.linkTo.hostWithIp.error",{defaultMessage:'Host not found with IP address "{hostIp}".',values:{hostIp:hostIp}})})}var searchString=(0,_with_metrics_time.replaceMetricTimeInQueryString)((0,_query_params.getFromFromLocation)(location),(0,_query_params.getToFromLocation)(location))("");if(name){return _react.default.createElement(_reactRouterDom.Redirect,{to:"/detail/host/".concat(name,"?").concat(searchString)})}return _react.default.createElement(_loading_page.LoadingPage,{message:_i18n.i18n.translate("xpack.infra.linkTo.hostWithIp.loading",{defaultMessage:'Loading host with IP address "{hostIp}".',values:{hostIp:hostIp}})})};exports.RedirectToHostDetailViaIP=RedirectToHostDetailViaIP},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useHostIpToName=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useHostIpToName=function useHostIpToName(ipAddress,indexPattern){var _useKibana$services$h;var fetch=(_useKibana$services$h=(0,_public.useKibana)().services.http)===null||_useKibana$services$h===void 0?void 0:_useKibana$services$h.fetch;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoadingState=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoadingState(true);setError(null);_context.prev=2;if(fetch){_context.next=5;break}throw new Error("HTTP service is unavailable");case 5:if(!(ipAddress&&indexPattern)){_context.next=11;break}_context.next=8;return fetch("/api/infra/ip_to_host",{method:"POST",body:JSON.stringify({ip:ipAddress,index_pattern:indexPattern})});case 8:response=_context.sent;setLoadingState(false);setData(response);case 11:_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](2);setLoadingState(false);setError(_context.t0);case 17:case"end":return _context.stop()}}}),_callee,null,[[2,13]])})))()}),[ipAddress,indexPattern,fetch]);return{name:data&&data.host||null,loading:loading,error:error}};exports.useHostIpToName=useHostIpToName},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(3);var _i18n=__webpack_require__(0);var _public=__webpack_require__(9);var Header=function Header(_ref){var _ref$breadcrumbs=_ref.breadcrumbs,breadcrumbs=_ref$breadcrumbs===void 0?[]:_ref$breadcrumbs,_ref$readOnlyBadge=_ref.readOnlyBadge,readOnlyBadge=_ref$readOnlyBadge===void 0?false:_ref$readOnlyBadge;var chrome=(0,_public.useKibana)().services.chrome;var badge=readOnlyBadge?{text:_i18n.i18n.translate("xpack.infra.header.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("xpack.infra.header.badge.readOnly.tooltip",{defaultMessage:"Unable to change source configuration"}),iconType:"glasses"}:undefined;var setBreadcrumbs=(0,_react.useCallback)((function(){return chrome===null||chrome===void 0?void 0:chrome.setBreadcrumbs(breadcrumbs||[])}),[breadcrumbs,chrome]);var setBadge=(0,_react.useCallback)((function(){return chrome===null||chrome===void 0?void 0:chrome.setBadge(badge)}),[badge,chrome]);(0,_react.useEffect)((function(){setBreadcrumbs();setBadge()}),[setBreadcrumbs,setBadge]);(0,_react.useEffect)((function(){setBreadcrumbs()}),[breadcrumbs,setBreadcrumbs]);(0,_react.useEffect)((function(){setBadge()}),[badge,setBadge]);return null};exports.Header=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _page=__webpack_require__(1340);Object.keys(_page).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _page[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _page_content=__webpack_require__(1341);var _page_providers=__webpack_require__(1520);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogsPage=function LogsPage(_ref){var match=_ref.match;return _react.default.createElement(_page_providers.LogsPageProviders,null,_react.default.createElement(_page_content.LogsPageContent,null))};exports.LogsPage=LogsPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPageContent=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _public=__webpack_require__(9);var _document_title=__webpack_require__(726);var _header=__webpack_require__(778);var _help_center_content=__webpack_require__(935);var _app_navigation=__webpack_require__(936);var _routed_tabs=__webpack_require__(937);var _page=__webpack_require__(709);var _log_analysis=__webpack_require__(712);var _redirect_with_query_params=__webpack_require__(841);var _log_entry_categories=__webpack_require__(1355);var _log_entry_rate=__webpack_require__(1443);var _settings=__webpack_require__(1459);var _stream=__webpack_require__(1469);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogsPageContent=function LogsPageContent(){var _useKibana$services$a,_uiCapabilities$logs;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;var logAnalysisCapabilities=(0,_log_analysis.useLogAnalysisCapabilitiesContext)();var streamTab={app:"logs",title:streamTabTitle,pathname:"/stream"};var logRateTab={app:"logs",title:logRateTabTitle,pathname:"/log-rate"};var logCategoriesTab={app:"logs",title:logCategoriesTabTitle,pathname:"/log-categories"};var settingsTab={app:"logs",title:settingsTabTitle,pathname:"/settings"};return _react.default.createElement(_page.ColumnarPage,null,_react.default.createElement(_document_title.DocumentTitle,{title:pageTitle}),_react.default.createElement(_help_center_content.HelpCenterContent,{feedbackLink:feedbackLinkUrl,appName:pageTitle}),_react.default.createElement(_header.Header,{breadcrumbs:[{text:pageTitle}],readOnlyBadge:!(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$logs=uiCapabilities.logs)===null||_uiCapabilities$logs===void 0?void 0:_uiCapabilities$logs.save)}),_react.default.createElement(_app_navigation.AppNavigation,{"aria-label":pageTitle},_react.default.createElement(_routed_tabs.RoutedTabs,{tabs:logAnalysisCapabilities.hasLogAnalysisCapabilites?[streamTab,logRateTab,logCategoriesTab,settingsTab]:[streamTab,settingsTab]})),_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:streamTab.pathname,component:_stream.StreamPage}),_react.default.createElement(_reactRouterDom.Route,{path:logRateTab.pathname,component:_log_entry_rate.LogEntryRatePage}),_react.default.createElement(_reactRouterDom.Route,{path:logCategoriesTab.pathname,component:_log_entry_categories.LogEntryCategoriesPage}),_react.default.createElement(_reactRouterDom.Route,{path:settingsTab.pathname,component:_settings.LogsSettingsPage}),_react.default.createElement(_redirect_with_query_params.RedirectWithQueryParams,{from:"/analysis",to:logRateTab.pathname,exact:true})))};exports.LogsPageContent=LogsPageContent;var pageTitle=_i18n.i18n.translate("xpack.infra.header.logsTitle",{defaultMessage:"Logs"});var streamTabTitle=_i18n.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"});var logRateTabTitle=_i18n.i18n.translate("xpack.infra.logs.index.logRateBetaBadgeTitle",{defaultMessage:"Log Rate"});var logCategoriesTabTitle=_i18n.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"});var settingsTabTitle=_i18n.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"});var feedbackLinkUrl="https://discuss.elastic.co/c/logs"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.usePrefixPathWithBasepath=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);var usePrefixPathWithBasepath=function usePrefixPathWithBasepath(){var _useKibana$services$a;var getUrlForApp=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.getUrlForApp;var prefixer=(0,_react.useMemo)((function(){if(!getUrlForApp){throw new Error("Application core service is unavailable")}return function(app,path){return getUrlForApp(app,{path:path})}}),[getUrlForApp]);return prefixer};exports.usePrefixPathWithBasepath=usePrefixPathWithBasepath},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogAnalysisCapabilitiesContext=exports.LogAnalysisCapabilitiesProvider=exports.useLogAnalysisCapabilities=void 0;var _constate=_interopRequireDefault(__webpack_require__(213));var _react=__webpack_require__(3);var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _use_tracked_promise=__webpack_require__(214);var _legacy_singletons=__webpack_require__(211);var _ml_api_types=__webpack_require__(1344);var _runtime_types=__webpack_require__(210);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogAnalysisCapabilities=function useLogAnalysisCapabilities(){var _useState=(0,_react.useState)(initialMlCapabilities),_useState2=_slicedToArray(_useState,2),mlCapabilities=_useState2[0],setMlCapabilities=_useState2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var rawResponse;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/ml_capabilities");case 2:rawResponse=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_ml_api_types.getMlCapabilitiesResponsePayloadRT.decode(rawResponse),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){setMlCapabilities(response)}},[]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),fetchMlCapabilitiesRequest=_useTrackedPromise2[0],fetchMlCapabilities=_useTrackedPromise2[1];(0,_react.useEffect)((function(){fetchMlCapabilities()}),[fetchMlCapabilities]);var isLoading=(0,_react.useMemo)((function(){return fetchMlCapabilitiesRequest.state==="pending"}),[fetchMlCapabilitiesRequest.state]);var hasLogAnalysisSetupCapabilities=mlCapabilities.capabilities.canCreateJob;var hasLogAnalysisReadCapabilities=mlCapabilities.capabilities.canGetJobs;var hasLogAnalysisCapabilites=mlCapabilities.isPlatinumOrTrialLicense&&mlCapabilities.mlFeatureEnabledInSpace;return{hasLogAnalysisCapabilites:hasLogAnalysisCapabilites,hasLogAnalysisReadCapabilities:hasLogAnalysisReadCapabilities,hasLogAnalysisSetupCapabilities:hasLogAnalysisSetupCapabilities,isLoading:isLoading}};exports.useLogAnalysisCapabilities=useLogAnalysisCapabilities;var _createContainer=(0,_constate.default)(useLogAnalysisCapabilities),_createContainer2=_slicedToArray(_createContainer,2),LogAnalysisCapabilitiesProvider=_createContainer2[0],useLogAnalysisCapabilitiesContext=_createContainer2[1];exports.useLogAnalysisCapabilitiesContext=useLogAnalysisCapabilitiesContext;exports.LogAnalysisCapabilitiesProvider=LogAnalysisCapabilitiesProvider;var initialMlCapabilities={capabilities:{canGetJobs:false,canCreateJob:false,canDeleteJob:false,canOpenJob:false,canCloseJob:false,canForecastJob:false,canGetDatafeeds:false,canStartStopDatafeed:false,canUpdateJob:false,canUpdateDatafeed:false,canPreviewDatafeed:false,canGetCalendars:false,canCreateCalendar:false,canDeleteCalendar:false,canGetFilters:false,canCreateFilter:false,canDeleteFilter:false,canFindFileStructure:false,canGetDataFrameJobs:false,canDeleteDataFrameJob:false,canPreviewDataFrameJob:false,canCreateDataFrameJob:false,canStartStopDataFrameJob:false},isPlatinumOrTrialLicense:false,mlFeatureEnabledInSpace:false,upgradeInProgress:false}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMlCapabilitiesResponsePayloadRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var getMlCapabilitiesResponsePayloadRT=rt.type({capabilities:rt.type({canGetJobs:rt.boolean,canCreateJob:rt.boolean,canDeleteJob:rt.boolean,canOpenJob:rt.boolean,canCloseJob:rt.boolean,canForecastJob:rt.boolean,canGetDatafeeds:rt.boolean,canStartStopDatafeed:rt.boolean,canUpdateJob:rt.boolean,canUpdateDatafeed:rt.boolean,canPreviewDatafeed:rt.boolean}),isPlatinumOrTrialLicense:rt.boolean,mlFeatureEnabledInSpace:rt.boolean,upgradeInProgress:rt.boolean});exports.getMlCapabilitiesResponsePayloadRT=getMlCapabilitiesResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cleanUpJobsAndDatafeeds=void 0;var _log_analysis=__webpack_require__(702);var _ml_cleanup=__webpack_require__(1351);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var cleanUpJobsAndDatafeeds=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,sourceId,jobTypes){var _err$res;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_ml_cleanup.callStopDatafeeds)(spaceId,sourceId,jobTypes);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);if(!((_context.t0===null||_context.t0===void 0?void 0:(_err$res=_context.t0.res)===null||_err$res===void 0?void 0:_err$res.status)!==404)){_context.next=9;break}throw _context.t0;case 9:_context.next=11;return deleteJobs(spaceId,sourceId,jobTypes);case 11:return _context.abrupt("return",_context.sent);case 12:case"end":return _context.stop()}}}),_callee,null,[[0,5]])})));return function cleanUpJobsAndDatafeeds(_x,_x2,_x3){return _ref.apply(this,arguments)}}();exports.cleanUpJobsAndDatafeeds=cleanUpJobsAndDatafeeds;var deleteJobs=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(spaceId,sourceId,jobTypes){var deleteJobsResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_ml_cleanup.callDeleteJobs)(spaceId,sourceId,jobTypes);case 2:deleteJobsResponse=_context2.sent;_context2.next=5;return waitUntilJobsAreDeleted(spaceId,sourceId,jobTypes);case 5:return _context2.abrupt("return",deleteJobsResponse);case 6:case"end":return _context2.stop()}}}),_callee2)})));return function deleteJobs(_x4,_x5,_x6){return _ref2.apply(this,arguments)}}();var waitUntilJobsAreDeleted=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(spaceId,sourceId,jobTypes){var moduleJobIds,_ref4,jobIdsBeingDeleted,needToWait;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:moduleJobIds=jobTypes.map((function(jobType){return(0,_log_analysis.getJobId)(spaceId,sourceId,jobType)}));case 1:if(false){}_context3.next=4;return(0,_ml_cleanup.callGetJobDeletionTasks)();case 4:_ref4=_context3.sent;jobIdsBeingDeleted=_ref4.jobIds;needToWait=jobIdsBeingDeleted.some((function(jobId){return moduleJobIds.includes(jobId)}));if(!needToWait){_context3.next=12;break}_context3.next=10;return timeout(1e3);case 10:_context3.next=13;break;case 12:return _context3.abrupt("return",true);case 13:_context3.next=1;break;case 15:case"end":return _context3.stop()}}}),_callee3)})));return function waitUntilJobsAreDeleted(_x7,_x8,_x9){return _ref3.apply(this,arguments)}}();var timeout=function timeout(ms){return new Promise((function(res){return setTimeout(res,ms)}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isExampleDataIndex=exports.isSetupStatusWithResults=exports.isHealthyJobStatus=exports.isJobStatusWithResults=void 0;var isJobStatusWithResults=function isJobStatusWithResults(jobStatus){return["started","finished","stopped","failed"].includes(jobStatus)};exports.isJobStatusWithResults=isJobStatusWithResults;var isHealthyJobStatus=function isHealthyJobStatus(jobStatus){return["started","finished"].includes(jobStatus)};exports.isHealthyJobStatus=isHealthyJobStatus;var isSetupStatusWithResults=function isSetupStatusWithResults(setupStatus){return["skipped","hiddenAfterSuccess","skippedButReconfigurable","skippedButUpdatable"].includes(setupStatus)};exports.isSetupStatusWithResults=isSetupStatusWithResults;var KIBANA_SAMPLE_DATA_INDICES=["kibana_sample_data_logs*"];var isExampleDataIndex=function isExampleDataIndex(indexName){return KIBANA_SAMPLE_DATA_INDICES.includes(indexName)};exports.isExampleDataIndex=isExampleDataIndex},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.compareDatasetsByMaximumAnomalyScore=exports.getFriendlyNameForPartitionId=exports.formatAnomalyScore=exports.getSeverityCategoryForScore=exports.ML_SEVERITY_COLORS=exports.ML_SEVERITY_SCORES=void 0;var ML_SEVERITY_SCORES={warning:3,minor:25,major:50,critical:75};exports.ML_SEVERITY_SCORES=ML_SEVERITY_SCORES;var ML_SEVERITY_COLORS={critical:"rgb(228, 72, 72)",major:"rgb(229, 113, 0)",minor:"rgb(255, 221, 0)",warning:"rgb(125, 180, 226)"};exports.ML_SEVERITY_COLORS=ML_SEVERITY_COLORS;var getSeverityCategoryForScore=function getSeverityCategoryForScore(score){if(score>=ML_SEVERITY_SCORES.critical){return"critical"}else if(score>=ML_SEVERITY_SCORES.major){return"major"}else if(score>=ML_SEVERITY_SCORES.minor){return"minor"}else if(score>=ML_SEVERITY_SCORES.warning){return"warning"}else{return undefined}};exports.getSeverityCategoryForScore=getSeverityCategoryForScore;var formatAnomalyScore=function formatAnomalyScore(score){return Math.round(score)};exports.formatAnomalyScore=formatAnomalyScore;var getFriendlyNameForPartitionId=function getFriendlyNameForPartitionId(partitionId){return partitionId!==""?partitionId:"unknown"};exports.getFriendlyNameForPartitionId=getFriendlyNameForPartitionId;var compareDatasetsByMaximumAnomalyScore=function compareDatasetsByMaximumAnomalyScore(firstDataset,secondDataset){return firstDataset.maximumAnomalyScore-secondDataset.maximumAnomalyScore};exports.compareDatasetsByMaximumAnomalyScore=compareDatasetsByMaximumAnomalyScore},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntryRateJobTypes=exports.logEntryRateJobTypeRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var logEntryRateJobTypeRT=rt.keyof({"log-entry-rate":null});exports.logEntryRateJobTypeRT=logEntryRateJobTypeRT;var logEntryRateJobTypes=["log-entry-rate"];exports.logEntryRateJobTypes=logEntryRateJobTypes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntryCategoriesJobTypes=exports.logEntryCategoriesJobTypeRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var logEntryCategoriesJobTypeRT=rt.keyof({"log-entry-categories-count":null});exports.logEntryCategoriesJobTypeRT=logEntryCategoriesJobTypeRT;var logEntryCategoriesJobTypes=["log-entry-categories-count"];exports.logEntryCategoriesJobTypes=logEntryCategoriesJobTypes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.jobCustomSettingsRT=exports.jobSourceConfigurationRT=exports.getDatafeedId=exports.getJobId=exports.getJobIdPrefix=exports.partitionField=exports.categoriesMessageField=exports.bucketSpan=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var bucketSpan=9e5;exports.bucketSpan=bucketSpan;var categoriesMessageField="message";exports.categoriesMessageField=categoriesMessageField;var partitionField="event.dataset";exports.partitionField=partitionField;var getJobIdPrefix=function getJobIdPrefix(spaceId,sourceId){return"kibana-logs-ui-".concat(spaceId,"-").concat(sourceId,"-")};exports.getJobIdPrefix=getJobIdPrefix;var getJobId=function getJobId(spaceId,sourceId,jobType){return"".concat(getJobIdPrefix(spaceId,sourceId)).concat(jobType)};exports.getJobId=getJobId;var getDatafeedId=function getDatafeedId(spaceId,sourceId,jobType){return"datafeed-".concat(getJobId(spaceId,sourceId,jobType))};exports.getDatafeedId=getDatafeedId;var jobSourceConfigurationRT=rt.type({indexPattern:rt.string,timestampField:rt.string,bucketSpan:rt.number});exports.jobSourceConfigurationRT=jobSourceConfigurationRT;var jobCustomSettingsRT=rt.partial({job_revision:rt.number,logs_source_config:rt.partial(jobSourceConfigurationRT.props)});exports.jobCustomSettingsRT=jobCustomSettingsRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stopDatafeedsResponsePayloadRT=exports.stopDatafeedsRequestPayloadRT=exports.getJobDeletionTasksResponsePayloadRT=exports.deleteJobsResponsePayloadRT=exports.deleteJobsRequestPayloadRT=exports.callStopDatafeeds=exports.callGetJobDeletionTasks=exports.callDeleteJobs=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _pipeable=__webpack_require__(48);var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(702);var _runtime_types=__webpack_require__(210);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callDeleteJobs=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,sourceId,jobTypes){var deleteJobsResponse;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/jobs/delete_jobs",{method:"POST",body:JSON.stringify(deleteJobsRequestPayloadRT.encode({jobIds:jobTypes.map((function(jobType){return(0,_log_analysis.getJobId)(spaceId,sourceId,jobType)}))}))});case 2:deleteJobsResponse=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(deleteJobsResponsePayloadRT.decode(deleteJobsResponse),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callDeleteJobs(_x,_x2,_x3){return _ref.apply(this,arguments)}}();exports.callDeleteJobs=callDeleteJobs;var callGetJobDeletionTasks=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var jobDeletionTasksResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/jobs/deleting_jobs_tasks");case 2:jobDeletionTasksResponse=_context2.sent;return _context2.abrupt("return",(0,_pipeable.pipe)(getJobDeletionTasksResponsePayloadRT.decode(jobDeletionTasksResponse),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context2.stop()}}}),_callee2)})));return function callGetJobDeletionTasks(){return _ref2.apply(this,arguments)}}();exports.callGetJobDeletionTasks=callGetJobDeletionTasks;var callStopDatafeeds=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(spaceId,sourceId,jobTypes){var stopDatafeedResponse;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _legacy_singletons.npStart.http.fetch("/api/ml/jobs/stop_datafeeds",{method:"POST",body:JSON.stringify(stopDatafeedsRequestPayloadRT.encode({datafeedIds:jobTypes.map((function(jobType){return(0,_log_analysis.getDatafeedId)(spaceId,sourceId,jobType)}))}))});case 2:stopDatafeedResponse=_context3.sent;return _context3.abrupt("return",(0,_pipeable.pipe)(stopDatafeedsResponsePayloadRT.decode(stopDatafeedResponse),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context3.stop()}}}),_callee3)})));return function callStopDatafeeds(_x4,_x5,_x6){return _ref3.apply(this,arguments)}}();exports.callStopDatafeeds=callStopDatafeeds;var deleteJobsRequestPayloadRT=rt.type({jobIds:rt.array(rt.string)});exports.deleteJobsRequestPayloadRT=deleteJobsRequestPayloadRT;var deleteJobsResponsePayloadRT=rt.record(rt.string,rt.type({deleted:rt.boolean}));exports.deleteJobsResponsePayloadRT=deleteJobsResponsePayloadRT;var getJobDeletionTasksResponsePayloadRT=rt.type({jobIds:rt.array(rt.string)});exports.getJobDeletionTasksResponsePayloadRT=getJobDeletionTasksResponsePayloadRT;var stopDatafeedsRequestPayloadRT=rt.type({datafeedIds:rt.array(rt.string)});exports.stopDatafeedsRequestPayloadRT=stopDatafeedsRequestPayloadRT;var stopDatafeedsResponsePayloadRT=rt.record(rt.string,rt.type({stopped:rt.boolean}));exports.stopDatafeedsResponsePayloadRT=stopDatafeedsResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogAnalysisModule=void 0;var _react=__webpack_require__(3);var _use_tracked_promise=__webpack_require__(214);var _log_analysis_module_status=__webpack_require__(938);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogAnalysisModule=function useLogAnalysisModule(_ref){var sourceConfiguration=_ref.sourceConfiguration,moduleDescriptor=_ref.moduleDescriptor;var spaceId=sourceConfiguration.spaceId,sourceId=sourceConfiguration.sourceId,timestampField=sourceConfiguration.timestampField,indices=sourceConfiguration.indices;var _useModuleStatus=(0,_log_analysis_module_status.useModuleStatus)(moduleDescriptor.jobTypes,{bucketSpan:moduleDescriptor.bucketSpan,indexPattern:indices.join(","),timestampField:timestampField}),_useModuleStatus2=_slicedToArray(_useModuleStatus,2),moduleStatus=_useModuleStatus2[0],dispatchModuleStatus=_useModuleStatus2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatchModuleStatus({type:"fetchingModuleDefinition"});_context.next=3;return moduleDescriptor.getModuleDefinition();case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){dispatchModuleStatus({type:"fetchedModuleDefinition",spaceId:spaceId,sourceId:sourceId,moduleDefinition:response})},onReject:function onReject(){dispatchModuleStatus({type:"failedFetchingModuleDefinition"})}},[moduleDescriptor.getModuleDefinition,spaceId,sourceId]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),fetchModuleDefinitionRequest=_useTrackedPromise2[0],fetchModuleDefinition=_useTrackedPromise2[1];var _useTrackedPromise3=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatchModuleStatus({type:"fetchingJobStatuses"});_context2.next=3;return moduleDescriptor.getJobSummary(spaceId,sourceId);case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}}),_callee2)})));function createPromise(){return _createPromise2.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(jobResponse){dispatchModuleStatus({type:"fetchedJobStatuses",payload:jobResponse,spaceId:spaceId,sourceId:sourceId})},onReject:function onReject(){dispatchModuleStatus({type:"failedFetchingJobStatuses"})}},[spaceId,sourceId]),_useTrackedPromise4=_slicedToArray(_useTrackedPromise3,2),fetchJobStatusRequest=_useTrackedPromise4[0],fetchJobStatus=_useTrackedPromise4[1];var isLoadingModuleStatus=(0,_react.useMemo)((function(){return fetchJobStatusRequest.state==="pending"||fetchModuleDefinitionRequest.state==="pending"}),[fetchJobStatusRequest.state,fetchModuleDefinitionRequest.state]);var _useTrackedPromise5=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(selectedIndices,start,end){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatchModuleStatus({type:"startedSetup"});_context3.next=3;return moduleDescriptor.setUpModule(start,end,{indices:selectedIndices,sourceId:sourceId,spaceId:spaceId,timestampField:timestampField});case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}}),_callee3)})));function createPromise(_x,_x2,_x3){return _createPromise3.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref2){var datafeeds=_ref2.datafeeds,jobs=_ref2.jobs;dispatchModuleStatus({type:"finishedSetup",datafeeds:datafeeds,jobs:jobs,spaceId:spaceId,sourceId:sourceId})},onReject:function onReject(){dispatchModuleStatus({type:"failedSetup"})}},[moduleDescriptor.setUpModule,spaceId,sourceId,timestampField]),_useTrackedPromise6=_slicedToArray(_useTrackedPromise5,2),setUpModule=_useTrackedPromise6[1];var _useTrackedPromise7=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return moduleDescriptor.cleanUpModule(spaceId,sourceId);case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}}),_callee4)})));function createPromise(){return _createPromise4.apply(this,arguments)}return createPromise}()},[spaceId,sourceId]),_useTrackedPromise8=_slicedToArray(_useTrackedPromise7,2),cleanUpModuleRequest=_useTrackedPromise8[0],cleanUpModule=_useTrackedPromise8[1];var isCleaningUp=(0,_react.useMemo)((function(){return cleanUpModuleRequest.state==="pending"}),[cleanUpModuleRequest.state]);var cleanUpAndSetUpModule=(0,_react.useCallback)((function(selectedIndices,start,end){dispatchModuleStatus({type:"startedSetup"});cleanUpModule().then((function(){setUpModule(selectedIndices,start,end)})).catch((function(){dispatchModuleStatus({type:"failedSetup"})}))}),[cleanUpModule,dispatchModuleStatus,setUpModule]);var viewSetupForReconfiguration=(0,_react.useCallback)((function(){dispatchModuleStatus({type:"requestedJobConfigurationUpdate"})}),[dispatchModuleStatus]);var viewSetupForUpdate=(0,_react.useCallback)((function(){dispatchModuleStatus({type:"requestedJobDefinitionUpdate"})}),[dispatchModuleStatus]);var viewResults=(0,_react.useCallback)((function(){dispatchModuleStatus({type:"viewedResults"})}),[dispatchModuleStatus]);var jobIds=(0,_react.useMemo)((function(){return moduleDescriptor.getJobIds(spaceId,sourceId)}),[moduleDescriptor,spaceId,sourceId]);(0,_react.useEffect)((function(){dispatchModuleStatus({type:"updatedSourceConfiguration",spaceId:spaceId,sourceId:sourceId,sourceConfiguration:{timestampField:timestampField,indexPattern:indices.join(","),bucketSpan:moduleDescriptor.bucketSpan}})}),[dispatchModuleStatus,indices,moduleDescriptor.bucketSpan,sourceConfiguration,sourceId,spaceId,timestampField]);return{cleanUpAndSetUpModule:cleanUpAndSetUpModule,cleanUpModule:cleanUpModule,fetchJobStatus:fetchJobStatus,fetchModuleDefinition:fetchModuleDefinition,isCleaningUp:isCleaningUp,isLoadingModuleStatus:isLoadingModuleStatus,jobIds:jobIds,jobStatus:moduleStatus.jobStatus,lastSetupErrorMessages:moduleStatus.lastSetupErrorMessages,moduleDescriptor:moduleDescriptor,setUpModule:setUpModule,setupStatus:moduleStatus.setupStatus,sourceConfiguration:sourceConfiguration,viewResults:viewResults,viewSetupForReconfiguration:viewSetupForReconfiguration,viewSetupForUpdate:viewSetupForUpdate}};exports.useLogAnalysisModule=useLogAnalysisModule},function(module,exports,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAnalysisSetupState=void 0;var _react=__webpack_require__(3);var _log_analysis=__webpack_require__(702);var _use_tracked_promise=__webpack_require__(214);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var fourWeeksInMs=864e5*7*4;var useAnalysisSetupState=function useAnalysisSetupState(_ref){var cleanUpAndSetUpModule=_ref.cleanUpAndSetUpModule,validateSetupIndices=_ref.moduleDescriptor.validateSetupIndices,setUpModule=_ref.setUpModule,sourceConfiguration=_ref.sourceConfiguration;var _useState=(0,_react.useState)(Date.now()-fourWeeksInMs),_useState2=_slicedToArray(_useState,2),startTime=_useState2[0],setStartTime=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),endTime=_useState4[0],setEndTime=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=_slicedToArray(_useState5,2),validatedIndices=_useState6[0],setValidatedIndices=_useState6[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return validateSetupIndices(sourceConfiguration);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref2){var errors=_ref2.data.errors;setValidatedIndices((function(previousValidatedIndices){return sourceConfiguration.indices.map((function(indexName){var previousValidatedIndex=previousValidatedIndices.filter((function(_ref3){var name=_ref3.name;return name===indexName}))[0];var indexValiationErrors=errors.filter((function(_ref4){var index=_ref4.index;return index===indexName}));if(indexValiationErrors.length>0){return{validity:"invalid",name:indexName,errors:indexValiationErrors}}else{return{validity:"valid",name:indexName,isSelected:(previousValidatedIndex===null||previousValidatedIndex===void 0?void 0:previousValidatedIndex.validity)==="valid"?previousValidatedIndex===null||previousValidatedIndex===void 0?void 0:previousValidatedIndex.isSelected:!(0,_log_analysis.isExampleDataIndex)(indexName)}}}))}))},onReject:function onReject(){setValidatedIndices([])}},[sourceConfiguration.indices]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),validateIndicesRequest=_useTrackedPromise2[0],validateIndices=_useTrackedPromise2[1];(0,_react.useEffect)((function(){validateIndices()}),[validateIndices]);var selectedIndexNames=(0,_react.useMemo)((function(){return validatedIndices.filter((function(index){return index.validity==="valid"&&index.isSelected})).map((function(i){return i.name}))}),[validatedIndices]);var setUp=(0,_react.useCallback)((function(){return setUpModule(selectedIndexNames,startTime,endTime)}),[setUpModule,selectedIndexNames,startTime,endTime]);var cleanUpAndSetUp=(0,_react.useCallback)((function(){return cleanUpAndSetUpModule(selectedIndexNames,startTime,endTime)}),[cleanUpAndSetUpModule,selectedIndexNames,startTime,endTime]);var isValidating=(0,_react.useMemo)((function(){return validateIndicesRequest.state==="pending"||validateIndicesRequest.state==="uninitialized"}),[validateIndicesRequest.state]);var validationErrors=(0,_react.useMemo)((function(){if(isValidating){return[]}if(validateIndicesRequest.state==="rejected"){return[{error:"NETWORK_ERROR"}]}if(selectedIndexNames.length===0){return[{error:"TOO_FEW_SELECTED_INDICES"}]}return validatedIndices.reduce((function(errors,index){return index.validity==="invalid"&&selectedIndexNames.includes(index.name)?[].concat(_toConsumableArray(errors),_toConsumableArray(index.errors)):errors}),[])}),[isValidating,validateIndicesRequest.state,selectedIndexNames,validatedIndices]);return{cleanUpAndSetUp:cleanUpAndSetUp,endTime:endTime,isValidating:isValidating,selectedIndexNames:selectedIndexNames,setEndTime:setEndTime,setStartTime:setStartTime,setUp:setUp,startTime:startTime,validatedIndices:validatedIndices,setValidatedIndices:setValidatedIndices,validationErrors:validationErrors}};exports.useAnalysisSetupState=useAnalysisSetupState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _page=__webpack_require__(1356);Object.keys(_page).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _page[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryCategoriesPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _page=__webpack_require__(709);var _page_content=__webpack_require__(1357);var _page_providers=__webpack_require__(1442);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogEntryCategoriesPage=function LogEntryCategoriesPage(){return _react.default.createElement(_page_providers.LogEntryCategoriesPageProviders,null,_react.default.createElement(_page.ColumnarPage,{"data-test-subj":"logsLogEntryCategoriesPage"},_react.default.createElement(_page_content.LogEntryCategoriesPageContent,null)))};exports.LogEntryCategoriesPage=LogEntryCategoriesPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryCategoriesPageContent=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _loading_page=__webpack_require__(753);var _log_analysis_setup=__webpack_require__(779);var _source_error_page=__webpack_require__(780);var _source_loading_page=__webpack_require__(738);var _log_analysis2=__webpack_require__(712);var _source=__webpack_require__(705);var _page_results_content=__webpack_require__(1374);var _page_setup_content=__webpack_require__(1440);var _use_log_entry_categories_module=__webpack_require__(787);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogEntryCategoriesPageContent=function LogEntryCategoriesPageContent(){var _useSourceContext=(0,_source.useSourceContext)(),hasFailedLoadingSource=_useSourceContext.hasFailedLoadingSource,isLoadingSource=_useSourceContext.isLoadingSource,isUninitialized=_useSourceContext.isUninitialized,loadSource=_useSourceContext.loadSource,loadSourceFailureMessage=_useSourceContext.loadSourceFailureMessage;var _useLogAnalysisCapabi=(0,_log_analysis2.useLogAnalysisCapabilitiesContext)(),hasLogAnalysisCapabilites=_useLogAnalysisCapabi.hasLogAnalysisCapabilites,hasLogAnalysisReadCapabilities=_useLogAnalysisCapabi.hasLogAnalysisReadCapabilities,hasLogAnalysisSetupCapabilities=_useLogAnalysisCapabi.hasLogAnalysisSetupCapabilities;var _useLogEntryCategorie=(0,_use_log_entry_categories_module.useLogEntryCategoriesModuleContext)(),fetchJobStatus=_useLogEntryCategorie.fetchJobStatus,fetchModuleDefinition=_useLogEntryCategorie.fetchModuleDefinition,setupStatus=_useLogEntryCategorie.setupStatus;(0,_react.useEffect)((function(){if(hasLogAnalysisReadCapabilities){fetchModuleDefinition();fetchJobStatus()}}),[fetchJobStatus,fetchModuleDefinition,hasLogAnalysisReadCapabilities]);if(isLoadingSource||isUninitialized){return _react.default.createElement(_source_loading_page.SourceLoadingPage,null)}else if(hasFailedLoadingSource){return _react.default.createElement(_source_error_page.SourceErrorPage,{errorMessage:loadSourceFailureMessage!==null&&loadSourceFailureMessage!==void 0?loadSourceFailureMessage:"",retry:loadSource})}else if(!hasLogAnalysisCapabilites){return _react.default.createElement(_log_analysis_setup.MlUnavailablePrompt,null)}else if(!hasLogAnalysisReadCapabilities){return _react.default.createElement(_log_analysis_setup.MissingResultsPrivilegesPrompt,null)}else if(setupStatus==="initializing"){return _react.default.createElement(_loading_page.LoadingPage,{message:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.jobStatusLoadingMessage",{defaultMessage:"Checking status of categorization jobs..."})})}else if(setupStatus==="unknown"){return _react.default.createElement(_log_analysis_setup.LogAnalysisSetupStatusUnknownPrompt,{retry:fetchJobStatus})}else if((0,_log_analysis.isSetupStatusWithResults)(setupStatus)){return _react.default.createElement(_page_results_content.LogEntryCategoriesResultsContent,null)}else if(!hasLogAnalysisSetupCapabilities){return _react.default.createElement(_log_analysis_setup.MissingSetupPrivilegesPrompt,null)}else{return _react.default.createElement(_page_setup_content.LogEntryCategoriesSetupContent,null)}};exports.LogEntryCategoriesPageContent=LogEntryCategoriesPageContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogAnalysisSetupPageContent=exports.LogAnalysisSetupPageHeader=exports.LogAnalysisSetupPage=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  height: 100%;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  max-width: 768px !important;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var LogAnalysisSetupPage=function LogAnalysisSetupPage(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,["children"]);return _react.default.createElement(LogEntryRateSetupPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(LogEntryRateSetupPageContent,_extends({verticalPosition:"center",horizontalPosition:"center"},rest),children)))};exports.LogAnalysisSetupPage=LogAnalysisSetupPage;var LogAnalysisSetupPageHeader=function LogAnalysisSetupPageHeader(_ref2){var children=_ref2.children;return _react.default.createElement(_eui.EuiPageContentHeader,null,_react.default.createElement(_eui.EuiPageContentHeaderSection,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h3",null,children))))};exports.LogAnalysisSetupPageHeader=LogAnalysisSetupPageHeader;var LogAnalysisSetupPageContent=_eui.EuiPageContentBody;exports.LogAnalysisSetupPageContent=LogAnalysisSetupPageContent;var LogEntryRateSetupPageContent=(0,_public.euiStyled)(_eui.EuiPageContent)(_templateObject());var LogEntryRateSetupPage=(0,_public.euiStyled)(_eui.EuiPage)(_templateObject2())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _initial_configuration_step=__webpack_require__(1360);Object.keys(_initial_configuration_step).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _initial_configuration_step[key]}})}));var _validation=__webpack_require__(1364);Object.keys(_validation).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _validation[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InitialConfigurationStep=exports.createInitialConfigurationStep=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _analysis_setup_indices_form=__webpack_require__(1361);var _analysis_setup_timerange_form=__webpack_require__(1362);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var createInitialConfigurationStep=function createInitialConfigurationStep(props){return{title:initialConfigurationStepTitle,children:_react2.default.createElement(InitialConfigurationStep,props)}};exports.createInitialConfigurationStep=createInitialConfigurationStep;var InitialConfigurationStep=function InitialConfigurationStep(_ref){var setStartTime=_ref.setStartTime,setEndTime=_ref.setEndTime,startTime=_ref.startTime,endTime=_ref.endTime,isValidating=_ref.isValidating,validatedIndices=_ref.validatedIndices,setupStatus=_ref.setupStatus,setValidatedIndices=_ref.setValidatedIndices,_ref$validationErrors=_ref.validationErrors,validationErrors=_ref$validationErrors===void 0?[]:_ref$validationErrors;var disabled=(0,_react2.useMemo)((function(){return!editableFormStatus.includes(setupStatus)}),[setupStatus]);return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_analysis_setup_timerange_form.AnalysisSetupTimerangeForm,{disabled:disabled,setStartTime:setStartTime,setEndTime:setEndTime,startTime:startTime,endTime:endTime}),_react2.default.createElement(_analysis_setup_indices_form.AnalysisSetupIndicesForm,{disabled:disabled,indices:validatedIndices,isValidating:isValidating,onChangeSelectedIndices:setValidatedIndices,valid:validationErrors.length===0}),_react2.default.createElement(ValidationErrors,{errors:validationErrors})))};exports.InitialConfigurationStep=InitialConfigurationStep;var editableFormStatus=["required","requiredForReconfiguration","requiredForUpdate","failed"];var errorCalloutTitle=_i18n.i18n.translate("xpack.infra.analysisSetup.steps.initialConfigurationStep.errorCalloutTitle",{defaultMessage:"Your index configuration is not valid"});var initialConfigurationStepTitle=_i18n.i18n.translate("xpack.infra.analysisSetup.configurationStepTitle",{defaultMessage:"Configuration"});var ValidationErrors=function ValidationErrors(_ref2){var errors=_ref2.errors;if(errors.length===0){return null}return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{color:"danger",iconType:"alert",title:errorCalloutTitle},_react2.default.createElement("ul",null,errors.map((function(error,i){return _react2.default.createElement("li",{key:i},formatValidationError(error))})))),_react2.default.createElement(_eui.EuiSpacer,null))};var formatValidationError=function formatValidationError(error){switch(error.error){case"NETWORK_ERROR":return _react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNetworkError",defaultMessage:"We couldn't load your index configuration"});case"TOO_FEW_SELECTED_INDICES":return _react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTooFewSelectedIndicesDescription",defaultMessage:"Select at least one index name."});default:return""}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnalysisSetupIndicesForm=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _loading_overlay_wrapper=__webpack_require__(755);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AnalysisSetupIndicesForm=function AnalysisSetupIndicesForm(_ref){var _ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,indices=_ref.indices,isValidating=_ref.isValidating,onChangeSelectedIndices=_ref.onChangeSelectedIndices,valid=_ref.valid;var handleCheckboxChange=(0,_react2.useCallback)((function(event){onChangeSelectedIndices(indices.map((function(index){var checkbox=event.currentTarget;return index.name===checkbox.id?_objectSpread({},index,{isSelected:checkbox.checked}):index})))}),[indices,onChangeSelectedIndices]);var choices=(0,_react2.useMemo)((function(){return indices.map((function(index){var checkbox=_react2.default.createElement(_eui.EuiCheckbox,{key:index.name,id:index.name,label:_react2.default.createElement(_eui.EuiCode,null,index.name),onChange:handleCheckboxChange,checked:index.validity==="valid"&&index.isSelected,disabled:disabled||index.validity==="invalid"});return index.validity==="valid"?checkbox:_react2.default.createElement("div",{key:index.name},_react2.default.createElement(_eui.EuiToolTip,{content:formatValidationError(index.errors)},checkbox))}))}),[disabled,handleCheckboxChange,indices]);return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTitle",defaultMessage:"Choose indices"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionDescription",defaultMessage:"By default, Machine Learning analyzes log messages in all log indices configured for the source. You can choose to only analyze a subset of the index names. Every selected index name must match at least one index with log entries."})},_react2.default.createElement(_loading_overlay_wrapper.LoadingOverlayWrapper,{isLoading:isValidating},_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,isInvalid:!valid,label:indicesSelectionLabel,labelType:"legend"},_react2.default.createElement(_react2.default.Fragment,null,choices))))};exports.AnalysisSetupIndicesForm=AnalysisSetupIndicesForm;var indicesSelectionLabel=_i18n.i18n.translate("xpack.infra.analysisSetup.indicesSelectionLabel",{defaultMessage:"Indices"});var formatValidationError=function formatValidationError(errors){return errors.map((function(error){switch(error.error){case"INDEX_NOT_FOUND":return _react2.default.createElement("p",{key:"".concat(error.error,"-").concat(error.index)},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionIndexNotFound",defaultMessage:"No indices match the pattern {index}",values:{index:_react2.default.createElement(_eui.EuiCode,null,error.index)}}));case"FIELD_NOT_FOUND":return _react2.default.createElement("p",{key:"".concat(error.error,"-").concat(error.index,"-").concat(error.field)},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNoTimestampField",defaultMessage:"At least one index matching {index} lacks a required field {field}.",values:{index:_react2.default.createElement(_eui.EuiCode,null,error.index),field:_react2.default.createElement(_eui.EuiCode,null,error.field)}}));case"FIELD_NOT_VALID":return _react2.default.createElement("p",{key:"".concat(error.error,"-").concat(error.index,"-").concat(error.field)},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTimestampNotValid",defaultMessage:"At least one index matching {index} has a field called {field} without the correct type.",values:{index:_react2.default.createElement(_eui.EuiCode,null,error.index),field:_react2.default.createElement(_eui.EuiCode,null,error.field)}}));default:return""}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnalysisSetupTimerangeForm=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _moment=_interopRequireDefault(__webpack_require__(11));var _react2=_interopRequireWildcard(__webpack_require__(3));var _fixed_datepicker=__webpack_require__(1363);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var startTimeLabel=_i18n.i18n.translate("xpack.infra.analysisSetup.startTimeLabel",{defaultMessage:"Start time"});var endTimeLabel=_i18n.i18n.translate("xpack.infra.analysisSetup.endTimeLabel",{defaultMessage:"End time"});var startTimeDefaultDescription=_i18n.i18n.translate("xpack.infra.analysisSetup.startTimeDefaultDescription",{defaultMessage:"Start of log indices"});var endTimeDefaultDescription=_i18n.i18n.translate("xpack.infra.analysisSetup.endTimeDefaultDescription",{defaultMessage:"Indefinitely"});function selectedDateToParam(selectedDate){if(selectedDate){return selectedDate.valueOf()}return undefined}var AnalysisSetupTimerangeForm=function AnalysisSetupTimerangeForm(_ref){var _ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,setStartTime=_ref.setStartTime,setEndTime=_ref.setEndTime,startTime=_ref.startTime,endTime=_ref.endTime;var now=(0,_react2.useMemo)((function(){return(0,_moment.default)()}),[]);var selectedEndTimeIsToday=!endTime||(0,_moment.default)(endTime).isSame(now,"day");var startTimeValue=(0,_react2.useMemo)((function(){return startTime?(0,_moment.default)(startTime):undefined}),[startTime]);var endTimeValue=(0,_react2.useMemo)((function(){return endTime?(0,_moment.default)(endTime):undefined}),[endTime]);return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeTitle",defaultMessage:"Choose a time range"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeDescription",defaultMessage:"By default, Machine Learning analyzes log messages in your log indices no older than four weeks, and continues indefinitely. You can specify a different date to begin, to end, or both."})},_react2.default.createElement(_eui.EuiFormRow,{error:false,fullWidth:true,isInvalid:false,label:startTimeLabel},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react2.default.createElement(_eui.EuiFormControlLayout,{clear:startTime&&!disabled?{onClick:function onClick(){return setStartTime(undefined)}}:undefined,isDisabled:disabled},_react2.default.createElement(_fixed_datepicker.FixedDatePicker,{disabled:disabled,showTimeSelect:true,selected:startTimeValue,onChange:function onChange(date){return setStartTime(selectedDateToParam(date))},placeholder:startTimeDefaultDescription,maxDate:now})))),_react2.default.createElement(_eui.EuiFormRow,{error:false,fullWidth:true,isInvalid:false,label:endTimeLabel},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react2.default.createElement(_eui.EuiFormControlLayout,{clear:endTime&&!disabled?{onClick:function onClick(){return setEndTime(undefined)}}:undefined,isDisabled:disabled},_react2.default.createElement(_fixed_datepicker.FixedDatePicker,{disabled:disabled,showTimeSelect:true,selected:endTimeValue,onChange:function onChange(date){return setEndTime(selectedDateToParam(date))},placeholder:endTimeDefaultDescription,openToDate:now,minDate:startTimeValue,minTime:selectedEndTimeIsToday?now:(0,_moment.default)().hour(0).minutes(0),maxTime:(0,_moment.default)().hour(23).minutes(59)})))))};exports.AnalysisSetupTimerangeForm=AnalysisSetupTimerangeForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FixedDatePicker=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _templateObject(){var data=_taggedTemplateLiteral(["\n  z-index: 3 !important;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var FixedDatePicker=(0,_public.euiStyled)((function(_ref){var className=_ref.className,inputClassName=_ref.inputClassName,datePickerProps=_objectWithoutProperties(_ref,["className","inputClassName"]);return _react.default.createElement(_eui.EuiDatePicker,_extends({},datePickerProps,{className:inputClassName,popperClassName:className}))}))(_templateObject());exports.FixedDatePicker=FixedDatePicker},function(module,exports,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _process_step=__webpack_require__(1366);Object.keys(_process_step).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _process_step[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProcessStep=exports.createProcessStep=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _create_ml_jobs_button=__webpack_require__(1367);var _recreate_ml_jobs_button=__webpack_require__(1368);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createProcessStep=function createProcessStep(props){return{title:processStepTitle,children:_react2.default.createElement(ProcessStep,props),status:props.setupStatus==="pending"?"incomplete":props.setupStatus==="failed"?"danger":props.setupStatus==="succeeded"?"complete":undefined}};exports.createProcessStep=createProcessStep;var ProcessStep=function ProcessStep(_ref){var cleanUpAndSetUp=_ref.cleanUpAndSetUp,errorMessages=_ref.errorMessages,isConfigurationValid=_ref.isConfigurationValid,setUp=_ref.setUp,setupStatus=_ref.setupStatus,viewResults=_ref.viewResults;return _react2.default.createElement(_eui.EuiText,{size:"s"},setupStatus==="pending"?_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.loadingText",defaultMessage:"Creating ML job..."}))):setupStatus==="failed"?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.failureText",defaultMessage:"Something went wrong creating the necessary ML jobs. Please ensure all selected log indices exist."}),_react2.default.createElement(_eui.EuiSpacer,null),errorMessages.map((function(errorMessage,i){return _react2.default.createElement(_eui.EuiCallOut,{key:i,color:"danger",iconType:"alert",title:errorCalloutTitle},_react2.default.createElement(_eui.EuiCode,{transparentBackground:true},errorMessage))})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:cleanUpAndSetUp},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.tryAgainButton",defaultMessage:"Try again"}))):setupStatus==="succeeded"?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.successText",defaultMessage:"The ML jobs have been set up successfully"}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:viewResults},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.viewResultsButton",defaultMessage:"View results"}))):setupStatus==="requiredForUpdate"||setupStatus==="requiredForReconfiguration"?_react2.default.createElement(_recreate_ml_jobs_button.RecreateMLJobsButton,{isDisabled:!isConfigurationValid,onClick:cleanUpAndSetUp}):_react2.default.createElement(_create_ml_jobs_button.CreateMLJobsButton,{isDisabled:!isConfigurationValid,onClick:setUp}))};exports.ProcessStep=ProcessStep;var errorCalloutTitle=_i18n.i18n.translate("xpack.infra.analysisSetup.steps.setupProcess.errorCalloutTitle",{defaultMessage:"An error occurred"});var processStepTitle=_i18n.i18n.translate("xpack.infra.analysisSetup.actionStepTitle",{defaultMessage:"Create ML job"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateMLJobsButton=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CreateMLJobsButton=function CreateMLJobsButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick;return _react2.default.createElement(_eui.EuiButton,{isDisabled:isDisabled,fill:true,onClick:onClick},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.createMlJobButton",defaultMessage:"Create ML job"}))};exports.CreateMLJobsButton=CreateMLJobsButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecreateMLJobsButton=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecreateMLJobsButton=function RecreateMLJobsButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick;return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.deleteAnalysisResultsWarning",defaultMessage:"This removes previously detected anomalies.",tagName:"p"}),_react2.default.createElement(_eui.EuiButton,{isDisabled:isDisabled,fill:true,onClick:onClick},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.recreateMlJobButton",defaultMessage:"Recreate ML jobs"})))};exports.RecreateMLJobsButton=RecreateMLJobsButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MissingResultsPrivilegesPrompt=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _user_management_link=__webpack_require__(939);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var MissingResultsPrivilegesPrompt=function MissingResultsPrivilegesPrompt(){return _react2.default.createElement(EmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.missingMlResultsPrivilegesTitle",defaultMessage:"Additional Machine Learning privileges required"})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.missingMlResultsPrivilegesBody",defaultMessage:"This feature makes use of Machine Learning jobs, which require at least the {machineLearningUserRole} role in order to access their status and results.",values:{machineLearningUserRole:_react2.default.createElement(_eui.EuiCode,null,"machine_learning_user")}})),actions:_react2.default.createElement(_user_management_link.UserManagementLink,null)})};exports.MissingResultsPrivilegesPrompt=MissingResultsPrivilegesPrompt;var EmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MissingSetupPrivilegesPrompt=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _user_management_link=__webpack_require__(939);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var MissingSetupPrivilegesPrompt=function MissingSetupPrivilegesPrompt(){return _react2.default.createElement(EmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.missingMlSetupPrivilegesTitle",defaultMessage:"Additional Machine Learning privileges required"})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.missingMlSetupPrivilegesBody",defaultMessage:"This feature makes use of Machine Learning jobs, which require the {machineLearningAdminRole} role in order to be set up.",values:{machineLearningAdminRole:_react2.default.createElement(_eui.EuiCode,null,"machine_learning_admin")}})),actions:_react2.default.createElement(_user_management_link.UserManagementLink,null)})};exports.MissingSetupPrivilegesPrompt=MissingSetupPrivilegesPrompt;var EmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MlUnavailablePrompt=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var MlUnavailablePrompt=function MlUnavailablePrompt(){return _react2.default.createElement(EmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.mlUnavailableTitle",defaultMessage:"This feature requires Machine Learning"})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.mlUnavailableBody",defaultMessage:"Check the {machineLearningAppLink} for more information.",values:{machineLearningAppLink:_react2.default.createElement(_eui.EuiLink,{href:"ml",target:"_blank"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysisPage.unavailable.mlAppLink",defaultMessage:"Machine Learning app"}))}})),actions:_react2.default.createElement(_eui.EuiButton,{target:"_blank",href:"ml",color:"primary",fill:true},_i18n.i18n.translate("xpack.infra.logs.analysis.mlAppButton",{defaultMessage:"Open Machine Learning"}))})};exports.MlUnavailablePrompt=MlUnavailablePrompt;var EmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogAnalysisSetupStatusUnknownPrompt=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogAnalysisSetupStatusUnknownPrompt=function LogAnalysisSetupStatusUnknownPrompt(_ref){var retry=_ref.retry;return _react.default.createElement(EmptyPrompt,{title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.logs.analysis.setupStatusUnknownTitle",defaultMessage:"We couldn't determine the status of your ML jobs."})),actions:_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return retry()},color:"primary",fill:true},_i18n.i18n.translate("xpack.infra.logs.analysis.setupStatusTryAgainButton",{defaultMessage:"Try again"}))})};exports.LogAnalysisSetupStatusUnknownPrompt=LogAnalysisSetupStatusUnknownPrompt;var EmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrorPage=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _page=__webpack_require__(709);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  min-width: 50vh;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var ErrorPage=function ErrorPage(_ref){var detailedMessage=_ref.detailedMessage,retry=_ref.retry,shortMessage=_ref.shortMessage;return _react2.default.createElement(_page.FlexPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(MinimumPageContent,{horizontalPosition:"center",verticalPosition:"center",panelPaddingSize:"none"},_react2.default.createElement(_eui.EuiPageContentBody,null,_react2.default.createElement(_eui.EuiCallOut,{color:"danger",iconType:"cross",title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.errorPage.errorOccurredTitle",defaultMessage:"An error occurred"})},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,shortMessage),retry?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:retry,iconType:"refresh"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.errorPage.tryAgainButtonLabel",defaultMessage:"Try again"}))):null),detailedMessage?_react2.default.createElement("div",null,detailedMessage):null)))))};exports.ErrorPage=ErrorPage;var MinimumPageContent=(0,_public.euiStyled)(_eui.EuiPageContent)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ResultsContentPage=exports.LogEntryCategoriesResultsContent=void 0;var _datemath=_interopRequireDefault(__webpack_require__(24));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _moment=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(9);var _public2=__webpack_require__(64);var _log_analysis_job_status=__webpack_require__(842);var _log_analysis_results=__webpack_require__(739);var _use_interval=__webpack_require__(942);var _top_categories=__webpack_require__(1381);var _use_log_entry_categories_module=__webpack_require__(787);var _use_log_entry_categories_results=__webpack_require__(1436);var _use_log_entry_categories_results_url_state=__webpack_require__(1439);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  flex-direction: column;\n\n  .euiFlexGroup--responsive > .euiFlexItem {\n    flex-basis: auto !important;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var JOB_STATUS_POLLING_INTERVAL=3e4;var LogEntryCategoriesResultsContent=function LogEntryCategoriesResultsContent(){(0,_public2.useTrackPageview)({app:"infra_logs",path:"log_entry_categories_results"});(0,_public2.useTrackPageview)({app:"infra_logs",path:"log_entry_categories_results",delay:15e3});var _useLogEntryCategorie=(0,_use_log_entry_categories_module.useLogEntryCategoriesModuleContext)(),fetchJobStatus=_useLogEntryCategorie.fetchJobStatus,jobStatus=_useLogEntryCategorie.jobStatus,setupStatus=_useLogEntryCategorie.setupStatus,viewSetupForReconfiguration=_useLogEntryCategorie.viewSetupForReconfiguration,viewSetupForUpdate=_useLogEntryCategorie.viewSetupForUpdate,jobIds=_useLogEntryCategorie.jobIds,sourceId=_useLogEntryCategorie.sourceConfiguration.sourceId;var _useLogEntryCategorie2=(0,_use_log_entry_categories_results_url_state.useLogEntryCategoriesResultsUrlState)(),selectedTimeRange=_useLogEntryCategorie2.timeRange,setSelectedTimeRange=_useLogEntryCategorie2.setTimeRange,autoRefresh=_useLogEntryCategorie2.autoRefresh,setAutoRefresh=_useLogEntryCategorie2.setAutoRefresh;var _useState=(0,_react.useState)((function(){return{lastChangedTime:Date.now(),timeRange:stringToNumericTimeRange(selectedTimeRange)}})),_useState2=_slicedToArray(_useState,2),categoryQueryTimeRange=_useState2[0],setCategoryQueryTimeRange=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),categoryQueryDatasets=_useState4[0],setCategoryQueryDatasets=_useState4[1];var _useKibana=(0,_public.useKibana)(),services=_useKibana.services;var showLoadDataErrorNotification=(0,_react.useCallback)((function(error){var _services$notificatio;(_services$notificatio=services.notifications)===null||_services$notificatio===void 0?void 0:_services$notificatio.toasts.addError(error,{title:loadDataErrorTitle})}),[services.notifications]);var _useLogEntryCategorie3=(0,_use_log_entry_categories_results.useLogEntryCategoriesResults)({categoriesCount:25,endTime:categoryQueryTimeRange.timeRange.endTime,filteredDatasets:categoryQueryDatasets,onGetTopLogEntryCategoriesError:showLoadDataErrorNotification,sourceId:sourceId,startTime:categoryQueryTimeRange.timeRange.startTime}),getLogEntryCategoryDatasets=_useLogEntryCategorie3.getLogEntryCategoryDatasets,getTopLogEntryCategories=_useLogEntryCategorie3.getTopLogEntryCategories,isLoadingLogEntryCategoryDatasets=_useLogEntryCategorie3.isLoadingLogEntryCategoryDatasets,isLoadingTopLogEntryCategories=_useLogEntryCategorie3.isLoadingTopLogEntryCategories,logEntryCategoryDatasets=_useLogEntryCategorie3.logEntryCategoryDatasets,topLogEntryCategories=_useLogEntryCategorie3.topLogEntryCategories;var handleQueryTimeRangeChange=(0,_react.useCallback)((function(_ref){var startTime=_ref.start,endTime=_ref.end;setCategoryQueryTimeRange((function(previousQueryParameters){return _objectSpread({},previousQueryParameters,{timeRange:stringToNumericTimeRange({startTime:startTime,endTime:endTime}),lastChangedTime:Date.now()})}))}),[setCategoryQueryTimeRange]);var handleSelectedTimeRangeChange=(0,_react.useCallback)((function(selectedTime){if(selectedTime.isInvalid){return}setSelectedTimeRange({startTime:selectedTime.start,endTime:selectedTime.end});handleQueryTimeRangeChange(selectedTime)}),[setSelectedTimeRange,handleQueryTimeRangeChange]);var handleAutoRefreshChange=(0,_react.useCallback)((function(_ref2){var isPaused=_ref2.isPaused,interval=_ref2.refreshInterval;setAutoRefresh({isPaused:isPaused,interval:interval})}),[setAutoRefresh]);var isFirstUse=(0,_react.useMemo)((function(){return setupStatus==="hiddenAfterSuccess"}),[setupStatus]);var hasResults=(0,_react.useMemo)((function(){return topLogEntryCategories.length>0}),[topLogEntryCategories.length]);(0,_react.useEffect)((function(){getTopLogEntryCategories()}),[getTopLogEntryCategories,categoryQueryDatasets,categoryQueryTimeRange.lastChangedTime]);(0,_react.useEffect)((function(){getLogEntryCategoryDatasets()}),[getLogEntryCategoryDatasets,categoryQueryTimeRange.lastChangedTime]);(0,_use_interval.useInterval)((function(){fetchJobStatus()}),JOB_STATUS_POLLING_INTERVAL);(0,_use_interval.useInterval)((function(){handleQueryTimeRangeChange({start:selectedTimeRange.startTime,end:selectedTimeRange.endTime})}),autoRefresh.isPaused?null:autoRefresh.interval);return _react.default.createElement(ResultsContentPage,null,_react.default.createElement(_eui.EuiFlexGroup,{direction:"column"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSuperDatePicker,{start:selectedTimeRange.startTime,end:selectedTimeRange.endTime,onTimeChange:handleSelectedTimeRangeChange,isPaused:autoRefresh.isPaused,refreshInterval:autoRefresh.interval,onRefreshChange:handleAutoRefreshChange}))))),(0,_log_analysis_job_status.jobHasProblem)(jobStatus["log-entry-categories-count"],setupStatus)?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_job_status.LogAnalysisJobProblemIndicator,{jobStatus:jobStatus["log-entry-categories-count"],onRecreateMlJobForReconfiguration:viewSetupForReconfiguration,onRecreateMlJobForUpdate:viewSetupForUpdate,setupStatus:setupStatus})):null,isFirstUse&&!hasResults?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_results.FirstUseCallout,null)):null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_top_categories.TopCategoriesSection,{availableDatasets:logEntryCategoryDatasets,isLoadingDatasets:isLoadingLogEntryCategoryDatasets,isLoadingTopCategories:isLoadingTopLogEntryCategories,jobId:jobIds["log-entry-categories-count"],onChangeDatasetSelection:setCategoryQueryDatasets,onRequestRecreateMlJob:viewSetupForReconfiguration,selectedDatasets:categoryQueryDatasets,sourceId:sourceId,timeRange:categoryQueryTimeRange.timeRange,topCategories:topLogEntryCategories})))))};exports.LogEntryCategoriesResultsContent=LogEntryCategoriesResultsContent;var stringToNumericTimeRange=function stringToNumericTimeRange(timeRange){return{startTime:(0,_moment.default)(_datemath.default.parse(timeRange.startTime,{momentInstance:_moment.default})).valueOf(),endTime:(0,_moment.default)(_datemath.default.parse(timeRange.endTime,{momentInstance:_moment.default,roundUp:true})).valueOf()}};var ResultsContentPage=(0,_public2.euiStyled)(_eui.EuiPage)(_templateObject());exports.ResultsContentPage=ResultsContentPage;var loadDataErrorTitle=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.loadDataErrorTitle",{defaultMessage:"Failed to load category data"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.jobHasProblem=exports.LogAnalysisJobProblemIndicator=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _job_configuration_outdated_callout=__webpack_require__(1376);var _job_definition_outdated_callout=__webpack_require__(1377);var _job_stopped_callout=__webpack_require__(1378);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogAnalysisJobProblemIndicator=function LogAnalysisJobProblemIndicator(_ref){var jobStatus=_ref.jobStatus,setupStatus=_ref.setupStatus,onRecreateMlJobForReconfiguration=_ref.onRecreateMlJobForReconfiguration,onRecreateMlJobForUpdate=_ref.onRecreateMlJobForUpdate;if(isStopped(jobStatus)){return _react.default.createElement(_job_stopped_callout.JobStoppedCallout,null)}else if(isUpdatable(setupStatus)){return _react.default.createElement(_job_definition_outdated_callout.JobDefinitionOutdatedCallout,{onRecreateMlJob:onRecreateMlJobForUpdate})}else if(isReconfigurable(setupStatus)){return _react.default.createElement(_job_configuration_outdated_callout.JobConfigurationOutdatedCallout,{onRecreateMlJob:onRecreateMlJobForReconfiguration})}return null};exports.LogAnalysisJobProblemIndicator=LogAnalysisJobProblemIndicator;var isStopped=function isStopped(jobStatus){return jobStatus==="stopped"};var isUpdatable=function isUpdatable(setupStatus){return setupStatus==="skippedButUpdatable"};var isReconfigurable=function isReconfigurable(setupStatus){return setupStatus==="skippedButReconfigurable"};var jobHasProblem=function jobHasProblem(jobStatus,setupStatus){return isStopped(jobStatus)||isUpdatable(setupStatus)||isReconfigurable(setupStatus)};exports.jobHasProblem=jobHasProblem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobConfigurationOutdatedCallout=void 0;var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _recreate_job_callout=__webpack_require__(940);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JobConfigurationOutdatedCallout=function JobConfigurationOutdatedCallout(_ref){var onRecreateMlJob=_ref.onRecreateMlJob;return _react2.default.createElement(_recreate_job_callout.RecreateJobCallout,{title:jobConfigurationOutdatedTitle,onRecreateMlJob:onRecreateMlJob},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.jobConfigurationOutdatedCalloutMessage",defaultMessage:"The ML job was created using a different source configuration. Recreate the job to apply the current configuration. This removes previously detected anomalies."}))};exports.JobConfigurationOutdatedCallout=JobConfigurationOutdatedCallout;var jobConfigurationOutdatedTitle=_i18n.i18n.translate("xpack.infra.logs.analysis.jobConfigurationOutdatedCalloutTitle",{defaultMessage:"ML job configuration outdated"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobDefinitionOutdatedCallout=void 0;var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _recreate_job_callout=__webpack_require__(940);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JobDefinitionOutdatedCallout=function JobDefinitionOutdatedCallout(_ref){var onRecreateMlJob=_ref.onRecreateMlJob;return _react2.default.createElement(_recreate_job_callout.RecreateJobCallout,{title:jobDefinitionOutdatedTitle,onRecreateMlJob:onRecreateMlJob},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.jobDefinitionOutdatedCalloutMessage",defaultMessage:"A newer version of the ML job is available. Recreate the job to deploy the newer version. This removes previously detected anomalies."}))};exports.JobDefinitionOutdatedCallout=JobDefinitionOutdatedCallout;var jobDefinitionOutdatedTitle=_i18n.i18n.translate("xpack.infra.logs.analysis.jobDefinitionOutdatedCalloutTitle",{defaultMessage:"ML job definition outdated"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobStoppedCallout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JobStoppedCallout=function JobStoppedCallout(){return _react.default.createElement(_eui.EuiCallOut,{color:"primary",title:jobStoppedTitle},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.logs.analysis.jobStoppedCalloutMessage",defaultMessage:"The ML job has been stopped manually or due to a lack of resources. New log entries will not be processed until the job has been restarted.",tagName:"p"}))};exports.JobStoppedCallout=JobStoppedCallout;var jobStoppedTitle=_i18n.i18n.translate("xpack.infra.logs.analysis.jobStoppedCalloutTitle",{defaultMessage:"ML job stopped"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEntitySpecificSingleMetricViewerLink=exports.AnalyzeInMlButton=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _risonNode=__webpack_require__(770);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AnalyzeInMlButton=function AnalyzeInMlButton(_ref){var jobId=_ref.jobId,partition=_ref.partition,timeRange=_ref.timeRange;var linkProps=(0,_use_link_props.useLinkProps)(typeof partition==="string"?getEntitySpecificSingleMetricViewerLink(jobId,timeRange,{"event.dataset":partition}):getOverallAnomalyExplorerLinkDescriptor(jobId,timeRange));var buttonLabel=_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.analyzeInMlButtonLabel",defaultMessage:"Analyze in ML"});return typeof partition==="string"?_react2.default.createElement(_eui.EuiButton,_extends({fill:false,size:"s"},linkProps),buttonLabel):_react2.default.createElement(_eui.EuiButton,_extends({fill:true,size:"s"},linkProps),buttonLabel)};exports.AnalyzeInMlButton=AnalyzeInMlButton;var getOverallAnomalyExplorerLinkDescriptor=function getOverallAnomalyExplorerLinkDescriptor(jobId,timeRange){var _convertTimeRangeToPa=convertTimeRangeToParams(timeRange),from=_convertTimeRangeToPa.from,to=_convertTimeRangeToPa.to;var _g=(0,_risonNode.encode)({ml:{jobIds:[jobId]},time:{from:from,to:to}});return{app:"ml",hash:"/explorer",search:{_g:_g}}};var getEntitySpecificSingleMetricViewerLink=function getEntitySpecificSingleMetricViewerLink(jobId,timeRange,entities){var _convertTimeRangeToPa2=convertTimeRangeToParams(timeRange),from=_convertTimeRangeToPa2.from,to=_convertTimeRangeToPa2.to;var _g=(0,_risonNode.encode)({ml:{jobIds:[jobId]},time:{from:from,to:to,mode:"absolute"}});var _a=(0,_risonNode.encode)({mlTimeSeriesExplorer:{entities:entities}});return{app:"ml",hash:"/timeseriesexplorer",search:{_g:_g,_a:_a}}};exports.getEntitySpecificSingleMetricViewerLink=getEntitySpecificSingleMetricViewerLink;var convertTimeRangeToParams=function convertTimeRangeToParams(timeRange){return{from:new Date(timeRange.startTime).toISOString(),to:new Date(timeRange.endTime).toISOString()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FirstUseCallout=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FirstUseCallout=function FirstUseCallout(){return _react.default.createElement(_eui.EuiCallOut,{color:"success",title:_i18n.i18n.translate("xpack.infra.logs.analysis.onboardingSuccessTitle",{defaultMessage:"Success!"})},_react.default.createElement("p",null,_i18n.i18n.translate("xpack.infra.logs.analysis.onboardingSuccessContent",{defaultMessage:"Please allow a few minutes for our machine learning robots to begin collecting data."})))};exports.FirstUseCallout=FirstUseCallout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _top_categories_section=__webpack_require__(1382);Object.keys(_top_categories_section).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _top_categories_section[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TopCategoriesSection=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _beta_badge=__webpack_require__(781);var _loading_overlay_wrapper=__webpack_require__(755);var _log_analysis_job_status=__webpack_require__(842);var _log_analysis_results=__webpack_require__(739);var _datasets_selector=__webpack_require__(1383);var _top_categories_table=__webpack_require__(1384);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TopCategoriesSection=function TopCategoriesSection(_ref){var availableDatasets=_ref.availableDatasets,_ref$isLoadingDataset=_ref.isLoadingDatasets,isLoadingDatasets=_ref$isLoadingDataset===void 0?false:_ref$isLoadingDataset,_ref$isLoadingTopCate=_ref.isLoadingTopCategories,isLoadingTopCategories=_ref$isLoadingTopCate===void 0?false:_ref$isLoadingTopCate,jobId=_ref.jobId,onChangeDatasetSelection=_ref.onChangeDatasetSelection,onRequestRecreateMlJob=_ref.onRequestRecreateMlJob,selectedDatasets=_ref.selectedDatasets,sourceId=_ref.sourceId,timeRange=_ref.timeRange,topCategories=_ref.topCategories;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"m","aria-label":title},_react.default.createElement("h1",null,title," ",_react.default.createElement(_beta_badge.BetaBadge,null)))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_job_status.RecreateJobButton,{onClick:onRequestRecreateMlJob,size:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_results.AnalyzeInMlButton,{jobId:jobId,timeRange:timeRange}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_datasets_selector.DatasetsSelector,{availableDatasets:availableDatasets,isLoading:isLoadingDatasets,onChangeDatasetSelection:onChangeDatasetSelection,selectedDatasets:selectedDatasets}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_loading_overlay_wrapper.LoadingOverlayWrapper,{isLoading:isLoadingTopCategories,loadingChildren:_react.default.createElement(LoadingOverlayContent,null)},_react.default.createElement(_top_categories_table.TopCategoriesTable,{categorizationJobId:jobId,sourceId:sourceId,timeRange:timeRange,topCategories:topCategories})))};exports.TopCategoriesSection=TopCategoriesSection;var title=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.topCategoriesSectionTitle",{defaultMessage:"Log message categories"});var loadingAriaLabel=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.topCategoriesSectionLoadingAriaLabel",{defaultMessage:"Loading message categories"});var LoadingOverlayContent=function LoadingOverlayContent(){return _react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl","aria-label":loadingAriaLabel})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DatasetsSelector=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var DatasetsSelector=function DatasetsSelector(_ref){var availableDatasets=_ref.availableDatasets,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading,onChangeDatasetSelection=_ref.onChangeDatasetSelection,selectedDatasets=_ref.selectedDatasets;var options=(0,_react.useMemo)((function(){return availableDatasets.map((function(dataset){return{value:dataset,label:(0,_log_analysis.getFriendlyNameForPartitionId)(dataset)}}))}),[availableDatasets]);var selectedOptions=(0,_react.useMemo)((function(){return options.filter((function(_ref2){var value=_ref2.value;return value!=null&&selectedDatasets.includes(value)}))}),[options,selectedDatasets]);var handleChange=(0,_react.useCallback)((function(newSelectedOptions){return onChangeDatasetSelection(newSelectedOptions.map((function(_ref3){var value=_ref3.value;return value})).filter(isDefined))}),[onChangeDatasetSelection]);return _react.default.createElement(_eui.EuiComboBox,{"aria-label":datasetFilterPlaceholder,isLoading:isLoading,onChange:handleChange,options:options,placeholder:datasetFilterPlaceholder,selectedOptions:selectedOptions})};exports.DatasetsSelector=DatasetsSelector;var datasetFilterPlaceholder=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.datasetFilterPlaceholder",{defaultMessage:"Filter by datasets"});var isDefined=function isDefined(value){return value!=null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TopCategoriesTable=void 0;var _eui=__webpack_require__(4);var _numeral=_interopRequireDefault(__webpack_require__(216));var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _reactUse=__webpack_require__(747);var _public=__webpack_require__(64);var _basic_table=__webpack_require__(943);var _anomaly_severity_indicator_list=__webpack_require__(1386);var _category_details_row=__webpack_require__(1388);var _category_expression=__webpack_require__(1424);var _datasets_action_list=__webpack_require__(1425);var _datasets_list=__webpack_require__(1427);var _log_entry_count_sparkline=__webpack_require__(1428);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _templateObject(){var data=_taggedTemplateLiteral(["\n  &.euiTableRow--topAligned .euiTableRowCell {\n    vertical-align: top;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var TopCategoriesTable=(0,_public.euiStyled)((function(_ref){var categorizationJobId=_ref.categorizationJobId,className=_ref.className,sourceId=_ref.sourceId,timeRange=_ref.timeRange,topCategories=_ref.topCategories;var _useSet=(0,_reactUse.useSet)(new Set),_useSet2=_slicedToArray(_useSet,2),expandedCategories=_useSet2[0],_useSet2$=_useSet2[1],expandCategory=_useSet2$.add,collapseCategory=_useSet2$.remove;var columns=(0,_react.useMemo)((function(){return createColumns(timeRange,categorizationJobId,expandedCategories,expandCategory,collapseCategory)}),[categorizationJobId,collapseCategory,expandCategory,expandedCategories,timeRange]);var expandedRowContentsById=(0,_react.useMemo)((function(){return _toConsumableArray(expandedCategories).reduce((function(aggregatedCategoryRows,categoryId){return _objectSpread({},aggregatedCategoryRows,_defineProperty({},categoryId,_react.default.createElement(_category_details_row.CategoryDetailsRow,{categoryId:categoryId,sourceId:sourceId,timeRange:timeRange})))}),{})}),[expandedCategories,sourceId,timeRange]);return _react.default.createElement(_eui.EuiBasicTable,{columns:columns,itemIdToExpandedRowMap:expandedRowContentsById,itemId:"categoryId",items:topCategories,rowProps:{className:"".concat(className," euiTableRow--topAligned")}})}))(_templateObject());exports.TopCategoriesTable=TopCategoriesTable;var createColumns=function createColumns(timeRange,categorizationJobId,expandedCategories,expandCategory,collapseCategory){return[{align:"right",field:"logEntryCount",name:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.countColumnTitle",{defaultMessage:"Message count"}),render:function render(logEntryCount){return(0,_numeral.default)(logEntryCount).format("0,0")},width:"120px"},{field:"histograms",name:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.trendColumnTitle",{defaultMessage:"Trend"}),render:function render(histograms,item){return _react.default.createElement(_log_entry_count_sparkline.LogEntryCountSparkline,{currentCount:item.logEntryCount,histograms:histograms,timeRange:timeRange})},width:"220px"},{field:"regularExpression",name:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.categoryColumnTitle",{defaultMessage:"Category"}),truncateText:true,render:function render(regularExpression){return _react.default.createElement(_category_expression.RegularExpressionRepresentation,{regularExpression:regularExpression})}},{field:"datasets",name:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.datasetColumnTitle",{defaultMessage:"Datasets"}),render:function render(datasets){return _react.default.createElement(_datasets_list.DatasetsList,{datasets:datasets})},width:"200px"},{align:"right",field:"maximumAnomalyScore",name:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.maximumAnomalyScoreColumnTitle",{defaultMessage:"Maximum anomaly score"}),render:function render(_maximumAnomalyScore,item){return _react.default.createElement(_anomaly_severity_indicator_list.AnomalySeverityIndicatorList,{datasets:item.datasets})},width:"160px"},{actions:[{render:function render(category){return _react.default.createElement(_datasets_action_list.DatasetActionsList,{categorizationJobId:categorizationJobId,categoryId:category.categoryId,datasets:category.datasets,timeRange:timeRange})}}],width:"40px"},{align:"right",isExpander:true,render:function render(item){return _react.default.createElement(_basic_table.RowExpansionButton,{isExpanded:expandedCategories.has(item.categoryId),item:item.categoryId,onCollapse:collapseCategory,onExpand:expandCategory})},width:"40px"}]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RowExpansionButton=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RowExpansionButton=function RowExpansionButton(_ref){var isExpanded=_ref.isExpanded,item=_ref.item,onCollapse=_ref.onCollapse,onExpand=_ref.onExpand;var handleClick=(0,_react.useCallback)((function(){return isExpanded?onCollapse(item):onExpand(item)}),[isExpanded,item,onCollapse,onExpand]);return _react.default.createElement(_eui.EuiButtonIcon,{onClick:handleClick,"aria-label":isExpanded?collapseAriaLabel:expandAriaLabel,iconType:isExpanded?"arrowUp":"arrowDown"})};exports.RowExpansionButton=RowExpansionButton;var collapseAriaLabel=_i18n.i18n.translate("xpack.infra.table.collapseRowLabel",{defaultMessage:"Collapse"});var expandAriaLabel=_i18n.i18n.translate("xpack.infra.table.expandRowLabel",{defaultMessage:"Expand"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomalySeverityIndicatorList=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _anomaly_severity_indicator=__webpack_require__(1387);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AnomalySeverityIndicatorList=function AnomalySeverityIndicatorList(_ref){var datasets=_ref.datasets;return _react.default.createElement("ul",null,datasets.map((function(dataset){var datasetLabel=(0,_log_analysis.getFriendlyNameForPartitionId)(dataset.name);return _react.default.createElement("li",{key:datasetLabel},_react.default.createElement(_anomaly_severity_indicator.AnomalySeverityIndicator,{anomalyScore:dataset.maximumAnomalyScore}))})))};exports.AnomalySeverityIndicatorList=AnomalySeverityIndicatorList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomalySeverityIndicator=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AnomalySeverityIndicator=function AnomalySeverityIndicator(_ref){var anomalyScore=_ref.anomalyScore;var severityColor=(0,_react.useMemo)((function(){return getColorForAnomalyScore(anomalyScore)}),[anomalyScore]);return _react.default.createElement(_eui.EuiHealth,{color:severityColor},(0,_log_analysis.formatAnomalyScore)(anomalyScore))};exports.AnomalySeverityIndicator=AnomalySeverityIndicator;var getColorForAnomalyScore=function getColorForAnomalyScore(anomalyScore){var severityCategory=(0,_log_analysis.getSeverityCategoryForScore)(anomalyScore);if(severityCategory!=null&&severityCategory in _log_analysis.ML_SEVERITY_COLORS){return _log_analysis.ML_SEVERITY_COLORS[severityCategory]}else{return"subdued"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoryDetailsRow=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _use_log_entry_category_examples=__webpack_require__(1389);var _category_example_message=__webpack_require__(1404);var _category_example_messages_empty_indicator=__webpack_require__(1421);var _category_example_messages_failure_indicator=__webpack_require__(1422);var _category_example_messages_loading_indicator=__webpack_require__(1423);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-items: stretch;\n  flex-direction: column;\n  flex: 1 0 0%;\n  overflow: hidden;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var exampleCount=5;var CategoryDetailsRow=function CategoryDetailsRow(_ref){var categoryId=_ref.categoryId,timeRange=_ref.timeRange,sourceId=_ref.sourceId;var _useLogEntryCategoryE=(0,_use_log_entry_category_examples.useLogEntryCategoryExamples)({categoryId:categoryId,endTime:timeRange.endTime,exampleCount:exampleCount,sourceId:sourceId,startTime:timeRange.startTime}),getLogEntryCategoryExamples=_useLogEntryCategoryE.getLogEntryCategoryExamples,hasFailedLoadingLogEntryCategoryExamples=_useLogEntryCategoryE.hasFailedLoadingLogEntryCategoryExamples,isLoadingLogEntryCategoryExamples=_useLogEntryCategoryE.isLoadingLogEntryCategoryExamples,logEntryCategoryExamples=_useLogEntryCategoryE.logEntryCategoryExamples;(0,_react.useEffect)((function(){getLogEntryCategoryExamples()}),[getLogEntryCategoryExamples]);return _react.default.createElement(CategoryExampleMessages,null,isLoadingLogEntryCategoryExamples?_react.default.createElement(_category_example_messages_loading_indicator.CategoryExampleMessagesLoadingIndicator,{exampleCount:exampleCount}):hasFailedLoadingLogEntryCategoryExamples?_react.default.createElement(_category_example_messages_failure_indicator.CategoryExampleMessagesFailureIndicator,{onRetry:getLogEntryCategoryExamples}):logEntryCategoryExamples.length===0?_react.default.createElement(_category_example_messages_empty_indicator.CategoryExampleMessagesEmptyIndicator,{onReload:getLogEntryCategoryExamples}):logEntryCategoryExamples.map((function(categoryExample,categoryExampleIndex){return _react.default.createElement(_category_example_message.CategoryExampleMessage,{dataset:categoryExample.dataset,key:categoryExampleIndex,message:categoryExample.message,timestamp:categoryExample.timestamp})})))};exports.CategoryDetailsRow=CategoryDetailsRow;var CategoryExampleMessages=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryCategoryExamples=void 0;var _react=__webpack_require__(3);var _use_tracked_promise=__webpack_require__(214);var _get_log_entry_category_examples=__webpack_require__(1390);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryCategoryExamples=function useLogEntryCategoryExamples(_ref){var categoryId=_ref.categoryId,endTime=_ref.endTime,exampleCount=_ref.exampleCount,sourceId=_ref.sourceId,startTime=_ref.startTime;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),logEntryCategoryExamples=_useState2[0],setLogEntryCategoryExamples=_useState2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"creation",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_get_log_entry_category_examples.callGetLogEntryCategoryExamplesAPI)(sourceId,startTime,endTime,categoryId,exampleCount);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref2){var examples=_ref2.data.examples;setLogEntryCategoryExamples(examples)}},[categoryId,endTime,exampleCount,sourceId,startTime]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),getLogEntryCategoryExamplesRequest=_useTrackedPromise2[0],getLogEntryCategoryExamples=_useTrackedPromise2[1];var isLoadingLogEntryCategoryExamples=(0,_react.useMemo)((function(){return getLogEntryCategoryExamplesRequest.state==="pending"}),[getLogEntryCategoryExamplesRequest.state]);var hasFailedLoadingLogEntryCategoryExamples=(0,_react.useMemo)((function(){return getLogEntryCategoryExamplesRequest.state==="rejected"}),[getLogEntryCategoryExamplesRequest.state]);return{getLogEntryCategoryExamples:getLogEntryCategoryExamples,hasFailedLoadingLogEntryCategoryExamples:hasFailedLoadingLogEntryCategoryExamples,isLoadingLogEntryCategoryExamples:isLoadingLogEntryCategoryExamples,logEntryCategoryExamples:logEntryCategoryExamples}};exports.useLogEntryCategoryExamples=useLogEntryCategoryExamples},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callGetLogEntryCategoryExamplesAPI=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(756);var _runtime_types=__webpack_require__(210);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callGetLogEntryCategoryExamplesAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(sourceId,startTime,endTime,categoryId,exampleCount){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_log_analysis.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_EXAMPLES_PATH,{method:"POST",body:JSON.stringify(_log_analysis.getLogEntryCategoryExamplesRequestPayloadRT.encode({data:{categoryId:categoryId,exampleCount:exampleCount,sourceId:sourceId,timeRange:{startTime:startTime,endTime:endTime}}}))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_log_analysis.getLogEntryCategoryExamplesSuccessReponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callGetLogEntryCategoryExamplesAPI(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}();exports.callGetLogEntryCategoryExamplesAPI=callGetLogEntryCategoryExamplesAPI},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_entry_categories=__webpack_require__(1392);Object.keys(_log_entry_categories).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_categories[key]}})}));var _log_entry_category_datasets=__webpack_require__(1399);Object.keys(_log_entry_category_datasets).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_category_datasets[key]}})}));var _log_entry_category_examples=__webpack_require__(1400);Object.keys(_log_entry_category_examples).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_category_examples[key]}})}));var _log_entry_rate=__webpack_require__(1401);Object.keys(_log_entry_rate).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_rate[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogEntryCategoriesResponsePayloadRT=exports.getLogEntryCategoriesSuccessReponsePayloadRT=exports.logEntryCategoryRT=exports.logEntryCategoryDatasetRT=exports.logEntryCategoryHistogramRT=exports.logEntryCategoryHistogramBucketRT=exports.getLogEntryCategoriesRequestPayloadRT=exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORIES_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _shared=__webpack_require__(782);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORIES_PATH="/api/infra/log_analysis/results/log_entry_categories";exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORIES_PATH=LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORIES_PATH;var logEntryCategoriesHistogramParametersRT=rt.type({id:rt.string,timeRange:_shared.timeRangeRT,bucketCount:rt.number});var getLogEntryCategoriesRequestPayloadRT=rt.type({data:rt.intersection([rt.type({categoryCount:rt.number,sourceId:rt.string,timeRange:_shared.timeRangeRT,histograms:rt.array(logEntryCategoriesHistogramParametersRT)}),rt.partial({datasets:rt.array(rt.string)})])});exports.getLogEntryCategoriesRequestPayloadRT=getLogEntryCategoriesRequestPayloadRT;var logEntryCategoryHistogramBucketRT=rt.type({startTime:rt.number,bucketDuration:rt.number,logEntryCount:rt.number});exports.logEntryCategoryHistogramBucketRT=logEntryCategoryHistogramBucketRT;var logEntryCategoryHistogramRT=rt.type({histogramId:rt.string,buckets:rt.array(logEntryCategoryHistogramBucketRT)});exports.logEntryCategoryHistogramRT=logEntryCategoryHistogramRT;var logEntryCategoryDatasetRT=rt.type({name:rt.string,maximumAnomalyScore:rt.number});exports.logEntryCategoryDatasetRT=logEntryCategoryDatasetRT;var logEntryCategoryRT=rt.type({categoryId:rt.number,datasets:rt.array(logEntryCategoryDatasetRT),histograms:rt.array(logEntryCategoryHistogramRT),logEntryCount:rt.number,maximumAnomalyScore:rt.number,regularExpression:rt.string});exports.logEntryCategoryRT=logEntryCategoryRT;var getLogEntryCategoriesSuccessReponsePayloadRT=rt.intersection([rt.type({data:rt.type({categories:rt.array(logEntryCategoryRT)})}),rt.partial({timing:_shared.routeTimingMetadataRT})]);exports.getLogEntryCategoriesSuccessReponsePayloadRT=getLogEntryCategoriesSuccessReponsePayloadRT;var getLogEntryCategoriesResponsePayloadRT=rt.union([getLogEntryCategoriesSuccessReponsePayloadRT,_shared.badRequestErrorRT,_shared.forbiddenErrorRT]);exports.getLogEntryCategoriesResponsePayloadRT=getLogEntryCategoriesResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.conflictErrorRT=exports.forbiddenErrorRT=exports.badRequestErrorRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var createErrorRuntimeType=function createErrorRuntimeType(statusCode,errorCode,attributes){return rt.type(_objectSpread({statusCode:rt.literal(statusCode),error:rt.literal(errorCode),message:rt.string},!!attributes?{attributes:attributes}:{}))};var badRequestErrorRT=createErrorRuntimeType(400,"Bad Request");exports.badRequestErrorRT=badRequestErrorRT;var forbiddenErrorRT=createErrorRuntimeType(403,"Forbidden");exports.forbiddenErrorRT=forbiddenErrorRT;var conflictErrorRT=createErrorRuntimeType(409,"Conflict");exports.conflictErrorRT=conflictErrorRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.metricStatisticsRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var metricStatisticsRT=rt.type({avg:rt.union([rt.number,rt.null]),count:rt.number,max:rt.union([rt.number,rt.null]),min:rt.union([rt.number,rt.null]),sum:rt.number});exports.metricStatisticsRT=metricStatisticsRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timeRangeRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var timeRangeRT=rt.type({startTime:rt.number,endTime:rt.number});exports.timeRangeRT=timeRangeRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.routeTimingMetadataRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _performance_tracing=__webpack_require__(1397);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var routeTimingMetadataRT=rt.type({spans:rt.array(_performance_tracing.tracingSpanRT)});exports.routeTimingMetadataRT=routeTimingMetadataRT},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.startTracingSpan=exports.tracingSpanRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _uuid=_interopRequireDefault(__webpack_require__(783));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var tracingSpanRT=rt.type({duration:rt.number,id:rt.string,name:rt.string,start:rt.number});exports.tracingSpanRT=tracingSpanRT;var startTracingSpan=function startTracingSpan(name){var initialState={duration:Number.POSITIVE_INFINITY,id:_uuid.default.v4(),name:name,start:Date.now()};return function(){var endTime=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();return _objectSpread({},initialState,{duration:endTime-initialState.start})}};exports.startTracingSpan=startTracingSpan},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogEntryCategoryDatasetsResponsePayloadRT=exports.getLogEntryCategoryDatasetsSuccessReponsePayloadRT=exports.getLogEntryCategoryDatasetsRequestPayloadRT=exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_DATASETS_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _shared=__webpack_require__(782);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_DATASETS_PATH="/api/infra/log_analysis/results/log_entry_category_datasets";exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_DATASETS_PATH=LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_DATASETS_PATH;var getLogEntryCategoryDatasetsRequestPayloadRT=rt.type({data:rt.type({sourceId:rt.string,timeRange:_shared.timeRangeRT})});exports.getLogEntryCategoryDatasetsRequestPayloadRT=getLogEntryCategoryDatasetsRequestPayloadRT;var getLogEntryCategoryDatasetsSuccessReponsePayloadRT=rt.intersection([rt.type({data:rt.type({datasets:rt.array(rt.string)})}),rt.partial({timing:_shared.routeTimingMetadataRT})]);exports.getLogEntryCategoryDatasetsSuccessReponsePayloadRT=getLogEntryCategoryDatasetsSuccessReponsePayloadRT;var getLogEntryCategoryDatasetsResponsePayloadRT=rt.union([getLogEntryCategoryDatasetsSuccessReponsePayloadRT,_shared.badRequestErrorRT,_shared.forbiddenErrorRT]);exports.getLogEntryCategoryDatasetsResponsePayloadRT=getLogEntryCategoryDatasetsResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogEntryCategoryExamplesResponsePayloadRT=exports.getLogEntryCategoryExamplesSuccessReponsePayloadRT=exports.getLogEntryCategoryExamplesRequestPayloadRT=exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_EXAMPLES_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _shared=__webpack_require__(782);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_EXAMPLES_PATH="/api/infra/log_analysis/results/log_entry_category_examples";exports.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_EXAMPLES_PATH=LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_EXAMPLES_PATH;var getLogEntryCategoryExamplesRequestPayloadRT=rt.type({data:rt.type({categoryId:rt.number,exampleCount:rt.number,sourceId:rt.string,timeRange:_shared.timeRangeRT})});exports.getLogEntryCategoryExamplesRequestPayloadRT=getLogEntryCategoryExamplesRequestPayloadRT;var logEntryCategoryExampleRT=rt.type({dataset:rt.string,message:rt.string,timestamp:rt.number});var getLogEntryCategoryExamplesSuccessReponsePayloadRT=rt.intersection([rt.type({data:rt.type({examples:rt.array(logEntryCategoryExampleRT)})}),rt.partial({timing:_shared.routeTimingMetadataRT})]);exports.getLogEntryCategoryExamplesSuccessReponsePayloadRT=getLogEntryCategoryExamplesSuccessReponsePayloadRT;var getLogEntryCategoryExamplesResponsePayloadRT=rt.union([getLogEntryCategoryExamplesSuccessReponsePayloadRT,_shared.badRequestErrorRT,_shared.forbiddenErrorRT]);exports.getLogEntryCategoryExamplesResponsePayloadRT=getLogEntryCategoryExamplesResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLogEntryRateResponsePayloadRT=exports.getLogEntryRateSuccessReponsePayloadRT=exports.logEntryRateHistogramBucketRT=exports.logEntryRatePartitionRT=exports.logEntryRateAnomalyRT=exports.getLogEntryRateRequestPayloadRT=exports.LOG_ANALYSIS_GET_LOG_ENTRY_RATE_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _shared=__webpack_require__(782);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ANALYSIS_GET_LOG_ENTRY_RATE_PATH="/api/infra/log_analysis/results/log_entry_rate";exports.LOG_ANALYSIS_GET_LOG_ENTRY_RATE_PATH=LOG_ANALYSIS_GET_LOG_ENTRY_RATE_PATH;var getLogEntryRateRequestPayloadRT=rt.type({data:rt.type({bucketDuration:rt.number,sourceId:rt.string,timeRange:_shared.timeRangeRT})});exports.getLogEntryRateRequestPayloadRT=getLogEntryRateRequestPayloadRT;var logEntryRateAnomalyRT=rt.type({actualLogEntryRate:rt.number,anomalyScore:rt.number,duration:rt.number,startTime:rt.number,typicalLogEntryRate:rt.number});exports.logEntryRateAnomalyRT=logEntryRateAnomalyRT;var logEntryRatePartitionRT=rt.type({analysisBucketCount:rt.number,anomalies:rt.array(logEntryRateAnomalyRT),averageActualLogEntryRate:rt.number,maximumAnomalyScore:rt.number,numberOfLogEntries:rt.number,partitionId:rt.string});exports.logEntryRatePartitionRT=logEntryRatePartitionRT;var logEntryRateHistogramBucketRT=rt.type({partitions:rt.array(logEntryRatePartitionRT),startTime:rt.number});exports.logEntryRateHistogramBucketRT=logEntryRateHistogramBucketRT;var getLogEntryRateSuccessReponsePayloadRT=rt.type({data:rt.type({bucketDuration:rt.number,histogramBuckets:rt.array(logEntryRateHistogramBucketRT),totalNumberOfLogEntries:rt.number})});exports.getLogEntryRateSuccessReponsePayloadRT=getLogEntryRateSuccessReponsePayloadRT;var getLogEntryRateResponsePayloadRT=rt.union([getLogEntryRateSuccessReponsePayloadRT,_shared.badRequestErrorRT,_shared.conflictErrorRT,_shared.forbiddenErrorRT]);exports.getLogEntryRateResponsePayloadRT=getLogEntryRateResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_entry_rate_indices=__webpack_require__(1403);Object.keys(_log_entry_rate_indices).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_entry_rate_indices[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validationIndicesResponsePayloadRT=exports.validationIndicesErrorRT=exports.validationIndicesRequestPayloadRT=exports.validationIndicesFieldSpecificationRT=exports.LOG_ANALYSIS_VALIDATE_INDICES_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ANALYSIS_VALIDATE_INDICES_PATH="/api/infra/log_analysis/validation/log_entry_rate_indices";exports.LOG_ANALYSIS_VALIDATE_INDICES_PATH=LOG_ANALYSIS_VALIDATE_INDICES_PATH;var validationIndicesFieldSpecificationRT=rt.type({name:rt.string,validTypes:rt.array(rt.string)});exports.validationIndicesFieldSpecificationRT=validationIndicesFieldSpecificationRT;var validationIndicesRequestPayloadRT=rt.type({data:rt.type({fields:rt.array(validationIndicesFieldSpecificationRT),indices:rt.array(rt.string)})});exports.validationIndicesRequestPayloadRT=validationIndicesRequestPayloadRT;var validationIndicesErrorRT=rt.union([rt.type({error:rt.literal("INDEX_NOT_FOUND"),index:rt.string}),rt.type({error:rt.literal("FIELD_NOT_FOUND"),index:rt.string,field:rt.string}),rt.type({error:rt.literal("FIELD_NOT_VALID"),index:rt.string,field:rt.string})]);exports.validationIndicesErrorRT=validationIndicesErrorRT;var validationIndicesResponsePayloadRT=rt.type({data:rt.type({errors:rt.array(validationIndicesErrorRT)})});exports.validationIndicesResponsePayloadRT=validationIndicesResponsePayloadRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.exampleMessageColumnConfigurations=exports.CategoryExampleMessage=exports.exampleTimestampFormat=exports.exampleMessageScale=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _log_text_stream=__webpack_require__(944);var _columnWidths;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var exampleMessageScale="medium";exports.exampleMessageScale=exampleMessageScale;var exampleTimestampFormat="dateTime";exports.exampleTimestampFormat=exampleTimestampFormat;var CategoryExampleMessage=function CategoryExampleMessage(_ref){var dataset=_ref.dataset,message=_ref.message,timestamp=_ref.timestamp;var encodedDatasetFieldValue=(0,_react.useMemo)((function(){return JSON.stringify((0,_log_analysis.getFriendlyNameForPartitionId)(dataset))}),[dataset]);return _react.default.createElement(_log_text_stream.LogEntryRowWrapper,{scale:exampleMessageScale},_react.default.createElement(_log_text_stream.LogEntryColumn,columnWidths[timestampColumnId],_react.default.createElement(_log_text_stream.LogEntryTimestampColumn,{format:exampleTimestampFormat,isHighlighted:false,isHovered:false,time:timestamp})),_react.default.createElement(_log_text_stream.LogEntryColumn,columnWidths[messageColumnId],_react.default.createElement(_log_text_stream.LogEntryMessageColumn,{columnValue:{columnId:messageColumnId,message:[{field:"message",value:message,highlights:[]}]},highlights:noHighlights,isHovered:false,isHighlighted:false,isActiveHighlight:false,wrapMode:"none"})),_react.default.createElement(_log_text_stream.LogEntryColumn,columnWidths[datasetColumnId],_react.default.createElement(_log_text_stream.LogEntryFieldColumn,{columnValue:{columnId:datasetColumnId,field:"event.dataset",value:encodedDatasetFieldValue,highlights:[]},highlights:noHighlights,isHovered:false,isHighlighted:false,isActiveHighlight:false,wrapMode:"none"})))};exports.CategoryExampleMessage=CategoryExampleMessage;var noHighlights=[];var timestampColumnId="category-example-timestamp-column";var messageColumnId="category-examples-message-column";var datasetColumnId="category-examples-dataset-column";var columnWidths=(_columnWidths={},_defineProperty(_columnWidths,timestampColumnId,{growWeight:0,shrinkWeight:0,baseWidth:"332px"}),_defineProperty(_columnWidths,messageColumnId,{growWeight:1,shrinkWeight:0,baseWidth:"0%"}),_defineProperty(_columnWidths,datasetColumnId,{growWeight:0,shrinkWeight:0,baseWidth:"432px"}),_columnWidths);var exampleMessageColumnConfigurations=[{timestampColumn:{id:timestampColumnId}},{messageColumn:{id:messageColumnId}},{fieldColumn:{field:"event.dataset",id:datasetColumnId}}];exports.exampleMessageColumnConfigurations=exampleMessageColumnConfigurations},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isFieldSegment=exports.isConstantSegment=exports.isFieldColumn=exports.isMessageColumn=exports.isTimestampColumn=exports.getLogEntryAtTime=exports.getLogEntryIndexAtTime=exports.getLogEntryIndexAfterTime=exports.getLogEntryIndexBeforeTime=exports.getUniqueLogEntryKey=exports.getLogEntryKey=void 0;var _d3Array=__webpack_require__(752);var _time=__webpack_require__(774);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getLogEntryKey=function getLogEntryKey(entry){return entry.cursor};exports.getLogEntryKey=getLogEntryKey;var getUniqueLogEntryKey=function getUniqueLogEntryKey(entry){return _objectSpread({},entry.cursor,{gid:entry.id})};exports.getUniqueLogEntryKey=getUniqueLogEntryKey;var logEntryTimeBisector=(0,_d3Array.bisector)((0,_time.compareToTimeKey)(getLogEntryKey));var getLogEntryIndexBeforeTime=logEntryTimeBisector.left;exports.getLogEntryIndexBeforeTime=getLogEntryIndexBeforeTime;var getLogEntryIndexAfterTime=logEntryTimeBisector.right;exports.getLogEntryIndexAfterTime=getLogEntryIndexAfterTime;var getLogEntryIndexAtTime=(0,_time.getIndexAtTimeKey)(getLogEntryKey);exports.getLogEntryIndexAtTime=getLogEntryIndexAtTime;var getLogEntryAtTime=function getLogEntryAtTime(entries,time){var entryIndex=getLogEntryIndexAtTime(entries,time);return entryIndex!==null?entries[entryIndex]:null};exports.getLogEntryAtTime=getLogEntryAtTime;var isTimestampColumn=function isTimestampColumn(column){return column!=null&&"timestamp"in column};exports.isTimestampColumn=isTimestampColumn;var isMessageColumn=function isMessageColumn(column){return column!=null&&"message"in column};exports.isMessageColumn=isMessageColumn;var isFieldColumn=function isFieldColumn(column){return column!=null&&"field"in column};exports.isFieldColumn=isFieldColumn;var isConstantSegment=function isConstantSegment(segment){return"constant"in segment};exports.isConstantSegment=isConstantSegment;var isFieldSegment=function isFieldSegment(segment){return"field"in segment&&"value"in segment};exports.isFieldSegment=isFieldSegment},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isHighlightFieldSegment=exports.isHighlightFieldColumn=exports.isHighlightMessageColumn=void 0;var isHighlightMessageColumn=function isHighlightMessageColumn(column){return column!=null&&"message"in column};exports.isHighlightMessageColumn=isHighlightMessageColumn;var isHighlightFieldColumn=function isHighlightFieldColumn(column){return column!=null&&"field"in column};exports.isHighlightFieldColumn=isHighlightFieldColumn;var isHighlightFieldSegment=function isHighlightFieldSegment(segment){return segment&&"field"in segment&&"highlights"in segment};exports.isHighlightFieldSegment=isHighlightFieldSegment},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clampValue=exports.transparentize=exports.chooseLightOrDarkColor=exports.getContrast=exports.tintOrShade=exports.ifProp=exports.switchProp=void 0;var _lodash=__webpack_require__(1);var _polished=__webpack_require__(215);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var asPropReader=function asPropReader(reader){return typeof reader==="function"?reader:function(props,defaultValue){return(0,_lodash.get)(props,reader,defaultValue)}};var switchProp=Object.assign((function(propName,options){return function(props){var propValue=asPropReader(propName)(props,switchProp.default);if(typeof propValue==="undefined"){return}return options instanceof Map?options.get(propValue):(0,_lodash.get)(options,propValue)}}),{default:Symbol("default")});exports.switchProp=switchProp;var ifProp=function ifProp(propName,pass,fail){return function(props){return asPropReader(propName)(props)?pass:fail}};exports.ifProp=ifProp;var tintOrShade=function tintOrShade(textColor,color,tintFraction,shadeFraction){if((0,_polished.parseToHsl)(textColor).lightness>.5){return(0,_polished.shade)(1-shadeFraction,color)}else{return(0,_polished.tint)(1-tintFraction,color)}};exports.tintOrShade=tintOrShade;var getContrast=function getContrast(color1,color2){var luminance1=(0,_polished.getLuminance)(color1);var luminance2=(0,_polished.getLuminance)(color2);return parseFloat((luminance1>luminance2?(luminance1+.05)/(luminance2+.05):(luminance2+.05)/(luminance1+.05)).toFixed(2))};exports.getContrast=getContrast;var chooseLightOrDarkColor=function chooseLightOrDarkColor(backgroundColor,lightColor,darkColor){if(getContrast(backgroundColor,lightColor)>getContrast(backgroundColor,darkColor)){return lightColor}else{return darkColor}};exports.chooseLightOrDarkColor=chooseLightOrDarkColor;var transparentize=function transparentize(amount,color){if(color==="transparent"){return color}var parsedColor=(0,_polished.parseToRgb)(color);var alpha="alpha"in parsedColor&&typeof parsedColor.alpha==="number"?parsedColor.alpha:1;var colorWithAlpha=_objectSpread({},parsedColor,{alpha:clampValue((alpha*100-amount*100)/100,0,1)});return(0,_polished.rgba)(colorWithAlpha)};exports.transparentize=transparentize;var clampValue=function clampValue(value,minValue,maxValue){return Math.max(minValue,Math.min(maxValue,value))};exports.clampValue=clampValue},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryDetailsIconColumn=exports.LogEntryIconColumn=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _log_entry_column=__webpack_require__(721);var _text_styles=__webpack_require__(757);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  overflow: hidden;\n  position: absolute;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n  overflow: hidden;\n  user-select: none;\n\n  ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogEntryIconColumn=function LogEntryIconColumn(_ref){var children=_ref.children,isHighlighted=_ref.isHighlighted,isHovered=_ref.isHovered;return _react.default.createElement(IconColumnContent,{isHighlighted:isHighlighted,isHovered:isHovered},children)};exports.LogEntryIconColumn=LogEntryIconColumn;var LogEntryDetailsIconColumn=function LogEntryDetailsIconColumn(_ref2){var isHighlighted=_ref2.isHighlighted,isHovered=_ref2.isHovered,openFlyout=_ref2.openFlyout;var label=_i18n.i18n.translate("xpack.infra.logEntryItemView.viewDetailsToolTip",{defaultMessage:"View Details"});return _react.default.createElement(LogEntryIconColumn,{isHighlighted:isHighlighted,isHovered:isHovered},isHovered?_react.default.createElement(AbsoluteIconButtonWrapper,null,_react.default.createElement(_eui.EuiButtonIcon,{onClick:openFlyout,iconType:"expand",title:label,"aria-label":label})):null)};exports.LogEntryDetailsIconColumn=LogEntryDetailsIconColumn;var IconColumnContent=(0,_public.euiStyled)(_log_entry_column.LogEntryColumnContent)(_templateObject(),(function(props){return props.theme.eui.euiColorEmptyShade}),(function(props){return props.isHovered||props.isHighlighted?_text_styles.hoveredContentStyle:""}));var AbsoluteIconButtonWrapper=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ScrollableLogTextStreamView=void 0;var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _moment=_interopRequireDefault(__webpack_require__(11));var _public=__webpack_require__(64);var _handlers=__webpack_require__(1413);var _auto_sizer=__webpack_require__(758);var _empty_states=__webpack_require__(786);var _loading=__webpack_require__(740);var _item=__webpack_require__(1414);var _column_headers=__webpack_require__(1415);var _loading_item_view=__webpack_require__(1416);var _jump_to_tail=__webpack_require__(1418);var _log_entry_row=__webpack_require__(950);var _measurable_item_view=__webpack_require__(1419);var _vertical_scroll_panel=__webpack_require__(953);var _log_entry_column=__webpack_require__(721);var _log_date_row=__webpack_require__(1420);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  overflow: hidden;\n  flex: 1 1 0%;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  overflow: hidden;\n  display: flex;\n  flex: 1 1 0%;\n  flex-direction: column;\n  align-items: stretch;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ScrollableLogTextStreamView=function(_React$PureComponent){_inherits(ScrollableLogTextStreamView,_React$PureComponent);_createClass(ScrollableLogTextStreamView,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var hasNewTarget=nextProps.target&&nextProps.target!==prevState.target;var hasItems=nextProps.items.length>0;var nextItems=hasItems&&prevState.isScrollLocked?prevState.items:nextProps.items;if(nextProps.isStreaming&&hasItems){return{target:nextProps.target,targetId:(0,_item.getStreamItemId)(nextProps.items[nextProps.items.length-1]),items:nextItems}}else if(hasNewTarget&&hasItems){return{target:nextProps.target,targetId:(0,_item.getStreamItemId)((0,_item.getStreamItemBeforeTimeKey)(nextProps.items,nextProps.target)),items:nextItems}}else if(!hasItems){return{target:null,targetId:null,items:[]}}else if(hasItems&&(nextItems.length!==prevState.items.length||nextItems[0]!==prevState.items[0])){return _objectSpread({},prevState,{items:nextItems})}return null}}]);function ScrollableLogTextStreamView(props){var _this;_classCallCheck(this,ScrollableLogTextStreamView);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScrollableLogTextStreamView).call(this,props));_defineProperty(_assertThisInitialized(_this),"handleOpenFlyout",(function(id){_this.props.setFlyoutItem(id);_this.props.setFlyoutVisibility(true)}));_defineProperty(_assertThisInitialized(_this),"handleReload",(function(){var reloadItems=_this.props.reloadItems;if(reloadItems){reloadItems()}}));_defineProperty(_assertThisInitialized(_this),"handleVisibleChildrenChange",(0,_handlers.callWithoutRepeats)((function(_ref){var topChild=_ref.topChild,middleChild=_ref.middleChild,bottomChild=_ref.bottomChild,pagesAbove=_ref.pagesAbove,pagesBelow=_ref.pagesBelow,fromScroll=_ref.fromScroll;if(fromScroll&&_this.props.isStreaming){_this.setState({isScrollLocked:pagesBelow!==0})}_this.props.reportVisibleInterval({endKey:(0,_item.parseStreamItemId)(bottomChild),middleKey:(0,_item.parseStreamItemId)(middleChild),pagesAfterEnd:pagesBelow,pagesBeforeStart:pagesAbove,startKey:(0,_item.parseStreamItemId)(topChild),fromScroll:fromScroll})})));_defineProperty(_assertThisInitialized(_this),"handleJumpToTail",(function(){var items=_this.props.items;var lastItemTarget=(0,_item.getStreamItemId)(items[items.length-1]);_this.setState({targetId:lastItemTarget,isScrollLocked:false})}));_this.state={target:null,targetId:null,items:props.items,isScrollLocked:false};return _this}_createClass(ScrollableLogTextStreamView,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,columnConfigurations=_this$props.columnConfigurations,currentHighlightKey=_this$props.currentHighlightKey,hasMoreAfterEnd=_this$props.hasMoreAfterEnd,hasMoreBeforeStart=_this$props.hasMoreBeforeStart,highlightedItem=_this$props.highlightedItem,isLoadingMore=_this$props.isLoadingMore,isReloading=_this$props.isReloading,isStreaming=_this$props.isStreaming,scale=_this$props.scale,wrap=_this$props.wrap,startDateExpression=_this$props.startDateExpression,endDateExpression=_this$props.endDateExpression,lastLoadedTime=_this$props.lastLoadedTime,updateDateRange=_this$props.updateDateRange,startLiveStreaming=_this$props.startLiveStreaming;var _this$state=this.state,targetId=_this$state.targetId,items=_this$state.items,isScrollLocked=_this$state.isScrollLocked;var hasItems=items.length>0;return _react2.default.createElement(ScrollableLogTextStreamViewWrapper,null,isReloading&&(!isStreaming||!hasItems)?_react2.default.createElement(_loading.InfraLoadingPanel,{width:"100%",height:"100%",text:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.scrollableLogTextStreamView.loadingEntriesLabel",defaultMessage:"Loading entries"})}):!hasItems?_react2.default.createElement(_empty_states.NoData,{titleText:_i18n.i18n.translate("xpack.infra.logs.emptyView.noLogMessageTitle",{defaultMessage:"There are no log messages to display."}),bodyText:_i18n.i18n.translate("xpack.infra.logs.emptyView.noLogMessageDescription",{defaultMessage:"Try adjusting your filter."}),refetchText:_i18n.i18n.translate("xpack.infra.logs.emptyView.checkForNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:this.handleReload,testString:"logsNoDataPrompt"}):_react2.default.createElement(WithColumnWidths,{columnConfigurations:columnConfigurations,scale:scale},(function(_ref2){var columnWidths=_ref2.columnWidths,CharacterDimensionsProbe=_ref2.CharacterDimensionsProbe;return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(CharacterDimensionsProbe,null),_react2.default.createElement(_column_headers.LogColumnHeaders,{columnConfigurations:columnConfigurations,columnWidths:columnWidths}),_react2.default.createElement(_auto_sizer.AutoSizer,{bounds:true,content:true,detectAnyWindowResize:"height"},(function(_ref3){var measureRef=_ref3.measureRef,_ref3$bounds$height=_ref3.bounds.height,height=_ref3$bounds$height===void 0?0:_ref3$bounds$height,_ref3$content$width=_ref3.content.width,width=_ref3$content$width===void 0?0:_ref3$content$width;return _react2.default.createElement(ScrollPanelSizeProbe,{ref:measureRef},_react2.default.createElement(_vertical_scroll_panel.VerticalScrollPanel,{height:height,width:width,onVisibleChildrenChange:_this2.handleVisibleChildrenChange,target:targetId,hideScrollbar:true,"data-test-subj":"logStream",isLocked:isScrollLocked,entriesCount:items.length},(function(registerChild){return items.length>0?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_loading_item_view.LogTextStreamLoadingItemView,{position:"start",isLoading:isLoadingMore,hasMore:hasMoreBeforeStart,timestamp:items[0].logEntry.cursor.time,isStreaming:false,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:function onExtendRange(newDateExpression){return updateDateRange({startDateExpression:newDateExpression})}}),items.map((function(item,idx){var currentTimestamp=item.logEntry.cursor.time;var showDate=false;if(idx>0){var prevTimestamp=items[idx-1].logEntry.cursor.time;showDate=!(0,_moment.default)(currentTimestamp).isSame(prevTimestamp,"day")}return _react2.default.createElement(_react2.Fragment,{key:(0,_item.getStreamItemId)(item)},showDate&&_react2.default.createElement(_log_date_row.LogDateRow,{timestamp:currentTimestamp}),_react2.default.createElement(_measurable_item_view.MeasurableItemView,{register:registerChild,registrationKey:(0,_item.getStreamItemId)(item)},(function(itemMeasureRef){return _react2.default.createElement(_log_entry_row.LogEntryRow,{columnConfigurations:columnConfigurations,columnWidths:columnWidths,openFlyoutWithItem:_this2.handleOpenFlyout,boundingBoxRef:itemMeasureRef,logEntry:item.logEntry,highlights:item.highlights,isActiveHighlight:!!currentHighlightKey&&currentHighlightKey.gid===item.logEntry.id,scale:scale,wrap:wrap,isHighlighted:highlightedItem?item.logEntry.id===highlightedItem:false})})))})),_react2.default.createElement(_loading_item_view.LogTextStreamLoadingItemView,{position:"end",isLoading:isStreaming||isLoadingMore,hasMore:hasMoreAfterEnd,isStreaming:isStreaming,timestamp:isStreaming&&lastLoadedTime?lastLoadedTime.valueOf():items[items.length-1].logEntry.cursor.time,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:function onExtendRange(newDateExpression){return updateDateRange({endDateExpression:newDateExpression})},onStreamStart:function onStreamStart(){return startLiveStreaming()}}),isScrollLocked&&_react2.default.createElement(_jump_to_tail.LogTextStreamJumpToTail,{width:width,onClickJump:_this2.handleJumpToTail})):null})))})))})))}}]);return ScrollableLogTextStreamView}(_react2.default.PureComponent);exports.ScrollableLogTextStreamView=ScrollableLogTextStreamView;var WithColumnWidths=function WithColumnWidths(_ref4){var children=_ref4.children,columnConfigurations=_ref4.columnConfigurations,scale=_ref4.scale;var childParams=(0,_log_entry_column.useColumnWidths)({columnConfigurations:columnConfigurations,scale:scale});return children(childParams)};var ScrollableLogTextStreamViewWrapper=_public.euiStyled.div(_templateObject());var ScrollPanelSizeProbe=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callWithoutRepeats=callWithoutRepeats;var _lodash=__webpack_require__(1);function callWithoutRepeats(func){var isArgsEqual=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_lodash.isEqual;var previousArgs;var previousResult;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(!isArgsEqual(args,previousArgs)){previousArgs=args;previousResult=func.apply(void 0,args)}return previousResult}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStreamItemTimeKey=getStreamItemTimeKey;exports.getStreamItemId=getStreamItemId;exports.parseStreamItemId=parseStreamItemId;exports.getStreamItemBeforeTimeKey=void 0;var _d3Array=__webpack_require__(752);var _time=__webpack_require__(774);function getStreamItemTimeKey(item){switch(item.kind){case"logEntry":return item.logEntry.cursor}}function getStreamItemId(item){switch(item.kind){case"logEntry":return"".concat(item.logEntry.cursor.time,":").concat(item.logEntry.cursor.tiebreaker,":").concat(item.logEntry.id)}}function parseStreamItemId(id){var idFragments=id.split(":");return{gid:idFragments.slice(2).join(":"),tiebreaker:parseInt(idFragments[1],10),time:parseInt(idFragments[0],10)}}var streamItemTimeBisector=(0,_d3Array.bisector)((0,_time.compareToTimeKey)(getStreamItemTimeKey));var getStreamItemBeforeTimeKey=function getStreamItemBeforeTimeKey(streamItems,key){return streamItems[Math.min(streamItemTimeBisector.left(streamItems,key),streamItems.length-1)]};exports.getStreamItemBeforeTimeKey=getStreamItemBeforeTimeKey},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogColumnHeaders=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _polished=__webpack_require__(215);var _public=__webpack_require__(64);var _source_configuration=__webpack_require__(784);var _log_entry_column=__webpack_require__(721);var _vertical_scroll_panel=__webpack_require__(953);var _log_position=__webpack_require__(719);var _datetime=__webpack_require__(954);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  text-overflow: clip;\n  white-space: pre;\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  height: 32px;\n  overflow: hidden;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-items: stretch;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  overflow: hidden;\n  padding-right: ","px;\n  border-bottom: ",";\n  box-shadow: 0 2px 2px -1px ",";\n  position: relative;\n  z-index: 1;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var LogColumnHeaders=function LogColumnHeaders(_ref){var columnConfigurations=_ref.columnConfigurations,columnWidths=_ref.columnWidths;var _useContext=(0,_react.useContext)(_log_position.LogPositionState.Context),firstVisiblePosition=_useContext.firstVisiblePosition;return _react.default.createElement(LogColumnHeadersWrapper,null,columnConfigurations.map((function(columnConfiguration){if((0,_source_configuration.isTimestampLogColumnConfiguration)(columnConfiguration)){return _react.default.createElement(LogColumnHeader,{key:columnConfiguration.timestampColumn.id,columnWidth:columnWidths[columnConfiguration.timestampColumn.id],"data-test-subj":"logColumnHeader timestampLogColumnHeader"},firstVisiblePosition?(0,_datetime.localizedDate)(firstVisiblePosition.time):"Timestamp")}else if((0,_source_configuration.isMessageLogColumnConfiguration)(columnConfiguration)){return _react.default.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.messageColumn.id],"data-test-subj":"logColumnHeader messageLogColumnHeader",key:columnConfiguration.messageColumn.id},"Message")}else if((0,_source_configuration.isFieldLogColumnConfiguration)(columnConfiguration)){return _react.default.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.fieldColumn.id],"data-test-subj":"logColumnHeader fieldLogColumnHeader",key:columnConfiguration.fieldColumn.id},columnConfiguration.fieldColumn.field)}})))};exports.LogColumnHeaders=LogColumnHeaders;var LogColumnHeader=function LogColumnHeader(_ref2){var children=_ref2.children,columnWidth=_ref2.columnWidth,dataTestSubj=_ref2["data-test-subj"];return _react.default.createElement(LogColumnHeaderWrapper,_extends({"data-test-subj":dataTestSubj},columnWidth),_react.default.createElement(LogColumnHeaderContent,null,children))};var LogColumnHeadersWrapper=_public.euiStyled.div.attrs((function(){return{role:"row"}}))(_templateObject(),_vertical_scroll_panel.ASSUMED_SCROLLBAR_WIDTH,(function(props){return props.theme.eui.euiBorderThin}),(function(props){return(0,_polished.transparentize)(.3,props.theme.eui.euiColorLightShade)}));var LogColumnHeaderWrapper=(0,_public.euiStyled)(_log_entry_column.LogEntryColumn).attrs((function(){return{role:"columnheader"}}))(_templateObject2());var LogColumnHeaderContent=(0,_public.euiStyled)(_log_entry_column.LogEntryColumnContent)(_templateObject3(),(function(props){return props.theme.eui.euiTitleColor}),(function(props){return props.theme.eui.euiFontSizeS}),(function(props){return props.theme.eui.euiFontWeightSemiBold}),(function(props){return props.theme.eui.euiLineHeight}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogTextStreamLoadingItemView=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _log_text_separator=__webpack_require__(1417);var _datemath=__webpack_require__(833);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  padding-left: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  height: 40px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TIMESTAMP_FORMAT={hour12:false,month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};var LogTextStreamLoadingItemView=function(_React$PureComponent){_inherits(LogTextStreamLoadingItemView,_React$PureComponent);function LogTextStreamLoadingItemView(){_classCallCheck(this,LogTextStreamLoadingItemView);return _possibleConstructorReturn(this,_getPrototypeOf(LogTextStreamLoadingItemView).apply(this,arguments))}_createClass(LogTextStreamLoadingItemView,[{key:"render",value:function render(){var _this$props=this.props,position=_this$props.position,timestamp=_this$props.timestamp,startDateExpression=_this$props.startDateExpression,endDateExpression=_this$props.endDateExpression,className=_this$props.className,hasMore=_this$props.hasMore,isLoading=_this$props.isLoading,isStreaming=_this$props.isStreaming,onExtendRange=_this$props.onExtendRange,onStreamStart=_this$props.onStreamStart;var shouldShowCta=!hasMore&&!isStreaming;var extra=React.createElement(LoadingItemViewExtra,{justifyContent:"center",alignItems:"center",gutterSize:"m"},isLoading||isStreaming?React.createElement(ProgressSpinner,{kind:isStreaming?"streaming":"loading"}):shouldShowCta?React.createElement(ProgressCta,{position:position,onStreamStart:onStreamStart,onExtendRange:onExtendRange,startDateExpression:startDateExpression,endDateExpression:endDateExpression}):null);return React.createElement(ProgressEntryWrapper,{className:className,position:position},position==="start"?extra:null,React.createElement(ProgressMessage,{timestamp:timestamp,position:position,isStreaming:isStreaming}),position==="end"?extra:null)}}]);return LogTextStreamLoadingItemView}(React.PureComponent);exports.LogTextStreamLoadingItemView=LogTextStreamLoadingItemView;var LoadingItemViewExtra=(0,_public.euiStyled)(_eui.EuiFlexGroup)(_templateObject());var ProgressEntryWrapper=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.euiSizeS}),(function(props){return props.position==="start"?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM}),(function(props){return props.position==="end"?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM}));var ProgressMessage=function ProgressMessage(_ref){var timestamp=_ref.timestamp,position=_ref.position,isStreaming=_ref.isStreaming;var formattedTimestamp=isStreaming&&position==="end"?React.createElement(_react.FormattedRelative,{units:"second",value:timestamp,updateInterval:1}):React.createElement(_react.FormattedTime,_extends({value:timestamp},TIMESTAMP_FORMAT));var message=position==="start"?React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.showingEntriesFromTimestamp",defaultMessage:"Showing entries from {timestamp}",values:{timestamp:formattedTimestamp}}):isStreaming?React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.lastUpdate",defaultMessage:"Last update {timestamp}",values:{timestamp:formattedTimestamp}}):React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.showingEntriesUntilTimestamp",defaultMessage:"Showing entries until {timestamp}",values:{timestamp:formattedTimestamp}});return React.createElement(_log_text_separator.LogTextSeparator,null,React.createElement(_eui.EuiTitle,{size:"xxs"},message))};var ProgressSpinner=function ProgressSpinner(_ref2){var kind=_ref2.kind;return React.createElement(React.Fragment,null,React.createElement(_eui.EuiFlexItem,{grow:false},React.createElement(_eui.EuiLoadingSpinner,{size:"l"})),React.createElement(_eui.EuiFlexItem,{grow:false},React.createElement(_eui.EuiText,{size:"s"},kind==="streaming"?React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}):React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.loadingNewEntriesText",defaultMessage:"Loading new entries"}))))};var ProgressCta=function ProgressCta(_ref3){var position=_ref3.position,startDateExpression=_ref3.startDateExpression,endDateExpression=_ref3.endDateExpression,onExtendRange=_ref3.onExtendRange,onStreamStart=_ref3.onStreamStart;var rangeEdge=position==="start"?startDateExpression:endDateExpression;if(rangeEdge==="now"&&position==="end"){return React.createElement(_eui.EuiButton,{onClick:onStreamStart,size:"s"},React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.streamLive",defaultMessage:"Stream live"}))}var iconType=position==="start"?"arrowUp":"arrowDown";var extendedRange=position==="start"?(0,_datemath.extendDatemath)(startDateExpression,"before",endDateExpression):(0,_datemath.extendDatemath)(endDateExpression,"after",startDateExpression);if(!extendedRange||!("diffUnit"in extendedRange)){return null}return React.createElement(_eui.EuiButton,{onClick:function onClick(){if(typeof onExtendRange==="function"){onExtendRange(extendedRange.value)}},iconType:iconType,size:"s"},React.createElement(ProgressExtendMessage,{amount:extendedRange.diffAmount,unit:extendedRange.diffUnit}))};var ProgressExtendMessage=function ProgressExtendMessage(_ref4){var amount=_ref4.amount,unit=_ref4.unit;switch(unit){case"ms":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMillisecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {millisecond} other {milliseconds}}",values:{amount:amount}});case"s":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeBySecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {second} other {seconds}}",values:{amount:amount}});case"m":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMinutesButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {minute} other {minutes}}",values:{amount:amount}});case"h":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByHoursButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {hour} other {hours}}",values:{amount:amount}});case"d":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByDaysButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {day} other {days}}",values:{amount:amount}});case"w":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByWeeksButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {week} other {weeks}}",values:{amount:amount}});case"M":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByMonthsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {month} other {months}}",values:{amount:amount}});case"y":return React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.extendTimeframeByYearsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {year} other {years}}",values:{amount:amount}});default:throw new TypeError("Unhandled unit: "+unit)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogTextSeparator=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogTextSeparator=function LogTextSeparator(_ref){var children=_ref.children;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},children),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiHorizontalRule,null)))};exports.LogTextSeparator=LogTextSeparator},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogTextStreamJumpToTail=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  padding: 8px 16px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-items: center;\n  display: flex;\n  min-height: ",";\n  width: ","px;\n  position: fixed;\n  bottom: 0;\n  background-color: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var LogTextStreamJumpToTail=function(_React$PureComponent){_inherits(LogTextStreamJumpToTail,_React$PureComponent);function LogTextStreamJumpToTail(){_classCallCheck(this,LogTextStreamJumpToTail);return _possibleConstructorReturn(this,_getPrototypeOf(LogTextStreamJumpToTail).apply(this,arguments))}_createClass(LogTextStreamJumpToTail,[{key:"render",value:function render(){var _this$props=this.props,onClickJump=_this$props.onClickJump,width=_this$props.width;return React.createElement(JumpToTailWrapper,{width:width},React.createElement(MessageWrapper,null,React.createElement(_eui.EuiText,{color:"subdued"},React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}))),React.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:onClickJump,iconType:"arrowDown"},React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.jumpToTailText",defaultMessage:"Jump to most recent entries"})))}}]);return LogTextStreamJumpToTail}(React.PureComponent);exports.LogTextStreamJumpToTail=LogTextStreamJumpToTail;var JumpToTailWrapper=_public.euiStyled.div(_templateObject(),(function(props){return props.theme.eui.euiSizeXXL}),(function(props){return props.width}),(function(props){return props.theme.eui.euiColorEmptyShade}));var MessageWrapper=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.MeasurableItemView=void 0;var React=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MeasurableItemView=function(_React$PureComponent){_inherits(MeasurableItemView,_React$PureComponent);function MeasurableItemView(){var _getPrototypeOf2;var _this;_classCallCheck(this,MeasurableItemView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MeasurableItemView)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"childRef",React.createRef());_defineProperty(_assertThisInitialized(_this),"getOffsetRect",(function(){var currentElement=_this.childRef.current;if(currentElement===null){return null}return{height:currentElement.offsetHeight,left:currentElement.offsetLeft,top:currentElement.offsetTop,width:currentElement.offsetWidth}}));return _this}_createClass(MeasurableItemView,[{key:"componentDidMount",value:function componentDidMount(){this.props.register(this.props.registrationKey,this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.register(this.props.registrationKey,null)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.registrationKey!==this.props.registrationKey){this.props.register(prevProps.registrationKey,null);this.props.register(this.props.registrationKey,this)}}},{key:"render",value:function render(){return this.props.children(this.childRef)}}]);return MeasurableItemView}(React.PureComponent);exports.MeasurableItemView=MeasurableItemView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogDateRow=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _datetime=__webpack_require__(954);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogDateRow=function LogDateRow(_ref){var timestamp=_ref.timestamp;var formattedDate=(0,_datetime.localizedDate)(timestamp);return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"xxs"},_react.default.createElement("h2",{style:{paddingLeft:8}},formattedDate))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiHorizontalRule,null)))};exports.LogDateRow=LogDateRow},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoryExampleMessagesEmptyIndicator=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CategoryExampleMessagesEmptyIndicator=function CategoryExampleMessagesEmptyIndicator(_ref){var onReload=_ref.onReload;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"eui-textNoWrap"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.exampleEmptyDescription",defaultMessage:"No examples found within the selected time range. Increase the log entry retention period to improve message sample availability."})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:onReload,size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.exampleEmptyReloadButtonLabel",defaultMessage:"Reload"}))))};exports.CategoryExampleMessagesEmptyIndicator=CategoryExampleMessagesEmptyIndicator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoryExampleMessagesFailureIndicator=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CategoryExampleMessagesFailureIndicator=function CategoryExampleMessagesFailureIndicator(_ref){var onRetry=_ref.onRetry;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"eui-textNoWrap"},_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.exampleLoadingFailureDescription",defaultMessage:"Failed to load category examples."}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:onRetry,size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.exampleLoadingFailureRetryButtonLabel",defaultMessage:"Retry"}))))};exports.CategoryExampleMessagesFailureIndicator=CategoryExampleMessagesFailureIndicator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CategoryExampleMessagesLoadingIndicator=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CategoryExampleMessagesLoadingIndicator=function CategoryExampleMessagesLoadingIndicator(_ref){var exampleCount=_ref.exampleCount;return _react.default.createElement(_react.default.Fragment,null,Array.from(new Array(exampleCount),(function(_value,index){return _react.default.createElement(_eui.EuiLoadingContent,{key:index,lines:1})})))};exports.CategoryExampleMessagesLoadingIndicator=CategoryExampleMessagesLoadingIndicator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RegularExpressionRepresentation=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  font-weight: bold;\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  color: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  font-family: ",";\n  word-break: break-all;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var RegularExpressionRepresentation=(0,_react.memo)((function(_ref){var _ref$maximumSegmentCo=_ref.maximumSegmentCount,maximumSegmentCount=_ref$maximumSegmentCo===void 0?30:_ref$maximumSegmentCo,regularExpression=_ref.regularExpression;var segments=regularExpression.split(collapsedRegularExpressionCharacters);return _react.default.createElement(CategoryPattern,null,segments.slice(0,maximumSegmentCount).map((function(segment,segmentIndex){return[segmentIndex>0?_react.default.createElement(CategoryPatternWildcard,{key:"wildcard-".concat(segmentIndex)},"⁕"):null,_react.default.createElement(CategoryPatternSegment,{key:"segment-".concat(segmentIndex)},segment.replace(escapedRegularExpressionCharacters,"$1"))]})),segments.length>maximumSegmentCount?_react.default.createElement(CategoryPatternWildcard,{title:_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.truncatedPatternSegmentDescription",{defaultMessage:"{extraSegmentCount, plural, one {one more segment} other {# more segments}}",values:{extraSegmentCount:segments.length-maximumSegmentCount}})},"…"):null)}));exports.RegularExpressionRepresentation=RegularExpressionRepresentation;var CategoryPattern=_public.euiStyled.span(_templateObject(),(function(props){return props.theme.eui.euiCodeFontFamily}));var CategoryPatternWildcard=_public.euiStyled.span(_templateObject2(),(function(props){return props.theme.eui.euiColorMediumShade}));var CategoryPatternSegment=_public.euiStyled.span(_templateObject3());var collapsedRegularExpressionCharacters=/\.[+*]\??/g;var escapedRegularExpressionCharacters=/\\([\\^$*+?.()\[\]])/g},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DatasetActionsList=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _analyze_dataset_in_ml_action=__webpack_require__(1426);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DatasetActionsList=function DatasetActionsList(_ref){var categorizationJobId=_ref.categorizationJobId,categoryId=_ref.categoryId,datasets=_ref.datasets,timeRange=_ref.timeRange;return _react.default.createElement("ul",null,datasets.map((function(dataset){var datasetLabel=(0,_log_analysis.getFriendlyNameForPartitionId)(dataset.name);return _react.default.createElement("li",{key:datasetLabel},_react.default.createElement(_analyze_dataset_in_ml_action.AnalyzeCategoryDatasetInMlAction,{categorizationJobId:categorizationJobId,categoryId:categoryId,dataset:dataset.name,timeRange:timeRange}))})))};exports.DatasetActionsList=DatasetActionsList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnalyzeCategoryDatasetInMlAction=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _log_analysis_results=__webpack_require__(739);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AnalyzeCategoryDatasetInMlAction=function AnalyzeCategoryDatasetInMlAction(_ref){var categorizationJobId=_ref.categorizationJobId,categoryId=_ref.categoryId,dataset=_ref.dataset,timeRange=_ref.timeRange;var linkProps=(0,_use_link_props.useLinkProps)((0,_log_analysis_results.getEntitySpecificSingleMetricViewerLink)(categorizationJobId,timeRange,{"event.dataset":dataset,mlcategory:"".concat(categoryId)}));return _react.default.createElement(_eui.EuiToolTip,{content:analyseCategoryDatasetInMlTooltipDescription,delay:"long"},_react.default.createElement(_eui.EuiButtonIcon,_extends({"aria-label":analyseCategoryDatasetInMlButtonLabel,iconType:"machineLearningApp","data-test-subj":"analyzeCategoryDatasetInMlButton"},linkProps)))};exports.AnalyzeCategoryDatasetInMlAction=AnalyzeCategoryDatasetInMlAction;var analyseCategoryDatasetInMlButtonLabel=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.analyzeCategoryInMlButtonLabel",{defaultMessage:"Analyze in ML"});var analyseCategoryDatasetInMlTooltipDescription=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.analyzeCategoryInMlTooltipDescription",{defaultMessage:"Analyze this category in the ML app."})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DatasetsList=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _log_analysis=__webpack_require__(702);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: inline-block;\n  margin-bottom: 2.5px;\n  margin-top: 1px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var DatasetsList=function DatasetsList(_ref){var datasets=_ref.datasets;return _react.default.createElement("ul",null,datasets.map((function(dataset){var datasetLabel=(0,_log_analysis.getFriendlyNameForPartitionId)(dataset.name);return _react.default.createElement("li",{key:datasetLabel},_react.default.createElement(DatasetLabel,null,datasetLabel))})))};exports.DatasetsList=DatasetsList;var DatasetLabel=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryCountSparkline=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _single_metric_comparison=__webpack_require__(1429);var _single_metric_sparkline=__webpack_require__(1430);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogEntryCountSparkline=function LogEntryCountSparkline(_ref){var currentCount=_ref.currentCount,histograms=_ref.histograms,timeRange=_ref.timeRange;var metric=(0,_react.useMemo)((function(){var _ref2,_histograms$find,_histograms$find$buck;return(_ref2=(_histograms$find=histograms.find((function(histogram){return histogram.histogramId==="history"})))===null||_histograms$find===void 0?void 0:(_histograms$find$buck=_histograms$find.buckets)===null||_histograms$find$buck===void 0?void 0:_histograms$find$buck.map((function(_ref3){var timestamp=_ref3.startTime,value=_ref3.logEntryCount;return{timestamp:timestamp,value:value}})))!==null&&_ref2!==void 0?_ref2:[]}),[histograms]);var referenceCount=(0,_react.useMemo)((function(){var _ref4,_histograms$find2,_histograms$find2$buc,_histograms$find2$buc2;return(_ref4=(_histograms$find2=histograms.find((function(histogram){return histogram.histogramId==="reference"})))===null||_histograms$find2===void 0?void 0:(_histograms$find2$buc=_histograms$find2.buckets)===null||_histograms$find2$buc===void 0?void 0:(_histograms$find2$buc2=_histograms$find2$buc[0])===null||_histograms$find2$buc2===void 0?void 0:_histograms$find2$buc2.logEntryCount)!==null&&_ref4!==void 0?_ref4:0}),[histograms]);var overallTimeRange=(0,_react.useMemo)((function(){return{endTime:timeRange.endTime,startTime:timeRange.startTime-(timeRange.endTime-timeRange.startTime)}}),[timeRange.endTime,timeRange.startTime]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_single_metric_sparkline.SingleMetricSparkline,{metric:metric,timeRange:overallTimeRange}),_react.default.createElement(_single_metric_comparison.SingleMetricComparison,{previousValue:referenceCount,currentValue:currentCount}))};exports.LogEntryCountSparkline=LogEntryCountSparkline},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SingleMetricComparison=void 0;var _eui=__webpack_require__(4);var _numeral=_interopRequireDefault(__webpack_require__(216));var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  white-space: nowrap;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var SingleMetricComparison=function SingleMetricComparison(_ref){var currentValue=_ref.currentValue,previousValue=_ref.previousValue;var changeFactor=currentValue/previousValue-1;if(changeFactor<0){return _react.default.createElement(NoWrapSpan,null,_react.default.createElement(_eui.EuiIcon,{type:"sortDown",color:"danger"}),_react.default.createElement(_eui.EuiTextColor,{color:"danger"},formatPercentage(changeFactor)))}else if(changeFactor>0&&Number.isFinite(changeFactor)){return _react.default.createElement(NoWrapSpan,null,_react.default.createElement(_eui.EuiIcon,{type:"sortUp",color:"success"}),_react.default.createElement(_eui.EuiTextColor,{color:"secondary"},formatPercentage(changeFactor)))}else if(changeFactor>0&&!Number.isFinite(changeFactor)){return _react.default.createElement(NoWrapSpan,null,_react.default.createElement(_eui.EuiIcon,{type:"sortUp",color:"success"}),_react.default.createElement(_eui.EuiTextColor,{color:"secondary"},newCategoryTrendLabel))}return null};exports.SingleMetricComparison=SingleMetricComparison;var formatPercentage=function formatPercentage(value){return(0,_numeral.default)(value).format("+0,0 %")};var newCategoryTrendLabel=_i18n.i18n.translate("xpack.infra.logs.logEntryCategories.newCategoryTrendLabel",{defaultMessage:"new"});var NoWrapSpan=_public.euiStyled.span(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SingleMetricSparkline=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _charts=__webpack_require__(694);var _eui_charts_theme=__webpack_require__(699);var _use_kibana_ui_setting=__webpack_require__(713);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var timestampAccessor="timestamp";var valueAccessor=["value"];var sparklineSize={height:20,width:100};var SingleMetricSparkline=function SingleMetricSparkline(_ref){var metric=_ref.metric,timeRange=_ref.timeRange;var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("theme:darkMode"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),isDarkMode=_useKibanaUiSetting2[0];var theme=(0,_react.useMemo)((function(){return[_eui_charts_theme.EUI_SPARKLINE_THEME_PARTIAL,isDarkMode?_eui_charts_theme.EUI_CHARTS_THEME_DARK.theme:_eui_charts_theme.EUI_CHARTS_THEME_LIGHT.theme]}),[isDarkMode]);var xDomain=(0,_react.useMemo)((function(){return{max:timeRange.endTime,min:timeRange.startTime}}),[timeRange]);return _react.default.createElement(_charts.Chart,{size:sparklineSize},_react.default.createElement(_charts.Settings,{showLegend:false,theme:theme,tooltip:"none",xDomain:xDomain}),_react.default.createElement(_charts.AreaSeries,{data:metric,id:"metric",xAccessor:timestampAccessor,xScaleType:"time",yAccessors:valueAccessor}))};exports.SingleMetricSparkline=SingleMetricSparkline},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntryCategoriesModule=void 0;var _log_analysis=__webpack_require__(702);var _log_analysis2=__webpack_require__(712);var _ml_get_jobs_summary_api=__webpack_require__(955);var _ml_get_module=__webpack_require__(956);var _ml_setup_module_api=__webpack_require__(957);var _validate_indices=__webpack_require__(958);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var moduleId="logs_ui_categories";var getJobIds=function getJobIds(spaceId,sourceId){return _log_analysis.logEntryCategoriesJobTypes.reduce((function(accumulatedJobIds,jobType){return _objectSpread({},accumulatedJobIds,_defineProperty({},jobType,(0,_log_analysis.getJobId)(spaceId,sourceId,jobType)))}),{})};var getJobSummary=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,sourceId){var response,jobIds;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_ml_get_jobs_summary_api.callJobsSummaryAPI)(spaceId,sourceId,_log_analysis.logEntryCategoriesJobTypes);case 2:response=_context.sent;jobIds=Object.values(getJobIds(spaceId,sourceId));return _context.abrupt("return",response.filter((function(jobSummary){return jobIds.includes(jobSummary.id)})));case 5:case"end":return _context.stop()}}}),_callee)})));return function getJobSummary(_x,_x2){return _ref.apply(this,arguments)}}();var getModuleDefinition=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_ml_get_module.callGetMlModuleAPI)(moduleId);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));return function getModuleDefinition(){return _ref2.apply(this,arguments)}}();var setUpModule=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(start,end,_ref4){var spaceId,sourceId,indices,timestampField,indexNamePattern,jobOverrides;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:spaceId=_ref4.spaceId,sourceId=_ref4.sourceId,indices=_ref4.indices,timestampField=_ref4.timestampField;indexNamePattern=indices.join(",");jobOverrides=[{job_id:"log-entry-categories-count",analysis_config:{bucket_span:"".concat(_log_analysis.bucketSpan,"ms")},data_description:{time_field:timestampField},custom_settings:{logs_source_config:{indexPattern:indexNamePattern,timestampField:timestampField,bucketSpan:_log_analysis.bucketSpan}}}];return _context3.abrupt("return",(0,_ml_setup_module_api.callSetupMlModuleAPI)(moduleId,start,end,spaceId,sourceId,indexNamePattern,jobOverrides));case 4:case"end":return _context3.stop()}}}),_callee3)})));return function setUpModule(_x3,_x4,_x5){return _ref3.apply(this,arguments)}}();var cleanUpModule=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(spaceId,sourceId){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return(0,_log_analysis2.cleanUpJobsAndDatafeeds)(spaceId,sourceId,_log_analysis.logEntryCategoriesJobTypes);case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}}),_callee4)})));return function cleanUpModule(_x6,_x7){return _ref5.apply(this,arguments)}}();var validateSetupIndices=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(_ref7){var indices,timestampField;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:indices=_ref7.indices,timestampField=_ref7.timestampField;_context5.next=3;return(0,_validate_indices.callValidateIndicesAPI)(indices,[{name:timestampField,validTypes:["date"]},{name:_log_analysis.partitionField,validTypes:["keyword"]},{name:_log_analysis.categoriesMessageField,validTypes:["text"]}]);case 3:return _context5.abrupt("return",_context5.sent);case 4:case"end":return _context5.stop()}}}),_callee5)})));return function validateSetupIndices(_x8){return _ref6.apply(this,arguments)}}();var logEntryCategoriesModule={moduleId:moduleId,jobTypes:_log_analysis.logEntryCategoriesJobTypes,bucketSpan:_log_analysis.bucketSpan,getJobIds:getJobIds,getJobSummary:getJobSummary,getModuleDefinition:getModuleDefinition,setUpModule:setUpModule,cleanUpModule:cleanUpModule,validateSetupIndices:validateSetupIndices};exports.logEntryCategoriesModule=logEntryCategoriesModule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _common=__webpack_require__(759);Object.keys(_common).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _common[key]}})}));var _entries=__webpack_require__(960);Object.keys(_entries).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _entries[key]}})}));var _highlights=__webpack_require__(1433);Object.keys(_highlights).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _highlights[key]}})}));var _item=__webpack_require__(1434);Object.keys(_item).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _item[key]}})}));var _summary=__webpack_require__(961);Object.keys(_summary).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _summary[key]}})}));var _summary_highlights=__webpack_require__(1435);Object.keys(_summary_highlights).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _summary_highlights[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesHighlightsResponseRT=exports.logEntriesHighlightsRequestRT=exports.logEntriesHighlightsCenteredRequestRT=exports.logEntriesHighlightsAfterRequestRT=exports.logEntriesHighlightsBeforeRequestRT=exports.logEntriesHighlightsBaseRequestRT=exports.LOG_ENTRIES_HIGHLIGHTS_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _entries=__webpack_require__(960);var _common=__webpack_require__(759);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ENTRIES_HIGHLIGHTS_PATH="/api/log_entries/highlights";exports.LOG_ENTRIES_HIGHLIGHTS_PATH=LOG_ENTRIES_HIGHLIGHTS_PATH;var highlightsRT=rt.type({highlightTerms:rt.array(rt.string)});var logEntriesHighlightsBaseRequestRT=rt.intersection([_entries.logEntriesBaseRequestRT,highlightsRT]);exports.logEntriesHighlightsBaseRequestRT=logEntriesHighlightsBaseRequestRT;var logEntriesHighlightsBeforeRequestRT=rt.intersection([_entries.logEntriesBeforeRequestRT,highlightsRT]);exports.logEntriesHighlightsBeforeRequestRT=logEntriesHighlightsBeforeRequestRT;var logEntriesHighlightsAfterRequestRT=rt.intersection([_entries.logEntriesAfterRequestRT,highlightsRT]);exports.logEntriesHighlightsAfterRequestRT=logEntriesHighlightsAfterRequestRT;var logEntriesHighlightsCenteredRequestRT=rt.intersection([_entries.logEntriesCenteredRequestRT,highlightsRT]);exports.logEntriesHighlightsCenteredRequestRT=logEntriesHighlightsCenteredRequestRT;var logEntriesHighlightsRequestRT=rt.union([logEntriesHighlightsBaseRequestRT,logEntriesHighlightsBeforeRequestRT,logEntriesHighlightsAfterRequestRT,logEntriesHighlightsCenteredRequestRT]);exports.logEntriesHighlightsRequestRT=logEntriesHighlightsRequestRT;var logEntriesHighlightsResponseRT=rt.type({data:rt.array(rt.type({topCursor:_common.logEntriesCursorRT,bottomCursor:_common.logEntriesCursorRT,entries:rt.array(_entries.logEntryRT)}))});exports.logEntriesHighlightsResponseRT=logEntriesHighlightsResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesItemResponseRT=exports.logEntriesItemRequestRT=exports.LOG_ENTRIES_ITEM_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _common=__webpack_require__(759);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ENTRIES_ITEM_PATH="/api/log_entries/item";exports.LOG_ENTRIES_ITEM_PATH=LOG_ENTRIES_ITEM_PATH;var logEntriesItemRequestRT=rt.type({sourceId:rt.string,id:rt.string});exports.logEntriesItemRequestRT=logEntriesItemRequestRT;var logEntriesItemFieldRT=rt.type({field:rt.string,value:rt.string});var logEntriesItemRT=rt.type({id:rt.string,index:rt.string,fields:rt.array(logEntriesItemFieldRT),key:_common.logEntriesCursorRT});var logEntriesItemResponseRT=rt.type({data:logEntriesItemRT});exports.logEntriesItemResponseRT=logEntriesItemResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntriesSummaryHighlightsResponseRT=exports.logEntriesSummaryHighlightsBucketRT=exports.logEntriesSummaryHighlightsRequestRT=exports.LOG_ENTRIES_SUMMARY_HIGHLIGHTS_PATH=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _summary=__webpack_require__(961);var _common=__webpack_require__(759);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LOG_ENTRIES_SUMMARY_HIGHLIGHTS_PATH="/api/log_entries/summary_highlights";exports.LOG_ENTRIES_SUMMARY_HIGHLIGHTS_PATH=LOG_ENTRIES_SUMMARY_HIGHLIGHTS_PATH;var logEntriesSummaryHighlightsRequestRT=rt.intersection([_summary.logEntriesSummaryRequestRT,rt.type({highlightTerms:rt.array(rt.string)})]);exports.logEntriesSummaryHighlightsRequestRT=logEntriesSummaryHighlightsRequestRT;var logEntriesSummaryHighlightsBucketRT=rt.intersection([_summary.logEntriesSummaryBucketRT,rt.type({representativeKey:_common.logEntriesCursorRT})]);exports.logEntriesSummaryHighlightsBucketRT=logEntriesSummaryHighlightsBucketRT;var logEntriesSummaryHighlightsResponseRT=rt.type({data:rt.array(rt.type({start:rt.number,end:rt.number,buckets:rt.array(logEntriesSummaryHighlightsBucketRT)}))});exports.logEntriesSummaryHighlightsResponseRT=logEntriesSummaryHighlightsResponseRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryCategoriesResults=void 0;var _react=__webpack_require__(3);var _use_tracked_promise=__webpack_require__(214);var _get_top_log_entry_categories=__webpack_require__(1437);var _get_log_entry_category_datasets=__webpack_require__(1438);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryCategoriesResults=function useLogEntryCategoriesResults(_ref){var categoriesCount=_ref.categoriesCount,filteredDatasets=_ref.filteredDatasets,endTime=_ref.endTime,onGetLogEntryCategoryDatasetsError=_ref.onGetLogEntryCategoryDatasetsError,onGetTopLogEntryCategoriesError=_ref.onGetTopLogEntryCategoriesError,sourceId=_ref.sourceId,startTime=_ref.startTime;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),topLogEntryCategories=_useState2[0],setTopLogEntryCategories=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),logEntryCategoryDatasets=_useState4[0],setLogEntryCategoryDatasets=_useState4[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"creation",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_get_top_log_entry_categories.callGetTopLogEntryCategoriesAPI)(sourceId,startTime,endTime,categoriesCount,filteredDatasets);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref2){var categories=_ref2.data.categories;setTopLogEntryCategories(categories)},onReject:function onReject(error){if(error instanceof Error&&!(error instanceof _use_tracked_promise.CanceledPromiseError)&&onGetTopLogEntryCategoriesError){onGetTopLogEntryCategoriesError(error)}}},[categoriesCount,endTime,filteredDatasets,sourceId,startTime]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),getTopLogEntryCategoriesRequest=_useTrackedPromise2[0],getTopLogEntryCategories=_useTrackedPromise2[1];var _useTrackedPromise3=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"creation",createPromise:function(){var _createPromise2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_get_log_entry_category_datasets.callGetLogEntryCategoryDatasetsAPI)(sourceId,startTime,endTime);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));function createPromise(){return _createPromise2.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref3){var datasets=_ref3.data.datasets;setLogEntryCategoryDatasets(datasets)},onReject:function onReject(error){if(error instanceof Error&&!(error instanceof _use_tracked_promise.CanceledPromiseError)&&onGetLogEntryCategoryDatasetsError){onGetLogEntryCategoryDatasetsError(error)}}},[categoriesCount,endTime,sourceId,startTime]),_useTrackedPromise4=_slicedToArray(_useTrackedPromise3,2),getLogEntryCategoryDatasetsRequest=_useTrackedPromise4[0],getLogEntryCategoryDatasets=_useTrackedPromise4[1];var isLoadingTopLogEntryCategories=(0,_react.useMemo)((function(){return getTopLogEntryCategoriesRequest.state==="pending"}),[getTopLogEntryCategoriesRequest.state]);var isLoadingLogEntryCategoryDatasets=(0,_react.useMemo)((function(){return getLogEntryCategoryDatasetsRequest.state==="pending"}),[getLogEntryCategoryDatasetsRequest.state]);var isLoading=(0,_react.useMemo)((function(){return isLoadingTopLogEntryCategories||isLoadingLogEntryCategoryDatasets}),[isLoadingLogEntryCategoryDatasets,isLoadingTopLogEntryCategories]);return{getLogEntryCategoryDatasets:getLogEntryCategoryDatasets,getTopLogEntryCategories:getTopLogEntryCategories,isLoading:isLoading,isLoadingLogEntryCategoryDatasets:isLoadingLogEntryCategoryDatasets,isLoadingTopLogEntryCategories:isLoadingTopLogEntryCategories,logEntryCategoryDatasets:logEntryCategoryDatasets,topLogEntryCategories:topLogEntryCategories}};exports.useLogEntryCategoriesResults=useLogEntryCategoriesResults},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callGetTopLogEntryCategoriesAPI=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(756);var _runtime_types=__webpack_require__(210);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callGetTopLogEntryCategoriesAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(sourceId,startTime,endTime,categoryCount,datasets){var intervalDuration,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intervalDuration=endTime-startTime;_context.next=3;return _legacy_singletons.npStart.http.fetch(_log_analysis.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORIES_PATH,{method:"POST",body:JSON.stringify(_log_analysis.getLogEntryCategoriesRequestPayloadRT.encode({data:{sourceId:sourceId,timeRange:{startTime:startTime,endTime:endTime},categoryCount:categoryCount,datasets:datasets,histograms:[{id:"history",timeRange:{startTime:startTime-intervalDuration,endTime:endTime},bucketCount:10},{id:"reference",timeRange:{startTime:startTime-intervalDuration,endTime:startTime},bucketCount:1}]}}))});case 3:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_log_analysis.getLogEntryCategoriesSuccessReponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 5:case"end":return _context.stop()}}}),_callee)})));return function callGetTopLogEntryCategoriesAPI(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}();exports.callGetTopLogEntryCategoriesAPI=callGetTopLogEntryCategoriesAPI},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callGetLogEntryCategoryDatasetsAPI=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(756);var _runtime_types=__webpack_require__(210);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callGetLogEntryCategoryDatasetsAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(sourceId,startTime,endTime){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_log_analysis.LOG_ANALYSIS_GET_LOG_ENTRY_CATEGORY_DATASETS_PATH,{method:"POST",body:JSON.stringify(_log_analysis.getLogEntryCategoryDatasetsRequestPayloadRT.encode({data:{sourceId:sourceId,timeRange:{startTime:startTime,endTime:endTime}}}))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_log_analysis.getLogEntryCategoryDatasetsSuccessReponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callGetLogEntryCategoryDatasetsAPI(_x,_x2,_x3){return _ref.apply(this,arguments)}}();exports.callGetLogEntryCategoryDatasetsAPI=callGetLogEntryCategoryDatasetsAPI},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryCategoriesResultsUrlState=exports.stringTimeRangeRT=void 0;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _use_url_state=__webpack_require__(835);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var autoRefreshRT=rt.union([rt.type({interval:rt.number,isPaused:rt.boolean}),rt.undefined]);var stringTimeRangeRT=rt.type({startTime:rt.string,endTime:rt.string});exports.stringTimeRangeRT=stringTimeRangeRT;var urlTimeRangeRT=rt.union([stringTimeRangeRT,rt.undefined]);var TIME_RANGE_URL_STATE_KEY="timeRange";var AUTOREFRESH_URL_STATE_KEY="autoRefresh";var useLogEntryCategoriesResultsUrlState=function useLogEntryCategoriesResultsUrlState(){var _useUrlState=(0,_use_url_state.useUrlState)({defaultState:{startTime:"now-2w",endTime:"now"},decodeUrlState:function decodeUrlState(value){return(0,_pipeable.pipe)(urlTimeRangeRT.decode(value),(0,_Either.fold)((0,_function.constant)(undefined),_function.identity))},encodeUrlState:urlTimeRangeRT.encode,urlStateKey:TIME_RANGE_URL_STATE_KEY,writeDefaultState:true}),_useUrlState2=_slicedToArray(_useUrlState,2),timeRange=_useUrlState2[0],setTimeRange=_useUrlState2[1];var _useUrlState3=(0,_use_url_state.useUrlState)({defaultState:{isPaused:false,interval:6e4},decodeUrlState:function decodeUrlState(value){return(0,_pipeable.pipe)(autoRefreshRT.decode(value),(0,_Either.fold)((0,_function.constant)(undefined),_function.identity))},encodeUrlState:autoRefreshRT.encode,urlStateKey:AUTOREFRESH_URL_STATE_KEY,writeDefaultState:true}),_useUrlState4=_slicedToArray(_useUrlState3,2),autoRefresh=_useUrlState4[0],setAutoRefresh=_useUrlState4[1];return{timeRange:timeRange,setTimeRange:setTimeRange,autoRefresh:autoRefresh,setAutoRefresh:setAutoRefresh}};exports.useLogEntryCategoriesResultsUrlState=useLogEntryCategoriesResultsUrlState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryCategoriesSetupContent=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _beta_badge=__webpack_require__(781);var _log_analysis_setup=__webpack_require__(779);var _public=__webpack_require__(64);var _use_log_entry_categories_setup=__webpack_require__(1441);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogEntryCategoriesSetupContent=function LogEntryCategoriesSetupContent(){(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_categories_setup"});(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_categories_setup",delay:15e3});var _useLogEntryCategorie=(0,_use_log_entry_categories_setup.useLogEntryCategoriesSetup)(),cleanUpAndSetUp=_useLogEntryCategorie.cleanUpAndSetUp,endTime=_useLogEntryCategorie.endTime,isValidating=_useLogEntryCategorie.isValidating,lastSetupErrorMessages=_useLogEntryCategorie.lastSetupErrorMessages,setEndTime=_useLogEntryCategorie.setEndTime,setStartTime=_useLogEntryCategorie.setStartTime,setValidatedIndices=_useLogEntryCategorie.setValidatedIndices,setUp=_useLogEntryCategorie.setUp,setupStatus=_useLogEntryCategorie.setupStatus,startTime=_useLogEntryCategorie.startTime,validatedIndices=_useLogEntryCategorie.validatedIndices,validationErrors=_useLogEntryCategorie.validationErrors,viewResults=_useLogEntryCategorie.viewResults;var steps=(0,_react2.useMemo)((function(){return[(0,_log_analysis_setup.createInitialConfigurationStep)({setStartTime:setStartTime,setEndTime:setEndTime,startTime:startTime,endTime:endTime,isValidating:isValidating,validatedIndices:validatedIndices,setupStatus:setupStatus,setValidatedIndices:setValidatedIndices,validationErrors:validationErrors}),(0,_log_analysis_setup.createProcessStep)({cleanUpAndSetUp:cleanUpAndSetUp,errorMessages:lastSetupErrorMessages,isConfigurationValid:validationErrors.length<=0,setUp:setUp,setupStatus:setupStatus,viewResults:viewResults})]}),[cleanUpAndSetUp,endTime,isValidating,lastSetupErrorMessages,setEndTime,setStartTime,setUp,setValidatedIndices,setupStatus,startTime,validatedIndices,validationErrors,viewResults]);return _react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPage,{"data-test-subj":"logEntryCategoriesSetupPage"},_react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPageHeader,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.setupTitle",defaultMessage:"Enable Machine Learning analysis"})," ",_react2.default.createElement(_beta_badge.BetaBadge,null)),_react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPageContent,null,_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.setupDescription",defaultMessage:"Use Machine Learning to automatically categorize log messages."})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiSteps,{steps:steps})))};exports.LogEntryCategoriesSetupContent=LogEntryCategoriesSetupContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryCategoriesSetup=void 0;var _log_analysis=__webpack_require__(712);var _use_log_entry_categories_module=__webpack_require__(787);var useLogEntryCategoriesSetup=function useLogEntryCategoriesSetup(){var _useLogEntryCategorie=(0,_use_log_entry_categories_module.useLogEntryCategoriesModuleContext)(),cleanUpAndSetUpModule=_useLogEntryCategorie.cleanUpAndSetUpModule,lastSetupErrorMessages=_useLogEntryCategorie.lastSetupErrorMessages,moduleDescriptor=_useLogEntryCategorie.moduleDescriptor,setUpModule=_useLogEntryCategorie.setUpModule,setupStatus=_useLogEntryCategorie.setupStatus,sourceConfiguration=_useLogEntryCategorie.sourceConfiguration,viewResults=_useLogEntryCategorie.viewResults;var _useAnalysisSetupStat=(0,_log_analysis.useAnalysisSetupState)({cleanUpAndSetUpModule:cleanUpAndSetUpModule,moduleDescriptor:moduleDescriptor,setUpModule:setUpModule,sourceConfiguration:sourceConfiguration}),cleanUpAndSetUp=_useAnalysisSetupStat.cleanUpAndSetUp,endTime=_useAnalysisSetupStat.endTime,isValidating=_useAnalysisSetupStat.isValidating,setEndTime=_useAnalysisSetupStat.setEndTime,setStartTime=_useAnalysisSetupStat.setStartTime,setValidatedIndices=_useAnalysisSetupStat.setValidatedIndices,setUp=_useAnalysisSetupStat.setUp,startTime=_useAnalysisSetupStat.startTime,validatedIndices=_useAnalysisSetupStat.validatedIndices,validationErrors=_useAnalysisSetupStat.validationErrors;return{cleanUpAndSetUp:cleanUpAndSetUp,endTime:endTime,isValidating:isValidating,lastSetupErrorMessages:lastSetupErrorMessages,setEndTime:setEndTime,setStartTime:setStartTime,setValidatedIndices:setValidatedIndices,setUp:setUp,setupStatus:setupStatus,startTime:startTime,validatedIndices:validatedIndices,validationErrors:validationErrors,viewResults:viewResults}};exports.useLogEntryCategoriesSetup=useLogEntryCategoriesSetup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryCategoriesPageProviders=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _source=__webpack_require__(705);var _use_kibana_space_id=__webpack_require__(962);var _use_log_entry_categories_module=__webpack_require__(787);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogEntryCategoriesPageProviders=function LogEntryCategoriesPageProviders(_ref){var children=_ref.children;var _useSourceContext=(0,_source.useSourceContext)(),sourceId=_useSourceContext.sourceId,source=_useSourceContext.source;var spaceId=(0,_use_kibana_space_id.useKibanaSpaceId)();return _react.default.createElement(_use_log_entry_categories_module.LogEntryCategoriesModuleProvider,{indexPattern:source?source.configuration.logAlias:"",sourceId:sourceId,spaceId:spaceId,timestampField:source?source.configuration.fields.timestamp:""},children)};exports.LogEntryCategoriesPageProviders=LogEntryCategoriesPageProviders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _page=__webpack_require__(1444);Object.keys(_page).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _page[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRatePage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _page=__webpack_require__(709);var _page_content=__webpack_require__(1445);var _page_providers=__webpack_require__(1458);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogEntryRatePage=function LogEntryRatePage(){return _react.default.createElement(_page_providers.LogEntryRatePageProviders,null,_react.default.createElement(_page.ColumnarPage,{"data-test-subj":"logsLogEntryRatePage"},_react.default.createElement(_page_content.LogEntryRatePageContent,null)))};exports.LogEntryRatePage=LogEntryRatePage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRatePageContent=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis=__webpack_require__(702);var _loading_page=__webpack_require__(753);var _log_analysis_setup=__webpack_require__(779);var _source_error_page=__webpack_require__(780);var _source_loading_page=__webpack_require__(738);var _log_analysis2=__webpack_require__(712);var _source=__webpack_require__(705);var _page_results_content=__webpack_require__(1446);var _page_setup_content=__webpack_require__(1456);var _use_log_entry_rate_module=__webpack_require__(788);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogEntryRatePageContent=function LogEntryRatePageContent(){var _useSourceContext=(0,_source.useSourceContext)(),hasFailedLoadingSource=_useSourceContext.hasFailedLoadingSource,isLoadingSource=_useSourceContext.isLoadingSource,isUninitialized=_useSourceContext.isUninitialized,loadSource=_useSourceContext.loadSource,loadSourceFailureMessage=_useSourceContext.loadSourceFailureMessage;var _useLogAnalysisCapabi=(0,_log_analysis2.useLogAnalysisCapabilitiesContext)(),hasLogAnalysisCapabilites=_useLogAnalysisCapabi.hasLogAnalysisCapabilites,hasLogAnalysisReadCapabilities=_useLogAnalysisCapabi.hasLogAnalysisReadCapabilities,hasLogAnalysisSetupCapabilities=_useLogAnalysisCapabi.hasLogAnalysisSetupCapabilities;var _useLogEntryRateModul=(0,_use_log_entry_rate_module.useLogEntryRateModuleContext)(),fetchJobStatus=_useLogEntryRateModul.fetchJobStatus,fetchModuleDefinition=_useLogEntryRateModul.fetchModuleDefinition,setupStatus=_useLogEntryRateModul.setupStatus;(0,_react.useEffect)((function(){if(hasLogAnalysisReadCapabilities){fetchModuleDefinition();fetchJobStatus()}}),[fetchJobStatus,fetchModuleDefinition,hasLogAnalysisReadCapabilities]);if(isLoadingSource||isUninitialized){return _react.default.createElement(_source_loading_page.SourceLoadingPage,null)}else if(hasFailedLoadingSource){return _react.default.createElement(_source_error_page.SourceErrorPage,{errorMessage:loadSourceFailureMessage!==null&&loadSourceFailureMessage!==void 0?loadSourceFailureMessage:"",retry:loadSource})}else if(!hasLogAnalysisCapabilites){return _react.default.createElement(_log_analysis_setup.MlUnavailablePrompt,null)}else if(!hasLogAnalysisReadCapabilities){return _react.default.createElement(_log_analysis_setup.MissingResultsPrivilegesPrompt,null)}else if(setupStatus==="initializing"){return _react.default.createElement(_loading_page.LoadingPage,{message:_i18n.i18n.translate("xpack.infra.logs.analysisPage.loadingMessage",{defaultMessage:"Checking status of analysis jobs..."})})}else if(setupStatus==="unknown"){return _react.default.createElement(_log_analysis_setup.LogAnalysisSetupStatusUnknownPrompt,{retry:fetchJobStatus})}else if((0,_log_analysis.isSetupStatusWithResults)(setupStatus)){return _react.default.createElement(_page_results_content.LogEntryRateResultsContent,null)}else if(!hasLogAnalysisSetupCapabilities){return _react.default.createElement(_log_analysis_setup.MissingSetupPrivilegesPrompt,null)}else{return _react.default.createElement(_page_setup_content.LogEntryRateSetupContent,null)}};exports.LogEntryRatePageContent=LogEntryRatePageContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ResultsContentPage=exports.LogEntryRateResultsContent=void 0;var _datemath=_interopRequireDefault(__webpack_require__(24));var _eui=__webpack_require__(4);var _numeral=_interopRequireDefault(__webpack_require__(216));var _react=__webpack_require__(5);var _moment=_interopRequireDefault(__webpack_require__(11));var _react2=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _log_analysis=__webpack_require__(702);var _loading_overlay_wrapper=__webpack_require__(755);var _use_interval=__webpack_require__(942);var _use_kibana_ui_setting=__webpack_require__(713);var _anomalies=__webpack_require__(1447);var _log_rate=__webpack_require__(1450);var _use_log_entry_rate_module=__webpack_require__(788);var _use_log_entry_rate_results=__webpack_require__(1453);var _use_log_entry_rate_results_url_state=__webpack_require__(1455);var _log_analysis_results=__webpack_require__(739);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n\n  .euiFlexGroup--responsive > .euiFlexItem {\n    flex-basis: auto !important;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var JOB_STATUS_POLLING_INTERVAL=3e4;var LogEntryRateResultsContent=function LogEntryRateResultsContent(){(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_rate_results"});(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_rate_results",delay:15e3});var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat","MMMM D, YYYY h:mm A"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),dateFormat=_useKibanaUiSetting2[0];var _useLogEntryRateModul=(0,_use_log_entry_rate_module.useLogEntryRateModuleContext)(),fetchJobStatus=_useLogEntryRateModul.fetchJobStatus,jobStatus=_useLogEntryRateModul.jobStatus,setupStatus=_useLogEntryRateModul.setupStatus,viewSetupForReconfiguration=_useLogEntryRateModul.viewSetupForReconfiguration,viewSetupForUpdate=_useLogEntryRateModul.viewSetupForUpdate,jobIds=_useLogEntryRateModul.jobIds,sourceId=_useLogEntryRateModul.sourceConfiguration.sourceId;var _useLogAnalysisResult=(0,_use_log_entry_rate_results_url_state.useLogAnalysisResultsUrlState)(),selectedTimeRange=_useLogAnalysisResult.timeRange,setSelectedTimeRange=_useLogAnalysisResult.setTimeRange,autoRefresh=_useLogAnalysisResult.autoRefresh,setAutoRefresh=_useLogAnalysisResult.setAutoRefresh;var _useState=(0,_react2.useState)((function(){return{value:stringToNumericTimeRange(selectedTimeRange),lastChangedTime:Date.now()}})),_useState2=_slicedToArray(_useState,2),queryTimeRange=_useState2[0],setQueryTimeRange=_useState2[1];var bucketDuration=(0,_react2.useMemo)((function(){return getBucketDuration(queryTimeRange.value.startTime,queryTimeRange.value.endTime)}),[queryTimeRange.value.endTime,queryTimeRange.value.startTime]);var _useLogEntryRateResul=(0,_use_log_entry_rate_results.useLogEntryRateResults)({sourceId:sourceId,startTime:queryTimeRange.value.startTime,endTime:queryTimeRange.value.endTime,bucketDuration:bucketDuration}),getLogEntryRate=_useLogEntryRateResul.getLogEntryRate,isLoading=_useLogEntryRateResul.isLoading,logEntryRate=_useLogEntryRateResul.logEntryRate;var hasResults=(0,_react2.useMemo)((function(){var _ref,_logEntryRate$histogr;return((_ref=logEntryRate===null||logEntryRate===void 0?void 0:(_logEntryRate$histogr=logEntryRate.histogramBuckets)===null||_logEntryRate$histogr===void 0?void 0:_logEntryRate$histogr.length)!==null&&_ref!==void 0?_ref:0)>0}),[logEntryRate]);var handleQueryTimeRangeChange=(0,_react2.useCallback)((function(_ref2){var startTime=_ref2.start,endTime=_ref2.end;setQueryTimeRange({value:stringToNumericTimeRange({startTime:startTime,endTime:endTime}),lastChangedTime:Date.now()})}),[setQueryTimeRange]);var handleSelectedTimeRangeChange=(0,_react2.useCallback)((function(selectedTime){if(selectedTime.isInvalid){return}setSelectedTimeRange({startTime:selectedTime.start,endTime:selectedTime.end});handleQueryTimeRangeChange(selectedTime)}),[setSelectedTimeRange,handleQueryTimeRangeChange]);var handleChartTimeRangeChange=(0,_react2.useCallback)((function(_ref3){var startTime=_ref3.startTime,endTime=_ref3.endTime;handleSelectedTimeRangeChange({end:new Date(endTime).toISOString(),isInvalid:false,start:new Date(startTime).toISOString()})}),[handleSelectedTimeRangeChange]);var handleAutoRefreshChange=(0,_react2.useCallback)((function(_ref4){var isPaused=_ref4.isPaused,interval=_ref4.refreshInterval;setAutoRefresh({isPaused:isPaused,interval:interval})}),[setAutoRefresh]);var isFirstUse=(0,_react2.useMemo)((function(){return setupStatus==="hiddenAfterSuccess"}),[setupStatus]);(0,_react2.useEffect)((function(){getLogEntryRate()}),[getLogEntryRate,queryTimeRange.lastChangedTime]);(0,_use_interval.useInterval)((function(){fetchJobStatus()}),JOB_STATUS_POLLING_INTERVAL);(0,_use_interval.useInterval)((function(){handleQueryTimeRangeChange({start:selectedTimeRange.startTime,end:selectedTimeRange.endTime})}),autoRefresh.isPaused?null:autoRefresh.interval);return _react2.default.createElement(ResultsContentPage,null,_react2.default.createElement(_eui.EuiFlexGroup,{direction:"column"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},logEntryRate?_react2.default.createElement(_loading_overlay_wrapper.LoadingOverlayWrapper,{isLoading:isLoading},_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.analysis.logRateResultsToolbarText",defaultMessage:"Analyzed {numberOfLogs} log entries from {startTime} to {endTime}",values:{numberOfLogs:_react2.default.createElement(_eui.EuiBadge,{color:"primary"},_react2.default.createElement(_eui.EuiText,{size:"s",color:"ghost"},(0,_numeral.default)(logEntryRate.totalNumberOfLogEntries).format("0.00a"))),startTime:_react2.default.createElement("b",null,(0,_moment.default)(queryTimeRange.value.startTime).format(dateFormat)),endTime:_react2.default.createElement("b",null,(0,_moment.default)(queryTimeRange.value.endTime).format(dateFormat))}}))):null),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSuperDatePicker,{start:selectedTimeRange.startTime,end:selectedTimeRange.endTime,onTimeChange:handleSelectedTimeRangeChange,isPaused:autoRefresh.isPaused,refreshInterval:autoRefresh.interval,onRefreshChange:handleAutoRefreshChange}))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},isFirstUse&&!hasResults?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_log_analysis_results.FirstUseCallout,null),_react2.default.createElement(_eui.EuiSpacer,null)):null,_react2.default.createElement(_log_rate.LogRateResults,{isLoading:isLoading,results:logEntryRate,setTimeRange:handleChartTimeRangeChange,timeRange:queryTimeRange.value}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_anomalies.AnomaliesResults,{isLoading:isLoading,jobStatus:jobStatus["log-entry-rate"],viewSetupForReconfiguration:viewSetupForReconfiguration,viewSetupForUpdate:viewSetupForUpdate,results:logEntryRate,setTimeRange:handleChartTimeRangeChange,setupStatus:setupStatus,timeRange:queryTimeRange.value,jobId:jobIds["log-entry-rate"]})))))};exports.LogEntryRateResultsContent=LogEntryRateResultsContent;var stringToNumericTimeRange=function stringToNumericTimeRange(timeRange){return{startTime:(0,_moment.default)(_datemath.default.parse(timeRange.startTime,{momentInstance:_moment.default})).valueOf(),endTime:(0,_moment.default)(_datemath.default.parse(timeRange.endTime,{momentInstance:_moment.default,roundUp:true})).valueOf()}};var getBucketDuration=function getBucketDuration(startTime,endTime){var msRange=(0,_moment.default)(endTime).diff((0,_moment.default)(startTime));var bucketIntervalInMs=msRange/100;var result=_log_analysis.bucketSpan*Math.round(bucketIntervalInMs/_log_analysis.bucketSpan);var roundedResult=parseInt(Number(result).toFixed(0),10);return roundedResult<_log_analysis.bucketSpan?_log_analysis.bucketSpan:roundedResult};var ResultsContentPage=(0,_public.euiStyled)(_eui.EuiPage)(_templateObject());exports.ResultsContentPage=ResultsContentPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesResults=void 0;var _eui=__webpack_require__(4);var _numeral=_interopRequireDefault(__webpack_require__(216));var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _log_analysis=__webpack_require__(702);var _data_formatters=__webpack_require__(845);var _chart=__webpack_require__(963);var _table=__webpack_require__(1448);var _log_analysis_job_status=__webpack_require__(842);var _log_analysis_results=__webpack_require__(739);var _loading_overlay_wrapper=__webpack_require__(755);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  white-space: nowrap;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var AnomaliesResults=function AnomaliesResults(_ref){var isLoading=_ref.isLoading,jobStatus=_ref.jobStatus,results=_ref.results,setTimeRange=_ref.setTimeRange,setupStatus=_ref.setupStatus,timeRange=_ref.timeRange,viewSetupForReconfiguration=_ref.viewSetupForReconfiguration,viewSetupForUpdate=_ref.viewSetupForUpdate,jobId=_ref.jobId;var hasAnomalies=(0,_react.useMemo)((function(){return results&&results.histogramBuckets?results.histogramBuckets.some((function(bucket){return bucket.partitions.some((function(partition){return partition.anomalies.length>0}))})):false}),[results]);var logEntryRateSeries=(0,_react.useMemo)((function(){return results&&results.histogramBuckets?(0,_data_formatters.getLogEntryRateCombinedSeries)(results):[]}),[results]);var anomalyAnnotations=(0,_react.useMemo)((function(){return results&&results.histogramBuckets?(0,_data_formatters.getAnnotationsForAll)(results):{warning:[],minor:[],major:[],critical:[]}}),[results]);var topAnomalyScore=(0,_react.useMemo)((function(){return results&&results.histogramBuckets?(0,_data_formatters.getTopAnomalyScoreAcrossAllPartitions)(results):undefined}),[results]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s","aria-label":title},_react.default.createElement("h2",null,title))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_job_status.RecreateJobButton,{onClick:viewSetupForUpdate,size:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_results.AnalyzeInMlButton,{jobId:jobId,timeRange:timeRange}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_log_analysis_job_status.LogAnalysisJobProblemIndicator,{jobStatus:jobStatus,setupStatus:setupStatus,onRecreateMlJobForReconfiguration:viewSetupForReconfiguration,onRecreateMlJobForUpdate:viewSetupForUpdate}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_loading_overlay_wrapper.LoadingOverlayWrapper,{isLoading:isLoading,loadingChildren:_react.default.createElement(LoadingOverlayContent,null)},!results||results&&results.histogramBuckets&&!results.histogramBuckets.length?_react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h2",null,_i18n.i18n.translate("xpack.infra.logs.analysis.anomalySectionNoDataTitle",{defaultMessage:"There is no data to display."})),titleSize:"m",body:_react.default.createElement("p",null,_i18n.i18n.translate("xpack.infra.logs.analysis.anomalySectionNoDataBody",{defaultMessage:"You may want to adjust your time range."}))}):!hasAnomalies?_react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h2",null,_i18n.i18n.translate("xpack.infra.logs.analysis.anomalySectionNoAnomaliesTitle",{defaultMessage:"No anomalies were detected."})),titleSize:"m"}):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:8},_react.default.createElement(_chart.AnomaliesChart,{chartId:"overall",setTimeRange:setTimeRange,timeRange:timeRange,series:logEntryRateSeries,annotations:anomalyAnnotations,renderAnnotationTooltip:renderAnnotationTooltip})),_react.default.createElement(_eui.EuiFlexItem,{grow:2},_react.default.createElement(_eui.EuiStat,{title:(0,_numeral.default)(results.totalNumberOfLogEntries).format("0.00a"),titleSize:"m",description:_i18n.i18n.translate("xpack.infra.logs.analysis.overallAnomaliesNumberOfLogEntriesDescription",{defaultMessage:"Number of log entries"}),reverse:true}),_react.default.createElement(_eui.EuiStat,{title:topAnomalyScore?(0,_log_analysis.formatAnomalyScore)(topAnomalyScore):null,titleSize:"m",description:_i18n.i18n.translate("xpack.infra.logs.analysis.overallAnomaliesTopAnomalyScoreDescription",{defaultMessage:"Max anomaly score"}),reverse:true}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_table.AnomaliesTable,{results:results,setTimeRange:setTimeRange,timeRange:timeRange,jobId:jobId}))))};exports.AnomaliesResults=AnomaliesResults;var title=_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesSectionTitle",{defaultMessage:"Anomalies"});var overallAnomalyScoreLabel=_i18n.i18n.translate("xpack.infra.logs.analysis.overallAnomalyChartMaxScoresLabel",{defaultMessage:"Max anomaly scores:"});var AnnotationTooltip=function AnnotationTooltip(_ref2){var details=_ref2.details;var parsedDetails=JSON.parse(details);return _react.default.createElement(TooltipWrapper,null,_react.default.createElement("span",null,_react.default.createElement("b",null,overallAnomalyScoreLabel)),_react.default.createElement("ul",null,parsedDetails.anomalyScoresByPartition.map((function(_ref3){var partitionName=_ref3.partitionName,maximumAnomalyScore=_ref3.maximumAnomalyScore;return _react.default.createElement("li",{key:"overall-anomaly-chart-".concat(partitionName)},_react.default.createElement("span",null,"".concat(partitionName,": "),_react.default.createElement("b",null,maximumAnomalyScore)))}))))};var renderAnnotationTooltip=function renderAnnotationTooltip(details){if(!details){return _react.default.createElement("div",null)}return _react.default.createElement(AnnotationTooltip,{details:details})};var TooltipWrapper=(0,_public.euiStyled)("div")(_templateObject());var loadingAriaLabel=_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesSectionLoadingAriaLabel",{defaultMessage:"Loading anomalies"});var LoadingOverlayContent=function LoadingOverlayContent(){return _react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl","aria-label":loadingAriaLabel})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesTable=void 0;var _eui=__webpack_require__(4);var _services=__webpack_require__(229);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _reactUse=__webpack_require__(747);var _public=__webpack_require__(64);var _log_analysis=__webpack_require__(702);var _basic_table=__webpack_require__(943);var _expanded_row=__webpack_require__(1449);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  & .euiTable {\n    table-layout: auto;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var partitionColumnName=_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesTablePartitionColumnName",{defaultMessage:"Partition"});var maxAnomalyScoreColumnName=_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesTableMaxAnomalyScoreColumnName",{defaultMessage:"Max anomaly score"});var AnomaliesTable=function AnomaliesTable(_ref){var results=_ref.results,timeRange=_ref.timeRange,setTimeRange=_ref.setTimeRange,jobId=_ref.jobId;var tableItems=(0,_react.useMemo)((function(){return Object.entries(results.partitionBuckets).map((function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return{partitionId:key,partitionName:(0,_log_analysis.getFriendlyNameForPartitionId)(key),topAnomalyScore:(0,_log_analysis.formatAnomalyScore)(value.topAnomalyScore)}}))}),[results]);var _useSet=(0,_reactUse.useSet)(new Set),_useSet2=_slicedToArray(_useSet,2),expandedDatasetIds=_useSet2[0],_useSet2$=_useSet2[1],expandDataset=_useSet2$.add,collapseDataset=_useSet2$.remove;var expandedDatasetRowContents=(0,_react.useMemo)((function(){return _toConsumableArray(expandedDatasetIds).reduce((function(aggregatedDatasetRows,datasetId){return _objectSpread({},aggregatedDatasetRows,_defineProperty({},(0,_log_analysis.getFriendlyNameForPartitionId)(datasetId),_react.default.createElement(_expanded_row.AnomaliesTableExpandedRow,{partitionId:datasetId,results:results,setTimeRange:setTimeRange,timeRange:timeRange,jobId:jobId})))}),{})}),[expandedDatasetIds,jobId,results,setTimeRange,timeRange]);var _useState=(0,_react.useState)({sort:{field:"topAnomalyScore",direction:"desc"}}),_useState2=_slicedToArray(_useState,2),sorting=_useState2[0],setSorting=_useState2[1];var handleTableChange=(0,_react.useCallback)((function(_ref4){var _ref4$sort=_ref4.sort,sort=_ref4$sort===void 0?{}:_ref4$sort;var field=sort.field,direction=sort.direction;setSorting({sort:{field:field,direction:direction}})}),[setSorting]);var sortedTableItems=(0,_react.useMemo)((function(){var sortedItems=[];if(sorting.sort.field==="partitionName"){sortedItems=tableItems.sort((function(a,b){return a.partitionId>b.partitionId?1:-1}))}else if(sorting.sort.field==="topAnomalyScore"){sortedItems=tableItems.sort((function(a,b){return a.topAnomalyScore-b.topAnomalyScore}))}return sorting.sort.direction==="asc"?sortedItems:sortedItems.reverse()}),[tableItems,sorting]);var columns=(0,_react.useMemo)((function(){return[{field:"partitionName",name:partitionColumnName,sortable:true,truncateText:true},{field:"topAnomalyScore",name:maxAnomalyScoreColumnName,sortable:true,truncateText:true,dataType:"number"},{align:_services.RIGHT_ALIGNMENT,width:"40px",isExpander:true,render:function render(item){return _react.default.createElement(_basic_table.RowExpansionButton,{isExpanded:expandedDatasetIds.has(item.partitionId),item:item.partitionId,onExpand:expandDataset,onCollapse:collapseDataset})}}]}),[collapseDataset,expandDataset,expandedDatasetIds]);return _react.default.createElement(StyledEuiBasicTable,{items:sortedTableItems,itemId:"partitionName",itemIdToExpandedRowMap:expandedDatasetRowContents,isExpandable:true,hasActions:true,columns:columns,sorting:sorting,onChange:handleTableChange})};exports.AnomaliesTable=AnomaliesTable;var StyledEuiBasicTable=(0,_public.euiStyled)(_eui.EuiBasicTable)(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnomaliesTableExpandedRow=void 0;var _eui=__webpack_require__(4);var _numeral=_interopRequireDefault(__webpack_require__(216));var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _log_analysis_results=__webpack_require__(739);var _data_formatters=__webpack_require__(845);var _chart=__webpack_require__(963);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AnomaliesTableExpandedRow=function AnomaliesTableExpandedRow(_ref){var results=_ref.results,timeRange=_ref.timeRange,setTimeRange=_ref.setTimeRange,partitionId=_ref.partitionId,jobId=_ref.jobId;var logEntryRateSeries=(0,_react.useMemo)((function(){return(results===null||results===void 0?void 0:results.histogramBuckets)?(0,_data_formatters.getLogEntryRateSeriesForPartition)(results,partitionId):[]}),[results,partitionId]);var anomalyAnnotations=(0,_react.useMemo)((function(){return(results===null||results===void 0?void 0:results.histogramBuckets)?(0,_data_formatters.getAnnotationsForPartition)(results,partitionId):{warning:[],minor:[],major:[],critical:[]}}),[results,partitionId]);var totalNumberOfLogEntries=(0,_react.useMemo)((function(){return(results===null||results===void 0?void 0:results.histogramBuckets)?(0,_data_formatters.getTotalNumberOfLogEntriesForPartition)(results,partitionId):undefined}),[results,partitionId]);return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:8},_react.default.createElement(_chart.AnomaliesChart,{chartId:"".concat(partitionId,"-anomalies"),timeRange:timeRange,setTimeRange:setTimeRange,series:logEntryRateSeries,annotations:anomalyAnnotations})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiStat,{title:(0,_numeral.default)(totalNumberOfLogEntries).format("0.00a"),titleSize:"m",description:_i18n.i18n.translate("xpack.infra.logs.analysis.anomaliesExpandedRowNumberOfLogEntriesDescription",{defaultMessage:"Number of log entries"}),reverse:true}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_analysis_results.AnalyzeInMlButton,{jobId:jobId,timeRange:timeRange,partition:partitionId})))))};exports.AnomaliesTableExpandedRow=AnomaliesTableExpandedRow},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogRateResults=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _beta_badge=__webpack_require__(781);var _loading_overlay_wrapper=__webpack_require__(755);var _data_formatters=__webpack_require__(845);var _bar_chart=__webpack_require__(1451);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogRateResults=function LogRateResults(_ref){var isLoading=_ref.isLoading,results=_ref.results,setTimeRange=_ref.setTimeRange,timeRange=_ref.timeRange;var logEntryRateSeries=(0,_react.useMemo)((function(){return results&&results.histogramBuckets?(0,_data_formatters.getLogEntryRatePartitionedSeries)(results):[]}),[results]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"m","aria-label":title},_react.default.createElement("h2",null,title," ",_react.default.createElement(_beta_badge.BetaBadge,null))),_react.default.createElement(_loading_overlay_wrapper.LoadingOverlayWrapper,{isLoading:isLoading,loadingChildren:_react.default.createElement(LoadingOverlayContent,null)},!results||results&&results.histogramBuckets&&!results.histogramBuckets.length?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h2",null,_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionNoDataTitle",{defaultMessage:"There is no data to display."})),titleSize:"m",body:_react.default.createElement("p",null,_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionNoDataBody",{defaultMessage:"You may want to adjust your time range."}))})):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement("b",null,_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionBucketSpanLabel",{defaultMessage:"Bucket span: "})),_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionBucketSpanValue",{defaultMessage:"15 minutes"}))),_react.default.createElement(_bar_chart.LogEntryRateBarChart,{setTimeRange:setTimeRange,timeRange:timeRange,series:logEntryRateSeries}))))};exports.LogRateResults=LogRateResults;var title=_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionTitle",{defaultMessage:"Log entries"});var loadingAriaLabel=_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionLoadingAriaLabel",{defaultMessage:"Loading log rate results"});var LoadingOverlayContent=function LoadingOverlayContent(){return _react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl","aria-label":loadingAriaLabel})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRateBarChart=void 0;var _charts=__webpack_require__(694);var _i18n=__webpack_require__(0);var _numeral=_interopRequireDefault(__webpack_require__(216));var _moment=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(3));var _use_kibana_ui_setting=__webpack_require__(713);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogEntryRateBarChart=function LogEntryRateBarChart(_ref){var series=_ref.series,setTimeRange=_ref.setTimeRange,timeRange=_ref.timeRange;var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),dateFormat=_useKibanaUiSetting2[0];var _useKibanaUiSetting3=(0,_use_kibana_ui_setting.useKibanaUiSetting)("theme:darkMode"),_useKibanaUiSetting4=_slicedToArray(_useKibanaUiSetting3,1),isDarkMode=_useKibanaUiSetting4[0];var chartDateFormatter=(0,_react.useMemo)((function(){return(0,_charts.niceTimeFormatter)([timeRange.startTime,timeRange.endTime])}),[timeRange]);var tooltipProps=(0,_react.useMemo)((function(){return{headerFormatter:function headerFormatter(tooltipData){return(0,_moment.default)(tooltipData.value).format(dateFormat||"Y-MM-DD HH:mm:ss.SSS")}}}),[dateFormat]);var handleBrushEnd=(0,_react.useCallback)((function(startTime,endTime){setTimeRange({endTime:endTime,startTime:startTime})}),[setTimeRange]);return _react.default.createElement("div",{style:{height:200,width:"100%"}},_react.default.createElement(_charts.Chart,{className:"log-entry-rate-chart"},_react.default.createElement(_charts.Axis,{id:"timestamp",position:"bottom",showOverlappingTicks:true,tickFormat:chartDateFormatter}),_react.default.createElement(_charts.Axis,{id:"values",position:"left",tickFormat:function tickFormat(value){return(0,_numeral.default)(value.toPrecision(3)).format("0[.][00]a")}}),_react.default.createElement(_charts.BarSeries,{id:"averageValues",name:_i18n.i18n.translate("xpack.infra.logs.analysis.logRateSectionLineSeriesName",{defaultMessage:"Log entries per 15 minutes (avg)"}),xScaleType:"time",yScaleType:"linear",xAccessor:"time",yAccessors:["value"],splitSeriesAccessors:["group"],stackAccessors:["time"],data:series}),_react.default.createElement(_charts.Settings,{onBrushEnd:handleBrushEnd,tooltip:tooltipProps,theme:isDarkMode?_charts.DARK_THEME:_charts.LIGHT_THEME,showLegend:true,showLegendExtra:true,legendPosition:"right",xDomain:{min:timeRange.startTime,max:timeRange.endTime}})))};exports.LogEntryRateBarChart=LogEntryRateBarChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logEntryRateModule=void 0;var _log_analysis=__webpack_require__(702);var _log_analysis2=__webpack_require__(712);var _ml_get_jobs_summary_api=__webpack_require__(955);var _ml_get_module=__webpack_require__(956);var _ml_setup_module_api=__webpack_require__(957);var _validate_indices=__webpack_require__(958);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var moduleId="logs_ui_analysis";var getJobIds=function getJobIds(spaceId,sourceId){return _log_analysis.logEntryRateJobTypes.reduce((function(accumulatedJobIds,jobType){return _objectSpread({},accumulatedJobIds,_defineProperty({},jobType,(0,_log_analysis.getJobId)(spaceId,sourceId,jobType)))}),{})};var getJobSummary=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,sourceId){var response,jobIds;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_ml_get_jobs_summary_api.callJobsSummaryAPI)(spaceId,sourceId,_log_analysis.logEntryRateJobTypes);case 2:response=_context.sent;jobIds=Object.values(getJobIds(spaceId,sourceId));return _context.abrupt("return",response.filter((function(jobSummary){return jobIds.includes(jobSummary.id)})));case 5:case"end":return _context.stop()}}}),_callee)})));return function getJobSummary(_x,_x2){return _ref.apply(this,arguments)}}();var getModuleDefinition=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_ml_get_module.callGetMlModuleAPI)(moduleId);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));return function getModuleDefinition(){return _ref2.apply(this,arguments)}}();var setUpModule=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(start,end,_ref4){var spaceId,sourceId,indices,timestampField,indexNamePattern,jobOverrides;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:spaceId=_ref4.spaceId,sourceId=_ref4.sourceId,indices=_ref4.indices,timestampField=_ref4.timestampField;indexNamePattern=indices.join(",");jobOverrides=[{job_id:"log-entry-rate",analysis_config:{bucket_span:"".concat(_log_analysis.bucketSpan,"ms")},data_description:{time_field:timestampField},custom_settings:{logs_source_config:{indexPattern:indexNamePattern,timestampField:timestampField,bucketSpan:_log_analysis.bucketSpan}}}];return _context3.abrupt("return",(0,_ml_setup_module_api.callSetupMlModuleAPI)(moduleId,start,end,spaceId,sourceId,indexNamePattern,jobOverrides));case 4:case"end":return _context3.stop()}}}),_callee3)})));return function setUpModule(_x3,_x4,_x5){return _ref3.apply(this,arguments)}}();var cleanUpModule=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(spaceId,sourceId){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return(0,_log_analysis2.cleanUpJobsAndDatafeeds)(spaceId,sourceId,_log_analysis.logEntryRateJobTypes);case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}}),_callee4)})));return function cleanUpModule(_x6,_x7){return _ref5.apply(this,arguments)}}();var validateSetupIndices=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(_ref7){var indices,timestampField;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:indices=_ref7.indices,timestampField=_ref7.timestampField;_context5.next=3;return(0,_validate_indices.callValidateIndicesAPI)(indices,[{name:timestampField,validTypes:["date"]},{name:_log_analysis.partitionField,validTypes:["keyword"]}]);case 3:return _context5.abrupt("return",_context5.sent);case 4:case"end":return _context5.stop()}}}),_callee5)})));return function validateSetupIndices(_x8){return _ref6.apply(this,arguments)}}();var logEntryRateModule={moduleId:moduleId,jobTypes:_log_analysis.logEntryRateJobTypes,bucketSpan:_log_analysis.bucketSpan,getJobIds:getJobIds,getJobSummary:getJobSummary,getModuleDefinition:getModuleDefinition,setUpModule:setUpModule,cleanUpModule:cleanUpModule,validateSetupIndices:validateSetupIndices};exports.logEntryRateModule=logEntryRateModule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryRateResults=void 0;var _react=__webpack_require__(3);var _use_tracked_promise=__webpack_require__(214);var _get_log_entry_rate=__webpack_require__(1454);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryRateResults=function useLogEntryRateResults(_ref){var sourceId=_ref.sourceId,startTime=_ref.startTime,endTime=_ref.endTime,_ref$bucketDuration=_ref.bucketDuration,bucketDuration=_ref$bucketDuration===void 0?15*60*1e3:_ref$bucketDuration;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),logEntryRate=_useState2[0],setLogEntryRate=_useState2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_get_log_entry_rate.callGetLogEntryRateAPI)(sourceId,startTime,endTime,bucketDuration);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(_ref2){var data=_ref2.data;setLogEntryRate({bucketDuration:data.bucketDuration,totalNumberOfLogEntries:data.totalNumberOfLogEntries,histogramBuckets:data.histogramBuckets,partitionBuckets:formatLogEntryRateResultsByPartition(data)})},onReject:function onReject(){setLogEntryRate(null)}},[sourceId,startTime,endTime,bucketDuration]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),getLogEntryRateRequest=_useTrackedPromise2[0],getLogEntryRate=_useTrackedPromise2[1];var isLoading=(0,_react.useMemo)((function(){return getLogEntryRateRequest.state==="pending"}),[getLogEntryRateRequest.state]);return{getLogEntryRate:getLogEntryRate,isLoading:isLoading,logEntryRate:logEntryRate}};exports.useLogEntryRateResults=useLogEntryRateResults;var formatLogEntryRateResultsByPartition=function formatLogEntryRateResultsByPartition(results){var partitionedBuckets=results.histogramBuckets.reduce((function(partitionResults,bucket){return bucket.partitions.reduce((function(_partitionResults,partition){return _objectSpread({},_partitionResults,_defineProperty({},partition.partitionId,{buckets:_partitionResults[partition.partitionId]?[].concat(_toConsumableArray(_partitionResults[partition.partitionId].buckets),[_objectSpread({startTime:bucket.startTime},partition)]):[_objectSpread({startTime:bucket.startTime},partition)]}))}),partitionResults)}),{});var resultsByPartition={};Object.entries(partitionedBuckets).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];var anomalyScores=value.buckets.reduce((function(scores,bucket){return[].concat(_toConsumableArray(scores),[bucket.maximumAnomalyScore])}),[]);var totalNumberOfLogEntries=value.buckets.reduce((function(total,bucket){return total+=bucket.numberOfLogEntries}),0);resultsByPartition[key]={topAnomalyScore:Math.max.apply(Math,_toConsumableArray(anomalyScores)),totalNumberOfLogEntries:totalNumberOfLogEntries,buckets:value.buckets}}));return resultsByPartition}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callGetLogEntryRateAPI=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _log_analysis=__webpack_require__(756);var _runtime_types=__webpack_require__(210);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var callGetLogEntryRateAPI=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(sourceId,startTime,endTime,bucketDuration){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_log_analysis.LOG_ANALYSIS_GET_LOG_ENTRY_RATE_PATH,{method:"POST",body:JSON.stringify(_log_analysis.getLogEntryRateRequestPayloadRT.encode({data:{sourceId:sourceId,timeRange:{startTime:startTime,endTime:endTime},bucketDuration:bucketDuration}}))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_log_analysis.getLogEntryRateSuccessReponsePayloadRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function callGetLogEntryRateAPI(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}();exports.callGetLogEntryRateAPI=callGetLogEntryRateAPI},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogAnalysisResultsUrlState=exports.stringTimeRangeRT=void 0;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var rt=_interopRequireWildcard(__webpack_require__(39));var _use_url_state=__webpack_require__(835);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var autoRefreshRT=rt.union([rt.type({interval:rt.number,isPaused:rt.boolean}),rt.undefined]);var stringTimeRangeRT=rt.type({startTime:rt.string,endTime:rt.string});exports.stringTimeRangeRT=stringTimeRangeRT;var urlTimeRangeRT=rt.union([stringTimeRangeRT,rt.undefined]);var TIME_RANGE_URL_STATE_KEY="timeRange";var AUTOREFRESH_URL_STATE_KEY="autoRefresh";var useLogAnalysisResultsUrlState=function useLogAnalysisResultsUrlState(){var _useUrlState=(0,_use_url_state.useUrlState)({defaultState:{startTime:"now-2w",endTime:"now"},decodeUrlState:function decodeUrlState(value){return(0,_pipeable.pipe)(urlTimeRangeRT.decode(value),(0,_Either.fold)((0,_function.constant)(undefined),_function.identity))},encodeUrlState:urlTimeRangeRT.encode,urlStateKey:TIME_RANGE_URL_STATE_KEY,writeDefaultState:true}),_useUrlState2=_slicedToArray(_useUrlState,2),timeRange=_useUrlState2[0],setTimeRange=_useUrlState2[1];var _useUrlState3=(0,_use_url_state.useUrlState)({defaultState:{isPaused:false,interval:3e4},decodeUrlState:function decodeUrlState(value){return(0,_pipeable.pipe)(autoRefreshRT.decode(value),(0,_Either.fold)((0,_function.constant)(undefined),_function.identity))},encodeUrlState:autoRefreshRT.encode,urlStateKey:AUTOREFRESH_URL_STATE_KEY,writeDefaultState:true}),_useUrlState4=_slicedToArray(_useUrlState3,2),autoRefresh=_useUrlState4[0],setAutoRefresh=_useUrlState4[1];return{timeRange:timeRange,setTimeRange:setTimeRange,autoRefresh:autoRefresh,setAutoRefresh:setAutoRefresh}};exports.useLogAnalysisResultsUrlState=useLogAnalysisResultsUrlState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRateSetupContent=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _beta_badge=__webpack_require__(781);var _log_analysis_setup=__webpack_require__(779);var _public=__webpack_require__(64);var _use_log_entry_rate_setup=__webpack_require__(1457);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogEntryRateSetupContent=function LogEntryRateSetupContent(){(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_rate_setup"});(0,_public.useTrackPageview)({app:"infra_logs",path:"log_entry_rate_setup",delay:15e3});var _useLogEntryRateSetup=(0,_use_log_entry_rate_setup.useLogEntryRateSetup)(),cleanUpAndSetUp=_useLogEntryRateSetup.cleanUpAndSetUp,endTime=_useLogEntryRateSetup.endTime,isValidating=_useLogEntryRateSetup.isValidating,lastSetupErrorMessages=_useLogEntryRateSetup.lastSetupErrorMessages,setEndTime=_useLogEntryRateSetup.setEndTime,setStartTime=_useLogEntryRateSetup.setStartTime,setValidatedIndices=_useLogEntryRateSetup.setValidatedIndices,setUp=_useLogEntryRateSetup.setUp,setupStatus=_useLogEntryRateSetup.setupStatus,startTime=_useLogEntryRateSetup.startTime,validatedIndices=_useLogEntryRateSetup.validatedIndices,validationErrors=_useLogEntryRateSetup.validationErrors,viewResults=_useLogEntryRateSetup.viewResults;var steps=(0,_react2.useMemo)((function(){return[(0,_log_analysis_setup.createInitialConfigurationStep)({setStartTime:setStartTime,setEndTime:setEndTime,startTime:startTime,endTime:endTime,isValidating:isValidating,validatedIndices:validatedIndices,setupStatus:setupStatus,setValidatedIndices:setValidatedIndices,validationErrors:validationErrors}),(0,_log_analysis_setup.createProcessStep)({cleanUpAndSetUp:cleanUpAndSetUp,errorMessages:lastSetupErrorMessages,isConfigurationValid:validationErrors.length<=0,setUp:setUp,setupStatus:setupStatus,viewResults:viewResults})]}),[cleanUpAndSetUp,endTime,isValidating,lastSetupErrorMessages,setEndTime,setStartTime,setUp,setValidatedIndices,setupStatus,startTime,validatedIndices,validationErrors,viewResults]);return _react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPage,{"data-test-subj":"logEntryRateSetupPage"},_react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPageHeader,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.analysisSetupTitle",defaultMessage:"Enable Machine Learning analysis"})," ",_react2.default.createElement(_beta_badge.BetaBadge,null)),_react2.default.createElement(_log_analysis_setup.LogAnalysisSetupPageContent,null,_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.analysisSetup.analysisSetupDescription",defaultMessage:"Use Machine Learning to automatically detect anomalous log rate counts."})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiSteps,{steps:steps})))};exports.LogEntryRateSetupContent=LogEntryRateSetupContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryRateSetup=void 0;var _log_analysis=__webpack_require__(712);var _use_log_entry_rate_module=__webpack_require__(788);var useLogEntryRateSetup=function useLogEntryRateSetup(){var _useLogEntryRateModul=(0,_use_log_entry_rate_module.useLogEntryRateModuleContext)(),cleanUpAndSetUpModule=_useLogEntryRateModul.cleanUpAndSetUpModule,lastSetupErrorMessages=_useLogEntryRateModul.lastSetupErrorMessages,moduleDescriptor=_useLogEntryRateModul.moduleDescriptor,setUpModule=_useLogEntryRateModul.setUpModule,setupStatus=_useLogEntryRateModul.setupStatus,sourceConfiguration=_useLogEntryRateModul.sourceConfiguration,viewResults=_useLogEntryRateModul.viewResults;var _useAnalysisSetupStat=(0,_log_analysis.useAnalysisSetupState)({cleanUpAndSetUpModule:cleanUpAndSetUpModule,moduleDescriptor:moduleDescriptor,setUpModule:setUpModule,sourceConfiguration:sourceConfiguration}),cleanUpAndSetUp=_useAnalysisSetupStat.cleanUpAndSetUp,endTime=_useAnalysisSetupStat.endTime,isValidating=_useAnalysisSetupStat.isValidating,setEndTime=_useAnalysisSetupStat.setEndTime,setStartTime=_useAnalysisSetupStat.setStartTime,setValidatedIndices=_useAnalysisSetupStat.setValidatedIndices,setUp=_useAnalysisSetupStat.setUp,startTime=_useAnalysisSetupStat.startTime,validatedIndices=_useAnalysisSetupStat.validatedIndices,validationErrors=_useAnalysisSetupStat.validationErrors;return{cleanUpAndSetUp:cleanUpAndSetUp,endTime:endTime,isValidating:isValidating,lastSetupErrorMessages:lastSetupErrorMessages,setEndTime:setEndTime,setStartTime:setStartTime,setValidatedIndices:setValidatedIndices,setUp:setUp,setupStatus:setupStatus,startTime:startTime,validatedIndices:validatedIndices,validationErrors:validationErrors,viewResults:viewResults}};exports.useLogEntryRateSetup=useLogEntryRateSetup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryRatePageProviders=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _source=__webpack_require__(705);var _use_kibana_space_id=__webpack_require__(962);var _use_log_entry_rate_module=__webpack_require__(788);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogEntryRatePageProviders=function LogEntryRatePageProviders(_ref){var children=_ref.children;var _useSourceContext=(0,_source.useSourceContext)(),sourceId=_useSourceContext.sourceId,source=_useSourceContext.source;var spaceId=(0,_use_kibana_space_id.useKibanaSpaceId)();return _react.default.createElement(_use_log_entry_rate_module.LogEntryRateModuleProvider,{indexPattern:source?source.configuration.logAlias:"",sourceId:sourceId,spaceId:spaceId,timestampField:source?source.configuration.fields.timestamp:""},children)};exports.LogEntryRatePageProviders=LogEntryRatePageProviders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsSettingsPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _source_configuration_settings=__webpack_require__(846);var _public=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LogsSettingsPage=function LogsSettingsPage(){var _useKibana$services$a,_uiCapabilities$logs;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;return _react.default.createElement(_source_configuration_settings.SourceConfigurationSettings,{shouldAllowEdit:uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$logs=uiCapabilities.logs)===null||_uiCapabilities$logs===void 0?void 0:_uiCapabilities$logs.configureSource,displaySettings:"logs"})};exports.LogsSettingsPage=LogsSettingsPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsConfigurationPanel=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var FieldsConfigurationPanel=function FieldsConfigurationPanel(_ref){var containerFieldProps=_ref.containerFieldProps,hostFieldProps=_ref.hostFieldProps,isLoading=_ref.isLoading,readOnly=_ref.readOnly,podFieldProps=_ref.podFieldProps,tiebreakerFieldProps=_ref.tiebreakerFieldProps,timestampFieldProps=_ref.timestampFieldProps,displaySettings=_ref.displaySettings;var isHostValueDefault=hostFieldProps.value==="host.name";var isContainerValueDefault=containerFieldProps.value==="container.id";var isPodValueDefault=podFieldProps.value==="kubernetes.pod.uid";var isTimestampValueDefault=timestampFieldProps.value==="@timestamp";var isTiebreakerValueDefault=tiebreakerFieldProps.value==="_doc";return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldsSectionTitle",defaultMessage:"Fields"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.infra.sourceConfiguration.deprecationNotice",{defaultMessage:"Deprecation Notice"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.deprecationMessage",defaultMessage:"Configuring these fields have been deprecated and will be removed in 8.0.0. This application is designed to work with {ecsLink}, you should adjust your indexing to use the {documentationLink}.",values:{documentationLink:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/infrastructure/guide/7.4/infrastructure-metrics.html",target:"BLANK"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.documentedFields",defaultMessage:"documented fields"})),ecsLink:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/ecs/current/index.html",target:"BLANK"},"ECS")}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldLabel",defaultMessage:"Timestamp"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldDescription",defaultMessage:"Timestamp used to sort log entries"})},_react2.default.createElement(_eui.EuiFormRow,{error:timestampFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"@timestamp")}}),isInvalid:timestampFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldLabel",defaultMessage:"Timestamp"})},_react2.default.createElement(_eui.EuiFieldText,_extends({fullWidth:true,disabled:isLoading||isTimestampValueDefault,readOnly:readOnly,isLoading:isLoading},timestampFieldProps)))),displaySettings==="logs"&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldLabel",defaultMessage:"Tiebreaker"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldDescription",defaultMessage:"Field used to break ties between two entries with the same timestamp"})},_react2.default.createElement(_eui.EuiFormRow,{error:tiebreakerFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"_doc")}}),isInvalid:tiebreakerFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldLabel",defaultMessage:"Tiebreaker"})},_react2.default.createElement(_eui.EuiFieldText,_extends({fullWidth:true,disabled:isLoading||isTiebreakerValueDefault,readOnly:readOnly,isLoading:isLoading},tiebreakerFieldProps))))),displaySettings==="metrics"&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldLabel",defaultMessage:"Container ID"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldDescription",defaultMessage:"Field used to identify Docker containers"})},_react2.default.createElement(_eui.EuiFormRow,{error:containerFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"container.id")}}),isInvalid:containerFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldLabel",defaultMessage:"Container ID"})},_react2.default.createElement(_eui.EuiFieldText,_extends({fullWidth:true,disabled:isLoading||isContainerValueDefault,readOnly:readOnly,isLoading:isLoading},containerFieldProps)))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostNameFieldLabel",defaultMessage:"Host name"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostNameFieldDescription",defaultMessage:"Field used to identify hosts"})},_react2.default.createElement(_eui.EuiFormRow,{error:hostFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostFieldDescription",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"host.name")}}),isInvalid:hostFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostFieldLabel",defaultMessage:"Host name"})},_react2.default.createElement(_eui.EuiFieldText,_extends({fullWidth:true,disabled:isLoading||isHostValueDefault,readOnly:readOnly,isLoading:isLoading},hostFieldProps)))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldLabel",defaultMessage:"Pod ID"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldDescription",defaultMessage:"Field used to identify Kubernetes pods"})},_react2.default.createElement(_eui.EuiFormRow,{error:podFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"kubernetes.pod.uid")}}),isInvalid:podFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldLabel",defaultMessage:"Pod ID"})},_react2.default.createElement(_eui.EuiFieldText,_extends({fullWidth:true,disabled:isLoading||isPodValueDefault,readOnly:readOnly,isLoading:isLoading},podFieldProps))))))};exports.FieldsConfigurationPanel=FieldsConfigurationPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesConfigurationPanel=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var IndicesConfigurationPanel=function IndicesConfigurationPanel(_ref){var isLoading=_ref.isLoading,readOnly=_ref.readOnly,logAliasFieldProps=_ref.logAliasFieldProps,metricAliasFieldProps=_ref.metricAliasFieldProps,displaySettings=_ref.displaySettings;return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.indicesSectionTitle",defaultMessage:"Indices"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),displaySettings==="metrics"&&_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesTitle",defaultMessage:"Metric indices"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesDescription",defaultMessage:"Index pattern for matching indices that contain Metricbeat data"})},_react2.default.createElement(_eui.EuiFormRow,{error:metricAliasFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"metricbeat-*")}}),isInvalid:metricAliasFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesLabel",defaultMessage:"Metric indices"})},_react2.default.createElement(_eui.EuiFieldText,_extends({"data-test-subj":"metricIndicesInput",fullWidth:true,disabled:isLoading,readOnly:readOnly,isLoading:isLoading},metricAliasFieldProps)))),displaySettings==="logs"&&_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesTitle",defaultMessage:"Log indices"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesDescription",defaultMessage:"Index pattern for matching indices that contain log data"})},_react2.default.createElement(_eui.EuiFormRow,{error:logAliasFieldProps.error,fullWidth:true,helpText:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:_react2.default.createElement(_eui.EuiCode,null,"filebeat-*")}}),isInvalid:logAliasFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesLabel",defaultMessage:"Log indices"})},_react2.default.createElement(_eui.EuiFieldText,_extends({"data-test-subj":"logIndicesInput",fullWidth:true,disabled:isLoading,isLoading:isLoading,readOnly:readOnly},logAliasFieldProps)))))};exports.IndicesConfigurationPanel=IndicesConfigurationPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NameConfigurationPanel=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var NameConfigurationPanel=function NameConfigurationPanel(_ref){var isLoading=_ref.isLoading,readOnly=_ref.readOnly,nameFieldProps=_ref.nameFieldProps;return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiTitle,{size:"s","data-test-subj":"sourceConfigurationNameSectionTitle"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameSectionTitle",defaultMessage:"Name"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("h4",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameLabel",defaultMessage:"Name"})),description:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameDescription",defaultMessage:"A descriptive name for the source configuration"})},_react2.default.createElement(_eui.EuiFormRow,{error:nameFieldProps.error,fullWidth:true,isInvalid:nameFieldProps.isInvalid,label:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameLabel",defaultMessage:"Name"})},_react2.default.createElement(_eui.EuiFieldText,_extends({"data-test-subj":"nameInput",fullWidth:true,disabled:isLoading,readOnly:readOnly,isLoading:isLoading},nameFieldProps)))))};exports.NameConfigurationPanel=NameConfigurationPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogColumnsConfigurationPanel=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _add_log_column_popover=__webpack_require__(1464);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var LogColumnsConfigurationPanel=function LogColumnsConfigurationPanel(_ref){var addLogColumn=_ref.addLogColumn,moveLogColumn=_ref.moveLogColumn,availableFields=_ref.availableFields,isLoading=_ref.isLoading,logColumnConfiguration=_ref.logColumnConfiguration;var onDragEnd=(0,_react2.useCallback)((function(_ref2){var source=_ref2.source,destination=_ref2.destination;return destination&&moveLogColumn(source.index,destination.index)}),[moveLogColumn]);return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s","data-test-subj":"sourceConfigurationLogColumnsSectionTitle"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logColumnsSectionTitle",defaultMessage:"Log Columns"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_add_log_column_popover.AddLogColumnButtonAndPopover,{addLogColumn:addLogColumn,availableFields:availableFields,isDisabled:isLoading}))),logColumnConfiguration.length>0?_react2.default.createElement(_eui.EuiDragDropContext,{onDragEnd:onDragEnd},_react2.default.createElement(_eui.EuiDroppable,{droppableId:"COLUMN_CONFIG_DROPPABLE_AREA"},_react2.default.createElement(_react2.default.Fragment,null,logColumnConfiguration.map((function(column,index){return _react2.default.createElement(_eui.EuiDraggable,{key:"logColumnConfigurationPanel-".concat(column.logColumnConfiguration.id),index:index,draggableId:column.logColumnConfiguration.id,customDragHandle:true},(function(provided){return _react2.default.createElement(LogColumnConfigurationPanel,{dragHandleProps:provided.dragHandleProps,logColumnConfigurationProps:column})}))}))))):_react2.default.createElement(LogColumnConfigurationEmptyPrompt,null))};exports.LogColumnsConfigurationPanel=LogColumnsConfigurationPanel;var LogColumnConfigurationPanel=function LogColumnConfigurationPanel(props){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),props.logColumnConfigurationProps.type==="timestamp"?_react2.default.createElement(TimestampLogColumnConfigurationPanel,props):props.logColumnConfigurationProps.type==="message"?_react2.default.createElement(MessageLogColumnConfigurationPanel,props):_react2.default.createElement(FieldLogColumnConfigurationPanel,{logColumnConfigurationProps:props.logColumnConfigurationProps,dragHandleProps:props.dragHandleProps}))};var TimestampLogColumnConfigurationPanel=function TimestampLogColumnConfigurationPanel(_ref3){var logColumnConfigurationProps=_ref3.logColumnConfigurationProps,dragHandleProps=_ref3.dragHandleProps;return _react2.default.createElement(ExplainedLogColumnConfigurationPanel,{fieldName:"Timestamp",helpText:_react2.default.createElement(_react.FormattedMessage,{tagName:"span",id:"xpack.infra.sourceConfiguration.timestampLogColumnDescription",defaultMessage:"This system field shows the log entry's time as determined by the {timestampSetting} field setting.",values:{timestampSetting:_react2.default.createElement("code",null,"timestamp")}}),removeColumn:logColumnConfigurationProps.remove,dragHandleProps:dragHandleProps})};var MessageLogColumnConfigurationPanel=function MessageLogColumnConfigurationPanel(_ref4){var logColumnConfigurationProps=_ref4.logColumnConfigurationProps,dragHandleProps=_ref4.dragHandleProps;return _react2.default.createElement(ExplainedLogColumnConfigurationPanel,{fieldName:"Message",helpText:_react2.default.createElement(_react.FormattedMessage,{tagName:"span",id:"xpack.infra.sourceConfiguration.messageLogColumnDescription",defaultMessage:"This system field shows the log entry message as derived from the document fields."}),removeColumn:logColumnConfigurationProps.remove,dragHandleProps:dragHandleProps})};var FieldLogColumnConfigurationPanel=function FieldLogColumnConfigurationPanel(_ref5){var _ref5$logColumnConfig=_ref5.logColumnConfigurationProps,field=_ref5$logColumnConfig.logColumnConfiguration.field,remove=_ref5$logColumnConfig.remove,dragHandleProps=_ref5.dragHandleProps;var fieldLogColumnTitle=_i18n.i18n.translate("xpack.infra.sourceConfiguration.fieldLogColumnTitle",{defaultMessage:"Field"});return _react2.default.createElement(_eui.EuiPanel,{"data-test-subj":"logColumnPanel fieldLogColumnPanel fieldLogColumnPanel:".concat(field)},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("div",_extends({"data-test-subj":"moveLogColumnHandle"},dragHandleProps),_react2.default.createElement(_eui.EuiIcon,{type:"grab"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:1},fieldLogColumnTitle),_react2.default.createElement(_eui.EuiFlexItem,{grow:3},_react2.default.createElement("code",null,field)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(RemoveLogColumnButton,{onClick:remove,columnDescription:"".concat(fieldLogColumnTitle," - ").concat(field)}))))};var ExplainedLogColumnConfigurationPanel=function ExplainedLogColumnConfigurationPanel(_ref6){var fieldName=_ref6.fieldName,helpText=_ref6.helpText,removeColumn=_ref6.removeColumn,dragHandleProps=_ref6.dragHandleProps;return _react2.default.createElement(_eui.EuiPanel,{"data-test-subj":"logColumnPanel systemLogColumnPanel systemLogColumnPanel:".concat(fieldName)},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("div",_extends({"data-test-subj":"moveLogColumnHandle"},dragHandleProps),_react2.default.createElement(_eui.EuiIcon,{type:"grab"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:1},fieldName),_react2.default.createElement(_eui.EuiFlexItem,{grow:3},_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},helpText)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(RemoveLogColumnButton,{onClick:removeColumn,columnDescription:String(fieldName)}))))};var RemoveLogColumnButton=function RemoveLogColumnButton(_ref7){var onClick=_ref7.onClick,columnDescription=_ref7.columnDescription;var removeColumnLabel=_i18n.i18n.translate("xpack.infra.sourceConfiguration.removeLogColumnButtonLabel",{defaultMessage:"Remove {columnDescription} column",values:{columnDescription:columnDescription}});return _react2.default.createElement(_eui.EuiButtonIcon,{color:"danger","data-test-subj":"removeLogColumnButton",iconType:"trash",onClick:onClick,title:removeColumnLabel,"aria-label":removeColumnLabel})};var LogColumnConfigurationEmptyPrompt=function LogColumnConfigurationEmptyPrompt(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"list",title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.noLogColumnsTitle",defaultMessage:"No columns"})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.noLogColumnsDescription",defaultMessage:"Add a column to this list using the button above."}))})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLogColumnButtonAndPopover=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _uuid=__webpack_require__(783);var _use_visibility_state=__webpack_require__(847);var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  width: 400px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var AddLogColumnButtonAndPopover=function AddLogColumnButtonAndPopover(_ref){var addLogColumn=_ref.addLogColumn,availableFields=_ref.availableFields,isDisabled=_ref.isDisabled;var _useVisibilityState=(0,_use_visibility_state.useVisibilityState)(false),isOpen=_useVisibilityState.isVisible,openPopover=_useVisibilityState.show,closePopover=_useVisibilityState.hide;var availableColumnOptions=(0,_react2.useMemo)((function(){return[{optionProps:{append:_react2.default.createElement(SystemColumnBadge,null),"data-test-subj":"addTimestampLogColumn",key:"timestamp",label:"Timestamp"},columnConfiguration:{timestampColumn:{id:(0,_uuid.v4)()}}},{optionProps:{"data-test-subj":"addMessageLogColumn",append:_react2.default.createElement(SystemColumnBadge,null),key:"message",label:"Message"},columnConfiguration:{messageColumn:{id:(0,_uuid.v4)()}}}].concat(_toConsumableArray(availableFields.map((function(field){return{optionProps:{"data-test-subj":"addFieldLogColumn addFieldLogColumn:".concat(field),key:"field-".concat(field),label:field},columnConfiguration:{fieldColumn:{id:(0,_uuid.v4)(),field:field}}}}))))}),[availableFields]);var availableOptions=(0,_react2.useMemo)((function(){return availableColumnOptions.map((function(availableColumnOption){return availableColumnOption.optionProps}))}),[availableColumnOptions]);var handleColumnSelection=(0,_react2.useCallback)((function(selectedOptions){closePopover();var selectedOptionIndex=selectedOptions.findIndex((function(selectedOption){return selectedOption.checked==="on"}));var selectedOption=availableColumnOptions[selectedOptionIndex];addLogColumn(selectedOption.columnConfiguration)}),[addLogColumn,availableColumnOptions,closePopover]);return _react2.default.createElement(_eui.EuiPopover,{anchorPosition:"downRight",button:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"addLogColumnButton",isDisabled:isDisabled,iconType:"plusInCircle",onClick:openPopover},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.addLogColumnButtonLabel",defaultMessage:"Add column"})),closePopover:closePopover,id:"addLogColumn",isOpen:isOpen,ownFocus:true,panelPaddingSize:"none"},_react2.default.createElement(_eui.EuiSelectable,{height:600,listProps:selectableListProps,onChange:handleColumnSelection,options:availableOptions,searchable:true,searchProps:searchProps,singleSelection:true},(function(list,search){return _react2.default.createElement(SelectableContent,{"data-test-subj":"addLogColumnPopover"},_react2.default.createElement(_eui.EuiPopoverTitle,null,search),list)})))};exports.AddLogColumnButtonAndPopover=AddLogColumnButtonAndPopover;var searchProps={"data-test-subj":"fieldSearchInput"};var selectableListProps={showIcons:false};var SystemColumnBadge=function SystemColumnBadge(){return _react2.default.createElement(_eui.EuiBadge,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.sourceConfiguration.systemColumnBadgeLabel",defaultMessage:"System"}))};var SelectableContent=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSourceConfigurationFormState=void 0;var _react=__webpack_require__(3);var _indices_configuration_form_state=__webpack_require__(1466);var _log_columns_configuration_form_state=__webpack_require__(1468);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var useSourceConfigurationFormState=function useSourceConfigurationFormState(configuration){var indicesConfigurationFormState=(0,_indices_configuration_form_state.useIndicesConfigurationFormState)({initialFormState:(0,_react.useMemo)((function(){return configuration?{name:configuration.name,description:configuration.description,logAlias:configuration.logAlias,metricAlias:configuration.metricAlias,containerField:configuration.fields.container,hostField:configuration.fields.host,messageField:configuration.fields.message,podField:configuration.fields.pod,tiebreakerField:configuration.fields.tiebreaker,timestampField:configuration.fields.timestamp}:undefined}),[configuration])});var logColumnsConfigurationFormState=(0,_log_columns_configuration_form_state.useLogColumnsConfigurationFormState)({initialFormState:(0,_react.useMemo)((function(){return configuration?{logColumns:configuration.logColumns}:undefined}),[configuration])});var errors=(0,_react.useMemo)((function(){return[].concat(_toConsumableArray(indicesConfigurationFormState.errors),_toConsumableArray(logColumnsConfigurationFormState.errors))}),[indicesConfigurationFormState.errors,logColumnsConfigurationFormState.errors]);var resetForm=(0,_react.useCallback)((function(){indicesConfigurationFormState.resetForm();logColumnsConfigurationFormState.resetForm()}),[indicesConfigurationFormState,logColumnsConfigurationFormState]);var isFormDirty=(0,_react.useMemo)((function(){return indicesConfigurationFormState.isFormDirty||logColumnsConfigurationFormState.isFormDirty}),[indicesConfigurationFormState.isFormDirty,logColumnsConfigurationFormState.isFormDirty]);var isFormValid=(0,_react.useMemo)((function(){return indicesConfigurationFormState.isFormValid&&logColumnsConfigurationFormState.isFormValid}),[indicesConfigurationFormState.isFormValid,logColumnsConfigurationFormState.isFormValid]);var formState=(0,_react.useMemo)((function(){return{name:indicesConfigurationFormState.formState.name,description:indicesConfigurationFormState.formState.description,logAlias:indicesConfigurationFormState.formState.logAlias,metricAlias:indicesConfigurationFormState.formState.metricAlias,fields:{container:indicesConfigurationFormState.formState.containerField,host:indicesConfigurationFormState.formState.hostField,pod:indicesConfigurationFormState.formState.podField,tiebreaker:indicesConfigurationFormState.formState.tiebreakerField,timestamp:indicesConfigurationFormState.formState.timestampField},logColumns:logColumnsConfigurationFormState.formState.logColumns}}),[indicesConfigurationFormState.formState,logColumnsConfigurationFormState.formState]);var formStateChanges=(0,_react.useMemo)((function(){return{name:indicesConfigurationFormState.formStateChanges.name,description:indicesConfigurationFormState.formStateChanges.description,logAlias:indicesConfigurationFormState.formStateChanges.logAlias,metricAlias:indicesConfigurationFormState.formStateChanges.metricAlias,fields:{container:indicesConfigurationFormState.formStateChanges.containerField,host:indicesConfigurationFormState.formStateChanges.hostField,pod:indicesConfigurationFormState.formStateChanges.podField,tiebreaker:indicesConfigurationFormState.formStateChanges.tiebreakerField,timestamp:indicesConfigurationFormState.formStateChanges.timestampField},logColumns:logColumnsConfigurationFormState.formStateChanges.logColumns}}),[indicesConfigurationFormState.formStateChanges,logColumnsConfigurationFormState.formStateChanges]);return{addLogColumn:logColumnsConfigurationFormState.addLogColumn,moveLogColumn:logColumnsConfigurationFormState.moveLogColumn,errors:errors,formState:formState,formStateChanges:formStateChanges,isFormDirty:isFormDirty,isFormValid:isFormValid,indicesConfigurationProps:indicesConfigurationFormState.fieldProps,logColumnConfigurationProps:logColumnsConfigurationFormState.logColumnConfigurationProps,resetForm:resetForm}};exports.useSourceConfigurationFormState=useSourceConfigurationFormState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useIndicesConfigurationFormState=void 0;var _react=__webpack_require__(3);var _input_fields=__webpack_require__(1467);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useIndicesConfigurationFormState=function useIndicesConfigurationFormState(_ref){var _ref$initialFormState=_ref.initialFormState,initialFormState=_ref$initialFormState===void 0?defaultFormState:_ref$initialFormState;var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),formStateChanges=_useState2[0],setFormStateChanges=_useState2[1];var resetForm=(0,_react.useCallback)((function(){return setFormStateChanges({})}),[]);var formState=(0,_react.useMemo)((function(){return _objectSpread({},initialFormState,{},formStateChanges)}),[initialFormState,formStateChanges]);var nameFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.name),name:"name",onChange:function onChange(name){return setFormStateChanges((function(changes){return _objectSpread({},changes,{name:name})}))},value:formState.name})}),[formState.name]);var logAliasFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.logAlias),name:"logAlias",onChange:function onChange(logAlias){return setFormStateChanges((function(changes){return _objectSpread({},changes,{logAlias:logAlias})}))},value:formState.logAlias})}),[formState.logAlias]);var metricAliasFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.metricAlias),name:"metricAlias",onChange:function onChange(metricAlias){return setFormStateChanges((function(changes){return _objectSpread({},changes,{metricAlias:metricAlias})}))},value:formState.metricAlias})}),[formState.metricAlias]);var containerFieldFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.containerField),name:"containerField",onChange:function onChange(containerField){return setFormStateChanges((function(changes){return _objectSpread({},changes,{containerField:containerField})}))},value:formState.containerField})}),[formState.containerField]);var hostFieldFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.hostField),name:"hostField",onChange:function onChange(hostField){return setFormStateChanges((function(changes){return _objectSpread({},changes,{hostField:hostField})}))},value:formState.hostField})}),[formState.hostField]);var podFieldFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.podField),name:"podField",onChange:function onChange(podField){return setFormStateChanges((function(changes){return _objectSpread({},changes,{podField:podField})}))},value:formState.podField})}),[formState.podField]);var tiebreakerFieldFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.tiebreakerField),name:"tiebreakerField",onChange:function onChange(tiebreakerField){return setFormStateChanges((function(changes){return _objectSpread({},changes,{tiebreakerField:tiebreakerField})}))},value:formState.tiebreakerField})}),[formState.tiebreakerField]);var timestampFieldFieldProps=(0,_react.useMemo)((function(){return(0,_input_fields.createInputFieldProps)({errors:(0,_input_fields.validateInputFieldNotEmpty)(formState.timestampField),name:"timestampField",onChange:function onChange(timestampField){return setFormStateChanges((function(changes){return _objectSpread({},changes,{timestampField:timestampField})}))},value:formState.timestampField})}),[formState.timestampField]);var fieldProps=(0,_react.useMemo)((function(){return{name:nameFieldProps,logAlias:logAliasFieldProps,metricAlias:metricAliasFieldProps,containerField:containerFieldFieldProps,hostField:hostFieldFieldProps,podField:podFieldFieldProps,tiebreakerField:tiebreakerFieldFieldProps,timestampField:timestampFieldFieldProps}}),[nameFieldProps,logAliasFieldProps,metricAliasFieldProps,containerFieldFieldProps,hostFieldFieldProps,podFieldFieldProps,tiebreakerFieldFieldProps,timestampFieldFieldProps]);var errors=(0,_react.useMemo)((function(){return Object.values(fieldProps).reduce((function(accumulatedErrors,_ref2){var error=_ref2.error;return[].concat(_toConsumableArray(accumulatedErrors),_toConsumableArray(error))}),[])}),[fieldProps]);var isFormValid=(0,_react.useMemo)((function(){return errors.length<=0}),[errors]);var isFormDirty=(0,_react.useMemo)((function(){return Object.keys(formStateChanges).length>0}),[formStateChanges]);return{errors:errors,fieldProps:fieldProps,formState:formState,formStateChanges:formStateChanges,isFormDirty:isFormDirty,isFormValid:isFormValid,resetForm:resetForm}};exports.useIndicesConfigurationFormState=useIndicesConfigurationFormState;var defaultFormState={name:"",description:"",logAlias:"",metricAlias:"",containerField:"",hostField:"",messageField:[],podField:"",tiebreakerField:"",timestampField:""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateInputFieldNotEmpty=exports.createInputFieldProps=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createInputFieldProps=function createInputFieldProps(_ref){var errors=_ref.errors,name=_ref.name,_onChange=_ref.onChange,value=_ref.value;return{error:errors,isInvalid:errors.length>0,name:name,onChange:function onChange(evt){return _onChange(evt.currentTarget.value)},value:value}};exports.createInputFieldProps=createInputFieldProps;var validateInputFieldNotEmpty=function validateInputFieldNotEmpty(value){return value===""?[_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldEmptyErrorMessage",defaultMessage:"The field must not be empty"})]:[]};exports.validateInputFieldNotEmpty=validateInputFieldNotEmpty},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogColumnsConfigurationFormState=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _source_configuration=__webpack_require__(784);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogColumnsConfigurationFormState=function useLogColumnsConfigurationFormState(_ref){var _ref$initialFormState=_ref.initialFormState,initialFormState=_ref$initialFormState===void 0?defaultFormState:_ref$initialFormState;var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),formStateChanges=_useState2[0],setFormStateChanges=_useState2[1];var resetForm=(0,_react.useCallback)((function(){return setFormStateChanges({})}),[]);var formState=(0,_react.useMemo)((function(){return _objectSpread({},initialFormState,{},formStateChanges)}),[initialFormState,formStateChanges]);var logColumnConfigurationProps=(0,_react.useMemo)((function(){return formState.logColumns.map((function(logColumn){var remove=function remove(){return setFormStateChanges((function(changes){return _objectSpread({},changes,{logColumns:formState.logColumns.filter((function(item){return item!==logColumn}))})}))};if((0,_source_configuration.isTimestampLogColumnConfiguration)(logColumn)){return{logColumnConfiguration:logColumn.timestampColumn,remove:remove,type:"timestamp"}}else if((0,_source_configuration.isMessageLogColumnConfiguration)(logColumn)){return{logColumnConfiguration:logColumn.messageColumn,remove:remove,type:"message"}}else{return{logColumnConfiguration:logColumn.fieldColumn,remove:remove,type:"field"}}}))}),[formState.logColumns]);var addLogColumn=(0,_react.useCallback)((function(logColumnConfiguration){return setFormStateChanges((function(changes){return _objectSpread({},changes,{logColumns:[].concat(_toConsumableArray(formState.logColumns),[logColumnConfiguration])})}))}),[formState.logColumns]);var moveLogColumn=(0,_react.useCallback)((function(sourceIndex,destinationIndex){if(destinationIndex>=0&&sourceIndex<=formState.logColumns.length-1){var newLogColumns=_toConsumableArray(formState.logColumns);newLogColumns.splice(destinationIndex,0,newLogColumns.splice(sourceIndex,1)[0]);setFormStateChanges((function(changes){return _objectSpread({},changes,{logColumns:newLogColumns})}))}}),[formState.logColumns]);var errors=(0,_react.useMemo)((function(){return logColumnConfigurationProps.length<=0?[_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logColumnListEmptyErrorMessage",defaultMessage:"The log column list must not be empty."})]:[]}),[logColumnConfigurationProps]);var isFormValid=(0,_react.useMemo)((function(){return errors.length<=0?true:false}),[errors]);var isFormDirty=(0,_react.useMemo)((function(){return Object.keys(formStateChanges).length>0}),[formStateChanges]);return{addLogColumn:addLogColumn,moveLogColumn:moveLogColumn,errors:errors,logColumnConfigurationProps:logColumnConfigurationProps,formState:formState,formStateChanges:formStateChanges,isFormDirty:isFormDirty,isFormValid:isFormValid,resetForm:resetForm}};exports.useLogColumnsConfigurationFormState=useLogColumnsConfigurationFormState;var defaultFormState={logColumns:[]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StreamPage",{enumerable:true,get:function get(){return _page.StreamPage}});var _page=__webpack_require__(1470)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StreamPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _page=__webpack_require__(709);var _page_content=__webpack_require__(1471);var _page_header=__webpack_require__(1518);var _page_providers=__webpack_require__(1519);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StreamPage=function StreamPage(){(0,_public.useTrackPageview)({app:"infra_logs",path:"stream"});(0,_public.useTrackPageview)({app:"infra_logs",path:"stream",delay:15e3});return _react.default.createElement(_page_providers.LogsPageProviders,null,_react.default.createElement(_page.ColumnarPage,{"data-test-subj":"infraLogsPage"},_react.default.createElement(_page_header.StreamPageHeader,null),_react.default.createElement(_page_content.StreamPageContent,null)))};exports.StreamPage=StreamPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StreamPageContent=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _source_error_page=__webpack_require__(780);var _source_loading_page=__webpack_require__(738);var _source=__webpack_require__(705);var _page_logs_content=__webpack_require__(1472);var _page_no_indices_content=__webpack_require__(1516);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StreamPageContent=function StreamPageContent(){var _useSourceContext=(0,_source.useSourceContext)(),hasFailedLoadingSource=_useSourceContext.hasFailedLoadingSource,isLoadingSource=_useSourceContext.isLoadingSource,isUninitialized=_useSourceContext.isUninitialized,loadSource=_useSourceContext.loadSource,loadSourceFailureMessage=_useSourceContext.loadSourceFailureMessage,logIndicesExist=_useSourceContext.logIndicesExist;if(isLoadingSource||isUninitialized){return _react.default.createElement(_source_loading_page.SourceLoadingPage,null)}else if(hasFailedLoadingSource){return _react.default.createElement(_source_error_page.SourceErrorPage,{errorMessage:loadSourceFailureMessage!==null&&loadSourceFailureMessage!==void 0?loadSourceFailureMessage:"",retry:loadSource})}else if(logIndicesExist){return _react.default.createElement(_page_logs_content.LogsPageLogsContent,null)}else{return _react.default.createElement(_page_no_indices_content.LogsPageNoIndicesContent,null)}};exports.StreamPageContent=StreamPageContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPageLogsContent=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _auto_sizer=__webpack_require__(758);var _log_entry_flyout=__webpack_require__(1473);var _log_minimap=__webpack_require__(1477);var _log_text_stream=__webpack_require__(944);var _page=__webpack_require__(709);var _log_summary=__webpack_require__(1492);var _log_view_configuration=__webpack_require__(790);var _log_filter=__webpack_require__(735);var _log_flyout=__webpack_require__(848);var _log_position=__webpack_require__(719);var _with_log_textview=__webpack_require__(1497);var _with_stream_items=__webpack_require__(1498);var _source=__webpack_require__(705);var _page_toolbar=__webpack_require__(1505);var _log_highlights=__webpack_require__(1515);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  overflow: hidden;\n  min-width: 100px;\n  max-width: 100px;\n  display: flex;\n  flex-direction: column;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogsPageLogsContent=function LogsPageLogsContent(){var _useContext=(0,_react.useContext)(_source.Source.Context),source=_useContext.source,sourceId=_useContext.sourceId,version=_useContext.version;var _useContext2=(0,_react.useContext)(_log_view_configuration.LogViewConfiguration.Context),textScale=_useContext2.textScale,textWrap=_useContext2.textWrap;var _useContext3=(0,_react.useContext)(_log_flyout.LogFlyout.Context),setFlyoutVisibility=_useContext3.setFlyoutVisibility,flyoutVisible=_useContext3.flyoutVisible,setFlyoutId=_useContext3.setFlyoutId,surroundingLogsId=_useContext3.surroundingLogsId,setSurroundingLogsId=_useContext3.setSurroundingLogsId,flyoutItem=_useContext3.flyoutItem,isLoading=_useContext3.isLoading;var _useContext4=(0,_react.useContext)(_log_highlights.LogHighlightsState.Context),logSummaryHighlights=_useContext4.logSummaryHighlights;var _useContext5=(0,_react.useContext)(_log_filter.LogFilterState.Context),applyLogFilterQuery=_useContext5.applyLogFilterQuery;var _useContext6=(0,_react.useContext)(_log_position.LogPositionState.Context),isStreaming=_useContext6.isStreaming,targetPosition=_useContext6.targetPosition,visibleMidpointTime=_useContext6.visibleMidpointTime,visibleTimeInterval=_useContext6.visibleTimeInterval,reportVisiblePositions=_useContext6.reportVisiblePositions,jumpToTargetPosition=_useContext6.jumpToTargetPosition,startLiveStreaming=_useContext6.startLiveStreaming,stopLiveStreaming=_useContext6.stopLiveStreaming,startDateExpression=_useContext6.startDateExpression,endDateExpression=_useContext6.endDateExpression,updateDateRange=_useContext6.updateDateRange;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_with_log_textview.WithLogTextviewUrlState,null),_react.default.createElement(_log_flyout.WithFlyoutOptionsUrlState,null),_react.default.createElement(_page_toolbar.LogsToolbar,null),flyoutVisible?_react.default.createElement(_log_entry_flyout.LogEntryFlyout,{setFilter:applyLogFilterQuery,setTarget:function setTarget(timeKey,flyoutItemId){jumpToTargetPosition(timeKey);setSurroundingLogsId(flyoutItemId);stopLiveStreaming()},setFlyoutVisibility:setFlyoutVisibility,flyoutItem:flyoutItem,loading:isLoading}):null,_react.default.createElement(_page.PageContent,{key:"".concat(sourceId,"-").concat(version)},_react.default.createElement(_with_stream_items.WithStreamItems,null,(function(_ref){var currentHighlightKey=_ref.currentHighlightKey,hasMoreAfterEnd=_ref.hasMoreAfterEnd,hasMoreBeforeStart=_ref.hasMoreBeforeStart,isLoadingMore=_ref.isLoadingMore,isReloading=_ref.isReloading,items=_ref.items,lastLoadedTime=_ref.lastLoadedTime,fetchNewerEntries=_ref.fetchNewerEntries,checkForNewEntries=_ref.checkForNewEntries;return _react.default.createElement(_log_text_stream.ScrollableLogTextStreamView,{columnConfigurations:source&&source.configuration.logColumns||[],hasMoreAfterEnd:hasMoreAfterEnd,hasMoreBeforeStart:hasMoreBeforeStart,isLoadingMore:isLoadingMore,isReloading:isReloading,isStreaming:isStreaming,items:items,jumpToTarget:jumpToTargetPosition,lastLoadedTime:lastLoadedTime,loadNewerItems:fetchNewerEntries,reloadItems:checkForNewEntries,reportVisibleInterval:reportVisiblePositions,scale:textScale,target:targetPosition,wrap:textWrap,setFlyoutItem:setFlyoutId,setFlyoutVisibility:setFlyoutVisibility,highlightedItem:surroundingLogsId?surroundingLogsId:null,currentHighlightKey:currentHighlightKey,startDateExpression:startDateExpression,endDateExpression:endDateExpression,updateDateRange:updateDateRange,startLiveStreaming:startLiveStreaming})})),_react.default.createElement(_auto_sizer.AutoSizer,{content:true,bounds:true,detectAnyWindowResize:"height"},(function(_ref2){var measureRef=_ref2.measureRef,_ref2$bounds$height=_ref2.bounds.height,height=_ref2$bounds$height===void 0?0:_ref2$bounds$height,_ref2$content$width=_ref2.content.width,width=_ref2$content$width===void 0?0:_ref2$content$width;return _react.default.createElement(LogPageMinimapColumn,{ref:measureRef},_react.default.createElement(_log_summary.WithSummary,null,(function(_ref3){var buckets=_ref3.buckets,start=_ref3.start,end=_ref3.end;return _react.default.createElement(_with_stream_items.WithStreamItems,null,(function(_ref4){var isReloading=_ref4.isReloading;return _react.default.createElement(_log_minimap.LogMinimap,{start:start,end:end,height:height,width:width,highlightedInterval:isReloading?null:visibleTimeInterval,jumpToTarget:jumpToTargetPosition,summaryBuckets:buckets,summaryHighlightBuckets:logSummaryHighlights.length>0?logSummaryHighlights[0].buckets:[],target:visibleMidpointTime})}))})))}))))};exports.LogsPageLogsContent=LogsPageLogsContent;var LogPageMinimapColumn=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LogEntryFlyout",{enumerable:true,get:function get(){return _log_entry_flyout.LogEntryFlyout}});var _log_entry_flyout=__webpack_require__(1474)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfraFlyoutLoadingPanel=exports.LogEntryFlyout=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _moment=_interopRequireDefault(__webpack_require__(11));var _react2=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _loading=__webpack_require__(740);var _log_entry_actions_menu=__webpack_require__(1475);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var LogEntryFlyout=function LogEntryFlyout(_ref){var flyoutItem=_ref.flyoutItem,loading=_ref.loading,setFlyoutVisibility=_ref.setFlyoutVisibility,setFilter=_ref.setFilter,setTarget=_ref.setTarget;var createFilterHandler=(0,_react2.useCallback)((function(field){return function(){var filter="".concat(field.field,':"').concat(field.value,'"');setFilter(filter);if(flyoutItem&&flyoutItem.key){var timestampMoment=(0,_moment.default)(flyoutItem.key.time);if(timestampMoment.isValid()){setTarget({time:timestampMoment.valueOf(),tiebreaker:flyoutItem.key.tiebreaker},flyoutItem.id)}}}}),[flyoutItem,setFilter,setTarget]);var closeFlyout=(0,_react2.useCallback)((function(){return setFlyoutVisibility(false)}),[setFlyoutVisibility]);var columns=(0,_react2.useMemo)((function(){return[{field:"field",name:_i18n.i18n.translate("xpack.infra.logFlyout.fieldColumnLabel",{defaultMessage:"Field"}),sortable:true},{field:"value",name:_i18n.i18n.translate("xpack.infra.logFlyout.valueColumnLabel",{defaultMessage:"Value"}),sortable:true,render:function render(_name,item){return _react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.infra.logFlyout.setFilterTooltip",{defaultMessage:"View event with filter"})},_react2.default.createElement(_eui.EuiButtonIcon,{color:"text",iconType:"filter","aria-label":_i18n.i18n.translate("xpack.infra.logFlyout.filterAriaLabel",{defaultMessage:"Filter"}),onClick:createFilterHandler(item)})),item.value)}}]}),[createFilterHandler]);return _react2.default.createElement(_eui.EuiFlyout,{onClose:closeFlyout,size:"m"},_react2.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",{id:"flyoutTitle"},_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"Log event document details",id:"xpack.infra.logFlyout.flyoutTitle"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},flyoutItem!==null?_react2.default.createElement(_log_entry_actions_menu.LogEntryActionsMenu,{logItem:flyoutItem}):null))),_react2.default.createElement(_eui.EuiFlyoutBody,null,loading||flyoutItem===null?_react2.default.createElement(InfraFlyoutLoadingPanel,null,_react2.default.createElement(_loading.InfraLoadingPanel,{height:"100%",width:"100%",text:_i18n.i18n.translate("xpack.infra.logFlyout.loadingMessage",{defaultMessage:"Loading Event"})})):_react2.default.createElement(_eui.EuiBasicTable,{columns:columns,items:flyoutItem.fields})))};exports.LogEntryFlyout=LogEntryFlyout;var InfraFlyoutLoadingPanel=_public.euiStyled.div(_templateObject());exports.InfraFlyoutLoadingPanel=InfraFlyoutLoadingPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogEntryActionsMenu=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _use_visibility_state=__webpack_require__(847);var _ExternalLinks=__webpack_require__(1476);var _use_link_props=__webpack_require__(710);var _runtime_types=__webpack_require__(210);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UPTIME_FIELDS=["container.id","host.ip","kubernetes.pod.uid"];var LogEntryActionsMenu=function LogEntryActionsMenu(_ref){var logItem=_ref.logItem;var _useVisibilityState=(0,_use_visibility_state.useVisibilityState)(false),hide=_useVisibilityState.hide,isVisible=_useVisibilityState.isVisible,show=_useVisibilityState.show;var apmLinkDescriptor=(0,_react2.useMemo)((function(){return getAPMLink(logItem)}),[logItem]);var uptimeLinkDescriptor=(0,_react2.useMemo)((function(){return getUptimeLink(logItem)}),[logItem]);var uptimeLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({app:"uptime"},uptimeLinkDescriptor?uptimeLinkDescriptor:{}));var apmLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({app:"apm"},apmLinkDescriptor?apmLinkDescriptor:{}));var menuItems=(0,_react2.useMemo)((function(){return[_react2.default.createElement(_eui.EuiContextMenuItem,_extends({"data-test-subj":"logEntryActionsMenuItem uptimeLogEntryActionsMenuItem",disabled:!uptimeLinkDescriptor,icon:"uptimeApp",key:"uptimeLink"},uptimeLinkProps),_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logEntryActionsMenu.uptimeActionLabel",defaultMessage:"View status in Uptime"})),_react2.default.createElement(_eui.EuiContextMenuItem,_extends({"data-test-subj":"logEntryActionsMenuItem apmLogEntryActionsMenuItem",disabled:!apmLinkDescriptor,icon:"apmApp",key:"apmLink"},apmLinkProps),_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logEntryActionsMenu.apmActionLabel",defaultMessage:"View in APM"}))]}),[uptimeLinkDescriptor,apmLinkDescriptor,apmLinkProps,uptimeLinkProps]);var hasMenuItems=(0,_react2.useMemo)((function(){return menuItems.length>0}),[menuItems]);return _react2.default.createElement(_eui.EuiPopover,{anchorPosition:"downRight",button:_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"logEntryActionsMenuButton",disabled:!hasMenuItems,iconSide:"right",iconType:"arrowDown",onClick:show},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logEntryActionsMenu.buttonLabel",defaultMessage:"Actions"})),closePopover:hide,id:"logEntryActionsMenu",isOpen:isVisible,panelPaddingSize:"none"},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:menuItems}))};exports.LogEntryActionsMenu=LogEntryActionsMenu;var getUptimeLink=function getUptimeLink(logItem){var searchExpressions=logItem.fields.filter((function(_ref2){var field=_ref2.field,value=_ref2.value;return value!=null&&UPTIME_FIELDS.includes(field)})).reduce((function(acc,fieldItem){var field=fieldItem.field,value=fieldItem.value;try{var parsedValue=(0,_runtime_types.decodeOrThrow)(rt.array(rt.string))(JSON.parse(value));return acc.concat(parsedValue.map((function(val){return"".concat(field,":").concat(val)})))}catch(e){return acc.concat(["".concat(field,":").concat(value)])}}),[]);if(searchExpressions.length===0){return undefined}return{app:"uptime",hash:"/",search:{search:"".concat(searchExpressions.join(" or "))}}};var getAPMLink=function getAPMLink(logItem){var traceIdEntry=logItem.fields.find((function(_ref3){var field=_ref3.field,value=_ref3.value;return value!=null&&field==="trace.id"}));if(!traceIdEntry){return undefined}var timestampField=logItem.fields.find((function(_ref4){var field=_ref4.field;return field==="@timestamp"}));var timestamp=timestampField?timestampField.value:null;var _ref5=timestamp?function(){var from=new Date(timestamp);var to=new Date(timestamp);from.setMinutes(from.getMinutes()-10);to.setMinutes(to.getMinutes()+10);return{rangeFrom:from.toISOString(),rangeTo:to.toISOString()}}():{rangeFrom:"now-1y",rangeTo:"now"},rangeFrom=_ref5.rangeFrom,rangeTo=_ref5.rangeTo;return{app:"apm",hash:(0,_ExternalLinks.getTraceUrl)({traceId:traceIdEntry.value,rangeFrom:rangeFrom,rangeTo:rangeTo})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTraceUrl=void 0;var _url=_interopRequireDefault(__webpack_require__(223));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getTraceUrl=function getTraceUrl(_ref){var traceId=_ref.traceId,rangeFrom=_ref.rangeFrom,rangeTo=_ref.rangeTo;return _url.default.format({pathname:"/link-to/trace/".concat(traceId),query:{rangeFrom:rangeFrom,rangeTo:rangeTo}})};exports.getTraceUrl=getTraceUrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LogMinimap",{enumerable:true,get:function get(){return _log_minimap.LogMinimap}});var _log_minimap=__webpack_require__(1478)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogMinimap=void 0;var _d3Scale=__webpack_require__(789);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _density_chart=__webpack_require__(1483);var _highlighted_interval=__webpack_require__(1486);var _search_markers=__webpack_require__(1487);var _time_ruler=__webpack_require__(1490);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  cursor: pointer;\n  fill: ",";\n  & "," {\n    visibility: hidden;\n  }\n  &:hover "," {\n    visibility: visible;\n  }\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  pointer-events: none;\n  stroke-width: 1px;\n  stroke: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  stroke: ",";\n  stroke-width: 1px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TIMERULER_WIDTH=50;function calculateYScale(start,end,height){return(0,_d3Scale.scaleLinear)().domain([start||0,end||0]).range([0,height])}var LogMinimap=function(_React$Component){_inherits(LogMinimap,_React$Component);function LogMinimap(props){var _this;_classCallCheck(this,LogMinimap);_this=_possibleConstructorReturn(this,_getPrototypeOf(LogMinimap).call(this,props));_defineProperty(_assertThisInitialized(_this),"handleClick",(function(event){var minimapTop=event.currentTarget.getBoundingClientRect().top;var clickedYPosition=event.clientY-minimapTop;var clickedTime=Math.floor(_this.getYScale().invert(clickedYPosition));_this.props.jumpToTarget({tiebreaker:0,time:clickedTime})}));_defineProperty(_assertThisInitialized(_this),"getYScale",(function(){var _this$props=_this.props,start=_this$props.start,end=_this$props.end,height=_this$props.height;return calculateYScale(start,end,height)}));_defineProperty(_assertThisInitialized(_this),"getPositionOfTime",(function(time){return _this.getYScale()(time)}));_defineProperty(_assertThisInitialized(_this),"updateTimeCursor",(function(event){var svgPosition=event.currentTarget.getBoundingClientRect();var timeCursorY=event.clientY-svgPosition.top;_this.setState({timeCursorY:timeCursorY})}));_this.state={timeCursorY:0,target:props.target};return _this}_createClass(LogMinimap,[{key:"render",value:function render(){var _this$props2=this.props,start=_this$props2.start,end=_this$props2.end,className=_this$props2.className,height=_this$props2.height,highlightedInterval=_this$props2.highlightedInterval,jumpToTarget=_this$props2.jumpToTarget,summaryBuckets=_this$props2.summaryBuckets,summaryHighlightBuckets=_this$props2.summaryHighlightBuckets,width=_this$props2.width;var _this$state=this.state,timeCursorY=_this$state.timeCursorY,target=_this$state.target;var _calculateYScale$doma=calculateYScale(start,end,height).domain(),_calculateYScale$doma2=_slicedToArray(_calculateYScale$doma,2),minTime=_calculateYScale$doma2[0],maxTime=_calculateYScale$doma2[1];var tickCount=height?Math.floor(height/50):12;return React.createElement(MinimapWrapper,{className:className,height:height,preserveAspectRatio:"none",viewBox:"0 0 ".concat(width," ").concat(height),width:width,onClick:this.handleClick,onMouseMove:this.updateTimeCursor},React.createElement(MinimapBorder,{x1:TIMERULER_WIDTH,x2:TIMERULER_WIDTH,y1:0,y2:height}),React.createElement(_time_ruler.TimeRuler,{start:minTime,end:maxTime,width:TIMERULER_WIDTH,height:height,tickCount:tickCount}),React.createElement("g",{transform:"translate(".concat(TIMERULER_WIDTH,", 0)")},React.createElement(_density_chart.DensityChart,{buckets:summaryBuckets,start:minTime,end:maxTime,width:width-TIMERULER_WIDTH,height:height}),React.createElement(_search_markers.SearchMarkers,{buckets:summaryHighlightBuckets||[],start:minTime,end:maxTime,width:width-TIMERULER_WIDTH,height:height,jumpToTarget:jumpToTarget})),highlightedInterval?React.createElement(_highlighted_interval.HighlightedInterval,{end:highlightedInterval.end,getPositionOfTime:this.getPositionOfTime,start:highlightedInterval.start,targetWidth:TIMERULER_WIDTH,width:width,target:target}):null,React.createElement(TimeCursor,{x1:TIMERULER_WIDTH,x2:width,y1:timeCursorY,y2:timeCursorY}))}}]);return LogMinimap}(React.Component);exports.LogMinimap=LogMinimap;var MinimapBorder=_public.euiStyled.line(_templateObject(),(function(props){return props.theme.eui.euiColorMediumShade}));var TimeCursor=_public.euiStyled.line(_templateObject2(),(function(props){return props.theme.darkMode?props.theme.eui.euiColorDarkestShade:props.theme.eui.euiColorDarkShade}));var MinimapWrapper=_public.euiStyled.svg(_templateObject3(),(function(props){return props.theme.eui.euiColorEmptyShade}),TimeCursor,TimeCursor)},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DensityChart=void 0;var _d3Scale=__webpack_require__(789);var _d3Shape=__webpack_require__(1484);var _lodash=__webpack_require__(1);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  fill: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  fill: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var DensityChart=function DensityChart(_ref){var buckets=_ref.buckets,start=_ref.start,end=_ref.end,width=_ref.width,height=_ref.height;if(start>=end||height<=0||width<=0||buckets.length<=0){return null}var yScale=(0,_d3Scale.scaleTime)().domain([start,end]).range([0,height]);var xMax=(0,_lodash.max)(buckets.map((function(bucket){return bucket.entriesCount})))||0;var xScale=(0,_d3Scale.scaleLinear)().domain([0,xMax]).range([0,width]);var path=(0,_d3Shape.area)().x0(xScale(0)).x1((function(bucket){return xScale(bucket.entriesCount)})).y0((function(bucket){return yScale(bucket.start)})).y1((function(bucket){return yScale(bucket.end)})).curve(_d3Shape.curveMonotoneY);var firstBucket=buckets[0];var lastBucket=buckets[buckets.length-1];var pathBuckets=[{start:start,end:start,entriesCount:firstBucket.entriesCount}].concat(_toConsumableArray(buckets),[{start:lastBucket.end,end:lastBucket.end,entriesCount:lastBucket.entriesCount},{start:end,end:end,entriesCount:0}]);var pathData=path(pathBuckets);return React.createElement("g",null,React.createElement(DensityChartPositiveBackground,{width:width,height:height}),React.createElement(PositiveAreaPath,{d:pathData||""}))};exports.DensityChart=DensityChart;var DensityChartPositiveBackground=_public.euiStyled.rect(_templateObject(),(function(props){return props.theme.darkMode?props.theme.eui.euiColorLightShade:props.theme.eui.euiColorLightestShade}));var PositiveAreaPath=_public.euiStyled.path(_templateObject2(),(function(props){return props.theme.darkMode?props.theme.eui.euiColorMediumShade:props.theme.eui.euiColorLightShade}))},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HighlightedInterval=void 0;var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  fill: ",";\n  fill-opacity: 0.3;\n  stroke: ",";\n  stroke-width: 1;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  stroke: ",";\n  stroke-width: 1;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var HighlightedInterval=function HighlightedInterval(_ref){var className=_ref.className,end=_ref.end,getPositionOfTime=_ref.getPositionOfTime,start=_ref.start,targetWidth=_ref.targetWidth,width=_ref.width,target=_ref.target;var yStart=getPositionOfTime(start);var yEnd=getPositionOfTime(end);var yTarget=target&&getPositionOfTime(target);return React.createElement(React.Fragment,null,yTarget&&React.createElement(HighlightTargetMarker,{className:className,x1:0,x2:targetWidth,y1:yTarget,y2:yTarget}),React.createElement(HighlightPolygon,{className:className,points:" ".concat(targetWidth,",").concat(yStart," ").concat(width,",").concat(yStart," ").concat(width,",").concat(yEnd,"  ").concat(targetWidth,",").concat(yEnd)}))};exports.HighlightedInterval=HighlightedInterval;HighlightedInterval.displayName="HighlightedInterval";var HighlightTargetMarker=_public.euiStyled.line(_templateObject(),(function(props){return props.theme.eui.euiColorPrimary}));var HighlightPolygon=_public.euiStyled.polygon(_templateObject2(),(function(props){return props.theme.eui.euiColorPrimary}),(function(props){return props.theme.eui.euiColorPrimary}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchMarkers=void 0;var _classnames=_interopRequireDefault(__webpack_require__(37));var _d3Scale=__webpack_require__(789);var React=_interopRequireWildcard(__webpack_require__(3));var _search_marker=__webpack_require__(1488);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SearchMarkers=function(_React$PureComponent){_inherits(SearchMarkers,_React$PureComponent);function SearchMarkers(){_classCallCheck(this,SearchMarkers);return _possibleConstructorReturn(this,_getPrototypeOf(SearchMarkers).apply(this,arguments))}_createClass(SearchMarkers,[{key:"render",value:function render(){var _this$props=this.props,buckets=_this$props.buckets,start=_this$props.start,end=_this$props.end,width=_this$props.width,height=_this$props.height,jumpToTarget=_this$props.jumpToTarget,className=_this$props.className;var classes=(0,_classnames.default)("minimapSearchMarkers",className);if(start>=end||height<=0||Object.keys(buckets).length<=0){return null}var yScale=(0,_d3Scale.scaleTime)().domain([start,end]).range([0,height]);return React.createElement("g",{transform:"translate(".concat(width/2,", 0)"),className:classes},buckets.map((function(bucket){return React.createElement("g",{key:"".concat(bucket.representativeKey.time,":").concat(bucket.representativeKey.tiebreaker),transform:"translate(0, ".concat(yScale(bucket.start),")")},React.createElement(_search_marker.SearchMarker,{bucket:bucket,height:yScale(bucket.end)-yScale(bucket.start),width:width,jumpToTarget:jumpToTarget}))})))}}]);return SearchMarkers}(React.PureComponent);exports.SearchMarkers=SearchMarkers},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchMarker=void 0;var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _search_marker_tooltip=__webpack_require__(1489);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  fill: ",";\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  fill: ",";\n  opacity: 0;\n  transition: opacity "," ease-in;\n  cursor: pointer;\n\n  ",":hover & {\n    opacity: 0.3;\n  }\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  animation: "," "," ease-in both;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchMarker=function(_React$PureComponent){_inherits(SearchMarker,_React$PureComponent);function SearchMarker(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchMarker);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchMarker)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{hoveredPosition:null});_defineProperty(_assertThisInitialized(_this),"handleClick",(function(evt){evt.stopPropagation();_this.props.jumpToTarget(_this.props.bucket.representativeKey)}));_defineProperty(_assertThisInitialized(_this),"handleMouseEnter",(function(evt){_this.setState({hoveredPosition:evt.currentTarget.getBoundingClientRect()})}));_defineProperty(_assertThisInitialized(_this),"handleMouseLeave",(function(){_this.setState({hoveredPosition:null})}));return _this}_createClass(SearchMarker,[{key:"render",value:function render(){var _this$props=this.props,bucket=_this$props.bucket,height=_this$props.height,width=_this$props.width;var hoveredPosition=this.state.hoveredPosition;var bulge=bucket.entriesCount>1?React.createElement(SearchMarkerForegroundRect,{x:"-2",y:"-2",width:"4",height:height+2,rx:"2",ry:"2"}):React.createElement(React.Fragment,null,React.createElement(SearchMarkerForegroundRect,{x:"-1",y:"0",width:"2",height:height}),React.createElement(SearchMarkerForegroundRect,{x:"-2",y:height/2-2,width:"4",height:"4",rx:"2",ry:"2"}));return React.createElement(React.Fragment,null,hoveredPosition?React.createElement(_search_marker_tooltip.SearchMarkerTooltip,{markerPosition:hoveredPosition},React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.searchResultTooltip",defaultMessage:"{bucketCount, plural, one {# highlighted entry} other {# highlighted entries}}",values:{bucketCount:bucket.entriesCount}})):null,React.createElement(SearchMarkerGroup,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.createElement(SearchMarkerBackgroundRect,{x:"0",y:"0",width:width,height:height}),bulge))}}]);return SearchMarker}(React.PureComponent);exports.SearchMarker=SearchMarker;var fadeInAnimation=(0,_public.keyframes)(_templateObject());var SearchMarkerGroup=_public.euiStyled.g(_templateObject2(),fadeInAnimation,(function(props){return props.theme.eui.euiAnimSpeedExtraSlow}));var SearchMarkerBackgroundRect=_public.euiStyled.rect(_templateObject3(),(function(props){return props.theme.eui.euiColorAccent}),(function(props){return props.theme.eui.euiAnimSpeedNormal}),SearchMarkerGroup);var SearchMarkerForegroundRect=_public.euiStyled.rect(_templateObject4(),(function(props){return props.theme.eui.euiColorAccent}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchMarkerTooltip=void 0;var _eui=__webpack_require__(4);var React=_interopRequireWildcard(__webpack_require__(3));var _auto_sizer=__webpack_require__(758);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SearchMarkerTooltip=function(_React$PureComponent){_inherits(SearchMarkerTooltip,_React$PureComponent);function SearchMarkerTooltip(){_classCallCheck(this,SearchMarkerTooltip);return _possibleConstructorReturn(this,_getPrototypeOf(SearchMarkerTooltip).apply(this,arguments))}_createClass(SearchMarkerTooltip,[{key:"render",value:function render(){var _this$props=this.props,children=_this$props.children,markerPosition=_this$props.markerPosition;return React.createElement(_eui.EuiPortal,null,React.createElement("div",{style:{position:"relative"}},React.createElement(_auto_sizer.AutoSizer,{content:false,bounds:true},(function(_ref){var measureRef=_ref.measureRef,_ref$bounds=_ref.bounds,width=_ref$bounds.width,height=_ref$bounds.height;var _ref2=width&&height?(0,_eui.calculatePopoverPosition)(markerPosition,{width:width,height:height},"left",16,["left"]):{left:-9999,top:0},top=_ref2.top,left=_ref2.left;return React.createElement("div",{className:"euiToolTip euiToolTip--left euiToolTipPopover",style:{left:left,top:top},ref:measureRef},children)}))))}}]);return SearchMarkerTooltip}(React.PureComponent);exports.SearchMarkerTooltip=SearchMarkerTooltip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeRuler=void 0;var _d3Scale=__webpack_require__(789);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _time_label_formatter=__webpack_require__(1491);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  stroke: ",";\n  stroke-opacity: 0.5;\n  stroke-width: 1px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  font-size: 9px;\n  line-height: ",";\n  fill: ",";\n  user-select: none;\n  pointer-events: none;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var TimeRuler=function TimeRuler(_ref){var end=_ref.end,height=_ref.height,start=_ref.start,tickCount=_ref.tickCount,width=_ref.width;var yScale=(0,_d3Scale.scaleTime)().domain([start,end]).range([0,height]);var ticks=yScale.ticks(tickCount);var formatTick=yScale.tickFormat(tickCount,(0,_time_label_formatter.getTimeLabelFormat)(start,end));return React.createElement("g",null,ticks.map((function(tick,tickIndex){var y=yScale(tick);return React.createElement("g",{key:"tick".concat(tickIndex)},React.createElement(TimeRulerTickLabel,{x:0,y:y-4},formatTick(tick)),React.createElement(TimeRulerGridLine,{x1:0,y1:y,x2:width,y2:y}))})))};exports.TimeRuler=TimeRuler;TimeRuler.displayName="TimeRuler";var TimeRulerTickLabel=_public.euiStyled.text(_templateObject(),(function(props){return props.theme.eui.euiLineHeight}),(function(props){return props.theme.eui.textColors.subdued}));var TimeRulerGridLine=_public.euiStyled.line(_templateObject2(),(function(props){return props.theme.darkMode?props.theme.eui.euiColorDarkestShade:props.theme.eui.euiColorDarkShade}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTimeLabelFormat=getTimeLabelFormat;function getTimeLabelFormat(start,end){var diff=Math.abs(end-start);if(diff<15*1e3){return":%S.%L"}if(diff<16*60*1e3){return"%I:%M:%S"}return}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_summary=__webpack_require__(966);Object.keys(_log_summary).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_summary[key]}})}));var _with_summary=__webpack_require__(1495);Object.keys(_with_summary).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _with_summary[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useCancellableEffect=exports.createCancellationSignal=void 0;var _react=__webpack_require__(3);var createCancellationSignal=function createCancellationSignal(){var cancellationSignal={isCancelled:false,cancel:function cancel(){cancellationSignal.isCancelled=true}};return cancellationSignal};exports.createCancellationSignal=createCancellationSignal;var useCancellableEffect=function useCancellableEffect(effect,deps){(0,_react.useEffect)((function(){var cancellationSignal=createCancellationSignal();effect((function(){return cancellationSignal.isCancelled}));return cancellationSignal.cancel}),deps)};exports.useCancellableEffect=useCancellableEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchLogSummary=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _runtime_types=__webpack_require__(210);var _http_api=__webpack_require__(741);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchLogSummary=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(requestArgs){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ENTRIES_SUMMARY_PATH,{method:"POST",body:JSON.stringify(_http_api.logEntriesSummaryRequestRT.encode(requestArgs))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.logEntriesSummaryResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function fetchLogSummary(_x){return _ref.apply(this,arguments)}}();exports.fetchLogSummary=fetchLogSummary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithSummary=void 0;var _react=__webpack_require__(3);var _reactUse=__webpack_require__(747);var _source=__webpack_require__(705);var _log_summary=__webpack_require__(966);var _log_filter=__webpack_require__(735);var _log_position=__webpack_require__(719);var FETCH_THROTTLE_INTERVAL=3e3;var WithSummary=function WithSummary(_ref){var children=_ref.children;var _useContext=(0,_react.useContext)(_source.Source.Context),sourceId=_useContext.sourceId;var _useContext2=(0,_react.useContext)(_log_filter.LogFilterState.Context),filterQuery=_useContext2.filterQuery;var _useContext3=(0,_react.useContext)(_log_position.LogPositionState.Context),startTimestamp=_useContext3.startTimestamp,endTimestamp=_useContext3.endTimestamp;var throttledStartTimestamp=(0,_reactUse.useThrottle)(startTimestamp,FETCH_THROTTLE_INTERVAL);var throttledEndTimestamp=(0,_reactUse.useThrottle)(endTimestamp,FETCH_THROTTLE_INTERVAL);var _useLogSummary=(0,_log_summary.useLogSummary)(sourceId,throttledStartTimestamp,throttledEndTimestamp,filterQuery),buckets=_useLogSummary.buckets,start=_useLogSummary.start,end=_useLogSummary.end;return children({buckets:buckets,start:start,end:end})};exports.WithSummary=WithSummary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchLogEntriesItem=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _runtime_types=__webpack_require__(210);var _http_api=__webpack_require__(741);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchLogEntriesItem=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(requestArgs){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ENTRIES_ITEM_PATH,{method:"POST",body:JSON.stringify(_http_api.logEntriesItemRequestRT.encode(requestArgs))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.logEntriesItemResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function fetchLogEntriesItem(_x){return _ref.apply(this,arguments)}}();exports.fetchLogEntriesItem=fetchLogEntriesItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithLogTextviewUrlState=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _url_state=__webpack_require__(711);var _log_view_configuration=__webpack_require__(790);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var WithLogTextviewUrlState=function WithLogTextviewUrlState(){var _useContext=(0,_react.useContext)(_log_view_configuration.LogViewConfiguration.Context),textScale=_useContext.textScale,textWrap=_useContext.textWrap,setTextScale=_useContext.setTextScale,setTextWrap=_useContext.setTextWrap;var urlState=(0,_react.useMemo)((function(){return{textScale:textScale,wrap:textWrap}}),[textScale,textWrap]);return _react.default.createElement(_url_state.UrlStateContainer,{urlState:urlState,urlStateKey:"logTextview",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.textScale){setTextScale(newUrlState.textScale)}if(newUrlState&&typeof newUrlState.wrap!=="undefined"){setTextWrap(newUrlState.wrap)}},onInitialize:function onInitialize(newUrlState){if(newUrlState&&newUrlState.textScale){setTextScale(newUrlState.textScale)}if(newUrlState&&typeof newUrlState.wrap!=="undefined"){setTextWrap(newUrlState.wrap)}}})};exports.WithLogTextviewUrlState=WithLogTextviewUrlState;var mapToUrlState=function mapToUrlState(value){return value?{textScale:mapToTextScaleUrlState(value.textScale),wrap:mapToWrapUrlState(value.wrap)}:undefined};var mapToTextScaleUrlState=function mapToTextScaleUrlState(value){return _log_view_configuration.availableTextScales.includes(value)?value:undefined};var mapToWrapUrlState=function mapToWrapUrlState(value){return typeof value==="boolean"?value:undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithStreamItems=void 0;var _react=__webpack_require__(3);var _log_highlights=__webpack_require__(791);var _log_entries=__webpack_require__(968);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var WithStreamItems=function WithStreamItems(_ref){var children=_ref.children;var _useContext=(0,_react.useContext)(_log_entries.LogEntriesState.Context),_useContext2=_slicedToArray(_useContext,2),logEntries=_useContext2[0],logEntriesCallbacks=_useContext2[1];var _useContext3=(0,_react.useContext)(_log_highlights.LogHighlightsState.Context),currentHighlightKey=_useContext3.currentHighlightKey,logEntryHighlightsById=_useContext3.logEntryHighlightsById;var items=(0,_react.useMemo)((function(){return logEntries.isReloading?[]:logEntries.entries.map((function(logEntry){return createLogEntryStreamItem(logEntry,logEntryHighlightsById[logEntry.id]||[])}))}),[logEntries.entries,logEntries.isReloading,logEntryHighlightsById]);return children(_objectSpread({},logEntries,{},logEntriesCallbacks,{items:items,currentHighlightKey:currentHighlightKey}))};exports.WithStreamItems=WithStreamItems;var createLogEntryStreamItem=function createLogEntryStreamItem(logEntry,highlights){return{kind:"logEntry",logEntry:logEntry,highlights:highlights}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogEntryHighlights=void 0;var _react=__webpack_require__(3);var _use_tracked_promise=__webpack_require__(214);var _fetch_log_entries_highlights=__webpack_require__(1500);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogEntryHighlights=function useLogEntryHighlights(sourceId,sourceVersion,startTimestamp,endTimestamp,centerPoint,size,filterQuery,highlightTerms){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),logEntryHighlights=_useState2[0],setLogEntryHighlights=_useState2[1];var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!startTimestamp||!endTimestamp||!centerPoint||!highlightTerms.length)){_context.next=2;break}throw new Error("Skipping request: Insufficient parameters");case 2:_context.next=4;return(0,_fetch_log_entries_highlights.fetchLogEntriesHighlights)({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,center:centerPoint,size:size,query:filterQuery||undefined,highlightTerms:highlightTerms});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){setLogEntryHighlights(response.data)}},[sourceId,startTimestamp,endTimestamp,centerPoint,size,filterQuery,highlightTerms]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),loadLogEntryHighlightsRequest=_useTrackedPromise2[0],loadLogEntryHighlights=_useTrackedPromise2[1];(0,_react.useEffect)((function(){setLogEntryHighlights([])}),[highlightTerms]);(0,_react.useEffect)((function(){if(highlightTerms.filter((function(highlightTerm){return highlightTerm.length>0})).length&&startTimestamp&&endTimestamp){loadLogEntryHighlights()}else{setLogEntryHighlights([])}}),[endTimestamp,filterQuery,highlightTerms,loadLogEntryHighlights,sourceVersion,startTimestamp]);var logEntryHighlightsById=(0,_react.useMemo)((function(){return logEntryHighlights.reduce((function(accumulatedLogEntryHighlightsById,highlightData){return highlightData.entries.reduce((function(singleHighlightLogEntriesById,entry){var highlightsForId=singleHighlightLogEntriesById[entry.id]||[];return _objectSpread({},singleHighlightLogEntriesById,_defineProperty({},entry.id,[].concat(_toConsumableArray(highlightsForId),[entry])))}),accumulatedLogEntryHighlightsById)}),{})}),[logEntryHighlights]);return{logEntryHighlights:logEntryHighlights,logEntryHighlightsById:logEntryHighlightsById,loadLogEntryHighlightsRequest:loadLogEntryHighlightsRequest}};exports.useLogEntryHighlights=useLogEntryHighlights},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchLogEntriesHighlights=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _runtime_types=__webpack_require__(210);var _http_api=__webpack_require__(741);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchLogEntriesHighlights=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(requestArgs){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ENTRIES_HIGHLIGHTS_PATH,{method:"POST",body:JSON.stringify(_http_api.logEntriesHighlightsRequestRT.encode(requestArgs))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.logEntriesHighlightsResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function fetchLogEntriesHighlights(_x){return _ref.apply(this,arguments)}}();exports.fetchLogEntriesHighlights=fetchLogEntriesHighlights},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useLogSummaryHighlights=void 0;var _react=__webpack_require__(3);var _lodash=__webpack_require__(1);var _use_tracked_promise=__webpack_require__(214);var _fetch_log_summary_highlights=__webpack_require__(1502);var _bucket_size=__webpack_require__(967);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useLogSummaryHighlights=function useLogSummaryHighlights(sourceId,sourceVersion,startTimestamp,endTimestamp,filterQuery,highlightTerms){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),logSummaryHighlights=_useState2[0],setLogSummaryHighlights=_useState2[1];var bucketSize=(0,_bucket_size.useBucketSize)(startTimestamp,endTimestamp);var _useTrackedPromise=(0,_use_tracked_promise.useTrackedPromise)({cancelPreviousOn:"resolution",createPromise:function(){var _createPromise=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!startTimestamp||!endTimestamp||!bucketSize||!highlightTerms.length)){_context.next=2;break}throw new Error("Skipping request: Insufficient parameters");case 2:_context.next=4;return(0,_fetch_log_summary_highlights.fetchLogSummaryHighlights)({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,bucketSize:bucketSize,query:filterQuery,highlightTerms:highlightTerms});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}}),_callee)})));function createPromise(){return _createPromise.apply(this,arguments)}return createPromise}(),onResolve:function onResolve(response){setLogSummaryHighlights(response.data)}},[sourceId,startTimestamp,endTimestamp,bucketSize,filterQuery,highlightTerms]),_useTrackedPromise2=_slicedToArray(_useTrackedPromise,2),loadLogSummaryHighlightsRequest=_useTrackedPromise2[0],loadLogSummaryHighlights=_useTrackedPromise2[1];var debouncedLoadSummaryHighlights=(0,_react.useMemo)((function(){return(0,_lodash.debounce)(loadLogSummaryHighlights,275)}),[loadLogSummaryHighlights]);(0,_react.useEffect)((function(){setLogSummaryHighlights([])}),[highlightTerms]);(0,_react.useEffect)((function(){if(highlightTerms.filter((function(highlightTerm){return highlightTerm.length>0})).length&&startTimestamp&&endTimestamp){debouncedLoadSummaryHighlights()}else{setLogSummaryHighlights([])}}),[bucketSize,debouncedLoadSummaryHighlights,filterQuery,highlightTerms,sourceVersion,startTimestamp,endTimestamp]);return{logSummaryHighlights:logSummaryHighlights,loadLogSummaryHighlightsRequest:loadLogSummaryHighlightsRequest}};exports.useLogSummaryHighlights=useLogSummaryHighlights},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchLogSummaryHighlights=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _runtime_types=__webpack_require__(210);var _http_api=__webpack_require__(741);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchLogSummaryHighlights=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(requestArgs){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ENTRIES_SUMMARY_HIGHLIGHTS_PATH,{method:"POST",body:JSON.stringify(_http_api.logEntriesSummaryHighlightsRequestRT.encode(requestArgs))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.logEntriesSummaryHighlightsResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function fetchLogSummaryHighlights(_x){return _ref.apply(this,arguments)}}();exports.fetchLogSummaryHighlights=fetchLogSummaryHighlights},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useNextAndPrevious=void 0;var _lodash=__webpack_require__(1);var _react=__webpack_require__(3);var _log_entry=__webpack_require__(785);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useNextAndPrevious=function useNextAndPrevious(_ref){var highlightTerms=_ref.highlightTerms,jumpToTargetPosition=_ref.jumpToTargetPosition,logEntryHighlights=_ref.logEntryHighlights,visibleMidpoint=_ref.visibleMidpoint;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),currentTimeKey=_useState2[0],setCurrentTimeKey=_useState2[1];var entries=(0,_react.useMemo)((function(){return logEntryHighlights&&logEntryHighlights.length>0?logEntryHighlights[0].entries:[]}),[logEntryHighlights]);(0,_react.useEffect)((function(){setCurrentTimeKey(null)}),[highlightTerms]);(0,_react.useEffect)((function(){if(currentTimeKey){jumpToTargetPosition(currentTimeKey)}}),[currentTimeKey,jumpToTargetPosition]);(0,_react.useEffect)((function(){if(currentTimeKey===null&&entries.length>0){var initialIndex=visibleMidpoint?clampValue((0,_log_entry.getLogEntryIndexBeforeTime)(entries,visibleMidpoint),0,entries.length-1):0;var initialTimeKey=(0,_log_entry.getUniqueLogEntryKey)(entries[initialIndex]);setCurrentTimeKey(initialTimeKey)}}),[currentTimeKey,entries,setCurrentTimeKey,visibleMidpoint]);var indexOfCurrentTimeKey=(0,_react.useMemo)((function(){if(currentTimeKey&&entries.length>0){return(0,_log_entry.getLogEntryIndexAtTime)(entries,currentTimeKey)}else{return null}}),[currentTimeKey,entries]);var hasPreviousHighlight=(0,_react.useMemo)((function(){return(0,_lodash.isNumber)(indexOfCurrentTimeKey)&&indexOfCurrentTimeKey>0}),[indexOfCurrentTimeKey]);var hasNextHighlight=(0,_react.useMemo)((function(){return entries.length>0&&(0,_lodash.isNumber)(indexOfCurrentTimeKey)&&indexOfCurrentTimeKey<entries.length-1}),[indexOfCurrentTimeKey,entries]);var goToPreviousHighlight=(0,_react.useCallback)((function(){if(entries.length&&(0,_lodash.isNumber)(indexOfCurrentTimeKey)){var previousIndex=indexOfCurrentTimeKey-1;var entryTimeKey=(0,_log_entry.getUniqueLogEntryKey)(entries[previousIndex]);setCurrentTimeKey(entryTimeKey)}}),[indexOfCurrentTimeKey,entries]);var goToNextHighlight=(0,_react.useCallback)((function(){if(entries.length>0&&(0,_lodash.isNumber)(indexOfCurrentTimeKey)){var nextIndex=indexOfCurrentTimeKey+1;var entryTimeKey=(0,_log_entry.getUniqueLogEntryKey)(entries[nextIndex]);setCurrentTimeKey(entryTimeKey)}}),[indexOfCurrentTimeKey,entries]);return{currentHighlightKey:currentTimeKey,hasPreviousHighlight:hasPreviousHighlight,hasNextHighlight:hasNextHighlight,goToPreviousHighlight:goToPreviousHighlight,goToNextHighlight:goToNextHighlight}};exports.useNextAndPrevious=useNextAndPrevious;var clampValue=function clampValue(value,minValue,maxValue){return Math.min(Math.max(value,minValue),maxValue)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchLogEntries=void 0;var _Either=__webpack_require__(33);var _pipeable=__webpack_require__(48);var _function=__webpack_require__(65);var _legacy_singletons=__webpack_require__(211);var _runtime_types=__webpack_require__(210);var _http_api=__webpack_require__(741);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var fetchLogEntries=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(requestArgs){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _legacy_singletons.npStart.http.fetch(_http_api.LOG_ENTRIES_PATH,{method:"POST",body:JSON.stringify(_http_api.logEntriesRequestRT.encode(requestArgs))});case 2:response=_context.sent;return _context.abrupt("return",(0,_pipeable.pipe)(_http_api.logEntriesResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity)));case 4:case"end":return _context.stop()}}}),_callee)})));return function fetchLogEntries(_x){return _ref.apply(this,arguments)}}();exports.fetchLogEntries=fetchLogEntries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsToolbar=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _autocomplete_field=__webpack_require__(228);var _eui2=__webpack_require__(1506);var _log_customization_menu=__webpack_require__(1508);var _log_highlights_menu=__webpack_require__(1509);var _log_highlights=__webpack_require__(791);var _log_text_scale_controls=__webpack_require__(1510);var _log_text_wrap_controls=__webpack_require__(1513);var _log_flyout=__webpack_require__(848);var _log_view_configuration=__webpack_require__(790);var _log_filter=__webpack_require__(735);var _log_position=__webpack_require__(719);var _source=__webpack_require__(705);var _with_kuery_autocompletion=__webpack_require__(227);var _log_datepicker=__webpack_require__(1514);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogsToolbar=function LogsToolbar(){var _useContext=(0,_react.useContext)(_source.Source.Context),createDerivedIndexPattern=_useContext.createDerivedIndexPattern;var derivedIndexPattern=createDerivedIndexPattern("logs");var _useContext2=(0,_react.useContext)(_log_view_configuration.LogViewConfiguration.Context),availableTextScales=_useContext2.availableTextScales,setTextScale=_useContext2.setTextScale,setTextWrap=_useContext2.setTextWrap,textScale=_useContext2.textScale,textWrap=_useContext2.textWrap;var _useContext3=(0,_react.useContext)(_log_filter.LogFilterState.Context),filterQueryDraft=_useContext3.filterQueryDraft,isFilterQueryDraftValid=_useContext3.isFilterQueryDraftValid,applyLogFilterQuery=_useContext3.applyLogFilterQuery,setLogFilterQueryDraft=_useContext3.setLogFilterQueryDraft;var _useContext4=(0,_react.useContext)(_log_flyout.LogFlyout.Context),setSurroundingLogsId=_useContext4.setSurroundingLogsId;var _useContext5=(0,_react.useContext)(_log_highlights.LogHighlightsState.Context),setHighlightTerms=_useContext5.setHighlightTerms,loadLogEntryHighlightsRequest=_useContext5.loadLogEntryHighlightsRequest,highlightTerms=_useContext5.highlightTerms,hasPreviousHighlight=_useContext5.hasPreviousHighlight,hasNextHighlight=_useContext5.hasNextHighlight,goToPreviousHighlight=_useContext5.goToPreviousHighlight,goToNextHighlight=_useContext5.goToNextHighlight;var _useContext6=(0,_react.useContext)(_log_position.LogPositionState.Context),isStreaming=_useContext6.isStreaming,startLiveStreaming=_useContext6.startLiveStreaming,stopLiveStreaming=_useContext6.stopLiveStreaming,startDateExpression=_useContext6.startDateExpression,endDateExpression=_useContext6.endDateExpression,updateDateRange=_useContext6.updateDateRange;return _react.default.createElement(_eui2.Toolbar,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_with_kuery_autocompletion.WithKueryAutocompletion,{indexPattern:derivedIndexPattern},(function(_ref){var isLoadingSuggestions=_ref.isLoadingSuggestions,loadSuggestions=_ref.loadSuggestions,suggestions=_ref.suggestions;return _react.default.createElement(_autocomplete_field.AutocompleteField,{isLoadingSuggestions:isLoadingSuggestions,isValid:isFilterQueryDraftValid,loadSuggestions:loadSuggestions,onChange:function onChange(expression){setSurroundingLogsId(null);setLogFilterQueryDraft(expression)},onSubmit:function onSubmit(expression){setSurroundingLogsId(null);applyLogFilterQuery(expression)},placeholder:_i18n.i18n.translate("xpack.infra.logsPage.toolbar.kqlSearchFieldPlaceholder",{defaultMessage:"Search for log entries… (e.g. host.name:host-1)"}),suggestions:suggestions,value:filterQueryDraft?filterQueryDraft.expression:"","aria-label":_i18n.i18n.translate("xpack.infra.logsPage.toolbar.kqlSearchFieldAriaLabel",{defaultMessage:"Search for log entries"})})}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_customization_menu.LogCustomizationMenu,null,_react.default.createElement(_log_text_wrap_controls.LogTextWrapControls,{wrap:textWrap,setTextWrap:setTextWrap}),_react.default.createElement(_log_text_scale_controls.LogTextScaleControls,{availableTextScales:availableTextScales,textScale:textScale,setTextScale:setTextScale}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_highlights_menu.LogHighlightsMenu,{onChange:setHighlightTerms,isLoading:loadLogEntryHighlightsRequest.state==="pending",activeHighlights:highlightTerms.filter((function(highlightTerm){return highlightTerm.length>0})).length>0,goToPreviousHighlight:goToPreviousHighlight,goToNextHighlight:goToNextHighlight,hasPreviousHighlight:hasPreviousHighlight,hasNextHighlight:hasNextHighlight})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_log_datepicker.LogDatepicker,{startDateExpression:startDateExpression,endDateExpression:endDateExpression,onStartStreaming:startLiveStreaming,onStopStreaming:stopLiveStreaming,isStreaming:isStreaming,onUpdateDateRange:updateDateRange}))))};exports.LogsToolbar=LogsToolbar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Toolbar",{enumerable:true,get:function get(){return _toolbar.Toolbar}});var _toolbar=__webpack_require__(792)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Toolbar=void 0;var _eui=__webpack_require__(4);var _public=__webpack_require__(64);function _templateObject(){var data=_taggedTemplateLiteral(["\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-radius: 0;\n  padding: "," ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var Toolbar=(0,_public.euiStyled)(_eui.EuiPanel).attrs((function(){return{grow:false,paddingSize:"none"}}))(_templateObject(),(function(props){return props.theme.eui.euiSizeS}),(function(props){return props.theme.eui.euiSizeL}));exports.Toolbar=Toolbar},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogCustomizationMenu=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n  min-width: 200px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LogCustomizationMenu=function(_React$Component){_inherits(LogCustomizationMenu,_React$Component);function LogCustomizationMenu(){var _getPrototypeOf2;var _this;_classCallCheck(this,LogCustomizationMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LogCustomizationMenu)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isShown:false});_defineProperty(_assertThisInitialized(_this),"show",(function(){_this.setState({isShown:true})}));_defineProperty(_assertThisInitialized(_this),"hide",(function(){_this.setState({isShown:false})}));_defineProperty(_assertThisInitialized(_this),"toggleVisibility",(function(){_this.setState((function(state){return{isShown:!state.isShown}}))}));return _this}_createClass(LogCustomizationMenu,[{key:"render",value:function render(){var children=this.props.children;var isShown=this.state.isShown;var menuButton=React.createElement(_eui.EuiButtonEmpty,{color:"text",iconType:"eye",onClick:this.toggleVisibility,size:"xs"},React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.customizeButtonLabel",defaultMessage:"Customize"}));return React.createElement(_eui.EuiPopover,{id:"customizePopover",button:menuButton,closePopover:this.hide,isOpen:isShown,anchorPosition:"downRight",ownFocus:true},React.createElement(CustomizationMenuContent,null,children))}}]);return LogCustomizationMenu}(React.Component);exports.LogCustomizationMenu=LogCustomizationMenu;var CustomizationMenuContent=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogHighlightsMenu=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _lodash=__webpack_require__(1);var _react2=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _use_visibility_state=__webpack_require__(847);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  width: 300px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  padding-left: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogHighlightsMenu=function LogHighlightsMenu(_ref){var onChange=_ref.onChange,isLoading=_ref.isLoading,activeHighlights=_ref.activeHighlights,hasPreviousHighlight=_ref.hasPreviousHighlight,goToPreviousHighlight=_ref.goToPreviousHighlight,hasNextHighlight=_ref.hasNextHighlight,goToNextHighlight=_ref.goToNextHighlight;var _useVisibilityState=(0,_use_visibility_state.useVisibilityState)(false),isPopoverOpen=_useVisibilityState.isVisible,closePopover=_useVisibilityState.hide,togglePopover=_useVisibilityState.toggle;var _useState=(0,_react2.useState)(""),_useState2=_slicedToArray(_useState,2),highlightTerm=_useState2[0],_setHighlightTerm=_useState2[1];var debouncedOnChange=(0,_react2.useMemo)((function(){return(0,_lodash.debounce)(onChange,275)}),[onChange]);var setHighlightTerm=(0,_react2.useCallback)((function(valueOrUpdater){return _setHighlightTerm((function(previousHighlightTerm){var newHighlightTerm=typeof valueOrUpdater==="function"?valueOrUpdater(previousHighlightTerm):valueOrUpdater;if(newHighlightTerm!==previousHighlightTerm){debouncedOnChange([newHighlightTerm])}return newHighlightTerm}))}),[debouncedOnChange]);var changeHighlightTerm=(0,_react2.useCallback)((function(e){var value=e.target.value;setHighlightTerm(value)}),[setHighlightTerm]);var clearHighlightTerm=(0,_react2.useCallback)((function(){return setHighlightTerm("")}),[setHighlightTerm]);var button=_react2.default.createElement(_eui.EuiButtonEmpty,{color:"text",size:"xs",iconType:"brush",onClick:togglePopover},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.highlights.highlightsPopoverButtonLabel",defaultMessage:"Highlights"}),activeHighlights?_react2.default.createElement(ActiveHighlightsIndicator,null):null);return _react2.default.createElement(_eui.EuiPopover,{id:"popover",button:button,isOpen:isPopoverOpen,closePopover:closePopover,ownFocus:true},_react2.default.createElement(LogHighlightsMenuContent,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldText,{placeholder:termsFieldLabel,fullWidth:true,value:highlightTerm,onChange:changeHighlightTerm,isLoading:isLoading,"aria-label":termsFieldLabel})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":goToPreviousHighlightLabel,iconType:"arrowUp",onClick:goToPreviousHighlight,title:goToPreviousHighlightLabel,isDisabled:!hasPreviousHighlight})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":goToNextHighlightLabel,iconType:"arrowDown",onClick:goToNextHighlight,title:goToNextHighlightLabel,isDisabled:!hasNextHighlight})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":clearTermsButtonLabel,color:"danger",isDisabled:highlightTerm==="",iconType:"trash",onClick:clearHighlightTerm,title:clearTermsButtonLabel})))))};exports.LogHighlightsMenu=LogHighlightsMenu;var termsFieldLabel=_i18n.i18n.translate("xpack.infra.logs.highlights.highlightTermsFieldLabel",{defaultMessage:"Terms to highlight"});var clearTermsButtonLabel=_i18n.i18n.translate("xpack.infra.logs.highlights.clearHighlightTermsButtonLabel",{defaultMessage:"Clear terms to highlight"});var goToPreviousHighlightLabel=_i18n.i18n.translate("xpack.infra.logs.highlights.goToPreviousHighlightButtonLabel",{defaultMessage:"Jump to previous highlight"});var goToNextHighlightLabel=_i18n.i18n.translate("xpack.infra.logs.highlights.goToNextHighlightButtonLabel",{defaultMessage:"Jump to next highlight"});var ActiveHighlightsIndicator=(0,_public.euiStyled)(_eui.EuiIcon).attrs((function(_ref2){var theme=_ref2.theme;return{type:"checkInCircleFilled",size:"m",color:theme.eui.euiColorAccent}}))(_templateObject(),(function(props){return props.theme.eui.paddingSizes.xs}));var LogHighlightsMenuContent=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogTextScaleControls=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));var _log_text_scale=__webpack_require__(1511);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LogTextScaleControls=function(_React$PureComponent){_inherits(LogTextScaleControls,_React$PureComponent);function LogTextScaleControls(){var _getPrototypeOf2;var _this;_classCallCheck(this,LogTextScaleControls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LogTextScaleControls)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"setTextScale",(function(textScale){if((0,_log_text_scale.isTextScale)(textScale)){_this.props.setTextScale(textScale)}}));return _this}_createClass(LogTextScaleControls,[{key:"render",value:function render(){var _this$props=this.props,availableTextScales=_this$props.availableTextScales,textScale=_this$props.textScale;return React.createElement(_eui.EuiFormRow,{label:React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.textSizeFormRowLabel",defaultMessage:"Text Size"})},React.createElement(_eui.EuiRadioGroup,{options:availableTextScales.map((function(availableTextScale){return{id:availableTextScale.toString(),label:React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.textSizeRadioGroup",defaultMessage:"{textScale, select, small {Small} medium {Medium} large {Large} other {{textScale}} }",values:{textScale:availableTextScale}})}})),idSelected:textScale,onChange:this.setTextScale}))}}]);return LogTextScaleControls}(React.PureComponent);exports.LogTextScaleControls=LogTextScaleControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_text_scale=__webpack_require__(1512);Object.keys(_log_text_scale).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_text_scale[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isTextScale=isTextScale;function isTextScale(maybeTextScale){return["small","medium","large"].includes(maybeTextScale)}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.LogTextWrapControls=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var React=_interopRequireWildcard(__webpack_require__(3));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LogTextWrapControls=function(_React$PureComponent){_inherits(LogTextWrapControls,_React$PureComponent);function LogTextWrapControls(){var _getPrototypeOf2;var _this;_classCallCheck(this,LogTextWrapControls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LogTextWrapControls)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"toggleWrap",(function(){_this.props.setTextWrap(!_this.props.wrap)}));return _this}_createClass(LogTextWrapControls,[{key:"render",value:function render(){var wrap=this.props.wrap;return React.createElement(_eui.EuiFormRow,{label:React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.lineWrappingFormRowLabel",defaultMessage:"Line Wrapping"})},React.createElement(_eui.EuiSwitch,{label:React.createElement(_react.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.wrapLongLinesSwitchLabel",defaultMessage:"Wrap long lines"}),checked:wrap,onChange:this.toggleWrap}))}}]);return LogTextWrapControls}(React.PureComponent);exports.LogTextWrapControls=LogTextWrapControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogDatepicker=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LogDatepicker=function LogDatepicker(_ref){var startDateExpression=_ref.startDateExpression,endDateExpression=_ref.endDateExpression,isStreaming=_ref.isStreaming,onUpdateDateRange=_ref.onUpdateDateRange,onStartStreaming=_ref.onStartStreaming,onStopStreaming=_ref.onStopStreaming;var handleTimeChange=(0,_react.useCallback)((function(_ref2){var start=_ref2.start,end=_ref2.end,isInvalid=_ref2.isInvalid;if(onUpdateDateRange&&!isInvalid){onUpdateDateRange({startDateExpression:start,endDateExpression:end})}}),[onUpdateDateRange]);return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSuperDatePicker,{start:startDateExpression,end:endDateExpression,onTimeChange:handleTimeChange,showUpdateButton:false,isDisabled:isStreaming})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},isStreaming?_react.default.createElement(_eui.EuiButtonEmpty,{color:"primary",iconType:"pause",iconSide:"left",onClick:onStopStreaming},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.logs.stopStreamingButtonLabel",defaultMessage:"Stop streaming"})):_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"play",iconSide:"left",onClick:onStartStreaming},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.logs.startStreamingButtonLabel",defaultMessage:"Stream live"}))))};exports.LogDatepicker=LogDatepicker},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _log_highlights=__webpack_require__(791);Object.keys(_log_highlights).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_highlights[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPageNoIndicesContent=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _no_indices=__webpack_require__(843);var _source_configuration=__webpack_require__(849);var _public=__webpack_require__(9);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var LogsPageNoIndicesContent=function LogsPageNoIndicesContent(){var _application$capabili,_application$capabili2;var _useKibana=(0,_public.useKibana)(),application=_useKibana.services.application;var canConfigureSource=(application===null||application===void 0?void 0:(_application$capabili=application.capabilities)===null||_application$capabili===void 0?void 0:(_application$capabili2=_application$capabili.logs)===null||_application$capabili2===void 0?void 0:_application$capabili2.configureSource)?true:false;var tutorialLinkProps=(0,_use_link_props.useLinkProps)({app:"kibana",hash:"/home/tutorial_directory/logging"});return _react.default.createElement(_no_indices.NoIndices,{"data-test-subj":"noLogsIndicesPrompt",title:_i18n.i18n.translate("xpack.infra.logsPage.noLoggingIndicesTitle",{defaultMessage:"Looks like you don't have any logging indices."}),message:_i18n.i18n.translate("xpack.infra.logsPage.noLoggingIndicesDescription",{defaultMessage:"Let's add some!"}),actions:_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiButton,_extends({},tutorialLinkProps,{color:"primary",fill:true,"data-test-subj":"logsViewSetupInstructionsButton"}),_i18n.i18n.translate("xpack.infra.logsPage.noLoggingIndicesInstructionsActionLabel",{defaultMessage:"View setup instructions"}))),canConfigureSource?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_source_configuration.ViewSourceConfigurationButton,{app:"logs","data-test-subj":"configureSourceButton"},_i18n.i18n.translate("xpack.infra.configureSourceActionLabel",{defaultMessage:"Change source configuration"}))):null)})};exports.LogsPageNoIndicesContent=LogsPageNoIndicesContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ViewSourceConfigurationButton=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ViewSourceConfigurationButton=function ViewSourceConfigurationButton(_ref){var dataTestSubj=_ref["data-test-subj"],app=_ref.app,children=_ref.children;var linkProps=(0,_use_link_props.useLinkProps)({app:app,pathname:"/settings"});return _react.default.createElement(_eui.EuiButton,_extends({"data-test-subj":dataTestSubj,color:"primary"},linkProps),children)};exports.ViewSourceConfigurationButton=ViewSourceConfigurationButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StreamPageHeader=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _document_title=__webpack_require__(726);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StreamPageHeader=function StreamPageHeader(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_document_title.DocumentTitle,{title:function title(previousTitle){return _i18n.i18n.translate("xpack.infra.logs.streamPage.documentTitle",{defaultMessage:"{previousTitle} | Stream",values:{previousTitle:previousTitle}})}}))};exports.StreamPageHeader=StreamPageHeader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPageProviders=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _log_flyout=__webpack_require__(848);var _log_view_configuration=__webpack_require__(790);var _log_highlights=__webpack_require__(791);var _log_position=__webpack_require__(719);var _log_filter=__webpack_require__(735);var _log_entries=__webpack_require__(968);var _source=__webpack_require__(705);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogFilterStateProvider=function LogFilterStateProvider(_ref){var children=_ref.children;var _useContext=(0,_react.useContext)(_source.Source.Context),createDerivedIndexPattern=_useContext.createDerivedIndexPattern;var derivedIndexPattern=createDerivedIndexPattern("logs");return _react.default.createElement(_log_filter.LogFilterState.Provider,{indexPattern:derivedIndexPattern},_react.default.createElement(_log_filter.WithLogFilterUrlState,null),children)};var LogEntriesStateProvider=function LogEntriesStateProvider(_ref2){var children=_ref2.children;var _useContext2=(0,_react.useContext)(_source.Source.Context),sourceId=_useContext2.sourceId;var _useContext3=(0,_react.useContext)(_log_position.LogPositionState.Context),startTimestamp=_useContext3.startTimestamp,endTimestamp=_useContext3.endTimestamp,timestampsLastUpdate=_useContext3.timestampsLastUpdate,targetPosition=_useContext3.targetPosition,pagesBeforeStart=_useContext3.pagesBeforeStart,pagesAfterEnd=_useContext3.pagesAfterEnd,isStreaming=_useContext3.isStreaming,jumpToTargetPosition=_useContext3.jumpToTargetPosition,isInitialized=_useContext3.isInitialized;var _useContext4=(0,_react.useContext)(_log_filter.LogFilterState.Context),filterQuery=_useContext4.filterQuery;if(!startTimestamp||!endTimestamp){return null}var entriesProps={startTimestamp:startTimestamp,endTimestamp:endTimestamp,timestampsLastUpdate:timestampsLastUpdate,timeKey:targetPosition,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd,filterQuery:filterQuery,sourceId:sourceId,isStreaming:isStreaming,jumpToTargetPosition:jumpToTargetPosition};if(!isInitialized){return null}return _react.default.createElement(_log_entries.LogEntriesState.Provider,entriesProps,children)};var LogHighlightsStateProvider=function LogHighlightsStateProvider(_ref3){var children=_ref3.children;var _useContext5=(0,_react.useContext)(_source.Source.Context),sourceId=_useContext5.sourceId,version=_useContext5.version;var _useContext6=(0,_react.useContext)(_log_entries.LogEntriesState.Context),_useContext7=_slicedToArray(_useContext6,1),_useContext7$=_useContext7[0],topCursor=_useContext7$.topCursor,bottomCursor=_useContext7$.bottomCursor,centerCursor=_useContext7$.centerCursor,entries=_useContext7$.entries;var _useContext8=(0,_react.useContext)(_log_filter.LogFilterState.Context),filterQuery=_useContext8.filterQuery;var highlightsProps={sourceId:sourceId,sourceVersion:version,entriesStart:topCursor,entriesEnd:bottomCursor,centerCursor:centerCursor,size:entries.length,filterQuery:filterQuery};return _react.default.createElement(_log_highlights.LogHighlightsState.Provider,highlightsProps,children)};var LogsPageProviders=function LogsPageProviders(_ref4){var children=_ref4.children;return _react.default.createElement(_log_view_configuration.LogViewConfiguration.Provider,null,_react.default.createElement(_log_flyout.LogFlyout.Provider,null,_react.default.createElement(_log_position.LogPositionState.Provider,null,_react.default.createElement(_log_position.WithLogPositionUrlState,null),_react.default.createElement(LogFilterStateProvider,null,_react.default.createElement(LogEntriesStateProvider,null,_react.default.createElement(LogHighlightsStateProvider,null,children))))))};exports.LogsPageProviders=LogsPageProviders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogsPageProviders=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _log_analysis=__webpack_require__(712);var _source=__webpack_require__(705);var _source_id=__webpack_require__(834);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LogsPageProviders=function LogsPageProviders(_ref){var children=_ref.children;var _useSourceId=(0,_source_id.useSourceId)(),_useSourceId2=_slicedToArray(_useSourceId,1),sourceId=_useSourceId2[0];return _react.default.createElement(_source.SourceProvider,{sourceId:sourceId},_react.default.createElement(_log_analysis.LogAnalysisCapabilitiesProvider,null,children))};exports.LogsPageProviders=LogsPageProviders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsRouter=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _=__webpack_require__(899);var _infrastructure=__webpack_require__(1522);var _link_to=__webpack_require__(830);var _metrics=__webpack_require__(1692);var _redirect_with_query_params=__webpack_require__(841);var _public=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsRouter=function MetricsRouter(_ref){var _useKibana$services$a,_uiCapabilities$infra,_uiCapabilities$infra2,_uiCapabilities$infra3,_uiCapabilities$infra4,_uiCapabilities$infra5;var history=_ref.history;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;return _react.default.createElement(_reactRouterDom.Router,{history:history},_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/link-to",component:_link_to.LinkToPage}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra=uiCapabilities.infrastructure)===null||_uiCapabilities$infra===void 0?void 0:_uiCapabilities$infra.show)&&_react.default.createElement(_redirect_with_query_params.RedirectWithQueryParams,{from:"/",exact:true,to:"/inventory"}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra2=uiCapabilities.infrastructure)===null||_uiCapabilities$infra2===void 0?void 0:_uiCapabilities$infra2.show)&&_react.default.createElement(_redirect_with_query_params.RedirectWithQueryParams,{from:"/snapshot",exact:true,to:"/inventory"}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra3=uiCapabilities.infrastructure)===null||_uiCapabilities$infra3===void 0?void 0:_uiCapabilities$infra3.show)&&_react.default.createElement(_redirect_with_query_params.RedirectWithQueryParams,{from:"/metrics-explorer",exact:true,to:"/explorer"}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra4=uiCapabilities.infrastructure)===null||_uiCapabilities$infra4===void 0?void 0:_uiCapabilities$infra4.show)&&_react.default.createElement(_reactRouterDom.Route,{path:"/detail/:type/:node",component:_metrics.MetricDetail}),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra5=uiCapabilities.infrastructure)===null||_uiCapabilities$infra5===void 0?void 0:_uiCapabilities$infra5.show)&&_react.default.createElement(_reactRouterDom.Route,{path:"/",component:_infrastructure.InfrastructurePage}),_react.default.createElement(_reactRouterDom.Route,{component:_.NotFoundPage})))};exports.MetricsRouter=MetricsRouter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfrastructurePage=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _eui=__webpack_require__(4);var _document_title=__webpack_require__(726);var _help_center_content=__webpack_require__(935);var _routed_tabs=__webpack_require__(937);var _page=__webpack_require__(709);var _header=__webpack_require__(778);var _use_metrics_explorer_options=__webpack_require__(728);var _with_metrics_explorer_options_url_state=__webpack_require__(1523);var _with_source=__webpack_require__(793);var _source=__webpack_require__(705);var _metrics_explorer=__webpack_require__(1526);var _snapshot=__webpack_require__(1643);var _settings=__webpack_require__(1690);var _app_navigation=__webpack_require__(936);var _source_loading_page=__webpack_require__(738);var _public=__webpack_require__(9);var _alert_dropdown=__webpack_require__(1691);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var InfrastructurePage=function InfrastructurePage(_ref){var _useKibana$services$a,_uiCapabilities$infra;var match=_ref.match;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;return _react.default.createElement(_source.Source.Provider,{sourceId:"default"},_react.default.createElement(_page.ColumnarPage,null,_react.default.createElement(_document_title.DocumentTitle,{title:_i18n.i18n.translate("xpack.infra.homePage.documentTitle",{defaultMessage:"Metrics"})}),_react.default.createElement(_help_center_content.HelpCenterContent,{feedbackLink:"https://discuss.elastic.co/c/metrics",appName:_i18n.i18n.translate("xpack.infra.header.infrastructureHelpAppName",{defaultMessage:"Metrics"})}),_react.default.createElement(_header.Header,{breadcrumbs:[{text:_i18n.i18n.translate("xpack.infra.header.infrastructureTitle",{defaultMessage:"Metrics"})}],readOnlyBadge:!(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra=uiCapabilities.infrastructure)===null||_uiCapabilities$infra===void 0?void 0:_uiCapabilities$infra.save)}),_react.default.createElement(_app_navigation.AppNavigation,{"aria-label":_i18n.i18n.translate("xpack.infra.header.infrastructureNavigationTitle",{defaultMessage:"Metrics"})},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_routed_tabs.RoutedTabs,{tabs:[{app:"metrics",title:_i18n.i18n.translate("xpack.infra.homePage.inventoryTabTitle",{defaultMessage:"Inventory"}),pathname:"/inventory"},{app:"metrics",title:_i18n.i18n.translate("xpack.infra.homePage.metricsExplorerTabTitle",{defaultMessage:"Metrics Explorer"}),pathname:"/explorer"},{app:"metrics",title:_i18n.i18n.translate("xpack.infra.homePage.settingsTabTitle",{defaultMessage:"Settings"}),pathname:"/settings"}]})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_reactRouterDom.Route,{path:"/explorer",component:_alert_dropdown.AlertDropdown})))),_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/inventory",component:_snapshot.SnapshotPage}),_react.default.createElement(_reactRouterDom.Route,{path:"/explorer",render:function render(props){return _react.default.createElement(_with_source.WithSource,null,(function(_ref2){var configuration=_ref2.configuration,createDerivedIndexPattern=_ref2.createDerivedIndexPattern;return _react.default.createElement(_use_metrics_explorer_options.MetricsExplorerOptionsContainer.Provider,null,_react.default.createElement(_with_metrics_explorer_options_url_state.WithMetricsExplorerOptionsUrlState,null),configuration?_react.default.createElement(_metrics_explorer.MetricsExplorerPage,_extends({derivedIndexPattern:createDerivedIndexPattern("metrics"),source:configuration},props)):_react.default.createElement(_source_loading_page.SourceLoadingPage,null))}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"/settings",component:_settings.MetricsSettingsPage}))))};exports.InfrastructurePage=InfrastructurePage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithMetricsExplorerOptionsUrlState=void 0;var _lodash=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(3));var t=_interopRequireWildcard(__webpack_require__(39));var _ThrowReporter=__webpack_require__(1524);var _color_palette=__webpack_require__(760);var _url_state=__webpack_require__(711);var _use_metrics_explorer_options=__webpack_require__(728);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var WithMetricsExplorerOptionsUrlState=function WithMetricsExplorerOptionsUrlState(){var _useContext=(0,_react.useContext)(_use_metrics_explorer_options.MetricsExplorerOptionsContainer.Context),options=_useContext.options,chartOptions=_useContext.chartOptions,setChartOptions=_useContext.setChartOptions,currentTimerange=_useContext.currentTimerange,setRawOptions=_useContext.setOptions,setTimeRange=_useContext.setTimeRange;var setOptions=function setOptions(value){setRawOptions(value)};var urlState=(0,_react.useMemo)((function(){return{options:options,chartOptions:chartOptions,timerange:currentTimerange}}),[options,chartOptions,currentTimerange]);var handleChange=function handleChange(newUrlState){if(newUrlState&&newUrlState.options){setOptions(newUrlState.options)}if(newUrlState&&newUrlState.timerange){setTimeRange(newUrlState.timerange)}if(newUrlState&&newUrlState.chartOptions){setChartOptions(newUrlState.chartOptions)}};return _react.default.createElement(_url_state.UrlStateContainer,{urlState:urlState,urlStateKey:"metricsExplorer",mapToUrlState:mapToUrlState,onChange:handleChange,onInitialize:handleChange,populateWithInitialState:true})};exports.WithMetricsExplorerOptionsUrlState=WithMetricsExplorerOptionsUrlState;function isMetricExplorerOptions(subject){var MetricRequired=t.type({aggregation:t.string});var MetricOptional=t.partial({field:t.string,rate:t.boolean,color:t.keyof(Object.fromEntries((0,_lodash.values)(_color_palette.MetricsExplorerColor).map((function(c){return[c,null]})))),label:t.string});var Metric=t.intersection([MetricRequired,MetricOptional]);var OptionsRequired=t.type({aggregation:t.string,metrics:t.array(Metric)});var OptionsOptional=t.partial({limit:t.number,groupBy:t.string,filterQuery:t.string});var Options=t.intersection([OptionsRequired,OptionsOptional]);var result=Options.decode(subject);try{_ThrowReporter.ThrowReporter.report(result);return true}catch(e){return false}}function isMetricExplorerChartOptions(subject){var ChartOptions=t.type({yAxisMode:t.keyof(Object.fromEntries((0,_lodash.values)(_use_metrics_explorer_options.MetricsExplorerYAxisMode).map((function(v){return[v,null]})))),type:t.keyof(Object.fromEntries((0,_lodash.values)(_use_metrics_explorer_options.MetricsExplorerChartType).map((function(v){return[v,null]})))),stack:t.boolean});var result=ChartOptions.decode(subject);try{_ThrowReporter.ThrowReporter.report(result);return true}catch(e){return false}}function isMetricExplorerTimeOption(subject){var TimeRange=t.type({from:t.string,to:t.string,interval:t.string});var result=TimeRange.decode(subject);try{_ThrowReporter.ThrowReporter.report(result);return true}catch(e){return false}}var mapToUrlState=function mapToUrlState(value){var finalState={};if(value){if(value.options&&isMetricExplorerOptions(value.options)){(0,_lodash.set)(finalState,"options",value.options)}if(value.timerange&&isMetricExplorerTimeOption(value.timerange)){(0,_lodash.set)(finalState,"timerange",value.timerange)}if(value.chartOptions&&isMetricExplorerChartOptions(value.chartOptions)){(0,_lodash.set)(finalState,"chartOptions",value.chartOptions)}return finalState}}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithSource=void 0;var _react=__webpack_require__(3);var _source=__webpack_require__(705);var WithSource=function WithSource(_ref){var children=_ref.children;var _useContext=(0,_react.useContext)(_source.Source.Context),createSourceConfiguration=_useContext.createSourceConfiguration,createDerivedIndexPattern=_useContext.createDerivedIndexPattern,source=_useContext.source,sourceExists=_useContext.sourceExists,sourceId=_useContext.sourceId,metricIndicesExist=_useContext.metricIndicesExist,logIndicesExist=_useContext.logIndicesExist,isLoading=_useContext.isLoading,loadSource=_useContext.loadSource,hasFailedLoadingSource=_useContext.hasFailedLoadingSource,loadSourceFailureMessage=_useContext.loadSourceFailureMessage,updateSourceConfiguration=_useContext.updateSourceConfiguration,version=_useContext.version;return children({create:createSourceConfiguration,configuration:source&&source.configuration,createDerivedIndexPattern:createDerivedIndexPattern,exists:sourceExists,hasFailed:hasFailedLoadingSource,isLoading:isLoading,lastFailureMessage:loadSourceFailureMessage,load:loadSource,logIndicesExist:logIndicesExist,metricIndicesExist:metricIndicesExist,sourceId:sourceId,update:updateSourceConfiguration,version:version})};exports.WithSource=WithSource},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerPage=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _document_title=__webpack_require__(726);var _charts=__webpack_require__(1527);var _toolbar=__webpack_require__(1630);var _empty_states=__webpack_require__(786);var _use_metric_explorer_state=__webpack_require__(1641);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsExplorerPage=function MetricsExplorerPage(_ref){var source=_ref.source,derivedIndexPattern=_ref.derivedIndexPattern;var _useMetricsExplorerSt=(0,_use_metric_explorer_state.useMetricsExplorerState)(source,derivedIndexPattern),loading=_useMetricsExplorerSt.loading,error=_useMetricsExplorerSt.error,data=_useMetricsExplorerSt.data,currentTimerange=_useMetricsExplorerSt.currentTimerange,options=_useMetricsExplorerSt.options,chartOptions=_useMetricsExplorerSt.chartOptions,setChartOptions=_useMetricsExplorerSt.setChartOptions,handleAggregationChange=_useMetricsExplorerSt.handleAggregationChange,handleMetricsChange=_useMetricsExplorerSt.handleMetricsChange,handleFilterQuerySubmit=_useMetricsExplorerSt.handleFilterQuerySubmit,handleGroupByChange=_useMetricsExplorerSt.handleGroupByChange,handleTimeChange=_useMetricsExplorerSt.handleTimeChange,handleRefresh=_useMetricsExplorerSt.handleRefresh,handleLoadMore=_useMetricsExplorerSt.handleLoadMore,defaultViewState=_useMetricsExplorerSt.defaultViewState,onViewStateChange=_useMetricsExplorerSt.onViewStateChange;(0,_public.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer"});(0,_public.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer",delay:15e3});return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_document_title.DocumentTitle,{title:function title(previousTitle){return _i18n.i18n.translate("xpack.infra.infrastructureMetricsExplorerPage.documentTitle",{defaultMessage:"{previousTitle} | Metrics Explorer",values:{previousTitle:previousTitle}})}}),_react.default.createElement(_toolbar.MetricsExplorerToolbar,{derivedIndexPattern:derivedIndexPattern,timeRange:currentTimerange,options:options,chartOptions:chartOptions,onRefresh:handleRefresh,onTimeChange:handleTimeChange,onGroupByChange:handleGroupByChange,onFilterQuerySubmit:handleFilterQuerySubmit,onMetricsChange:handleMetricsChange,onAggregationChange:handleAggregationChange,onChartOptionsChange:setChartOptions,defaultViewState:defaultViewState,onViewStateChange:onViewStateChange}),error?_react.default.createElement(_empty_states.NoData,{titleText:"Whoops!",bodyText:_i18n.i18n.translate("xpack.infra.metricsExplorer.errorMessage",{defaultMessage:'It looks like the request failed with "{message}"',values:{message:error.message}}),onRefetch:handleRefresh,refetchText:"Try Again"}):_react.default.createElement(_charts.MetricsExplorerCharts,{timeRange:currentTimerange,loading:loading,data:data,source:source,options:options,chartOptions:chartOptions,onLoadMore:handleLoadMore,onFilter:handleFilterQuerySubmit,onRefetch:handleRefresh,onTimeChange:handleTimeChange}))};exports.MetricsExplorerPage=MetricsExplorerPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerCharts=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _loading=__webpack_require__(740);var _no_data=__webpack_require__(952);var _chart=__webpack_require__(1528);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsExplorerCharts=function MetricsExplorerCharts(_ref){var loading=_ref.loading,data=_ref.data,onLoadMore=_ref.onLoadMore,options=_ref.options,chartOptions=_ref.chartOptions,onRefetch=_ref.onRefetch,onFilter=_ref.onFilter,source=_ref.source,timeRange=_ref.timeRange,onTimeChange=_ref.onTimeChange;if(loading){return _react2.default.createElement(_loading.InfraLoadingPanel,{height:800,width:"100%",text:_i18n.i18n.translate("xpack.infra.metricsExplorer.loadingCharts",{defaultMessage:"Loading charts"})})}if(!data||data.series.length===0){return _react2.default.createElement(_no_data.NoData,{titleText:_i18n.i18n.translate("xpack.infra.metricsExplorer.noDataTitle",{defaultMessage:"There is no data to display."}),bodyText:_i18n.i18n.translate("xpack.infra.metricsExplorer.noDataBodyText",{defaultMessage:"Try adjusting your time, filters or group by settings."}),refetchText:_i18n.i18n.translate("xpack.infra.metricsExplorer.noDataRefetchText",{defaultMessage:"Check for new data"}),testString:"metrics-explorer-no-data",onRefetch:onRefetch})}return _react2.default.createElement("div",{style:{width:"100%"}},_react2.default.createElement(_eui.EuiFlexGrid,{gutterSize:"s",columns:data.series.length===1?1:3},data.series.map((function(series){return _react2.default.createElement(_eui.EuiFlexItem,{key:series.id,style:{minWidth:0}},_react2.default.createElement(_chart.MetricsExplorerChart,{key:"chart-".concat(series.id),onFilter:onFilter,options:options,chartOptions:chartOptions,title:options.groupBy?series.id:null,height:data.series.length>1?200:400,series:series,source:source,timeRange:timeRange,onTimeChange:onTimeChange}))}))),data.series.length>1?_react2.default.createElement("div",{style:{textAlign:"center",marginBottom:16}},_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metricsExplorer.footerPaginationMessage",defaultMessage:'Displaying {length} of {total} charts grouped by "{groupBy}".',values:{length:data.series.length,total:data.pageInfo.total,groupBy:options.groupBy}}))),data.pageInfo.afterKey?_react2.default.createElement("div",{style:{margin:"16px 0"}},_react2.default.createElement(_eui.EuiButton,{isLoading:loading,size:"s",onClick:function onClick(){return onLoadMore(data.pageInfo.afterKey||null)}},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metricsExplorer.loadMoreChartsButton",defaultMessage:"Load More Charts"}))):null):null)};exports.MetricsExplorerCharts=MetricsExplorerCharts},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerChart=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _charts=__webpack_require__(694);var _lodash=__webpack_require__(1);var _moment=_interopRequireDefault(__webpack_require__(11));var _use_metrics_explorer_options=__webpack_require__(728);var _public=__webpack_require__(64);var _create_formatter_for_metric=__webpack_require__(969);var _series_chart=__webpack_require__(1529);var _chart_context_menu=__webpack_require__(1530);var _empty_chart=__webpack_require__(1627);var _no_metrics=__webpack_require__(1628);var _get_chart_theme=__webpack_require__(984);var _use_kibana_ui_setting=__webpack_require__(713);var _calculate_domain=__webpack_require__(1629);var _public2=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: left;\n  flex: 1 1 auto;\n  margin: 12px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsExplorerChart=function MetricsExplorerChart(_ref){var _useKibana$services$a;var source=_ref.source,options=_ref.options,chartOptions=_ref.chartOptions,series=_ref.series,title=_ref.title,onFilter=_ref.onFilter,_ref$height=_ref.height,height=_ref$height===void 0?200:_ref$height,_ref$width=_ref.width,width=_ref$width===void 0?"100%":_ref$width,timeRange=_ref.timeRange,onTimeChange=_ref.onTimeChange;var uiCapabilities=(_useKibana$services$a=(0,_public2.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;var isDarkMode=(0,_public2.useUiSetting)("theme:darkMode");var metrics=options.metrics;var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("dateFormat"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),dateFormat=_useKibanaUiSetting2[0];var handleTimeChange=function handleTimeChange(from,to){onTimeChange((0,_moment.default)(from).toISOString(),(0,_moment.default)(to).toISOString())};var dateFormatter=(0,_react.useMemo)((function(){return series.rows.length>0?(0,_charts.niceTimeFormatter)([(0,_lodash.first)(series.rows).timestamp,(0,_lodash.last)(series.rows).timestamp]):function(value){return"".concat(value)}}),[series.rows]);var tooltipProps={headerFormatter:(0,_react.useCallback)((function(data){return(0,_moment.default)(data.value).format(dateFormat||"Y-MM-DD HH:mm:ss.SSS")}),[dateFormat])};var yAxisFormater=(0,_react.useCallback)((0,_create_formatter_for_metric.createFormatterForMetric)((0,_lodash.first)(metrics)),[options]);var dataDomain=(0,_calculate_domain.calculateDomain)(series,metrics,chartOptions.stack);var domain=chartOptions.yAxisMode===_use_metrics_explorer_options.MetricsExplorerYAxisMode.fromZero?_objectSpread({},dataDomain,{min:0}):dataDomain;return _react.default.createElement("div",{style:{padding:24}},options.groupBy?_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(ChartTitle,null,_react.default.createElement(_eui.EuiToolTip,{content:title,anchorClassName:"metricsExplorerTitleAnchor"},_react.default.createElement("span",null,title))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_chart_context_menu.MetricsExplorerChartContextMenu,{timeRange:timeRange,options:options,chartOptions:chartOptions,series:series,onFilter:onFilter,source:source,uiCapabilities:uiCapabilities})))):_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_chart_context_menu.MetricsExplorerChartContextMenu,{options:options,chartOptions:chartOptions,series:series,source:source,timeRange:timeRange,uiCapabilities:uiCapabilities}))),_react.default.createElement("div",{className:"infrastructureChart",style:{height:height,width:width}},metrics.length&&series.rows.length>0?_react.default.createElement(_charts.Chart,null,metrics.map((function(metric,id){return _react.default.createElement(_series_chart.MetricExplorerSeriesChart,{type:chartOptions.type,key:id,metric:metric,id:id,series:series,stack:chartOptions.stack})})),_react.default.createElement(_charts.Axis,{id:"timestamp",position:_charts.Position.Bottom,showOverlappingTicks:true,tickFormat:dateFormatter}),_react.default.createElement(_charts.Axis,{id:"values",position:_charts.Position.Left,tickFormat:yAxisFormater,domain:domain}),_react.default.createElement(_charts.Settings,{tooltip:tooltipProps,onBrushEnd:handleTimeChange,theme:(0,_get_chart_theme.getChartTheme)(isDarkMode)})):options.metrics.length>0?_react.default.createElement(_empty_chart.MetricsExplorerEmptyChart,null):_react.default.createElement(_no_metrics.MetricsExplorerNoMetrics,null)))};exports.MetricsExplorerChart=MetricsExplorerChart;var ChartTitle=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerBarChart=exports.MetricsExplorerAreaChart=exports.MetricExplorerSeriesChart=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _charts=__webpack_require__(694);var _color_palette=__webpack_require__(760);var _create_metric_label=__webpack_require__(971);var _use_metrics_explorer_options=__webpack_require__(728);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricExplorerSeriesChart=function MetricExplorerSeriesChart(props){if(_use_metrics_explorer_options.MetricsExplorerChartType.bar===props.type){return _react.default.createElement(MetricsExplorerBarChart,props)}return _react.default.createElement(MetricsExplorerAreaChart,props)};exports.MetricExplorerSeriesChart=MetricExplorerSeriesChart;var MetricsExplorerAreaChart=function MetricsExplorerAreaChart(_ref){var metric=_ref.metric,id=_ref.id,series=_ref.series,type=_ref.type,stack=_ref.stack;var color=metric.color&&(0,_color_palette.colorTransformer)(metric.color)||(0,_color_palette.colorTransformer)(_color_palette.MetricsExplorerColor.color0);var yAccessor="metric_".concat(id);var chartId="series-".concat(series.id,"-").concat(yAccessor);var seriesAreaStyle={line:{strokeWidth:2,visible:true},area:{opacity:.5,visible:type===_use_metrics_explorer_options.MetricsExplorerChartType.area}};return _react.default.createElement(_charts.AreaSeries,{id:yAccessor,key:chartId,name:(0,_create_metric_label.createMetricLabel)(metric),xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,xAccessor:"timestamp",yAccessors:[yAccessor],data:series.rows,stackAccessors:stack?["timestamp"]:void 0,areaSeriesStyle:seriesAreaStyle,color:color})};exports.MetricsExplorerAreaChart=MetricsExplorerAreaChart;var MetricsExplorerBarChart=function MetricsExplorerBarChart(_ref2){var metric=_ref2.metric,id=_ref2.id,series=_ref2.series,stack=_ref2.stack;var color=metric.color&&(0,_color_palette.colorTransformer)(metric.color)||(0,_color_palette.colorTransformer)(_color_palette.MetricsExplorerColor.color0);var yAccessor="metric_".concat(id);var chartId="series-".concat(series.id,"-").concat(yAccessor);var seriesBarStyle={rectBorder:{stroke:color,strokeWidth:1,visible:true},rect:{opacity:1}};return _react.default.createElement(_charts.BarSeries,{id:yAccessor,key:chartId,name:(0,_create_metric_label.createMetricLabel)(metric),xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,xAccessor:"timestamp",yAccessors:[yAccessor],data:series.rows,stackAccessors:stack?["timestamp"]:void 0,barSeriesStyle:seriesBarStyle,color:color})};exports.MetricsExplorerBarChart=MetricsExplorerBarChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerChartContextMenu=exports.createNodeDetailLink=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _eui=__webpack_require__(4);var _datemath=_interopRequireDefault(__webpack_require__(24));var _create_tsvb_link=__webpack_require__(1531);var _redirect_to_node_detail=__webpack_require__(836);var _alert_flyout=__webpack_require__(850);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var fieldToNodeType=function fieldToNodeType(source,field){if(source.fields.host===field){return"host"}if(source.fields.pod===field){return"pod"}if(source.fields.container===field){return"container"}};var dateMathExpressionToEpoch=function dateMathExpressionToEpoch(dateMathExpression){var roundUp=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var dateObj=_datemath.default.parse(dateMathExpression,{roundUp:roundUp});if(!dateObj)throw new Error('"'.concat(dateMathExpression,'" is not a valid time string'));return dateObj.valueOf()};var createNodeDetailLink=function createNodeDetailLink(nodeType,nodeId,from,to){return(0,_redirect_to_node_detail.getNodeDetailUrl)({nodeType:nodeType,nodeId:nodeId,from:dateMathExpressionToEpoch(from),to:dateMathExpressionToEpoch(to,true)})};exports.createNodeDetailLink=createNodeDetailLink;var MetricsExplorerChartContextMenu=function MetricsExplorerChartContextMenu(_ref){var _uiCapabilities$visua;var onFilter=_ref.onFilter,options=_ref.options,series=_ref.series,source=_ref.source,timeRange=_ref.timeRange,uiCapabilities=_ref.uiCapabilities,chartOptions=_ref.chartOptions;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setPopoverState=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),flyoutVisible=_useState4[0],setFlyoutVisible=_useState4[1];var supportFiltering=options.groupBy!=null&&onFilter!=null;var handleFilter=(0,_react.useCallback)((function(){if(supportFiltering&&onFilter){onFilter("".concat(options.groupBy,': "').concat(series.id,'"'))}setPopoverState(false)}),[supportFiltering,options.groupBy,series.id,onFilter]);var filterByItem=supportFiltering?[{name:_i18n.i18n.translate("xpack.infra.metricsExplorer.filterByLabel",{defaultMessage:"Add filter"}),icon:"metricsApp",onClick:handleFilter,"data-test-subj":"metricsExplorerAction-AddFilter"}]:[];var nodeType=source&&options.groupBy&&fieldToNodeType(source,options.groupBy);var nodeDetailLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({app:"metrics"},nodeType?createNodeDetailLink(nodeType,series.id,timeRange.from,timeRange.to):{}));var tsvbLinkProps=(0,_use_link_props.useLinkProps)(_objectSpread({},(0,_create_tsvb_link.createTSVBLink)(source,options,series,timeRange,chartOptions)));var viewNodeDetail=nodeType?[_objectSpread({name:_i18n.i18n.translate("xpack.infra.metricsExplorer.viewNodeDetail",{defaultMessage:"View metrics for {name}",values:{name:nodeType}}),icon:"metricsApp"},nodeType?nodeDetailLinkProps:{},{"data-test-subj":"metricsExplorerAction-ViewNodeMetrics"})]:[];var openInVisualize=(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$visua=uiCapabilities.visualize)===null||_uiCapabilities$visua===void 0?void 0:_uiCapabilities$visua.show)?[_objectSpread({name:_i18n.i18n.translate("xpack.infra.metricsExplorer.openInTSVB",{defaultMessage:"Open in Visualize"})},tsvbLinkProps,{icon:"visualizeApp",disabled:options.metrics.length===0,"data-test-subj":"metricsExplorerAction-OpenInTSVB"})]:[];var itemPanels=[].concat(filterByItem,openInVisualize,viewNodeDetail,[{name:_i18n.i18n.translate("xpack.infra.metricsExplorer.alerts.createAlertButton",{defaultMessage:"Create alert"}),icon:"bell",onClick:function onClick(){setFlyoutVisible(true)}}]);if(itemPanels.length===0)return null;var panels=[{id:0,title:"Actions",items:itemPanels}];var handleClose=function handleClose(){return setPopoverState(false)};var handleOpen=function handleOpen(){return setPopoverState(true)};var actionAriaLabel=_i18n.i18n.translate("xpack.infra.metricsExplorer.actionsLabel.aria",{defaultMessage:"Actions for {grouping}",values:{grouping:series.id}});var actionLabel=_i18n.i18n.translate("xpack.infra.metricsExplorer.actionsLabel.button",{defaultMessage:"Actions"});var button=_react.default.createElement(_eui.EuiButtonEmpty,{contentProps:{"aria-label":actionAriaLabel},onClick:handleOpen,size:"s",iconType:"arrowDown",iconSide:"right"},actionLabel);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPopover,{closePopover:handleClose,id:"".concat(series.id,"-popover"),button:button,isOpen:isPopoverOpen,panelPaddingSize:"none"},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels}),_react.default.createElement(_alert_flyout.AlertFlyout,{series:series,options:options,setVisible:setFlyoutVisible,visible:flyoutVisible})))};exports.MetricsExplorerChartContextMenu=MetricsExplorerChartContextMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createTSVBLink=exports.createFilterFromOptions=exports.metricsExplorerMetricToTSVBMetric=void 0;var _risonNode=__webpack_require__(770);var _uuid=_interopRequireDefault(__webpack_require__(783));var _lodash=__webpack_require__(1);var _color_palette=__webpack_require__(760);var _use_metrics_explorer_options=__webpack_require__(728);var _metric_to_format=__webpack_require__(970);var _lib=__webpack_require__(66);var _create_metric_label=__webpack_require__(971);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var metricsExplorerMetricToTSVBMetric=function metricsExplorerMetricToTSVBMetric(metric){if(metric.aggregation==="rate"){var metricId=_uuid.default.v1();var positiveOnlyId=_uuid.default.v1();var derivativeId=_uuid.default.v1();return[{id:metricId,type:"max",field:metric.field||void 0},{id:derivativeId,type:"derivative",field:metricId,unit:"1s"},{id:positiveOnlyId,type:"positive_only",field:derivativeId}]}else{return[{id:_uuid.default.v1(),type:metric.aggregation,field:metric.field||void 0}]}};exports.metricsExplorerMetricToTSVBMetric=metricsExplorerMetricToTSVBMetric;var mapMetricToSeries=function mapMetricToSeries(chartOptions){return function(metric){var format=(0,_metric_to_format.metricToFormat)(metric);return{label:(0,_create_metric_label.createMetricLabel)(metric),axis_position:"right",chart_type:"line",color:metric.color&&(0,_color_palette.colorTransformer)(metric.color)||(0,_color_palette.colorTransformer)(_color_palette.MetricsExplorerColor.color0),fill:chartOptions.type===_use_metrics_explorer_options.MetricsExplorerChartType.area?.5:0,formatter:format===_lib.InfraFormatterType.bits?_lib.InfraFormatterType.bytes:format,value_template:"rate"===metric.aggregation?"{{value}}/s":"{{value}}",id:_uuid.default.v1(),line_width:2,metrics:metricsExplorerMetricToTSVBMetric(metric),point_size:0,separate_axis:0,split_mode:"everything",stacked:chartOptions.stack?"stacked":"none"}}};var createFilterFromOptions=function createFilterFromOptions(options,series){var filters=[];if(options.filterQuery){filters.push(options.filterQuery)}if(options.groupBy){var id=series.id.replace('"','\\"');filters.push("".concat(options.groupBy,' : "').concat(id,'"'))}return{language:"kuery",query:filters.join(" and ")}};exports.createFilterFromOptions=createFilterFromOptions;var createTSVBLink=function createTSVBLink(source,options,series,timeRange,chartOptions){var appState={filters:[],linked:false,query:{language:"kuery",query:""},uiState:{},vis:{aggs:[],params:{axis_formatter:"number",axis_position:"left",axis_scale:"normal",id:_uuid.default.v1(),default_index_pattern:source&&source.metricAlias||"metricbeat-*",index_pattern:source&&source.metricAlias||"metricbeat-*",interval:"auto",series:options.metrics.map(mapMetricToSeries(chartOptions)),show_grid:1,show_legend:1,time_field:source&&source.fields.timestamp||"@timestamp",type:"timeseries",filter:createFilterFromOptions(options,series)},title:series.id,type:"metrics"}};if(chartOptions.yAxisMode===_use_metrics_explorer_options.MetricsExplorerYAxisMode.fromZero){(0,_lodash.set)(appState,"vis.params.axis_min",0)}var globalState={refreshInterval:{pause:true,value:0},time:{from:timeRange.from,to:timeRange.to}};return{app:"kibana",hash:"/visualize/create",search:{type:"metrics",_g:(0,_risonNode.encode)(globalState),_a:(0,_risonNode.encode)(appState)}}};exports.createTSVBLink=createTSVBLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={plugin:true,Plugin:true,AlertsContextProvider:true,ActionsConnectorsContextProvider:true,AlertAdd:true,ActionForm:true,ConnectorAddFlyout:true,ConnectorEditFlyout:true,AlertAction:true,Alert:true,AlertTypeModel:true,ActionType:true,TIME_UNITS:true,getTimeUnitLabel:true,ForLastExpression:true};exports.plugin=plugin;Object.defineProperty(exports,"Plugin",{enumerable:true,get:function get(){return _plugin.Plugin}});Object.defineProperty(exports,"AlertsContextProvider",{enumerable:true,get:function get(){return _alerts_context.AlertsContextProvider}});Object.defineProperty(exports,"ActionsConnectorsContextProvider",{enumerable:true,get:function get(){return _actions_connectors_context.ActionsConnectorsContextProvider}});Object.defineProperty(exports,"AlertAdd",{enumerable:true,get:function get(){return _alert_form.AlertAdd}});Object.defineProperty(exports,"ActionForm",{enumerable:true,get:function get(){return _action_connector_form.ActionForm}});Object.defineProperty(exports,"ConnectorAddFlyout",{enumerable:true,get:function get(){return _action_connector_form.ConnectorAddFlyout}});Object.defineProperty(exports,"ConnectorEditFlyout",{enumerable:true,get:function get(){return _action_connector_form.ConnectorEditFlyout}});Object.defineProperty(exports,"AlertAction",{enumerable:true,get:function get(){return _types.AlertAction}});Object.defineProperty(exports,"Alert",{enumerable:true,get:function get(){return _types.Alert}});Object.defineProperty(exports,"AlertTypeModel",{enumerable:true,get:function get(){return _types.AlertTypeModel}});Object.defineProperty(exports,"ActionType",{enumerable:true,get:function get(){return _types.ActionType}});Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _constants.TIME_UNITS}});Object.defineProperty(exports,"getTimeUnitLabel",{enumerable:true,get:function get(){return _get_time_unit_label.getTimeUnitLabel}});Object.defineProperty(exports,"ForLastExpression",{enumerable:true,get:function get(){return _for_the_last.ForLastExpression}});var _plugin=__webpack_require__(1533);Object.keys(_plugin).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _plugin[key]}})}));var _alerts_context=__webpack_require__(762);var _actions_connectors_context=__webpack_require__(761);var _alert_form=__webpack_require__(981);var _action_connector_form=__webpack_require__(977);var _types=__webpack_require__(1626);var _constants=__webpack_require__(94);var _get_time_unit_label=__webpack_require__(98);var _for_the_last=__webpack_require__(238);function plugin(ctx){return new _plugin.Plugin(ctx)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Plugin=void 0;var _i18n=__webpack_require__(0);var _builtin_action_types=__webpack_require__(1534);var _builtin_alert_types=__webpack_require__(1556);var _capabilities=__webpack_require__(714);var _type_registry=__webpack_require__(1566);var _boot=__webpack_require__(1567);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Plugin=function(){function Plugin(initializerContext){_classCallCheck(this,Plugin);_defineProperty(this,"actionTypeRegistry",void 0);_defineProperty(this,"alertTypeRegistry",void 0);var actionTypeRegistry=new _type_registry.TypeRegistry;this.actionTypeRegistry=actionTypeRegistry;var alertTypeRegistry=new _type_registry.TypeRegistry;this.alertTypeRegistry=alertTypeRegistry}_createClass(Plugin,[{key:"setup",value:function setup(){(0,_builtin_action_types.registerBuiltInActionTypes)({actionTypeRegistry:this.actionTypeRegistry});(0,_builtin_alert_types.registerBuiltInAlertTypes)({alertTypeRegistry:this.alertTypeRegistry});return{actionTypeRegistry:this.actionTypeRegistry,alertTypeRegistry:this.alertTypeRegistry}}},{key:"start",value:function start(core,plugins){var _this=this;var capabilities=core.application.capabilities;var canShowActions=(0,_capabilities.hasShowActionsCapability)(capabilities);var canShowAlerts=(0,_capabilities.hasShowAlertsCapability)(capabilities);if(canShowActions||canShowAlerts){plugins.management.sections.getSection("kibana").registerApp({id:"triggersActions",title:_i18n.i18n.translate("xpack.triggersActionsUI.managementSection.displayName",{defaultMessage:"Alerts and Actions"}),order:7,mount:function mount(params){(0,_boot.boot)({dataPlugin:plugins.data,charts:plugins.charts,alerting:plugins.alerting,element:params.element,toastNotifications:core.notifications.toasts,http:core.http,uiSettings:core.uiSettings,docLinks:core.docLinks,chrome:core.chrome,savedObjects:core.savedObjects.client,I18nContext:core.i18n.Context,capabilities:core.application.capabilities,navigateToApp:core.application.navigateToApp,setBreadcrumbs:params.setBreadcrumbs,actionTypeRegistry:_this.actionTypeRegistry,alertTypeRegistry:_this.alertTypeRegistry});return function(){}}})}return{actionTypeRegistry:this.actionTypeRegistry,alertTypeRegistry:this.alertTypeRegistry}}},{key:"stop",value:function stop(){}}]);return Plugin}();exports.Plugin=Plugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerBuiltInActionTypes=registerBuiltInActionTypes;var _server_log=__webpack_require__(1535);var _slack=__webpack_require__(1541);var _email=__webpack_require__(1542);var _es_index=__webpack_require__(1543);var _pagerduty=__webpack_require__(1553);var _webhook=__webpack_require__(1555);function registerBuiltInActionTypes(_ref){var actionTypeRegistry=_ref.actionTypeRegistry;actionTypeRegistry.register((0,_server_log.getActionType)());actionTypeRegistry.register((0,_slack.getActionType)());actionTypeRegistry.register((0,_email.getActionType)());actionTypeRegistry.register((0,_es_index.getActionType)());actionTypeRegistry.register((0,_pagerduty.getActionType)());actionTypeRegistry.register((0,_webhook.getActionType)())}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;exports.ServerLogParamsFields=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _eui=__webpack_require__(4);var _add_message_variables=__webpack_require__(742);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getActionType(){return{id:".server-log",iconClass:"logsApp",selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.serverLogAction.selectMessageText",{defaultMessage:"Add a message to a Kibana log."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.serverLogAction.actionTypeTitle",{defaultMessage:"Send to Server log"}),validateConnector:function validateConnector(){return{errors:{}}},validateParams:function validateParams(actionParams){var _actionParams$message;var validationResult={errors:{}};var errors={message:new Array};validationResult.errors=errors;if(!((_actionParams$message=actionParams.message)===null||_actionParams$message===void 0?void 0:_actionParams$message.length)){errors.message.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredServerLogMessageText",{defaultMessage:"Message is required."}))}return validationResult},actionConnectorFields:null,actionParamsFields:ServerLogParamsFields}}var ServerLogParamsFields=function ServerLogParamsFields(_ref){var actionParams=_ref.actionParams,editAction=_ref.editAction,index=_ref.index,errors=_ref.errors,messageVariables=_ref.messageVariables,defaultMessage=_ref.defaultMessage;var message=actionParams.message,level=actionParams.level;var levelOptions=[{value:"trace",text:"Trace"},{value:"debug",text:"Debug"},{value:"info",text:"Info"},{value:"warn",text:"Warning"},{value:"error",text:"Error"},{value:"fatal",text:"Fatal"}];(0,_react.useEffect)((function(){editAction("level","info",index);if(!message&&defaultMessage&&defaultMessage.length>0){editAction("message",defaultMessage,index)}}),[]);var onSelectMessageVariable=function onSelectMessageVariable(paramsProperty,variable){editAction(paramsProperty,(message!==null&&message!==void 0?message:"").concat(" {{".concat(variable,"}}")),index)};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"loggingLevel",fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.serverLogAction.logLevelFieldLabel",{defaultMessage:"Level"})},_react.default.createElement(_eui.EuiSelect,{fullWidth:true,id:"loggLevelSelect","data-test-subj":"loggingLevelSelect",options:levelOptions,value:level,defaultValue:"info",onChange:function onChange(e){editAction("level",e.target.value,index)}})),_react.default.createElement(_eui.EuiFormRow,{id:"loggingMessage",fullWidth:true,error:errors.message,isInvalid:errors.message.length>0&&message!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.serverLogAction.logMessageFieldLabel",{defaultMessage:"Message"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("message",variable)},paramsProperty:"message"})},_react.default.createElement(_eui.EuiTextArea,{fullWidth:true,isInvalid:errors.message.length>0&&message!==undefined,value:message||"",name:"message","data-test-subj":"loggingMessageInput",onChange:function onChange(e){editAction("message",e.target.value,index)},onBlur:function onBlur(){if(!message){editAction("message","",index)}}})))};exports.ServerLogParamsFields=ServerLogParamsFields},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1537)}else{__webpack_require__(1539)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1538);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  height: 100%;\n  overflow-y: auto;\n  max-height: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1540);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  height: 100%;\n  overflow-y: auto;\n  max-height: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _add_message_variables=__webpack_require__(742);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getActionType(){return{id:".slack",iconClass:"logoSlack",selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.slackAction.selectMessageText",{defaultMessage:"Send a message to a Slack channel or user."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.slackAction.actionTypeTitle",{defaultMessage:"Send to Slack"}),validateConnector:function validateConnector(action){var validationResult={errors:{}};var errors={webhookUrl:new Array};validationResult.errors=errors;if(!action.secrets.webhookUrl){errors.webhookUrl.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.slackAction.error.requiredWebhookUrlText",{defaultMessage:"Webhook URL is required."}))}return validationResult},validateParams:function validateParams(actionParams){var _actionParams$message;var validationResult={errors:{}};var errors={message:new Array};validationResult.errors=errors;if(!((_actionParams$message=actionParams.message)===null||_actionParams$message===void 0?void 0:_actionParams$message.length)){errors.message.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredSlackMessageText",{defaultMessage:"Message is required."}))}return validationResult},actionConnectorFields:SlackActionFields,actionParamsFields:SlackParamsFields}}var SlackActionFields=function SlackActionFields(_ref){var action=_ref.action,editActionSecrets=_ref.editActionSecrets,errors=_ref.errors;var webhookUrl=action.secrets.webhookUrl;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"webhookUrl",fullWidth:true,helpText:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/actions-slack.html#configuring-slack",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.slackAction.webhookUrlHelpLabel",defaultMessage:"Create a Slack webhook URL"})),error:errors.webhookUrl,isInvalid:errors.webhookUrl.length>0&&webhookUrl!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.slackAction.webhookUrlTextFieldLabel",{defaultMessage:"Webhook URL"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.webhookUrl.length>0&&webhookUrl!==undefined,name:"webhookUrl",placeholder:"Example: https://hooks.slack.com/services",value:webhookUrl||"","data-test-subj":"slackWebhookUrlInput",onChange:function onChange(e){editActionSecrets("webhookUrl",e.target.value)},onBlur:function onBlur(){if(!webhookUrl){editActionSecrets("webhookUrl","")}}})))};var SlackParamsFields=function SlackParamsFields(_ref2){var actionParams=_ref2.actionParams,editAction=_ref2.editAction,index=_ref2.index,errors=_ref2.errors,messageVariables=_ref2.messageVariables,defaultMessage=_ref2.defaultMessage;var message=actionParams.message;(0,_react.useEffect)((function(){if(!message&&defaultMessage&&defaultMessage.length>0){editAction("message",defaultMessage,index)}}),[]);var onSelectMessageVariable=function onSelectMessageVariable(paramsProperty,variable){editAction(paramsProperty,(message!==null&&message!==void 0?message:"").concat(" {{".concat(variable,"}}")),index)};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"slackMessage",fullWidth:true,error:errors.message,isInvalid:errors.message.length>0&&message!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.slackAction.messageTextAreaFieldLabel",{defaultMessage:"Message"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("message",variable)},paramsProperty:"message"})},_react.default.createElement(_eui.EuiTextArea,{fullWidth:true,isInvalid:errors.message.length>0&&message!==undefined,name:"message",value:message||"","data-test-subj":"slackMessageTextArea",onChange:function onChange(e){editAction("message",e.target.value,index)},onBlur:function onBlur(){if(!message){editAction("message","",index)}}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _add_message_variables=__webpack_require__(742);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function getActionType(){var mailformat=/^[^@\s]+@[^@\s]+$/;return{id:".email",iconClass:"email",selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.emailAction.selectMessageText",{defaultMessage:"Send email from your server."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.emailAction.actionTypeTitle",{defaultMessage:"Send to email"}),validateConnector:function validateConnector(action){var validationResult={errors:{}};var errors={from:new Array,port:new Array,host:new Array,user:new Array,password:new Array};validationResult.errors=errors;if(!action.config.from){errors.from.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredFromText",{defaultMessage:"Sender is required."}))}if(action.config.from&&!action.config.from.trim().match(mailformat)){errors.from.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.formatFromText",{defaultMessage:"Sender is not a valid email address."}))}if(!action.config.port){errors.port.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredPortText",{defaultMessage:"Port is required."}))}if(!action.config.host){errors.host.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredHostText",{defaultMessage:"Host is required."}))}if(action.secrets.user&&!action.secrets.password){errors.password.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredPasswordText",{defaultMessage:"Password is required when username is used."}))}if(!action.secrets.user&&action.secrets.password){errors.user.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredUserText",{defaultMessage:"Username is required when password is used."}))}return validationResult},validateParams:function validateParams(actionParams){var _actionParams$message,_actionParams$subject;var validationResult={errors:{}};var errors={to:new Array,cc:new Array,bcc:new Array,message:new Array,subject:new Array};validationResult.errors=errors;if((!(actionParams.to instanceof Array)||actionParams.to.length===0)&&(!(actionParams.cc instanceof Array)||actionParams.cc.length===0)&&(!(actionParams.bcc instanceof Array)||actionParams.bcc.length===0)){var errorText=_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredEntryText",{defaultMessage:"No To, Cc, or Bcc entry.  At least one entry is required."});errors.to.push(errorText);errors.cc.push(errorText);errors.bcc.push(errorText)}if(!((_actionParams$message=actionParams.message)===null||_actionParams$message===void 0?void 0:_actionParams$message.length)){errors.message.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredMessageText",{defaultMessage:"Message is required."}))}if(!((_actionParams$subject=actionParams.subject)===null||_actionParams$subject===void 0?void 0:_actionParams$subject.length)){errors.subject.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredSubjectText",{defaultMessage:"Subject is required."}))}return validationResult},actionConnectorFields:EmailActionConnectorFields,actionParamsFields:EmailParamsFields}}var EmailActionConnectorFields=function EmailActionConnectorFields(_ref){var action=_ref.action,editActionConfig=_ref.editActionConfig,editActionSecrets=_ref.editActionSecrets,errors=_ref.errors;var _action$config=action.config,from=_action$config.from,host=_action$config.host,port=_action$config.port,secure=_action$config.secure;var _action$secrets=action.secrets,user=_action$secrets.user,password=_action$secrets.password;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"from",fullWidth:true,error:errors.from,isInvalid:errors.from.length>0&&from!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.fromTextFieldLabel",{defaultMessage:"Sender"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.from.length>0&&from!==undefined,name:"from",value:from||"","data-test-subj":"emailFromInput",onChange:function onChange(e){editActionConfig("from",e.target.value)},onBlur:function onBlur(){if(!from){editActionConfig("from","")}}})))),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"emailHost",fullWidth:true,error:errors.host,isInvalid:errors.host.length>0&&host!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.hostTextFieldLabel",{defaultMessage:"Host"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.host.length>0&&host!==undefined,name:"host",value:host||"","data-test-subj":"emailHostInput",onChange:function onChange(e){editActionConfig("host",e.target.value)},onBlur:function onBlur(){if(!host){editActionConfig("host","")}}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"emailPort",fullWidth:true,placeholder:"587",error:errors.port,isInvalid:errors.port.length>0&&port!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.portTextFieldLabel",{defaultMessage:"Port"})},_react.default.createElement(_eui.EuiFieldNumber,{prepend:":",isInvalid:errors.port.length>0&&port!==undefined,fullWidth:true,name:"port",value:port||"","data-test-subj":"emailPortInput",onChange:function onChange(e){editActionConfig("port",parseInt(e.target.value,10))},onBlur:function onBlur(){if(!port){editActionConfig("port",0)}}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true},_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.secureSwitchLabel",{defaultMessage:"Secure"}),checked:secure||false,onChange:function onChange(e){editActionConfig("secure",e.target.checked)}}))))))),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"emailUser",fullWidth:true,error:errors.user,isInvalid:errors.user.length>0,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.userTextFieldLabel",{defaultMessage:"Username"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.user.length>0,name:"user",value:user||"","data-test-subj":"emailUserInput",onChange:function onChange(e){editActionSecrets("user",nullableString(e.target.value))}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"emailPassword",fullWidth:true,error:errors.password,isInvalid:errors.password.length>0,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.passwordFieldLabel",{defaultMessage:"Password"})},_react.default.createElement(_eui.EuiFieldPassword,{fullWidth:true,isInvalid:errors.password.length>0,name:"password",value:password||"","data-test-subj":"emailPasswordInput",onChange:function onChange(e){editActionSecrets("password",nullableString(e.target.value))}})))))};var EmailParamsFields=function EmailParamsFields(_ref2){var actionParams=_ref2.actionParams,editAction=_ref2.editAction,index=_ref2.index,errors=_ref2.errors,messageVariables=_ref2.messageVariables,defaultMessage=_ref2.defaultMessage;var to=actionParams.to,cc=actionParams.cc,bcc=actionParams.bcc,subject=actionParams.subject,message=actionParams.message;var toOptions=to?to.map((function(label){return{label:label}})):[];var ccOptions=cc?cc.map((function(label){return{label:label}})):[];var bccOptions=bcc?bcc.map((function(label){return{label:label}})):[];var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),addCC=_useState2[0],setAddCC=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),addBCC=_useState4[0],setAddBCC=_useState4[1];(0,_react.useEffect)((function(){if(!message&&defaultMessage&&defaultMessage.length>0){editAction("message",defaultMessage,index)}}),[]);var onSelectMessageVariable=function onSelectMessageVariable(paramsProperty,variable){var _paramsProperty;editAction(paramsProperty,((_paramsProperty=actionParams[paramsProperty])!==null&&_paramsProperty!==void 0?_paramsProperty:"").concat(" {{".concat(variable,"}}")),index)};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,error:errors.to,isInvalid:errors.to.length>0&&to!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientTextFieldLabel",{defaultMessage:"To"}),labelAppend:_react.default.createElement(_react.Fragment,null,_react.default.createElement("span",null,!addCC?_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:function onClick(){return setAddCC(true)}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Add Cc",id:"xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.addCcButton"})):null,!addBCC?_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:function onClick(){return setAddBCC(true)}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{titleBcc}",id:"xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.addBccButton",values:{titleBcc:!addCC?"/ Bcc":"Add Bcc"}})):null))},_react.default.createElement(_eui.EuiComboBox,{noSuggestions:true,isInvalid:errors.to.length>0&&to!==undefined,fullWidth:true,"data-test-subj":"toEmailAddressInput",selectedOptions:toOptions,onCreateOption:function onCreateOption(searchValue){var newOptions=[].concat(_toConsumableArray(toOptions),[{label:searchValue}]);editAction("to",newOptions.map((function(newOption){return newOption.label})),index)},onChange:function onChange(selectedOptions){editAction("to",selectedOptions.map((function(selectedOption){return selectedOption.label})),index)},onBlur:function onBlur(){if(!to){editAction("to",[],index)}}})),addCC?_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,error:errors.cc,isInvalid:errors.cc.length>0&&cc!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientCopyTextFieldLabel",{defaultMessage:"Cc"})},_react.default.createElement(_eui.EuiComboBox,{noSuggestions:true,isInvalid:errors.cc.length>0&&cc!==undefined,fullWidth:true,"data-test-subj":"ccEmailAddressInput",selectedOptions:ccOptions,onCreateOption:function onCreateOption(searchValue){var newOptions=[].concat(_toConsumableArray(ccOptions),[{label:searchValue}]);editAction("cc",newOptions.map((function(newOption){return newOption.label})),index)},onChange:function onChange(selectedOptions){editAction("cc",selectedOptions.map((function(selectedOption){return selectedOption.label})),index)},onBlur:function onBlur(){if(!cc){editAction("cc",[],index)}}})):null,addBCC?_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,error:errors.bcc,isInvalid:errors.bcc.length>0&&bcc!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientBccTextFieldLabel",{defaultMessage:"Bcc"})},_react.default.createElement(_eui.EuiComboBox,{noSuggestions:true,isInvalid:errors.bcc.length>0&&bcc!==undefined,fullWidth:true,"data-test-subj":"bccEmailAddressInput",selectedOptions:bccOptions,onCreateOption:function onCreateOption(searchValue){var newOptions=[].concat(_toConsumableArray(bccOptions),[{label:searchValue}]);editAction("bcc",newOptions.map((function(newOption){return newOption.label})),index)},onChange:function onChange(selectedOptions){editAction("bcc",selectedOptions.map((function(selectedOption){return selectedOption.label})),index)},onBlur:function onBlur(){if(!bcc){editAction("bcc",[],index)}}})):null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,error:errors.subject,isInvalid:errors.subject.length>0&&subject!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.subjectTextFieldLabel",{defaultMessage:"Subject"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("subject",variable)},paramsProperty:"subject"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.subject.length>0&&subject!==undefined,name:"subject","data-test-subj":"emailSubjectInput",value:subject||"",onChange:function onChange(e){editAction("subject",e.target.value,index)},onBlur:function onBlur(){if(!subject){editAction("subject","",index)}}})),_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,error:errors.message,isInvalid:errors.message.length>0&&message!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.messageTextAreaFieldLabel",{defaultMessage:"Message"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("message",variable)},paramsProperty:"message"})},_react.default.createElement(_eui.EuiTextArea,{fullWidth:true,isInvalid:errors.message.length>0&&message!==undefined,value:message||"",name:"message","data-test-subj":"emailMessageInput",onChange:function onChange(e){editAction("message",e.target.value,index)},onBlur:function onBlur(){if(!message){editAction("message","",index)}}})))};function nullableString(str){if(str==null||str.trim()==="")return null;return str}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);var _get_time_options=__webpack_require__(224);var _index_controls=__webpack_require__(972);var _use_x_json_mode=__webpack_require__(1544);var _add_message_variables=__webpack_require__(742);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function getActionType(){return{id:".index",iconClass:"indexOpen",selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.selectMessageText",{defaultMessage:"Index data into Elasticsearch."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.actionTypeTitle",{defaultMessage:"Index data"}),validateConnector:function validateConnector(action){var validationResult={errors:{}};var errors={index:new Array};validationResult.errors=errors;if(!action.config.index){errors.index.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.error.requiredIndexText",{defaultMessage:"Index is required."}))}return validationResult},actionConnectorFields:IndexActionConnectorFields,actionParamsFields:IndexParamsFields,validateParams:function validateParams(){return{errors:{}}}}}var IndexActionConnectorFields=function IndexActionConnectorFields(_ref){var action=_ref.action,editActionConfig=_ref.editActionConfig,errors=_ref.errors,http=_ref.http;var _action$config=action.config,index=_action$config.index,refresh=_action$config.refresh,executionTimeField=_action$config.executionTimeField;var _useState=(0,_react.useState)(executionTimeField!=null),_useState2=_slicedToArray(_useState,2),hasTimeFieldCheckbox=_useState2[0],setTimeFieldCheckboxState=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),indexPatterns=_useState4[0],setIndexPatterns=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=_slicedToArray(_useState5,2),indexOptions=_useState6[0],setIndexOptions=_useState6[1];var _useState7=(0,_react.useState)([_index_controls.firstFieldOption]),_useState8=_slicedToArray(_useState7,2),timeFieldOptions=_useState8[0],setTimeFieldOptions=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),isIndiciesLoading=_useState10[0],setIsIndiciesLoading=_useState10[1];(0,_react.useEffect)((function(){var indexPatternsFunction=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var currentEsFields,timeFields;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setIndexPatterns;_context.next=3;return(0,_index_controls.getIndexPatterns)();case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);if(!index){_context.next=11;break}_context.next=8;return(0,_index_controls.getFields)(http,[index]);case 8:currentEsFields=_context.sent;timeFields=(0,_get_time_options.getTimeFieldOptions)(currentEsFields);setTimeFieldOptions([_index_controls.firstFieldOption].concat(_toConsumableArray(timeFields)));case 11:case"end":return _context.stop()}}}),_callee)})));return function indexPatternsFunction(){return _ref2.apply(this,arguments)}}();indexPatternsFunction()}),[]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Write to index",id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.connectorSectionTitle"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{id:"indexConnectorSelectSearchBox",fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.indicesToQueryLabel",defaultMessage:"Index"}),isInvalid:errors.index.length>0&&index!==undefined,error:errors.index,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.howToBroadenSearchQueryDescription",defaultMessage:"Use * to broaden your query."})},_react.default.createElement(_eui.EuiComboBox,{fullWidth:true,singleSelection:{asPlainText:true},async:true,isLoading:isIndiciesLoading,isInvalid:errors.index.length>0&&index!==undefined,noSuggestions:!indexOptions.length,options:indexOptions,"data-test-subj":"connectorIndexesComboBox",selectedOptions:index?[{value:index,label:index}]:[],onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(selected){var indices,currentEsFields,timeFields;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:editActionConfig("index",selected[0].value);indices=selected.map((function(s){return s.value}));if(!(indices.length===0)){_context2.next=5;break}setTimeFieldOptions([]);return _context2.abrupt("return");case 5:_context2.next=7;return(0,_index_controls.getFields)(http,indices);case 7:currentEsFields=_context2.sent;timeFields=(0,_get_time_options.getTimeFieldOptions)(currentEsFields);setTimeFieldOptions([_index_controls.firstFieldOption].concat(_toConsumableArray(timeFields)));case 10:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref3.apply(this,arguments)}}(),onSearchChange:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(search){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIsIndiciesLoading(true);_context3.t0=setIndexOptions;_context3.next=4;return(0,_index_controls.getIndexOptions)(http,search,indexPatterns);case 4:_context3.t1=_context3.sent;(0,_context3.t0)(_context3.t1);setIsIndiciesLoading(false);case 7:case"end":return _context3.stop()}}}),_callee3)})));return function(_x2){return _ref4.apply(this,arguments)}}(),onBlur:function onBlur(){if(!index){editActionConfig("index","")}}})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"indexRefreshCheckbox",checked:refresh||false,onChange:function onChange(e){editActionConfig("refresh",e.target.checked)},label:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.refreshLabel",defaultMessage:"Refresh index"})," ",_react.default.createElement(_eui.EuiIconTip,{position:"right",type:"questionInCircle",content:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.refreshTooltip",{defaultMessage:"Refresh the affected shards to make this operation visible to search."})}))}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"hasTimeFieldCheckbox",checked:hasTimeFieldCheckbox||false,onChange:function onChange(){setTimeFieldCheckboxState(!hasTimeFieldCheckbox);if(hasTimeFieldCheckbox){editActionConfig("executionTimeField",null)}},label:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.defineTimeFieldLabel",defaultMessage:"Define time field for each document"}),_react.default.createElement(_eui.EuiIconTip,{position:"right",type:"questionInCircle",content:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.definedateFieldTooltip",{defaultMessage:"Automatically add a time field to each document when it's indexed."})}))}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),hasTimeFieldCheckbox?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"executionTimeField",fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.indexAction.executionTimeFieldLabel",defaultMessage:"Time field"})},_react.default.createElement(_eui.EuiSelect,{options:timeFieldOptions,fullWidth:true,name:"executionTimeField","data-test-subj":"executionTimeFieldSelect",value:executionTimeField!==null&&executionTimeField!==void 0?executionTimeField:"",onChange:function onChange(e){editActionConfig("executionTimeField",nullableString(e.target.value))},onBlur:function onBlur(){if(executionTimeField===undefined){editActionConfig("executionTimeField",null)}}}))):null)};var IndexParamsFields=function IndexParamsFields(_ref5){var actionParams=_ref5.actionParams,index=_ref5.index,editAction=_ref5.editAction,messageVariables=_ref5.messageVariables;var documents=actionParams.documents;var _useXJsonMode=(0,_use_x_json_mode.useXJsonMode)(documents&&documents.length>0?documents[0]:null),xJsonMode=_useXJsonMode.xJsonMode,convertToJson=_useXJsonMode.convertToJson,setXJson=_useXJsonMode.setXJson,xJson=_useXJsonMode.xJson;var onSelectMessageVariable=function onSelectMessageVariable(variable){var value=(xJson!==null&&xJson!==void 0?xJson:"").concat(" {{".concat(variable,"}}"));setXJson(value);onDocumentsChange(convertToJson(value))};function onDocumentsChange(updatedDocuments){try{var documentsJSON=JSON.parse(updatedDocuments);editAction("documents",[documentsJSON],index)}catch(e){}}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.documentsFieldLabel",{defaultMessage:"Document to index"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable(variable)},paramsProperty:"documents"})},_react.default.createElement(_eui.EuiCodeEditor,{mode:xJsonMode,width:"100%",height:"200px",theme:"github","data-test-subj":"actionIndexDoc","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.jsonDocAriaLabel",{defaultMessage:"Code editor"}),value:xJson,onChange:function onChange(xjson){setXJson(xjson);onDocumentsChange(convertToJson(xjson))}})))};function nullableString(str){if(str==null||str.trim()==="")return null;return str}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useXJsonMode=exports.xJsonMode=void 0;var _react=__webpack_require__(3);var _x_json=__webpack_require__(973);var _lib=__webpack_require__(1551);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var xJsonMode=new _x_json.XJsonMode;exports.xJsonMode=xJsonMode;var useXJsonMode=function useXJsonMode(json){var _useState=(0,_react.useState)(json===null?"":(0,_lib.expandLiteralStrings)(JSON.stringify(json,null,2))),_useState2=_slicedToArray(_useState,2),xJson=_useState2[0],setXJson=_useState2[1];return{xJson:xJson,setXJson:setXJson,xJsonMode:xJsonMode,convertToJson:_lib.collapseLiteralStrings}};exports.useXJsonMode=useXJsonMode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonMode=XJsonMode;var _brace=_interopRequireDefault(__webpack_require__(794));var _index=__webpack_require__(1546);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var _brace$default$acequi=_brace.default.acequire("ace/mode/json"),JSONMode=_brace$default$acequi.Mode;var _brace$default$acequi2=_brace.default.acequire("ace/tokenizer"),AceTokenizer=_brace$default$acequi2.Tokenizer;var _brace$default$acequi3=_brace.default.acequire("ace/mode/matching_brace_outdent"),MatchingBraceOutdent=_brace$default$acequi3.MatchingBraceOutdent;var _brace$default$acequi4=_brace.default.acequire("ace/mode/behaviour/cstyle"),CstyleBehaviour=_brace$default$acequi4.CstyleBehaviour;var _brace$default$acequi5=_brace.default.acequire("ace/mode/folding/cstyle"),CStyleFoldMode=_brace$default$acequi5.FoldMode;function XJsonMode(){var ruleset=new _index.XJsonHighlightRules;ruleset.normalizeRules();this.$tokenizer=new AceTokenizer(ruleset.getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(XJsonMode,JSONMode)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _lexer_rules.addXJsonToRules}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json.XJsonMode}});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _x_json.installXJsonMode}});var _lexer_rules=__webpack_require__(1547);var _x_json=__webpack_require__(973)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _script_highlight_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.addToRules}});var _elasticsearch_sql_highlight_rules=__webpack_require__(974);var _script_highlight_rules=__webpack_require__(975);var _x_json_highlight_rules=__webpack_require__(1548)},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonHighlightRules=XJsonHighlightRules;exports.addToRules=addToRules;var _=_interopRequireWildcard(__webpack_require__(1));var _brace=_interopRequireDefault(__webpack_require__(794));__webpack_require__(1549);var _elasticsearch_sql_highlight_rules=__webpack_require__(974);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var _require=__webpack_require__(975),ScriptHighlightRules=_require.ScriptHighlightRules;var _brace$default$acequi=_brace.default.acequire("ace/mode/json_highlight_rules"),JsonHighlightRules=_brace$default$acequi.JsonHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var jsonRules=function jsonRules(root){root=root?root:"json";var rules={};var xJsonRules=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules[root]=xJsonRules;rules[root+"-sql"]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("query")(\\s*?)(:)(\\s*?)(""")',next:"sql-start",merge:false,push:true}].concat(xJsonRules);rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function XJsonHighlightRules(){this.$rules=_objectSpread({},jsonRules("start"));this.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);this.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}oop.inherits(XJsonHighlightRules,JsonHighlightRules);function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);otherRules.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"collapseLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.collapseLiteralStrings}});Object.defineProperty(exports,"expandLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.expandLiteralStrings}});var _json_xjson_translation_tools=__webpack_require__(1552)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.collapseLiteralStrings=collapseLiteralStrings;exports.expandLiteralStrings=expandLiteralStrings;function collapseLiteralStrings(data){var splitData=data.split('"""');for(var idx=1;idx<splitData.length-1;idx+=2){splitData[idx]=JSON.stringify(splitData[idx])}return splitData.join("")}var LITERAL_STRING_CANDIDATES=/((:[\s\r\n]*)([^\\])"(\\"|[^"\n])*\\?")/g;function expandLiteralStrings(data){return data.replace(LITERAL_STRING_CANDIDATES,(function(match,string){if(string.match(/\\./)){var firstDoubleQuoteIdx=string.indexOf('"');var lastDoubleQuoteIdx=string.lastIndexOf('"');if(string[firstDoubleQuoteIdx+1]==="\\"&&string[firstDoubleQuoteIdx+2]==='"'){return string}if(string[lastDoubleQuoteIdx-1]==='"'&&string[lastDoubleQuoteIdx-2]==="\\"){return string}var colonAndAnySpacing=string.slice(0,firstDoubleQuoteIdx);var rawStringifiedValue=string.slice(firstDoubleQuoteIdx,string.length);var jsonValue=JSON.parse(rawStringifiedValue);return"".concat(colonAndAnySpacing,'"""').concat(jsonValue,'"""')}else{return string}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _pagerduty=_interopRequireDefault(__webpack_require__(1554));var _add_message_variables=__webpack_require__(742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getActionType(){return{id:".pagerduty",iconClass:_pagerduty.default,selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.selectMessageText",{defaultMessage:"Send an event in PagerDuty."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.actionTypeTitle",{defaultMessage:"Send to PagerDuty"}),validateConnector:function validateConnector(action){var validationResult={errors:{}};var errors={routingKey:new Array};validationResult.errors=errors;if(!action.secrets.routingKey){errors.routingKey.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.error.requiredRoutingKeyText",{defaultMessage:"A routing key is required."}))}return validationResult},validateParams:function validateParams(actionParams){var _actionParams$summary;var validationResult={errors:{}};var errors={summary:new Array};validationResult.errors=errors;if(!((_actionParams$summary=actionParams.summary)===null||_actionParams$summary===void 0?void 0:_actionParams$summary.length)){errors.summary.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.error.requiredSummaryText",{defaultMessage:"Summary is required."}))}return validationResult},actionConnectorFields:PagerDutyActionConnectorFields,actionParamsFields:PagerDutyParamsFields}}var PagerDutyActionConnectorFields=function PagerDutyActionConnectorFields(_ref){var errors=_ref.errors,action=_ref.action,editActionConfig=_ref.editActionConfig,editActionSecrets=_ref.editActionSecrets;var apiUrl=action.config.apiUrl;var routingKey=action.secrets.routingKey;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"apiUrl",fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.apiUrlTextFieldLabel",{defaultMessage:"API URL"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"apiUrl",value:apiUrl||"","data-test-subj":"pagerdutyApiUrlInput",onChange:function onChange(e){editActionConfig("apiUrl",e.target.value)},onBlur:function onBlur(){if(!apiUrl){editActionConfig("apiUrl","")}}})),_react.default.createElement(_eui.EuiFormRow,{id:"routingKey",fullWidth:true,helpText:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/actions-pagerduty.html#configuring-pagerduty",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.routingKeyNameHelpLabel",defaultMessage:"Configure a PagerDuty account."})),error:errors.routingKey,isInvalid:errors.routingKey.length>0&&routingKey!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.routingKeyTextFieldLabel",{defaultMessage:"Routing key"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.routingKey.length>0&&routingKey!==undefined,name:"routingKey",value:routingKey||"","data-test-subj":"pagerdutyRoutingKeyInput",onChange:function onChange(e){editActionSecrets("routingKey",e.target.value)},onBlur:function onBlur(){if(!routingKey){editActionSecrets("routingKey","")}}})))};var PagerDutyParamsFields=function PagerDutyParamsFields(_ref2){var actionParams=_ref2.actionParams,editAction=_ref2.editAction,index=_ref2.index,messageVariables=_ref2.messageVariables,errors=_ref2.errors;var eventAction=actionParams.eventAction,dedupKey=actionParams.dedupKey,summary=actionParams.summary,source=actionParams.source,severity=actionParams.severity,timestamp=actionParams.timestamp,component=actionParams.component,group=actionParams.group;var severityOptions=[{value:"info",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.severitySelectInfoOptionLabel",{defaultMessage:"Info"})},{value:"critical",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.severitySelectCriticalOptionLabel",{defaultMessage:"Critical"})},{value:"warning",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.severitySelectWarningOptionLabel",{defaultMessage:"Warning"})},{value:"error",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.severitySelectErrorOptionLabel",{defaultMessage:"Error"})}];var eventActionOptions=[{value:"trigger",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.eventSelectTriggerOptionLabel",{defaultMessage:"Trigger"})},{value:"resolve",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.eventSelectResolveOptionLabel",{defaultMessage:"Resolve"})},{value:"acknowledge",text:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.eventSelectAcknowledgeOptionLabel",{defaultMessage:"Acknowledge"})}];var onSelectMessageVariable=function onSelectMessageVariable(paramsProperty,variable){var _paramsProperty;editAction(paramsProperty,((_paramsProperty=actionParams[paramsProperty])!==null&&_paramsProperty!==void 0?_paramsProperty:"").concat(" {{".concat(variable,"}}")),index)};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.severitySelectFieldLabel",{defaultMessage:"Severity"})},_react.default.createElement(_eui.EuiSelect,{fullWidth:true,"data-test-subj":"severitySelect",options:severityOptions,value:severity,onChange:function onChange(e){editAction("severity",e.target.value,index)}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.eventActionSelectFieldLabel",{defaultMessage:"Event action"})},_react.default.createElement(_eui.EuiSelect,{fullWidth:true,"data-test-subj":"eventActionSelect",options:eventActionOptions,value:eventAction,onChange:function onChange(e){editAction("eventAction",e.target.value,index)}})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.dedupKeyTextFieldLabel",{defaultMessage:"DedupKey (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("dedupKey",variable)},paramsProperty:"dedupKey"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"dedupKey","data-test-subj":"dedupKeyInput",value:dedupKey||"",onChange:function onChange(e){editAction("dedupKey",e.target.value,index)},onBlur:function onBlur(){if(!dedupKey){editAction("dedupKey","",index)}}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.timestampTextFieldLabel",{defaultMessage:"Timestamp (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("timestamp",variable)},paramsProperty:"timestamp"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"timestamp","data-test-subj":"timestampInput",value:timestamp||"",onChange:function onChange(e){editAction("timestamp",e.target.value,index)},onBlur:function onBlur(){if(!timestamp){editAction("timestamp","",index)}}})))),_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.componentTextFieldLabel",{defaultMessage:"Component (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("component",variable)},paramsProperty:"component"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"component","data-test-subj":"componentInput",value:component||"",onChange:function onChange(e){editAction("component",e.target.value,index)},onBlur:function onBlur(){if(!component){editAction("component","",index)}}})),_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.groupTextFieldLabel",{defaultMessage:"Group (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("group",variable)},paramsProperty:"group"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"group","data-test-subj":"groupInput",value:group||"",onChange:function onChange(e){editAction("group",e.target.value,index)},onBlur:function onBlur(){if(!group){editAction("group","",index)}}})),_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.sourceTextFieldLabel",{defaultMessage:"Source (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("source",variable)},paramsProperty:"source"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"source","data-test-subj":"sourceInput",value:source||"",onChange:function onChange(e){editAction("source",e.target.value,index)},onBlur:function onBlur(){if(!source){editAction("source","",index)}}})),_react.default.createElement(_eui.EuiFormRow,{id:"pagerDutySummary",fullWidth:true,error:errors.summary,isInvalid:errors.summary.length>0&&summary!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.summaryFieldLabel",{defaultMessage:"Summary"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("summary",variable)},paramsProperty:"summary"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.summary.length>0&&summary!==undefined,name:"summary",value:summary||"","data-test-subj":"pagerdutySummaryInput",onChange:function onChange(e){editAction("summary",e.target.value,index)},onBlur:function onBlur(){if(!summary){editAction("summary","",index)}}})),_react.default.createElement(_eui.EuiFormRow,{id:"pagerDutyClass",fullWidth:true,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.pagerDutyAction.classFieldLabel",{defaultMessage:"Class (optional)"}),labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("class",variable)},paramsProperty:"class"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,name:"class",value:actionParams.class||"","data-test-subj":"pagerdutyClassInput",onChange:function onChange(e){editAction("class",e.target.value,index)},onBlur:function onBlur(){if(!actionParams.class){editAction("class","",index)}}})))}},function(module,exports){module.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMjAuNiAxNzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyMC42IDE3NTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMwNkFDMzg7fQo8L3N0eWxlPgo8Zz4KCTxyZWN0IHk9IjEyOC40IiBjbGFzcz0ic3QwIiB3aWR0aD0iMjUuNyIgaGVpZ2h0PSI0Ni42Ii8+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTYuNSw4LjZDODIuOCwxLjIsNzMuMiwwLDUwLjcsMEgwdjEwNi4xaDI1LjdIMjloMjEuNWMyMCwwLDM1LTEuMiw0OC4yLTEwYzE0LjQtOS41LDIxLjktMjUuNCwyMS45LTQzLjgKCQlDMTIwLjYsMzIuNSwxMTEuNCwxNi42LDk2LjUsOC42eiBNNTYuNCw4My45SDI1LjdWMjIuN2wyOS0wLjJjMjYuNC0wLjIsMzkuNiw5LDM5LjYsMzAuMUM5NC4zLDc1LjMsNzcuOSw4My45LDU2LjQsODMuOXoiLz4KPC9nPgo8L3N2Zz4K"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _add_message_variables=__webpack_require__(742);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var HTTP_VERBS=["post","put"];function getActionType(){return{id:".webhook",iconClass:"logoWebhook",selectMessage:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.selectMessageText",{defaultMessage:"Send a request to a web service."}),actionTypeTitle:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.actionTypeTitle",{defaultMessage:"Webhook data"}),validateConnector:function validateConnector(action){var validationResult={errors:{}};var errors={url:new Array,method:new Array,user:new Array,password:new Array};validationResult.errors=errors;if(!action.config.url){errors.url.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.error.requiredUrlText",{defaultMessage:"URL is required."}))}if(!action.config.method){errors.method.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAction.webhookAction.error.requiredMethodText",{defaultMessage:"Method is required."}))}if(!action.secrets.user&&action.secrets.password){errors.user.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAction.webhookAction.error.requiredHostText",{defaultMessage:"Username is required."}))}if(!action.secrets.password&&action.secrets.user){errors.password.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAction.webhookAction.error.requiredPasswordText",{defaultMessage:"Password is required."}))}return validationResult},validateParams:function validateParams(actionParams){var _actionParams$body;var validationResult={errors:{}};var errors={body:new Array};validationResult.errors=errors;if(!((_actionParams$body=actionParams.body)===null||_actionParams$body===void 0?void 0:_actionParams$body.length)){errors.body.push(_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.error.requiredWebhookBodyText",{defaultMessage:"Body is required."}))}return validationResult},actionConnectorFields:WebhookActionConnectorFields,actionParamsFields:WebhookParamsFields}}var WebhookActionConnectorFields=function WebhookActionConnectorFields(_ref){var action=_ref.action,editActionConfig=_ref.editActionConfig,editActionSecrets=_ref.editActionSecrets,errors=_ref.errors;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),httpHeaderKey=_useState2[0],setHttpHeaderKey=_useState2[1];var _useState3=(0,_react.useState)(""),_useState4=_slicedToArray(_useState3,2),httpHeaderValue=_useState4[0],setHttpHeaderValue=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),hasHeaders=_useState6[0],setHasHeaders=_useState6[1];var _action$secrets=action.secrets,user=_action$secrets.user,password=_action$secrets.password;var _action$config=action.config,method=_action$config.method,url=_action$config.url,headers=_action$config.headers;editActionConfig("method","post");var headerErrors={keyHeader:new Array,valueHeader:new Array};if(!httpHeaderKey&&httpHeaderValue){headerErrors.keyHeader.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAction.webhookAction.error.requiredHeaderKeyText",{defaultMessage:"Key is required."}))}if(httpHeaderKey&&!httpHeaderValue){headerErrors.valueHeader.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAction.webhookAction.error.requiredHeaderValueText",{defaultMessage:"Value is required."}))}var hasHeaderErrors=headerErrors.keyHeader.length>0||headerErrors.valueHeader.length>0;function addHeader(){if(headers&&!!Object.keys(headers).find((function(key){return key===httpHeaderKey}))){return}var updatedHeaders=headers?_objectSpread({},headers,_defineProperty({},httpHeaderKey,httpHeaderValue)):_defineProperty({},httpHeaderKey,httpHeaderValue);editActionConfig("headers",updatedHeaders);setHttpHeaderKey("");setHttpHeaderValue("")}function viewHeaders(){setHasHeaders(!hasHeaders);if(!hasHeaders){editActionConfig("headers",{})}}function removeHeader(keyToRemove){var updatedHeaders=Object.keys(headers).filter((function(key){return key!==keyToRemove})).reduce((function(headerToRemove,key){headerToRemove[key]=headers[key];return headerToRemove}),{});editActionConfig("headers",updatedHeaders)}var headerControl;if(hasHeaders){headerControl=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xxs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Add header",id:"xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.addHeader"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{id:"webhookHeaderKey",fullWidth:true,error:headerErrors.keyHeader,isInvalid:hasHeaderErrors&&httpHeaderKey!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.keyTextFieldLabel",{defaultMessage:"Key"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:hasHeaderErrors&&httpHeaderKey!==undefined,name:"keyHeader",value:httpHeaderKey,"data-test-subj":"webhookHeadersKeyInput",onChange:function onChange(e){setHttpHeaderKey(e.target.value)}}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{id:"webhookHeaderValue",fullWidth:true,error:headerErrors.valueHeader,isInvalid:hasHeaderErrors&&httpHeaderValue!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.valueTextFieldLabel",{defaultMessage:"Value"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:hasHeaderErrors&&httpHeaderValue!==undefined,name:"valueHeader",value:httpHeaderValue,"data-test-subj":"webhookHeadersValueInput",onChange:function onChange(e){setHttpHeaderValue(e.target.value)}}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true},_react.default.createElement(_eui.EuiButtonEmpty,{isDisabled:hasHeaders&&(hasHeaderErrors||!httpHeaderKey||!httpHeaderValue),"data-test-subj":"webhookAddHeaderButton",onClick:function onClick(){return addHeader()}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Add",id:"xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.addHeaderButton"}))))))}var headersList=Object.keys(headers||{}).map((function(key){return _react.default.createElement(_eui.EuiFlexGroup,{key:key,"data-test-subj":"webhookHeaderText",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.deleteHeaderButton",{defaultMessage:"Delete",description:"Delete HTTP header"}),iconType:"trash",color:"danger",onClick:function onClick(){return removeHeader(key)}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiDescriptionList,{compressed:true},_react.default.createElement(_eui.EuiDescriptionListTitle,null,key),_react.default.createElement(_eui.EuiDescriptionListDescription,null,headers[key]))))}));return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.methodTextFieldLabel",{defaultMessage:"Method"})},_react.default.createElement(_eui.EuiSelect,{name:"method",value:method||"post","data-test-subj":"webhookMethodSelect",options:HTTP_VERBS.map((function(verb){return{text:verb.toUpperCase(),value:verb}})),onChange:function onChange(e){editActionConfig("method",e.target.value)}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"url",fullWidth:true,error:errors.url,isInvalid:errors.url.length>0&&url!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.urlTextFieldLabel",{defaultMessage:"URL"})},_react.default.createElement(_eui.EuiFieldText,{name:"url",isInvalid:errors.url.length>0&&url!==undefined,fullWidth:true,value:url||"","data-test-subj":"webhookUrlText",onChange:function onChange(e){editActionConfig("url",e.target.value)},onBlur:function onBlur(){if(!url){editActionConfig("url","")}}})))),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"webhookUser",fullWidth:true,error:errors.user,isInvalid:errors.user.length>0&&user!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.userTextFieldLabel",{defaultMessage:"Username"})},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,isInvalid:errors.user.length>0&&user!==undefined,name:"user",value:user||"","data-test-subj":"webhookUserInput",onChange:function onChange(e){editActionSecrets("user",e.target.value)},onBlur:function onBlur(){if(!user){editActionSecrets("user","")}}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"webhookPassword",fullWidth:true,error:errors.password,isInvalid:errors.password.length>0&&password!==undefined,label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.passwordTextFieldLabel",{defaultMessage:"Password"})},_react.default.createElement(_eui.EuiFieldPassword,{fullWidth:true,name:"password",isInvalid:errors.password.length>0&&password!==undefined,value:password||"","data-test-subj":"webhookPasswordInput",onChange:function onChange(e){editActionSecrets("password",e.target.value)},onBlur:function onBlur(){if(!password){editActionSecrets("password","")}}})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"webhookViewHeadersSwitch",label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.viewHeadersSwitch",{defaultMessage:"Add HTTP header"}),checked:hasHeaders,onChange:function onChange(){return viewHeaders()}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement("div",null,hasHeaders&&Object.keys(headers||{}).length>0?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"xxs"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Headers in use",id:"xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.httpHeadersTitle"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),headersList):null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),headerControl,_react.default.createElement(_eui.EuiSpacer,{size:"m"})))};var WebhookParamsFields=function WebhookParamsFields(_ref3){var actionParams=_ref3.actionParams,editAction=_ref3.editAction,index=_ref3.index,messageVariables=_ref3.messageVariables,errors=_ref3.errors;var body=actionParams.body;var onSelectMessageVariable=function onSelectMessageVariable(paramsProperty,variable){editAction(paramsProperty,(body!==null&&body!==void 0?body:"").concat(" {{".concat(variable,"}}")),index)};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{id:"webhookBody",label:_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.bodyFieldLabel",{defaultMessage:"Body"}),isInvalid:errors.body.length>0&&body!==undefined,fullWidth:true,error:errors.body,labelAppend:_react.default.createElement(_add_message_variables.AddMessageVariables,{messageVariables:messageVariables,onSelectEventHandler:function onSelectEventHandler(variable){return onSelectMessageVariable("body",variable)},paramsProperty:"body"})},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",width:"100%",height:"200px",theme:"github","data-test-subj":"webhookBodyEditor","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.webhookAction.bodyCodeEditorAriaLabel",{defaultMessage:"Code editor"}),value:body||"",onChange:function onChange(json){editAction("body",json,index)}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerBuiltInAlertTypes=registerBuiltInAlertTypes;var _threshold=__webpack_require__(1557);function registerBuiltInAlertTypes(_ref){var alertTypeRegistry=_ref.alertTypeRegistry;alertTypeRegistry.register((0,_threshold.getAlertType)())}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAlertType=getAlertType;var _expression=__webpack_require__(1558);var _validation=__webpack_require__(1565);function getAlertType(){return{id:".index-threshold",name:"Index threshold",iconClass:"alert",alertParamsExpression:_expression.IndexThresholdAlertTypeExpression,validate:_validation.validateExpression}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexThresholdAlertTypeExpression=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _index_controls=__webpack_require__(972);var _constants=__webpack_require__(49);var _get_time_options=__webpack_require__(224);var _visualization=__webpack_require__(1559);var _common=__webpack_require__(237);__webpack_require__(1560);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_VALUES={AGGREGATION_TYPE:"count",TERM_SIZE:5,THRESHOLD_COMPARATOR:_constants.COMPARATORS.GREATER_THAN,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",THRESHOLD:[1e3],GROUP_BY:"all"};var expressionFieldsWithValidation=["index","timeField","aggField","termSize","termField","threshold0","threshold1","timeWindowSize"];var IndexThresholdAlertTypeExpression=function IndexThresholdAlertTypeExpression(_ref){var alertParams=_ref.alertParams,alertInterval=_ref.alertInterval,setAlertParams=_ref.setAlertParams,setAlertProperty=_ref.setAlertProperty,errors=_ref.errors,alertsContext=_ref.alertsContext;var index=alertParams.index,timeField=alertParams.timeField,aggType=alertParams.aggType,aggField=alertParams.aggField,groupBy=alertParams.groupBy,termSize=alertParams.termSize,termField=alertParams.termField,thresholdComparator=alertParams.thresholdComparator,threshold=alertParams.threshold,timeWindowSize=alertParams.timeWindowSize,timeWindowUnit=alertParams.timeWindowUnit;var http=alertsContext.http;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),indexPopoverOpen=_useState2[0],setIndexPopoverOpen=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),indexPatterns=_useState4[0],setIndexPatterns=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=_slicedToArray(_useState5,2),esFields=_useState6[0],setEsFields=_useState6[1];var _useState7=(0,_react.useState)([]),_useState8=_slicedToArray(_useState7,2),indexOptions=_useState8[0],setIndexOptions=_useState8[1];var _useState9=(0,_react.useState)([_index_controls.firstFieldOption]),_useState10=_slicedToArray(_useState9,2),timeFieldOptions=_useState10[0],setTimeFieldOptions=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=_slicedToArray(_useState11,2),isIndiciesLoading=_useState12[0],setIsIndiciesLoading=_useState12[1];var hasExpressionErrors=!!Object.keys(errors).find((function(errorKey){return expressionFieldsWithValidation.includes(errorKey)&&errors[errorKey].length>=1&&alertParams[errorKey]!==undefined}));var canShowVizualization=!!Object.keys(errors).find((function(errorKey){return expressionFieldsWithValidation.includes(errorKey)&&errors[errorKey].length>=1}));var expressionErrorMessage=_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.threshold.fixErrorInExpressionBelowValidationMessage",{defaultMessage:"Expression contains errors."});var setDefaultExpressionValues=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var currentEsFields,timeFields;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setAlertProperty("params",_objectSpread({},alertParams,{aggType:aggType!==null&&aggType!==void 0?aggType:DEFAULT_VALUES.AGGREGATION_TYPE,termSize:termSize!==null&&termSize!==void 0?termSize:DEFAULT_VALUES.TERM_SIZE,thresholdComparator:thresholdComparator!==null&&thresholdComparator!==void 0?thresholdComparator:DEFAULT_VALUES.THRESHOLD_COMPARATOR,timeWindowSize:timeWindowSize!==null&&timeWindowSize!==void 0?timeWindowSize:DEFAULT_VALUES.TIME_WINDOW_SIZE,timeWindowUnit:timeWindowUnit!==null&&timeWindowUnit!==void 0?timeWindowUnit:DEFAULT_VALUES.TIME_WINDOW_UNIT,groupBy:groupBy!==null&&groupBy!==void 0?groupBy:DEFAULT_VALUES.GROUP_BY,threshold:threshold!==null&&threshold!==void 0?threshold:DEFAULT_VALUES.THRESHOLD}));if(!(index&&index.length>0)){_context.next=8;break}_context.next=4;return(0,_index_controls.getFields)(http,index);case 4:currentEsFields=_context.sent;timeFields=(0,_get_time_options.getTimeFieldOptions)(currentEsFields);setEsFields(currentEsFields);setTimeFieldOptions([_index_controls.firstFieldOption].concat(_toConsumableArray(timeFields)));case 8:case"end":return _context.stop()}}}),_callee)})));return function setDefaultExpressionValues(){return _ref2.apply(this,arguments)}}();var closeIndexPopover=function closeIndexPopover(){setIndexPopoverOpen(false);if(timeField===undefined){setAlertParams("timeField","")}};(0,_react.useEffect)((function(){var indexPatternsFunction=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setIndexPatterns;_context2.next=3;return(0,_index_controls.getIndexPatterns)();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 5:case"end":return _context2.stop()}}}),_callee2)})));return function indexPatternsFunction(){return _ref3.apply(this,arguments)}}();indexPatternsFunction()}),[]);(0,_react.useEffect)((function(){setDefaultExpressionValues()}),[]);var indexPopover=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"indexSelectSearchBox",fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.threshold.indicesToQueryLabel",defaultMessage:"Indices to query"}),isInvalid:errors.index.length>0&&index!==undefined,error:errors.index,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.threshold.howToBroadenSearchQueryDescription",defaultMessage:"Use * to broaden your query."})},_react.default.createElement(_eui.EuiComboBox,{fullWidth:true,async:true,isLoading:isIndiciesLoading,isInvalid:errors.index.length>0&&index!==undefined,noSuggestions:!indexOptions.length,options:indexOptions,"data-test-subj":"thresholdIndexesComboBox",selectedOptions:(index||[]).map((function(anIndex){return{label:anIndex,value:anIndex}})),onChange:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(selected){var indices,currentEsFields,timeFields;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setAlertParams("index",selected.map((function(aSelected){return aSelected.value})));indices=selected.map((function(s){return s.value}));if(!(indices.length===0)){_context3.next=6;break}setTimeFieldOptions([_index_controls.firstFieldOption]);setAlertProperty("params",_objectSpread({},alertParams,{index:indices,aggType:DEFAULT_VALUES.AGGREGATION_TYPE,termSize:DEFAULT_VALUES.TERM_SIZE,thresholdComparator:DEFAULT_VALUES.THRESHOLD_COMPARATOR,timeWindowSize:DEFAULT_VALUES.TIME_WINDOW_SIZE,timeWindowUnit:DEFAULT_VALUES.TIME_WINDOW_UNIT,groupBy:DEFAULT_VALUES.GROUP_BY,threshold:DEFAULT_VALUES.THRESHOLD,timeField:""}));return _context3.abrupt("return");case 6:_context3.next=8;return(0,_index_controls.getFields)(http,indices);case 8:currentEsFields=_context3.sent;timeFields=(0,_get_time_options.getTimeFieldOptions)(currentEsFields);setEsFields(currentEsFields);setTimeFieldOptions([_index_controls.firstFieldOption].concat(_toConsumableArray(timeFields)));case 12:case"end":return _context3.stop()}}}),_callee3)})));return function(_x){return _ref4.apply(this,arguments)}}(),onSearchChange:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(search){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setIsIndiciesLoading(true);_context4.t0=setIndexOptions;_context4.next=4;return(0,_index_controls.getIndexOptions)(http,search,indexPatterns);case 4:_context4.t1=_context4.sent;(0,_context4.t0)(_context4.t1);setIsIndiciesLoading(false);case 7:case"end":return _context4.stop()}}}),_callee4)})));return function(_x2){return _ref5.apply(this,arguments)}}(),onBlur:function onBlur(){if(!index){setAlertParams("index",[])}}}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{id:"thresholdTimeField",fullWidth:true,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.threshold.timeFieldLabel",defaultMessage:"Time field"}),isInvalid:errors.timeField.length>0&&timeField!==undefined,error:errors.timeField},_react.default.createElement(_eui.EuiSelect,{options:timeFieldOptions,isInvalid:errors.timeField.length>0&&timeField!==undefined,fullWidth:true,name:"thresholdTimeField","data-test-subj":"thresholdAlertTimeFieldSelect",value:timeField,onChange:function onChange(e){setAlertParams("timeField",e.target.value)},onBlur:function onBlur(){if(timeField===undefined){setAlertParams("timeField","")}}})))),_react.default.createElement(_eui.EuiSpacer,null));var firstSetOfSteps=[{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.selectIndex",{defaultMessage:"Select an index."}),children:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"indexPopover",button:_react.default.createElement(_eui.EuiExpression,{"data-test-subj":"selectIndexExpression",description:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.threshold.indexLabel",{defaultMessage:"index"}),value:index&&index.length>0?index.join(" "):_index_controls.firstFieldOption.text,isActive:indexPopoverOpen,onClick:function onClick(){setIndexPopoverOpen(true)},color:index&&index.length>0&&timeField!==""?"secondary":"danger"}),isOpen:indexPopoverOpen,closePopover:closeIndexPopover,ownFocus:true,withTitle:true,anchorPosition:"downLeft",zIndex:8e3},_react.default.createElement("div",{style:{width:"450px"}},_react.default.createElement(_eui.EuiPopoverTitle,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.threshold.indexButtonLabel",{defaultMessage:"index"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.threshold.closeIndexPopoverLabel",{defaultMessage:"Close"}),onClick:closeIndexPopover})))),indexPopover)))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_common.WhenExpression,{aggType:aggType!==null&&aggType!==void 0?aggType:DEFAULT_VALUES.AGGREGATION_TYPE,onChangeSelectedAggType:function onChangeSelectedAggType(selectedAggType){return setAlertParams("aggType",selectedAggType)}})),aggType&&_constants.builtInAggregationTypes[aggType].fieldRequired?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_common.OfExpression,{aggField:aggField,fields:esFields,aggType:aggType,errors:errors,onChangeSelectedAggField:function onChangeSelectedAggField(selectedAggField){return setAlertParams("aggField",selectedAggField)}})):null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_common.GroupByExpression,{groupBy:groupBy||DEFAULT_VALUES.GROUP_BY,termField:termField,termSize:termSize,errors:errors,fields:esFields,onChangeSelectedGroupBy:function onChangeSelectedGroupBy(selectedGroupBy){return setAlertParams("groupBy",selectedGroupBy)},onChangeSelectedTermField:function onChangeSelectedTermField(selectedTermField){return setAlertParams("termField",selectedTermField)},onChangeSelectedTermSize:function onChangeSelectedTermSize(selectedTermSize){return setAlertParams("termSize",selectedTermSize)}}))))},{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.conditionPrompt",{defaultMessage:"Define the condition."}),children:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_common.ThresholdExpression,{thresholdComparator:thresholdComparator!==null&&thresholdComparator!==void 0?thresholdComparator:DEFAULT_VALUES.THRESHOLD_COMPARATOR,threshold:threshold,errors:errors,popupPosition:"upLeft",onChangeSelectedThreshold:function onChangeSelectedThreshold(selectedThresholds){return setAlertParams("threshold",selectedThresholds)},onChangeSelectedThresholdComparator:function onChangeSelectedThresholdComparator(selectedThresholdComparator){return setAlertParams("thresholdComparator",selectedThresholdComparator)}})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_common.ForLastExpression,{popupPosition:"upLeft",timeWindowSize:timeWindowSize,timeWindowUnit:timeWindowUnit,errors:errors,onChangeWindowSize:function onChangeWindowSize(selectedWindowSize){return setAlertParams("timeWindowSize",selectedWindowSize)},onChangeWindowUnit:function onChangeWindowUnit(selectedWindowUnit){return setAlertParams("timeWindowUnit",selectedWindowUnit)}}))))}];return _react.default.createElement(_react.Fragment,null,hasExpressionErrors?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{color:"danger",size:"s",title:expressionErrorMessage}),_react.default.createElement(_eui.EuiSpacer,null)):null,_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiSteps,{steps:firstSetOfSteps}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement("div",{className:"actAlertVisualization__chart"},canShowVizualization?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visBarVertical",body:_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.previewAlertVisualizationDescription",defaultMessage:"Complete the expression to generate a preview."}))})):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_visualization.ThresholdVisualization,{alertParams:alertParams,alertInterval:alertInterval,aggregationTypes:_constants.builtInAggregationTypes,comparators:_constants.builtInComparators,alertsContext:alertsContext}))))};exports.IndexThresholdAlertTypeExpression=IndexThresholdAlertTypeExpression},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdVisualization=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _rxjs=__webpack_require__(23);var _charts=__webpack_require__(694);var _momentTimezone=_interopRequireDefault(__webpack_require__(40));var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);var _index_threshold_api=__webpack_require__(851);var _parse_duration=__webpack_require__(976);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var customTheme=function customTheme(){return{lineSeriesStyle:{line:{strokeWidth:3},point:{visible:false}}}};var getTimezone=function getTimezone(uiSettings){var config=uiSettings;var DATE_FORMAT_CONFIG_KEY="dateFormat:tz";var isCustomTimezone=!config.isDefault(DATE_FORMAT_CONFIG_KEY);if(isCustomTimezone){return config.get(DATE_FORMAT_CONFIG_KEY)}var detectedTimezone=_momentTimezone.default.tz.guess();if(detectedTimezone){return detectedTimezone}var tzOffset=(0,_momentTimezone.default)().format("Z");return tzOffset};var getDomain=function getDomain(alertInterval,startAt){var VISUALIZE_INTERVALS=30;var intervalMillis;try{intervalMillis=(0,_parse_duration.parseDuration)(alertInterval)}catch(err){intervalMillis=1e3*60}return{min:startAt.getTime()-intervalMillis*VISUALIZE_INTERVALS,max:startAt.getTime()}};var DEFAULT_REFRESH_RATE=5e3;var LoadingStateType;(function(LoadingStateType){LoadingStateType[LoadingStateType["FirstLoad"]=0]="FirstLoad";LoadingStateType[LoadingStateType["Refresh"]=1]="Refresh";LoadingStateType[LoadingStateType["Idle"]=2]="Idle"})(LoadingStateType||(LoadingStateType={}));var ThresholdVisualization=function ThresholdVisualization(_ref){var alertParams=_ref.alertParams,alertInterval=_ref.alertInterval,aggregationTypes=_ref.aggregationTypes,comparators=_ref.comparators,alertsContext=_ref.alertsContext,_ref$refreshRateInMil=_ref.refreshRateInMilliseconds,refreshRateInMilliseconds=_ref$refreshRateInMil===void 0?DEFAULT_REFRESH_RATE:_ref$refreshRateInMil;var index=alertParams.index,timeField=alertParams.timeField,aggType=alertParams.aggType,aggField=alertParams.aggField,termSize=alertParams.termSize,termField=alertParams.termField,thresholdComparator=alertParams.thresholdComparator,timeWindowSize=alertParams.timeWindowSize,timeWindowUnit=alertParams.timeWindowUnit,groupBy=alertParams.groupBy,threshold=alertParams.threshold;var http=alertsContext.http,toastNotifications=alertsContext.toastNotifications,charts=alertsContext.charts,uiSettings=alertsContext.uiSettings,dataFieldsFormats=alertsContext.dataFieldsFormats;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),loadingState=_useState2[0],setLoadingState=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=(0,_react.useState)(),_useState6=_slicedToArray(_useState5,2),visualizationData=_useState6[0],setVisualizationData=_useState6[1];var _useState7=(0,_react.useState)(new Date),_useState8=_slicedToArray(_useState7,2),startVisualizationAt=_useState8[0],setStartVisualizationAt=_useState8[1];(0,_react.useEffect)((function(){var source=(0,_rxjs.interval)(refreshRateInMilliseconds);var subscription=source.subscribe((function(val){setStartVisualizationAt(new Date)}));return function(){subscription.unsubscribe()}}),[refreshRateInMilliseconds]);(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoadingState(loadingState?LoadingStateType.Refresh:LoadingStateType.FirstLoad);_context.t0=setVisualizationData;_context.next=5;return getVisualizationData(alertWithoutActions,visualizeOptions,http);case 5:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=13;break;case 9:_context.prev=9;_context.t2=_context["catch"](0);if(toastNotifications){toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.unableToLoadVisualizationMessage",{defaultMessage:"Unable to load visualization"})})}setError(_context.t2);case 13:_context.prev=13;setLoadingState(LoadingStateType.Idle);return _context.finish(13);case 16:case"end":return _context.stop()}}}),_callee,null,[[0,9,13,16]])})))()}),[index,timeField,aggType,aggField,termSize,termField,thresholdComparator,timeWindowSize,timeWindowUnit,groupBy,threshold,startVisualizationAt]);if(!charts||!uiSettings||!dataFieldsFormats){return null}var chartsTheme=charts.theme.useChartsTheme();var domain=getDomain(alertInterval,startVisualizationAt);var visualizeOptions={rangeFrom:new Date(domain.min).toISOString(),rangeTo:new Date(domain.max).toISOString(),interval:alertInterval};var alertWithoutActions=_objectSpread({},alertParams,{actions:[],type:"threshold"});if(loadingState===LoadingStateType.FirstLoad){return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement(_eui.EuiLoadingChart,{size:"xl"}),body:_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.loadingAlertVisualizationDescription",defaultMessage:"Loading alert visualization…"}))})}if(error){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.errorLoadingAlertVisualizationTitle",defaultMessage:"Cannot load alert visualization",values:{}}),color:"danger",iconType:"alert"},error))}var getThreshold=function getThreshold(){return thresholdComparator?threshold.slice(0,comparators[thresholdComparator].requiredValues):[]};if(visualizationData){var alertVisualizationDataKeys=Object.keys(visualizationData);var timezone=getTimezone(uiSettings);var actualThreshold=getThreshold();var maxY=actualThreshold[actualThreshold.length-1];Object.values(visualizationData).forEach((function(data){data.forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),y=_ref4[1];if(y>maxY){maxY=y}}))}));var dateFormatter=(0,_charts.niceTimeFormatter)([domain.min,domain.max]);var aggLabel=aggregationTypes[aggType].text;return _react.default.createElement("div",{"data-test-subj":"alertVisualizationChart",style:{position:"relative"}},loadingState===LoadingStateType.Refresh?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l",style:{position:"absolute",top:"8%",right:"5%"}}):_react.default.createElement(_react.Fragment,null),alertVisualizationDataKeys.length?_react.default.createElement(_charts.Chart,{size:["100%",200],renderer:"canvas"},_react.default.createElement(_charts.Settings,{theme:[customTheme(),chartsTheme],xDomain:domain,showLegend:!!termField,showLegendExtra:true,legendPosition:_charts.Position.Bottom}),_react.default.createElement(_charts.Axis,{id:"bottom",position:_charts.Position.Bottom,showOverlappingTicks:true,tickFormat:dateFormatter}),_react.default.createElement(_charts.Axis,{domain:{max:maxY},id:"left",title:aggLabel,position:_charts.Position.Left}),alertVisualizationDataKeys.map((function(key){return _react.default.createElement(_charts.LineSeries,{key:key,id:key,xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,data:visualizationData[key],xAccessor:0,yAccessors:[1],timeZone:timezone})})),actualThreshold.map((function(_value,i){var specId=i===0?"threshold":"threshold".concat(i);return _react.default.createElement(_charts.LineAnnotation,{key:specId,id:specId,domainType:_charts.AnnotationDomainTypes.YDomain,dataValues:[{dataValue:threshold[i],details:specId}]})}))):_react.default.createElement(_eui.EuiCallOut,{size:"s",title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.thresholdPreviewChart.noDataTitle",defaultMessage:"No data matches this query"}),color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.thresholdPreviewChart.dataDoesNotExistTextMessage",defaultMessage:"Check that your time range and filters are correct."})))}return null};exports.ThresholdVisualization=ThresholdVisualization;function getVisualizationData(_x,_x2,_x3){return _getVisualizationData.apply(this,arguments)}function _getVisualizationData(){_getVisualizationData=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(model,visualizeOptions,http){var vizData,result,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,groupMetrics;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_index_threshold_api.getThresholdAlertVisualizationData)({model:model,visualizeOptions:visualizeOptions,http:http});case 2:vizData=_context2.sent;result={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context2.prev=7;for(_iterator=vizData.results[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){groupMetrics=_step.value;result[groupMetrics.group]=groupMetrics.metrics.map((function(metricResult){return[Date.parse(metricResult[0]),metricResult[1]]}))}_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](7);_didIteratorError=true;_iteratorError=_context2.t0;case 15:_context2.prev=15;_context2.prev=16;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 18:_context2.prev=18;if(!_didIteratorError){_context2.next=21;break}throw _iteratorError;case 21:return _context2.finish(18);case 22:return _context2.finish(15);case 23:return _context2.abrupt("return",result);case 24:case"end":return _context2.stop()}}}),_callee2,null,[[7,11,15,23],[16,,18,22]])})));return _getVisualizationData.apply(this,arguments)}},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1561)}else{__webpack_require__(1563)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1562);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actAlertVisualization__chart {\n  height: 240px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1564);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actAlertVisualization__chart {\n  height: 240px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateExpression=void 0;var _i18n=__webpack_require__(0);var _constants=__webpack_require__(49);var validateExpression=function validateExpression(alertParams){var index=alertParams.index,timeField=alertParams.timeField,aggType=alertParams.aggType,aggField=alertParams.aggField,groupBy=alertParams.groupBy,termSize=alertParams.termSize,termField=alertParams.termField,threshold=alertParams.threshold,timeWindowSize=alertParams.timeWindowSize,thresholdComparator=alertParams.thresholdComparator;var validationResult={errors:{}};var errors={aggField:new Array,termSize:new Array,termField:new Array,timeWindowSize:new Array,threshold0:new Array,threshold1:new Array,index:new Array,timeField:new Array};validationResult.errors=errors;if(!index||index.length===0){errors.index.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredIndexText",{defaultMessage:"Index is required."}))}if(!timeField){errors.timeField.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredTimeFieldText",{defaultMessage:"Time field is required."}))}if(aggType&&_constants.builtInAggregationTypes[aggType].fieldRequired&&!aggField){errors.aggField.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredAggFieldText",{defaultMessage:"Aggregation field is required."}))}if(groupBy&&_constants.builtInGroupByTypes[groupBy]&&_constants.builtInGroupByTypes[groupBy].sizeRequired&&!termSize){errors.termSize.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredTermSizedText",{defaultMessage:"Term size is required."}))}if(groupBy&&_constants.builtInGroupByTypes[groupBy].validNormalizedTypes&&_constants.builtInGroupByTypes[groupBy].validNormalizedTypes.length>0&&!termField){errors.termField.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredtTermFieldText",{defaultMessage:"Term field is required."}))}if(!timeWindowSize){errors.timeWindowSize.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredTimeWindowSizeText",{defaultMessage:"Time window size is required."}))}if(!threshold||threshold.length===0||threshold[0]===undefined){errors.threshold0.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredThreshold0Text",{defaultMessage:"Threshold0 is required."}))}if(thresholdComparator&&_constants.builtInComparators[thresholdComparator].requiredValues>1&&(!threshold||threshold[1]===undefined||threshold&&threshold.length<_constants.builtInComparators[thresholdComparator].requiredValues)){errors.threshold1.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.requiredThreshold1Text",{defaultMessage:"Threshold1 is required."}))}if(threshold&&threshold.length===2&&threshold[0]>threshold[1]){errors.threshold1.push(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addAlert.error.greaterThenThreshold0Text",{defaultMessage:"Threshold1 should be > Threshold0."}))}return validationResult};exports.validateExpression=validateExpression},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeRegistry=void 0;var _i18n=__webpack_require__(0);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TypeRegistry=function(){function TypeRegistry(){_classCallCheck(this,TypeRegistry);_defineProperty(this,"objectTypes",new Map)}_createClass(TypeRegistry,[{key:"has",value:function has(id){return this.objectTypes.has(id)}},{key:"register",value:function register(objectType){if(this.has(objectType.id)){throw new Error(_i18n.i18n.translate("xpack.triggersActionsUI.typeRegistry.register.duplicateObjectTypeErrorMessage",{defaultMessage:'Object type "{id}" is already registered.',values:{id:objectType.id}}))}this.objectTypes.set(objectType.id,objectType)}},{key:"get",value:function get(id){if(!this.has(id)){throw new Error(_i18n.i18n.translate("xpack.triggersActionsUI.typeRegistry.get.missingActionTypeErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:id}}))}return this.objectTypes.get(id)}},{key:"list",value:function list(){return Array.from(this.objectTypes).map((function(_ref){var _ref2=_slicedToArray(_ref,2),id=_ref2[0],objectType=_ref2[1];return objectType}))}}]);return TypeRegistry}();exports.TypeRegistry=TypeRegistry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.boot=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactDom=__webpack_require__(218);var _app=__webpack_require__(1568);var _index_threshold_api=__webpack_require__(851);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var boot=function boot(bootDeps){var I18nContext=bootDeps.I18nContext,element=bootDeps.element,savedObjects=bootDeps.savedObjects,appDeps=_objectWithoutProperties(bootDeps,["I18nContext","element","savedObjects"]);(0,_index_threshold_api.setSavedObjectsClient)(savedObjects);(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(_app.App,appDeps)),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}};exports.boot=boot},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AppWithoutRouter=exports.App=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _constants=__webpack_require__(94);var _home=__webpack_require__(1569);var _app_context=__webpack_require__(706);var _capabilities=__webpack_require__(714);var _alert_details_route=__webpack_require__(1619);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var App=function App(appDeps){var sections=["alerts","connectors"];var sectionsRegex=sections.join("|");return _react.default.createElement(_reactRouterDom.HashRouter,null,_react.default.createElement(_app_context.AppContextProvider,{appDeps:appDeps},_react.default.createElement(AppWithoutRouter,{sectionsRegex:sectionsRegex})))};exports.App=App;var AppWithoutRouter=function AppWithoutRouter(_ref){var sectionsRegex=_ref.sectionsRegex;var _useAppDependencies=(0,_app_context.useAppDependencies)(),capabilities=_useAppDependencies.capabilities;var canShowAlerts=(0,_capabilities.hasShowAlertsCapability)(capabilities);var DEFAULT_SECTION=canShowAlerts?"alerts":"connectors";return _react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"".concat(_constants.BASE_PATH,"/:section(").concat(sectionsRegex,")"),component:_home.TriggersActionsUIHome}),canShowAlerts&&_react.default.createElement(_reactRouterDom.Route,{path:_constants.routeToAlertDetails,component:_alert_details_route.AlertDetailsRouteWithApi}),_react.default.createElement(_reactRouterDom.Redirect,{from:"".concat(_constants.BASE_PATH),to:"".concat(_constants.BASE_PATH,"/").concat(DEFAULT_SECTION)}))};exports.AppWithoutRouter=AppWithoutRouter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TriggersActionsUIHome=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _reactRouterDom=__webpack_require__(693);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _constants=__webpack_require__(94);var _breadcrumb=__webpack_require__(1570);var _doc_title=__webpack_require__(1571);var _app_context=__webpack_require__(706);var _capabilities=__webpack_require__(714);var _actions_connectors_list=__webpack_require__(1572);var _alerts_list=__webpack_require__(1604);var _plugin=__webpack_require__(729);var _health_check=__webpack_require__(856);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var TriggersActionsUIHome=function TriggersActionsUIHome(_ref){var section=_ref.match.params.section,history=_ref.history;var _useAppDependencies=(0,_app_context.useAppDependencies)(),chrome=_useAppDependencies.chrome,capabilities=_useAppDependencies.capabilities,setBreadcrumbs=_useAppDependencies.setBreadcrumbs,docLinks=_useAppDependencies.docLinks,http=_useAppDependencies.http;var canShowActions=(0,_capabilities.hasShowActionsCapability)(capabilities);var canShowAlerts=(0,_capabilities.hasShowAlertsCapability)(capabilities);var tabs=[];if(canShowAlerts){tabs.push({id:"alerts",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.home.alertsTabTitle",defaultMessage:"Alerts"})})}if(canShowActions){tabs.push({id:"connectors",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.home.connectorsTabTitle",defaultMessage:"Connectors"})})}var onSectionChange=function onSectionChange(newSection){history.push("".concat(_constants.BASE_PATH,"/").concat(newSection))};(0,_react.useEffect)((function(){setBreadcrumbs([(0,_breadcrumb.getCurrentBreadcrumb)(section||"home")]);chrome.docTitle.change((0,_doc_title.getCurrentDocTitle)(section||"home"))}),[section,chrome,setBreadcrumbs]);return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiPageContentHeader,null,_react.default.createElement(_eui.EuiPageContentHeaderSection,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",{"data-test-subj":"appTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.home.appTitle",defaultMessage:"Alerts and Actions"})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.home.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.home.sectionDescription",defaultMessage:"Detect conditions using alerts, and take actions using connectors."}))))),_react.default.createElement(_eui.EuiTabs,null,tabs.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return onSectionChange(tab.id)},isSelected:tab.id===section,key:tab.id,"data-test-subj":"".concat(tab.id,"Tab")},tab.name)}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_reactRouterDom.Switch,null,canShowActions&&_react.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.routeToConnectors,component:function component(){return _react.default.createElement(_health_check.HealthCheck,{docLinks:docLinks,http:http},_react.default.createElement(_actions_connectors_list.ActionsConnectorsList,null))}}),canShowAlerts&&_react.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.routeToAlerts,component:function component(){return _react.default.createElement(_health_check.HealthCheck,{docLinks:docLinks,http:http},_react.default.createElement(_alerts_list.AlertsList,null))}}))))};exports.TriggersActionsUIHome=TriggersActionsUIHome},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCurrentBreadcrumb=void 0;var _i18n=__webpack_require__(0);var _constants=__webpack_require__(94);var getCurrentBreadcrumb=function getCurrentBreadcrumb(type){switch(type){case"connectors":return{text:_i18n.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"}),href:"#".concat(_constants.routeToConnectors)};case"alerts":return{text:_i18n.i18n.translate("xpack.triggersActionsUI.alerts.breadcrumbTitle",{defaultMessage:"Alerts"}),href:"#".concat(_constants.routeToAlerts)};default:return{text:_i18n.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Alerts and Actions"}),href:"#".concat(_constants.routeToHome)}}};exports.getCurrentBreadcrumb=getCurrentBreadcrumb},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCurrentDocTitle=void 0;var _i18n=__webpack_require__(0);var getCurrentDocTitle=function getCurrentDocTitle(page){var updatedTitle;switch(page){case"connectors":updatedTitle=_i18n.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"});break;case"alerts":updatedTitle=_i18n.i18n.translate("xpack.triggersActionsUI.alerts.breadcrumbTitle",{defaultMessage:"Alerts"});break;default:updatedTitle=_i18n.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Alerts and Actions"})}return updatedTitle};exports.getCurrentDocTitle=getCurrentDocTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionsConnectorsList=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _app_context=__webpack_require__(706);var _action_connector_api=__webpack_require__(722);var _action_connector_form=__webpack_require__(977);var _capabilities=__webpack_require__(714);var _delete_modal_confirmation=__webpack_require__(980);var _actions_connectors_context=__webpack_require__(761);var _check_action_type_enabled=__webpack_require__(852);__webpack_require__(1593);var _empty_connectors_prompt=__webpack_require__(1598);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ActionsConnectorsList=function ActionsConnectorsList(){var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http,toastNotifications=_useAppDependencies.toastNotifications,capabilities=_useAppDependencies.capabilities,actionTypeRegistry=_useAppDependencies.actionTypeRegistry;var canDelete=(0,_capabilities.hasDeleteActionsCapability)(capabilities);var canSave=(0,_capabilities.hasSaveActionsCapability)(capabilities);var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),actionTypesIndex=_useState2[0],setActionTypesIndex=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=_slicedToArray(_useState3,2),actions=_useState4[0],setActions=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=(0,_react.useState)([]),_useState8=_slicedToArray(_useState7,2),selectedItems=_useState8[0],setSelectedItems=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),isLoadingActionTypes=_useState10[0],setIsLoadingActionTypes=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=_slicedToArray(_useState11,2),isLoadingActions=_useState12[0],setIsLoadingActions=_useState12[1];var _useState13=(0,_react.useState)(false),_useState14=_slicedToArray(_useState13,2),editFlyoutVisible=_useState14[0],setEditFlyoutVisibility=_useState14[1];var _useState15=(0,_react.useState)(false),_useState16=_slicedToArray(_useState15,2),addFlyoutVisible=_useState16[0],setAddFlyoutVisibility=_useState16[1];var _useState17=(0,_react.useState)([]),_useState18=_slicedToArray(_useState17,2),actionTypesList=_useState18[0],setActionTypesList=_useState18[1];var _useState19=(0,_react.useState)(undefined),_useState20=_slicedToArray(_useState19,2),editedConnectorItem=_useState20[0],setEditedConnectorItem=_useState20[1];var _useState21=(0,_react.useState)([]),_useState22=_slicedToArray(_useState21,2),connectorsToDelete=_useState22[0],setConnectorsToDelete=_useState22[1];(0,_react.useEffect)((function(){loadActions()}),[]);(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var actionTypes,index,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,actionTypeItem;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoadingActionTypes(true);_context.next=4;return(0,_action_connector_api.loadActionTypes)({http:http});case 4:actionTypes=_context.sent;index={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=9;for(_iterator=actionTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){actionTypeItem=_step.value;index[actionTypeItem.id]=actionTypeItem}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:setActionTypesIndex(index);_context.next=31;break;case 28:_context.prev=28;_context.t1=_context["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.unableToLoadActionTypesMessage",{defaultMessage:"Unable to load action types"})});case 31:_context.prev=31;setIsLoadingActionTypes(false);return _context.finish(31);case 34:case"end":return _context.stop()}}}),_callee,null,[[0,28,31,34],[9,13,17,25],[18,,20,24]])})))()}),[]);(0,_react.useEffect)((function(){if(typeof actionTypesIndex==="undefined"){return}var updatedData=actions.map((function(action){return _objectSpread({},action,{actionType:actionTypesIndex[action.actionTypeId]?actionTypesIndex[action.actionTypeId].name:action.actionTypeId})}));setData(updatedData);var actionTypes=Object.values(actionTypesIndex).map((function(actionType){return{value:actionType.id,name:"".concat(actionType.name," (").concat(getActionsCountByActionType(actions,actionType.id),")")}})).sort((function(a,b){return a.name.localeCompare(b.name)}));setActionTypesList(actionTypes)}),[actions,actionTypesIndex]);function loadActions(){return _loadActions.apply(this,arguments)}function _loadActions(){_loadActions=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var actionsResponse;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setIsLoadingActions(true);_context4.prev=1;_context4.next=4;return(0,_action_connector_api.loadAllActions)({http:http});case 4:actionsResponse=_context4.sent;setActions(actionsResponse.data);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4["catch"](1);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.unableToLoadActionsMessage",{defaultMessage:"Unable to load connectors"})});case 11:_context4.prev=11;setIsLoadingActions(false);return _context4.finish(11);case 14:case"end":return _context4.stop()}}}),_callee4,null,[[1,8,11,14]])})));return _loadActions.apply(this,arguments)}function editItem(_x){return _editItem.apply(this,arguments)}function _editItem(){_editItem=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(connectorTableItem){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setEditedConnectorItem(connectorTableItem);setEditFlyoutVisibility(true);case 2:case"end":return _context5.stop()}}}),_callee5)})));return _editItem.apply(this,arguments)}var actionsTableColumns=[{field:"name","data-test-subj":"connectorsTableCell-name",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.nameTitle",{defaultMessage:"Name"}),sortable:false,truncateText:true,render:function render(value,item){var checkEnabledResult=(0,_check_action_type_enabled.checkActionTypeEnabled)(actionTypesIndex&&actionTypesIndex[item.actionTypeId]);var link=_react.default.createElement(_eui.EuiLink,{"data-test-subj":"edit".concat(item.id),onClick:function onClick(){return editItem(item)},key:item.id,disabled:actionTypesIndex?!actionTypesIndex[item.actionTypeId].enabled:true},value);return checkEnabledResult.isEnabled?link:_react.default.createElement(_react.Fragment,null,link,_react.default.createElement(_eui.EuiIconTip,{type:"questionInCircle",content:checkEnabledResult.message,position:"right"}))}},{field:"actionType","data-test-subj":"connectorsTableCell-actionType",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.actionTypeTitle",{defaultMessage:"Type"}),sortable:false,truncateText:true},{field:"referencedByCount","data-test-subj":"connectorsTableCell-referencedByCount",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.referencedByCountTitle",{defaultMessage:"Actions"}),sortable:false,truncateText:true,render:function render(value,item){return _react.default.createElement(_eui.EuiBadge,{color:"hollow",key:item.id},value)}},{field:"",name:"",actions:[{enabled:function enabled(){return canDelete},"data-test-subj":"deleteConnector",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.actions.deleteActionName",{defaultMessage:"Delete"}),description:canDelete?_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.actions.deleteActionDescription",{defaultMessage:"Delete this connector"}):_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.connectorsListTable.columns.actions.deleteActionDisabledDescription",{defaultMessage:"Unable to delete connectors"}),type:"icon",icon:"trash",color:"danger",onClick:function onClick(item){return setConnectorsToDelete([item.id])}}]}];var table=_react.default.createElement(_eui.EuiInMemoryTable,{loading:isLoadingActions||isLoadingActionTypes,items:data,sorting:true,itemId:"id",columns:actionsTableColumns,rowProps:function rowProps(item){return{className:!actionTypesIndex||!actionTypesIndex[item.actionTypeId].enabled?"actConnectorsList__tableRowDisabled":"","data-test-subj":"connectors-row"}},cellProps:function cellProps(item){return{"data-test-subj":"cell",className:!actionTypesIndex||!actionTypesIndex[item.actionTypeId].enabled?"actConnectorsList__tableCellDisabled":""}},"data-test-subj":"actionsTable",pagination:true,selection:canDelete?{onSelectionChange:function onSelectionChange(updatedSelectedItemsList){setSelectedItems(updatedSelectedItemsList)}}:undefined,search:{filters:[{type:"field_value_selection",field:"actionTypeId",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.filters.actionTypeIdName",{defaultMessage:"Type"}),multiSelect:"or",options:actionTypesList}],toolsLeft:selectedItems.length===0||!canDelete?[]:[_react.default.createElement(_eui.EuiButton,{key:"delete",iconType:"trash",color:"danger","data-test-subj":"bulkDelete",onClick:function onClick(){setConnectorsToDelete(selectedItems.map((function(selected){return selected.id})))},title:canDelete?undefined:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.buttons.deleteDisabledTitle",{defaultMessage:"Unable to delete connectors"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionsConnectorsList.buttons.deleteLabel",defaultMessage:"Delete {count}",values:{count:selectedItems.length}}))],toolsRight:[_react.default.createElement(_eui.EuiButton,{"data-test-subj":"createActionButton",key:"create-action",fill:true,iconType:"plusInCircle",iconSide:"left",onClick:function onClick(){return setAddFlyoutVisibility(true)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionsConnectorsList.addActionButtonLabel",defaultMessage:"Create connector"}))]}});var noPermissionPrompt=_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionsConnectorsList.noPermissionToCreateTitle",defaultMessage:"No permissions to create connector"}));return _react.default.createElement("section",{"data-test-subj":"actionsList"},_react.default.createElement(_delete_modal_confirmation.DeleteModalConfirmation,{onDeleted:function onDeleted(deleted){if(selectedItems.length===0||selectedItems.length===deleted.length){var updatedActions=actions.filter((function(action){return action.id&&!connectorsToDelete.includes(action.id)}));setActions(updatedActions);setSelectedItems([])}setConnectorsToDelete([])},onErrors:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadActions();case 2:setConnectorsToDelete([]);case 3:case"end":return _context2.stop()}}}),_callee2)}))),onCancel:_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setConnectorsToDelete([]);case 1:case"end":return _context3.stop()}}}),_callee3)}))),apiDeleteCall:_action_connector_api.deleteActions,idsToDelete:connectorsToDelete,singleTitle:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.singleTitle",{defaultMessage:"connector"}),multipleTitle:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.multipleTitle",{defaultMessage:"connectors"})}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),(isLoadingActions||isLoadingActionTypes)&&_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))),data.length!==0&&table,data.length===0&&canSave&&!isLoadingActions&&!isLoadingActionTypes&&_react.default.createElement(_empty_connectors_prompt.EmptyConnectorsPrompt,{onCTAClicked:function onCTAClicked(){return setAddFlyoutVisibility(true)}}),data.length===0&&!canSave&&noPermissionPrompt,_react.default.createElement(_actions_connectors_context.ActionsConnectorsContextProvider,{value:{actionTypeRegistry:actionTypeRegistry,http:http,capabilities:capabilities,toastNotifications:toastNotifications,reloadConnectors:loadActions}},_react.default.createElement(_action_connector_form.ConnectorAddFlyout,{addFlyoutVisible:addFlyoutVisible,setAddFlyoutVisibility:setAddFlyoutVisibility}),editedConnectorItem?_react.default.createElement(_action_connector_form.ConnectorEditFlyout,{key:editedConnectorItem.id,initialConnector:editedConnectorItem,editFlyoutVisible:editFlyoutVisible,setEditFlyoutVisibility:setEditFlyoutVisibility}):null))};exports.ActionsConnectorsList=ActionsConnectorsList;function getActionsCountByActionType(actions,actionTypeId){return actions.filter((function(action){return action.actionTypeId===actionTypeId})).length}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectorAddFlyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _action_type_menu=__webpack_require__(1574);var _action_connector_form=__webpack_require__(853);var _connector_reducer=__webpack_require__(854);var _capabilities=__webpack_require__(714);var _action_connector_api=__webpack_require__(722);var _actions_connectors_context=__webpack_require__(761);var _constants=__webpack_require__(49);var _plugin=__webpack_require__(729);var _constants2=__webpack_require__(1580);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ConnectorAddFlyout=function ConnectorAddFlyout(_ref){var _ref2;var addFlyoutVisible=_ref.addFlyoutVisible,setAddFlyoutVisibility=_ref.setAddFlyoutVisibility,actionTypes=_ref.actionTypes;var hasErrors=false;var _useActionsConnectors=(0,_actions_connectors_context.useActionsConnectorsContext)(),http=_useActionsConnectors.http,toastNotifications=_useActionsConnectors.toastNotifications,capabilities=_useActionsConnectors.capabilities,actionTypeRegistry=_useActionsConnectors.actionTypeRegistry,reloadConnectors=_useActionsConnectors.reloadConnectors;var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),actionType=_useState2[0],setActionType=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),hasActionsDisabledByLicense=_useState4[0],setHasActionsDisabledByLicense=_useState4[1];var initialConnector={actionTypeId:(_ref2=actionType===null||actionType===void 0?void 0:actionType.id)!==null&&_ref2!==void 0?_ref2:"",config:{},secrets:{}};var _useReducer=(0,_react.useReducer)(_connector_reducer.connectorReducer,{connector:initialConnector}),_useReducer2=_slicedToArray(_useReducer,2),connector=_useReducer2[0].connector,dispatch=_useReducer2[1];var setActionProperty=function setActionProperty(key,value){dispatch({command:{type:"setProperty"},payload:{key:key,value:value}})};var setConnector=function setConnector(value){dispatch({command:{type:"setConnector"},payload:{key:"connector",value:value}})};var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isSaving=_useState6[0],setIsSaving=_useState6[1];var closeFlyout=(0,_react.useCallback)((function(){setAddFlyoutVisibility(false);setActionType(undefined);setConnector(initialConnector)}),[setAddFlyoutVisibility,initialConnector]);var canSave=(0,_capabilities.hasSaveActionsCapability)(capabilities);if(!addFlyoutVisible){return null}function onActionTypeChange(newActionType){setActionType(newActionType);setActionProperty("actionTypeId",newActionType.id)}var currentForm;var actionTypeModel;if(!actionType){currentForm=_react.default.createElement(_action_type_menu.ActionTypeMenu,{onActionTypeChange:onActionTypeChange,actionTypes:actionTypes,setHasActionsDisabledByLicense:setHasActionsDisabledByLicense})}else{var _actionTypeModel;actionTypeModel=actionTypeRegistry.get(actionType.id);var errors=_objectSpread({},(_actionTypeModel=actionTypeModel)===null||_actionTypeModel===void 0?void 0:_actionTypeModel.validateConnector(connector).errors,{},(0,_action_connector_form.validateBaseProperties)(connector).errors);hasErrors=!!Object.keys(errors).find((function(errorKey){return errors[errorKey].length>=1}));currentForm=_react.default.createElement(_action_connector_form.ActionConnectorForm,{actionTypeName:actionType.name,connector:connector,dispatch:dispatch,errors:errors,actionTypeRegistry:actionTypeRegistry,http:http})}var onActionConnectorSave=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_action_connector_api.createActionConnector)({http:http,connector:connector}).then((function(savedConnector){if(toastNotifications){toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addConnectorForm.updateSuccessNotificationText",{defaultMessage:"Created '{connectorName}'",values:{connectorName:savedConnector.name}}))}return savedConnector})).catch((function(errorRes){var _ref4,_errorRes$body;toastNotifications.addDanger((_ref4=(_errorRes$body=errorRes.body)===null||_errorRes$body===void 0?void 0:_errorRes$body.message)!==null&&_ref4!==void 0?_ref4:_i18n.i18n.translate("xpack.triggersActionsUI.sections.addConnectorForm.updateErrorNotificationText",{defaultMessage:"Cannot create a connector."}));return undefined}));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));return function onActionConnectorSave(){return _ref3.apply(this,arguments)}}();return _react.default.createElement(_eui.EuiFlyout,{onClose:closeFlyout,"aria-labelledby":"flyoutActionAddTitle",size:"m"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},actionTypeModel&&actionTypeModel.iconClass?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:actionTypeModel.iconClass,size:"xl"})):null,_react.default.createElement(_eui.EuiFlexItem,null,actionTypeModel&&actionType?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",{id:"flyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{actionTypeName} connector",id:"xpack.triggersActionsUI.sections.addConnectorForm.flyoutTitle",values:{actionTypeName:actionType.name}})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.addConnectorForm.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})}))),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},actionTypeModel.selectMessage)):_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",{id:"selectConnectorFlyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Select a connector",id:"xpack.triggersActionsUI.sections.addConnectorForm.selectConnectorFlyoutTitle"})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.addFlyout.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})})))))),_react.default.createElement(_eui.EuiFlyoutBody,{banner:!actionType&&hasActionsDisabledByLicense?_react.default.createElement(UpgradeYourLicenseCallOut,{http:http}):_react.default.createElement(_react.Fragment,null)},currentForm),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:closeFlyout},_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorAdd.cancelButtonLabel",{defaultMessage:"Cancel"}))),canSave&&actionTypeModel&&actionType?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary","data-test-subj":"saveNewActionButton",type:"submit",iconType:"check",isDisabled:hasErrors,isLoading:isSaving,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var savedAction;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsSaving(true);_context2.next=3;return onActionConnectorSave();case 3:savedAction=_context2.sent;setIsSaving(false);if(savedAction){closeFlyout();if(reloadConnectors){reloadConnectors()}}case 6:case"end":return _context2.stop()}}}),_callee2)})))},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorAdd.saveButtonLabel",defaultMessage:"Save"}))):null)))};exports.ConnectorAddFlyout=ConnectorAddFlyout;var UpgradeYourLicenseCallOut=function UpgradeYourLicenseCallOut(_ref6){var http=_ref6.http;return _react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorAdd.upgradeYourPlanBannerTitle",{defaultMessage:"Upgrade your license to access all connectors"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorAdd.upgradeYourPlanBannerMessage",defaultMessage:"Upgrade your license or start a 30-day free trial for immediate access to all third-party connectors."}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:"".concat(http.basePath.get(),"/app/kibana#").concat(_constants2.BASE_PATH),iconType:"gear",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorAdd.manageLicensePlanBannerLinkTitle",defaultMessage:"Manage license"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{href:_constants.VIEW_LICENSE_OPTIONS_LINK,iconType:"popout",iconSide:"right",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.actionConnectorAdd.upgradeYourPlanBannerLinkTitle",defaultMessage:"Subscription plans"})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionTypeMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _action_connector_api=__webpack_require__(722);var _actions_connectors_context=__webpack_require__(761);var _action_type_compare=__webpack_require__(978);var _check_action_type_enabled=__webpack_require__(852);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ActionTypeMenu=function ActionTypeMenu(_ref){var onActionTypeChange=_ref.onActionTypeChange,actionTypes=_ref.actionTypes,setHasActionsDisabledByLicense=_ref.setHasActionsDisabledByLicense;var _useActionsConnectors=(0,_actions_connectors_context.useActionsConnectorsContext)(),http=_useActionsConnectors.http,toastNotifications=_useActionsConnectors.toastNotifications,actionTypeRegistry=_useActionsConnectors.actionTypeRegistry;var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),actionTypesIndex=_useState2[0],setActionTypesIndex=_useState2[1];(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var availableActionTypes,index,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,actionTypeItem,hasActionsDisabledByLicense;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(actionTypes!==null&&actionTypes!==void 0)){_context.next=5;break}_context.t0=actionTypes;_context.next=8;break;case 5:_context.next=7;return(0,_action_connector_api.loadActionTypes)({http:http});case 7:_context.t0=_context.sent;case 8:availableActionTypes=_context.t0;index={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=13;for(_iterator=availableActionTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){actionTypeItem=_step.value;index[actionTypeItem.id]=actionTypeItem}_context.next=21;break;case 17:_context.prev=17;_context.t1=_context["catch"](13);_didIteratorError=true;_iteratorError=_context.t1;case 21:_context.prev=21;_context.prev=22;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 24:_context.prev=24;if(!_didIteratorError){_context.next=27;break}throw _iteratorError;case 27:return _context.finish(24);case 28:return _context.finish(21);case 29:setActionTypesIndex(index);if(setHasActionsDisabledByLicense){hasActionsDisabledByLicense=availableActionTypes.some((function(action){return!index[action.id].enabledInLicense}));setHasActionsDisabledByLicense(hasActionsDisabledByLicense)}_context.next=36;break;case 33:_context.prev=33;_context.t2=_context["catch"](0);if(toastNotifications){toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.actionsConnectorsList.unableToLoadActionTypesMessage",{defaultMessage:"Unable to load action types"})})}case 36:case"end":return _context.stop()}}}),_callee,null,[[0,33],[13,17,21,29],[22,,24,28]])})))()}),[]);var registeredActionTypes=Object.entries(actionTypesIndex!==null&&actionTypesIndex!==void 0?actionTypesIndex:[]).filter((function(_ref3){var _ref4=_slicedToArray(_ref3,2),id=_ref4[0],details=_ref4[1];return actionTypeRegistry.has(id)&&details.enabledInConfig===true})).map((function(_ref5){var _ref6=_slicedToArray(_ref5,2),id=_ref6[0],actionType=_ref6[1];var actionTypeModel=actionTypeRegistry.get(id);return{iconClass:actionTypeModel?actionTypeModel.iconClass:"",selectMessage:actionTypeModel?actionTypeModel.selectMessage:"",actionType:actionType,name:actionType.name,typeName:id.replace(".","")}}));var cardNodes=registeredActionTypes.sort((function(a,b){return(0,_action_type_compare.actionTypeCompare)(a.actionType,b.actionType)})).map((function(item,index){var checkEnabledResult=(0,_check_action_type_enabled.checkActionTypeEnabled)(item.actionType);var card=_react.default.createElement(_eui.EuiCard,{titleSize:"xs","data-test-subj":"".concat(item.actionType.id,"-card"),icon:_react.default.createElement(_eui.EuiIcon,{size:"l",type:item.iconClass}),title:item.name,description:item.selectMessage,isDisabled:!checkEnabledResult.isEnabled,onClick:function onClick(){return onActionTypeChange(item.actionType)}});return _react.default.createElement(_eui.EuiFlexItem,{key:index},checkEnabledResult.isEnabled&&card,checkEnabledResult.isEnabled===false&&_react.default.createElement(_eui.EuiToolTip,{position:"top",content:checkEnabledResult.message},card))}));return _react.default.createElement("div",{className:"actConnectorsListGrid"},_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGrid,{gutterSize:"xl",columns:3},cardNodes))};exports.ActionTypeMenu=ActionTypeMenu},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1576)}else{__webpack_require__(1578)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1577);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actCheckActionTypeEnabled__disabledActionWarningCard {\n  background-color: #25262E; }\n\n.actAccordionActionForm .euiCard {\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n\n.actConnectorsListGrid .euiToolTipAnchor,\n.actConnectorsListGrid .euiCard {\n  height: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1579);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actCheckActionTypeEnabled__disabledActionWarningCard {\n  background-color: #F5F7FA; }\n\n.actAccordionActionForm .euiCard {\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n\n.actConnectorsListGrid .euiToolTipAnchor,\n.actConnectorsListGrid .euiCard {\n  height: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});Object.defineProperty(exports,"BASE_PATH",{enumerable:true,get:function get(){return _base_path.BASE_PATH}});Object.defineProperty(exports,"API_BASE_PATH",{enumerable:true,get:function get(){return _base_path.API_BASE_PATH}});Object.defineProperty(exports,"EXTERNAL_LINKS",{enumerable:true,get:function get(){return _external_links.EXTERNAL_LINKS}});Object.defineProperty(exports,"APP_PERMISSION",{enumerable:true,get:function get(){return _permissions.APP_PERMISSION}});var _plugin=__webpack_require__(1581);var _base_path=__webpack_require__(1582);var _external_links=__webpack_require__(1583);var _permissions=__webpack_require__(1584)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN=void 0;var _i18n=__webpack_require__(0);var PLUGIN={title:_i18n.i18n.translate("xpack.licenseMgmt.managementSectionDisplayName",{defaultMessage:"License Management"}),id:"license_management"};exports.PLUGIN=PLUGIN},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.API_BASE_PATH=exports.BASE_PATH=void 0;var BASE_PATH="/management/elasticsearch/license_management/";exports.BASE_PATH=BASE_PATH;var API_BASE_PATH="/api/license";exports.API_BASE_PATH=API_BASE_PATH},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EXTERNAL_LINKS=void 0;var ELASTIC_BASE_URL="https://www.elastic.co/";var EXTERNAL_LINKS={SUBSCRIPTIONS:"".concat(ELASTIC_BASE_URL,"subscriptions"),TRIAL_EXTENSION:"".concat(ELASTIC_BASE_URL,"trialextension"),TRIAL_LICENSE:"".concat(ELASTIC_BASE_URL,"legal/trial_license")};exports.EXTERNAL_LINKS=EXTERNAL_LINKS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.APP_PERMISSION=void 0;var APP_PERMISSION="cluster:manage";exports.APP_PERMISSION=APP_PERMISSION},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectorEditFlyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _action_connector_form=__webpack_require__(853);var _connector_reducer=__webpack_require__(854);var _action_connector_api=__webpack_require__(722);var _capabilities=__webpack_require__(714);var _actions_connectors_context=__webpack_require__(761);var _plugin=__webpack_require__(729);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ConnectorEditFlyout=function ConnectorEditFlyout(_ref){var initialConnector=_ref.initialConnector,editFlyoutVisible=_ref.editFlyoutVisible,setEditFlyoutVisibility=_ref.setEditFlyoutVisibility;var hasErrors=false;var _useActionsConnectors=(0,_actions_connectors_context.useActionsConnectorsContext)(),http=_useActionsConnectors.http,toastNotifications=_useActionsConnectors.toastNotifications,capabilities=_useActionsConnectors.capabilities,actionTypeRegistry=_useActionsConnectors.actionTypeRegistry,reloadConnectors=_useActionsConnectors.reloadConnectors;var canSave=(0,_capabilities.hasSaveActionsCapability)(capabilities);var closeFlyout=(0,_react.useCallback)((function(){return setEditFlyoutVisibility(false)}),[setEditFlyoutVisibility]);var _useReducer=(0,_react.useReducer)(_connector_reducer.connectorReducer,{connector:_objectSpread({},initialConnector,{secrets:{}})}),_useReducer2=_slicedToArray(_useReducer,2),connector=_useReducer2[0].connector,dispatch=_useReducer2[1];var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];if(!editFlyoutVisible){return null}var actionTypeModel=actionTypeRegistry.get(connector.actionTypeId);var errors=_objectSpread({},actionTypeModel===null||actionTypeModel===void 0?void 0:actionTypeModel.validateConnector(connector).errors,{},(0,_action_connector_form.validateBaseProperties)(connector).errors);hasErrors=!!Object.keys(errors).find((function(errorKey){return errors[errorKey].length>=1}));var onActionConnectorSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_action_connector_api.updateActionConnector)({http:http,connector:connector,id:connector.id}).then((function(savedConnector){toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.sections.editConnectorForm.updateSuccessNotificationText",{defaultMessage:"Updated '{connectorName}'",values:{connectorName:savedConnector.name}}));return savedConnector})).catch((function(errorRes){var _ref3,_errorRes$body;toastNotifications.addDanger((_ref3=(_errorRes$body=errorRes.body)===null||_errorRes$body===void 0?void 0:_errorRes$body.message)!==null&&_ref3!==void 0?_ref3:_i18n.i18n.translate("xpack.triggersActionsUI.sections.editConnectorForm.updateErrorNotificationText",{defaultMessage:"Cannot update a connector."}));return undefined}));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));return function onActionConnectorSave(){return _ref2.apply(this,arguments)}}();return _react.default.createElement(_eui.EuiFlyout,{onClose:closeFlyout,"aria-labelledby":"flyoutActionAddTitle",size:"m"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},actionTypeModel?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:actionTypeModel.iconClass,size:"m"})):null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",{id:"flyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Edit connector",id:"xpack.triggersActionsUI.sections.editConnectorForm.flyoutTitle"})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.editConnectorForm.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})})))))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_action_connector_form.ActionConnectorForm,{connector:connector,errors:errors,actionTypeName:connector.actionType,dispatch:dispatch,actionTypeRegistry:actionTypeRegistry,http:http})),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:closeFlyout},_i18n.i18n.translate("xpack.triggersActionsUI.sections.editConnectorForm.cancelButtonLabel",{defaultMessage:"Cancel"}))),canSave&&actionTypeModel?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary","data-test-subj":"saveEditedActionButton",type:"submit",iconType:"check",isDisabled:hasErrors,isLoading:isSaving,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var savedAction;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsSaving(true);_context2.next=3;return onActionConnectorSave();case 3:savedAction=_context2.sent;setIsSaving(false);if(savedAction){closeFlyout();if(reloadConnectors){reloadConnectors()}}case 6:case"end":return _context2.stop()}}}),_callee2)})))},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.editConnectorForm.saveButtonLabel",defaultMessage:"Save"}))):null)))};exports.ConnectorEditFlyout=ConnectorEditFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionLoading=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SectionLoading=function SectionLoading(_ref){var children=_ref.children;return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),body:_react.default.createElement(_eui.EuiText,{color:"subdued"},children),"data-test-subj":"sectionLoading"})};exports.SectionLoading=SectionLoading},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectorAddModal=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _action_connector_form=__webpack_require__(853);var _connector_reducer=__webpack_require__(854);var _action_connector_api=__webpack_require__(722);__webpack_require__(1588);var _plugin=__webpack_require__(729);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ConnectorAddModal=function ConnectorAddModal(_ref){var actionType=_ref.actionType,addModalVisible=_ref.addModalVisible,setAddModalVisibility=_ref.setAddModalVisibility,postSaveEventHandler=_ref.postSaveEventHandler,http=_ref.http,toastNotifications=_ref.toastNotifications,actionTypeRegistry=_ref.actionTypeRegistry;var hasErrors=false;var initialConnector={actionTypeId:actionType.id,config:{},secrets:{}};var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useReducer=(0,_react.useReducer)(_connector_reducer.connectorReducer,{connector:initialConnector}),_useReducer2=_slicedToArray(_useReducer,2),connector=_useReducer2[0].connector,dispatch=_useReducer2[1];var setConnector=function setConnector(value){dispatch({command:{type:"setConnector"},payload:{key:"connector",value:value}})};var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),serverError=_useState4[0],setServerError=_useState4[1];var closeModal=(0,_react.useCallback)((function(){setAddModalVisibility(false);setConnector(initialConnector);setServerError(undefined)}),[initialConnector,setAddModalVisibility]);if(!addModalVisible){return null}var actionTypeModel=actionTypeRegistry.get(actionType.id);var errors=_objectSpread({},actionTypeModel===null||actionTypeModel===void 0?void 0:actionTypeModel.validateConnector(connector).errors,{},(0,_action_connector_form.validateBaseProperties)(connector).errors);hasErrors=!!Object.keys(errors).find((function(errorKey){return errors[errorKey].length>=1}));var onActionConnectorSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_action_connector_api.createActionConnector)({http:http,connector:connector}).then((function(savedConnector){if(toastNotifications){toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.sections.addModalConnectorForm.updateSuccessNotificationText",{defaultMessage:"Created '{connectorName}'",values:{connectorName:savedConnector.name}}))}return savedConnector})).catch((function(errorRes){setServerError(errorRes);return undefined}));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));return function onActionConnectorSave(){return _ref2.apply(this,arguments)}}();return _react.default.createElement(_eui.EuiOverlayMask,{className:"actConnectorModal"},_react.default.createElement(_eui.EuiModal,{onClose:closeModal},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},actionTypeModel&&actionTypeModel.iconClass?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:actionTypeModel.iconClass,size:"xl"})):null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",{id:"flyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"{actionTypeName} connector",id:"xpack.triggersActionsUI.sections.addModalConnectorForm.flyoutTitle",values:{actionTypeName:actionType.name}})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.addModalConnectorForm.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})}))))))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_action_connector_form.ActionConnectorForm,{connector:connector,actionTypeName:actionType.name,dispatch:dispatch,serverError:serverError,errors:errors,actionTypeRegistry:actionTypeRegistry,http:http})),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{onClick:closeModal},_i18n.i18n.translate("xpack.triggersActionsUI.sections.addModalConnectorForm.cancelButtonLabel",{defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary","data-test-subj":"saveActionButtonModal",type:"submit",iconType:"check",isDisabled:hasErrors,isLoading:isSaving,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var savedAction;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsSaving(true);_context2.next=3;return onActionConnectorSave();case 3:savedAction=_context2.sent;setIsSaving(false);if(savedAction){if(postSaveEventHandler){postSaveEventHandler(savedAction)}closeModal()}case 6:case"end":return _context2.stop()}}}),_callee2)})))},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.addModalConnectorForm.saveButtonLabel",defaultMessage:"Save"})))))};exports.ConnectorAddModal=ConnectorAddModal},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1589)}else{__webpack_require__(1591)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1590);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actConnectorModal {\n  z-index: 9000; }\n\n.euiComboBoxOptionsList {\n  z-index: 9001; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1592);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actConnectorModal {\n  z-index: 9000; }\n\n.euiComboBoxOptionsList {\n  z-index: 9001; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1594)}else{__webpack_require__(1596)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1595);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actConnectorsList__tableRowDisabled {\n  background-color: #25262E; }\n  .actConnectorsList__tableRowDisabled .actConnectorsList__tableCellDisabled {\n    color: #98A2B3; }\n  .actConnectorsList__tableRowDisabled .euiLink + .euiIcon {\n    margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1597);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actConnectorsList__tableRowDisabled {\n  background-color: #F5F7FA; }\n  .actConnectorsList__tableRowDisabled .actConnectorsList__tableCellDisabled {\n    color: #69707D; }\n  .actConnectorsList__tableRowDisabled .euiLink + .euiIcon {\n    margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyConnectorsPrompt=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);__webpack_require__(1599);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var EmptyConnectorsPrompt=function EmptyConnectorsPrompt(_ref){var onCTAClicked=_ref.onCTAClicked;return _react2.default.createElement(_eui.EuiEmptyPrompt,{"data-test-subj":"createFirstConnectorEmptyPrompt",title:_react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiIcon,{type:"logoSlack",size:"xl",className:"actEmptyConnectorsPrompt__logo"}),_react2.default.createElement(_eui.EuiIcon,{type:"logoGmail",size:"xl",className:"actEmptyConnectorsPrompt__logo"}),_react2.default.createElement(_eui.EuiIcon,{type:"logoWebhook",size:"xl",className:"actEmptyConnectorsPrompt__logo"}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyConnectorsPrompt.addActionEmptyTitle",defaultMessage:"Create your first connector"})))),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyConnectorsPrompt.addActionEmptyBody",defaultMessage:"Configure email, Slack, Elasticsearch, and third-party services that Kibana can trigger."})),actions:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createFirstActionButton",key:"create-action",fill:true,iconType:"plusInCircle",iconSide:"left",onClick:onCTAClicked},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyConnectorsPrompt.addActionButtonLabel",defaultMessage:"Create connector"}))})};exports.EmptyConnectorsPrompt=EmptyConnectorsPrompt},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1600)}else{__webpack_require__(1602)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1601);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actEmptyConnectorsPrompt__logo + .actEmptyConnectorsPrompt__logo {\n  margin-left: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1603);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".actEmptyConnectorsPrompt__logo + .actEmptyConnectorsPrompt__logo {\n  margin-left: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsList=void 0;var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _reactRouterDom=__webpack_require__(693);var _lodash=__webpack_require__(1);var _alerts_context=__webpack_require__(762);var _app_context=__webpack_require__(706);var _alert_form=__webpack_require__(981);var _bulk_operation_popover=__webpack_require__(1613);var _alert_quick_edit_buttons=__webpack_require__(1614);var _collapsed_item_actions=__webpack_require__(1615);var _type_filter=__webpack_require__(1616);var _action_type_filter=__webpack_require__(1617);var _alert_api=__webpack_require__(743);var _action_connector_api=__webpack_require__(722);var _capabilities=__webpack_require__(714);var _constants=__webpack_require__(94);var _delete_modal_confirmation=__webpack_require__(980);var _empty_prompt=__webpack_require__(1618);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ENTER_KEY=13;var AlertsList=function AlertsList(){var history=(0,_reactRouterDom.useHistory)();var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http,toastNotifications=_useAppDependencies.toastNotifications,capabilities=_useAppDependencies.capabilities,alertTypeRegistry=_useAppDependencies.alertTypeRegistry,actionTypeRegistry=_useAppDependencies.actionTypeRegistry,uiSettings=_useAppDependencies.uiSettings,docLinks=_useAppDependencies.docLinks,charts=_useAppDependencies.charts,dataPlugin=_useAppDependencies.dataPlugin;var canDelete=(0,_capabilities.hasDeleteAlertsCapability)(capabilities);var canSave=(0,_capabilities.hasSaveAlertsCapability)(capabilities);var _useState=(0,_react2.useState)([]),_useState2=_slicedToArray(_useState,2),actionTypes=_useState2[0],setActionTypes=_useState2[1];var _useState3=(0,_react2.useState)([]),_useState4=_slicedToArray(_useState3,2),selectedIds=_useState4[0],setSelectedIds=_useState4[1];var _useState5=(0,_react2.useState)(false),_useState6=_slicedToArray(_useState5,2),isPerformingAction=_useState6[0],setIsPerformingAction=_useState6[1];var _useState7=(0,_react2.useState)({index:0,size:_constants.DEFAULT_SEARCH_PAGE_SIZE}),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=(0,_react2.useState)(),_useState10=_slicedToArray(_useState9,2),searchText=_useState10[0],setSearchText=_useState10[1];var _useState11=(0,_react2.useState)(),_useState12=_slicedToArray(_useState11,2),inputText=_useState12[0],setInputText=_useState12[1];var _useState13=(0,_react2.useState)([]),_useState14=_slicedToArray(_useState13,2),typesFilter=_useState14[0],setTypesFilter=_useState14[1];var _useState15=(0,_react2.useState)([]),_useState16=_slicedToArray(_useState15,2),actionTypesFilter=_useState16[0],setActionTypesFilter=_useState16[1];var _useState17=(0,_react2.useState)(false),_useState18=_slicedToArray(_useState17,2),alertFlyoutVisible=_useState18[0],setAlertFlyoutVisibility=_useState18[1];var _useState19=(0,_react2.useState)({isLoading:false,isInitialized:false,data:{}}),_useState20=_slicedToArray(_useState19,2),alertTypesState=_useState20[0],setAlertTypesState=_useState20[1];var _useState21=(0,_react2.useState)({isLoading:false,data:[],totalItemCount:0}),_useState22=_slicedToArray(_useState21,2),alertsState=_useState22[0],setAlertsState=_useState22[1];var _useState23=(0,_react2.useState)(undefined),_useState24=_slicedToArray(_useState23,2),editedAlertItem=_useState24[0],setEditedAlertItem=_useState24[1];var _useState25=(0,_react2.useState)(false),_useState26=_slicedToArray(_useState25,2),editFlyoutVisible=_useState26[0],setEditFlyoutVisibility=_useState26[1];var _useState27=(0,_react2.useState)([]),_useState28=_slicedToArray(_useState27,2),alertsToDelete=_useState28[0],setAlertsToDelete=_useState28[1];(0,_react2.useEffect)((function(){loadAlertsData()}),[page,searchText,typesFilter,actionTypesFilter]);(0,_react2.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var alertTypes,index,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,alertType;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setAlertTypesState(_objectSpread({},alertTypesState,{isLoading:true}));_context.next=4;return(0,_alert_api.loadAlertTypes)({http:http});case 4:alertTypes=_context.sent;index={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=9;for(_iterator=alertTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){alertType=_step.value;index[alertType.id]=alertType}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:setAlertTypesState({isLoading:false,data:index,isInitialized:true});_context.next=32;break;case 28:_context.prev=28;_context.t1=_context["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.unableToLoadAlertTypesMessage",{defaultMessage:"Unable to load alert types"})});setAlertTypesState(_objectSpread({},alertTypesState,{isLoading:false}));case 32:case"end":return _context.stop()}}}),_callee,null,[[0,28],[9,13,17,25],[18,,20,24]])})))()}),[]);(0,_react2.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var result;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_action_connector_api.loadActionTypes)({http:http});case 3:result=_context2.sent;setActionTypes(result.filter((function(actionType){return actionTypeRegistry.has(actionType.id)})));_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.unableToLoadActionTypesMessage",{defaultMessage:"Unable to load action types"})});case 10:case"end":return _context2.stop()}}}),_callee2,null,[[0,7]])})))()}),[]);function loadAlertsData(){return _loadAlertsData.apply(this,arguments)}function _loadAlertsData(){_loadAlertsData=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var alertsResponse;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setAlertsState(_objectSpread({},alertsState,{isLoading:true}));_context5.prev=1;_context5.next=4;return(0,_alert_api.loadAlerts)({http:http,page:page,searchText:searchText,typesFilter:typesFilter,actionTypesFilter:actionTypesFilter});case 4:alertsResponse=_context5.sent;setAlertsState({isLoading:false,data:alertsResponse.data,totalItemCount:alertsResponse.total});_context5.next=12;break;case 8:_context5.prev=8;_context5.t0=_context5["catch"](1);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.unableToLoadAlertsMessage",{defaultMessage:"Unable to load alerts"})});setAlertsState(_objectSpread({},alertsState,{isLoading:false}));case 12:case"end":return _context5.stop()}}}),_callee5,null,[[1,8]])})));return _loadAlertsData.apply(this,arguments)}function editItem(_x){return _editItem.apply(this,arguments)}function _editItem(){_editItem=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(alertTableItem){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:setEditedAlertItem(alertTableItem);setEditFlyoutVisibility(true);case 2:case"end":return _context6.stop()}}}),_callee6)})));return _editItem.apply(this,arguments)}var alertsTableColumns=[{field:"name",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.alertsListTable.columns.nameTitle",{defaultMessage:"Name"}),sortable:false,truncateText:true,"data-test-subj":"alertsTableCell-name",render:function render(name,alert){return _react2.default.createElement(_eui.EuiLink,{title:name,onClick:function onClick(){history.push(_constants.routeToAlertDetails.replace(":alertId",alert.id))}},name)}},{field:"tagsText",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.alertsListTable.columns.tagsText",{defaultMessage:"Tags"}),sortable:false,"data-test-subj":"alertsTableCell-tagsText"},{field:"alertType",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.alertsListTable.columns.alertTypeTitle",{defaultMessage:"Type"}),sortable:false,truncateText:true,"data-test-subj":"alertsTableCell-alertType"},{field:"schedule.interval",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.alertsListTable.columns.intervalTitle",{defaultMessage:"Runs every"}),sortable:false,truncateText:false,"data-test-subj":"alertsTableCell-interval"},{name:"",width:"50px",render:function render(item){if(!canSave||!alertTypeRegistry.has(item.alertTypeId)){return}return _react2.default.createElement(_eui.EuiLink,{"data-test-subj":"alertsTableCell-editLink",color:"primary",onClick:function onClick(){return editItem(item)}},_react2.default.createElement(_react.FormattedMessage,{defaultMessage:"Edit",id:"xpack.triggersActionsUI.sections.alertsList.alertsListTable.columns.editLinkTitle"}))}},{name:"",width:"40px",render:function render(item){return _react2.default.createElement(_collapsed_item_actions.CollapsedItemActionsWithApi,{key:item.id,item:item,onAlertChanged:function onAlertChanged(){return loadAlertsData()},setAlertsToDelete:setAlertsToDelete})}}];var toolsRight=[_react2.default.createElement(_type_filter.TypeFilter,{key:"type-filter",onChange:function onChange(types){return setTypesFilter(types)},options:Object.values(alertTypesState.data).map((function(alertType){return{value:alertType.id,name:alertType.name}})).sort((function(a,b){return a.name.localeCompare(b.name)}))}),_react2.default.createElement(_action_type_filter.ActionTypeFilter,{key:"action-type-filter",actionTypes:actionTypes,onChange:function onChange(ids){return setActionTypesFilter(ids)}})];if(canSave){toolsRight.push(_react2.default.createElement(_eui.EuiButton,{key:"create-alert","data-test-subj":"createAlertButton",fill:true,iconType:"plusInCircle",iconSide:"left",onClick:function onClick(){return setAlertFlyoutVisibility(true)}},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.addActionButtonLabel",defaultMessage:"Create alert"})))}var table=_react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},selectedIds.length>0&&canDelete&&_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_bulk_operation_popover.BulkOperationPopover,null,_react2.default.createElement(_alert_quick_edit_buttons.AlertQuickEditButtonsWithApi,{selectedItems:convertAlertsToTableItems(filterAlertsById(alertsState.data,selectedIds),alertTypesState.data),onPerformingAction:function onPerformingAction(){return setIsPerformingAction(true)},onActionPerformed:function onActionPerformed(){loadAlertsData();setIsPerformingAction(false)},setAlertsToDelete:setAlertsToDelete}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,"data-test-subj":"alertSearchField",prepend:_react2.default.createElement(_eui.EuiIcon,{type:"search"}),onChange:function onChange(e){return setInputText(e.target.value)},onKeyUp:function onKeyUp(e){if(e.keyCode===ENTER_KEY){setSearchText(inputText)}},placeholder:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.searchPlaceholderTitle",{defaultMessage:"Search"})})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},toolsRight.map((function(tool,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,grow:false},tool)}))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiBasicTable,{loading:alertsState.isLoading||alertTypesState.isLoading||isPerformingAction,items:alertTypesState.isInitialized===false?[]:convertAlertsToTableItems(alertsState.data,alertTypesState.data),itemId:"id",columns:alertsTableColumns,rowProps:function rowProps(){return{"data-test-subj":"alert-row"}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},"data-test-subj":"alertsList",pagination:{pageIndex:page.index,pageSize:page.size,totalItemCount:alertTypesState.isInitialized===false?0:alertsState.totalItemCount},selection:canDelete?{onSelectionChange:function onSelectionChange(updatedSelectedItemsList){setSelectedIds(updatedSelectedItemsList.map((function(item){return item.id})))}}:undefined,onChange:function onChange(_ref3){var changedPage=_ref3.page;setPage(changedPage)}}));var loadedItems=convertAlertsToTableItems(alertsState.data,alertTypesState.data);var isFilterApplied=!((0,_lodash.isEmpty)(searchText)&&(0,_lodash.isEmpty)(typesFilter)&&(0,_lodash.isEmpty)(actionTypesFilter));return _react2.default.createElement("section",{"data-test-subj":"alertsList"},_react2.default.createElement(_delete_modal_confirmation.DeleteModalConfirmation,{onDeleted:function onDeleted(deleted){if(selectedIds.length===0||selectedIds.length===deleted.length){var updatedAlerts=alertsState.data.filter((function(alert){return alert.id&&!alertsToDelete.includes(alert.id)}));setAlertsState({isLoading:false,data:updatedAlerts,totalItemCount:alertsState.totalItemCount-deleted.length});setSelectedIds([])}setAlertsToDelete([])},onErrors:_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return loadAlertsData();case 2:setAlertsToDelete([]);case 3:case"end":return _context3.stop()}}}),_callee3)}))),onCancel:_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setAlertsToDelete([]);case 1:case"end":return _context4.stop()}}}),_callee4)}))),apiDeleteCall:_alert_api.deleteAlerts,idsToDelete:alertsToDelete,singleTitle:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.singleTitle",{defaultMessage:"alert"}),multipleTitle:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.multipleTitle",{defaultMessage:"alerts"})}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),loadedItems.length||isFilterApplied?table:alertTypesState.isLoading||alertsState.isLoading?_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))):_react2.default.createElement(_empty_prompt.EmptyPrompt,{onCTAClicked:function onCTAClicked(){return setAlertFlyoutVisibility(true)}}),_react2.default.createElement(_alerts_context.AlertsContextProvider,{value:{reloadAlerts:loadAlertsData,http:http,actionTypeRegistry:actionTypeRegistry,alertTypeRegistry:alertTypeRegistry,toastNotifications:toastNotifications,uiSettings:uiSettings,docLinks:docLinks,charts:charts,dataFieldsFormats:dataPlugin.fieldFormats}},_react2.default.createElement(_alert_form.AlertAdd,{consumer:"alerting",addFlyoutVisible:alertFlyoutVisible,setAddFlyoutVisibility:setAlertFlyoutVisibility}),editFlyoutVisible&&editedAlertItem?_react2.default.createElement(_alert_form.AlertEdit,{key:editedAlertItem.id,initialAlert:editedAlertItem,editFlyoutVisible:editFlyoutVisible,setEditFlyoutVisibility:setEditFlyoutVisibility}):null))};exports.AlertsList=AlertsList;function filterAlertsById(alerts,ids){return alerts.filter((function(alert){return ids.includes(alert.id)}))}function convertAlertsToTableItems(alerts,alertTypesIndex){return alerts.map((function(alert){var _ref6,_alertTypesIndex$aler;return _objectSpread({},alert,{tagsText:alert.tags.join(", "),alertType:(_ref6=(_alertTypesIndex$aler=alertTypesIndex[alert.alertTypeId])===null||_alertTypesIndex$aler===void 0?void 0:_alertTypesIndex$aler.name)!==null&&_ref6!==void 0?_ref6:alert.alertTypeId})}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertAdd=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _lodash=__webpack_require__(1);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _alerts_context=__webpack_require__(762);var _alert_form=__webpack_require__(982);var _alert_reducer=__webpack_require__(983);var _alert_api=__webpack_require__(743);var _health_check=__webpack_require__(856);var _plugin=__webpack_require__(729);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertAdd=function AlertAdd(_ref){var consumer=_ref.consumer,addFlyoutVisible=_ref.addFlyoutVisible,setAddFlyoutVisibility=_ref.setAddFlyoutVisibility,canChangeTrigger=_ref.canChangeTrigger,alertTypeId=_ref.alertTypeId;var initialAlert={params:{},consumer:consumer,alertTypeId:alertTypeId,schedule:{interval:"1m"},actions:[],tags:[]};var _useReducer=(0,_react.useReducer)(_alert_reducer.alertReducer,{alert:initialAlert}),_useReducer2=_slicedToArray(_useReducer,2),alert=_useReducer2[0].alert,dispatch=_useReducer2[1];var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var setAlert=function setAlert(value){dispatch({command:{type:"setAlert"},payload:{key:"alert",value:value}})};var _useAlertsContext=(0,_alerts_context.useAlertsContext)(),reloadAlerts=_useAlertsContext.reloadAlerts,http=_useAlertsContext.http,toastNotifications=_useAlertsContext.toastNotifications,alertTypeRegistry=_useAlertsContext.alertTypeRegistry,actionTypeRegistry=_useAlertsContext.actionTypeRegistry,docLinks=_useAlertsContext.docLinks;var closeFlyout=(0,_react.useCallback)((function(){setAddFlyoutVisibility(false);setAlert(initialAlert)}),[initialAlert,setAddFlyoutVisibility]);if(!addFlyoutVisible){return null}var alertType=alert.alertTypeId?alertTypeRegistry.get(alert.alertTypeId):null;var errors=_objectSpread({},alertType?alertType.validate(alert.params).errors:[],{},(0,_alert_form.validateBaseProperties)(alert).errors);var hasErrors=parseErrors(errors);var actionsErrors=alert.actions.map((function(alertAction){var _actionTypeRegistry$g;return(_actionTypeRegistry$g=actionTypeRegistry.get(alertAction.actionTypeId))===null||_actionTypeRegistry$g===void 0?void 0:_actionTypeRegistry$g.validateParams(alertAction.params)}));var hasActionErrors=actionsErrors.find((function(errorObj){return errorObj&&!!Object.keys(errorObj.errors).find((function(errorKey){return errorObj.errors[errorKey].length>=1}))}))!==undefined;function onSaveAlert(){return _onSaveAlert.apply(this,arguments)}function _onSaveAlert(){_onSaveAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var newAlert,_ref3,_errorRes$body;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_alert_api.createAlert)({http:http,alert:alert});case 3:newAlert=_context2.sent;toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.saveSuccessNotificationText",{defaultMessage:"Saved '{alertName}'",values:{alertName:newAlert.name}}));return _context2.abrupt("return",newAlert);case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);toastNotifications.addDanger((_ref3=(_errorRes$body=_context2.t0.body)===null||_errorRes$body===void 0?void 0:_errorRes$body.message)!==null&&_ref3!==void 0?_ref3:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.saveErrorNotificationText",{defaultMessage:"Cannot create alert."}));case 11:case"end":return _context2.stop()}}}),_callee2,null,[[0,8]])})));return _onSaveAlert.apply(this,arguments)}return _react.default.createElement(_eui.EuiPortal,null,_react.default.createElement(_eui.EuiFlyout,{onClose:closeFlyout,"aria-labelledby":"flyoutAlertAddTitle",size:"m",maxWidth:620,ownFocus:true},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"s","data-test-subj":"addAlertFlyoutTitle"},_react.default.createElement("h3",{id:"flyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Create alert",id:"xpack.triggersActionsUI.sections.alertAdd.flyoutTitle"})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})})))),_react.default.createElement(_health_check.HealthCheck,{docLinks:docLinks,http:http,inFlyout:true},_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_alert_form.AlertForm,{alert:alert,dispatch:dispatch,errors:errors,canChangeTrigger:canChangeTrigger})),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancelSaveAlertButton",onClick:closeFlyout},_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertAdd.cancelButtonLabel",{defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary","data-test-subj":"saveAlertButton",type:"submit",iconType:"check",isDisabled:hasErrors||hasActionErrors,isLoading:isSaving,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var savedAlert;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);_context.next=3;return onSaveAlert();case 3:savedAlert=_context.sent;setIsSaving(false);if(savedAlert){closeFlyout();if(reloadAlerts){reloadAlerts()}}case 6:case"end":return _context.stop()}}}),_callee)})))},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertAdd.saveButtonLabel",defaultMessage:"Save"}))))))))};exports.AlertAdd=AlertAdd;var parseErrors=function parseErrors(errors){return!!Object.values(errors).find((function(errorList){if((0,_lodash.isObject)(errorList))return parseErrors(errorList);return errorList.length>=1}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.actionVariablesFromAlertType=actionVariablesFromAlertType;var _i18n=__webpack_require__(0);function actionVariablesFromAlertType(alertType){var alwaysProvidedVars=getAlwaysProvidedActionVariables();var contextVars=prefixKeys(alertType.actionVariables.context,"context.");var stateVars=prefixKeys(alertType.actionVariables.state,"state.");return alwaysProvidedVars.concat(contextVars,stateVars)}function prefixKeys(actionVariables,prefix){return actionVariables.map((function(actionVariable){return{name:"".concat(prefix).concat(actionVariable.name),description:actionVariable.description}}))}function getAlwaysProvidedActionVariables(){var result=[];result.push({name:"alertId",description:_i18n.i18n.translate("xpack.triggersActionsUI.actionVariables.alertIdLabel",{defaultMessage:"The id of the alert."})});result.push({name:"alertName",description:_i18n.i18n.translate("xpack.triggersActionsUI.actionVariables.alertNameLabel",{defaultMessage:"The name of the alert."})});result.push({name:"spaceId",description:_i18n.i18n.translate("xpack.triggersActionsUI.actionVariables.spaceIdLabel",{defaultMessage:"The spaceId of the alert."})});result.push({name:"tags",description:_i18n.i18n.translate("xpack.triggersActionsUI.actionVariables.tagsLabel",{defaultMessage:"The tags of the alert."})});result.push({name:"alertInstanceId",description:_i18n.i18n.translate("xpack.triggersActionsUI.actionVariables.alertInstanceIdLabel",{defaultMessage:"The alert instance id that scheduled actions for the alert."})});return result}},function(module,exports,__webpack_require__){if(window.__kbnDarkMode__){__webpack_require__(1608)}else{__webpack_require__(1610)}},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1609);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".alertingHealthCheck__body {\n  padding-left: 32px;\n  padding-right: 32px; }\n\n.alertingFlyoutHealthCheck__body {\n  padding-left: 32px;\n  padding-right: 32px;\n  margin-top: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(34);var content=__webpack_require__(1611);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(35);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".alertingHealthCheck__body {\n  padding-left: 32px;\n  padding-right: 32px; }\n\n.alertingFlyoutHealthCheck__body {\n  padding-left: 32px;\n  padding-right: 32px;\n  margin-top: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertEdit=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _alerts_context=__webpack_require__(762);var _alert_form=__webpack_require__(982);var _alert_reducer=__webpack_require__(983);var _alert_api=__webpack_require__(743);var _health_check=__webpack_require__(856);var _plugin=__webpack_require__(729);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertEdit=function AlertEdit(_ref){var initialAlert=_ref.initialAlert,editFlyoutVisible=_ref.editFlyoutVisible,setEditFlyoutVisibility=_ref.setEditFlyoutVisibility;var _useReducer=(0,_react.useReducer)(_alert_reducer.alertReducer,{alert:initialAlert}),_useReducer2=_slicedToArray(_useReducer,2),alert=_useReducer2[0].alert,dispatch=_useReducer2[1];var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),hasActionsDisabled=_useState4[0],setHasActionsDisabled=_useState4[1];var _useAlertsContext=(0,_alerts_context.useAlertsContext)(),reloadAlerts=_useAlertsContext.reloadAlerts,http=_useAlertsContext.http,toastNotifications=_useAlertsContext.toastNotifications,alertTypeRegistry=_useAlertsContext.alertTypeRegistry,actionTypeRegistry=_useAlertsContext.actionTypeRegistry,docLinks=_useAlertsContext.docLinks;var closeFlyout=(0,_react.useCallback)((function(){setEditFlyoutVisibility(false)}),[setEditFlyoutVisibility]);if(!editFlyoutVisible){return null}var alertType=alertTypeRegistry.get(alert.alertTypeId);var errors=_objectSpread({},alertType?alertType.validate(alert.params).errors:[],{},(0,_alert_form.validateBaseProperties)(alert).errors);var hasErrors=!!Object.keys(errors).find((function(errorKey){return errors[errorKey].length>=1}));var actionsErrors=alert.actions.map((function(alertAction){var _actionTypeRegistry$g;return(_actionTypeRegistry$g=actionTypeRegistry.get(alertAction.actionTypeId))===null||_actionTypeRegistry$g===void 0?void 0:_actionTypeRegistry$g.validateParams(alertAction.params)}));var hasActionErrors=actionsErrors.find((function(errorObj){return errorObj&&!!Object.keys(errorObj.errors).find((function(errorKey){return errorObj.errors[errorKey].length>=1}))}))!==undefined;function onSaveAlert(){return _onSaveAlert.apply(this,arguments)}function _onSaveAlert(){_onSaveAlert=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var newAlert,_ref3,_errorRes$body;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_alert_api.updateAlert)({http:http,alert:alert,id:alert.id});case 3:newAlert=_context2.sent;toastNotifications.addSuccess(_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertEdit.saveSuccessNotificationText",{defaultMessage:"Updated '{alertName}'",values:{alertName:newAlert.name}}));return _context2.abrupt("return",newAlert);case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);toastNotifications.addDanger((_ref3=(_errorRes$body=_context2.t0.body)===null||_errorRes$body===void 0?void 0:_errorRes$body.message)!==null&&_ref3!==void 0?_ref3:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertEdit.saveErrorNotificationText",{defaultMessage:"Cannot update alert."}));case 11:case"end":return _context2.stop()}}}),_callee2,null,[[0,8]])})));return _onSaveAlert.apply(this,arguments)}return _react.default.createElement(_eui.EuiPortal,null,_react.default.createElement(_eui.EuiFlyout,{onClose:closeFlyout,"aria-labelledby":"flyoutAlertEditTitle",size:"m",maxWidth:620,ownFocus:true},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"s","data-test-subj":"editAlertFlyoutTitle"},_react.default.createElement("h3",{id:"flyoutTitle"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Edit alert",id:"xpack.triggersActionsUI.sections.alertEdit.flyoutTitle"})," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertEdit.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})})))),_react.default.createElement(_health_check.HealthCheck,{docLinks:docLinks,http:http,inFlyout:true},_react.default.createElement(_eui.EuiFlyoutBody,null,hasActionsDisabled&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"danger",iconType:"alert",title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertEdit.disabledActionsWarningTitle",{defaultMessage:"This alert has actions that are disabled"})}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_alert_form.AlertForm,{alert:alert,dispatch:dispatch,errors:errors,canChangeTrigger:false,setHasActionsDisabled:setHasActionsDisabled})),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancelSaveEditedAlertButton",onClick:closeFlyout},_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertEdit.cancelButtonLabel",{defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary","data-test-subj":"saveEditedAlertButton",type:"submit",iconType:"check",isDisabled:hasErrors||hasActionErrors,isLoading:isSaving,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var savedAlert;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);_context.next=3;return onSaveAlert();case 3:savedAlert=_context.sent;setIsSaving(false);if(savedAlert){closeFlyout();if(reloadAlerts){reloadAlerts()}}case 6:case"end":return _context.stop()}}}),_callee)})))},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertEdit.saveButtonLabel",defaultMessage:"Save"}))))))))};exports.AlertEdit=AlertEdit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BulkOperationPopover=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var BulkOperationPopover=function BulkOperationPopover(_ref){var children=_ref.children;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];return _react.default.createElement(_eui.EuiPopover,{isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},"data-test-subj":"bulkAction",button:_react.default.createElement(_eui.EuiButton,{iconType:"arrowDown",iconSide:"right",onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.buttonTitle",defaultMessage:"Manage alerts"}))},children&&_react.default.Children.map(children,(function(child){return _react.default.isValidElement(child)?_react.default.createElement(_eui.EuiFormRow,null,_react.default.cloneElement(child,{})):child})))};exports.BulkOperationPopover=BulkOperationPopover},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertQuickEditButtonsWithApi=exports.AlertQuickEditButtons=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _app_context=__webpack_require__(706);var _with_bulk_alert_api_operations=__webpack_require__(744);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertQuickEditButtons=function AlertQuickEditButtons(_ref){var selectedItems=_ref.selectedItems,_ref$onPerformingActi=_ref.onPerformingAction,onPerformingAction=_ref$onPerformingActi===void 0?noop:_ref$onPerformingActi,_ref$onActionPerforme=_ref.onActionPerformed,onActionPerformed=_ref$onActionPerforme===void 0?noop:_ref$onActionPerforme,muteAlerts=_ref.muteAlerts,unmuteAlerts=_ref.unmuteAlerts,enableAlerts=_ref.enableAlerts,disableAlerts=_ref.disableAlerts,setAlertsToDelete=_ref.setAlertsToDelete;var _useAppDependencies=(0,_app_context.useAppDependencies)(),toastNotifications=_useAppDependencies.toastNotifications;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isMutingAlerts=_useState2[0],setIsMutingAlerts=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isUnmutingAlerts=_useState4[0],setIsUnmutingAlerts=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isEnablingAlerts=_useState6[0],setIsEnablingAlerts=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),isDisablingAlerts=_useState8[0],setIsDisablingAlerts=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=_slicedToArray(_useState9,2),isDeletingAlerts=_useState10[0],setIsDeletingAlerts=_useState10[1];var allAlertsMuted=selectedItems.every(isAlertMuted);var allAlertsDisabled=selectedItems.every(isAlertDisabled);var isPerformingAction=isMutingAlerts||isUnmutingAlerts||isEnablingAlerts||isDisablingAlerts||isDeletingAlerts;function onmMuteAllClick(){return _onmMuteAllClick.apply(this,arguments)}function _onmMuteAllClick(){_onmMuteAllClick=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onPerformingAction();setIsMutingAlerts(true);_context.prev=2;_context.next=5;return muteAlerts(selectedItems);case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](2);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.failedToMuteAlertsMessage",{defaultMessage:"Failed to mute alert(s)"})});case 10:_context.prev=10;setIsMutingAlerts(false);onActionPerformed();return _context.finish(10);case 14:case"end":return _context.stop()}}}),_callee,null,[[2,7,10,14]])})));return _onmMuteAllClick.apply(this,arguments)}function onUnmuteAllClick(){return _onUnmuteAllClick.apply(this,arguments)}function _onUnmuteAllClick(){_onUnmuteAllClick=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:onPerformingAction();setIsUnmutingAlerts(true);_context2.prev=2;_context2.next=5;return unmuteAlerts(selectedItems);case 5:_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](2);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.failedToUnmuteAlertsMessage",{defaultMessage:"Failed to unmute alert(s)"})});case 10:_context2.prev=10;setIsUnmutingAlerts(false);onActionPerformed();return _context2.finish(10);case 14:case"end":return _context2.stop()}}}),_callee2,null,[[2,7,10,14]])})));return _onUnmuteAllClick.apply(this,arguments)}function onEnableAllClick(){return _onEnableAllClick.apply(this,arguments)}function _onEnableAllClick(){_onEnableAllClick=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:onPerformingAction();setIsEnablingAlerts(true);_context3.prev=2;_context3.next=5;return enableAlerts(selectedItems);case 5:_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](2);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.failedToEnableAlertsMessage",{defaultMessage:"Failed to enable alert(s)"})});case 10:_context3.prev=10;setIsEnablingAlerts(false);onActionPerformed();return _context3.finish(10);case 14:case"end":return _context3.stop()}}}),_callee3,null,[[2,7,10,14]])})));return _onEnableAllClick.apply(this,arguments)}function onDisableAllClick(){return _onDisableAllClick.apply(this,arguments)}function _onDisableAllClick(){_onDisableAllClick=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:onPerformingAction();setIsDisablingAlerts(true);_context4.prev=2;_context4.next=5;return disableAlerts(selectedItems);case 5:_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4["catch"](2);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.failedToDisableAlertsMessage",{defaultMessage:"Failed to disable alert(s)"})});case 10:_context4.prev=10;setIsDisablingAlerts(false);onActionPerformed();return _context4.finish(10);case 14:case"end":return _context4.stop()}}}),_callee4,null,[[2,7,10,14]])})));return _onDisableAllClick.apply(this,arguments)}function deleteSelectedItems(){return _deleteSelectedItems.apply(this,arguments)}function _deleteSelectedItems(){_deleteSelectedItems=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:onPerformingAction();setIsDeletingAlerts(true);try{setAlertsToDelete(selectedItems.map((function(selected){return selected.id})))}catch(e){toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.failedToDeleteAlertsMessage",{defaultMessage:"Failed to delete alert(s)"})})}finally{setIsDeletingAlerts(false);onActionPerformed()}case 3:case"end":return _context5.stop()}}}),_callee5)})));return _deleteSelectedItems.apply(this,arguments)}return _react.default.createElement(_react.Fragment,null,!allAlertsMuted&&_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onmMuteAllClick,isLoading:isMutingAlerts,isDisabled:isPerformingAction,"data-test-subj":"muteAll"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.muteAllTitle",defaultMessage:"Mute"})),allAlertsMuted&&_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onUnmuteAllClick,isLoading:isUnmutingAlerts,isDisabled:isPerformingAction,"data-test-subj":"unmuteAll"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.unmuteAllTitle",defaultMessage:"Unmute"})),allAlertsDisabled&&_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onEnableAllClick,isLoading:isEnablingAlerts,isDisabled:isPerformingAction,"data-test-subj":"enableAll"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.enableAllTitle",defaultMessage:"Enable"})),!allAlertsDisabled&&_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onDisableAllClick,isLoading:isDisablingAlerts,isDisabled:isPerformingAction,"data-test-subj":"disableAll"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.disableAllTitle",defaultMessage:"Disable"})),_react.default.createElement(_eui.EuiButtonEmpty,{onClick:deleteSelectedItems,isLoading:isDeletingAlerts,isDisabled:isPerformingAction,"data-test-subj":"deleteAll"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.bulkActionPopover.deleteAllTitle",defaultMessage:"Delete"})))};exports.AlertQuickEditButtons=AlertQuickEditButtons;var AlertQuickEditButtonsWithApi=(0,_with_bulk_alert_api_operations.withBulkAlertOperations)(AlertQuickEditButtons);exports.AlertQuickEditButtonsWithApi=AlertQuickEditButtonsWithApi;function isAlertDisabled(alert){return alert.enabled===false}function isAlertMuted(alert){return alert.muteAll===true}function noop(){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollapsedItemActionsWithApi=exports.CollapsedItemActions=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);var _app_context=__webpack_require__(706);var _capabilities=__webpack_require__(714);var _with_bulk_alert_api_operations=__webpack_require__(744);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CollapsedItemActions=function CollapsedItemActions(_ref){var item=_ref.item,onAlertChanged=_ref.onAlertChanged,disableAlert=_ref.disableAlert,enableAlert=_ref.enableAlert,unmuteAlert=_ref.unmuteAlert,muteAlert=_ref.muteAlert,setAlertsToDelete=_ref.setAlertsToDelete;var _useAppDependencies=(0,_app_context.useAppDependencies)(),capabilities=_useAppDependencies.capabilities;var canDelete=(0,_capabilities.hasDeleteAlertsCapability)(capabilities);var canSave=(0,_capabilities.hasSaveAlertsCapability)(capabilities);var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var button=_react.default.createElement(_eui.EuiButtonIcon,{disabled:!canDelete&&!canSave,iconType:"boxesVertical",onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)},"aria-label":_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertsList.collapsedItemActons.popoverButtonTitle",{defaultMessage:"Actions"})});return _react.default.createElement(_eui.EuiPopover,{button:button,isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},ownFocus:true,"data-test-subj":"collapsedItemActions"},_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{name:"enable",disabled:!canSave,checked:item.enabled,"data-test-subj":"enableSwitch",onChange:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!item.enabled){_context.next=5;break}_context.next=3;return disableAlert(item);case 3:_context.next=7;break;case 5:_context.next=7;return enableAlert(item);case 7:onAlertChanged();case 8:case"end":return _context.stop()}}}),_callee)}))),label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.collapsedItemActons.enableTitle",defaultMessage:"Enable"})})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{name:"mute",checked:item.muteAll,disabled:!(canSave&&item.enabled),"data-test-subj":"muteSwitch",onChange:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!item.muteAll){_context2.next=5;break}_context2.next=3;return unmuteAlert(item);case 3:_context2.next=7;break;case 5:_context2.next=7;return muteAlert(item);case 7:onAlertChanged();case 8:case"end":return _context2.stop()}}}),_callee2)}))),label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.collapsedItemActons.muteTitle",defaultMessage:"Mute"})})),_react.default.createElement(_eui.EuiPopoverFooter,null,_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiButtonEmpty,{isDisabled:!canDelete,iconType:"trash",color:"text","data-test-subj":"deleteAlert",onClick:function onClick(){return setAlertsToDelete([item.id])}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.collapsedItemActons.deleteTitle",defaultMessage:"Delete"})))))};exports.CollapsedItemActions=CollapsedItemActions;var CollapsedItemActionsWithApi=(0,_with_bulk_alert_api_operations.withBulkAlertOperations)(CollapsedItemActions);exports.CollapsedItemActionsWithApi=CollapsedItemActionsWithApi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeFilter=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TypeFilter=function TypeFilter(_ref){var options=_ref.options,onChange=_ref.onChange;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selectedValues=_useState2[0],setSelectedValues=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isPopoverOpen=_useState4[0],setIsPopoverOpen=_useState4[1];(0,_react.useEffect)((function(){if(onChange){onChange(selectedValues)}}),[selectedValues]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiPopover,{isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},button:_react.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:selectedValues.length>0,numActiveFilters:selectedValues.length,numFilters:selectedValues.length,onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.typeFilterLabel",defaultMessage:"Type"}))},_react.default.createElement("div",{className:"euiFilterSelect__items"},options.map((function(item,index){return _react.default.createElement(_eui.EuiFilterSelectItem,{key:index,onClick:function onClick(){var isPreviouslyChecked=selectedValues.includes(item.value);if(isPreviouslyChecked){setSelectedValues(selectedValues.filter((function(val){return val!==item.value})))}else{setSelectedValues(selectedValues.concat(item.value))}},checked:selectedValues.includes(item.value)?"on":undefined},item.name)})))))};exports.TypeFilter=TypeFilter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionTypeFilter=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ActionTypeFilter=function ActionTypeFilter(_ref){var actionTypes=_ref.actionTypes,onChange=_ref.onChange;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selectedValues=_useState2[0],setSelectedValues=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isPopoverOpen=_useState4[0],setIsPopoverOpen=_useState4[1];(0,_react.useEffect)((function(){if(onChange){onChange(selectedValues)}}),[selectedValues]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiPopover,{isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},button:_react.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:selectedValues.length>0,numActiveFilters:selectedValues.length,numFilters:selectedValues.length,onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsList.actionTypeFilterLabel",defaultMessage:"Action type"}))},_react.default.createElement("div",{className:"euiFilterSelect__items"},actionTypes.map((function(item){return _react.default.createElement(_eui.EuiFilterSelectItem,{key:item.id,onClick:function onClick(){var isPreviouslyChecked=selectedValues.includes(item.id);if(isPreviouslyChecked){setSelectedValues(selectedValues.filter((function(val){return val!==item.id})))}else{setSelectedValues(selectedValues.concat(item.id))}},checked:selectedValues.includes(item.id)?"on":undefined},item.name)})))))};exports.ActionTypeFilter=ActionTypeFilter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyPrompt=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyPrompt=function EmptyPrompt(_ref){var onCTAClicked=_ref.onCTAClicked;return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"createFirstAlertEmptyPrompt",title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyTitle",defaultMessage:"Create your first alert"})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyDesc",defaultMessage:"Receive an alert through email, Slack, or another connector when a trigger is hit."})),actions:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createFirstAlertButton",key:"create-action",fill:true,iconType:"plusInCircle",iconSide:"left",onClick:onCTAClicked},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyButton",defaultMessage:"Create alert"}))})};exports.EmptyPrompt=EmptyPrompt},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAlertData=getAlertData;exports.AlertDetailsRouteWithApi=exports.AlertDetailsRoute=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _app_context=__webpack_require__(706);var _alert_details=__webpack_require__(1620);var _value_validators=__webpack_require__(1624);var _with_bulk_alert_api_operations=__webpack_require__(744);var _with_actions_api_operations=__webpack_require__(1625);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertDetailsRoute=function AlertDetailsRoute(_ref){var alertId=_ref.match.params.alertId,loadAlert=_ref.loadAlert,loadAlertTypes=_ref.loadAlertTypes,loadActionTypes=_ref.loadActionTypes;var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http,toastNotifications=_useAppDependencies.toastNotifications;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],setAlert=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),alertType=_useState4[0],setAlertType=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),actionTypes=_useState6[0],setActionTypes=_useState6[1];var _React$useState=_react.default.useState(),_React$useState2=_slicedToArray(_React$useState,2),refreshToken=_React$useState2[0],requestRefresh=_React$useState2[1];(0,_react.useEffect)((function(){getAlertData(alertId,loadAlert,loadAlertTypes,loadActionTypes,setAlert,setAlertType,setActionTypes,toastNotifications)}),[alertId,http,loadActionTypes,loadAlert,loadAlertTypes,toastNotifications,refreshToken]);return alert&&alertType&&actionTypes?_react.default.createElement(_alert_details.AlertDetailsWithApi,{alert:alert,alertType:alertType,actionTypes:actionTypes,requestRefresh:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",requestRefresh(Date.now()));case 1:case"end":return _context.stop()}}}),_callee)})))}):_react.default.createElement("div",{style:{textAlign:"center",margin:"4em 0em"}},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))};exports.AlertDetailsRoute=AlertDetailsRoute;function getAlertData(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _getAlertData.apply(this,arguments)}function _getAlertData(){_getAlertData=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(alertId,loadAlert,loadAlertTypes,loadActionTypes,setAlert,setAlertType,setActionTypes,toastNotifications){var loadedAlert,_ref3,_ref4,loadedAlertType,loadedActionTypes;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return loadAlert(alertId);case 3:loadedAlert=_context2.sent;setAlert(loadedAlert);_context2.next=7;return Promise.all([loadAlertTypes().then((function(types){return types.find((function(type){return type.id===loadedAlert.alertTypeId}))})).then((0,_value_validators.throwIfAbsent)("Invalid Alert Type: ".concat(loadedAlert.alertTypeId))),loadActionTypes().then((0,_value_validators.throwIfIsntContained)(new Set(loadedAlert.actions.map((function(action){return action.actionTypeId}))),(function(requiredActionType){return"Invalid Action Type: ".concat(requiredActionType)}),(function(action){return action.id})))]);case 7:_ref3=_context2.sent;_ref4=_slicedToArray(_ref3,2);loadedAlertType=_ref4[0];loadedActionTypes=_ref4[1];setAlertType(loadedAlertType);setActionTypes(loadedActionTypes);_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.unableToLoadAlertMessage",{defaultMessage:"Unable to load alert: {message}",values:{message:_context2.t0.message}})});case 18:case"end":return _context2.stop()}}}),_callee2,null,[[0,15]])})));return _getAlertData.apply(this,arguments)}var AlertDetailsRouteWithApi=(0,_with_actions_api_operations.withActionOperations)((0,_with_bulk_alert_api_operations.withBulkAlertOperations)(AlertDetailsRoute));exports.AlertDetailsRouteWithApi=AlertDetailsRouteWithApi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertDetailsWithApi=exports.AlertDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _lodash=__webpack_require__(1);var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);var _app_context=__webpack_require__(706);var _capabilities=__webpack_require__(714);var _with_bulk_alert_api_operations=__webpack_require__(744);var _alert_instances_route=__webpack_require__(1621);var _view_in_app=__webpack_require__(1623);var _plugin=__webpack_require__(729);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertDetails=function AlertDetails(_ref){var _actionTypesByTypeId$;var alert=_ref.alert,alertType=_ref.alertType,actionTypes=_ref.actionTypes,disableAlert=_ref.disableAlert,enableAlert=_ref.enableAlert,unmuteAlert=_ref.unmuteAlert,muteAlert=_ref.muteAlert,requestRefresh=_ref.requestRefresh;var _useAppDependencies=(0,_app_context.useAppDependencies)(),capabilities=_useAppDependencies.capabilities;var canSave=(0,_capabilities.hasSaveAlertsCapability)(capabilities);var actionTypesByTypeId=(0,_lodash.indexBy)(actionTypes,"id");var _alert$actions=_toArray(alert.actions),firstAction=_alert$actions[0],otherActions=_alert$actions.slice(1);var _useState=(0,_react.useState)(alert.enabled),_useState2=_slicedToArray(_useState,2),isEnabled=_useState2[0],setIsEnabled=_useState2[1];var _useState3=(0,_react.useState)(alert.muteAll),_useState4=_slicedToArray(_useState3,2),isMuted=_useState4[0],setIsMuted=_useState4[1];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiPageContentHeader,null,_react.default.createElement(_eui.EuiPageContentHeaderSection,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",null,_react.default.createElement("span",{"data-test-subj":"alertDetailsTitle"},alert.name)," ",_react.default.createElement(_eui.EuiBetaBadge,{label:"Beta",tooltipContent:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.betaBadgeTooltipContent",{defaultMessage:"{pluginName} is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.",values:{pluginName:_plugin.PLUGIN.getI18nName(_i18n.i18n)}})})))),_react.default.createElement(_eui.EuiPageContentHeaderSection,null,_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_view_in_app.ViewInApp,{alert:alert}))))),_react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiBadge,{"data-test-subj":"alertTypeLabel"},alertType.name)),firstAction&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiBadge,{color:"hollow","data-test-subj":"actionTypeLabel"},(_actionTypesByTypeId$=actionTypesByTypeId[firstAction.actionTypeId].name)!==null&&_actionTypesByTypeId$!==void 0?_actionTypesByTypeId$:firstAction.actionTypeId)),otherActions.length?_react.default.createElement(_eui.EuiFlexItem,{grow:false,"data-test-subj":"actionCountLabel"},_react.default.createElement(_eui.EuiBadge,{color:"hollow"},"+",otherActions.length)):null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSwitch,{name:"enable",disabled:!canSave,checked:isEnabled,"data-test-subj":"enableSwitch",onChange:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isEnabled){_context.next=6;break}setIsEnabled(false);_context.next=4;return disableAlert(alert);case 4:_context.next=9;break;case 6:setIsEnabled(true);_context.next=9;return enableAlert(alert);case 9:requestRefresh();case 10:case"end":return _context.stop()}}}),_callee)}))),label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertDetails.collapsedItemActons.enableTitle",defaultMessage:"Enable"})})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSwitch,{name:"mute",checked:isMuted,disabled:!canSave||!isEnabled,"data-test-subj":"muteSwitch",onChange:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!isMuted){_context2.next=6;break}setIsMuted(false);_context2.next=4;return unmuteAlert(alert);case 4:_context2.next=9;break;case 6:setIsMuted(true);_context2.next=9;return muteAlert(alert);case 9:requestRefresh();case 10:case"end":return _context2.stop()}}}),_callee2)}))),label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertDetails.collapsedItemActons.muteTitle",defaultMessage:"Mute"})}))))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexItem,null,alert.enabled?_react.default.createElement(_alert_instances_route.AlertInstancesRouteWithApi,{requestRefresh:requestRefresh,alert:alert}):_react.default.createElement(_eui.EuiCallOut,{title:"Disabled Alert",color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertDetails.alertInstances.disabledAlert",defaultMessage:"This alert is disabled and cannot be displayed. Toggle Enable ↑ to activate it."})))))))))};exports.AlertDetails=AlertDetails;var AlertDetailsWithApi=(0,_with_bulk_alert_api_operations.withBulkAlertOperations)(AlertDetails);exports.AlertDetailsWithApi=AlertDetailsWithApi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAlertState=getAlertState;exports.AlertInstancesRouteWithApi=exports.AlertInstancesRoute=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _app_context=__webpack_require__(706);var _with_bulk_alert_api_operations=__webpack_require__(744);var _alert_instances=__webpack_require__(1622);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertInstancesRoute=function AlertInstancesRoute(_ref){var alert=_ref.alert,requestRefresh=_ref.requestRefresh,loadAlertState=_ref.loadAlertState;var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http,toastNotifications=_useAppDependencies.toastNotifications;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),alertState=_useState2[0],setAlertState=_useState2[1];(0,_react.useEffect)((function(){getAlertState(alert.id,loadAlertState,setAlertState,toastNotifications)}),[alert,http,loadAlertState,toastNotifications]);return alertState?_react.default.createElement(_alert_instances.AlertInstancesWithApi,{requestRefresh:requestRefresh,alert:alert,alertState:alertState}):_react.default.createElement("div",{style:{textAlign:"center",margin:"4em 0em"}},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))};exports.AlertInstancesRoute=AlertInstancesRoute;function getAlertState(_x,_x2,_x3,_x4){return _getAlertState.apply(this,arguments)}function _getAlertState(){_getAlertState=_asyncToGenerator(regeneratorRuntime.mark((function _callee(alertId,loadAlertState,setAlertState,toastNotifications){var loadedState;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return loadAlertState(alertId);case 3:loadedState=_context.sent;setAlertState(loadedState);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);toastNotifications.addDanger({title:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.unableToLoadAlertStateMessage",{defaultMessage:"Unable to load alert state: {message}",values:{message:_context.t0.message}})});case 10:case"end":return _context.stop()}}}),_callee,null,[[0,7]])})));return _getAlertState.apply(this,arguments)}var AlertInstancesRouteWithApi=(0,_with_bulk_alert_api_operations.withBulkAlertOperations)(AlertInstancesRoute);exports.AlertInstancesRouteWithApi=AlertInstancesRouteWithApi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertInstances=AlertInstances;exports.alertInstanceToListItem=alertInstanceToListItem;exports.AlertInstancesWithApi=exports.alertInstancesTableColumns=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _moment=_interopRequireDefault(__webpack_require__(11));var _i18n=__webpack_require__(0);var _eui=__webpack_require__(4);var _services=__webpack_require__(229);var _lodash=__webpack_require__(1);var _react2=__webpack_require__(5);var _with_bulk_alert_api_operations=__webpack_require__(744);var _constants=__webpack_require__(94);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var alertInstancesTableColumns=function alertInstancesTableColumns(onMuteAction){return[{field:"instance",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.columns.instance",{defaultMessage:"Instance"}),sortable:false,truncateText:true,"data-test-subj":"alertInstancesTableCell-instance"},{field:"status",name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.columns.status",{defaultMessage:"Status"}),render:function render(value,instance){return _react.default.createElement(_eui.EuiHealth,{color:value.healthColor},value.label)},sortable:false,"data-test-subj":"alertInstancesTableCell-status"},{field:"start",render:function render(value,instance){return value?(0,_moment.default)(value).format("D MMM YYYY @ HH:mm:ss"):""},name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.columns.start",{defaultMessage:"Start"}),sortable:false,"data-test-subj":"alertInstancesTableCell-start"},{field:"duration",align:_services.CENTER_ALIGNMENT,render:function render(value,instance){return value?durationAsString(_moment.default.duration(value)):""},name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.columns.duration",{defaultMessage:"Duration"}),sortable:false,"data-test-subj":"alertInstancesTableCell-duration"},{field:"",align:_services.RIGHT_ALIGNMENT,name:_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.columns.actions",{defaultMessage:"Actions"}),render:function render(alertInstance){return _react.default.createElement(_react.Fragment,null,alertInstance.isMuted?_react.default.createElement(_eui.EuiBadge,{"data-test-subj":"mutedAlertInstanceLabel_".concat(alertInstance.instance)},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertDetails.alertInstances.mutedAlert",defaultMessage:"Muted"})):_react.default.createElement(_react.Fragment,null),_react.default.createElement(_eui.EuiButtonToggle,{label:alertInstance.isMuted?_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.actions.unmute",{defaultMessage:"Unmute"}):_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.actions.mute",{defaultMessage:"Mute"}),"data-test-subj":"muteAlertInstanceButton_".concat(alertInstance.instance),iconType:alertInstance.isMuted?"eyeClosed":"eye",onChange:function onChange(){return onMuteAction(alertInstance)},isSelected:alertInstance.isMuted,isEmpty:true,isIconOnly:true}))},sortable:false,"data-test-subj":"alertInstancesTableCell-actions"}]};exports.alertInstancesTableColumns=alertInstancesTableColumns;function durationAsString(duration){return[duration.hours(),duration.minutes(),duration.seconds()].map((function(value){return(0,_lodash.padLeft)("".concat(value),2,"0")})).join(":")}function AlertInstances(_ref){var alert=_ref.alert,_ref$alertState$alert=_ref.alertState.alertInstances,alertInstances=_ref$alertState$alert===void 0?{}:_ref$alertState$alert,muteAlertInstance=_ref.muteAlertInstance,unmuteAlertInstance=_ref.unmuteAlertInstance,requestRefresh=_ref.requestRefresh,_ref$durationEpoch=_ref.durationEpoch,durationEpoch=_ref$durationEpoch===void 0?Date.now():_ref$durationEpoch;var _useState=(0,_react.useState)({index:0,size:_constants.DEFAULT_SEARCH_PAGE_SIZE}),_useState2=_slicedToArray(_useState,2),pagination=_useState2[0],setPagination=_useState2[1];var mergedAlertInstances=[].concat(_toConsumableArray(Object.entries(alertInstances).map((function(_ref2){var _ref3=_slicedToArray(_ref2,2),instanceId=_ref3[0],instance=_ref3[1];return alertInstanceToListItem(durationEpoch,alert,instanceId,instance)}))),_toConsumableArray((0,_lodash.difference)(alert.mutedInstanceIds,Object.keys(alertInstances)).map((function(instanceId){return alertInstanceToListItem(durationEpoch,alert,instanceId)}))));var pageOfAlertInstances=getPage(mergedAlertInstances,pagination);var onMuteAction=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee(instance){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return instance.isMuted?unmuteAlertInstance(alert,instance.instance):muteAlertInstance(alert,instance.instance);case 2:requestRefresh();case 3:case"end":return _context.stop()}}}),_callee)})));return function onMuteAction(_x){return _ref4.apply(this,arguments)}}();return _react.default.createElement(_react.Fragment,null,_react.default.createElement("input",{type:"hidden","data-test-subj":"alertInstancesDurationEpoch",name:"alertInstancesDurationEpoch",value:durationEpoch}),_react.default.createElement(_eui.EuiBasicTable,{items:pageOfAlertInstances,pagination:{pageIndex:pagination.index,pageSize:pagination.size,totalItemCount:mergedAlertInstances.length},onChange:function onChange(_ref5){var changedPage=_ref5.page;setPagination(changedPage)},rowProps:function rowProps(){return{"data-test-subj":"alert-instance-row"}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},columns:alertInstancesTableColumns(onMuteAction),"data-test-subj":"alertInstancesList"}))}var AlertInstancesWithApi=(0,_with_bulk_alert_api_operations.withBulkAlertOperations)(AlertInstances);exports.AlertInstancesWithApi=AlertInstancesWithApi;function getPage(items,pagination){return(0,_lodash.chunk)(items,pagination.size)[pagination.index]||[]}var ACTIVE_LABEL=_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.status.active",{defaultMessage:"Active"});var INACTIVE_LABEL=_i18n.i18n.translate("xpack.triggersActionsUI.sections.alertDetails.alertInstancesList.status.inactive",{defaultMessage:"Inactive"});var durationSince=function durationSince(durationEpoch,startTime){return startTime?durationEpoch-startTime:0};function alertInstanceToListItem(durationEpoch,alert,instanceId,instance){var _instance$meta,_instance$meta$lastSc,_ref6,_instance$meta2,_instance$meta2$lastS,_instance$meta2$lastS2;var isMuted=alert.mutedInstanceIds.findIndex((function(muted){return muted===instanceId}))>=0;return{instance:instanceId,status:instance?{label:ACTIVE_LABEL,healthColor:"primary"}:{label:INACTIVE_LABEL,healthColor:"subdued"},start:instance===null||instance===void 0?void 0:(_instance$meta=instance.meta)===null||_instance$meta===void 0?void 0:(_instance$meta$lastSc=_instance$meta.lastScheduledActions)===null||_instance$meta$lastSc===void 0?void 0:_instance$meta$lastSc.date,duration:durationSince(durationEpoch,(_ref6=instance===null||instance===void 0?void 0:(_instance$meta2=instance.meta)===null||_instance$meta2===void 0?void 0:(_instance$meta2$lastS=_instance$meta2.lastScheduledActions)===null||_instance$meta2$lastS===void 0?void 0:(_instance$meta2$lastS2=_instance$meta2$lastS.date)===null||_instance$meta2$lastS2===void 0?void 0:_instance$meta2$lastS2.getTime())!==null&&_ref6!==void 0?_ref6:0),isMuted:isMuted}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ViewInApp=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);var _Option=__webpack_require__(855);var _pipeable=__webpack_require__(48);var _app_context=__webpack_require__(706);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var NO_NAVIGATION=false;var ViewInApp=function ViewInApp(_ref){var alert=_ref.alert;var _useAppDependencies=(0,_app_context.useAppDependencies)(),navigateToApp=_useAppDependencies.navigateToApp,maybeAlerting=_useAppDependencies.alerting;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),alertNavigation=_useState2[0],setAlertNavigation=_useState2[1];(0,_react.useEffect)((function(){(0,_pipeable.pipe)((0,_Option.fromNullable)(maybeAlerting),(0,_Option.fold)((function(){return setAlertNavigation(NO_NAVIGATION)}),(function(alerting){return alerting.getNavigation(alert.id).then((function(nav){return nav?setAlertNavigation(nav):setAlertNavigation(NO_NAVIGATION)})).catch((function(){setAlertNavigation(NO_NAVIGATION)}))})))}),[alert.id,maybeAlerting]);return _react.default.createElement(_eui.EuiButtonEmpty,_extends({"data-test-subj":"alertDetails-viewInApp",isLoading:alertNavigation===null,disabled:!hasNavigation(alertNavigation),iconType:"popout"},getNavigationHandler(alertNavigation,alert,navigateToApp)),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertDetails.viewAlertInAppButtonLabel",defaultMessage:"View in app"}))};exports.ViewInApp=ViewInApp;function hasNavigation(alertNavigation){return alertNavigation?alertNavigation.hasOwnProperty("state")||alertNavigation.hasOwnProperty("path"):NO_NAVIGATION}function getNavigationHandler(alertNavigation,alert,navigateToApp){return hasNavigation(alertNavigation)?{onClick:function onClick(){navigateToApp(alert.consumer,alertNavigation)}}:{}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.throwIfAbsent=throwIfAbsent;exports.throwIfIsntContained=throwIfIsntContained;var _lodash=__webpack_require__(1);function throwIfAbsent(message){return function(value){if(value===undefined||value===null){throw new Error(message)}return value}}function throwIfIsntContained(requiredValues,message,valueExtractor){var toError=typeof message==="function"?message:(0,_lodash.constant)(message);return function(values){var availableValues=new Set(values.map(valueExtractor));var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=requiredValues.values()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _value=_step.value;if(!availableValues.has(_value)){throw new Error(toError(_value))}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return values}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.withActionOperations=withActionOperations;var _react=_interopRequireDefault(__webpack_require__(3));var _app_context=__webpack_require__(706);var _action_connector_api=__webpack_require__(722);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function withActionOperations(WrappedComponent){return function(props){var _useAppDependencies=(0,_app_context.useAppDependencies)(),http=_useAppDependencies.http;return _react.default.createElement(WrappedComponent,_extends({},props,{loadActionTypes:_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(0,_action_connector_api.loadActionTypes)({http:http}));case 1:case"end":return _context.stop()}}}),_callee)})))}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ActionType",{enumerable:true,get:function get(){return _common.ActionType}});Object.defineProperty(exports,"Alert",{enumerable:true,get:function get(){return _common2.SanitizedAlert}});Object.defineProperty(exports,"AlertAction",{enumerable:true,get:function get(){return _common2.AlertAction}});Object.defineProperty(exports,"AlertTaskState",{enumerable:true,get:function get(){return _common2.AlertTaskState}});Object.defineProperty(exports,"RawAlertInstance",{enumerable:true,get:function get(){return _common2.RawAlertInstance}});Object.defineProperty(exports,"AlertingFrameworkHealth",{enumerable:true,get:function get(){return _common2.AlertingFrameworkHealth}});var _common=__webpack_require__(239);var _common2=__webpack_require__(226)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerEmptyChart=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsExplorerEmptyChart=function MetricsExplorerEmptyChart(){return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"stats",title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.metricsExplorer.emptyChart.title",defaultMessage:"Chart Data Missing"})),body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.metricsExplorer.emptyChart.body",defaultMessage:"Unable to render chart."}))})};exports.MetricsExplorerEmptyChart=MetricsExplorerEmptyChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerNoMetrics=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsExplorerNoMetrics=function MetricsExplorerNoMetrics(){return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"stats",title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.metricsExplorer.noMetrics.title",defaultMessage:"Missing Metric"})),body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.metricsExplorer.noMetrics.body",defaultMessage:"Please choose a metric above."}))})};exports.MetricsExplorerNoMetrics=MetricsExplorerNoMetrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.calculateDomain=void 0;var _lodash=__webpack_require__(1);var getMin=function getMin(values){var minValue=(0,_lodash.min)(values);return(0,_lodash.isNumber)(minValue)&&Number.isFinite(minValue)?minValue:undefined};var getMax=function getMax(values){var maxValue=(0,_lodash.max)(values);return(0,_lodash.isNumber)(maxValue)&&Number.isFinite(maxValue)?maxValue:undefined};var calculateDomain=function calculateDomain(series,metrics){var stacked=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var values=series.rows.reduce((function(acc,row){var rowValues=metrics.map((function(m,index){return row["metric_".concat(index)]||null})).filter((function(v){return(0,_lodash.isNumber)(v)}));var minValue=getMin(rowValues);var maxValue=stacked?(0,_lodash.sum)(rowValues)*1.1:getMax(rowValues);return acc.concat([minValue||null,maxValue||null])}),[]).filter((function(v){return(0,_lodash.isNumber)(v)}));return{min:getMin(values)||0,max:getMax(values)||0}};exports.calculateDomain=calculateDomain},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerToolbar=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _toolbar=__webpack_require__(792);var _kuery_bar=__webpack_require__(240);var _metrics=__webpack_require__(1631);var _group_by=__webpack_require__(245);var _aggregation=__webpack_require__(1632);var _chart_options=__webpack_require__(1633);var _toolbar_control=__webpack_require__(985);var _metrics_explorer_view=__webpack_require__(1640);var _use_kibana_ui_setting=__webpack_require__(713);var _map_timepicker_quickranges_to_datepicker_ranges=__webpack_require__(986);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsExplorerToolbar=function MetricsExplorerToolbar(_ref){var timeRange=_ref.timeRange,derivedIndexPattern=_ref.derivedIndexPattern,options=_ref.options,_onTimeChange=_ref.onTimeChange,onRefresh=_ref.onRefresh,onGroupByChange=_ref.onGroupByChange,onFilterQuerySubmit=_ref.onFilterQuerySubmit,onMetricsChange=_ref.onMetricsChange,onAggregationChange=_ref.onAggregationChange,chartOptions=_ref.chartOptions,onChartOptionsChange=_ref.onChartOptionsChange,defaultViewState=_ref.defaultViewState,onViewStateChange=_ref.onViewStateChange;var isDefaultOptions=options.aggregation==="avg"&&options.metrics.length===0;var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("timepicker:quickRanges"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),timepickerQuickRanges=_useKibanaUiSetting2[0];var commonlyUsedRanges=(0,_map_timepicker_quickranges_to_datepicker_ranges.mapKibanaQuickRangesToDatePickerRanges)(timepickerQuickRanges);return _react2.default.createElement(_toolbar.Toolbar,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:options.aggregation==="count"?2:false},_react2.default.createElement(_aggregation.MetricsExplorerAggregationPicker,{fullWidth:true,options:options,onChange:onAggregationChange})),options.aggregation!=="count"&&_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metricsExplorer.aggregationLabel",defaultMessage:"of"})),options.aggregation!=="count"&&_react2.default.createElement(_eui.EuiFlexItem,{grow:2},_react2.default.createElement(_metrics.MetricsExplorerMetrics,{autoFocus:isDefaultOptions,fields:derivedIndexPattern.fields,options:options,onChange:onMetricsChange})),_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metricsExplorer.groupByToolbarLabel",defaultMessage:"graph per"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:1},_react2.default.createElement(_group_by.MetricsExplorerGroupBy,{onChange:onGroupByChange,fields:derivedIndexPattern.fields,options:options}))),_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_kuery_bar.MetricsExplorerKueryBar,{derivedIndexPattern:derivedIndexPattern,onSubmit:onFilterQuerySubmit,value:options.filterQuery})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_chart_options.MetricsExplorerChartOptions,{onChange:onChartOptionsChange,chartOptions:chartOptions})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_toolbar_control.SavedViewsToolbarControls,{defaultViewState:defaultViewState,viewState:{options:options,chartOptions:chartOptions,currentTimerange:timeRange},viewType:_metrics_explorer_view.metricsExplorerViewSavedObjectType,onViewChange:onViewStateChange})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,style:{marginRight:5}},_react2.default.createElement(_eui.EuiSuperDatePicker,{start:timeRange.from,end:timeRange.to,onTimeChange:function onTimeChange(_ref2){var start=_ref2.start,end=_ref2.end;return _onTimeChange(start,end)},onRefresh:onRefresh,commonlyUsedRanges:commonlyUsedRanges}))))};exports.MetricsExplorerToolbar=MetricsExplorerToolbar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerMetrics=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _color_palette=__webpack_require__(760);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsExplorerMetrics=function MetricsExplorerMetrics(_ref){var options=_ref.options,onChange=_ref.onChange,fields=_ref.fields,_ref$autoFocus=_ref.autoFocus,autoFocus=_ref$autoFocus===void 0?false:_ref$autoFocus;var colors=Object.keys(_color_palette.MetricsExplorerColor);var _useState=(0,_react.useState)(autoFocus),_useState2=_slicedToArray(_useState,2),shouldFocus=_useState2[0],setShouldFocus=_useState2[1];var autoFocusInputElement=(0,_react.useCallback)((function(inputElement){if(inputElement&&shouldFocus){inputElement.focus();setShouldFocus(false)}}),[shouldFocus]);var handleChange=(0,_react.useCallback)((function(selectedOptions){onChange(selectedOptions.map((function(opt,index){return{aggregation:options.aggregation,field:opt.value,color:colors[index]}})))}),[onChange,options.aggregation,colors]);var comboOptions=fields.map((function(field){return{label:field.name,value:field.name}}));var selectedOptions=options.metrics.filter((function(m){return m.aggregation!=="count"})).map((function(metric){return{label:metric.field||"",value:metric.field||"",color:(0,_color_palette.colorTransformer)(metric.color||_color_palette.MetricsExplorerColor.color0)}}));var placeholderText=_i18n.i18n.translate("xpack.infra.metricsExplorer.metricComboBoxPlaceholder",{defaultMessage:"choose a metric to plot"});return _react.default.createElement(_eui.EuiComboBox,{"aria-label":placeholderText,isDisabled:options.aggregation==="count",placeholder:placeholderText,fullWidth:true,options:comboOptions,selectedOptions:selectedOptions,onChange:handleChange,isClearable:true,inputRef:autoFocusInputElement})};exports.MetricsExplorerMetrics=MetricsExplorerMetrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerAggregationPicker=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _metrics_explorer=__webpack_require__(844);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var MetricsExplorerAggregationPicker=function MetricsExplorerAggregationPicker(_ref){var _AGGREGATION_LABELS;var options=_ref.options,onChange=_ref.onChange;var AGGREGATION_LABELS=(_AGGREGATION_LABELS={},_defineProperty(_AGGREGATION_LABELS,"avg",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.avg",{defaultMessage:"Average"})),_defineProperty(_AGGREGATION_LABELS,"max",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.max",{defaultMessage:"Max"})),_defineProperty(_AGGREGATION_LABELS,"min",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.min",{defaultMessage:"Min"})),_defineProperty(_AGGREGATION_LABELS,"cardinality",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.cardinality",{defaultMessage:"Cardinality"})),_defineProperty(_AGGREGATION_LABELS,"rate",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.rate",{defaultMessage:"Rate"})),_defineProperty(_AGGREGATION_LABELS,"count",_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.count",{defaultMessage:"Document count"})),_AGGREGATION_LABELS);var handleChange=(0,_react.useCallback)((function(e){var aggregation=_metrics_explorer.metricsExplorerAggregationRT.is(e.target.value)&&e.target.value||"avg";onChange(aggregation)}),[onChange]);var placeholder=_i18n.i18n.translate("xpack.infra.metricsExplorer.aggregationSelectLabel",{defaultMessage:"Select an aggregation"});return _react.default.createElement(_eui.EuiSelect,{"aria-label":placeholder,placeholder:placeholder,fullWidth:true,value:options.aggregation,options:_metrics_explorer.METRIC_EXPLORER_AGGREGATIONS.map((function(k){return{text:AGGREGATION_LABELS[k],value:k}})),onChange:handleChange})};exports.MetricsExplorerAggregationPicker=MetricsExplorerAggregationPicker},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsExplorerChartOptions=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);var _eui=__webpack_require__(4);var _use_metrics_explorer_options=__webpack_require__(728);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsExplorerChartOptions=function MetricsExplorerChartOptions(_ref){var chartOptions=_ref.chartOptions,onChange=_ref.onChange;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setPopoverState=_useState2[1];var handleClosePopover=(0,_react.useCallback)((function(){setPopoverState(false)}),[]);var handleOpenPopover=(0,_react.useCallback)((function(){setPopoverState(true)}),[]);var button=_react.default.createElement(_eui.EuiButtonEmpty,{iconSide:"left",iconType:"eye",onClick:handleOpenPopover},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.metricsExplorer.customizeChartOptions",defaultMessage:"Customize"}));var yAxisRadios=[{id:_use_metrics_explorer_options.MetricsExplorerYAxisMode.auto,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.autoLabel",{defaultMessage:"Automatic (min to max)"})},{id:_use_metrics_explorer_options.MetricsExplorerYAxisMode.fromZero,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.fromZeroLabel",{defaultMessage:"From zero (0 to max)"})}];var typeRadios=[{id:_use_metrics_explorer_options.MetricsExplorerChartType.line,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.lineLabel",{defaultMessage:"Line"})},{id:_use_metrics_explorer_options.MetricsExplorerChartType.area,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.areaLabel",{defaultMessage:"Area"})},{id:_use_metrics_explorer_options.MetricsExplorerChartType.bar,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.barLabel",{defaultMessage:"Bar"})}];var handleYAxisChange=(0,_react.useCallback)((function(id){onChange(_objectSpread({},chartOptions,{yAxisMode:id}))}),[chartOptions,onChange]);var handleTypeChange=(0,_react.useCallback)((function(id){onChange(_objectSpread({},chartOptions,{type:id}))}),[chartOptions,onChange]);var handleStackChange=(0,_react.useCallback)((function(e){onChange(_objectSpread({},chartOptions,{stack:e.target.checked}))}),[chartOptions,onChange]);return _react.default.createElement(_eui.EuiPopover,{id:"MetricExplorerChartOptionsPopover",button:button,isOpen:isPopoverOpen,closePopover:handleClosePopover},_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{compressed:true,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.typeLabel",{defaultMessage:"Chart style"})},_react.default.createElement(_eui.EuiRadioGroup,{compressed:true,options:typeRadios,idSelected:chartOptions.type,onChange:handleTypeChange})),_react.default.createElement(_eui.EuiFormRow,{compressed:true,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.stackLabel",{defaultMessage:"Stack series"})},_react.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.stackSwitchLabel",{defaultMessage:"Stack"}),checked:chartOptions.stack,onChange:handleStackChange})),_react.default.createElement(_eui.EuiFormRow,{compressed:true,label:_i18n.i18n.translate("xpack.infra.metricsExplorer.chartOptions.yAxisDomainLabel",{defaultMessage:"Y Axis Domain"})},_react.default.createElement(_eui.EuiRadioGroup,{compressed:true,options:yAxisRadios,idSelected:chartOptions.yAxisMode,onChange:handleYAxisChange}))))};exports.MetricsExplorerChartOptions=MetricsExplorerChartOptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSavedView=void 0;var _react=__webpack_require__(3);var _i18n=__webpack_require__(0);var _use_find_saved_object=__webpack_require__(1635);var _use_create_saved_object=__webpack_require__(1636);var _use_delete_saved_object=__webpack_require__(1637);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useSavedView=function useSavedView(defaultViewState,viewType){var _useFindSavedObject=(0,_use_find_saved_object.useFindSavedObject)(viewType),data=_useFindSavedObject.data,loading=_useFindSavedObject.loading,find=_useFindSavedObject.find,errorOnFind=_useFindSavedObject.error,hasView=_useFindSavedObject.hasView;var _useCreateSavedObject=(0,_use_create_saved_object.useCreateSavedObject)(viewType),create=_useCreateSavedObject.create,errorOnCreate=_useCreateSavedObject.error,createdId=_useCreateSavedObject.createdId;var _useDeleteSavedObject=(0,_use_delete_saved_object.useDeleteSavedObject)(viewType),deleteObject=_useDeleteSavedObject.deleteObject,deletedId=_useDeleteSavedObject.deletedId;var deleteView=(0,_react.useCallback)((function(id){return deleteObject(id)}),[deleteObject]);var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),createError=_useState2[0],setCreateError=_useState2[1];(0,_react.useEffect)((function(){return setCreateError(errorOnCreate)}),[errorOnCreate]);var saveView=(0,_react.useCallback)((function(d){var doSave=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var exists;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return hasView(d.name);case 2:exists=_context.sent;if(!exists){_context.next=6;break}setCreateError(_i18n.i18n.translate("xpack.infra.savedView.errorOnCreate.duplicateViewName",{defaultMessage:"A view with that name already exists."}));return _context.abrupt("return");case 6:create(d);case 7:case"end":return _context.stop()}}}),_callee)})));return function doSave(){return _ref.apply(this,arguments)}}();setCreateError(null);doSave()}),[create,hasView]);var savedObjects=(0,_react.useMemo)((function(){return data?data.savedObjects:[]}),[data]);var views=(0,_react.useMemo)((function(){var items=[_objectSpread({name:_i18n.i18n.translate("xpack.infra.savedView.defaultViewName",{defaultMessage:"Default"}),id:"0",isDefault:true},defaultViewState)];savedObjects.forEach((function(o){return o.type===viewType&&items.push(_objectSpread({},o.attributes,{id:o.id}))}));return items}),[defaultViewState,savedObjects,viewType]);return{views:views,saveView:saveView,loading:loading,deletedId:deletedId,createdId:createdId,errorOnFind:errorOnFind,errorOnCreate:createError,deleteView:deleteView,find:find}};exports.useSavedView=useSavedView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFindSavedObject=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useFindSavedObject=function useFindSavedObject(type){var kibana=(0,_public.useKibana)();var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var find=(0,_react.useCallback)((function(query){var searchFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];setLoading(true);var fetchData=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _kibana$services$save,savedObjectsClient,d;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;savedObjectsClient=(_kibana$services$save=kibana.services.savedObjects)===null||_kibana$services$save===void 0?void 0:_kibana$services$save.client;if(savedObjectsClient){_context.next=4;break}throw new Error("Saved objects client is unavailable");case 4:_context.next=6;return savedObjectsClient.find({type:type,search:query,searchFields:searchFields});case 6:d=_context.sent;setError(null);setLoading(false);setData(d);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);setLoading(false);setError(_context.t0);case 16:case"end":return _context.stop()}}}),_callee,null,[[0,12]])})));return function fetchData(){return _ref.apply(this,arguments)}}();fetchData()}),[type,kibana.services.savedObjects]);var hasView=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(name){var _kibana$services$save2;var savedObjectsClient,objects;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:savedObjectsClient=(_kibana$services$save2=kibana.services.savedObjects)===null||_kibana$services$save2===void 0?void 0:_kibana$services$save2.client;if(savedObjectsClient){_context2.next=3;break}throw new Error("Saved objects client is unavailable");case 3:_context2.next=5;return savedObjectsClient.find({type:type});case 5:objects=_context2.sent;return _context2.abrupt("return",objects.savedObjects.filter((function(o){return o.attributes.name===name})).length>0);case 7:case"end":return _context2.stop()}}}),_callee2)})));return function hasView(_x){return _ref2.apply(this,arguments)}}();return{hasView:hasView,data:data,loading:loading,error:error,find:find}};exports.useFindSavedObject=useFindSavedObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useCreateSavedObject=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useCreateSavedObject=function useCreateSavedObject(type){var kibana=(0,_public.useKibana)();var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),createdId=_useState4[0],setCreatedId=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var create=(0,_react.useCallback)((function(attributes,options){setLoading(true);var save=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _kibana$services$save,savedObjectsClient,d;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;savedObjectsClient=(_kibana$services$save=kibana.services.savedObjects)===null||_kibana$services$save===void 0?void 0:_kibana$services$save.client;if(savedObjectsClient){_context.next=4;break}throw new Error("Saved objects client is unavailable");case 4:_context.next=6;return savedObjectsClient.create(type,attributes,options);case 6:d=_context.sent;setCreatedId(d.id);setError(null);setData(d);setLoading(false);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](0);setLoading(false);setError(_context.t0);case 17:case"end":return _context.stop()}}}),_callee,null,[[0,13]])})));return function save(){return _ref.apply(this,arguments)}}();save()}),[type,kibana.services.savedObjects]);return{data:data,loading:loading,error:error,create:create,createdId:createdId}};exports.useCreateSavedObject=useCreateSavedObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useDeleteSavedObject=void 0;var _react=__webpack_require__(3);var _public=__webpack_require__(9);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useDeleteSavedObject=function useDeleteSavedObject(type){var kibana=(0,_public.useKibana)();var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),deletedId=_useState6[0],setDeletedId=_useState6[1];var deleteObject=(0,_react.useCallback)((function(id){setLoading(true);var dobj=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _kibana$services$save;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(_kibana$services$save=kibana.services.savedObjects)===null||_kibana$services$save===void 0?void 0:_kibana$services$save.client.delete(type,id);case 3:setError(null);setDeletedId(id);setLoading(false);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);setLoading(false);setError(_context.t0);case 12:case"end":return _context.stop()}}}),_callee,null,[[0,8]])})));return function dobj(){return _ref.apply(this,arguments)}}();dobj()}),[type,kibana.services.savedObjects]);return{loading:loading,error:error,deleteObject:deleteObject,deletedId:deletedId}};exports.useDeleteSavedObject=useDeleteSavedObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedViewCreateModal=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SavedViewCreateModal=function SavedViewCreateModal(_ref){var close=_ref.close,save=_ref.save,isInvalid=_ref.isInvalid;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),viewName=_useState2[0],setViewName=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),includeTime=_useState4[0],setIncludeTime=_useState4[1];var onCheckChange=(0,_react.useCallback)((function(e){return setIncludeTime(e.target.checked)}),[]);var textChange=(0,_react.useCallback)((function(e){return setViewName(e.target.value)}),[]);var saveView=(0,_react.useCallback)((function(){save(viewName,includeTime)}),[includeTime,save,viewName]);return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:close},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Save View",id:"xpack.infra.waffle.savedView.createHeader"}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiFieldText,{isInvalid:isInvalid,placeholder:_i18n.i18n.translate("xpack.infra.waffle.savedViews.viewNamePlaceholder",{defaultMessage:"Name"}),"data-test-subj":"savedViewViweName",value:viewName,onChange:textChange,"aria-label":_i18n.i18n.translate("xpack.infra.waffle.savedViews.viewNamePlaceholder",{defaultMessage:"Name"})}),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiSwitch,{id:"saved-view-save-time-checkbox",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Store time with view",id:"xpack.infra.waffle.savedViews.includeTimeFilterLabel"}),checked:includeTime,onChange:onCheckChange}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{size:"xs",grow:false,style:{maxWidth:400}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"This changes the time filter to the currently selected time each time the view is loaded",id:"xpack.infra.waffle.savedViews.includeTimeHelpText"}))),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{onClick:close},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Cancel",id:"xpack.infra.waffle.savedViews.cancelButton"})),_react.default.createElement(_eui.EuiButton,{color:"primary",disabled:!viewName,fill:true,onClick:saveView,"data-test-subj":"createSavedViewButton"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Save",id:"xpack.infra.waffle.savedViews.saveButton"})))))};exports.SavedViewCreateModal=SavedViewCreateModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedViewListFlyout=SavedViewListFlyout;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DeleteConfimation=function DeleteConfimation(props){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),confirmVisible=_useState2[0],setConfirmVisible=_useState2[1];var showConfirm=(0,_react.useCallback)((function(){return setConfirmVisible(true)}),[]);var hideConfirm=(0,_react.useCallback)((function(){return setConfirmVisible(false)}),[]);return _react.default.createElement(_react.default.Fragment,null,confirmVisible&&_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiButtonEmpty,{onClick:hideConfirm,"data-test-subj":"hideConfirm"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"cancel",id:"xpack.infra.waffle.savedViews.cancel"})),_react.default.createElement(_eui.EuiButton,{fill:true,iconType:"trash",color:"danger",onClick:props.confirmedAction,"data-test-subj":"showConfirm"},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Delete view?",id:"xpack.infra.openView.actionNames.deleteConfirmation"}))),!confirmVisible&&_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"trash",color:"danger",onClick:showConfirm}))};function SavedViewListFlyout(_ref){var close=_ref.close,views=_ref.views,setView=_ref.setView,deleteView=_ref.deleteView,loading=_ref.loading;var renderName=(0,_react.useCallback)((function(name,item){return _react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){setView(item);close()}},name)}),[setView,close]);var renderDeleteAction=(0,_react.useCallback)((function(item){return _react.default.createElement(DeleteConfimation,{confirmedAction:function confirmedAction(){deleteView(item.id)}})}),[deleteView]);var columns=[{field:"name",name:_i18n.i18n.translate("xpack.infra.openView.columnNames.name",{defaultMessage:"Name"}),sortable:true,truncateText:true,render:renderName},{name:_i18n.i18n.translate("xpack.infra.openView.columnNames.actions",{defaultMessage:"Actions"}),actions:[{available:function available(item){return!item.isDefault},render:renderDeleteAction}]}];return _react.default.createElement(_eui.EuiFlyout,{onClose:close,"data-test-subj":"loadViewsFlyout"},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Load views",id:"xpack.infra.openView.flyoutHeader"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiInMemoryTable,{items:views,columns:columns,loading:loading,search:true,pagination:true,sorting:true})),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancelSavedViewModal",onClick:close},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Cancel",id:"xpack.infra.openView.cancelButton"}))))}},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.metricsExplorerViewSavedObjectMappings=exports.metricsExplorerViewSavedObjectType=void 0;var metricsExplorerViewSavedObjectType="metrics-explorer-view";exports.metricsExplorerViewSavedObjectType=metricsExplorerViewSavedObjectType;var metricsExplorerViewSavedObjectMappings=_defineProperty({},metricsExplorerViewSavedObjectType,{properties:{name:{type:"keyword"},options:{properties:{metrics:{type:"nested",properties:{aggregation:{type:"keyword"},field:{type:"keyword"},color:{type:"keyword"},label:{type:"keyword"}}},limit:{type:"integer"},groupBy:{type:"keyword"},filterQuery:{type:"keyword"},aggregation:{type:"keyword"}}},chartOptions:{properties:{type:{type:"keyword"},yAxisMode:{type:"keyword"},stack:{type:"boolean"}}},currentTimerange:{properties:{from:{type:"keyword"},to:{type:"keyword"},interval:{type:"keyword"}}}}});exports.metricsExplorerViewSavedObjectMappings=metricsExplorerViewSavedObjectMappings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useMetricsExplorerState=void 0;var _react=__webpack_require__(3);var _use_metrics_explorer_data=__webpack_require__(1642);var _use_metrics_explorer_options=__webpack_require__(728);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var useMetricsExplorerState=function useMetricsExplorerState(source,derivedIndexPattern){var _useState=(0,_react.useState)(0),_useState2=_slicedToArray(_useState,2),refreshSignal=_useState2[0],setRefreshSignal=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),afterKey=_useState4[0],setAfterKey=_useState4[1];var _useContext=(0,_react.useContext)(_use_metrics_explorer_options.MetricsExplorerOptionsContainer.Context),defaultViewState=_useContext.defaultViewState,options=_useContext.options,currentTimerange=_useContext.currentTimerange,chartOptions=_useContext.chartOptions,setChartOptions=_useContext.setChartOptions,setTimeRange=_useContext.setTimeRange,setOptions=_useContext.setOptions;var _useMetricsExplorerDa=(0,_use_metrics_explorer_data.useMetricsExplorerData)(options,source,derivedIndexPattern,currentTimerange,afterKey,refreshSignal),loading=_useMetricsExplorerDa.loading,error=_useMetricsExplorerDa.error,data=_useMetricsExplorerDa.data;var handleRefresh=(0,_react.useCallback)((function(){setAfterKey(null);setRefreshSignal(refreshSignal+1)}),[refreshSignal]);var handleTimeChange=(0,_react.useCallback)((function(start,end){setAfterKey(null);setTimeRange(_objectSpread({},currentTimerange,{from:start,to:end}))}),[currentTimerange,setTimeRange]);var handleGroupByChange=(0,_react.useCallback)((function(groupBy){setAfterKey(null);setOptions(_objectSpread({},options,{groupBy:groupBy||void 0}))}),[options,setOptions]);var handleFilterQuerySubmit=(0,_react.useCallback)((function(query){setAfterKey(null);setOptions(_objectSpread({},options,{filterQuery:query}))}),[options,setOptions]);var handleMetricsChange=(0,_react.useCallback)((function(metrics){setAfterKey(null);setOptions(_objectSpread({},options,{metrics:metrics}))}),[options,setOptions]);var handleAggregationChange=(0,_react.useCallback)((function(aggregation){setAfterKey(null);var metrics=aggregation==="count"?[{aggregation:aggregation}]:options.metrics.filter((function(metric){return metric.aggregation!=="count"})).map((function(metric){return _objectSpread({},metric,{aggregation:aggregation})}));setOptions(_objectSpread({},options,{aggregation:aggregation,metrics:metrics}))}),[options,setOptions]);var onViewStateChange=(0,_react.useCallback)((function(vs){if(vs.chartOptions){setChartOptions(vs.chartOptions)}if(vs.currentTimerange){setTimeRange(vs.currentTimerange)}if(vs.options){setOptions(vs.options)}}),[setChartOptions,setOptions,setTimeRange]);return{loading:loading,error:error,data:data,currentTimerange:currentTimerange,options:options,chartOptions:chartOptions,setChartOptions:setChartOptions,handleAggregationChange:handleAggregationChange,handleMetricsChange:handleMetricsChange,handleFilterQuerySubmit:handleFilterQuerySubmit,handleGroupByChange:handleGroupByChange,handleTimeChange:handleTimeChange,handleRefresh:handleRefresh,handleLoadMore:setAfterKey,defaultViewState:defaultViewState,onViewStateChange:onViewStateChange,refreshSignal:refreshSignal,afterKey:afterKey}};exports.useMetricsExplorerState=useMetricsExplorerState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useMetricsExplorerData=useMetricsExplorerData;var _datemath=_interopRequireDefault(__webpack_require__(24));var _lodash=__webpack_require__(1);var _react=__webpack_require__(3);var _metrics_explorer=__webpack_require__(844);var _kuery=__webpack_require__(769);var _public=__webpack_require__(9);var _runtime_types=__webpack_require__(210);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function isSameOptions(current,next){return(0,_lodash.isEqual)(current,next)}function useMetricsExplorerData(options,source,derivedIndexPattern,timerange,afterKey,signal){var _useKibana$services$h;var fetch=(_useKibana$services$h=(0,_public.useKibana)().services.http)===null||_useKibana$services$h===void 0?void 0:_useKibana$services$h.fetch;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=_slicedToArray(_useState7,2),lastOptions=_useState8[0],setLastOptions=_useState8[1];var _useState9=(0,_react.useState)(null),_useState10=_slicedToArray(_useState9,2),lastTimerange=_useState10[0],setLastTimerange=_useState10[1];(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var from,to,response,series;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;from=_datemath.default.parse(timerange.from);to=_datemath.default.parse(timerange.to,{roundUp:true});if(!(!from||!to)){_context.next=6;break}throw new Error("Unalble to parse timerange");case 6:if(fetch){_context.next=8;break}throw new Error("HTTP service is unavailable");case 8:_context.t0=(0,_runtime_types.decodeOrThrow)(_metrics_explorer.metricsExplorerResponseRT);_context.next=11;return fetch("/api/infra/metrics_explorer",{method:"POST",body:JSON.stringify({metrics:options.aggregation==="count"?[{aggregation:"count"}]:options.metrics.map((function(metric){return{aggregation:metric.aggregation,field:metric.field}})),groupBy:options.groupBy,afterKey:afterKey,limit:options.limit,indexPattern:source.metricAlias,filterQuery:options.filterQuery&&(0,_kuery.convertKueryToElasticSearchQuery)(options.filterQuery,derivedIndexPattern)||void 0,timerange:_objectSpread({},timerange,{field:source.fields.timestamp,from:from.valueOf(),to:to.valueOf()})})});case 11:_context.t1=_context.sent;response=(0,_context.t0)(_context.t1);if(response){if(data&&lastOptions&&data.pageInfo.afterKey!==response.pageInfo.afterKey&&isSameOptions(lastOptions,options)&&(0,_lodash.isEqual)(timerange,lastTimerange)&&afterKey){series=data.series;setData(_objectSpread({},response,{series:[].concat(_toConsumableArray(series),_toConsumableArray(response.series))}))}else{setData(response)}setLastOptions(options);setLastTimerange(timerange);setError(null)}_context.next=19;break;case 16:_context.prev=16;_context.t2=_context["catch"](1);setError(_context.t2);case 19:setLoading(false);case 20:case"end":return _context.stop()}}}),_callee,null,[[1,16]])})))()}),[options,source,timerange,signal,afterKey]);return{error:error,loading:loading,data:data}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotPage=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _page_content=__webpack_require__(1644);var _toolbar=__webpack_require__(1687);var _document_title=__webpack_require__(726);var _no_indices=__webpack_require__(843);var _page=__webpack_require__(709);var _source_error_page=__webpack_require__(780);var _source_loading_page=__webpack_require__(738);var _source_configuration=__webpack_require__(849);var _source=__webpack_require__(705);var _with_waffle_filters=__webpack_require__(857);var _with_waffle_options=__webpack_require__(763);var _with_waffle_time=__webpack_require__(858);var _public=__webpack_require__(64);var _public2=__webpack_require__(9);var _use_link_props=__webpack_require__(710);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var SnapshotPage=function SnapshotPage(){var _useKibana$services$a,_uiCapabilities$infra;var uiCapabilities=(_useKibana$services$a=(0,_public2.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;var _useContext=(0,_react.useContext)(_source.Source.Context),createDerivedIndexPattern=_useContext.createDerivedIndexPattern,hasFailedLoadingSource=_useContext.hasFailedLoadingSource,isLoading=_useContext.isLoading,loadSourceFailureMessage=_useContext.loadSourceFailureMessage,loadSource=_useContext.loadSource,metricIndicesExist=_useContext.metricIndicesExist;(0,_public.useTrackPageview)({app:"infra_metrics",path:"inventory"});(0,_public.useTrackPageview)({app:"infra_metrics",path:"inventory",delay:15e3});var tutorialLinkProps=(0,_use_link_props.useLinkProps)({app:"kibana",hash:"/home/tutorial_directory/metrics"});return _react.default.createElement(_page.ColumnarPage,null,_react.default.createElement(_document_title.DocumentTitle,{title:function title(previousTitle){return _i18n.i18n.translate("xpack.infra.infrastructureSnapshotPage.documentTitle",{defaultMessage:"{previousTitle} | Inventory",values:{previousTitle:previousTitle}})}}),isLoading?_react.default.createElement(_source_loading_page.SourceLoadingPage,null):metricIndicesExist?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_with_waffle_time.WithWaffleTimeUrlState,null),_react.default.createElement(_with_waffle_filters.WithWaffleFilterUrlState,{indexPattern:createDerivedIndexPattern("metrics")}),_react.default.createElement(_with_waffle_options.WithWaffleOptionsUrlState,null),_react.default.createElement(_toolbar.SnapshotToolbar,null),_react.default.createElement(_page_content.SnapshotPageContent,null)):hasFailedLoadingSource?_react.default.createElement(_source_error_page.SourceErrorPage,{errorMessage:loadSourceFailureMessage||"",retry:loadSource}):_react.default.createElement(_no_indices.NoIndices,{title:_i18n.i18n.translate("xpack.infra.homePage.noMetricsIndicesTitle",{defaultMessage:"Looks like you don't have any metrics indices."}),message:_i18n.i18n.translate("xpack.infra.homePage.noMetricsIndicesDescription",{defaultMessage:"Let's add some!"}),actions:_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiButton,_extends({},tutorialLinkProps,{color:"primary",fill:true,"data-test-subj":"infrastructureViewSetupInstructionsButton"}),_i18n.i18n.translate("xpack.infra.homePage.noMetricsIndicesInstructionsActionLabel",{defaultMessage:"View setup instructions"}))),(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra=uiCapabilities.infrastructure)===null||_uiCapabilities$infra===void 0?void 0:_uiCapabilities$infra.configureSource)?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_source_configuration.ViewSourceConfigurationButton,{app:"metrics","data-test-subj":"configureSourceButton"},_i18n.i18n.translate("xpack.infra.configureSourceActionLabel",{defaultMessage:"Change source configuration"}))):null),"data-test-subj":"noMetricsIndicesPrompt"}))};exports.SnapshotPage=SnapshotPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotPageContent=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _with_waffle_filters=__webpack_require__(857);var _with_waffle_options=__webpack_require__(763);var _with_waffle_time=__webpack_require__(858);var _with_options=__webpack_require__(1645);var _with_source=__webpack_require__(793);var _layout=__webpack_require__(1646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SnapshotPageContent=function SnapshotPageContent(){return _react.default.createElement(_with_source.WithSource,null,(function(_ref){var configuration=_ref.configuration,createDerivedIndexPattern=_ref.createDerivedIndexPattern,sourceId=_ref.sourceId;return _react.default.createElement(_with_options.WithOptions,null,(function(_ref2){var wafflemap=_ref2.wafflemap;return _react.default.createElement(_with_waffle_filters.WithWaffleFilter,{indexPattern:createDerivedIndexPattern("metrics")},(function(_ref3){var filterQueryAsJson=_ref3.filterQueryAsJson,applyFilterQuery=_ref3.applyFilterQuery;return _react.default.createElement(_with_waffle_time.WithWaffleTime,null,(function(_ref4){var currentTime=_ref4.currentTime;return _react.default.createElement(_with_waffle_options.WithWaffleOptions,null,(function(_ref5){var metric=_ref5.metric,groupBy=_ref5.groupBy,nodeType=_ref5.nodeType,view=_ref5.view,changeView=_ref5.changeView,autoBounds=_ref5.autoBounds,boundsOverride=_ref5.boundsOverride,accountId=_ref5.accountId,region=_ref5.region;return _react.default.createElement(_layout.Layout,{currentTime:currentTime,filterQuery:filterQueryAsJson,metric:metric,groupBy:groupBy,nodeType:nodeType,sourceId:sourceId,options:_objectSpread({},wafflemap,{metric:metric,fields:configuration&&configuration.fields,groupBy:groupBy}),onDrilldown:applyFilterQuery,view:view,onViewChange:changeView,autoBounds:autoBounds,boundsOverride:boundsOverride,accountId:accountId,region:region})}))}))}))}))}))};exports.SnapshotPageContent=SnapshotPageContent},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.WithOptions=exports.withOptions=void 0;var _moment=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _lib=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var euiVisColorPalette=(0,_eui.euiPaletteColorBlind)();var initialState={options:{timerange:{interval:"1m",to:_moment.default.utc().valueOf(),from:_moment.default.utc().subtract(1,"h").valueOf()},wafflemap:{formatter:_lib.InfraFormatterType.percent,formatTemplate:"{{value}}",metric:{type:"cpu"},groupBy:[],legend:{type:_lib.InfraWaffleMapLegendMode.gradient,rules:[{value:0,color:"#D3DAE6"},{value:1,color:euiVisColorPalette[1]}]}}}};var withOptions=function withOptions(WrappedComponent){return _react.default.createElement(WithOptions,null,(function(args){return _react.default.createElement(WrappedComponent,args)}))};exports.withOptions=withOptions;var WithOptions=function(_React$Component){_inherits(WithOptions,_React$Component);function WithOptions(){var _getPrototypeOf2;var _this;_classCallCheck(this,WithOptions);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(WithOptions)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",initialState);return _this}_createClass(WithOptions,[{key:"render",value:function render(){return this.props.children(this.state.options)}}]);return WithOptions}(_react.default.Component);exports.WithOptions=WithOptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _nodes_overview=__webpack_require__(1647);var _toolbar=__webpack_require__(1663);var _page=__webpack_require__(709);var _use_snaphot=__webpack_require__(1684);var _use_inventory_meta=__webpack_require__(1685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=function Layout(props){var _useInventoryMeta=(0,_use_inventory_meta.useInventoryMeta)(props.sourceId,props.nodeType),accounts=_useInventoryMeta.accounts,regions=_useInventoryMeta.regions;var _useSnapshot=(0,_use_snaphot.useSnapshot)(props.filterQuery,props.metric,props.groupBy,props.nodeType,props.sourceId,props.currentTime,props.accountId,props.region),loading=_useSnapshot.loading,nodes=_useSnapshot.nodes,reload=_useSnapshot.reload,interval=_useSnapshot.interval;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_toolbar.Toolbar,{accounts:accounts,regions:regions,nodeType:props.nodeType}),_react.default.createElement(_page.PageContent,null,_react.default.createElement(_nodes_overview.NodesOverview,{nodes:nodes,options:props.options,nodeType:props.nodeType,loading:loading,reload:reload,onDrilldown:props.onDrilldown,currentTime:props.currentTime,onViewChange:props.onViewChange,view:props.view,autoBounds:props.autoBounds,boundsOverride:props.boundsOverride,interval:interval})))};exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NodesOverview=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _lodash=__webpack_require__(1);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _lib=__webpack_require__(66);var _formatters=__webpack_require__(222);var _empty_states=__webpack_require__(786);var _loading=__webpack_require__(740);var _map=__webpack_require__(1648);var _view_switcher=__webpack_require__(1660);var _table=__webpack_require__(1661);var _snapshot_api=__webpack_require__(730);var _convert_interval_to_string=__webpack_require__(1662);var _create_formatter_for_metric=__webpack_require__(969);var _METRIC_FORMATTERS,_class,_temp;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  display: flex;\n  top: 70px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  padding: ",";\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  padding: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n  flex: 1 1 auto;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var METRIC_FORMATTERS=(_METRIC_FORMATTERS={},_defineProperty(_METRIC_FORMATTERS,"count",{formatter:_lib.InfraFormatterType.number,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"cpu",{formatter:_lib.InfraFormatterType.percent,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"memory",{formatter:_lib.InfraFormatterType.percent,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"rx",{formatter:_lib.InfraFormatterType.bits,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,"tx",{formatter:_lib.InfraFormatterType.bits,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,"logRate",{formatter:_lib.InfraFormatterType.abbreviatedNumber,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,"diskIOReadBytes",{formatter:_lib.InfraFormatterType.bytes,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,"diskIOWriteBytes",{formatter:_lib.InfraFormatterType.bytes,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,"s3BucketSize",{formatter:_lib.InfraFormatterType.bytes,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"s3TotalRequests",{formatter:_lib.InfraFormatterType.abbreviatedNumber,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"s3NumberOfObjects",{formatter:_lib.InfraFormatterType.abbreviatedNumber,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"s3UploadBytes",{formatter:_lib.InfraFormatterType.bytes,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"s3DownloadBytes",{formatter:_lib.InfraFormatterType.bytes,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,"sqsOldestMessage",{formatter:_lib.InfraFormatterType.number,template:"{{value}} seconds"}),_METRIC_FORMATTERS);var calculateBoundsFromNodes=function calculateBoundsFromNodes(nodes){var maxValues=nodes.map((function(node){return node.metric.max}));var minValues=nodes.map((function(node){return node.metric.value}));if(minValues.length===1){minValues.unshift(0)}return{min:(0,_lodash.min)(minValues)||0,max:(0,_lodash.max)(maxValues)||0}};var NodesOverview=(_temp=_class=function(_React$Component){_inherits(NodesOverview,_React$Component);function NodesOverview(){var _getPrototypeOf2;var _this;_classCallCheck(this,NodesOverview);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(NodesOverview)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"handleViewChange",(function(view){return _this.props.onViewChange(view)}));_defineProperty(_assertThisInitialized(_this),"formatter",(function(val){var metric=_this.props.options.metric;if(_snapshot_api.SnapshotCustomMetricInputRT.is(metric)){var _formatter=(0,_create_formatter_for_metric.createFormatterForMetric)(metric);return _formatter(val)}var metricFormatter=(0,_lodash.get)(METRIC_FORMATTERS,metric.type,METRIC_FORMATTERS.count);if(val==null){return""}var formatter=(0,_formatters.createFormatter)(metricFormatter.formatter,metricFormatter.template);return formatter(val)}));_defineProperty(_assertThisInitialized(_this),"handleDrilldown",(function(filter){_this.props.onDrilldown({kind:"kuery",expression:filter});return}));return _this}_createClass(NodesOverview,[{key:"render",value:function render(){var _this$props=this.props,autoBounds=_this$props.autoBounds,boundsOverride=_this$props.boundsOverride,loading=_this$props.loading,nodes=_this$props.nodes,nodeType=_this$props.nodeType,reload=_this$props.reload,view=_this$props.view,currentTime=_this$props.currentTime,options=_this$props.options,interval=_this$props.interval;if(loading){return _react2.default.createElement(_loading.InfraLoadingPanel,{height:"100%",width:"100%",text:_i18n.i18n.translate("xpack.infra.waffle.loadingDataText",{defaultMessage:"Loading data"})})}else if(!loading&&nodes&&nodes.length===0){return _react2.default.createElement(_empty_states.NoData,{titleText:_i18n.i18n.translate("xpack.infra.waffle.noDataTitle",{defaultMessage:"There is no data to display."}),bodyText:_i18n.i18n.translate("xpack.infra.waffle.noDataDescription",{defaultMessage:"Try adjusting your time or filter."}),refetchText:_i18n.i18n.translate("xpack.infra.waffle.checkNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:function onRefetch(){reload()},testString:"noMetricsDataPrompt"})}var dataBounds=calculateBoundsFromNodes(nodes);var bounds=autoBounds?dataBounds:boundsOverride;var intervalAsString=(0,_convert_interval_to_string.convertIntervalToString)(interval);return _react2.default.createElement(MainContainer,null,_react2.default.createElement(ViewSwitcherContainer,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_view_switcher.ViewSwitcher,{view:view,onChange:this.handleViewChange})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.homePage.toolbar.showingLastOneMinuteDataText",defaultMessage:"Showing the last {duration} of data at the selected time",values:{duration:intervalAsString}})))))),view==="table"?_react2.default.createElement(TableContainer,null,_react2.default.createElement(_table.TableView,{nodeType:nodeType,nodes:nodes,options:options,formatter:this.formatter,currentTime:currentTime,onFilter:this.handleDrilldown})):_react2.default.createElement(MapContainer,null,_react2.default.createElement(_map.Map,{nodeType:nodeType,nodes:nodes,options:options,formatter:this.formatter,currentTime:currentTime,onFilter:this.handleDrilldown,bounds:bounds,dataBounds:dataBounds})))}}]);return NodesOverview}(_react2.default.Component),_defineProperty(_class,"displayName","Waffle"),_temp);exports.NodesOverview=NodesOverview;var MainContainer=_public.euiStyled.div(_templateObject());var TableContainer=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.paddingSizes.l}));var ViewSwitcherContainer=_public.euiStyled.div(_templateObject3(),(function(props){return props.theme.eui.paddingSizes.l}));var MapContainer=_public.euiStyled.div(_templateObject4())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Map=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _nodes_to_wafflemap=__webpack_require__(987);var _type_guards=__webpack_require__(859);var _auto_sizer=__webpack_require__(758);var _group_of_groups=__webpack_require__(1649);var _group_of_nodes=__webpack_require__(989);var _legend=__webpack_require__(1654);var _apply_wafflemap_layout=__webpack_require__(1658);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n  padding: 10px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var Map=function Map(_ref){var nodes=_ref.nodes,options=_ref.options,currentTime=_ref.currentTime,onFilter=_ref.onFilter,formatter=_ref.formatter,bounds=_ref.bounds,nodeType=_ref.nodeType,dataBounds=_ref.dataBounds;var map=(0,_nodes_to_wafflemap.nodesToWaffleMap)(nodes);return _react.default.createElement(_auto_sizer.AutoSizer,{content:true},(function(_ref2){var measureRef=_ref2.measureRef,_ref2$content=_ref2.content,_ref2$content$width=_ref2$content.width,width=_ref2$content$width===void 0?0:_ref2$content$width,_ref2$content$height=_ref2$content.height,height=_ref2$content$height===void 0?0:_ref2$content$height;var groupsWithLayout=(0,_apply_wafflemap_layout.applyWaffleMapLayout)(map,width,height);return _react.default.createElement(WaffleMapOuterContainer,{ref:function ref(el){return measureRef(el)},"data-test-subj":"waffleMap"},_react.default.createElement(WaffleMapInnerContainer,null,groupsWithLayout.map((function(group){if((0,_type_guards.isWaffleMapGroupWithGroups)(group)){return _react.default.createElement(_group_of_groups.GroupOfGroups,{onDrilldown:onFilter,key:group.id,options:options,group:group,formatter:formatter,bounds:bounds,nodeType:nodeType,currentTime:currentTime})}if((0,_type_guards.isWaffleMapGroupWithNodes)(group)){return _react.default.createElement(_group_of_nodes.GroupOfNodes,{key:group.id,options:options,group:group,onDrilldown:onFilter,formatter:formatter,isChild:false,bounds:bounds,nodeType:nodeType,currentTime:currentTime})}}))),_react.default.createElement(_legend.Legend,{formatter:formatter,bounds:bounds,dataBounds:dataBounds,legend:options.legend}))}))};exports.Map=Map;var WaffleMapOuterContainer=_public.euiStyled.div(_templateObject());var WaffleMapInnerContainer=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GroupOfGroups=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _group_name=__webpack_require__(988);var _group_of_nodes=__webpack_require__(989);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  margin: 0 10px;\n  width: 100%;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var GroupOfGroups=function GroupOfGroups(props){return _react.default.createElement(GroupOfGroupsContainer,null,_react.default.createElement(_group_name.GroupName,{group:props.group,onDrilldown:props.onDrilldown,options:props.options}),_react.default.createElement(Groups,null,props.group.groups.map((function(group){return _react.default.createElement(_group_of_nodes.GroupOfNodes,{isChild:true,key:group.id,onDrilldown:props.onDrilldown,options:props.options,group:group,formatter:props.formatter,bounds:props.bounds,nodeType:props.nodeType,currentTime:props.currentTime})}))))};exports.GroupOfGroups=GroupOfGroups;var GroupOfGroupsContainer=_public.euiStyled.div(_templateObject());var Groups=_public.euiStyled.div(_templateObject2(),(function(props){return props.theme.eui.euiBorderColor}))},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.Node=void 0;var _polished=__webpack_require__(215);var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _conditional_tooltip=__webpack_require__(1651);var _public=__webpack_require__(64);var _color_from_value=__webpack_require__(1652);var _node_context_menu=__webpack_require__(991);var _temp;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject7(){var data=_taggedTemplateLiteral(["\n  font-size: 0.7em;\n  margin-bottom: 0.7em;\n"]);_templateObject7=function _templateObject7(){return data};return data}function _templateObject6(){var data=_taggedTemplateLiteral(["\n  font-weight: bold;\n  font-size: 0.9em;\n  line-height: 1.2em;\n"]);_templateObject6=function _templateObject6(){return data};return data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n  text-align: center;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 1 0 auto;\n  color: ",";\n"]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  line-height: 1.2em;\n  align-items: center;\n  align-content: center;\n  padding: 1em;\n  overflow: hidden;\n  flex-wrap: wrap;\n  width: 100%;\n  border: none;\n  &:focus {\n    outline: none !important;\n    border: "," solid\n      ",";\n    box-shadow: none;\n  }\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 2px;\n  left: 0;\n  border-radius: 3px;\n  background-color: ",";\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  bottom: 4px;\n  right: 4px;\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: relative;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={isPopoverOpen:false};var Node=(_temp=function(_React$PureComponent){_inherits(Node,_React$PureComponent);function Node(){var _getPrototypeOf2;var _this;_classCallCheck(this,Node);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Node)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",initialState);_defineProperty(_assertThisInitialized(_this),"togglePopover",(function(){_this.setState((function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"closePopover",(function(){if(_this.state.isPopoverOpen){_this.setState({isPopoverOpen:false})}}));return _this}_createClass(Node,[{key:"render",value:function render(){var _this$props=this.props,nodeType=_this$props.nodeType,node=_this$props.node,options=_this$props.options,squareSize=_this$props.squareSize,bounds=_this$props.bounds,formatter=_this$props.formatter,currentTime=_this$props.currentTime;var isPopoverOpen=this.state.isPopoverOpen;var metric=node.metric;var valueMode=squareSize>70;var ellipsisMode=squareSize>30;var rawValue=metric&&metric.value||0;var color=(0,_color_from_value.colorFromValue)(options.legend,rawValue,bounds);var value=formatter(rawValue);var nodeAriaLabel=_i18n.i18n.translate("xpack.infra.node.ariaLabel",{defaultMessage:"{nodeName}, click to open menu",values:{nodeName:node.name}});return _react.default.createElement(_node_context_menu.NodeContextMenu,{node:node,nodeType:nodeType,isPopoverOpen:isPopoverOpen,closePopover:this.closePopover,options:options,currentTime:currentTime,popoverPosition:"downCenter"},_react.default.createElement(_conditional_tooltip.ConditionalToolTip,{delay:"regular",hidden:isPopoverOpen,position:"top",content:"".concat(node.name," | ").concat(value)},_react.default.createElement(NodeContainer,{"data-test-subj":"nodeContainer",style:{width:squareSize||0,height:squareSize||0},onClick:this.togglePopover},_react.default.createElement(SquareOuter,{color:color},_react.default.createElement(SquareInner,{color:color},valueMode?_react.default.createElement(ValueInner,{"aria-label":nodeAriaLabel},_react.default.createElement(Label,{color:color},node.name),_react.default.createElement(Value,{color:color},value)):ellipsisMode&&_react.default.createElement(ValueInner,{"aria-label":nodeAriaLabel},_react.default.createElement(Label,{color:color},"...")))))))}}]);return Node}(_react.default.PureComponent),_temp);exports.Node=Node;var NodeContainer=_public.euiStyled.div(_templateObject());var SquareOuter=_public.euiStyled.div(_templateObject2(),(function(props){return(0,_polished.darken)(.1,props.color)}));var SquareInner=_public.euiStyled.div(_templateObject3(),(function(props){return props.color}));var ValueInner=_public.euiStyled.button(_templateObject4(),(function(params){return params.theme.eui.euiFocusRingSize}),(function(params){return params.theme.eui.euiFocusRingColor}));var SquareTextContent=_public.euiStyled.div(_templateObject5(),(function(props){return(0,_polished.readableColor)(props.color)}));var Value=(0,_public.euiStyled)(SquareTextContent)(_templateObject6());var Label=(0,_public.euiStyled)(SquareTextContent)(_templateObject7())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalToolTip=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _lodash=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConditionalToolTip=function ConditionalToolTip(props){if(props.hidden){return props.children}var propsWithoutHidden=(0,_lodash.omit)(props,"hidden");return _react.default.createElement(_eui.EuiToolTip,propsWithoutHidden,props.children)};exports.ConditionalToolTip=ConditionalToolTip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.calculateGradientColor=exports.calculateStepColor=exports.colorFromValue=void 0;var _lodash=__webpack_require__(1);var _polished=__webpack_require__(215);var _lib=__webpack_require__(66);var _type_guards=__webpack_require__(990);var _OPERATOR_TO_FN;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OPERATOR_TO_FN=(_OPERATOR_TO_FN={},_defineProperty(_OPERATOR_TO_FN,_lib.InfraWaffleMapRuleOperator.eq,_lodash.eq),_defineProperty(_OPERATOR_TO_FN,_lib.InfraWaffleMapRuleOperator.lt,_lodash.lt),_defineProperty(_OPERATOR_TO_FN,_lib.InfraWaffleMapRuleOperator.lte,_lodash.lte),_defineProperty(_OPERATOR_TO_FN,_lib.InfraWaffleMapRuleOperator.gte,_lodash.gte),_defineProperty(_OPERATOR_TO_FN,_lib.InfraWaffleMapRuleOperator.gt,_lodash.gt),_OPERATOR_TO_FN);var convertToRgbString=function convertToRgbString(color){return(0,_polished.toColorString)((0,_polished.parseToRgb)(color))};var colorFromValue=function colorFromValue(legend,value,bounds){var defaultColor=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"rgba(217, 217, 217, 1)";try{if((0,_type_guards.isInfraWaffleMapStepLegend)(legend)){return convertToRgbString(calculateStepColor(legend,value,defaultColor))}if((0,_type_guards.isInfraWaffleMapGradientLegend)(legend)){return convertToRgbString(calculateGradientColor(legend,value,bounds,defaultColor))}return defaultColor}catch(error){return defaultColor}};exports.colorFromValue=colorFromValue;var normalizeValue=function normalizeValue(min,max,value){return(value-min)/(max-min)};var calculateStepColor=function calculateStepColor(legend,value){var defaultColor=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rgba(217, 217, 217, 1)";return(0,_lodash.sortBy)(legend.rules,"sortBy").reduce((function(color,rule){var operatorFn=OPERATOR_TO_FN[rule.operator];if(operatorFn(value,rule.value)){return rule.color}return color}),defaultColor)};exports.calculateStepColor=calculateStepColor;var calculateGradientColor=function calculateGradientColor(legend,value,bounds){var defaultColor=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"rgba(0, 179, 164, 1)";if(legend.rules.length===0){return defaultColor}if(legend.rules.length===1){return(0,_lodash.last)(legend.rules).color}var min=bounds.min,max=bounds.max;var sortedRules=(0,_lodash.sortBy)(legend.rules,"value");var normValue=normalizeValue(min,max,Number(value));var startRule=sortedRules.reduce((function(acc,rule){if(rule.value<=normValue){return rule}return acc}),(0,_lodash.first)(sortedRules));var endRule=sortedRules.filter((function(r){return r!==startRule})).find((function(r){return r.value>=normValue}));if(!endRule){return startRule.color}var mixValue=normalizeValue(startRule.value,endRule.value,normValue);return(0,_polished.mix)(mixValue,endRule.color,startRule.color)};exports.calculateGradientColor=calculateGradientColor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createUptimeLink=void 0;var _lodash=__webpack_require__(1);var createUptimeLink=function createUptimeLink(options,nodeType,node){if(nodeType==="host"&&node.ip){return{app:"uptime",hash:"/",search:{search:'host.ip:"'.concat(node.ip,'"')}}}var field=(0,_lodash.get)(options,["fields",nodeType],"");return{app:"uptime",hash:"/",search:{search:"".concat(field?field+":":"",'"').concat(node.id,'"')}}};exports.createUptimeLink=createUptimeLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Legend=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _with_waffle_options=__webpack_require__(763);var _gradient_legend=__webpack_require__(1655);var _legend_controls=__webpack_require__(1656);var _type_guards=__webpack_require__(990);var _steps_legend=__webpack_require__(1657);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var Legend=function Legend(_ref){var dataBounds=_ref.dataBounds,legend=_ref.legend,bounds=_ref.bounds,formatter=_ref.formatter;return _react.default.createElement(LegendContainer,null,_react.default.createElement(_with_waffle_options.WithWaffleOptions,null,(function(_ref2){var changeBoundsOverride=_ref2.changeBoundsOverride,changeAutoBounds=_ref2.changeAutoBounds,autoBounds=_ref2.autoBounds,boundsOverride=_ref2.boundsOverride;return _react.default.createElement(_legend_controls.LegendControls,{dataBounds:dataBounds,bounds:bounds,autoBounds:autoBounds,boundsOverride:boundsOverride,onChange:function onChange(options){changeBoundsOverride(options.bounds);changeAutoBounds(options.auto)}})})),(0,_type_guards.isInfraWaffleMapGradientLegend)(legend)&&_react.default.createElement(_gradient_legend.GradientLegend,{formatter:formatter,legend:legend,bounds:bounds}),(0,_type_guards.isInfraWaffleMapStepLegend)(legend)&&_react.default.createElement(_steps_legend.StepLegend,{formatter:formatter,legend:legend}))};exports.Legend=Legend;var LegendContainer=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GradientLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  font-size: 11px;\n  text-align: center;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  transform: translate(-50%, 0);\n  ",":first-child & {\n    padding-left: 5px;\n    transform: translate(0, 0);\n  }\n  ",":last-child & {\n    padding-right: 5px;\n    transform: translate(-100%, 0);\n  }\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  background-color: ",";\n  width: 1px;\n  left: 0;\n  top: 15px;\n  bottom: 0;\n  ",":first-child {\n    top: 2px;\n  }\n  ",":last-child {\n    top: 2px;\n  }\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: 0;\n  top: -18px;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  height: 10px;\n  bottom: 0;\n  left: 0;\n  right: 40px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var createTickRender=function createTickRender(bounds,formatter){return function(rule,index){var value=rule.value===0?bounds.min:bounds.max*rule.value;var style={left:"".concat(rule.value*100,"%")};var label=formatter(value);return _react.default.createElement(GradientLegendTick,{style:style,key:"legend-rule-".concat(index)},_react.default.createElement(GradientLegendTickLine,null),_react.default.createElement(GradientLegendTickLabel,null,label))}};var GradientLegend=function GradientLegend(_ref){var legend=_ref.legend,bounds=_ref.bounds,formatter=_ref.formatter;var maxValue=legend.rules.reduce((function(acc,rule){return acc<rule.value?rule.value:acc}),0);var colorStops=legend.rules.map((function(rule){var percent=rule.value/maxValue*100;return"".concat(rule.color," ").concat(percent,"%")}));var style={background:"linear-gradient(to right, ".concat(colorStops,")")};return _react.default.createElement(GradientLegendContainer,{style:style},legend.rules.map(createTickRender(bounds,formatter)))};exports.GradientLegend=GradientLegend;var GradientLegendContainer=_public.euiStyled.div(_templateObject());var GradientLegendTick=_public.euiStyled.div(_templateObject2());var GradientLegendTickLine=_public.euiStyled.div(_templateObject3(),(function(props){return props.theme.eui.euiBorderColor}),GradientLegendTick,GradientLegendTick);var GradientLegendTickLabel=_public.euiStyled.div(_templateObject4(),GradientLegendTick,GradientLegendTick)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LegendControls=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  top: -20px;\n  right: 6px;\n  bottom: 0;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var LegendControls=function LegendControls(_ref){var autoBounds=_ref.autoBounds,boundsOverride=_ref.boundsOverride,onChange=_ref.onChange,dataBounds=_ref.dataBounds;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setPopoverState=_useState2[1];var _useState3=(0,_react2.useState)(autoBounds),_useState4=_slicedToArray(_useState3,2),draftAuto=_useState4[0],setDraftAuto=_useState4[1];var _useState5=(0,_react2.useState)(autoBounds?dataBounds:boundsOverride),_useState6=_slicedToArray(_useState5,2),draftBounds=_useState6[0],setDraftBounds=_useState6[1];var buttonComponent=_react2.default.createElement(_eui.EuiButtonIcon,{iconType:"gear",color:"text","aria-label":_i18n.i18n.translate("xpack.infra.legendControls.buttonLabel",{defaultMessage:"configure legend"}),onClick:function onClick(){return setPopoverState(true)}});var handleAutoChange=function handleAutoChange(e){setDraftAuto(e.target.checked)};var createBoundsHandler=function createBoundsHandler(name){return function(e){var value=parseFloat(e.currentTarget.value);setDraftBounds(_objectSpread({},draftBounds,_defineProperty({},name,value)))}};var handlePopoverClose=function handlePopoverClose(){setPopoverState(false)};var handleApplyClick=function handleApplyClick(){onChange({auto:draftAuto,bounds:draftBounds})};var commited=draftAuto===autoBounds&&boundsOverride.min===draftBounds.min&&boundsOverride.max===draftBounds.max;var boundsValidRange=draftBounds.min<draftBounds.max;return _react2.default.createElement(ControlContainer,null,_react2.default.createElement(_eui.EuiPopover,{isOpen:isPopoverOpen,closePopover:handlePopoverClose,id:"legendControls",button:buttonComponent,withTitle:true},_react2.default.createElement(_eui.EuiPopoverTitle,null,"Legend Options"),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{name:"bounds",label:_i18n.i18n.translate("xpack.infra.legendControls.switchLabel",{defaultMessage:"Auto calculate range"}),checked:draftAuto,onChange:handleAutoChange})),_react2.default.createElement(_eui.EuiSpacer,null),!boundsValidRange&&_react2.default.createElement(_eui.EuiText,{color:"danger",grow:false,size:"s"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.legendControls.errorMessage",defaultMessage:"Min should be less than max"})))||null,_react2.default.createElement(_eui.EuiFlexGroup,{style:{marginTop:0}},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.infra.legendControls.minLabel",{defaultMessage:"Min"}),isInvalid:!boundsValidRange},_react2.default.createElement(_eui.EuiFieldNumber,{disabled:draftAuto,step:.1,value:isNaN(draftBounds.min)?"":draftBounds.min,isInvalid:!boundsValidRange,name:"legendMin",onChange:createBoundsHandler("min")}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.infra.legendControls.maxLabel",{defaultMessage:"Max"}),isInvalid:!boundsValidRange},_react2.default.createElement(_eui.EuiFieldNumber,{disabled:draftAuto,step:.1,isInvalid:!boundsValidRange,value:isNaN(draftBounds.max)?"":draftBounds.max,name:"legendMax",onChange:createBoundsHandler("max")})))),_react2.default.createElement(_eui.EuiButton,{type:"submit",size:"s",fill:true,disabled:commited||!boundsValidRange,onClick:handleApplyClick},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.legendControls.applyButton",defaultMessage:"Apply"})))))};exports.LegendControls=LegendControls;var ControlContainer=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepLegend=void 0;var _polished=__webpack_require__(215);var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _lib=__webpack_require__(66);var _OPERATORS;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject5(){var data=_taggedTemplateLiteral(["\n  font-size: 12px;\n"]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 2px;\n  border-radius: 3px;\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  position: relative;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 auto;\n  margin-right: 5px;\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  margin-right: 20px\n  align-items: center;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  padding: 10px 40px 10px 10px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OPERATORS=(_OPERATORS={},_defineProperty(_OPERATORS,_lib.InfraWaffleMapRuleOperator.gte,">="),_defineProperty(_OPERATORS,_lib.InfraWaffleMapRuleOperator.gt,">"),_defineProperty(_OPERATORS,_lib.InfraWaffleMapRuleOperator.lte,"<="),_defineProperty(_OPERATORS,_lib.InfraWaffleMapRuleOperator.lt,"<"),_defineProperty(_OPERATORS,_lib.InfraWaffleMapRuleOperator.eq,"="),_OPERATORS);var createStep=function createStep(formatter){return function(rule,index){var label=rule.label!=null?rule.label:"".concat(OPERATORS[rule.operator]," ").concat(formatter(rule.value));var squareStyle={backgroundColor:(0,_polished.darken)(.4,rule.color)};var squareInnerStyle={backgroundColor:rule.color};return _react.default.createElement(StepContainer,{key:"legend-step-".concat(index)},_react.default.createElement(StepSquare,{style:squareStyle},_react.default.createElement(StepSquareInner,{style:squareInnerStyle})),_react.default.createElement(StepLabel,null,label))}};var StepLegend=function StepLegend(_ref){var legend=_ref.legend,formatter=_ref.formatter;return _react.default.createElement(StepLegendContainer,null,legend.rules.map(createStep(formatter)))};exports.StepLegend=StepLegend;var StepLegendContainer=_public.euiStyled.div(_templateObject());var StepContainer=_public.euiStyled.div(_templateObject2());var StepSquare=_public.euiStyled.div(_templateObject3());var StepSquareInner=_public.euiStyled.div(_templateObject4());var StepLabel=_public.euiStyled.div(_templateObject5())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColumns=getColumns;exports.getTotalItems=getTotalItems;exports.getLargestCount=getLargestCount;exports.applyWaffleMapLayout=applyWaffleMapLayout;var _lodash=__webpack_require__(1);var _type_guards=__webpack_require__(859);var _size_of_squares=__webpack_require__(1659);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getColumns(n){var w=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var pageRatio=w/h;var ratio=pageRatio>1.2?1.2:pageRatio;var width=Math.ceil(Math.sqrt(n));return Math.ceil(width*ratio)}function getTotalItems(groups){if(!groups){return 0}return groups.reduce((function(acc,group){if((0,_type_guards.isWaffleMapGroupWithGroups)(group)){return group.groups.reduce((function(total,subGroup){return subGroup.nodes.length+total}),acc)}if((0,_type_guards.isWaffleMapGroupWithNodes)(group)){return group.nodes.length+acc}return acc}),0)}function getLargestCount(groups){if(!groups){return 0}return groups.reduce((function(total,group){if((0,_type_guards.isWaffleMapGroupWithGroups)(group)){return group.groups.reduce((function(subTotal,subGroup){if((0,_type_guards.isWaffleMapGroupWithNodes)(subGroup)){return subTotal>subGroup.nodes.length?subTotal:subGroup.nodes.length}return subTotal}),total)}if((0,_type_guards.isWaffleMapGroupWithNodes)(group)){return total>group.nodes.length?total:group.nodes.length}return total}),0)}var getTotalItemsOfGroup=function getTotalItemsOfGroup(group){return getTotalItems([group])};function applyWaffleMapLayout(groups,width,height){if(groups.length===0){return[]}var levels=(0,_type_guards.isWaffleMapGroupWithGroups)((0,_lodash.first)(groups))?2:1;var totalItems=getTotalItems(groups);var squareSize=Math.round((0,_size_of_squares.sizeOfSquares)(width,height,totalItems,levels));var largestCount=getLargestCount(groups);return(0,_lodash.sortBy)(groups,getTotalItemsOfGroup).reverse().map((function(group){if((0,_type_guards.isWaffleMapGroupWithGroups)(group)){var columns=getColumns(largestCount,width,height);var groupOfNodes=group.groups;var subGroups=(0,_lodash.sortBy)(groupOfNodes,getTotalItemsOfGroup).reverse().filter(_type_guards.isWaffleMapGroupWithNodes).map((function(subGroup){return _objectSpread({},subGroup,{count:subGroup.nodes.length,columns:columns,width:columns*squareSize,squareSize:squareSize})}));return _objectSpread({},group,{groups:subGroups,count:getTotalItems([group]),squareSize:squareSize})}if((0,_type_guards.isWaffleMapGroupWithNodes)(group)){var _columns=getColumns(Math.max(group.nodes.length,largestCount),width,height);return _objectSpread({},group,{count:group.nodes.length,squareSize:squareSize,width:_columns*squareSize})}return group}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sizeOfSquares=sizeOfSquares;exports.MIN_SIZE=exports.MAX_SIZE=exports.SCALE_FACTOR=void 0;var SCALE_FACTOR=.55;exports.SCALE_FACTOR=SCALE_FACTOR;var MAX_SIZE=Infinity;exports.MAX_SIZE=MAX_SIZE;var MIN_SIZE=24;exports.MIN_SIZE=MIN_SIZE;function sizeOfSquares(width,height,totalItems){var levels=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var levelFactor=levels>1?levels*.7:1;var scale=SCALE_FACTOR/levelFactor;var x=width*scale;var y=height*scale;var possibleX=Math.ceil(Math.sqrt(totalItems*x/y));var newX;var newY;if(Math.floor(possibleX*y/x)*possibleX<totalItems){newX=y/Math.ceil(possibleX*y/x)}else{newX=x/possibleX}var possibleY=Math.ceil(Math.sqrt(totalItems*y/x));if(Math.floor(possibleY*x/y)*possibleY<totalItems){newY=x/Math.ceil(x*possibleY/y)}else{newY=y/possibleY}var size=Math.max(newX,newY);return Math.min(Math.max(size,MIN_SIZE),MAX_SIZE)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ViewSwitcher=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ViewSwitcher=function ViewSwitcher(_ref){var view=_ref.view,onChange=_ref.onChange;var buttons=[{id:"map",label:_i18n.i18n.translate("xpack.infra.viewSwitcher.mapViewLabel",{defaultMessage:"Map view"}),iconType:"apps"},{id:"table",label:_i18n.i18n.translate("xpack.infra.viewSwitcher.tableViewLabel",{defaultMessage:"Table view"}),iconType:"editorUnorderedList"}];return _react.default.createElement(_eui.EuiButtonGroup,{legend:_i18n.i18n.translate("xpack.infra.viewSwitcher.lenged",{defaultMessage:"Switch between table and map view"}),options:buttons,color:"primary",idSelected:view,onChange:onChange})};exports.ViewSwitcher=ViewSwitcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableView=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _lodash=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(3));var _nodes_to_wafflemap=__webpack_require__(987);var _field_to_display_name=__webpack_require__(992);var _node_context_menu=__webpack_require__(991);var _start_app=__webpack_require__(695);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getGroupPaths=function getGroupPaths(path){switch(path.length){case 3:return path.slice(0,2);case 2:return path.slice(0,1);default:return[]}};var TableView=function TableView(props){var nodes=props.nodes,options=props.options,formatter=props.formatter,currentTime=props.currentTime,nodeType=props.nodeType;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),openPopovers=_useState2[0],setOpenPopovers=_useState2[1];var openPopoverFor=(0,_react.useCallback)((function(id){return function(){setOpenPopovers([].concat(_toConsumableArray(openPopovers),[id]))}}),[openPopovers]);var closePopoverFor=(0,_react.useCallback)((function(id){return function(){if(openPopovers.includes(id)){setOpenPopovers(openPopovers.filter((function(subject){return subject!==id})))}}}),[openPopovers]);(0,_react.useEffect)((function(){var el=document.getElementsByClassName(_start_app.CONTAINER_CLASSNAME)[0];if(el instanceof HTMLElement){if(openPopovers.length>0){el.style.overflowY="hidden"}else{el.style.overflowY="auto"}}}),[openPopovers]);var columns=[{field:"name",name:_i18n.i18n.translate("xpack.infra.tableView.columnName.name",{defaultMessage:"Name"}),sortable:true,truncateText:true,textOnly:true,render:function render(value,item){var tooltipText=item.node.id===value?"".concat(value):"".concat(value," (").concat(item.node.id,")");var uniqueID=[].concat(_toConsumableArray(item.node.path.map((function(p){return p.value}))),[item.node.name]).join(":");return _react.default.createElement(_node_context_menu.NodeContextMenu,{node:item.node,nodeType:nodeType,closePopover:closePopoverFor(uniqueID),currentTime:currentTime,isPopoverOpen:openPopovers.includes(uniqueID),options:options,popoverPosition:"rightCenter"},_react.default.createElement(_eui.EuiToolTip,{content:tooltipText},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:openPopoverFor(uniqueID)},value)))}}].concat(_toConsumableArray(options.groupBy.map((function(grouping,index){return{field:"group_".concat(index),name:(0,_field_to_display_name.fieldToName)(grouping&&grouping.field||""),sortable:true,truncateText:true,textOnly:true,render:function render(value){var handleClick=function handleClick(){return props.onFilter("".concat(grouping.field,':"').concat(value,'"'))};return _react.default.createElement(_eui.EuiToolTip,{content:"Set Filter"},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:handleClick},value))}}}))),[{field:"value",name:_i18n.i18n.translate("xpack.infra.tableView.columnName.last1m",{defaultMessage:"Last 1m"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return _react.default.createElement("span",null,formatter(value))}},{field:"avg",name:_i18n.i18n.translate("xpack.infra.tableView.columnName.avg",{defaultMessage:"Avg"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return _react.default.createElement("span",null,formatter(value))}},{field:"max",name:_i18n.i18n.translate("xpack.infra.tableView.columnName.max",{defaultMessage:"Max"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return _react.default.createElement("span",null,formatter(value))}}]);var items=nodes.map((function(node){var name=(0,_lodash.last)(node.path);return _objectSpread({name:name&&name.label||"unknown"},getGroupPaths(node.path).reduce((function(acc,path,index){return _objectSpread({},acc,_defineProperty({},"group_".concat(index),path.label))}),{}),{value:node.metric.value,avg:node.metric.avg,max:node.metric.max,node:(0,_nodes_to_wafflemap.createWaffleMapNode)(node)})}));var initialSorting={sort:{field:"value",direction:"desc"}};return _react.default.createElement(_eui.EuiInMemoryTable,{pagination:true,sorting:initialSorting,items:items,columns:columns})};exports.TableView=TableView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertIntervalToString=exports.parseInterval=exports.INTERVAL_STRING_RE=void 0;var _datemath=_interopRequireDefault(__webpack_require__(24));var _moment=_interopRequireDefault(__webpack_require__(11));var _i18n=__webpack_require__(0);var rt=_interopRequireWildcard(__webpack_require__(39));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var INTERVAL_STRING_RE=new RegExp("^([\\d\\.]+)\\s*(".concat(_datemath.default.units.join("|"),")$"));exports.INTERVAL_STRING_RE=INTERVAL_STRING_RE;var parseInterval=function parseInterval(intervalString){if(intervalString){var matches=intervalString.match(INTERVAL_STRING_RE);if(matches){var value=Number(matches[1]);var unit=matches[2];return{value:value,unit:unit}}}throw new Error(_i18n.i18n.translate("xpack.infra.parseInterval.errorMessage",{defaultMessage:"{value} is not an interval string",values:{value:intervalString}}))};exports.parseInterval=parseInterval;var ValidUnitRT=rt.keyof({seconds:null,minutes:null,hours:null,days:null,weeks:null,months:null,years:null});var UNITS=["seconds","minutes","hours","days","weeks","months","years"];var DISPLAY_STRINGS_FOR_UNITS_PLURAL={seconds:_i18n.i18n.translate("xpack.infra.durationUnits.seconds.plural",{defaultMessage:"seconds"}),minutes:_i18n.i18n.translate("xpack.infra.durationUnits.minutes.plural",{defaultMessage:"minutes"}),hours:_i18n.i18n.translate("xpack.infra.durationUnits.hours.plural",{defaultMessage:"hours"}),days:_i18n.i18n.translate("xpack.infra.durationUnits.days.plural",{defaultMessage:"days"}),weeks:_i18n.i18n.translate("xpack.infra.durationUnits.weeks.plural",{defaultMessage:"weeks"}),months:_i18n.i18n.translate("xpack.infra.durationUnits.months.plural",{defaultMessage:"months"}),years:_i18n.i18n.translate("xpack.infra.durationUnits.years.plural",{defaultMessage:"years"})};var DISPLAY_STRINGS_FOR_UNITS_SINGULAR={seconds:_i18n.i18n.translate("xpack.infra.durationUnits.seconds.singular",{defaultMessage:"second"}),minutes:_i18n.i18n.translate("xpack.infra.durationUnits.minutes.singular",{defaultMessage:"minute"}),hours:_i18n.i18n.translate("xpack.infra.durationUnits.hours.singular",{defaultMessage:"hour"}),days:_i18n.i18n.translate("xpack.infra.durationUnits.days.singular",{defaultMessage:"day"}),weeks:_i18n.i18n.translate("xpack.infra.durationUnits.weeks.singular",{defaultMessage:"week"}),months:_i18n.i18n.translate("xpack.infra.durationUnits.months.singular",{defaultMessage:"month"}),years:_i18n.i18n.translate("xpack.infra.durationUnits.years.singular",{defaultMessage:"year"})};var getDisplayableUnit=function getDisplayableUnit(value,unit){return Math.floor(value)===1?DISPLAY_STRINGS_FOR_UNITS_SINGULAR[unit]:DISPLAY_STRINGS_FOR_UNITS_PLURAL[unit]};var convertIntervalToString=function convertIntervalToString(input){var interval=parseInterval(input);if((interval===null||interval===void 0?void 0:interval.unit)==="s"){var duration=_moment.default.duration(interval.value,interval.unit);var targetUnit=UNITS.reduce((function(answer,unit){if(duration.as(unit)>=1){return unit}return answer}),"seconds");var durationAsUnit=duration.as(targetUnit);return"".concat(Math.floor(durationAsUnit)," ").concat(getDisplayableUnit(durationAsUnit,targetUnit))}};exports.convertIntervalToString=convertIntervalToString},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Toolbar=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _toolbars=__webpack_require__(1664);var _toolbar_wrapper=__webpack_require__(993);var _with_waffle_view_state=__webpack_require__(1682);var _toolbar_control=__webpack_require__(985);var _inventory_view=__webpack_require__(1683);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var wrapToolbarItems=function wrapToolbarItems(ToolbarItems,accounts,regions){return _react.default.createElement(_toolbar_wrapper.ToolbarWrapper,null,(function(props){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(ToolbarItems,_extends({},props,{accounts:accounts,regions:regions})),_react.default.createElement(_eui.EuiFlexItem,{grow:true}),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_with_waffle_view_state.WithWaffleViewState,{indexPattern:props.createDerivedIndexPattern("metrics")},(function(_ref){var defaultViewState=_ref.defaultViewState,viewState=_ref.viewState,onViewChange=_ref.onViewChange;return _react.default.createElement(_toolbar_control.SavedViewsToolbarControls,{defaultViewState:defaultViewState,viewState:viewState,onViewChange:onViewChange,viewType:_inventory_view.inventoryViewSavedObjectType})}))))}))};var Toolbar=function Toolbar(_ref2){var nodeType=_ref2.nodeType,accounts=_ref2.accounts,regions=_ref2.regions;var ToolbarItems=(0,_toolbars.findToolbar)(nodeType);return wrapToolbarItems(ToolbarItems,accounts,regions)};exports.Toolbar=Toolbar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findToolbar=void 0;var _i18n=__webpack_require__(0);var _toolbar_items=__webpack_require__(1665);var _toolbar_items2=__webpack_require__(1674);var _toolbar_items3=__webpack_require__(1675);var _toolbar_items4=__webpack_require__(1676);var _toolbar_items5=__webpack_require__(1679);var _toolbar_items6=__webpack_require__(1680);var _toolbar_items7=__webpack_require__(1681);var toolbars={host:_toolbar_items.HostToolbarItems,container:_toolbar_items2.ContainerToolbarItems,pod:_toolbar_items3.PodToolbarItems,awsEC2:_toolbar_items4.AwsEC2ToolbarItems,awsS3:_toolbar_items5.AwsS3ToolbarItems,awsRDS:_toolbar_items6.AwsRDSToolbarItems,awsSQS:_toolbar_items7.AwsSQSToolbarItems};var findToolbar=function findToolbar(type){var Toolbar=toolbars===null||toolbars===void 0?void 0:toolbars[type];if(!Toolbar){throw new Error(_i18n.i18n.translate("xpack.infra.inventoryModels.findToolbar.error",{defaultMessage:"The toolbar you've attempted to find does not exist."}))}return Toolbar};exports.findToolbar=findToolbar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HostToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var HostToolbarItems=function HostToolbarItems(props){var metricTypes=["cpu","memory","load","rx","tx","logRate"];var groupByFields=["cloud.availability_zone","cloud.machine.type","cloud.project.id","cloud.provider","service.type"];return _react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields}))};exports.HostToolbarItems=HostToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleMetricControls=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(3));var _snapshot_api=__webpack_require__(730);var _custom_metric_form=__webpack_require__(1667);var _get_custom_metric_label=__webpack_require__(861);var _metrics_context_menu=__webpack_require__(1669);var _mode_switcher=__webpack_require__(1670);var _metrics_edit_mode=__webpack_require__(1671);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var WaffleMetricControls=function WaffleMetricControls(_ref){var _options$find;var fields=_ref.fields,onChange=_ref.onChange,onChangeCustomMetrics=_ref.onChangeCustomMetrics,metric=_ref.metric,options=_ref.options,customMetrics=_ref.customMetrics;var _useState=(0,_react2.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setPopoverState=_useState2[1];var _useState3=(0,_react2.useState)("pick"),_useState4=_slicedToArray(_useState3,2),mode=_useState4[0],setMode=_useState4[1];var _useState5=(0,_react2.useState)([]),_useState6=_slicedToArray(_useState5,2),editModeCustomMetrics=_useState6[0],setEditModeCustomMetrics=_useState6[1];var _useState7=(0,_react2.useState)(),_useState8=_slicedToArray(_useState7,2),editCustomMetric=_useState8[0],setEditCustomMetric=_useState8[1];var handleClose=(0,_react2.useCallback)((function(){setPopoverState(false)}),[setPopoverState]);var handleToggle=(0,_react2.useCallback)((function(){setPopoverState(!isPopoverOpen)}),[isPopoverOpen]);var handleCustomMetric=(0,_react2.useCallback)((function(newMetric){onChangeCustomMetrics([].concat(_toConsumableArray(customMetrics),[newMetric]));onChange(newMetric);setMode("pick")}),[customMetrics,onChange,onChangeCustomMetrics,setMode]);var setModeToEdit=(0,_react2.useCallback)((function(){setMode("edit");setEditModeCustomMetrics(customMetrics)}),[customMetrics]);var setModeToAdd=(0,_react2.useCallback)((function(){setMode("addMetric")}),[setMode]);var setModeToPick=(0,_react2.useCallback)((function(){setMode("pick");setEditModeCustomMetrics([])}),[setMode]);var handleDeleteCustomMetric=(0,_react2.useCallback)((function(m){if(_snapshot_api.SnapshotCustomMetricInputRT.is(metric)&&m.id===metric.id){onChange({type:options[0].value})}var newMetrics=editModeCustomMetrics.filter((function(v){return v.id!==m.id}));setEditModeCustomMetrics(newMetrics)}),[editModeCustomMetrics,metric,onChange,options]);var handleEditCustomMetric=(0,_react2.useCallback)((function(currentMetric){var newMetrics=customMetrics.map((function(m){return m.id===currentMetric.id&&currentMetric||m}));onChangeCustomMetrics(newMetrics);setModeToPick();setEditCustomMetric(void 0);setEditModeCustomMetrics([])}),[customMetrics,onChangeCustomMetrics,setModeToPick]);var handleSelectMetricToEdit=(0,_react2.useCallback)((function(currentMetric){setEditCustomMetric(currentMetric);setMode("editMetric")}),[setMode,setEditCustomMetric]);var handleSaveEdit=(0,_react2.useCallback)((function(){onChangeCustomMetrics(editModeCustomMetrics);setMode("pick")}),[editModeCustomMetrics,onChangeCustomMetrics]);if(!options.length||!metric.type){throw Error(_i18n.i18n.translate("xpack.infra.waffle.unableToSelectMetricErrorTitle",{defaultMessage:"Unable to select options or value for metric."}))}var id=_snapshot_api.SnapshotCustomMetricInputRT.is(metric)&&metric.id?metric.id:metric.type;var currentLabel=_snapshot_api.SnapshotCustomMetricInputRT.is(metric)?(0,_get_custom_metric_label.getCustomMetricLabel)(metric):(_options$find=options.find((function(o){return o.value===id})))===null||_options$find===void 0?void 0:_options$find.text;if(!currentLabel){return null}var button=_react2.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",onClick:handleToggle},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.waffle.metricButtonLabel",defaultMessage:"Metric: {selectedMetric}",values:{selectedMetric:currentLabel}}));return _react2.default.createElement(_eui.EuiFilterGroup,null,_react2.default.createElement(_eui.EuiPopover,{isOpen:isPopoverOpen,id:"metricsPanel",button:button,anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:handleClose},mode==="pick"?_react2.default.createElement(_metrics_context_menu.MetricsContextMenu,{onChange:onChange,onClose:handleClose,metric:metric,customMetrics:customMetrics,options:options}):null,mode==="addMetric"?_react2.default.createElement(_custom_metric_form.CustomMetricForm,{fields:fields,customMetrics:customMetrics,onChange:handleCustomMetric,onCancel:setModeToPick}):null,mode==="editMetric"?_react2.default.createElement(_custom_metric_form.CustomMetricForm,{metric:editCustomMetric,fields:fields,customMetrics:customMetrics,onChange:handleEditCustomMetric,onCancel:setModeToEdit}):null,mode==="edit"?_react2.default.createElement(_metrics_edit_mode.MetricsEditMode,{customMetrics:editModeCustomMetrics,options:options,onEdit:handleSelectMetricToEdit,onDelete:handleDeleteCustomMetric}):null,_react2.default.createElement(_mode_switcher.ModeSwitcher,{onEditCancel:setModeToPick,onEdit:setModeToEdit,onAdd:setModeToAdd,mode:mode,onSave:handleSaveEdit,customMetrics:customMetrics})))};exports.WaffleMetricControls=WaffleMetricControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CustomMetricForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _uuid=_interopRequireDefault(__webpack_require__(783));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _snapshot_api=__webpack_require__(730);var _eui_styled_components=__webpack_require__(860);var _AGGREGATION_LABELS;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AGGREGATION_LABELS=(_AGGREGATION_LABELS={},_defineProperty(_AGGREGATION_LABELS,"avg",_i18n.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.avg",{defaultMessage:"Average"})),_defineProperty(_AGGREGATION_LABELS,"max",_i18n.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.max",{defaultMessage:"Max"})),_defineProperty(_AGGREGATION_LABELS,"min",_i18n.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.min",{defaultMessage:"Min"})),_defineProperty(_AGGREGATION_LABELS,"rate",_i18n.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.rate",{defaultMessage:"Rate"})),_AGGREGATION_LABELS);var CustomMetricForm=(0,_eui_styled_components.withTheme)((function(_ref){var theme=_ref.theme,onCancel=_ref.onCancel,fields=_ref.fields,onChange=_ref.onChange,metric=_ref.metric;var _useState=(0,_react.useState)(metric?metric.label:void 0),_useState2=_slicedToArray(_useState,2),label=_useState2[0],setLabel=_useState2[1];var _useState3=(0,_react.useState)(metric?metric.aggregation:"avg"),_useState4=_slicedToArray(_useState3,2),aggregation=_useState4[0],setAggregation=_useState4[1];var _useState5=(0,_react.useState)(metric?metric.field:void 0),_useState6=_slicedToArray(_useState5,2),field=_useState6[0],setField=_useState6[1];var handleSubmit=(0,_react.useCallback)((function(){if(metric&&aggregation&&field){onChange(_objectSpread({},metric,{label:label,aggregation:aggregation,field:field}))}else if(aggregation&&field){var newMetric={type:"custom",id:_uuid.default.v1(),label:label,aggregation:aggregation,field:field};onChange(newMetric)}}),[metric,aggregation,field,onChange,label]);var handleLabelChange=(0,_react.useCallback)((function(e){setLabel(e.target.value)}),[setLabel]);var handleFieldChange=(0,_react.useCallback)((function(selectedOptions){setField(selectedOptions[0].label)}),[setField]);var handleAggregationChange=(0,_react.useCallback)((function(e){var value=e.target.value;var aggValue=_snapshot_api.SnapshotCustomAggregationRT.is(value)?value:"avg";setAggregation(aggValue)}),[setAggregation]);var fieldOptions=fields.filter((function(f){return f.aggregatable&&f.type==="number"&&!(field&&field===f.name)})).map((function(f){return{label:f.name}}));var aggregationOptions=_snapshot_api.SNAPSHOT_CUSTOM_AGGREGATIONS.map((function(k){return{text:AGGREGATION_LABELS[k],value:k}}));var isSubmitDisabled=!field||!aggregation;var title=metric?_i18n.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.edit",{defaultMessage:"Edit custom metric"}):_i18n.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.add",{defaultMessage:"Add custom metric"});var titleAriaLabel=metric?_i18n.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.editAriaLabel",{defaultMessage:"Back to custom metrics edit mode"}):_i18n.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.addAriaLabel",{defaultMessage:"Back to metric picker"});return _react.default.createElement("div",{style:{width:685}},_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiPopoverTitle,null,_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:onCancel,color:"text",size:"xs",flush:"left",style:{fontWeight:700,textTransform:"uppercase"},"aria-label":titleAriaLabel},title)),_react.default.createElement("div",{style:{padding:theme.eui.paddingSizes.m,borderBottom:"".concat(theme.eui.euiBorderWidthThin," solid ").concat(theme.eui.euiBorderColor)}},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.infra.waffle.customMetrics.metricLabel",{defaultMessage:"Metric"}),display:"rowCompressed",fullWidth:true},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{onChange:handleAggregationChange,value:aggregation,options:aggregationOptions,fullWidth:true})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement("span",null,"of"))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiComboBox,{fullWidth:true,placeholder:_i18n.i18n.translate("xpack.infra.waffle.customMetrics.fieldPlaceholder",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:true},selectedOptions:field?[{label:field}]:[],options:fieldOptions,onChange:handleFieldChange,isClearable:false})))),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.infra.waffle.customMetrics.labelLabel",{defaultMessage:"Label (optional)"}),display:"rowCompressed",fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{name:"label",placeholder:_i18n.i18n.translate("xpack.infra.waffle.customMetrics.labelPlaceholder",{defaultMessage:'Choose a name to appear in the "Metric" dropdown'}),value:label,fullWidth:true,onChange:handleLabelChange}))),_react.default.createElement("div",{style:{padding:theme.eui.paddingSizes.m,textAlign:"right"}},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onCancel,size:"s",style:{paddingRight:theme.eui.paddingSizes.xl}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.cancelLabel",defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{type:"submit",size:"s",fill:true,onClick:handleSubmit,disabled:isSubmitDisabled},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.submitLabel",defaultMessage:"Save"})))))}));exports.CustomMetricForm=CustomMetricForm},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}Object.defineProperty(exports,"__esModule",{value:true});exports.withTheme=exports.keyframes=exports.createGlobalStyle=exports.EuiThemeProvider=exports.euiStyled=exports.css=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var styledComponents=_interopRequireWildcard(__webpack_require__(97));var _eui_theme_dark=_interopRequireDefault(__webpack_require__(235));var _eui_theme_light=_interopRequireDefault(__webpack_require__(236));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var EuiThemeProvider=function EuiThemeProvider(_ref){var _ref$darkMode=_ref.darkMode,darkMode=_ref$darkMode===void 0?false:_ref$darkMode,otherProps=_objectWithoutProperties(_ref,["darkMode"]);return _react.default.createElement(styledComponents.ThemeProvider,_extends({},otherProps,{theme:function theme(outerTheme){return _objectSpread({},outerTheme,{eui:darkMode?_eui_theme_dark.default:_eui_theme_light.default,darkMode:darkMode})}}))};exports.EuiThemeProvider=EuiThemeProvider;var euiStyled=styledComponents.default,css=styledComponents.css,createGlobalStyle=styledComponents.createGlobalStyle,keyframes=styledComponents.keyframes,withTheme=styledComponents.withTheme;exports.withTheme=withTheme;exports.keyframes=keyframes;exports.createGlobalStyle=createGlobalStyle;exports.css=css;exports.euiStyled=euiStyled},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsContextMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _snapshot_api=__webpack_require__(730);var _types=__webpack_require__(727);var _get_custom_metric_label=__webpack_require__(861);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var MetricsContextMenu=function MetricsContextMenu(_ref){var onClose=_ref.onClose,onChange=_ref.onChange,metric=_ref.metric,options=_ref.options,customMetrics=_ref.customMetrics;var id=_snapshot_api.SnapshotCustomMetricInputRT.is(metric)&&metric.id?metric.id:metric.type;var handleClick=(0,_react.useCallback)((function(val){if(!_types.SnapshotMetricTypeRT.is(val)){var selectedMetric=customMetrics.find((function(m){return m.id===val}));if(selectedMetric){onChange(selectedMetric)}}else{onChange({type:val})}onClose()}),[customMetrics,onChange,onClose]);var panels=[{id:0,title:"",items:[].concat(_toConsumableArray(options.map((function(o){var icon=o.value===id?"check":"empty";var panel={name:o.text,onClick:function onClick(){return handleClick(o.value)},icon:icon};return panel}))),_toConsumableArray(customMetrics.map((function(m){var icon=m.id===id?"check":"empty";var panel={name:(0,_get_custom_metric_label.getCustomMetricLabel)(m),onClick:function onClick(){return handleClick(m.id)},icon:icon};return panel}))))}];return _react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})};exports.MetricsContextMenu=MetricsContextMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModeSwitcher=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(5);var _eui_styled_components=__webpack_require__(860);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModeSwitcher=(0,_eui_styled_components.withTheme)((function(_ref){var onSave=_ref.onSave,onEditCancel=_ref.onEditCancel,onEdit=_ref.onEdit,onAdd=_ref.onAdd,mode=_ref.mode,customMetrics=_ref.customMetrics,theme=_ref.theme;if(["editMetric","addMetric"].includes(mode)){return null}return _react.default.createElement("div",{style:{borderTop:"".concat(theme.eui.euiBorderWidthThin," solid ").concat(theme.eui.euiBorderColor),padding:12}},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},mode==="edit"?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"left",onClick:onEditCancel,"aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.cancelAriaLabel",{defaultMessage:"Cancel edit mode"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.cancel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{onClick:onSave,size:"s",fill:true,"aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.saveButtonAriaLabel",{defaultMessage:"Save changes to custom metrics"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.saveButton",defaultMessage:"Save"})))):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"left",onClick:onEdit,disabled:customMetrics.length===0,"aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.editAriaLabel",{defaultMessage:"Edit custom metrics"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.edit",defaultMessage:"Edit"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:onAdd,size:"s",flush:"right","aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.addMetricAriaLabel",{defaultMessage:"Add custom metric"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.addMetric",defaultMessage:"Add metric"}))))))}));exports.ModeSwitcher=ModeSwitcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsEditMode=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _get_custom_metric_label=__webpack_require__(861);var _eui_styled_components=__webpack_require__(860);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ICON_WIDTH=36;var MetricsEditMode=(0,_eui_styled_components.withTheme)((function(_ref){var theme=_ref.theme,customMetrics=_ref.customMetrics,options=_ref.options,onEdit=_ref.onEdit,onDelete=_ref.onDelete;return _react.default.createElement("div",{style:{width:256}},options.map((function(option){return _react.default.createElement("div",{key:option.value,style:{padding:"14px 14px 13px 36px"}},_react.default.createElement("span",{style:{color:theme.eui.euiButtonColorDisabled}},option.text))})),customMetrics.map((function(metric){return _react.default.createElement(_eui.EuiFlexGroup,{key:metric.id,alignItems:"center",gutterSize:"none",style:{padding:"10px 0px 9px"}},_react.default.createElement(_eui.EuiFlexItem,{grow:false,style:{width:ICON_WIDTH}},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"pencil",onClick:function onClick(){return onEdit(metric)},"aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.editMode.editButtonAriaLabel",{defaultMessage:"Edit custom metric for {name}",values:{name:(0,_get_custom_metric_label.getCustomMetricLabel)(metric)}})})),_react.default.createElement(_eui.EuiFlexItem,{grow:1,style:{overflow:"hidden"}},(0,_get_custom_metric_label.getCustomMetricLabel)(metric)),_react.default.createElement(_eui.EuiFlexItem,{grow:false,style:{width:ICON_WIDTH,textAlign:"right"}},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:function onClick(){return onDelete(metric)},"aria-label":_i18n.i18n.translate("xpack.infra.waffle.customMetrics.editMode.deleteAriaLabel",{defaultMessage:"Delete custom metric for {name}",values:{name:(0,_get_custom_metric_label.getCustomMetricLabel)(metric)}})})))})))}));exports.MetricsEditMode=MetricsEditMode},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleGroupByControls=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _custom_field_panel=__webpack_require__(1673);var _public=__webpack_require__(64);var _class,_temp;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n  width: 320px;\n  & .euiContextMenuItem__text {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={isPopoverOpen:false};var WaffleGroupByControls=(_temp=_class=function(_React$PureComponent){_inherits(WaffleGroupByControls,_React$PureComponent);function WaffleGroupByControls(){var _getPrototypeOf2;var _this;_classCallCheck(this,WaffleGroupByControls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(WaffleGroupByControls)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",initialState);_defineProperty(_assertThisInitialized(_this),"handleRemove",(function(field){return function(){var groupBy=_this.props.groupBy;_this.props.onChange(groupBy.filter((function(g){return g.field!==field})));var options=_this.props.customOptions.filter((function(g){return g.field!==field}));_this.props.onChangeCustomOptions(options);setTimeout((function(){return _this.handleClose()}))}}));_defineProperty(_assertThisInitialized(_this),"handleClose",(function(){_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"handleToggle",(function(){_this.setState((function(state){return{isPopoverOpen:!state.isPopoverOpen}}))}));_defineProperty(_assertThisInitialized(_this),"handleCustomField",(function(field){var options=[].concat(_toConsumableArray(_this.props.customOptions),[{text:field,field:field}]);_this.props.onChangeCustomOptions(options);var fn=_this.handleClick(field);fn()}));_defineProperty(_assertThisInitialized(_this),"handleClick",(function(field){return function(){var groupBy=_this.props.groupBy;if(groupBy.some((function(g){return g.field===field}))){_this.handleRemove(field)()}else if(_this.props.groupBy.length<2){_this.props.onChange([].concat(_toConsumableArray(groupBy),[{field:field}]))}_this.handleClose()}}));return _this}_createClass(WaffleGroupByControls,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,nodeType=_this$props.nodeType,groupBy=_this$props.groupBy;var customOptions=this.props.customOptions.map((function(option){return _objectSpread({},option,{toolTipContent:option.text})}));var options=this.props.options.concat(customOptions);if(!options.length){throw Error(_i18n.i18n.translate("xpack.infra.waffle.unableToSelectGroupErrorMessage",{defaultMessage:"Unable to select group by options for {nodeType}",values:{nodeType:nodeType}}))}var isMaxGroupingsSelected=groupBy.length>=2;var maxGroupByTooltip=_i18n.i18n.translate("xpack.infra.waffle.maxGroupByTooltip",{defaultMessage:"Only two groupings can be selected at a time"});var panels=[{id:"firstPanel",title:_i18n.i18n.translate("xpack.infra.waffle.selectTwoGroupingsTitle",{defaultMessage:"Select up to two groupings"}),items:[{name:_i18n.i18n.translate("xpack.infra.waffle.customGroupByOptionName",{defaultMessage:"Custom field"}),disabled:isMaxGroupingsSelected,toolTipContent:isMaxGroupingsSelected?maxGroupByTooltip:null,icon:"empty",panel:"customPanel"}].concat(_toConsumableArray(options.map((function(o){var icon=groupBy.some((function(g){return g.field===o.field}))?"check":"empty";var panel={name:o.text,onClick:_this2.handleClick(o.field),icon:icon};if(o.toolTipContent){panel.toolTipContent=o.toolTipContent}if(isMaxGroupingsSelected&&icon==="empty"){panel.toolTipContent=maxGroupByTooltip;panel.disabled=true}return panel}))))},{id:"customPanel",title:_i18n.i18n.translate("xpack.infra.waffle.customGroupByPanelTitle",{defaultMessage:"Group By Custom Field"}),width:685,content:_react2.default.createElement(_custom_field_panel.CustomFieldPanel,{currentOptions:this.props.customOptions,onSubmit:this.handleCustomField,fields:this.props.fields})}];var buttonBody=groupBy.length>0?groupBy.map((function(g){return options.find((function(o){return o.field===g.field}))})).filter((function(o){return o!=null})).map((function(o){return _react2.default.createElement(_eui.EuiBadge,{key:o&&o.field},o&&o.text)})):_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.waffle.groupByAllTitle",defaultMessage:"All"});var button=_react2.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",onClick:this.handleToggle},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.waffle.groupByButtonLabel",defaultMessage:"Group By: "}),buttonBody);return _react2.default.createElement(_eui.EuiFilterGroup,null,_react2.default.createElement(_eui.EuiPopover,{isOpen:this.state.isPopoverOpen,id:"groupByPanel",button:button,panelPaddingSize:"none",closePopover:this.handleClose},_react2.default.createElement(StyledContextMenu,{initialPanelId:"firstPanel",panels:panels})))}}]);return WaffleGroupByControls}(_react2.default.PureComponent),_defineProperty(_class,"displayName","WaffleGroupByControls"),_temp);exports.WaffleGroupByControls=WaffleGroupByControls;var StyledContextMenu=(0,_public.euiStyled)(_eui.EuiContextMenu)(_templateObject())},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.CustomFieldPanel=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _class,_temp;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={selectedOptions:[]};var CustomFieldPanel=(_temp=_class=function(_React$PureComponent){_inherits(CustomFieldPanel,_React$PureComponent);function CustomFieldPanel(){var _getPrototypeOf2;var _this;_classCallCheck(this,CustomFieldPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CustomFieldPanel)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",initialState);_defineProperty(_assertThisInitialized(_this),"handleSubmit",(function(){_this.props.onSubmit(_this.state.selectedOptions[0].label)}));_defineProperty(_assertThisInitialized(_this),"handleFieldSelection",(function(selectedOptions){_this.setState({selectedOptions:selectedOptions})}));return _this}_createClass(CustomFieldPanel,[{key:"render",value:function render(){var _this$props=this.props,fields=_this$props.fields,currentOptions=_this$props.currentOptions;var options=fields.filter((function(f){return f.aggregatable&&f.type==="string"&&!(currentOptions&&currentOptions.some((function(o){return o.field===f.name})))})).map((function(f){return{label:f.name}}));var isSubmitDisabled=!this.state.selectedOptions.length;return _react.default.createElement("div",{style:{padding:16}},_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.infra.waffle.customGroupByFieldLabel",{defaultMessage:"Field"}),helpText:_i18n.i18n.translate("xpack.infra.waffle.customGroupByHelpText",{defaultMessage:"This is the field used for the terms aggregation"}),display:"rowCompressed",fullWidth:true},_react.default.createElement(_eui.EuiComboBox,{placeholder:_i18n.i18n.translate("xpack.infra.waffle.customGroupByDropdownPlacehoder",{defaultMessage:"Select one"}),singleSelection:{asPlainText:true},selectedOptions:this.state.selectedOptions,options:options,onChange:this.handleFieldSelection,fullWidth:true,isClearable:false})),_react.default.createElement(_eui.EuiButton,{disabled:isSubmitDisabled,type:"submit",size:"s",fill:true,onClick:this.handleSubmit},"Add")))}}]);return CustomFieldPanel}(_react.default.PureComponent),_defineProperty(_class,"displayName","CustomFieldPanel"),_temp);exports.CustomFieldPanel=CustomFieldPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ContainerToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var ContainerToolbarItems=function ContainerToolbarItems(props){var metricTypes=["cpu","memory","rx","tx"];var groupByFields=["host.name","cloud.availability_zone","cloud.machine.type","cloud.project.id","cloud.provider","service.type"];return _react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields}))};exports.ContainerToolbarItems=ContainerToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PodToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var PodToolbarItems=function PodToolbarItems(props){var metricTypes=["cpu","memory","rx","tx"];var groupByFields=["kubernetes.namespace","kubernetes.node.name","service.type"];return _react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields}))};exports.PodToolbarItems=PodToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AwsEC2ToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);var _cloud_toolbar_items=__webpack_require__(795);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AwsEC2ToolbarItems=function AwsEC2ToolbarItems(props){var metricTypes=["cpu","rx","tx","diskIOReadBytes","diskIOWriteBytes"];var groupByFields=["cloud.availability_zone","cloud.machine.type","aws.ec2.instance.image.id","aws.ec2.instance.state.name"];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_cloud_toolbar_items.CloudToolbarItems,props),_react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields})))};exports.AwsEC2ToolbarItems=AwsEC2ToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleAccountsControls=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var WaffleAccountsControls=function WaffleAccountsControls(props){var accountId=props.accountId,options=props.options;var _useState=(0,_react.useState)(),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var showPopover=(0,_react.useCallback)((function(){setIsOpen(true)}),[setIsOpen]);var closePopover=(0,_react.useCallback)((function(){setIsOpen(false)}),[setIsOpen]);var currentLabel=options.find((function(o){return o.value===accountId}));var changeAccount=(0,_react.useCallback)((function(val){if(accountId===val){props.changeAccount("")}else{props.changeAccount(val)}closePopover()}),[accountId,closePopover,props]);var panels=(0,_react.useMemo)((function(){return[{id:0,title:"",items:options.map((function(o){var icon=o.value===accountId?"check":"empty";var panel={name:o.name,onClick:function onClick(){return changeAccount(o.value)},icon:icon};return panel}))}]}),[options,accountId,changeAccount]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiPopover,{isOpen:isOpen,id:"accontPopOver",button:_react.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",onClick:showPopover},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.accountLabel",defaultMessage:"Account: {selectedAccount}",values:{selectedAccount:currentLabel?currentLabel.name:_i18n.i18n.translate("xpack.infra.waffle.accountAllTitle",{defaultMessage:"All"})}})),anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:closePopover},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))};exports.WaffleAccountsControls=WaffleAccountsControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleRegionControls=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(0);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var WaffleRegionControls=function WaffleRegionControls(props){var region=props.region,options=props.options;var _useState=(0,_react.useState)(),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var showPopover=(0,_react.useCallback)((function(){setIsOpen(true)}),[setIsOpen]);var closePopover=(0,_react.useCallback)((function(){setIsOpen(false)}),[setIsOpen]);var currentLabel=options.find((function(o){return region===o}));var changeRegion=(0,_react.useCallback)((function(val){if(region===val){props.changeRegion("")}else{props.changeRegion(val)}closePopover()}),[region,closePopover,props]);var panels=(0,_react.useMemo)((function(){return[{id:0,title:"",items:options.map((function(o){var icon=o===region?"check":"empty";var panel={name:o,onClick:function onClick(){return changeRegion(o)},icon:icon};return panel}))}]}),[changeRegion,options,region]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiPopover,{isOpen:isOpen,id:"regionPanel",button:_react.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",onClick:showPopover},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.regionLabel",defaultMessage:"Region: {selectedRegion}",values:{selectedRegion:currentLabel||_i18n.i18n.translate("xpack.infra.waffle.region",{defaultMessage:"All"})}})),anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:closePopover},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))};exports.WaffleRegionControls=WaffleRegionControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AwsS3ToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);var _cloud_toolbar_items=__webpack_require__(795);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AwsS3ToolbarItems=function AwsS3ToolbarItems(props){var metricTypes=["s3BucketSize","s3NumberOfObjects","s3TotalRequests","s3DownloadBytes","s3UploadBytes"];var groupByFields=["cloud.region"];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_cloud_toolbar_items.CloudToolbarItems,props),_react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields})))};exports.AwsS3ToolbarItems=AwsS3ToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AwsRDSToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);var _cloud_toolbar_items=__webpack_require__(795);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AwsRDSToolbarItems=function AwsRDSToolbarItems(props){var metricTypes=["cpu","rdsConnections","rdsQueriesExecuted","rdsActiveTransactions","rdsLatency"];var groupByFields=["cloud.availability_zone","aws.rds.db_instance.class","aws.rds.db_instance.status"];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_cloud_toolbar_items.CloudToolbarItems,props),_react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields})))};exports.AwsRDSToolbarItems=AwsRDSToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AwsSQSToolbarItems=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _metrics_and_groupby_toolbar_items=__webpack_require__(731);var _cloud_toolbar_items=__webpack_require__(795);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var AwsSQSToolbarItems=function AwsSQSToolbarItems(props){var metricTypes=["sqsMessagesVisible","sqsMessagesDelayed","sqsMessagesSent","sqsMessagesEmpty","sqsOldestMessage"];var groupByFields=["cloud.region"];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_cloud_toolbar_items.CloudToolbarItems,props),_react.default.createElement(_metrics_and_groupby_toolbar_items.MetricsAndGroupByToolbarItems,_extends({},props,{metricTypes:metricTypes,groupByFields:groupByFields})))};exports.AwsSQSToolbarItems=AwsSQSToolbarItems},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithWaffleViewState=exports.withWaffleViewState=void 0;var _reactRedux=__webpack_require__(733);var _reselect=__webpack_require__(745);var _store=__webpack_require__(725);var _typed_react=__webpack_require__(220);var _kuery=__webpack_require__(769);var selectViewState=(0,_reselect.createSelector)(_store.waffleOptionsSelectors.selectMetric,_store.waffleOptionsSelectors.selectView,_store.waffleOptionsSelectors.selectGroupBy,_store.waffleOptionsSelectors.selectNodeType,_store.waffleOptionsSelectors.selectCustomOptions,_store.waffleOptionsSelectors.selectBoundsOverride,_store.waffleOptionsSelectors.selectAutoBounds,_store.waffleTimeSelectors.selectCurrentTime,_store.waffleTimeSelectors.selectIsAutoReloading,_store.waffleFilterSelectors.selectWaffleFilterQuery,_store.waffleOptionsSelectors.selectCustomMetrics,(function(metric,view,groupBy,nodeType,customOptions,boundsOverride,autoBounds,time,autoReload,filterQuery,customMetrics){return{time:time,autoReload:autoReload,metric:metric,groupBy:groupBy,nodeType:nodeType,view:view,customOptions:customOptions,boundsOverride:boundsOverride,autoBounds:autoBounds,filterQuery:filterQuery,customMetrics:customMetrics}}));var withWaffleViewState=(0,_reactRedux.connect)((function(state){return{viewState:selectViewState(state),defaultViewState:selectViewState(_store.initialState)}}),(function(dispatch,ownProps){return{onViewChange:function onViewChange(viewState){if(viewState.time){dispatch(_store.waffleTimeActions.jumpToTime(viewState.time))}if(viewState.autoReload){dispatch(_store.waffleTimeActions.startAutoReload())}else if(typeof viewState.autoReload!=="undefined"&&!viewState.autoReload){dispatch(_store.waffleTimeActions.stopAutoReload())}if(viewState.metric){dispatch(_store.waffleOptionsActions.changeMetric(viewState.metric))}if(viewState.groupBy){dispatch(_store.waffleOptionsActions.changeGroupBy(viewState.groupBy))}if(viewState.nodeType){dispatch(_store.waffleOptionsActions.changeNodeType(viewState.nodeType))}if(viewState.view){dispatch(_store.waffleOptionsActions.changeView(viewState.view))}if(viewState.customOptions){dispatch(_store.waffleOptionsActions.changeCustomOptions(viewState.customOptions))}if(viewState.customMetrics){dispatch(_store.waffleOptionsActions.changeCustomMetrics(viewState.customMetrics))}if(viewState.boundsOverride){dispatch(_store.waffleOptionsActions.changeBoundsOverride(viewState.boundsOverride))}if(viewState.autoBounds){dispatch(_store.waffleOptionsActions.changeAutoBounds(viewState.autoBounds))}if(viewState.filterQuery){dispatch(_store.waffleFilterActions.applyWaffleFilterQuery({query:viewState.filterQuery,serializedQuery:(0,_kuery.convertKueryToElasticSearchQuery)(viewState.filterQuery.expression,ownProps.indexPattern)}))}else{dispatch(_store.waffleFilterActions.applyWaffleFilterQuery({query:null,serializedQuery:null}))}}}}));exports.withWaffleViewState=withWaffleViewState;var WithWaffleViewState=(0,_typed_react.asChildFunctionRenderer)(withWaffleViewState);exports.WithWaffleViewState=WithWaffleViewState},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.inventoryViewSavedObjectMappings=exports.inventoryViewSavedObjectType=void 0;var inventoryViewSavedObjectType="inventory-view";exports.inventoryViewSavedObjectType=inventoryViewSavedObjectType;var inventoryViewSavedObjectMappings=_defineProperty({},inventoryViewSavedObjectType,{properties:{name:{type:"keyword"},metric:{properties:{type:{type:"keyword"},field:{type:"keyword"},aggregation:{type:"keyword"},id:{type:"keyword"},label:{type:"keyword"}}},groupBy:{type:"nested",properties:{label:{type:"keyword"},field:{type:"keyword"}}},nodeType:{type:"keyword"},view:{type:"keyword"},customOptions:{type:"nested",properties:{text:{type:"keyword"},field:{type:"keyword"}}},customMetrics:{type:"nested",properties:{type:{type:"keyword"},field:{type:"keyword"},aggregation:{type:"keyword"},id:{type:"keyword"},label:{type:"keyword"}}},boundsOverride:{properties:{max:{type:"integer"},min:{type:"integer"}}},autoBounds:{type:"boolean"},time:{type:"integer"},autoReload:{type:"boolean"},filterQuery:{properties:{kind:{type:"keyword"},expression:{type:"keyword"}}}}});exports.inventoryViewSavedObjectMappings=inventoryViewSavedObjectMappings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSnapshot=useSnapshot;var _react=__webpack_require__(3);var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var _runtime_types=__webpack_require__(210);var _use_http_request=__webpack_require__(221);var _snapshot_api=__webpack_require__(730);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function useSnapshot(filterQuery,metric,groupBy,nodeType,sourceId,currentTime,accountId,region){var decodeResponse=function decodeResponse(response){return(0,_pipeable.pipe)(_snapshot_api.SnapshotNodeResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity))};var timerange={interval:"1m",to:currentTime,from:currentTime-360*1e3};var _useHTTPRequest=(0,_use_http_request.useHTTPRequest)("/api/metrics/snapshot","POST",JSON.stringify({metric:metric,groupBy:groupBy,nodeType:nodeType,timerange:timerange,filterQuery:filterQuery,sourceId:sourceId,accountId:accountId,region:region}),decodeResponse),error=_useHTTPRequest.error,loading=_useHTTPRequest.loading,response=_useHTTPRequest.response,makeRequest=_useHTTPRequest.makeRequest;(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return makeRequest();case 2:case"end":return _context.stop()}}}),_callee)})))()}),[makeRequest]);return{error:error&&error.message||null,loading:loading,nodes:response?response.nodes:[],interval:response?response.interval:"60s",reload:makeRequest}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useInventoryMeta=useInventoryMeta;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var _react=__webpack_require__(3);var _runtime_types=__webpack_require__(210);var _use_http_request=__webpack_require__(221);var _inventory_meta_api=__webpack_require__(1686);function useInventoryMeta(sourceId,nodeType){var decodeResponse=function decodeResponse(response){return(0,_pipeable.pipe)(_inventory_meta_api.InventoryMetaResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity))};var _useHTTPRequest=(0,_use_http_request.useHTTPRequest)("/api/infra/inventory/meta","POST",JSON.stringify({sourceId:sourceId,nodeType:nodeType}),decodeResponse),error=_useHTTPRequest.error,loading=_useHTTPRequest.loading,response=_useHTTPRequest.response,makeRequest=_useHTTPRequest.makeRequest;(0,_react.useEffect)((function(){makeRequest()}),[makeRequest]);return{error:error,loading:loading,accounts:response?response.accounts:[],regions:response?response.regions:[],makeRequest:makeRequest}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InventoryMetaRequestRT=exports.InventoryMetaResponseRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _types=__webpack_require__(727);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var CloudAccountRT=rt.type({value:rt.string,name:rt.string});var InventoryMetaResponseRT=rt.type({accounts:rt.array(CloudAccountRT),projects:rt.array(rt.string),regions:rt.array(rt.string)});exports.InventoryMetaResponseRT=InventoryMetaResponseRT;var InventoryMetaRequestRT=rt.type({sourceId:rt.string,nodeType:_types.ItemTypeRT});exports.InventoryMetaRequestRT=InventoryMetaRequestRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotToolbar=void 0;var _eui=__webpack_require__(4);var _i18n=__webpack_require__(0);var _react=_interopRequireDefault(__webpack_require__(3));var _autocomplete_field=__webpack_require__(228);var _toolbar=__webpack_require__(792);var _waffle_time_controls=__webpack_require__(1688);var _with_waffle_filters=__webpack_require__(857);var _with_waffle_time=__webpack_require__(858);var _with_kuery_autocompletion=__webpack_require__(227);var _with_source=__webpack_require__(793);var _with_waffle_options=__webpack_require__(763);var _waffle_inventory_switcher=__webpack_require__(1689);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SnapshotToolbar=function SnapshotToolbar(){return _react.default.createElement(_toolbar.Toolbar,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_with_waffle_options.WithWaffleOptions,null,(function(_ref){var changeMetric=_ref.changeMetric,changeNodeType=_ref.changeNodeType,changeGroupBy=_ref.changeGroupBy,changeAccount=_ref.changeAccount,changeRegion=_ref.changeRegion,changeCustomMetrics=_ref.changeCustomMetrics,nodeType=_ref.nodeType;return _react.default.createElement(_waffle_inventory_switcher.WaffleInventorySwitcher,{nodeType:nodeType,changeNodeType:changeNodeType,changeMetric:changeMetric,changeGroupBy:changeGroupBy,changeAccount:changeAccount,changeRegion:changeRegion,changeCustomMetrics:changeCustomMetrics})}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_with_source.WithSource,null,(function(_ref2){var createDerivedIndexPattern=_ref2.createDerivedIndexPattern;return _react.default.createElement(_with_kuery_autocompletion.WithKueryAutocompletion,{indexPattern:createDerivedIndexPattern("metrics")},(function(_ref3){var isLoadingSuggestions=_ref3.isLoadingSuggestions,loadSuggestions=_ref3.loadSuggestions,suggestions=_ref3.suggestions;return _react.default.createElement(_with_waffle_filters.WithWaffleFilter,{indexPattern:createDerivedIndexPattern("metrics")},(function(_ref4){var applyFilterQueryFromKueryExpression=_ref4.applyFilterQueryFromKueryExpression,filterQueryDraft=_ref4.filterQueryDraft,isFilterQueryDraftValid=_ref4.isFilterQueryDraftValid,setFilterQueryDraftFromKueryExpression=_ref4.setFilterQueryDraftFromKueryExpression;return _react.default.createElement(_autocomplete_field.AutocompleteField,{isLoadingSuggestions:isLoadingSuggestions,isValid:isFilterQueryDraftValid,loadSuggestions:loadSuggestions,onChange:setFilterQueryDraftFromKueryExpression,onSubmit:applyFilterQueryFromKueryExpression,placeholder:_i18n.i18n.translate("xpack.infra.homePage.toolbar.kqlSearchFieldPlaceholder",{defaultMessage:"Search for infrastructure data… (e.g. host.name:host-1)"}),suggestions:suggestions,value:filterQueryDraft?filterQueryDraft.expression:"",autoFocus:true})}))}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_with_waffle_time.WithWaffleTime,{resetOnUnmount:true},(function(_ref5){var currentTime=_ref5.currentTime,isAutoReloading=_ref5.isAutoReloading,jumpToTime=_ref5.jumpToTime,startAutoReload=_ref5.startAutoReload,stopAutoReload=_ref5.stopAutoReload;return _react.default.createElement(_waffle_time_controls.WaffleTimeControls,{currentTime:currentTime,isLiveStreaming:isAutoReloading,onChangeTime:jumpToTime,startLiveStreaming:startAutoReload,stopLiveStreaming:stopAutoReload})})))))};exports.SnapshotToolbar=SnapshotToolbar},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleTimeControls=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _moment=_interopRequireDefault(__webpack_require__(11));var _react2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var WaffleTimeControls=function(_React$Component){_inherits(WaffleTimeControls,_React$Component);function WaffleTimeControls(){var _getPrototypeOf2;var _this;_classCallCheck(this,WaffleTimeControls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(WaffleTimeControls)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"handleChangeDate",(function(time){var onChangeTime=_this.props.onChangeTime;if(onChangeTime&&time){onChangeTime(time.valueOf())}}));_defineProperty(_assertThisInitialized(_this),"startLiveStreaming",(function(){var startLiveStreaming=_this.props.startLiveStreaming;if(startLiveStreaming){startLiveStreaming()}}));_defineProperty(_assertThisInitialized(_this),"stopLiveStreaming",(function(){var stopLiveStreaming=_this.props.stopLiveStreaming;if(stopLiveStreaming){stopLiveStreaming()}}));return _this}_createClass(WaffleTimeControls,[{key:"render",value:function render(){var _this$props=this.props,currentTime=_this$props.currentTime,isLiveStreaming=_this$props.isLiveStreaming;var currentMoment=(0,_moment.default)(currentTime);var liveStreamingButton=isLiveStreaming?_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",iconSide:"left",iconType:"pause",onClick:this.stopLiveStreaming},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.waffleTime.stopRefreshingButtonLabel",defaultMessage:"Stop refreshing"})):_react2.default.createElement(_eui.EuiButtonEmpty,{iconSide:"left",iconType:"play",onClick:this.startLiveStreaming},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.waffleTime.autoRefreshButtonLabel",defaultMessage:"Auto-refresh"}));return _react2.default.createElement(_eui.EuiFormControlLayout,{append:liveStreamingButton,"data-test-subj":"waffleDatePicker"},_react2.default.createElement(_eui.EuiDatePicker,{className:"euiFieldText--inGroup",dateFormat:"L LTS",disabled:isLiveStreaming,injectTimes:currentMoment?[currentMoment]:[],isLoading:isLiveStreaming,onChange:this.handleChangeDate,popperPlacement:"top-end",selected:currentMoment,shouldCloseOnSelect:true,showTimeSelect:true,timeFormat:"LT"}))}}]);return WaffleTimeControls}(_react2.default.Component);exports.WaffleTimeControls=WaffleTimeControls},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WaffleInventorySwitcher=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _react2=__webpack_require__(5);var _inventory_models=__webpack_require__(754);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getDisplayNameForType=function getDisplayNameForType(type){var inventoryModel=(0,_inventory_models.findInventoryModel)(type);return inventoryModel.displayName};var WaffleInventorySwitcher=function WaffleInventorySwitcher(_ref){var changeNodeType=_ref.changeNodeType,changeGroupBy=_ref.changeGroupBy,changeMetric=_ref.changeMetric,changeAccount=_ref.changeAccount,changeRegion=_ref.changeRegion,changeCustomMetrics=_ref.changeCustomMetrics,nodeType=_ref.nodeType;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var closePopover=(0,_react.useCallback)((function(){return setIsOpen(false)}),[]);var openPopover=(0,_react.useCallback)((function(){return setIsOpen(true)}),[]);var goToNodeType=(0,_react.useCallback)((function(targetNodeType){closePopover();changeNodeType(targetNodeType);changeGroupBy([]);changeCustomMetrics([]);changeAccount("");changeRegion("");var inventoryModel=(0,_inventory_models.findInventoryModel)(targetNodeType);changeMetric({type:inventoryModel.metrics.defaultSnapshot})}),[closePopover,changeNodeType,changeGroupBy,changeCustomMetrics,changeAccount,changeRegion,changeMetric]);var goToHost=(0,_react.useCallback)((function(){return goToNodeType("host")}),[goToNodeType]);var goToK8=(0,_react.useCallback)((function(){return goToNodeType("pod")}),[goToNodeType]);var goToDocker=(0,_react.useCallback)((function(){return goToNodeType("container")}),[goToNodeType]);var goToAwsEC2=(0,_react.useCallback)((function(){return goToNodeType("awsEC2")}),[goToNodeType]);var goToAwsS3=(0,_react.useCallback)((function(){return goToNodeType("awsS3")}),[goToNodeType]);var goToAwsRDS=(0,_react.useCallback)((function(){return goToNodeType("awsRDS")}),[goToNodeType]);var goToAwsSQS=(0,_react.useCallback)((function(){return goToNodeType("awsSQS")}),[goToNodeType]);var panels=(0,_react.useMemo)((function(){return[{id:"firstPanel",items:[{name:getDisplayNameForType("host"),onClick:goToHost},{name:getDisplayNameForType("pod"),onClick:goToK8},{name:getDisplayNameForType("container"),onClick:goToDocker},{name:"AWS",panel:"awsPanel"}]},{id:"awsPanel",title:"AWS",items:[{name:getDisplayNameForType("awsEC2"),onClick:goToAwsEC2},{name:getDisplayNameForType("awsS3"),onClick:goToAwsS3},{name:getDisplayNameForType("awsRDS"),onClick:goToAwsRDS},{name:getDisplayNameForType("awsSQS"),onClick:goToAwsSQS}]}]}),[goToAwsEC2,goToAwsRDS,goToAwsS3,goToAwsSQS,goToDocker,goToHost,goToK8]);var selectedText=(0,_react.useMemo)((function(){return getDisplayNameForType(nodeType)}),[nodeType]);return _react.default.createElement(_eui.EuiFilterGroup,null,_react.default.createElement(_eui.EuiPopover,{id:"contextMenu",button:_react.default.createElement(_eui.EuiFilterButton,{iconType:"arrowDown",onClick:openPopover},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.waffle.inventoryButtonLabel",defaultMessage:"View: {selectedText}",values:{selectedText:selectedText}})),isOpen:isOpen,closePopover:closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:"firstPanel",panels:panels})))};exports.WaffleInventorySwitcher=WaffleInventorySwitcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsSettingsPage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _source_configuration_settings=__webpack_require__(846);var _public=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MetricsSettingsPage=function MetricsSettingsPage(){var _useKibana$services$a,_uiCapabilities$infra;var uiCapabilities=(_useKibana$services$a=(0,_public.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;return _react.default.createElement(_source_configuration_settings.SourceConfigurationSettings,{shouldAllowEdit:uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra=uiCapabilities.infrastructure)===null||_uiCapabilities$infra===void 0?void 0:_uiCapabilities$infra.configureSource,displaySettings:"metrics"})};exports.MetricsSettingsPage=MetricsSettingsPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertDropdown=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(5);var _alert_flyout=__webpack_require__(850);var _public=__webpack_require__(9);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AlertDropdown=function AlertDropdown(){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),popoverOpen=_useState2[0],setPopoverOpen=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),flyoutVisible=_useState4[0],setFlyoutVisible=_useState4[1];var kibana=(0,_public.useKibana)();var closePopover=(0,_react.useCallback)((function(){setPopoverOpen(false)}),[setPopoverOpen]);var openPopover=(0,_react.useCallback)((function(){setPopoverOpen(true)}),[setPopoverOpen]);var menuItems=(0,_react.useMemo)((function(){var _kibana$services,_kibana$services$appl;return[_react.default.createElement(_eui.EuiContextMenuItem,{icon:"bell",key:"createLink",onClick:function onClick(){return setFlyoutVisible(true)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.alerting.createAlertButton",defaultMessage:"Create alert"})),_react.default.createElement(_eui.EuiContextMenuItem,{icon:"tableOfContents",key:"manageLink",href:(_kibana$services=kibana.services)===null||_kibana$services===void 0?void 0:(_kibana$services$appl=_kibana$services.application)===null||_kibana$services$appl===void 0?void 0:_kibana$services$appl.getUrlForApp("kibana#/management/kibana/triggersActions/alerts")},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.alerting.manageAlerts",defaultMessage:"Manage alerts"}))]}),[kibana.services]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPopover,{button:_react.default.createElement(_eui.EuiButtonEmpty,{iconSide:"right",iconType:"arrowDown",onClick:openPopover},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.infra.alerting.alertsButton",defaultMessage:"Alerts"})),isOpen:popoverOpen,closePopover:closePopover},_react.default.createElement(_eui.EuiContextMenuPanel,{items:menuItems})),_react.default.createElement(_alert_flyout.AlertFlyout,{setVisible:setFlyoutVisible,visible:flyoutVisible}))};exports.AlertDropdown=AlertDropdown},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricDetail=void 0;var _i18n=__webpack_require__(0);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _document_title=__webpack_require__(726);var _header=__webpack_require__(778);var _page=__webpack_require__(709);var _with_metrics_time=__webpack_require__(776);var _page_providers=__webpack_require__(1693);var _use_metadata=__webpack_require__(1694);var _source=__webpack_require__(705);var _loading=__webpack_require__(740);var _inventory_models=__webpack_require__(754);var _node_details_page=__webpack_require__(1696);var _public2=__webpack_require__(9);var _use_link_props=__webpack_require__(710);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _templateObject(){var data=_taggedTemplateLiteral(["\n  overflow: auto;\n  background-color: ",";\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var DetailPageContent=(0,_public.euiStyled)(_page.PageContent)(_templateObject(),(function(props){return props.theme.eui.euiColorLightestShade}));var MetricDetail=(0,_page_providers.withMetricPageProviders)((0,_public.withTheme)((function(_ref){var _useKibana$services$a;var match=_ref.match,theme=_ref.theme;var uiCapabilities=(_useKibana$services$a=(0,_public2.useKibana)().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities;var nodeId=match.params.node;var nodeType=match.params.type;var inventoryModel=(0,_inventory_models.findInventoryModel)(nodeType);var _useContext=(0,_react.useContext)(_source.Source.Context),sourceId=_useContext.sourceId;var _useMetadata=(0,_use_metadata.useMetadata)(nodeId,nodeType,inventoryModel.requiredMetrics,sourceId),name=_useMetadata.name,filteredRequiredMetrics=_useMetadata.filteredRequiredMetrics,metadataLoading=_useMetadata.loading,cloudId=_useMetadata.cloudId,metadata=_useMetadata.metadata;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),sideNav=_useState2[0],setSideNav=_useState2[1];var addNavItem=_react.default.useCallback((function(item){if(!sideNav.some((function(n){return n.id===item.id}))){setSideNav([item].concat(_toConsumableArray(sideNav)))}}),[sideNav]);var metricsLinkProps=(0,_use_link_props.useLinkProps)({app:"metrics",pathname:"/"});var breadcrumbs=[_objectSpread({},metricsLinkProps,{text:_i18n.i18n.translate("xpack.infra.header.infrastructureTitle",{defaultMessage:"Metrics"})}),{text:name}];if(metadataLoading&&!filteredRequiredMetrics.length){return _react.default.createElement(_loading.InfraLoadingPanel,{height:"100vh",width:"100%",text:_i18n.i18n.translate("xpack.infra.metrics.loadingNodeDataText",{defaultMessage:"Loading data"})})}return _react.default.createElement(_with_metrics_time.WithMetricsTime,null,(function(_ref2){var _uiCapabilities$infra;var timeRange=_ref2.timeRange,parsedTimeRange=_ref2.parsedTimeRange,setTimeRange=_ref2.setTimeRange,refreshInterval=_ref2.refreshInterval,setRefreshInterval=_ref2.setRefreshInterval,isAutoReloading=_ref2.isAutoReloading,setAutoReload=_ref2.setAutoReload,triggerRefresh=_ref2.triggerRefresh;return _react.default.createElement(_page.ColumnarPage,null,_react.default.createElement(_header.Header,{breadcrumbs:breadcrumbs,readOnlyBadge:!(uiCapabilities===null||uiCapabilities===void 0?void 0:(_uiCapabilities$infra=uiCapabilities.infrastructure)===null||_uiCapabilities$infra===void 0?void 0:_uiCapabilities$infra.save)}),_react.default.createElement(_with_metrics_time.WithMetricsTimeUrlState,null),_react.default.createElement(_document_title.DocumentTitle,{title:_i18n.i18n.translate("xpack.infra.metricDetailPage.documentTitle",{defaultMessage:"Infrastructure | Metrics | {name}",values:{name:name}})}),_react.default.createElement(DetailPageContent,{"data-test-subj":"infraMetricsPage"},metadata?_react.default.createElement(_node_details_page.NodeDetailsPage,{name:name,requiredMetrics:filteredRequiredMetrics,sourceId:sourceId,timeRange:timeRange,parsedTimeRange:parsedTimeRange,nodeType:nodeType,nodeId:nodeId,cloudId:cloudId,metadataLoading:metadataLoading,isAutoReloading:isAutoReloading,refreshInterval:refreshInterval,sideNav:sideNav,metadata:metadata,addNavItem:addNavItem,setRefreshInterval:setRefreshInterval,setAutoReload:setAutoReload,triggerRefresh:triggerRefresh,setTimeRange:setTimeRange}):null))}))})));exports.MetricDetail=MetricDetail},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.withMetricPageProviders=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _with_metrics_time=__webpack_require__(776);var _source=__webpack_require__(705);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var withMetricPageProviders=function withMetricPageProviders(Component){return function(props){return _react.default.createElement(_source.Source.Provider,{sourceId:"default"},_react.default.createElement(_with_metrics_time.MetricsTimeContainer.Provider,null,_react.default.createElement(Component,props)))}};exports.withMetricPageProviders=withMetricPageProviders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useMetadata=useMetadata;var _react=__webpack_require__(3);var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var _metadata_api=__webpack_require__(959);var _use_http_request=__webpack_require__(221);var _runtime_types=__webpack_require__(210);var _get_filtered_metrics=__webpack_require__(1695);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function useMetadata(nodeId,nodeType,requiredMetrics,sourceId){var decodeResponse=function decodeResponse(response){return(0,_pipeable.pipe)(_metadata_api.InfraMetadataRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity))};var _useHTTPRequest=(0,_use_http_request.useHTTPRequest)("/api/infra/metadata","POST",JSON.stringify({nodeId:nodeId,nodeType:nodeType,sourceId:sourceId}),decodeResponse),error=_useHTTPRequest.error,loading=_useHTTPRequest.loading,response=_useHTTPRequest.response,makeRequest=_useHTTPRequest.makeRequest;(0,_react.useEffect)((function(){_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return makeRequest();case 2:case"end":return _context.stop()}}}),_callee)})))()}),[makeRequest]);return{name:response&&response.name||"",filteredRequiredMetrics:response&&(0,_get_filtered_metrics.getFilteredMetrics)(requiredMetrics,response.features)||[],error:error&&error.message||null,loading:loading,metadata:response,cloudId:response&&response.info&&response.info.cloud&&response.info.cloud.instance&&response.info.cloud.instance.id||""}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFilteredMetrics=void 0;var _metrics=__webpack_require__(933);var getFilteredMetrics=function getFilteredMetrics(requiredMetrics,metadata){var metricMetadata=metadata.filter((function(data){return data&&data.source==="metrics"})).map((function(data){return data&&data.name}));return requiredMetrics.filter((function(metric){var metricModelCreator=_metrics.metrics.tsvb[metric];var metricModel=metricModelCreator("@timestamp","test",">=1m");return metricMetadata.some((function(m){return m&&metricModel.requires.includes(m)}))}))};exports.getFilteredMetrics=getFilteredMetrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeDetailsPage=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _use_node_details=__webpack_require__(1697);var _side_nav=__webpack_require__(1699);var _auto_sizer=__webpack_require__(758);var _time_controls=__webpack_require__(1700);var _side_nav_context=__webpack_require__(994);var _page_body=__webpack_require__(1701);var _public=__webpack_require__(64);var _page_error=__webpack_require__(1719);var _metadata_context=__webpack_require__(999);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: column;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var NodeDetailsPage=function NodeDetailsPage(props){var parsedTimeRange=props.parsedTimeRange;var _useNodeDetails=(0,_use_node_details.useNodeDetails)(props.requiredMetrics,props.nodeId,props.nodeType,props.sourceId,props.parsedTimeRange,props.cloudId),metrics=_useNodeDetails.metrics,loading=_useNodeDetails.loading,makeRequest=_useNodeDetails.makeRequest,error=_useNodeDetails.error;var refetch=(0,_react.useCallback)((function(){makeRequest()}),[makeRequest]);(0,_react.useEffect)((function(){makeRequest()}),[makeRequest,parsedTimeRange]);if(error){return _react.default.createElement(_page_error.PageError,{error:error,name:props.name})}return _react.default.createElement(_eui.EuiPage,{style:{flex:"1 0 auto"}},_react.default.createElement(_side_nav.MetricsSideNav,{loading:props.metadataLoading,name:props.name,items:props.sideNav}),_react.default.createElement(_auto_sizer.AutoSizer,{content:false,bounds:true,detectAnyWindowResize:true},(function(_ref){var _ref$bounds$width=_ref.bounds.width,width=_ref$bounds$width===void 0?0:_ref$bounds$width;var w=width?"".concat(width,"px"):"100%";return _react.default.createElement(MetricsDetailsPageColumn,null,_react.default.createElement(_eui.EuiPageBody,{style:{width:w}},_react.default.createElement(_eui.EuiPageHeader,{style:{flex:"0 0 auto"}},_react.default.createElement(_eui.EuiPageHeaderSection,{style:{width:"100%"}},_react.default.createElement(MetricsTitleTimeRangeContainer,null,_react.default.createElement(_eui.EuiHideFor,{sizes:["xs","s"]},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",null,props.name))),_react.default.createElement(_time_controls.MetricsTimeControls,{currentTimeRange:props.timeRange,isLiveStreaming:props.isAutoReloading,refreshInterval:props.refreshInterval,setRefreshInterval:props.setRefreshInterval,onChangeTimeRange:props.setTimeRange,setAutoReload:props.setAutoReload,onRefresh:props.triggerRefresh})))),_react.default.createElement(_side_nav_context.SideNavContext.Provider,{value:{items:props.sideNav,addNavItem:props.addNavItem}},_react.default.createElement(_metadata_context.MetadataContext.Provider,{value:props.metadata},_react.default.createElement(_page_body.PageBody,{loading:metrics.length>0&&props.isAutoReloading?false:loading,refetch:refetch,type:props.nodeType,metrics:metrics,onChangeRangeTime:props.setTimeRange,isLiveStreaming:props.isAutoReloading,stopLiveStreaming:function stopLiveStreaming(){return props.setAutoReload(false)}})))))})))};exports.NodeDetailsPage=NodeDetailsPage;var MetricsDetailsPageColumn=_public.euiStyled.div(_templateObject());var MetricsTitleTimeRangeContainer=_public.euiStyled.div(_templateObject2())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useNodeDetails=useNodeDetails;var _Either=__webpack_require__(33);var _function=__webpack_require__(65);var _pipeable=__webpack_require__(48);var _runtime_types=__webpack_require__(210);var _use_http_request=__webpack_require__(221);var _node_details_api=__webpack_require__(1698);function useNodeDetails(metrics,nodeId,nodeType,sourceId,timerange,cloudId){var decodeResponse=function decodeResponse(response){return(0,_pipeable.pipe)(_node_details_api.NodeDetailsMetricDataResponseRT.decode(response),(0,_Either.fold)((0,_runtime_types.throwErrors)(_runtime_types.createPlainError),_function.identity))};var _useHTTPRequest=(0,_use_http_request.useHTTPRequest)("/api/metrics/node_details","POST",JSON.stringify({metrics:metrics,nodeId:nodeId,nodeType:nodeType,timerange:timerange,cloudId:cloudId,sourceId:sourceId}),decodeResponse),error=_useHTTPRequest.error,loading=_useHTTPRequest.loading,response=_useHTTPRequest.response,makeRequest=_useHTTPRequest.makeRequest;return{error:error,loading:loading,metrics:response?response.metrics:[],makeRequest:makeRequest}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeDetailsRequestRT=exports.NodeDetailsMetricDataResponseRT=exports.NodeDetailsMetricDataRT=void 0;var rt=_interopRequireWildcard(__webpack_require__(39));var _types=__webpack_require__(727);var _snapshot_api=__webpack_require__(730);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var NodeDetailsDataPointRT=rt.intersection([rt.type({timestamp:rt.number}),rt.partial({value:rt.union([rt.number,rt.null])})]);var NodeDetailsDataSeries=rt.type({id:rt.string,label:rt.string,data:rt.array(NodeDetailsDataPointRT)});var NodeDetailsMetricDataRT=rt.intersection([rt.partial({id:rt.union([_types.InventoryMetricRT,rt.null])}),rt.type({series:rt.array(NodeDetailsDataSeries)})]);exports.NodeDetailsMetricDataRT=NodeDetailsMetricDataRT;var NodeDetailsMetricDataResponseRT=rt.type({metrics:rt.array(NodeDetailsMetricDataRT)});exports.NodeDetailsMetricDataResponseRT=NodeDetailsMetricDataResponseRT;var NodeDetailsRequestRT=rt.intersection([rt.type({nodeType:_types.ItemTypeRT,nodeId:rt.string,metrics:rt.array(_types.InventoryMetricRT),timerange:_snapshot_api.InfraTimerangeInputRT,sourceId:rt.string}),rt.partial({cloudId:rt.union([rt.string,rt.null])})]);exports.NodeDetailsRequestRT=NodeDetailsRequestRT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsSideNav=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  position: fixed;\n  z-index: 1;\n  height: 88vh;\n  padding-left: 16px;\n  margin-left: -16px;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsSideNav=function MetricsSideNav(_ref){var loading=_ref.loading,name=_ref.name,items=_ref.items;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isOpenOnMobile=_useState2[0],setMobileState=_useState2[1];var toggle=(0,_react.useCallback)((function(){setMobileState(!isOpenOnMobile)}),[isOpenOnMobile]);var content=loading?null:_react.default.createElement(_eui.EuiSideNav,{items:items});var mobileContent=loading?null:_react.default.createElement(_eui.EuiSideNav,{items:items,mobileTitle:name,toggleOpenOnMobile:toggle,isOpenOnMobile:isOpenOnMobile});return _react.default.createElement(_eui.EuiPageSideBar,null,_react.default.createElement(_eui.EuiHideFor,{sizes:["xs","s"]},_react.default.createElement(SideNavContainer,null,content)),_react.default.createElement(_eui.EuiShowFor,{sizes:["xs","s"]},mobileContent))};exports.MetricsSideNav=MetricsSideNav;var SideNavContainer=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricsTimeControls=void 0;var _eui=__webpack_require__(4);var _react=_interopRequireWildcard(__webpack_require__(3));var _public=__webpack_require__(64);var _use_kibana_ui_setting=__webpack_require__(713);var _map_timepicker_quickranges_to_datepicker_ranges=__webpack_require__(986);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  max-width: 750px;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var MetricsTimeControls=function MetricsTimeControls(props){var _useKibanaUiSetting=(0,_use_kibana_ui_setting.useKibanaUiSetting)("timepicker:quickRanges"),_useKibanaUiSetting2=_slicedToArray(_useKibanaUiSetting,1),timepickerQuickRanges=_useKibanaUiSetting2[0];var onChangeTimeRange=props.onChangeTimeRange,onRefresh=props.onRefresh,currentTimeRange=props.currentTimeRange,isLiveStreaming=props.isLiveStreaming,refreshInterval=props.refreshInterval,setAutoReload=props.setAutoReload,setRefreshInterval=props.setRefreshInterval;var commonlyUsedRanges=(0,_map_timepicker_quickranges_to_datepicker_ranges.mapKibanaQuickRangesToDatePickerRanges)(timepickerQuickRanges);var handleTimeChange=(0,_react.useCallback)((function(_ref){var start=_ref.start,end=_ref.end;onChangeTimeRange({from:start,to:end,interval:">=1m"})}),[onChangeTimeRange]);var handleRefreshChange=(0,_react.useCallback)((function(_ref2){var isPaused=_ref2.isPaused,_refreshInterval=_ref2.refreshInterval;if(isPaused){setAutoReload(false)}else{setRefreshInterval(_refreshInterval);setAutoReload(true)}}),[setAutoReload,setRefreshInterval]);return _react.default.createElement(MetricsTimeControlsContainer,null,_react.default.createElement(_eui.EuiSuperDatePicker,{start:currentTimeRange.from,end:currentTimeRange.to,isPaused:!isLiveStreaming,refreshInterval:refreshInterval?refreshInterval:0,onTimeChange:handleTimeChange,onRefreshChange:handleRefreshChange,onRefresh:onRefresh,commonlyUsedRanges:commonlyUsedRanges}))};exports.MetricsTimeControls=MetricsTimeControls;var MetricsTimeControlsContainer=_public.euiStyled.div(_templateObject())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageBody=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _layouts=__webpack_require__(1702);var _loading=__webpack_require__(740);var _empty_states=__webpack_require__(786);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PageBody=function PageBody(_ref){var loading=_ref.loading,refetch=_ref.refetch,type=_ref.type,metrics=_ref.metrics,onChangeRangeTime=_ref.onChangeRangeTime,isLiveStreaming=_ref.isLiveStreaming,stopLiveStreaming=_ref.stopLiveStreaming;if(loading){return _react.default.createElement(_loading.InfraLoadingPanel,{height:"100vh",width:"auto",text:_i18n.i18n.translate("xpack.infra.metrics.loadingNodeDataText",{defaultMessage:"Loading data"})})}else if(!loading&&metrics&&metrics.length===0){return _react.default.createElement(_empty_states.NoData,{titleText:_i18n.i18n.translate("xpack.infra.metrics.emptyViewTitle",{defaultMessage:"There is no data to display."}),bodyText:_i18n.i18n.translate("xpack.infra.metrics.emptyViewDescription",{defaultMessage:"Try adjusting your time or filter."}),refetchText:_i18n.i18n.translate("xpack.infra.metrics.refetchButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:refetch,testString:"metricsEmptyViewState"})}var Layout=(0,_layouts.findLayout)(type);return _react.default.createElement(Layout,{metrics:metrics,onChangeRangeTime:onChangeRangeTime,isLiveStreaming:isLiveStreaming,stopLiveStreaming:stopLiveStreaming})};exports.PageBody=PageBody},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findLayout=void 0;var _i18n=__webpack_require__(0);var _layout=__webpack_require__(1703);var _layout2=__webpack_require__(1713);var _layout3=__webpack_require__(1714);var _layout4=__webpack_require__(1715);var _layout5=__webpack_require__(1716);var _layout6=__webpack_require__(1717);var _layout7=__webpack_require__(1718);var layouts={host:_layout.Layout,pod:_layout2.Layout,container:_layout3.Layout,awsEC2:_layout4.Layout,awsS3:_layout5.Layout,awsRDS:_layout6.Layout,awsSQS:_layout7.Layout};var findLayout=function findLayout(type){var Layout=layouts===null||layouts===void 0?void 0:layouts[type];if(!Layout){throw new Error(_i18n.i18n.translate("xpack.infra.inventoryModels.findLayout.error",{defaultMessage:"The layout you've attempted to find does not exist"}))}return Layout};exports.findLayout=findLayout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _public=__webpack_require__(64);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _gauges_section_vis=__webpack_require__(796);var _chart_section_vis=__webpack_require__(717);var Aws=_interopRequireWildcard(__webpack_require__(1712));var Ngnix=_interopRequireWildcard(__webpack_require__(998));var _metadata_details=__webpack_require__(797);var _layout_content=__webpack_require__(732);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_metadata_details.MetadataDetails,{fields:["host.hostname","host.os.name","host.os.kernel","host.containerized","cloud.provider","cloud.availability_zone","cloud.machine.type","cloud.project.id","cloud.instance.id","cloud.instance.name"]}),_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.layoutLabel",{defaultMessage:"Host"}),sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Host Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"hostSystemOverview"},_react.default.createElement(_gauges_section_vis.GaugesSectionVis,{seriesOverrides:{cpu:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},load:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.loadSeriesLabel",{defaultMessage:"Load (5m)"}),color:theme.eui.euiColorFullShade},memory:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.memoryCapacitySeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},rx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"},tx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostCpuUsage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,type:"area",formatter:"percent",seriesOverrides:{user:{color:theme.eui.euiColorVis0},system:{color:theme.eui.euiColorVis2},steal:{color:theme.eui.euiColorVis9},irq:{color:theme.eui.euiColorVis4},softirq:{color:theme.eui.euiColorVis6},iowait:{color:theme.eui.euiColorVis7},nice:{color:theme.eui.euiColorVis5}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostLoad",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.sectionLabel",{defaultMessage:"Load"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{seriesOverrides:{load_1m:{color:theme.eui.euiColorVis0,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.oneMinuteSeriesLabel",{defaultMessage:"1m"})},load_5m:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.fiveMinuteSeriesLabel",{defaultMessage:"5m"})},load_15m:{color:theme.eui.euiColorVis3,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.fifteenMinuteSeriesLabel",{defaultMessage:"15m"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostMemoryUsage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,formatter:"bytes",type:"area",seriesOverrides:{used:{color:theme.eui.euiColorVis2},free:{color:theme.eui.euiColorVis0},cache:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostNetworkTraffic",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}))),_react.default.createElement(_section.Section,{navLabel:"Kubernetes",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Kubernetes Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"hostK8sOverview"},_react.default.createElement(_gauges_section_vis.GaugesSectionVis,{seriesOverrides:{cpucap:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Capacity"}),color:"secondary",formatter:"percent",gaugeMax:1},load:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.loadSeriesLabel",{defaultMessage:"Load (5m)"}),color:"secondary"},memorycap:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Capacity"}),color:"secondary",formatter:"percent",gaugeMax:1},podcap:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.podCapacitySeriesLabel",{defaultMessage:"Pod Capacity"}),color:"secondary",formatter:"percent",gaugeMax:1},diskcap:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.diskCapacitySeriesLabel",{defaultMessage:"Disk Capacity"}),color:"secondary",formatter:"percent",gaugeMax:1}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostK8sCpuCap",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeCpuCapacitySection.sectionLabel",{defaultMessage:"Node CPU Capacity"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"abbreviatedNumber",seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:"area"}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostK8sMemoryCap",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeMemoryCapacitySection.sectionLabel",{defaultMessage:"Node Memory Capacity"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bytes",seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:"area"}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostK8sDiskCap",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeDiskCapacitySection.sectionLabel",{defaultMessage:"Node Disk Capacity"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bytes",seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:"area"}}})),_react.default.createElement(_sub_section.SubSection,{id:"hostK8sPodCap",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodePodCapacitySection.sectionLabel",{defaultMessage:"Node Pod Capacity"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"number",seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:"area"}}}))),_react.default.createElement(Aws.Layout,{metrics:metrics}),_react.default.createElement(Ngnix.Layout,{metrics:metrics})))}));exports.Layout=Layout},,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BarChart=exports.AreaChart=exports.SeriesChart=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _charts=__webpack_require__(694);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SeriesChart=function SeriesChart(props){if(props.type==="bar"){return _react.default.createElement(BarChart,props)}return _react.default.createElement(AreaChart,props)};exports.SeriesChart=SeriesChart;var AreaChart=function AreaChart(_ref){var id=_ref.id,color=_ref.color,series=_ref.series,name=_ref.name,type=_ref.type,stack=_ref.stack;var style={area:{opacity:1,visible:"area"===type},line:{strokeWidth:"area"===type?1:2,visible:true}};return _react.default.createElement(_charts.AreaSeries,{id:id,name:name,xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,xAccessor:"timestamp",yAccessors:["value"],data:series.data,areaSeriesStyle:style,color:color?color:void 0,stackAccessors:stack?["timestamp"]:void 0})};exports.AreaChart=AreaChart;var BarChart=function BarChart(_ref2){var id=_ref2.id,color=_ref2.color,series=_ref2.series,name=_ref2.name,type=_ref2.type,stack=_ref2.stack;var style={rectBorder:{stroke:color||void 0,strokeWidth:1,visible:true},rect:{opacity:1}};return _react.default.createElement(_charts.BarSeries,{id:id,name:name,xScaleType:_charts.ScaleType.Time,yScaleType:_charts.ScaleType.Linear,xAccessor:"timestamp",yAccessors:["value"],data:series.data,barSeriesStyle:style,color:color?color:void 0,stackAccessors:stack?["timestamp"]:void 0})};exports.BarChart=BarChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrorMessage=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ErrorMessage=function ErrorMessage(_ref){var title=_ref.title,body=_ref.body;return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"stats",title:_react.default.createElement("h3",null,title),body:_react.default.createElement("p",null,body)})};exports.ErrorMessage=ErrorMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _gauges_section_vis=__webpack_require__(796);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_section.Section,{navLabel:"AWS",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"AWS Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"awsOverview"},_react.default.createElement(_gauges_section_vis.GaugesSectionVis,{seriesOverrides:{"cpu-util":{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.overviewSection.cpuUtilizationSeriesLabel",{defaultMessage:"CPU Utilization"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},"status-check-failed":{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.overviewSection.statusCheckFailedLabel",{defaultMessage:"Status check failed"}),color:theme.eui.euiColorFullShade},"packets-in":{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.overviewSection.networkPacketsInLabel",{defaultMessage:"Packets (in)"}),color:theme.eui.euiColorFullShade,formatter:"number"},"packets-out":{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.overviewSection.networkPacketsOutLabel",{defaultMessage:"Packets (out)"}),color:theme.eui.euiColorFullShade,formatter:"number"}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsCpuUtilization",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.cpuUtilSection.sectionLabel",{defaultMessage:"CPU Utilization"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"number",seriesOverrides:{"cpu-util":{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.cpuUtilSection.percentSeriesLabel",{defaultMessage:"percent"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsNetworkBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkBytesSection.sectionLabel",{defaultMessage:"Network Traffic"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"bits",formatterTemplate:"{{value}}/s",seriesOverrides:{tx:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkBytesSection.txSeriesLabel",{defaultMessage:"out"})},rx:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkBytesSection.rxSeriesLabel",{defaultMessage:"in"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsNetworkPackets",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkPacketsSection.sectionLabel",{defaultMessage:"Network Packets (Average)"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"number",seriesOverrides:{"packets-out":{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkPacketsSection.packetsOutSeriesLabel",{defaultMessage:"out"})},"packets-in":{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.networkPacketsSection.packetsInSeriesLabel",{defaultMessage:"in"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsDiskioOps",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioOperationsSection.sectionLabel",{defaultMessage:"Disk I/O Operations"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"number",seriesOverrides:{writes:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioOperationsSection.writesSeriesLabel",{defaultMessage:"writes"})},reads:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioOperationsSection.readsSeriesLabel",{defaultMessage:"reads"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsDiskioBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioBytesSection.sectionLabel",{defaultMessage:"Disk I/O Bytes"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"number",seriesOverrides:{writes:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioBytesSection.writesSeriesLabel",{defaultMessage:"writes"})},reads:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.awsMetricsLayout.diskioBytesSection.readsSeriesLabel",{defaultMessage:"reads"})}}}))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _gauges_section_vis=__webpack_require__(796);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var Nginx=_interopRequireWildcard(__webpack_require__(998));var _metadata_details=__webpack_require__(797);var _layout_content=__webpack_require__(732);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_metadata_details.MetadataDetails,null),_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.layoutLabel",{defaultMessage:"Pod"}),sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Pod Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"podOverview"},_react.default.createElement(_gauges_section_vis.GaugesSectionVis,{seriesOverrides:{cpu:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},memory:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},rx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"},tx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"}}})),_react.default.createElement(_sub_section.SubSection,{id:"podCpuUsage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"percent",type:"area",seriesOverrides:{cpu:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"podMemoryUsage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"percent",seriesOverrides:{memory:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"podNetworkTraffic",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}))),_react.default.createElement(Nginx.Layout,{metrics:metrics})))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _gauges_section_vis=__webpack_require__(796);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var _layout_content=__webpack_require__(732);var _metadata_details=__webpack_require__(797);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_metadata_details.MetadataDetails,null),_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.layoutLabel",{defaultMessage:"Container"}),sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Container Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"containerOverview"},_react.default.createElement(_gauges_section_vis.GaugesSectionVis,{seriesOverrides:{cpu:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},memory:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},rx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"},tx:{name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"}}})),_react.default.createElement(_sub_section.SubSection,{id:"containerCpuUsage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,type:"area",formatter:"percent",seriesOverrides:{cpu:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"containerMemory",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,type:"area",formatter:"percent",seriesOverrides:{memory:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"containerNetworkTraffic",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"containerDiskIOOps",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.sectionLabel",{defaultMessage:"Disk IO (Ops)"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatterTemplate:"{{value}}/s",formatter:"number",seriesOverrides:{read:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"containerDiskIOBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.sectionLabel",{defaultMessage:"Disk IO (Bytes)"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"bytes",formatterTemplate:"{{value}}/s",seriesOverrides:{read:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}})))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _layout_content=__webpack_require__(732);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var _metadata_details=__webpack_require__(797);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_metadata_details.MetadataDetails,{fields:["cloud.instance.id","cloud.provider","cloud.availability_zone","cloud.machine.type","cloud.instance.name","cloud.project.id"]}),_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:"AWS EC2",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws EC2 Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"awsEC2CpuUtilization",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{stacked:true,type:"area",formatter:"percent",seriesOverrides:{total:{color:theme.eui.euiColorVis1}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsEC2NetworkTraffic",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsEC2DiskIOBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.sectionLabel",{defaultMessage:"Disk IO (Bytes)"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{formatter:"bytes",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{write:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.writeLabel",{defaultMessage:"writes"})},read:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.readLabel",{defaultMessage:"reads"})}}})))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var _layout_content=__webpack_require__(732);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:"AWS S3",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws S3 Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"awsS3BucketSize",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.bucketSize.sectionLabel",{defaultMessage:"Bucket Size"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.bucketSize.chartLabel",{defaultMessage:"Total Bytes"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsS3NumberOfObjects",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.numberOfObjects.sectionLabel",{defaultMessage:"Number of Objects"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{objects:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.numberOfObjects.chartLabel",{defaultMessage:"Objects"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsS3TotalRequests",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.totalRequests.sectionLabel",{defaultMessage:"Total Requests"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{total:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.totalRequests.chartLabel",{defaultMessage:"Requests"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsS3DownloadBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.downloadBytes.sectionLabel",{defaultMessage:"Downloaded Bytes"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.downloadBytes.chartLabel",{defaultMessage:"Bytes"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsS3UploadBytes",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.uploadBytes.sectionLabel",{defaultMessage:"Uploaded Bytes"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.uploadBytes.chartLabel",{defaultMessage:"Bytes"})}}})))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var _layout_content=__webpack_require__(732);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:"AWS RDS",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws RDS Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"awsRDSCpuTotal",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.cpuTotal.sectionLabel",{defaultMessage:"Total CPU Usage"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"area",formatter:"percent",seriesOverrides:{cpu:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.cpuTotal.chartLabel",{defaultMessage:"Total"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsRDSConnections",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.connections.sectionLabel",{defaultMessage:"Connections"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"number",seriesOverrides:{connections:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.connections.chartLabel",{defaultMessage:"Connections"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsRDSQueriesExecuted",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.queriesExecuted.sectionLabel",{defaultMessage:"Queries Executed"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"number",seriesOverrides:{queries:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.queriesExecuted.chartLabel",{defaultMessage:"Queries"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsRDSActiveTransactions",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.activeTransactions.sectionLabel",{defaultMessage:"Transactions"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"number",seriesOverrides:{active:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.active.chartLabel",{defaultMessage:"Active"})},blocked:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.blocked.chartLabel",{defaultMessage:"Blocked"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsRDSLatency",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.sectionLabel",{defaultMessage:"Latency"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",stacked:true,formatter:"highPercision",formatterTemplate:"{{value}} ms",seriesOverrides:{read:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.read.chartLabel",{defaultMessage:"Read"})},write:{color:theme.eui.euiColorVis2,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.write.chartLabel",{defaultMessage:"Write"})},insert:{color:theme.eui.euiColorVis0,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.insert.chartLabel",{defaultMessage:"Insert"})},update:{color:theme.eui.euiColorVis7,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.update.chartLabel",{defaultMessage:"Update"})},commit:{color:theme.eui.euiColorVis3,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.commit.chartLabel",{defaultMessage:"Commit"})}}})))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _section=__webpack_require__(715);var _sub_section=__webpack_require__(716);var _chart_section_vis=__webpack_require__(717);var _public=__webpack_require__(64);var _layout_content=__webpack_require__(732);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Layout=(0,_public.withTheme)((function(_ref){var metrics=_ref.metrics,theme=_ref.theme;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_layout_content.LayoutContent,null,_react.default.createElement(_section.Section,{navLabel:"AWS SQS",sectionLabel:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws SQS Overview"}),metrics:metrics},_react.default.createElement(_sub_section.SubSection,{id:"awsSQSMessagesVisible",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesVisible.sectionLabel",{defaultMessage:"Messages Available"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{visible:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesVisible.chartLabel",{defaultMessage:"Available"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsSQSMessagesDelayed",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesDelayed.sectionLabel",{defaultMessage:"Messages Delayed"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{delayed:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesDelayed.chartLabel",{defaultMessage:"Delayed"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsSQSMessagesSent",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesSent.sectionLabel",{defaultMessage:"Messages Added"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{sent:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesSent.chartLabel",{defaultMessage:"Added"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsSQSMessagesEmpty",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesEmpty.sectionLabel",{defaultMessage:"Messages Empty"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{sent:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesEmpty.chartLabel",{defaultMessage:"Empty"})}}})),_react.default.createElement(_sub_section.SubSection,{id:"awsSQSOldestMessage",label:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.oldestMessage.sectionLabel",{defaultMessage:"Oldest Message"})},_react.default.createElement(_chart_section_vis.ChartSectionVis,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{oldest:{color:theme.eui.euiColorVis1,name:_i18n.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.oldestMessage.chartLabel",{defaultMessage:"Age"})}}})))))}));exports.Layout=Layout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageError=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(0);var _invalid_node=__webpack_require__(1720);var _document_title=__webpack_require__(726);var _error=__webpack_require__(934);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PageError=function PageError(_ref){var error=_ref.error,name=_ref.name;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_document_title.DocumentTitle,{title:function title(previousTitle){return _i18n.i18n.translate("xpack.infra.metricDetailPage.documentTitleError",{defaultMessage:"{previousTitle} | Uh oh",values:{previousTitle:previousTitle}})}}),error.body.statusCode=404?_react.default.createElement(_invalid_node.InvalidNodeError,{nodeName:name}):undefined)};exports.PageError=PageError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InvalidNodeError=void 0;var _eui=__webpack_require__(4);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(64);var _source_configuration=__webpack_require__(849);var _use_link_props=__webpack_require__(710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject(){var data=_taggedTemplateLiteral(["\n  align-self: center;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var InvalidNodeError=function InvalidNodeError(_ref){var nodeName=_ref.nodeName;var tutorialLinkProps=(0,_use_link_props.useLinkProps)({app:"kibana",hash:"/home/tutorial_directory/metrics"});return _react2.default.createElement(CenteredEmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metrics.invalidNodeErrorTitle",defaultMessage:"Looks like {nodeName} isn't collecting any metrics data",values:{nodeName:nodeName}})),body:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.metrics.invalidNodeErrorDescription",defaultMessage:"Double check your configuration"})),actions:_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiButton,_extends({},tutorialLinkProps,{color:"primary",fill:true}),_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.homePage.noMetricsIndicesInstructionsActionLabel",defaultMessage:"View setup instructions"}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_source_configuration.ViewSourceConfigurationButton,{app:"metrics","data-test-subj":"configureSourceButton"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.infra.configureSourceActionLabel",defaultMessage:"Change source configuration"}))))})};exports.InvalidNodeError=InvalidNodeError;var CenteredEmptyPrompt=(0,_public.euiStyled)(_eui.EuiEmptyPrompt)(_templateObject())}])]);