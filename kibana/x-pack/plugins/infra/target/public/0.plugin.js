(window["infra_bundle_jsonpfunction"]=window["infra_bundle_jsonpfunction"]||[]).push([[0],{1006:function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(865)):undefined})(this,(function(exports,zenObservable){"use strict";zenObservable=zenObservable&&zenObservable.hasOwnProperty("default")?zenObservable["default"]:zenObservable;var Observable=zenObservable;exports.default=Observable;exports.Observable=Observable;Object.defineProperty(exports,"__esModule",{value:true})}))},1007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var hasSymbols=function(){return typeof Symbol==="function"};var hasSymbol=function(name){return hasSymbols()&&Boolean(Symbol[name])};var getSymbol=function(name){return hasSymbol(name)?Symbol[name]:"@@"+name};if(hasSymbols()&&!hasSymbol("observable")){Symbol.observable=Symbol("observable")}function getMethod(obj,key){var value=obj[key];if(value==null)return undefined;if(typeof value!=="function")throw new TypeError(value+" is not a function");return value}function getSpecies(obj){var ctor=obj.constructor;if(ctor!==undefined){ctor=ctor[getSymbol("species")];if(ctor===null){ctor=undefined}}return ctor!==undefined?ctor:Observable}function isObservable(x){return x instanceof Observable}function hostReportError(e){if(hostReportError.log){hostReportError.log(e)}else{setTimeout((function(){throw e}))}}function enqueue(fn){Promise.resolve().then((function(){try{fn()}catch(e){hostReportError(e)}}))}function cleanupSubscription(subscription){var cleanup=subscription._cleanup;if(cleanup===undefined)return;subscription._cleanup=undefined;if(!cleanup){return}try{if(typeof cleanup==="function"){cleanup()}else{var unsubscribe=getMethod(cleanup,"unsubscribe");if(unsubscribe){unsubscribe.call(cleanup)}}}catch(e){hostReportError(e)}}function closeSubscription(subscription){subscription._observer=undefined;subscription._queue=undefined;subscription._state="closed"}function flushSubscription(subscription){var queue=subscription._queue;if(!queue){return}subscription._queue=undefined;subscription._state="ready";for(var i=0;i<queue.length;++i){notifySubscription(subscription,queue[i].type,queue[i].value);if(subscription._state==="closed")break}}function notifySubscription(subscription,type,value){subscription._state="running";var observer=subscription._observer;try{var m=getMethod(observer,type);switch(type){case"next":if(m)m.call(observer,value);break;case"error":closeSubscription(subscription);if(m)m.call(observer,value);else throw value;break;case"complete":closeSubscription(subscription);if(m)m.call(observer);break}}catch(e){hostReportError(e)}if(subscription._state==="closed")cleanupSubscription(subscription);else if(subscription._state==="running")subscription._state="ready"}function onNotify(subscription,type,value){if(subscription._state==="closed")return;if(subscription._state==="buffering"){subscription._queue.push({type:type,value:value});return}if(subscription._state!=="ready"){subscription._state="buffering";subscription._queue=[{type:type,value:value}];enqueue((function(){return flushSubscription(subscription)}));return}notifySubscription(subscription,type,value)}var Subscription=function(){function Subscription(observer,subscriber){_classCallCheck(this,Subscription);this._cleanup=undefined;this._observer=observer;this._queue=undefined;this._state="initializing";var subscriptionObserver=new SubscriptionObserver(this);try{this._cleanup=subscriber.call(undefined,subscriptionObserver)}catch(e){subscriptionObserver.error(e)}if(this._state==="initializing")this._state="ready"}_createClass(Subscription,[{key:"unsubscribe",value:function unsubscribe(){if(this._state!=="closed"){closeSubscription(this);cleanupSubscription(this)}}},{key:"closed",get:function(){return this._state==="closed"}}]);return Subscription}();var SubscriptionObserver=function(){function SubscriptionObserver(subscription){_classCallCheck(this,SubscriptionObserver);this._subscription=subscription}_createClass(SubscriptionObserver,[{key:"next",value:function next(value){onNotify(this._subscription,"next",value)}},{key:"error",value:function error(value){onNotify(this._subscription,"error",value)}},{key:"complete",value:function complete(){onNotify(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]);return SubscriptionObserver}();var Observable=exports.Observable=function(){function Observable(subscriber){_classCallCheck(this,Observable);if(!(this instanceof Observable))throw new TypeError("Observable cannot be called as a function");if(typeof subscriber!=="function")throw new TypeError("Observable initializer must be a function");this._subscriber=subscriber}_createClass(Observable,[{key:"subscribe",value:function subscribe(observer){if(typeof observer!=="object"||observer===null){observer={next:observer,error:arguments[1],complete:arguments[2]}}return new Subscription(observer,this._subscriber)}},{key:"forEach",value:function forEach(fn){var _this=this;return new Promise((function(resolve,reject){if(typeof fn!=="function"){reject(new TypeError(fn+" is not a function"));return}function done(){subscription.unsubscribe();resolve()}var subscription=_this.subscribe({next:function(value){try{fn(value,done)}catch(e){reject(e);subscription.unsubscribe()}},error:reject,complete:resolve})}))}},{key:"map",value:function map(fn){var _this2=this;if(typeof fn!=="function")throw new TypeError(fn+" is not a function");var C=getSpecies(this);return new C((function(observer){return _this2.subscribe({next:function(value){try{value=fn(value)}catch(e){return observer.error(e)}observer.next(value)},error:function(e){observer.error(e)},complete:function(){observer.complete()}})}))}},{key:"filter",value:function filter(fn){var _this3=this;if(typeof fn!=="function")throw new TypeError(fn+" is not a function");var C=getSpecies(this);return new C((function(observer){return _this3.subscribe({next:function(value){try{if(!fn(value))return}catch(e){return observer.error(e)}observer.next(value)},error:function(e){observer.error(e)},complete:function(){observer.complete()}})}))}},{key:"reduce",value:function reduce(fn){var _this4=this;if(typeof fn!=="function")throw new TypeError(fn+" is not a function");var C=getSpecies(this);var hasSeed=arguments.length>1;var hasValue=false;var seed=arguments[1];var acc=seed;return new C((function(observer){return _this4.subscribe({next:function(value){var first=!hasValue;hasValue=true;if(!first||hasSeed){try{acc=fn(acc,value)}catch(e){return observer.error(e)}}else{acc=value}},error:function(e){observer.error(e)},complete:function(){if(!hasValue&&!hasSeed)return observer.error(new TypeError("Cannot reduce an empty sequence"));observer.next(acc);observer.complete()}})}))}},{key:"concat",value:function concat(){var _this5=this;for(var _len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++){sources[_key]=arguments[_key]}var C=getSpecies(this);return new C((function(observer){var subscription=void 0;function startNext(next){subscription=next.subscribe({next:function(v){observer.next(v)},error:function(e){observer.error(e)},complete:function(){if(sources.length===0){subscription=undefined;observer.complete()}else{startNext(C.from(sources.shift()))}}})}startNext(_this5);return function(){if(subscription){subscription=undefined;subscription.unsubscribe()}}}))}},{key:"flatMap",value:function flatMap(fn){var _this6=this;if(typeof fn!=="function")throw new TypeError(fn+" is not a function");var C=getSpecies(this);return new C((function(observer){var subscriptions=[];var outer=_this6.subscribe({next:function(value){if(fn){try{value=fn(value)}catch(e){return observer.error(e)}}var inner=C.from(value).subscribe({next:function(value){observer.next(value)},error:function(e){observer.error(e)},complete:function(){var i=subscriptions.indexOf(inner);if(i>=0)subscriptions.splice(i,1);completeIfDone()}});subscriptions.push(inner)},error:function(e){observer.error(e)},complete:function(){completeIfDone()}});function completeIfDone(){if(outer.closed&&subscriptions.length===0)observer.complete()}return function(){subscriptions.forEach((function(s){return s.unsubscribe()}));outer.unsubscribe()}}))}},{key:getSymbol("observable"),value:function(){return this}}],[{key:"from",value:function from(x){var C=typeof this==="function"?this:Observable;if(x==null)throw new TypeError(x+" is not an object");var method=getMethod(x,getSymbol("observable"));if(method){var observable=method.call(x);if(Object(observable)!==observable)throw new TypeError(observable+" is not an object");if(isObservable(observable)&&observable.constructor===C)return observable;return new C((function(observer){return observable.subscribe(observer)}))}if(hasSymbol("iterator")){method=getMethod(x,getSymbol("iterator"));if(method){return new C((function(observer){enqueue((function(){if(observer.closed)return;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=method.call(x)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var item=_step.value;observer.next(item);if(observer.closed)return}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}observer.complete()}))}))}}if(Array.isArray(x)){return new C((function(observer){enqueue((function(){if(observer.closed)return;for(var i=0;i<x.length;++i){observer.next(x[i]);if(observer.closed)return}observer.complete()}))}))}throw new TypeError(x+" is not observable")}},{key:"of",value:function of(){for(var _len2=arguments.length,items=Array(_len2),_key2=0;_key2<_len2;_key2++){items[_key2]=arguments[_key2]}var C=typeof this==="function"?this:Observable;return new C((function(observer){enqueue((function(){if(observer.closed)return;for(var i=0;i<items.length;++i){observer.next(items[i]);if(observer.closed)return}observer.complete()}))}))}},{key:getSymbol("species"),get:function(){return this}}]);return Observable}();if(hasSymbols()){Object.defineProperty(Observable,Symbol("extensions"),{value:{symbol:getSymbol("observable"),hostReportError:hostReportError},configurabe:true})}},1008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=symbolObservablePonyfill;function symbolObservablePonyfill(root){var result;var _Symbol=root.Symbol;if(typeof _Symbol==="function"){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol("observable");_Symbol.observable=result}}else{result="@@observable"}return result}},1009:function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(764)):undefined})(this,(function(exports,apolloLink){"use strict";var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DedupLink=function(_super){__extends(DedupLink,_super);function DedupLink(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.inFlightRequestObservables=new Map;_this.subscribers=new Map;return _this}DedupLink.prototype.request=function(operation,forward){var _this=this;if(operation.getContext().forceFetch){return forward(operation)}var key=operation.toKey();var cleanup=function(key){_this.inFlightRequestObservables.delete(key);var prev=_this.subscribers.get(key);return prev};if(!this.inFlightRequestObservables.get(key)){var singleObserver_1=forward(operation);var subscription_1;var sharedObserver=new apolloLink.Observable((function(observer){var prev=_this.subscribers.get(key);if(!prev)prev={next:[],error:[],complete:[]};_this.subscribers.set(key,{next:prev.next.concat([observer.next.bind(observer)]),error:prev.error.concat([observer.error.bind(observer)]),complete:prev.complete.concat([observer.complete.bind(observer)])});if(!subscription_1){subscription_1=singleObserver_1.subscribe({next:function(result){var prev=cleanup(key);_this.subscribers.delete(key);if(prev){prev.next.forEach((function(next){return next(result)}));prev.complete.forEach((function(complete){return complete()}))}},error:function(error){var prev=cleanup(key);_this.subscribers.delete(key);if(prev)prev.error.forEach((function(err){return err(error)}))}})}return function(){if(subscription_1)subscription_1.unsubscribe();_this.inFlightRequestObservables.delete(key)}}));this.inFlightRequestObservables.set(key,sharedObserver)}return this.inFlightRequestObservables.get(key)};return DedupLink}(apolloLink.ApolloLink);exports.DedupLink=DedupLink;Object.defineProperty(exports,"__esModule",{value:true})}))},764:function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(765),__webpack_require__(1006),__webpack_require__(805)):undefined})(this,(function(exports,apolloUtilities,Observable,printer){"use strict";Observable=Observable&&Observable.hasOwnProperty("default")?Observable["default"]:Observable;var __extends=undefined&&undefined.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function validateOperation(operation){var OPERATION_FIELDS=["query","operationName","variables","extensions","context"];for(var _i=0,_a=Object.keys(operation);_i<_a.length;_i++){var key=_a[_i];if(OPERATION_FIELDS.indexOf(key)<0){throw new Error("illegal argument: "+key)}}return operation}var LinkError=function(_super){__extends(LinkError,_super);function LinkError(message,link){var _this=_super.call(this,message)||this;_this.link=link;return _this}return LinkError}(Error);function isTerminating(link){return link.request.length<=1}function toPromise(observable){var completed=false;return new Promise((function(resolve,reject){observable.subscribe({next:function(data){if(completed){console.warn("Promise Wrapper does not support multiple results from Observable")}else{completed=true;resolve(data)}},error:reject})}))}var makePromise=toPromise;function fromPromise(promise){return new Observable((function(observer){promise.then((function(value){observer.next(value);observer.complete()})).catch(observer.error.bind(observer))}))}function fromError(errorValue){return new Observable((function(observer){observer.error(errorValue)}))}function transformOperation(operation){var transformedOperation={variables:operation.variables||{},extensions:operation.extensions||{},operationName:operation.operationName,query:operation.query};if(!transformedOperation.operationName){transformedOperation.operationName=typeof transformedOperation.query!=="string"?apolloUtilities.getOperationName(transformedOperation.query):""}return transformedOperation}function createOperation(starting,operation){var context=__assign({},starting);var setContext=function(next){if(typeof next==="function"){context=__assign({},context,next(context))}else{context=__assign({},context,next)}};var getContext=function(){return __assign({},context)};Object.defineProperty(operation,"setContext",{enumerable:false,value:setContext});Object.defineProperty(operation,"getContext",{enumerable:false,value:getContext});Object.defineProperty(operation,"toKey",{enumerable:false,value:function(){return getKey(operation)}});return operation}function getKey(operation){return printer.print(operation.query)+"|"+JSON.stringify(operation.variables)+"|"+operation.operationName}var passthrough=function(op,forward){return forward?forward(op):Observable.of()};var toLink=function(handler){return typeof handler==="function"?new ApolloLink(handler):handler};var empty=function(){return new ApolloLink((function(op,forward){return Observable.of()}))};var from=function(links){if(links.length===0)return empty();return links.map(toLink).reduce((function(x,y){return x.concat(y)}))};var split=function(test,left,right){if(right===void 0){right=new ApolloLink(passthrough)}var leftLink=toLink(left);var rightLink=toLink(right);if(isTerminating(leftLink)&&isTerminating(rightLink)){return new ApolloLink((function(operation){return test(operation)?leftLink.request(operation)||Observable.of():rightLink.request(operation)||Observable.of()}))}else{return new ApolloLink((function(operation,forward){return test(operation)?leftLink.request(operation,forward)||Observable.of():rightLink.request(operation,forward)||Observable.of()}))}};var concat=function(first,second){var firstLink=toLink(first);if(isTerminating(firstLink)){console.warn(new LinkError("You are calling concat on a terminating link, which will have no effect",firstLink));return firstLink}var nextLink=toLink(second);if(isTerminating(nextLink)){return new ApolloLink((function(operation){return firstLink.request(operation,(function(op){return nextLink.request(op)||Observable.of()}))||Observable.of()}))}else{return new ApolloLink((function(operation,forward){return firstLink.request(operation,(function(op){return nextLink.request(op,forward)||Observable.of()}))||Observable.of()}))}};var ApolloLink=function(){function ApolloLink(request){if(request)this.request=request}ApolloLink.prototype.split=function(test,left,right){if(right===void 0){right=new ApolloLink(passthrough)}return this.concat(split(test,left,right))};ApolloLink.prototype.concat=function(next){return concat(this,next)};ApolloLink.prototype.request=function(operation,forward){throw new Error("request is not implemented")};ApolloLink.empty=empty;ApolloLink.from=from;ApolloLink.split=split;ApolloLink.execute=execute;return ApolloLink}();function execute(link,operation){return link.request(createOperation(operation.context,transformOperation(validateOperation(operation))))||Observable.of()}exports.Observable=Observable;exports.createOperation=createOperation;exports.makePromise=makePromise;exports.toPromise=toPromise;exports.fromPromise=fromPromise;exports.fromError=fromError;exports.empty=empty;exports.from=from;exports.split=split;exports.concat=concat;exports.ApolloLink=ApolloLink;exports.execute=execute;Object.defineProperty(exports,"__esModule",{value:true})}))},765:function(module,exports,__webpack_require__){(function(process){(function(global,factory){true?factory(exports,__webpack_require__(804)):undefined})(this,(function(exports,stringify){"use strict";stringify=stringify&&stringify.hasOwnProperty("default")?stringify["default"]:stringify;var __assign=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};function isScalarValue(value){return["StringValue","BooleanValue","EnumValue"].indexOf(value.kind)>-1}function isNumberValue(value){return["IntValue","FloatValue"].indexOf(value.kind)>-1}function isStringValue(value){return value.kind==="StringValue"}function isBooleanValue(value){return value.kind==="BooleanValue"}function isIntValue(value){return value.kind==="IntValue"}function isFloatValue(value){return value.kind==="FloatValue"}function isVariable(value){return value.kind==="Variable"}function isObjectValue(value){return value.kind==="ObjectValue"}function isListValue(value){return value.kind==="ListValue"}function isEnumValue(value){return value.kind==="EnumValue"}function isNullValue(value){return value.kind==="NullValue"}function valueToObjectRepresentation(argObj,name,value,variables){if(isIntValue(value)||isFloatValue(value)){argObj[name.value]=Number(value.value)}else if(isBooleanValue(value)||isStringValue(value)){argObj[name.value]=value.value}else if(isObjectValue(value)){var nestedArgObj_1={};value.fields.map((function(obj){return valueToObjectRepresentation(nestedArgObj_1,obj.name,obj.value,variables)}));argObj[name.value]=nestedArgObj_1}else if(isVariable(value)){var variableValue=(variables||{})[value.name.value];argObj[name.value]=variableValue}else if(isListValue(value)){argObj[name.value]=value.values.map((function(listValue){var nestedArgArrayObj={};valueToObjectRepresentation(nestedArgArrayObj,name,listValue,variables);return nestedArgArrayObj[name.value]}))}else if(isEnumValue(value)){argObj[name.value]=value.value}else if(isNullValue(value)){argObj[name.value]=null}else{throw new Error('The inline argument "'+name.value+'" of kind "'+value.kind+'"'+"is not supported. Use variables instead of inline arguments to "+"overcome this limitation.")}}function storeKeyNameFromField(field,variables){var directivesObj=null;if(field.directives){directivesObj={};field.directives.forEach((function(directive){directivesObj[directive.name.value]={};if(directive.arguments){directive.arguments.forEach((function(_a){var name=_a.name,value=_a.value;return valueToObjectRepresentation(directivesObj[directive.name.value],name,value,variables)}))}}))}var argObj=null;if(field.arguments&&field.arguments.length){argObj={};field.arguments.forEach((function(_a){var name=_a.name,value=_a.value;return valueToObjectRepresentation(argObj,name,value,variables)}))}return getStoreKeyName(field.name.value,argObj,directivesObj)}var KNOWN_DIRECTIVES=["connection","include","skip","client","rest","export"];function getStoreKeyName(fieldName,args,directives){if(directives&&directives["connection"]&&directives["connection"]["key"]){if(directives["connection"]["filter"]&&directives["connection"]["filter"].length>0){var filterKeys=directives["connection"]["filter"]?directives["connection"]["filter"]:[];filterKeys.sort();var queryArgs_1=args;var filteredArgs_1={};filterKeys.forEach((function(key){filteredArgs_1[key]=queryArgs_1[key]}));return directives["connection"]["key"]+"("+JSON.stringify(filteredArgs_1)+")"}else{return directives["connection"]["key"]}}var completeFieldName=fieldName;if(args){var stringifiedArgs=stringify(args);completeFieldName+="("+stringifiedArgs+")"}if(directives){Object.keys(directives).forEach((function(key){if(KNOWN_DIRECTIVES.indexOf(key)!==-1)return;if(directives[key]&&Object.keys(directives[key]).length){completeFieldName+="@"+key+"("+JSON.stringify(directives[key])+")"}else{completeFieldName+="@"+key}}))}return completeFieldName}function argumentsObjectFromField(field,variables){if(field.arguments&&field.arguments.length){var argObj_1={};field.arguments.forEach((function(_a){var name=_a.name,value=_a.value;return valueToObjectRepresentation(argObj_1,name,value,variables)}));return argObj_1}return null}function resultKeyNameFromField(field){return field.alias?field.alias.value:field.name.value}function isField(selection){return selection.kind==="Field"}function isInlineFragment(selection){return selection.kind==="InlineFragment"}function isIdValue(idObject){return idObject&&idObject.type==="id"}function toIdValue(idConfig,generated){if(generated===void 0){generated=false}return __assign({type:"id",generated:generated},typeof idConfig==="string"?{id:idConfig,typename:undefined}:idConfig)}function isJsonValue(jsonObject){return jsonObject!=null&&typeof jsonObject==="object"&&jsonObject.type==="json"}function defaultValueFromVariable(node){throw new Error("Variable nodes are not supported by valueFromNode")}function valueFromNode(node,onVariable){if(onVariable===void 0){onVariable=defaultValueFromVariable}switch(node.kind){case"Variable":return onVariable(node);case"NullValue":return null;case"IntValue":return parseInt(node.value,10);case"FloatValue":return parseFloat(node.value);case"ListValue":return node.values.map((function(v){return valueFromNode(v,onVariable)}));case"ObjectValue":{var value={};for(var _i=0,_a=node.fields;_i<_a.length;_i++){var field=_a[_i];value[field.name.value]=valueFromNode(field.value,onVariable)}return value}default:return node.value}}function getDirectiveInfoFromField(field,variables){if(field.directives&&field.directives.length){var directiveObj_1={};field.directives.forEach((function(directive){directiveObj_1[directive.name.value]=argumentsObjectFromField(directive,variables)}));return directiveObj_1}return null}function shouldInclude(selection,variables){if(variables===void 0){variables={}}if(!selection.directives){return true}var res=true;selection.directives.forEach((function(directive){if(directive.name.value!=="skip"&&directive.name.value!=="include"){return}var directiveArguments=directive.arguments||[];var directiveName=directive.name.value;if(directiveArguments.length!==1){throw new Error("Incorrect number of arguments for the @"+directiveName+" directive.")}var ifArgument=directiveArguments[0];if(!ifArgument.name||ifArgument.name.value!=="if"){throw new Error("Invalid argument for the @"+directiveName+" directive.")}var ifValue=directiveArguments[0].value;var evaledValue=false;if(!ifValue||ifValue.kind!=="BooleanValue"){if(ifValue.kind!=="Variable"){throw new Error("Argument for the @"+directiveName+" directive must be a variable or a boolean value.")}else{evaledValue=variables[ifValue.name.value];if(evaledValue===undefined){throw new Error("Invalid variable referenced in @"+directiveName+" directive.")}}}else{evaledValue=ifValue.value}if(directiveName==="skip"){evaledValue=!evaledValue}if(!evaledValue){res=false}}));return res}function flattenSelections(selection){if(!selection.selectionSet||!(selection.selectionSet.selections.length>0))return[selection];return[selection].concat(selection.selectionSet.selections.map((function(selectionNode){return[selectionNode].concat(flattenSelections(selectionNode))})).reduce((function(selections,selected){return selections.concat(selected)}),[]))}function getDirectiveNames(doc){var directiveNames=doc.definitions.filter((function(definition){return definition.selectionSet&&definition.selectionSet.selections})).map((function(x){return flattenSelections(x)})).reduce((function(selections,selected){return selections.concat(selected)}),[]).filter((function(selection){return selection.directives&&selection.directives.length>0})).map((function(selection){return selection.directives})).reduce((function(directives,directive){return directives.concat(directive)}),[]).map((function(directive){return directive.name.value}));return directiveNames}function hasDirectives(names,doc){return getDirectiveNames(doc).some((function(name){return names.indexOf(name)>-1}))}var __assign$1=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};function getFragmentQueryDocument(document,fragmentName){var actualFragmentName=fragmentName;var fragments=[];document.definitions.forEach((function(definition){if(definition.kind==="OperationDefinition"){throw new Error("Found a "+definition.operation+" operation"+(definition.name?" named '"+definition.name.value+"'":"")+". "+"No operations are allowed when using a fragment as a query. Only fragments are allowed.")}if(definition.kind==="FragmentDefinition"){fragments.push(definition)}}));if(typeof actualFragmentName==="undefined"){if(fragments.length!==1){throw new Error("Found "+fragments.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")}actualFragmentName=fragments[0].name.value}var query=__assign$1({},document,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:actualFragmentName}}]}}].concat(document.definitions)});return query}function assign(target){var sources=[];for(var _i=1;_i<arguments.length;_i++){sources[_i-1]=arguments[_i]}sources.forEach((function(source){if(typeof source==="undefined"||source===null){return}Object.keys(source).forEach((function(key){target[key]=source[key]}))}));return target}function getMutationDefinition(doc){checkDocument(doc);var mutationDef=doc.definitions.filter((function(definition){return definition.kind==="OperationDefinition"&&definition.operation==="mutation"}))[0];if(!mutationDef){throw new Error("Must contain a mutation definition.")}return mutationDef}function checkDocument(doc){if(doc.kind!=="Document"){throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql')}var operations=doc.definitions.filter((function(d){return d.kind!=="FragmentDefinition"})).map((function(definition){if(definition.kind!=="OperationDefinition"){throw new Error('Schema type definitions not allowed in queries. Found: "'+definition.kind+'"')}return definition}));if(operations.length>1){throw new Error("Ambiguous GraphQL document: contains "+operations.length+" operations")}}function getOperationDefinition(doc){checkDocument(doc);return doc.definitions.filter((function(definition){return definition.kind==="OperationDefinition"}))[0]}function getOperationDefinitionOrDie(document){var def=getOperationDefinition(document);if(!def){throw new Error("GraphQL document is missing an operation")}return def}function getOperationName(doc){return doc.definitions.filter((function(definition){return definition.kind==="OperationDefinition"&&definition.name})).map((function(x){return x.name.value}))[0]||null}function getFragmentDefinitions(doc){return doc.definitions.filter((function(definition){return definition.kind==="FragmentDefinition"}))}function getQueryDefinition(doc){var queryDef=getOperationDefinition(doc);if(!queryDef||queryDef.operation!=="query"){throw new Error("Must contain a query definition.")}return queryDef}function getFragmentDefinition(doc){if(doc.kind!=="Document"){throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql')}if(doc.definitions.length>1){throw new Error("Fragment must have exactly one definition.")}var fragmentDef=doc.definitions[0];if(fragmentDef.kind!=="FragmentDefinition"){throw new Error("Must be a fragment definition.")}return fragmentDef}function getMainDefinition(queryDoc){checkDocument(queryDoc);var fragmentDefinition;for(var _i=0,_a=queryDoc.definitions;_i<_a.length;_i++){var definition=_a[_i];if(definition.kind==="OperationDefinition"){var operation=definition.operation;if(operation==="query"||operation==="mutation"||operation==="subscription"){return definition}}if(definition.kind==="FragmentDefinition"&&!fragmentDefinition){fragmentDefinition=definition}}if(fragmentDefinition){return fragmentDefinition}throw new Error("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function createFragmentMap(fragments){if(fragments===void 0){fragments=[]}var symTable={};fragments.forEach((function(fragment){symTable[fragment.name.value]=fragment}));return symTable}function getDefaultValues(definition){if(definition&&definition.variableDefinitions&&definition.variableDefinitions.length){var defaultValues=definition.variableDefinitions.filter((function(_a){var defaultValue=_a.defaultValue;return defaultValue})).map((function(_a){var variable=_a.variable,defaultValue=_a.defaultValue;var defaultValueObj={};valueToObjectRepresentation(defaultValueObj,variable.name,defaultValue);return defaultValueObj}));return assign.apply(void 0,[{}].concat(defaultValues))}return{}}function variablesInOperation(operation){var names=new Set;if(operation.variableDefinitions){for(var _i=0,_a=operation.variableDefinitions;_i<_a.length;_i++){var definition=_a[_i];names.add(definition.variable.name.value)}}return names}function cloneDeep(value){if(Array.isArray(value)){return value.map((function(item){return cloneDeep(item)}))}if(value!==null&&typeof value==="object"){var nextValue={};for(var key in value){if(value.hasOwnProperty(key)){nextValue[key]=cloneDeep(value[key])}}return nextValue}return value}var TYPENAME_FIELD={kind:"Field",name:{kind:"Name",value:"__typename"}};function isNotEmpty(op,fragments){return op.selectionSet.selections.filter((function(selectionSet){return!(selectionSet&&selectionSet.kind==="FragmentSpread"&&!isNotEmpty(fragments[selectionSet.name.value],fragments))})).length>0}function getDirectiveMatcher(directives){return function directiveMatcher(directive){return directives.some((function(dir){if(dir.name&&dir.name===directive.name.value)return true;if(dir.test&&dir.test(directive))return true;return false}))}}function addTypenameToSelectionSet(selectionSet,isRoot){if(isRoot===void 0){isRoot=false}if(selectionSet.selections){if(!isRoot){var alreadyHasThisField=selectionSet.selections.some((function(selection){return selection.kind==="Field"&&selection.name.value==="__typename"}));if(!alreadyHasThisField){selectionSet.selections.push(TYPENAME_FIELD)}}selectionSet.selections.forEach((function(selection){if(selection.kind==="Field"){if(selection.name.value.lastIndexOf("__",0)!==0&&selection.selectionSet){addTypenameToSelectionSet(selection.selectionSet)}}else if(selection.kind==="InlineFragment"){if(selection.selectionSet){addTypenameToSelectionSet(selection.selectionSet)}}}))}}function removeDirectivesFromSelectionSet(directives,selectionSet){if(!selectionSet.selections)return selectionSet;var agressiveRemove=directives.some((function(dir){return dir.remove}));selectionSet.selections=selectionSet.selections.map((function(selection){if(selection.kind!=="Field"||!selection||!selection.directives)return selection;var directiveMatcher=getDirectiveMatcher(directives);var remove;selection.directives=selection.directives.filter((function(directive){var shouldKeep=!directiveMatcher(directive);if(!remove&&!shouldKeep&&agressiveRemove)remove=true;return shouldKeep}));return remove?null:selection})).filter((function(x){return!!x}));selectionSet.selections.forEach((function(selection){if((selection.kind==="Field"||selection.kind==="InlineFragment")&&selection.selectionSet){removeDirectivesFromSelectionSet(directives,selection.selectionSet)}}));return selectionSet}function removeDirectivesFromDocument(directives,doc){var docClone=cloneDeep(doc);docClone.definitions.forEach((function(definition){removeDirectivesFromSelectionSet(directives,definition.selectionSet)}));var operation=getOperationDefinitionOrDie(docClone);var fragments=createFragmentMap(getFragmentDefinitions(docClone));return isNotEmpty(operation,fragments)?docClone:null}function addTypenameToDocument(doc){checkDocument(doc);var docClone=cloneDeep(doc);docClone.definitions.forEach((function(definition){var isRoot=definition.kind==="OperationDefinition";addTypenameToSelectionSet(definition.selectionSet,isRoot)}));return docClone}var connectionRemoveConfig={test:function(directive){var willRemove=directive.name.value==="connection";if(willRemove){if(!directive.arguments||!directive.arguments.some((function(arg){return arg.name.value==="key"}))){console.warn("Removing an @connection directive even though it does not have a key. "+"You may want to use the key parameter to specify a store key.")}}return willRemove}};function removeConnectionDirectiveFromDocument(doc){checkDocument(doc);return removeDirectivesFromDocument([connectionRemoveConfig],doc)}function hasDirectivesInSelectionSet(directives,selectionSet,nestedCheck){if(nestedCheck===void 0){nestedCheck=true}if(!(selectionSet&&selectionSet.selections)){return false}var matchedSelections=selectionSet.selections.filter((function(selection){return hasDirectivesInSelection(directives,selection,nestedCheck)}));return matchedSelections.length>0}function hasDirectivesInSelection(directives,selection,nestedCheck){if(nestedCheck===void 0){nestedCheck=true}if(selection.kind!=="Field"||!selection){return true}if(!selection.directives){return false}var directiveMatcher=getDirectiveMatcher(directives);var matchedDirectives=selection.directives.filter(directiveMatcher);return matchedDirectives.length>0||nestedCheck&&hasDirectivesInSelectionSet(directives,selection.selectionSet,nestedCheck)}function getDirectivesFromSelectionSet(directives,selectionSet){selectionSet.selections=selectionSet.selections.filter((function(selection){return hasDirectivesInSelection(directives,selection,true)})).map((function(selection){if(hasDirectivesInSelection(directives,selection,false)){return selection}if((selection.kind==="Field"||selection.kind==="InlineFragment")&&selection.selectionSet){selection.selectionSet=getDirectivesFromSelectionSet(directives,selection.selectionSet)}return selection}));return selectionSet}function getDirectivesFromDocument(directives,doc,includeAllFragments){if(includeAllFragments===void 0){includeAllFragments=false}checkDocument(doc);var docClone=cloneDeep(doc);docClone.definitions=docClone.definitions.map((function(definition){if((definition.kind==="OperationDefinition"||definition.kind==="FragmentDefinition"&&!includeAllFragments)&&definition.selectionSet){definition.selectionSet=getDirectivesFromSelectionSet(directives,definition.selectionSet)}return definition}));var operation=getOperationDefinitionOrDie(docClone);var fragments=createFragmentMap(getFragmentDefinitions(docClone));return isNotEmpty(operation,fragments)?docClone:null}function getEnv(){if(typeof process!=="undefined"&&"production"){return"production"}return"development"}function isEnv(env){return getEnv()===env}function isProduction(){return isEnv("production")===true}function isDevelopment(){return isEnv("development")===true}function isTest(){return isEnv("test")===true}function tryFunctionOrLogError(f){try{return f()}catch(e){if(console.error){console.error(e)}}}function graphQLResultHasError(result){return result.errors&&result.errors.length}function isEqual(a,b){if(a===b){return true}if(a instanceof Date&&b instanceof Date){return a.getTime()===b.getTime()}if(a!=null&&typeof a==="object"&&b!=null&&typeof b==="object"){for(var key in a){if(Object.prototype.hasOwnProperty.call(a,key)){if(!Object.prototype.hasOwnProperty.call(b,key)){return false}if(!isEqual(a[key],b[key])){return false}}}for(var key in b){if(!Object.prototype.hasOwnProperty.call(a,key)){return false}}return true}return false}function deepFreeze(o){Object.freeze(o);Object.getOwnPropertyNames(o).forEach((function(prop){if(o[prop]!==null&&(typeof o[prop]==="object"||typeof o[prop]==="function")&&!Object.isFrozen(o[prop])){deepFreeze(o[prop])}}));return o}function maybeDeepFreeze(obj){if(isDevelopment()||isTest()){var symbolIsPolyfilled=typeof Symbol==="function"&&typeof Symbol("")==="string";if(!symbolIsPolyfilled){return deepFreeze(obj)}}return obj}var haveWarned=Object.create({});function warnOnceInDevelopment(msg,type){if(type===void 0){type="warn"}if(isProduction()){return}if(!haveWarned[msg]){if(!isTest()){haveWarned[msg]=true}switch(type){case"error":console.error(msg);break;default:console.warn(msg)}}}function stripSymbols(data){return JSON.parse(JSON.stringify(data))}exports.getDirectiveInfoFromField=getDirectiveInfoFromField;exports.shouldInclude=shouldInclude;exports.flattenSelections=flattenSelections;exports.getDirectiveNames=getDirectiveNames;exports.hasDirectives=hasDirectives;exports.getFragmentQueryDocument=getFragmentQueryDocument;exports.getMutationDefinition=getMutationDefinition;exports.checkDocument=checkDocument;exports.getOperationDefinition=getOperationDefinition;exports.getOperationDefinitionOrDie=getOperationDefinitionOrDie;exports.getOperationName=getOperationName;exports.getFragmentDefinitions=getFragmentDefinitions;exports.getQueryDefinition=getQueryDefinition;exports.getFragmentDefinition=getFragmentDefinition;exports.getMainDefinition=getMainDefinition;exports.createFragmentMap=createFragmentMap;exports.getDefaultValues=getDefaultValues;exports.variablesInOperation=variablesInOperation;exports.removeDirectivesFromDocument=removeDirectivesFromDocument;exports.addTypenameToDocument=addTypenameToDocument;exports.removeConnectionDirectiveFromDocument=removeConnectionDirectiveFromDocument;exports.getDirectivesFromDocument=getDirectivesFromDocument;exports.isScalarValue=isScalarValue;exports.isNumberValue=isNumberValue;exports.valueToObjectRepresentation=valueToObjectRepresentation;exports.storeKeyNameFromField=storeKeyNameFromField;exports.getStoreKeyName=getStoreKeyName;exports.argumentsObjectFromField=argumentsObjectFromField;exports.resultKeyNameFromField=resultKeyNameFromField;exports.isField=isField;exports.isInlineFragment=isInlineFragment;exports.isIdValue=isIdValue;exports.toIdValue=toIdValue;exports.isJsonValue=isJsonValue;exports.valueFromNode=valueFromNode;exports.assign=assign;exports.cloneDeep=cloneDeep;exports.getEnv=getEnv;exports.isEnv=isEnv;exports.isProduction=isProduction;exports.isDevelopment=isDevelopment;exports.isTest=isTest;exports.tryFunctionOrLogError=tryFunctionOrLogError;exports.graphQLResultHasError=graphQLResultHasError;exports.isEqual=isEqual;exports.maybeDeepFreeze=maybeDeepFreeze;exports.warnOnceInDevelopment=warnOnceInDevelopment;exports.stripSymbols=stripSymbols;Object.defineProperty(exports,"__esModule",{value:true})}))}).call(this,__webpack_require__(219))},804:function(module,exports,__webpack_require__){"use strict";module.exports=function(data,opts){if(!opts)opts={};if(typeof opts==="function")opts={cmp:opts};var cycles=typeof opts.cycles==="boolean"?opts.cycles:false;var cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]};var bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp);var seen=[];return function stringify(node){if(node&&node.toJSON&&typeof node.toJSON==="function"){node=node.toJSON()}if(node===undefined)return;if(typeof node=="number")return isFinite(node)?""+node:"null";if(typeof node!=="object")return JSON.stringify(node);var i,out;if(Array.isArray(node)){out="[";for(i=0;i<node.length;i++){if(i)out+=",";out+=stringify(node[i])||"null"}return out+"]"}if(node===null)return"null";if(seen.indexOf(node)!==-1){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var seenIndex=seen.push(node)-1;var keys=Object.keys(node).sort(cmp&&cmp(node));out="";for(i=0;i<keys.length;i++){var key=keys[i];var value=stringify(node[key]);if(!value)continue;if(out)out+=",";out+=JSON.stringify(key)+":"+value}seen.splice(seenIndex,1);return"{"+out+"}"}(data)}},805:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.print=print;var _visitor=__webpack_require__(806);function print(ast){return(0,_visitor.visit)(ast,{leave:printDocASTReducer})}var printDocASTReducer={Name:function Name(node){return node.value},Variable:function Variable(node){return"$"+node.name},Document:function Document(node){return join(node.definitions,"\n\n")+"\n"},OperationDefinition:function OperationDefinition(node){var op=node.operation;var name=node.name;var varDefs=wrap("(",join(node.variableDefinitions,", "),")");var directives=join(node.directives," ");var selectionSet=node.selectionSet;return!name&&!directives&&!varDefs&&op==="query"?selectionSet:join([op,join([name,varDefs]),directives,selectionSet]," ")},VariableDefinition:function VariableDefinition(_ref){var variable=_ref.variable,type=_ref.type,defaultValue=_ref.defaultValue;return variable+": "+type+wrap(" = ",defaultValue)},SelectionSet:function SelectionSet(_ref2){var selections=_ref2.selections;return block(selections)},Field:function Field(_ref3){var alias=_ref3.alias,name=_ref3.name,args=_ref3.arguments,directives=_ref3.directives,selectionSet=_ref3.selectionSet;return join([wrap("",alias,": ")+name+wrap("(",join(args,", "),")"),join(directives," "),selectionSet]," ")},Argument:function Argument(_ref4){var name=_ref4.name,value=_ref4.value;return name+": "+value},FragmentSpread:function FragmentSpread(_ref5){var name=_ref5.name,directives=_ref5.directives;return"..."+name+wrap(" ",join(directives," "))},InlineFragment:function InlineFragment(_ref6){var typeCondition=_ref6.typeCondition,directives=_ref6.directives,selectionSet=_ref6.selectionSet;return join(["...",wrap("on ",typeCondition),join(directives," "),selectionSet]," ")},FragmentDefinition:function FragmentDefinition(_ref7){var name=_ref7.name,typeCondition=_ref7.typeCondition,variableDefinitions=_ref7.variableDefinitions,directives=_ref7.directives,selectionSet=_ref7.selectionSet;return("fragment "+name+wrap("(",join(variableDefinitions,", "),")")+" "+("on "+typeCondition+" "+wrap("",join(directives," ")," "))+selectionSet)},IntValue:function IntValue(_ref8){var value=_ref8.value;return value},FloatValue:function FloatValue(_ref9){var value=_ref9.value;return value},StringValue:function StringValue(_ref10,key){var value=_ref10.value,isBlockString=_ref10.block;return isBlockString?printBlockString(value,key==="description"):JSON.stringify(value)},BooleanValue:function BooleanValue(_ref11){var value=_ref11.value;return value?"true":"false"},NullValue:function NullValue(){return"null"},EnumValue:function EnumValue(_ref12){var value=_ref12.value;return value},ListValue:function ListValue(_ref13){var values=_ref13.values;return"["+join(values,", ")+"]"},ObjectValue:function ObjectValue(_ref14){var fields=_ref14.fields;return"{"+join(fields,", ")+"}"},ObjectField:function ObjectField(_ref15){var name=_ref15.name,value=_ref15.value;return name+": "+value},Directive:function Directive(_ref16){var name=_ref16.name,args=_ref16.arguments;return"@"+name+wrap("(",join(args,", "),")")},NamedType:function NamedType(_ref17){var name=_ref17.name;return name},ListType:function ListType(_ref18){var type=_ref18.type;return"["+type+"]"},NonNullType:function NonNullType(_ref19){var type=_ref19.type;return type+"!"},SchemaDefinition:function SchemaDefinition(_ref20){var directives=_ref20.directives,operationTypes=_ref20.operationTypes;return join(["schema",join(directives," "),block(operationTypes)]," ")},OperationTypeDefinition:function OperationTypeDefinition(_ref21){var operation=_ref21.operation,type=_ref21.type;return operation+": "+type},ScalarTypeDefinition:addDescription((function(_ref22){var name=_ref22.name,directives=_ref22.directives;return join(["scalar",name,join(directives," ")]," ")})),ObjectTypeDefinition:addDescription((function(_ref23){var name=_ref23.name,interfaces=_ref23.interfaces,directives=_ref23.directives,fields=_ref23.fields;return join(["type",name,wrap("implements ",join(interfaces," & ")),join(directives," "),block(fields)]," ")})),FieldDefinition:addDescription((function(_ref24){var name=_ref24.name,args=_ref24.arguments,type=_ref24.type,directives=_ref24.directives;return name+wrap("(",join(args,", "),")")+": "+type+wrap(" ",join(directives," "))})),InputValueDefinition:addDescription((function(_ref25){var name=_ref25.name,type=_ref25.type,defaultValue=_ref25.defaultValue,directives=_ref25.directives;return join([name+": "+type,wrap("= ",defaultValue),join(directives," ")]," ")})),InterfaceTypeDefinition:addDescription((function(_ref26){var name=_ref26.name,directives=_ref26.directives,fields=_ref26.fields;return join(["interface",name,join(directives," "),block(fields)]," ")})),UnionTypeDefinition:addDescription((function(_ref27){var name=_ref27.name,directives=_ref27.directives,types=_ref27.types;return join(["union",name,join(directives," "),types&&types.length!==0?"= "+join(types," | "):""]," ")})),EnumTypeDefinition:addDescription((function(_ref28){var name=_ref28.name,directives=_ref28.directives,values=_ref28.values;return join(["enum",name,join(directives," "),block(values)]," ")})),EnumValueDefinition:addDescription((function(_ref29){var name=_ref29.name,directives=_ref29.directives;return join([name,join(directives," ")]," ")})),InputObjectTypeDefinition:addDescription((function(_ref30){var name=_ref30.name,directives=_ref30.directives,fields=_ref30.fields;return join(["input",name,join(directives," "),block(fields)]," ")})),ScalarTypeExtension:function ScalarTypeExtension(_ref31){var name=_ref31.name,directives=_ref31.directives;return join(["extend scalar",name,join(directives," ")]," ")},ObjectTypeExtension:function ObjectTypeExtension(_ref32){var name=_ref32.name,interfaces=_ref32.interfaces,directives=_ref32.directives,fields=_ref32.fields;return join(["extend type",name,wrap("implements ",join(interfaces," & ")),join(directives," "),block(fields)]," ")},InterfaceTypeExtension:function InterfaceTypeExtension(_ref33){var name=_ref33.name,directives=_ref33.directives,fields=_ref33.fields;return join(["extend interface",name,join(directives," "),block(fields)]," ")},UnionTypeExtension:function UnionTypeExtension(_ref34){var name=_ref34.name,directives=_ref34.directives,types=_ref34.types;return join(["extend union",name,join(directives," "),types&&types.length!==0?"= "+join(types," | "):""]," ")},EnumTypeExtension:function EnumTypeExtension(_ref35){var name=_ref35.name,directives=_ref35.directives,values=_ref35.values;return join(["extend enum",name,join(directives," "),block(values)]," ")},InputObjectTypeExtension:function InputObjectTypeExtension(_ref36){var name=_ref36.name,directives=_ref36.directives,fields=_ref36.fields;return join(["extend input",name,join(directives," "),block(fields)]," ")},DirectiveDefinition:addDescription((function(_ref37){var name=_ref37.name,args=_ref37.arguments,locations=_ref37.locations;return"directive @"+name+wrap("(",join(args,", "),")")+" on "+join(locations," | ")}))};function addDescription(cb){return function(node){return join([node.description,cb(node)],"\n")}}function join(maybeArray,separator){return maybeArray?maybeArray.filter((function(x){return x})).join(separator||""):""}function block(array){return array&&array.length!==0?"{\n"+indent(join(array,"\n"))+"\n}":""}function wrap(start,maybeString,end){return maybeString?start+maybeString+(end||""):""}function indent(maybeString){return maybeString&&"  "+maybeString.replace(/\n/g,"\n  ")}function printBlockString(value,isDescription){var escaped=value.replace(/"""/g,'\\"""');return(value[0]===" "||value[0]==="\t")&&value.indexOf("\n")===-1?'"""'+escaped.replace(/"$/,'"\n')+'"""':'"""\n'+(isDescription?escaped:indent(escaped))+'\n"""'}},806:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.visit=visit;exports.visitInParallel=visitInParallel;exports.visitWithTypeInfo=visitWithTypeInfo;exports.getVisitFn=getVisitFn;var QueryDocumentKeys=exports.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]};var BREAK=exports.BREAK={};function visit(root,visitor){var visitorKeys=arguments.length>2&&arguments[2]!==undefined?arguments[2]:QueryDocumentKeys;var stack=undefined;var inArray=Array.isArray(root);var keys=[root];var index=-1;var edits=[];var node=undefined;var key=undefined;var parent=undefined;var path=[];var ancestors=[];var newRoot=root;do{index++;var isLeaving=index===keys.length;var isEdited=isLeaving&&edits.length!==0;if(isLeaving){key=ancestors.length===0?undefined:path[path.length-1];node=parent;parent=ancestors.pop();if(isEdited){if(inArray){node=node.slice()}else{var clone={};for(var k in node){if(node.hasOwnProperty(k)){clone[k]=node[k]}}node=clone}var editOffset=0;for(var ii=0;ii<edits.length;ii++){var editKey=edits[ii][0];var editValue=edits[ii][1];if(inArray){editKey-=editOffset}if(inArray&&editValue===null){node.splice(editKey,1);editOffset++}else{node[editKey]=editValue}}}index=stack.index;keys=stack.keys;edits=stack.edits;inArray=stack.inArray;stack=stack.prev}else{key=parent?inArray?index:keys[index]:undefined;node=parent?parent[key]:newRoot;if(node===null||node===undefined){continue}if(parent){path.push(key)}}var result=void 0;if(!Array.isArray(node)){if(!isNode(node)){throw new Error("Invalid AST Node: "+JSON.stringify(node))}var visitFn=getVisitFn(visitor,node.kind,isLeaving);if(visitFn){result=visitFn.call(visitor,node,key,parent,path,ancestors);if(result===BREAK){break}if(result===false){if(!isLeaving){path.pop();continue}}else if(result!==undefined){edits.push([key,result]);if(!isLeaving){if(isNode(result)){node=result}else{path.pop();continue}}}}}if(result===undefined&&isEdited){edits.push([key,node])}if(isLeaving){path.pop()}else{stack={inArray:inArray,index:index,keys:keys,edits:edits,prev:stack};inArray=Array.isArray(node);keys=inArray?node:visitorKeys[node.kind]||[];index=-1;edits=[];if(parent){ancestors.push(parent)}parent=node}}while(stack!==undefined);if(edits.length!==0){newRoot=edits[edits.length-1][1]}return newRoot}function isNode(maybeNode){return Boolean(maybeNode&&typeof maybeNode.kind==="string")}function visitInParallel(visitors){var skipping=new Array(visitors.length);return{enter:function enter(node){for(var i=0;i<visitors.length;i++){if(!skipping[i]){var fn=getVisitFn(visitors[i],node.kind,false);if(fn){var result=fn.apply(visitors[i],arguments);if(result===false){skipping[i]=node}else if(result===BREAK){skipping[i]=BREAK}else if(result!==undefined){return result}}}}},leave:function leave(node){for(var i=0;i<visitors.length;i++){if(!skipping[i]){var fn=getVisitFn(visitors[i],node.kind,true);if(fn){var result=fn.apply(visitors[i],arguments);if(result===BREAK){skipping[i]=BREAK}else if(result!==undefined&&result!==false){return result}}}else if(skipping[i]===node){skipping[i]=null}}}}}function visitWithTypeInfo(typeInfo,visitor){return{enter:function enter(node){typeInfo.enter(node);var fn=getVisitFn(visitor,node.kind,false);if(fn){var result=fn.apply(visitor,arguments);if(result!==undefined){typeInfo.leave(node);if(isNode(result)){typeInfo.enter(result)}}return result}},leave:function leave(node){var fn=getVisitFn(visitor,node.kind,true);var result=void 0;if(fn){result=fn.apply(visitor,arguments)}typeInfo.leave(node);return result}}}function getVisitFn(visitor,kind,isLeaving){var kindVisitor=visitor[kind];if(kindVisitor){if(!isLeaving&&typeof kindVisitor==="function"){return kindVisitor}var kindSpecificVisitor=isLeaving?kindVisitor.leave:kindVisitor.enter;if(typeof kindSpecificVisitor==="function"){return kindSpecificVisitor}}else{var specificVisitor=isLeaving?visitor.leave:visitor.enter;if(specificVisitor){if(typeof specificVisitor==="function"){return specificVisitor}var specificKindVisitor=specificVisitor[kind];if(typeof specificKindVisitor==="function"){return specificKindVisitor}}}}},864:function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(764),__webpack_require__(866),__webpack_require__(765),__webpack_require__(805),__webpack_require__(1009)):undefined})(this,(function(exports,apolloLink,$$observable,apolloUtilities,printer,apolloLinkDedup){"use strict";$$observable=$$observable&&$$observable.hasOwnProperty("default")?$$observable["default"]:$$observable;(function(NetworkStatus){NetworkStatus[NetworkStatus["loading"]=1]="loading";NetworkStatus[NetworkStatus["setVariables"]=2]="setVariables";NetworkStatus[NetworkStatus["fetchMore"]=3]="fetchMore";NetworkStatus[NetworkStatus["refetch"]=4]="refetch";NetworkStatus[NetworkStatus["poll"]=6]="poll";NetworkStatus[NetworkStatus["ready"]=7]="ready";NetworkStatus[NetworkStatus["error"]=8]="error"})(exports.NetworkStatus||(exports.NetworkStatus={}));function isNetworkRequestInFlight(networkStatus){return networkStatus<7}var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var Observable=function(_super){__extends(Observable,_super);function Observable(){return _super!==null&&_super.apply(this,arguments)||this}Observable.prototype[$$observable]=function(){return this};Observable.prototype["@@observable"]=function(){return this};return Observable}(apolloLink.Observable);var __extends$1=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();function isApolloError(err){return err.hasOwnProperty("graphQLErrors")}var generateErrorMessage=function(err){var message="";if(Array.isArray(err.graphQLErrors)&&err.graphQLErrors.length!==0){err.graphQLErrors.forEach((function(graphQLError){var errorMessage=graphQLError?graphQLError.message:"Error message not found.";message+="GraphQL error: "+errorMessage+"\n"}))}if(err.networkError){message+="Network error: "+err.networkError.message+"\n"}message=message.replace(/\n$/,"");return message};var ApolloError=function(_super){__extends$1(ApolloError,_super);function ApolloError(_a){var graphQLErrors=_a.graphQLErrors,networkError=_a.networkError,errorMessage=_a.errorMessage,extraInfo=_a.extraInfo;var _this=_super.call(this,errorMessage)||this;_this.graphQLErrors=graphQLErrors||[];_this.networkError=networkError||null;if(!errorMessage){_this.message=generateErrorMessage(_this)}else{_this.message=errorMessage}_this.extraInfo=extraInfo;_this.__proto__=ApolloError.prototype;return _this}return ApolloError}(Error);(function(FetchType){FetchType[FetchType["normal"]=1]="normal";FetchType[FetchType["refetch"]=2]="refetch";FetchType[FetchType["poll"]=3]="poll"})(exports.FetchType||(exports.FetchType={}));var __extends$2=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var hasError=function(storeValue,policy){if(policy===void 0){policy="none"}return storeValue&&(storeValue.graphQLErrors&&storeValue.graphQLErrors.length>0&&policy==="none"||storeValue.networkError)};var ObservableQuery=function(_super){__extends$2(ObservableQuery,_super);function ObservableQuery(_a){var scheduler=_a.scheduler,options=_a.options,_b=_a.shouldSubscribe,shouldSubscribe=_b===void 0?true:_b;var _this=_super.call(this,(function(observer){return _this.onSubscribe(observer)}))||this;_this.isCurrentlyPolling=false;_this.isTornDown=false;_this.options=options;_this.variables=options.variables||{};_this.queryId=scheduler.queryManager.generateQueryId();_this.shouldSubscribe=shouldSubscribe;_this.scheduler=scheduler;_this.queryManager=scheduler.queryManager;_this.observers=[];_this.subscriptionHandles=[];return _this}ObservableQuery.prototype.result=function(){var that=this;return new Promise((function(resolve,reject){var subscription;var observer={next:function(result){resolve(result);if(!that.observers.some((function(obs){return obs!==observer}))){that.queryManager.removeQuery(that.queryId)}setTimeout((function(){subscription.unsubscribe()}),0)},error:function(error){reject(error)}};subscription=that.subscribe(observer)}))};ObservableQuery.prototype.currentResult=function(){if(this.isTornDown){return{data:this.lastError?{}:this.lastResult?this.lastResult.data:{},error:this.lastError,loading:false,networkStatus:exports.NetworkStatus.error}}var queryStoreValue=this.queryManager.queryStore.get(this.queryId);if(hasError(queryStoreValue,this.options.errorPolicy)){return{data:{},loading:false,networkStatus:queryStoreValue.networkStatus,error:new ApolloError({graphQLErrors:queryStoreValue.graphQLErrors,networkError:queryStoreValue.networkError})}}var _a=this.queryManager.getCurrentQueryResult(this),data=_a.data,partial=_a.partial;var queryLoading=!queryStoreValue||queryStoreValue.networkStatus===exports.NetworkStatus.loading;var loading=this.options.fetchPolicy==="network-only"&&queryLoading||partial&&this.options.fetchPolicy!=="cache-only";var networkStatus;if(queryStoreValue){networkStatus=queryStoreValue.networkStatus}else{networkStatus=loading?exports.NetworkStatus.loading:exports.NetworkStatus.ready}var result={data:data,loading:isNetworkRequestInFlight(networkStatus),networkStatus:networkStatus};if(queryStoreValue&&queryStoreValue.graphQLErrors&&this.options.errorPolicy==="all"){result.errors=queryStoreValue.graphQLErrors}if(!partial){var stale=false;this.lastResult=__assign({},result,{stale:stale})}return __assign({},result,{partial:partial})};ObservableQuery.prototype.getLastResult=function(){return this.lastResult};ObservableQuery.prototype.getLastError=function(){return this.lastError};ObservableQuery.prototype.resetLastResults=function(){delete this.lastResult;delete this.lastError;this.isTornDown=false};ObservableQuery.prototype.refetch=function(variables){var fetchPolicy=this.options.fetchPolicy;if(fetchPolicy==="cache-only"){return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."))}if(!apolloUtilities.isEqual(this.variables,variables)){this.variables=Object.assign({},this.variables,variables)}if(!apolloUtilities.isEqual(this.options.variables,this.variables)){this.options.variables=Object.assign({},this.options.variables,this.variables)}var isNetworkFetchPolicy=fetchPolicy==="network-only"||fetchPolicy==="no-cache";var combinedOptions=__assign({},this.options,{fetchPolicy:isNetworkFetchPolicy?fetchPolicy:"network-only"});return this.queryManager.fetchQuery(this.queryId,combinedOptions,exports.FetchType.refetch).then((function(result){return apolloUtilities.maybeDeepFreeze(result)}))};ObservableQuery.prototype.fetchMore=function(fetchMoreOptions){var _this=this;if(!fetchMoreOptions.updateQuery){throw new Error("updateQuery option is required. This function defines how to update the query data with the new results.")}var combinedOptions;return Promise.resolve().then((function(){var qid=_this.queryManager.generateQueryId();if(fetchMoreOptions.query){combinedOptions=fetchMoreOptions}else{combinedOptions=__assign({},_this.options,fetchMoreOptions,{variables:Object.assign({},_this.variables,fetchMoreOptions.variables)})}combinedOptions.fetchPolicy="network-only";return _this.queryManager.fetchQuery(qid,combinedOptions,exports.FetchType.normal,_this.queryId)})).then((function(fetchMoreResult){_this.updateQuery((function(previousResult){return fetchMoreOptions.updateQuery(previousResult,{fetchMoreResult:fetchMoreResult.data,variables:combinedOptions.variables})}));return fetchMoreResult}))};ObservableQuery.prototype.subscribeToMore=function(options){var _this=this;var subscription=this.queryManager.startGraphQLSubscription({query:options.document,variables:options.variables}).subscribe({next:function(subscriptionData){if(options.updateQuery){_this.updateQuery((function(previous,_a){var variables=_a.variables;return options.updateQuery(previous,{subscriptionData:subscriptionData,variables:variables})}))}},error:function(err){if(options.onError){options.onError(err);return}console.error("Unhandled GraphQL subscription error",err)}});this.subscriptionHandles.push(subscription);return function(){var i=_this.subscriptionHandles.indexOf(subscription);if(i>=0){_this.subscriptionHandles.splice(i,1);subscription.unsubscribe()}}};ObservableQuery.prototype.setOptions=function(opts){var oldOptions=this.options;this.options=Object.assign({},this.options,opts);if(opts.pollInterval){this.startPolling(opts.pollInterval)}else if(opts.pollInterval===0){this.stopPolling()}var tryFetch=oldOptions.fetchPolicy!=="network-only"&&opts.fetchPolicy==="network-only"||oldOptions.fetchPolicy==="cache-only"&&opts.fetchPolicy!=="cache-only"||oldOptions.fetchPolicy==="standby"&&opts.fetchPolicy!=="standby"||false;return this.setVariables(this.options.variables,tryFetch,opts.fetchResults)};ObservableQuery.prototype.setVariables=function(variables,tryFetch,fetchResults){if(tryFetch===void 0){tryFetch=false}if(fetchResults===void 0){fetchResults=true}this.isTornDown=false;var newVariables=variables?variables:this.variables;if(apolloUtilities.isEqual(newVariables,this.variables)&&!tryFetch){if(this.observers.length===0||!fetchResults){return new Promise((function(resolve){return resolve()}))}return this.result()}else{this.variables=newVariables;this.options.variables=newVariables;if(this.observers.length===0){return new Promise((function(resolve){return resolve()}))}return this.queryManager.fetchQuery(this.queryId,__assign({},this.options,{variables:this.variables})).then((function(result){return apolloUtilities.maybeDeepFreeze(result)}))}};ObservableQuery.prototype.updateQuery=function(mapFn){var _a=this.queryManager.getQueryWithPreviousResult(this.queryId),previousResult=_a.previousResult,variables=_a.variables,document=_a.document;var newResult=apolloUtilities.tryFunctionOrLogError((function(){return mapFn(previousResult,{variables:variables})}));if(newResult){this.queryManager.dataStore.markUpdateQueryResult(document,variables,newResult);this.queryManager.broadcastQueries()}};ObservableQuery.prototype.stopPolling=function(){if(this.isCurrentlyPolling){this.scheduler.stopPollingQuery(this.queryId);this.options.pollInterval=undefined;this.isCurrentlyPolling=false}};ObservableQuery.prototype.startPolling=function(pollInterval){if(this.options.fetchPolicy==="cache-first"||this.options.fetchPolicy==="cache-only"){throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}if(this.isCurrentlyPolling){this.scheduler.stopPollingQuery(this.queryId);this.isCurrentlyPolling=false}this.options.pollInterval=pollInterval;this.isCurrentlyPolling=true;this.scheduler.startPollingQuery(this.options,this.queryId)};ObservableQuery.prototype.onSubscribe=function(observer){var _this=this;if(observer._subscription&&observer._subscription._observer&&!observer._subscription._observer.error){observer._subscription._observer.error=function(error){console.error("Unhandled error",error.message,error.stack)}}this.observers.push(observer);if(observer.next&&this.lastResult)observer.next(this.lastResult);if(observer.error&&this.lastError)observer.error(this.lastError);if(this.observers.length===1)this.setUpQuery();return function(){_this.observers=_this.observers.filter((function(obs){return obs!==observer}));if(_this.observers.length===0){_this.tearDownQuery()}}};ObservableQuery.prototype.setUpQuery=function(){var _this=this;if(this.shouldSubscribe){this.queryManager.addObservableQuery(this.queryId,this)}if(!!this.options.pollInterval){if(this.options.fetchPolicy==="cache-first"||this.options.fetchPolicy==="cache-only"){throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}this.isCurrentlyPolling=true;this.scheduler.startPollingQuery(this.options,this.queryId)}var observer={next:function(result){_this.lastResult=result;_this.observers.forEach((function(obs){return obs.next&&obs.next(result)}))},error:function(error){_this.lastError=error;_this.observers.forEach((function(obs){return obs.error&&obs.error(error)}))}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,observer))};ObservableQuery.prototype.tearDownQuery=function(){this.isTornDown=true;if(this.isCurrentlyPolling){this.scheduler.stopPollingQuery(this.queryId);this.isCurrentlyPolling=false}this.subscriptionHandles.forEach((function(sub){return sub.unsubscribe()}));this.subscriptionHandles=[];this.queryManager.removeObservableQuery(this.queryId);this.queryManager.stopQuery(this.queryId);this.observers=[]};return ObservableQuery}(Observable);var __assign$1=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var QueryScheduler=function(){function QueryScheduler(_a){var queryManager=_a.queryManager,ssrMode=_a.ssrMode;this.inFlightQueries={};this.registeredQueries={};this.intervalQueries={};this.pollingTimers={};this.ssrMode=false;this.queryManager=queryManager;this.ssrMode=ssrMode||false}QueryScheduler.prototype.checkInFlight=function(queryId){var query=this.queryManager.queryStore.get(queryId);return query&&query.networkStatus!==exports.NetworkStatus.ready&&query.networkStatus!==exports.NetworkStatus.error};QueryScheduler.prototype.fetchQuery=function(queryId,options,fetchType){var _this=this;return new Promise((function(resolve,reject){_this.queryManager.fetchQuery(queryId,options,fetchType).then((function(result){resolve(result)})).catch((function(error){reject(error)}))}))};QueryScheduler.prototype.startPollingQuery=function(options,queryId,listener){if(!options.pollInterval){throw new Error("Attempted to start a polling query without a polling interval.")}if(this.ssrMode)return queryId;this.registeredQueries[queryId]=options;if(listener){this.queryManager.addQueryListener(queryId,listener)}this.addQueryOnInterval(queryId,options);return queryId};QueryScheduler.prototype.stopPollingQuery=function(queryId){delete this.registeredQueries[queryId]};QueryScheduler.prototype.fetchQueriesOnInterval=function(interval){var _this=this;this.intervalQueries[interval]=this.intervalQueries[interval].filter((function(queryId){if(!(_this.registeredQueries.hasOwnProperty(queryId)&&_this.registeredQueries[queryId].pollInterval===interval)){return false}if(_this.checkInFlight(queryId)){return true}var queryOptions=_this.registeredQueries[queryId];var pollingOptions=__assign$1({},queryOptions);pollingOptions.fetchPolicy="network-only";_this.fetchQuery(queryId,pollingOptions,exports.FetchType.poll).catch((function(){}));return true}));if(this.intervalQueries[interval].length===0){clearInterval(this.pollingTimers[interval]);delete this.intervalQueries[interval]}};QueryScheduler.prototype.addQueryOnInterval=function(queryId,queryOptions){var _this=this;var interval=queryOptions.pollInterval;if(!interval){throw new Error("A poll interval is required to start polling query with id '"+queryId+"'.")}if(this.intervalQueries.hasOwnProperty(interval.toString())&&this.intervalQueries[interval].length>0){this.intervalQueries[interval].push(queryId)}else{this.intervalQueries[interval]=[queryId];this.pollingTimers[interval]=setInterval((function(){_this.fetchQueriesOnInterval(interval)}),interval)}};QueryScheduler.prototype.registerPollingQuery=function(queryOptions){if(!queryOptions.pollInterval){throw new Error("Attempted to register a non-polling query with the scheduler.")}return new ObservableQuery({scheduler:this,options:queryOptions})};return QueryScheduler}();var MutationStore=function(){function MutationStore(){this.store={}}MutationStore.prototype.getStore=function(){return this.store};MutationStore.prototype.get=function(mutationId){return this.store[mutationId]};MutationStore.prototype.initMutation=function(mutationId,mutationString,variables){this.store[mutationId]={mutationString:mutationString,variables:variables||{},loading:true,error:null}};MutationStore.prototype.markMutationError=function(mutationId,error){var mutation=this.store[mutationId];if(!mutation){return}mutation.loading=false;mutation.error=error};MutationStore.prototype.markMutationResult=function(mutationId){var mutation=this.store[mutationId];if(!mutation){return}mutation.loading=false;mutation.error=null};MutationStore.prototype.reset=function(){this.store={}};return MutationStore}();var __assign$2=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var QueryStore=function(){function QueryStore(){this.store={}}QueryStore.prototype.getStore=function(){return this.store};QueryStore.prototype.get=function(queryId){return this.store[queryId]};QueryStore.prototype.initQuery=function(query){var previousQuery=this.store[query.queryId];if(previousQuery&&previousQuery.document!==query.document&&printer.print(previousQuery.document)!==printer.print(query.document)){throw new Error("Internal Error: may not update existing query string in store")}var isSetVariables=false;var previousVariables=null;if(query.storePreviousVariables&&previousQuery&&previousQuery.networkStatus!==exports.NetworkStatus.loading){if(!apolloUtilities.isEqual(previousQuery.variables,query.variables)){isSetVariables=true;previousVariables=previousQuery.variables}}var networkStatus;if(isSetVariables){networkStatus=exports.NetworkStatus.setVariables}else if(query.isPoll){networkStatus=exports.NetworkStatus.poll}else if(query.isRefetch){networkStatus=exports.NetworkStatus.refetch}else{networkStatus=exports.NetworkStatus.loading}var graphQLErrors=[];if(previousQuery&&previousQuery.graphQLErrors){graphQLErrors=previousQuery.graphQLErrors}this.store[query.queryId]={document:query.document,variables:query.variables,previousVariables:previousVariables,networkError:null,graphQLErrors:graphQLErrors,networkStatus:networkStatus,metadata:query.metadata};if(typeof query.fetchMoreForQueryId==="string"&&this.store[query.fetchMoreForQueryId]){this.store[query.fetchMoreForQueryId].networkStatus=exports.NetworkStatus.fetchMore}};QueryStore.prototype.markQueryResult=function(queryId,result,fetchMoreForQueryId){if(!this.store[queryId])return;this.store[queryId].networkError=null;this.store[queryId].graphQLErrors=result.errors&&result.errors.length?result.errors:[];this.store[queryId].previousVariables=null;this.store[queryId].networkStatus=exports.NetworkStatus.ready;if(typeof fetchMoreForQueryId==="string"&&this.store[fetchMoreForQueryId]){this.store[fetchMoreForQueryId].networkStatus=exports.NetworkStatus.ready}};QueryStore.prototype.markQueryError=function(queryId,error,fetchMoreForQueryId){if(!this.store[queryId])return;this.store[queryId].networkError=error;this.store[queryId].networkStatus=exports.NetworkStatus.error;if(typeof fetchMoreForQueryId==="string"){this.markQueryResultClient(fetchMoreForQueryId,true)}};QueryStore.prototype.markQueryResultClient=function(queryId,complete){if(!this.store[queryId])return;this.store[queryId].networkError=null;this.store[queryId].previousVariables=null;this.store[queryId].networkStatus=complete?exports.NetworkStatus.ready:exports.NetworkStatus.loading};QueryStore.prototype.stopQuery=function(queryId){delete this.store[queryId]};QueryStore.prototype.reset=function(observableQueryIds){var _this=this;this.store=Object.keys(this.store).filter((function(queryId){return observableQueryIds.indexOf(queryId)>-1})).reduce((function(res,key){res[key]=__assign$2({},_this.store[key],{networkStatus:exports.NetworkStatus.loading});return res}),{})};return QueryStore}();var __assign$3=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=undefined&&undefined.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var defaultQueryInfo={listeners:[],invalidated:false,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]};var QueryManager=function(){function QueryManager(_a){var link=_a.link,_b=_a.queryDeduplication,queryDeduplication=_b===void 0?false:_b,store=_a.store,_c=_a.onBroadcast,onBroadcast=_c===void 0?function(){return undefined}:_c,_d=_a.ssrMode,ssrMode=_d===void 0?false:_d;this.mutationStore=new MutationStore;this.queryStore=new QueryStore;this.idCounter=1;this.queries=new Map;this.fetchQueryPromises=new Map;this.queryIdsByName={};this.link=link;this.deduplicator=apolloLink.ApolloLink.from([new apolloLinkDedup.DedupLink,link]);this.queryDeduplication=queryDeduplication;this.dataStore=store;this.onBroadcast=onBroadcast;this.scheduler=new QueryScheduler({queryManager:this,ssrMode:ssrMode})}QueryManager.prototype.mutate=function(_a){var _this=this;var mutation=_a.mutation,variables=_a.variables,optimisticResponse=_a.optimisticResponse,updateQueriesByName=_a.updateQueries,_b=_a.refetchQueries,refetchQueries=_b===void 0?[]:_b,_c=_a.awaitRefetchQueries,awaitRefetchQueries=_c===void 0?false:_c,updateWithProxyFn=_a.update,_d=_a.errorPolicy,errorPolicy=_d===void 0?"none":_d,fetchPolicy=_a.fetchPolicy,_e=_a.context,context=_e===void 0?{}:_e;if(!mutation){throw new Error("mutation option is required. You must specify your GraphQL document in the mutation option.")}if(fetchPolicy&&fetchPolicy!=="no-cache"){throw new Error("fetchPolicy for mutations currently only supports the 'no-cache' policy")}var mutationId=this.generateQueryId();var cache=this.dataStore.getCache();mutation=cache.transformDocument(mutation),variables=apolloUtilities.assign({},apolloUtilities.getDefaultValues(apolloUtilities.getMutationDefinition(mutation)),variables);var mutationString=printer.print(mutation);this.setQuery(mutationId,(function(){return{document:mutation}}));var generateUpdateQueriesInfo=function(){var ret={};if(updateQueriesByName){Object.keys(updateQueriesByName).forEach((function(queryName){return(_this.queryIdsByName[queryName]||[]).forEach((function(queryId){ret[queryId]={updater:updateQueriesByName[queryName],query:_this.queryStore.get(queryId)}}))}))}return ret};this.mutationStore.initMutation(mutationId,mutationString,variables);this.dataStore.markMutationInit({mutationId:mutationId,document:mutation,variables:variables||{},updateQueries:generateUpdateQueriesInfo(),update:updateWithProxyFn,optimisticResponse:optimisticResponse});this.broadcastQueries();return new Promise((function(resolve,reject){var storeResult;var error;var operation=_this.buildOperationForLink(mutation,variables,__assign$3({},context,{optimisticResponse:optimisticResponse}));var completeMutation=function(){return __awaiter(_this,void 0,void 0,(function(){var refetchQueryPromises,_i,refetchQueries_1,refetchQuery,promise;return __generator(this,(function(_a){switch(_a.label){case 0:if(error){this.mutationStore.markMutationError(mutationId,error)}this.dataStore.markMutationComplete({mutationId:mutationId,optimisticResponse:optimisticResponse});this.broadcastQueries();if(error){throw error}if(typeof refetchQueries==="function"){refetchQueries=refetchQueries(storeResult)}refetchQueryPromises=[];for(_i=0,refetchQueries_1=refetchQueries;_i<refetchQueries_1.length;_i++){refetchQuery=refetchQueries_1[_i];if(typeof refetchQuery==="string"){promise=this.refetchQueryByName(refetchQuery);if(promise){refetchQueryPromises.push(promise)}continue}refetchQueryPromises.push(this.query({query:refetchQuery.query,variables:refetchQuery.variables,fetchPolicy:"network-only"}))}if(!awaitRefetchQueries)return[3,2];return[4,Promise.all(refetchQueryPromises)];case 1:_a.sent();_a.label=2;case 2:this.setQuery(mutationId,(function(){return{document:undefined}}));if(errorPolicy==="ignore"&&storeResult&&apolloUtilities.graphQLResultHasError(storeResult)){delete storeResult.errors}return[2,storeResult]}}))}))};apolloLink.execute(_this.link,operation).subscribe({next:function(result){if(apolloUtilities.graphQLResultHasError(result)&&errorPolicy==="none"){error=new ApolloError({graphQLErrors:result.errors});return}_this.mutationStore.markMutationResult(mutationId);if(fetchPolicy!=="no-cache"){_this.dataStore.markMutationResult({mutationId:mutationId,result:result,document:mutation,variables:variables||{},updateQueries:generateUpdateQueriesInfo(),update:updateWithProxyFn})}storeResult=result},error:function(err){_this.mutationStore.markMutationError(mutationId,err);_this.dataStore.markMutationComplete({mutationId:mutationId,optimisticResponse:optimisticResponse});_this.broadcastQueries();_this.setQuery(mutationId,(function(){return{document:undefined}}));reject(new ApolloError({networkError:err}))},complete:function(){return completeMutation().then(resolve,reject)}})}))};QueryManager.prototype.fetchQuery=function(queryId,options,fetchType,fetchMoreForQueryId){var _this=this;var _a=options.variables,variables=_a===void 0?{}:_a,_b=options.metadata,metadata=_b===void 0?null:_b,_c=options.fetchPolicy,fetchPolicy=_c===void 0?"cache-first":_c;var cache=this.dataStore.getCache();var query=cache.transformDocument(options.query);var storeResult;var needToFetch=fetchPolicy==="network-only"||fetchPolicy==="no-cache";if(fetchType!==exports.FetchType.refetch&&fetchPolicy!=="network-only"&&fetchPolicy!=="no-cache"){var _d=this.dataStore.getCache().diff({query:query,variables:variables,returnPartialData:true,optimistic:false}),complete=_d.complete,result=_d.result;needToFetch=!complete||fetchPolicy==="cache-and-network";storeResult=result}var shouldFetch=needToFetch&&fetchPolicy!=="cache-only"&&fetchPolicy!=="standby";if(apolloUtilities.hasDirectives(["live"],query))shouldFetch=true;var requestId=this.generateRequestId();var cancel=this.updateQueryWatch(queryId,query,options);this.setQuery(queryId,(function(){return{document:query,lastRequestId:requestId,invalidated:true,cancel:cancel}}));this.invalidate(true,fetchMoreForQueryId);this.queryStore.initQuery({queryId:queryId,document:query,storePreviousVariables:shouldFetch,variables:variables,isPoll:fetchType===exports.FetchType.poll,isRefetch:fetchType===exports.FetchType.refetch,metadata:metadata,fetchMoreForQueryId:fetchMoreForQueryId});this.broadcastQueries();var shouldDispatchClientResult=!shouldFetch||fetchPolicy==="cache-and-network";if(shouldDispatchClientResult){this.queryStore.markQueryResultClient(queryId,!shouldFetch);this.invalidate(true,queryId,fetchMoreForQueryId);this.broadcastQueries()}if(shouldFetch){var networkResult=this.fetchRequest({requestId:requestId,queryId:queryId,document:query,options:options,fetchMoreForQueryId:fetchMoreForQueryId}).catch((function(error){if(isApolloError(error)){throw error}else{var lastRequestId=_this.getQuery(queryId).lastRequestId;if(requestId>=(lastRequestId||1)){_this.queryStore.markQueryError(queryId,error,fetchMoreForQueryId);_this.invalidate(true,queryId,fetchMoreForQueryId);_this.broadcastQueries()}_this.removeFetchQueryPromise(requestId);throw new ApolloError({networkError:error})}}));if(fetchPolicy!=="cache-and-network"){return networkResult}else{networkResult.catch((function(){}))}}return Promise.resolve({data:storeResult})};QueryManager.prototype.queryListenerForObserver=function(queryId,options,observer){var _this=this;var previouslyHadError=false;return function(queryStoreValue,newData){_this.invalidate(false,queryId);if(!queryStoreValue)return;var observableQuery=_this.getQuery(queryId).observableQuery;var fetchPolicy=observableQuery?observableQuery.options.fetchPolicy:options.fetchPolicy;if(fetchPolicy==="standby")return;var errorPolicy=observableQuery?observableQuery.options.errorPolicy:options.errorPolicy;var lastResult=observableQuery?observableQuery.getLastResult():null;var lastError=observableQuery?observableQuery.getLastError():null;var shouldNotifyIfLoading=!newData&&queryStoreValue.previousVariables!=null||fetchPolicy==="cache-only"||fetchPolicy==="cache-and-network";var networkStatusChanged=Boolean(lastResult&&queryStoreValue.networkStatus!==lastResult.networkStatus);var errorStatusChanged=errorPolicy&&(lastError&&lastError.graphQLErrors)!==queryStoreValue.graphQLErrors&&errorPolicy!=="none";if(!isNetworkRequestInFlight(queryStoreValue.networkStatus)||networkStatusChanged&&options.notifyOnNetworkStatusChange||shouldNotifyIfLoading){if((!errorPolicy||errorPolicy==="none")&&queryStoreValue.graphQLErrors&&queryStoreValue.graphQLErrors.length>0||queryStoreValue.networkError){var apolloError_1=new ApolloError({graphQLErrors:queryStoreValue.graphQLErrors,networkError:queryStoreValue.networkError});previouslyHadError=true;if(observer.error){try{observer.error(apolloError_1)}catch(e){setTimeout((function(){throw e}),0)}}else{setTimeout((function(){throw apolloError_1}),0);if(!apolloUtilities.isProduction()){console.info("An unhandled error was thrown because no error handler is registered "+"for the query "+printer.print(queryStoreValue.document))}}return}try{var data=void 0;var isMissing=void 0;if(newData){if(fetchPolicy!=="no-cache"){_this.setQuery(queryId,(function(){return{newData:null}}))}data=newData.result;isMissing=!newData.complete||false}else{if(lastResult&&lastResult.data&&!errorStatusChanged){data=lastResult.data;isMissing=false}else{var document_1=_this.getQuery(queryId).document;var readResult=_this.dataStore.getCache().diff({query:document_1,variables:queryStoreValue.previousVariables||queryStoreValue.variables,optimistic:true});data=readResult.result;isMissing=!readResult.complete}}var resultFromStore=void 0;if(isMissing&&fetchPolicy!=="cache-only"){resultFromStore={data:lastResult&&lastResult.data,loading:isNetworkRequestInFlight(queryStoreValue.networkStatus),networkStatus:queryStoreValue.networkStatus,stale:true}}else{resultFromStore={data:data,loading:isNetworkRequestInFlight(queryStoreValue.networkStatus),networkStatus:queryStoreValue.networkStatus,stale:false}}if(errorPolicy==="all"&&queryStoreValue.graphQLErrors&&queryStoreValue.graphQLErrors.length>0){resultFromStore.errors=queryStoreValue.graphQLErrors}if(observer.next){var isDifferentResult=!(lastResult&&resultFromStore&&lastResult.networkStatus===resultFromStore.networkStatus&&lastResult.stale===resultFromStore.stale&&lastResult.data===resultFromStore.data);if(isDifferentResult||previouslyHadError){try{observer.next(apolloUtilities.maybeDeepFreeze(resultFromStore))}catch(e){setTimeout((function(){throw e}),0)}}}previouslyHadError=false}catch(error){previouslyHadError=true;if(observer.error)observer.error(new ApolloError({networkError:error}));return}}}};QueryManager.prototype.watchQuery=function(options,shouldSubscribe){if(shouldSubscribe===void 0){shouldSubscribe=true}if(options.fetchPolicy==="standby"){throw new Error('client.watchQuery cannot be called with fetchPolicy set to "standby"')}var queryDefinition=apolloUtilities.getQueryDefinition(options.query);if(queryDefinition.variableDefinitions&&queryDefinition.variableDefinitions.length){var defaultValues=apolloUtilities.getDefaultValues(queryDefinition);options.variables=apolloUtilities.assign({},defaultValues,options.variables)}if(typeof options.notifyOnNetworkStatusChange==="undefined"){options.notifyOnNetworkStatusChange=false}var transformedOptions=__assign$3({},options);return new ObservableQuery({scheduler:this.scheduler,options:transformedOptions,shouldSubscribe:shouldSubscribe})};QueryManager.prototype.query=function(options){var _this=this;if(!options.query){throw new Error("query option is required. You must specify your GraphQL document "+"in the query option.")}if(options.query.kind!=="Document"){throw new Error('You must wrap the query string in a "gql" tag.')}if(options.returnPartialData){throw new Error("returnPartialData option only supported on watchQuery.")}if(options.pollInterval){throw new Error("pollInterval option only supported on watchQuery.")}var requestId=this.idCounter;return new Promise((function(resolve,reject){_this.addFetchQueryPromise(requestId,resolve,reject);return _this.watchQuery(options,false).result().then((function(result){_this.removeFetchQueryPromise(requestId);resolve(result)})).catch((function(error){_this.removeFetchQueryPromise(requestId);reject(error)}))}))};QueryManager.prototype.generateQueryId=function(){var queryId=this.idCounter.toString();this.idCounter++;return queryId};QueryManager.prototype.stopQueryInStore=function(queryId){this.queryStore.stopQuery(queryId);this.invalidate(true,queryId);this.broadcastQueries()};QueryManager.prototype.addQueryListener=function(queryId,listener){this.setQuery(queryId,(function(_a){var _b=_a.listeners,listeners=_b===void 0?[]:_b;return{listeners:listeners.concat([listener]),invalidate:false}}))};QueryManager.prototype.updateQueryWatch=function(queryId,document,options){var _this=this;var cancel=this.getQuery(queryId).cancel;if(cancel)cancel();var previousResult=function(){var previousResult=null;var observableQuery=_this.getQuery(queryId).observableQuery;if(observableQuery){var lastResult=observableQuery.getLastResult();if(lastResult){previousResult=lastResult.data}}return previousResult};return this.dataStore.getCache().watch({query:document,variables:options.variables,optimistic:true,previousResult:previousResult,callback:function(newData){_this.setQuery(queryId,(function(){return{invalidated:true,newData:newData}}))}})};QueryManager.prototype.addFetchQueryPromise=function(requestId,resolve,reject){this.fetchQueryPromises.set(requestId.toString(),{resolve:resolve,reject:reject})};QueryManager.prototype.removeFetchQueryPromise=function(requestId){this.fetchQueryPromises.delete(requestId.toString())};QueryManager.prototype.addObservableQuery=function(queryId,observableQuery){this.setQuery(queryId,(function(){return{observableQuery:observableQuery}}));var queryDef=apolloUtilities.getQueryDefinition(observableQuery.options.query);if(queryDef.name&&queryDef.name.value){var queryName=queryDef.name.value;this.queryIdsByName[queryName]=this.queryIdsByName[queryName]||[];this.queryIdsByName[queryName].push(observableQuery.queryId)}};QueryManager.prototype.removeObservableQuery=function(queryId){var _a=this.getQuery(queryId),observableQuery=_a.observableQuery,cancel=_a.cancel;if(cancel)cancel();if(!observableQuery)return;var definition=apolloUtilities.getQueryDefinition(observableQuery.options.query);var queryName=definition.name?definition.name.value:null;this.setQuery(queryId,(function(){return{observableQuery:null}}));if(queryName){this.queryIdsByName[queryName]=this.queryIdsByName[queryName].filter((function(val){return!(observableQuery.queryId===val)}))}};QueryManager.prototype.clearStore=function(){this.fetchQueryPromises.forEach((function(_a){var reject=_a.reject;reject(new Error("Store reset while query was in flight(not completed in link chain)"))}));var resetIds=[];this.queries.forEach((function(_a,queryId){var observableQuery=_a.observableQuery;if(observableQuery)resetIds.push(queryId)}));this.queryStore.reset(resetIds);this.mutationStore.reset();var reset=this.dataStore.reset();return reset};QueryManager.prototype.resetStore=function(){var _this=this;return this.clearStore().then((function(){return _this.reFetchObservableQueries()}))};QueryManager.prototype.reFetchObservableQueries=function(includeStandby){var observableQueryPromises=this.getObservableQueryPromises(includeStandby);this.broadcastQueries();return Promise.all(observableQueryPromises)};QueryManager.prototype.startQuery=function(queryId,options,listener){this.addQueryListener(queryId,listener);this.fetchQuery(queryId,options).catch((function(){return undefined}));return queryId};QueryManager.prototype.startGraphQLSubscription=function(options){var _this=this;var query=options.query;var isCacheEnabled=!(options.fetchPolicy&&options.fetchPolicy==="no-cache");var cache=this.dataStore.getCache();var transformedDoc=cache.transformDocument(query);var variables=apolloUtilities.assign({},apolloUtilities.getDefaultValues(apolloUtilities.getOperationDefinition(query)),options.variables);var sub;var observers=[];return new Observable((function(observer){observers.push(observer);if(observers.length===1){var handler={next:function(result){if(isCacheEnabled){_this.dataStore.markSubscriptionResult(result,transformedDoc,variables);_this.broadcastQueries()}observers.forEach((function(obs){if(obs.next)obs.next(result)}))},error:function(error){observers.forEach((function(obs){if(obs.error)obs.error(error)}))}};var operation=_this.buildOperationForLink(transformedDoc,variables);sub=apolloLink.execute(_this.link,operation).subscribe(handler)}return function(){observers=observers.filter((function(obs){return obs!==observer}));if(observers.length===0&&sub){sub.unsubscribe()}}}))};QueryManager.prototype.stopQuery=function(queryId){this.stopQueryInStore(queryId);this.removeQuery(queryId)};QueryManager.prototype.removeQuery=function(queryId){var subscriptions=this.getQuery(queryId).subscriptions;subscriptions.forEach((function(x){return x.unsubscribe()}));this.queries.delete(queryId)};QueryManager.prototype.getCurrentQueryResult=function(observableQuery,optimistic){if(optimistic===void 0){optimistic=true}var _a=observableQuery.options,variables=_a.variables,query=_a.query;var lastResult=observableQuery.getLastResult();var newData=this.getQuery(observableQuery.queryId).newData;if(newData){return apolloUtilities.maybeDeepFreeze({data:newData.result,partial:false})}else{try{var data=this.dataStore.getCache().read({query:query,variables:variables,previousResult:lastResult?lastResult.data:undefined,optimistic:optimistic});return apolloUtilities.maybeDeepFreeze({data:data,partial:false})}catch(e){return apolloUtilities.maybeDeepFreeze({data:{},partial:true})}}};QueryManager.prototype.getQueryWithPreviousResult=function(queryIdOrObservable){var observableQuery;if(typeof queryIdOrObservable==="string"){var foundObserveableQuery=this.getQuery(queryIdOrObservable).observableQuery;if(!foundObserveableQuery){throw new Error("ObservableQuery with this id doesn't exist: "+queryIdOrObservable)}observableQuery=foundObserveableQuery}else{observableQuery=queryIdOrObservable}var _a=observableQuery.options,variables=_a.variables,query=_a.query;var data=this.getCurrentQueryResult(observableQuery,false).data;return{previousResult:data,variables:variables,document:query}};QueryManager.prototype.broadcastQueries=function(){var _this=this;this.onBroadcast();this.queries.forEach((function(info,id){if(!info.invalidated||!info.listeners)return;info.listeners.filter((function(x){return!!x})).forEach((function(listener){listener(_this.queryStore.get(id),info.newData)}))}))};QueryManager.prototype.getObservableQueryPromises=function(includeStandby){var _this=this;var observableQueryPromises=[];this.queries.forEach((function(_a,queryId){var observableQuery=_a.observableQuery;if(!observableQuery)return;var fetchPolicy=observableQuery.options.fetchPolicy;observableQuery.resetLastResults();if(fetchPolicy!=="cache-only"&&(includeStandby||fetchPolicy!=="standby")){observableQueryPromises.push(observableQuery.refetch())}_this.setQuery(queryId,(function(){return{newData:null}}));_this.invalidate(true,queryId)}));return observableQueryPromises};QueryManager.prototype.fetchRequest=function(_a){var _this=this;var requestId=_a.requestId,queryId=_a.queryId,document=_a.document,options=_a.options,fetchMoreForQueryId=_a.fetchMoreForQueryId;var variables=options.variables,context=options.context,_b=options.errorPolicy,errorPolicy=_b===void 0?"none":_b,fetchPolicy=options.fetchPolicy;var operation=this.buildOperationForLink(document,variables,__assign$3({},context,{forceFetch:!this.queryDeduplication}));var resultFromStore;var errorsFromStore;return new Promise((function(resolve,reject){_this.addFetchQueryPromise(requestId,resolve,reject);var subscription=apolloLink.execute(_this.deduplicator,operation).subscribe({next:function(result){var lastRequestId=_this.getQuery(queryId).lastRequestId;if(requestId>=(lastRequestId||1)){if(fetchPolicy!=="no-cache"){try{_this.dataStore.markQueryResult(result,document,variables,fetchMoreForQueryId,errorPolicy==="ignore"||errorPolicy==="all")}catch(e){reject(e);return}}else{_this.setQuery(queryId,(function(){return{newData:{result:result.data,complete:true}}}))}_this.queryStore.markQueryResult(queryId,result,fetchMoreForQueryId);_this.invalidate(true,queryId,fetchMoreForQueryId);_this.broadcastQueries()}if(result.errors&&errorPolicy==="none"){reject(new ApolloError({graphQLErrors:result.errors}));return}else if(errorPolicy==="all"){errorsFromStore=result.errors}if(fetchMoreForQueryId||fetchPolicy==="no-cache"){resultFromStore=result.data}else{try{resultFromStore=_this.dataStore.getCache().read({variables:variables,query:document,optimistic:false})}catch(e){}}},error:function(error){_this.removeFetchQueryPromise(requestId);_this.setQuery(queryId,(function(_a){var subscriptions=_a.subscriptions;return{subscriptions:subscriptions.filter((function(x){return x!==subscription}))}}));reject(error)},complete:function(){_this.removeFetchQueryPromise(requestId);_this.setQuery(queryId,(function(_a){var subscriptions=_a.subscriptions;return{subscriptions:subscriptions.filter((function(x){return x!==subscription}))}}));resolve({data:resultFromStore,errors:errorsFromStore,loading:false,networkStatus:exports.NetworkStatus.ready,stale:false})}});_this.setQuery(queryId,(function(_a){var subscriptions=_a.subscriptions;return{subscriptions:subscriptions.concat([subscription])}}))}))};QueryManager.prototype.refetchQueryByName=function(queryName){var _this=this;var refetchedQueries=this.queryIdsByName[queryName];if(refetchedQueries===undefined)return;return Promise.all(refetchedQueries.map((function(id){return _this.getQuery(id).observableQuery})).filter((function(x){return!!x})).map((function(x){return x.refetch()})))};QueryManager.prototype.generateRequestId=function(){var requestId=this.idCounter;this.idCounter++;return requestId};QueryManager.prototype.getQuery=function(queryId){return this.queries.get(queryId)||__assign$3({},defaultQueryInfo)};QueryManager.prototype.setQuery=function(queryId,updater){var prev=this.getQuery(queryId);var newInfo=__assign$3({},prev,updater(prev));this.queries.set(queryId,newInfo)};QueryManager.prototype.invalidate=function(invalidated,queryId,fetchMoreForQueryId){if(queryId)this.setQuery(queryId,(function(){return{invalidated:invalidated}}));if(fetchMoreForQueryId){this.setQuery(fetchMoreForQueryId,(function(){return{invalidated:invalidated}}))}};QueryManager.prototype.buildOperationForLink=function(document,variables,extraContext){var cache=this.dataStore.getCache();return{query:cache.transformForLink?cache.transformForLink(document):document,variables:variables,operationName:apolloUtilities.getOperationName(document)||undefined,context:__assign$3({},extraContext,{cache:cache,getCacheKey:function(obj){if(cache.config){return cache.config.dataIdFromObject(obj)}else{throw new Error("To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}}})}};return QueryManager}();var DataStore=function(){function DataStore(initialCache){this.cache=initialCache}DataStore.prototype.getCache=function(){return this.cache};DataStore.prototype.markQueryResult=function(result,document,variables,fetchMoreForQueryId,ignoreErrors){if(ignoreErrors===void 0){ignoreErrors=false}var writeWithErrors=!apolloUtilities.graphQLResultHasError(result);if(ignoreErrors&&apolloUtilities.graphQLResultHasError(result)&&result.data){writeWithErrors=true}if(!fetchMoreForQueryId&&writeWithErrors){this.cache.write({result:result.data,dataId:"ROOT_QUERY",query:document,variables:variables})}};DataStore.prototype.markSubscriptionResult=function(result,document,variables){if(!apolloUtilities.graphQLResultHasError(result)){this.cache.write({result:result.data,dataId:"ROOT_SUBSCRIPTION",query:document,variables:variables})}};DataStore.prototype.markMutationInit=function(mutation){var _this=this;if(mutation.optimisticResponse){var optimistic_1;if(typeof mutation.optimisticResponse==="function"){optimistic_1=mutation.optimisticResponse(mutation.variables)}else{optimistic_1=mutation.optimisticResponse}var changeFn_1=function(){_this.markMutationResult({mutationId:mutation.mutationId,result:{data:optimistic_1},document:mutation.document,variables:mutation.variables,updateQueries:mutation.updateQueries,update:mutation.update})};this.cache.recordOptimisticTransaction((function(c){var orig=_this.cache;_this.cache=c;try{changeFn_1()}finally{_this.cache=orig}}),mutation.mutationId)}};DataStore.prototype.markMutationResult=function(mutation){var _this=this;if(!apolloUtilities.graphQLResultHasError(mutation.result)){var cacheWrites_1=[];cacheWrites_1.push({result:mutation.result.data,dataId:"ROOT_MUTATION",query:mutation.document,variables:mutation.variables});if(mutation.updateQueries){Object.keys(mutation.updateQueries).filter((function(id){return mutation.updateQueries[id]})).forEach((function(queryId){var _a=mutation.updateQueries[queryId],query=_a.query,updater=_a.updater;var _b=_this.cache.diff({query:query.document,variables:query.variables,returnPartialData:true,optimistic:false}),currentQueryResult=_b.result,complete=_b.complete;if(!complete){return}var nextQueryResult=apolloUtilities.tryFunctionOrLogError((function(){return updater(currentQueryResult,{mutationResult:mutation.result,queryName:apolloUtilities.getOperationName(query.document)||undefined,queryVariables:query.variables})}));if(nextQueryResult){cacheWrites_1.push({result:nextQueryResult,dataId:"ROOT_QUERY",query:query.document,variables:query.variables})}}))}this.cache.performTransaction((function(c){cacheWrites_1.forEach((function(write){return c.write(write)}))}));var update_1=mutation.update;if(update_1){this.cache.performTransaction((function(c){apolloUtilities.tryFunctionOrLogError((function(){return update_1(c,mutation.result)}))}))}}};DataStore.prototype.markMutationComplete=function(_a){var mutationId=_a.mutationId,optimisticResponse=_a.optimisticResponse;if(!optimisticResponse)return;this.cache.removeOptimistic(mutationId)};DataStore.prototype.markUpdateQueryResult=function(document,variables,newResult){this.cache.write({result:newResult,dataId:"ROOT_QUERY",variables:variables,query:document})};DataStore.prototype.reset=function(){return this.cache.reset()};return DataStore}();var version="2.3.8";var __assign$4=undefined&&undefined.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var hasSuggestedDevtools=false;var supportedDirectives=new apolloLink.ApolloLink((function(operation,forward){operation.query=apolloUtilities.removeConnectionDirectiveFromDocument(operation.query);return forward(operation)}));var ApolloClient=function(){function ApolloClient(options){var _this=this;this.defaultOptions={};this.resetStoreCallbacks=[];var link=options.link,cache=options.cache,_a=options.ssrMode,ssrMode=_a===void 0?false:_a,_b=options.ssrForceFetchDelay,ssrForceFetchDelay=_b===void 0?0:_b,connectToDevTools=options.connectToDevTools,_c=options.queryDeduplication,queryDeduplication=_c===void 0?true:_c,defaultOptions=options.defaultOptions;if(!link||!cache){throw new Error("\n        In order to initialize Apollo Client, you must specify link & cache properties on the config object.\n        This is part of the required upgrade when migrating from Apollo Client 1.0 to Apollo Client 2.0.\n        For more information, please visit:\n          https://www.apollographql.com/docs/react/basics/setup.html\n        to help you get started.\n      ")}this.link=supportedDirectives.concat(link);this.cache=cache;this.store=new DataStore(cache);this.disableNetworkFetches=ssrMode||ssrForceFetchDelay>0;this.queryDeduplication=queryDeduplication;this.ssrMode=ssrMode;this.defaultOptions=defaultOptions||{};if(ssrForceFetchDelay){setTimeout((function(){return _this.disableNetworkFetches=false}),ssrForceFetchDelay)}this.watchQuery=this.watchQuery.bind(this);this.query=this.query.bind(this);this.mutate=this.mutate.bind(this);this.resetStore=this.resetStore.bind(this);this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var defaultConnectToDevTools=!apolloUtilities.isProduction()&&typeof window!=="undefined"&&!window.__APOLLO_CLIENT__;if(typeof connectToDevTools==="undefined"?defaultConnectToDevTools:connectToDevTools&&typeof window!=="undefined"){window.__APOLLO_CLIENT__=this}if(!hasSuggestedDevtools&&!apolloUtilities.isProduction()){hasSuggestedDevtools=true;if(typeof window!=="undefined"&&window.document&&window.top===window.self){if(typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(window.navigator&&window.navigator.userAgent.indexOf("Chrome")>-1){console.debug("Download the Apollo DevTools "+"for a better development experience: "+"https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")}}}}this.version=version}ApolloClient.prototype.watchQuery=function(options){if(this.defaultOptions.watchQuery){options=__assign$4({},this.defaultOptions.watchQuery,options)}if(this.disableNetworkFetches&&(options.fetchPolicy==="network-only"||options.fetchPolicy==="cache-and-network")){options=__assign$4({},options,{fetchPolicy:"cache-first"})}return this.initQueryManager().watchQuery(options)};ApolloClient.prototype.query=function(options){if(this.defaultOptions.query){options=__assign$4({},this.defaultOptions.query,options)}if(options.fetchPolicy==="cache-and-network"){throw new Error("cache-and-network fetchPolicy can only be used with watchQuery")}if(this.disableNetworkFetches&&options.fetchPolicy==="network-only"){options=__assign$4({},options,{fetchPolicy:"cache-first"})}return this.initQueryManager().query(options)};ApolloClient.prototype.mutate=function(options){if(this.defaultOptions.mutate){options=__assign$4({},this.defaultOptions.mutate,options)}return this.initQueryManager().mutate(options)};ApolloClient.prototype.subscribe=function(options){return this.initQueryManager().startGraphQLSubscription(options)};ApolloClient.prototype.readQuery=function(options){return this.initProxy().readQuery(options)};ApolloClient.prototype.readFragment=function(options){return this.initProxy().readFragment(options)};ApolloClient.prototype.writeQuery=function(options){var result=this.initProxy().writeQuery(options);this.initQueryManager().broadcastQueries();return result};ApolloClient.prototype.writeFragment=function(options){var result=this.initProxy().writeFragment(options);this.initQueryManager().broadcastQueries();return result};ApolloClient.prototype.writeData=function(options){var result=this.initProxy().writeData(options);this.initQueryManager().broadcastQueries();return result};ApolloClient.prototype.__actionHookForDevTools=function(cb){this.devToolsHookCb=cb};ApolloClient.prototype.__requestRaw=function(payload){return apolloLink.execute(this.link,payload)};ApolloClient.prototype.initQueryManager=function(){var _this=this;if(!this.queryManager){this.queryManager=new QueryManager({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,onBroadcast:function(){if(_this.devToolsHookCb){_this.devToolsHookCb({action:{},state:{queries:_this.queryManager?_this.queryManager.queryStore.getStore():{},mutations:_this.queryManager?_this.queryManager.mutationStore.getStore():{}},dataWithOptimisticResults:_this.cache.extract(true)})}}})}return this.queryManager};ApolloClient.prototype.resetStore=function(){var _this=this;return Promise.resolve().then((function(){return _this.queryManager?_this.queryManager.clearStore():Promise.resolve(null)})).then((function(){return Promise.all(_this.resetStoreCallbacks.map((function(fn){return fn()})))})).then((function(){return _this.queryManager&&_this.queryManager.reFetchObservableQueries?_this.queryManager.reFetchObservableQueries():Promise.resolve(null)}))};ApolloClient.prototype.onResetStore=function(cb){var _this=this;this.resetStoreCallbacks.push(cb);return function(){_this.resetStoreCallbacks=_this.resetStoreCallbacks.filter((function(c){return c!==cb}))}};ApolloClient.prototype.reFetchObservableQueries=function(includeStandby){return this.queryManager?this.queryManager.reFetchObservableQueries(includeStandby):Promise.resolve(null)};ApolloClient.prototype.extract=function(optimistic){return this.initProxy().extract(optimistic)};ApolloClient.prototype.restore=function(serializedState){return this.initProxy().restore(serializedState)};ApolloClient.prototype.initProxy=function(){if(!this.proxy){this.initQueryManager();this.proxy=this.cache}return this.proxy};return ApolloClient}();exports.printAST=printer.print;exports.ApolloClient=ApolloClient;exports.default=ApolloClient;exports.ObservableQuery=ObservableQuery;exports.ApolloError=ApolloError;Object.defineProperty(exports,"__esModule",{value:true})}))},865:function(module,exports,__webpack_require__){module.exports=__webpack_require__(1007).Observable},866:function(module,exports,__webpack_require__){"use strict";(function(global,module){Object.defineProperty(exports,"__esModule",{value:true});var _ponyfill=__webpack_require__(1008);var _ponyfill2=_interopRequireDefault(_ponyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var root;if(typeof self!=="undefined"){root=self}else if(typeof window!=="undefined"){root=window}else if(typeof global!=="undefined"){root=global}else if(true){root=module}else{}var result=(0,_ponyfill2["default"])(root);exports["default"]=result}).call(this,__webpack_require__(67),__webpack_require__(231)(module))}}]);