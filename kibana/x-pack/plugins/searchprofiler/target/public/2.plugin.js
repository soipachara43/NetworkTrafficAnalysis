(window["searchprofiler_bundle_jsonpfunction"]=window["searchprofiler_bundle_jsonpfunction"]||[]).push([[2],Array(30).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.boot=boot;var _reactDom=__webpack_require__(28);var _react=_interopRequireDefault(__webpack_require__(25));var _=__webpack_require__(61);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function boot(deps){var el=deps.el,rest=_objectWithoutProperties(deps,["el"]);(0,_reactDom.render)(_react.default.createElement(_.App,rest),deps.el);return function(){return(0,_reactDom.unmountComponentAtNode)(deps.el)}}},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"hasAggregations",{enumerable:true,get:function get(){return _has_aggregations.hasAggregations}});Object.defineProperty(exports,"hasSearch",{enumerable:true,get:function get(){return _has_searches.hasSearch}});Object.defineProperty(exports,"checkForParseErrors",{enumerable:true,get:function get(){return _check_for_json_errors.checkForParseErrors}});Object.defineProperty(exports,"msToPretty",{enumerable:true,get:function get(){return _ms_to_pretty.msToPretty}});Object.defineProperty(exports,"nsToPretty",{enumerable:true,get:function get(){return _ns_to_pretty.nsToPretty}});var _has_aggregations=__webpack_require__(70);var _has_searches=__webpack_require__(71);var _check_for_json_errors=__webpack_require__(72);var _ms_to_pretty=__webpack_require__(48);var _ns_to_pretty=__webpack_require__(75)},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAppContext=exports.AppContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AppContext=(0,_react.createContext)(null);var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children,_ref$args=_ref.args,http=_ref$args.http,notifications=_ref$args.notifications,initialLicenseStatus=_ref$args.initialLicenseStatus;var getLicenseStatus=(0,_react.useCallback)((function(){return initialLicenseStatus}),[initialLicenseStatus]);return _react.default.createElement(AppContext.Provider,{value:{http:http,notifications:notifications,getLicenseStatus:getLicenseStatus}},children)};exports.AppContextProvider=AppContextProvider;var useAppContext=function useAppContext(){var ctx=(0,_react.useContext)(AppContext);if(ctx==null){throw new Error("useAppContext must be called inside AppContextProvider")}return ctx};exports.useAppContext=useAppContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useHighlightContext=exports.HighlightContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var HighlightContext=(0,_react.createContext)(null);var HighlightContextProvider=function HighlightContextProvider(_ref){var children=_ref.children,onHighlight=_ref.onHighlight;var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),selectedRow=_useState2[0],setSelectedRow=_useState2[1];return _react.default.createElement(HighlightContext.Provider,{value:{selectedRow:selectedRow,setStore:function setStore(_ref2){var id=_ref2.id,onHighlightChangeArgs=_objectWithoutProperties(_ref2,["id"]);onHighlight(onHighlightChangeArgs);setSelectedRow(id)}}},children)};exports.HighlightContextProvider=HighlightContextProvider;var useHighlightContext=function useHighlightContext(){var ctx=(0,_react.useContext)(HighlightContext);if(ctx==null){throw new Error("useHighlightContext must be called inside HighlightContext")}return ctx};exports.useHighlightContext=useHighlightContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PercentageBadge=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _classnames=_interopRequireDefault(__webpack_require__(43));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PercentageBadge=function PercentageBadge(_ref){var timePercentage=_ref.timePercentage,label=_ref.label,_ref$valueType=_ref.valueType,valueType=_ref$valueType===void 0?"percent":_ref$valueType;return _react.default.createElement(_eui.EuiBadge,{className:(0,_classnames.default)({"prfDevTool__percentBadge__progress--percent":valueType==="percent","prfDevTool__percentBadge__progress--time":valueType==="time","euiTextAlign--center":true}),style:{"--prfDevToolProgressPercentage":timePercentage+"%"}},_react.default.createElement("span",{className:"prfDevTool__progress--percent-ie",style:{width:timePercentage+"%"}}),_react.default.createElement("span",{className:"prfDevTool__progressText"},label))};exports.PercentageBadge=PercentageBadge},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useProfilerActionContext=exports.useProfilerReadContext=exports.ProfileContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _store=__webpack_require__(99);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ProfilerReadContext=(0,_react.createContext)(null);var ProfilerActionContext=(0,_react.createContext)(null);var ProfileContextProvider=function ProfileContextProvider(_ref){var children=_ref.children;var _useStore=(0,_store.useStore)(),dispatch=_useStore.dispatch,state=_useStore.state;return _react.default.createElement(ProfilerReadContext.Provider,{value:state},_react.default.createElement(ProfilerActionContext.Provider,{value:dispatch},children))};exports.ProfileContextProvider=ProfileContextProvider;var useProfilerReadContext=function useProfilerReadContext(){var ctx=(0,_react.useContext)(ProfilerReadContext);if(ctx==null){throw new Error("useProfilerReadContext must be called inside ProfilerReadContext")}return ctx};exports.useProfilerReadContext=useProfilerReadContext;var useProfilerActionContext=function useProfilerActionContext(){var ctx=(0,_react.useContext)(ProfilerActionContext);if(ctx==null){throw new Error("useProfilerActionContext must be called inside ProfilerActionContext")}return ctx};exports.useProfilerActionContext=useProfilerActionContext},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Main",{enumerable:true,get:function get(){return _main.Main}});Object.defineProperty(exports,"ProfileQueryEditor",{enumerable:true,get:function get(){return _profile_query_editor.ProfileQueryEditor}});var _main=__webpack_require__(62);var _profile_query_editor=__webpack_require__(101)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.msToPretty=msToPretty;function msToPretty(ms,precision){if(!precision){precision=1}ms=Number(ms);if(ms<1e3){return ms.toFixed(precision)+"ms"}ms/=1e3;if(ms<60){return ms.toFixed(precision)+"s"}ms/=60;if(ms<60){return ms.toFixed(precision)+"min"}ms/=60;if(ms<24){return ms.toFixed(precision)+"hr"}ms/=24;return ms.toFixed(precision)+"d"}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=void 0;var _utils=__webpack_require__(36);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var reducer=function reducer(state,action){var nextState=_objectSpread({},state);if(action.type==="setProfiling"){nextState.pristine=false;nextState.profiling=action.value;if(nextState.profiling){nextState.currentResponse=null;nextState.highlightDetails=null}return nextState}if(action.type==="setHighlightDetails"){if(action.value){var value=action.value;var _value$operation=value.operation,children=_value$operation.children,parent=_value$operation.parent,restOfOperation=_objectWithoutProperties(_value$operation,["children","parent"]);nextState.highlightDetails={indexName:value.indexName,operation:Object.freeze(restOfOperation),shardName:"[".concat(value.shard.id[0],"][").concat(value.shard.id[2],"]")}}else{nextState.highlightDetails=null}return nextState}if(action.type==="setActiveTab"){nextState.activeTab=action.value;return nextState}if(action.type==="setCurrentResponse"){nextState.currentResponse=action.value;if(nextState.currentResponse){var currentResponseHasAggregations=(0,_utils.hasAggregations)(nextState.currentResponse);var currentResponseHasSearch=(0,_utils.hasSearch)(nextState.currentResponse);if(nextState.activeTab==="searches"&&!currentResponseHasSearch&&currentResponseHasAggregations){nextState.activeTab="aggregations"}else if(nextState.activeTab==="aggregations"&&!currentResponseHasAggregations&&currentResponseHasSearch){nextState.activeTab="searches"}else if(!nextState.activeTab){nextState.activeTab="searches"}}else{nextState.activeTab=null}return nextState}throw new Error("Unknown action: ".concat(action))};exports.reducer=reducer},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _lexer_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _lexer_rules.addXJsonToRules}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json.XJsonMode}});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _x_json.installXJsonMode}});var _lexer_rules=__webpack_require__(110);var _x_json=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchSqlHighlightRules=void 0;var _brace=_interopRequireDefault(__webpack_require__(38));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _brace$default$acequi=_brace.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_brace$default$acequi.TextHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var ElasticsearchSqlHighlightRules=function ElasticsearchSqlHighlightRules(){var keywords="describe|between|in|like|not|and|or|desc|select|from|where|having|group|by|order"+"asc|desc|pivot|for|in|as|show|columns|include|frozen|tables|escape|limit|rlike|all|distinct|is";var builtinConstants="true|false";var builtinFunctions="avg|count|first|first_value|last|last_value|max|min|sum|kurtosis|mad|percentile|percentile_rank|skewness"+"|stddev_pop|sum_of_squares|var_pop|histogram|case|coalesce|greatest|ifnull|iif|isnull|least|nullif|nvl"+"|curdate|current_date|current_time|current_timestamp|curtime|dateadd|datediff|datepart|datetrunc|date_add"+"|date_diff|date_part|date_trunc|day|dayname|dayofmonth|dayofweek|dayofyear|day_name|day_of_month|day_of_week"+"|day_of_year|dom|dow|doy|hour|hour_of_day|idow|isodayofweek|isodow|isoweek|isoweekofyear|iso_day_of_week|iso_week_of_year"+"|iw|iwoy|minute|minute_of_day|minute_of_hour|month|monthname|month_name|month_of_year|now|quarter|second|second_of_minute"+"|timestampadd|timestampdiff|timestamp_add|timestamp_diff|today|week|week_of_year|year|abs|acos|asin|atan|atan2|cbrt"+"|ceil|ceiling|cos|cosh|cot|degrees|e|exp|expm1|floor|log|log10|mod|pi|power|radians|rand|random|round|sign|signum|sin"+"|sinh|sqrt|tan|truncate|ascii|bit_length|char|character_length|char_length|concat|insert|lcase|left|length|locate"+"|ltrim|octet_length|position|repeat|replace|right|rtrim|space|substring|ucase|cast|convert|database|user|st_astext|st_aswkt"+"|st_distance|st_geometrytype|st_geomfromtext|st_wkttosql|st_x|st_y|st_z|score";var dataTypes="null|boolean|byte|short|integer|long|double|float|half_float|scaled_float|keyword|text|binary|date|ip|object|nested|time"+"|interval_year|interval_month|interval_day|interval_hour|interval_minute|interval_second|interval_year_to_month"+"inteval_day_to_hour|interval_day_to_minute|interval_day_to_second|interval_hour_to_minute|interval_hour_to_second"+"interval_minute_to_second|geo_point|geo_shape|shape";var keywordMapper=this.createKeywordMapper({keyword:[keywords,builtinFunctions,builtinConstants,dataTypes].join("|")},"identifier",true);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"constant",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"entity.name.function",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"⇐|<⇒|\\*|\\.|\\:\\:|\\+|\\-|\\/|\\/\\/|%|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]};this.normalizeRules()};exports.ElasticsearchSqlHighlightRules=ElasticsearchSqlHighlightRules;oop.inherits(ElasticsearchSqlHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(38);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=App;var _react=_interopRequireDefault(__webpack_require__(25));var _containers=__webpack_require__(47);var _app_context=__webpack_require__(40);var _profiler_context=__webpack_require__(44);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function App(_ref){var I18nContext=_ref.I18nContext,initialLicenseStatus=_ref.initialLicenseStatus,notifications=_ref.notifications,http=_ref.http;return _react.default.createElement(I18nContext,null,_react.default.createElement(_app_context.AppContextProvider,{args:{initialLicenseStatus:initialLicenseStatus,notifications:notifications,http:http}},_react.default.createElement(_profiler_context.ProfileContextProvider,null,_react.default.createElement(_containers.Main,null))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Main",{enumerable:true,get:function get(){return _main.Main}});var _main=__webpack_require__(63)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Main=void 0;var _i18n=__webpack_require__(3);var _react=_interopRequireWildcard(__webpack_require__(25));var _eui=__webpack_require__(26);var _=__webpack_require__(47);var _components=__webpack_require__(64);var _app_context=__webpack_require__(40);var _components2=__webpack_require__(96);var _profiler_context=__webpack_require__(44);var _utils=__webpack_require__(36);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var Main=function Main(){var _useAppContext=(0,_app_context.useAppContext)(),getLicenseStatus=_useAppContext.getLicenseStatus,notifications=_useAppContext.notifications;var _useProfilerReadConte=(0,_profiler_context.useProfilerReadContext)(),activeTab=_useProfilerReadConte.activeTab,currentResponse=_useProfilerReadConte.currentResponse,highlightDetails=_useProfilerReadConte.highlightDetails,pristine=_useProfilerReadConte.pristine,profiling=_useProfilerReadConte.profiling;var dispatch=(0,_profiler_context.useProfilerActionContext)();var handleProfileTreeError=function handleProfileTreeError(e){notifications.addError(e,{title:_i18n.i18n.translate("xpack.searchProfiler.profileTreeErrorRenderTitle",{defaultMessage:"Profile data cannot be parsed."})})};var setActiveTab=(0,_react.useCallback)((function(target){return dispatch({type:"setActiveTab",value:target})}),[dispatch]);var onHighlight=(0,_react.useCallback)((function(value){return dispatch({type:"setHighlightDetails",value:value})}),[dispatch]);var renderLicenseWarning=function renderLicenseWarning(){return!getLicenseStatus().valid?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_components.LicenseWarningNotice,null),_react.default.createElement(_eui.EuiSpacer,{size:"s"})):null};var renderProfileTreeArea=function renderProfileTreeArea(){if(profiling){return _react.default.createElement(_components2.ProfileLoadingPlaceholder,null)}if(activeTab){return _react.default.createElement("div",{className:"prfDevTool__main__profiletree"},_react.default.createElement(_components.ProfileTree,{onDataInitError:handleProfileTreeError,onHighlight:onHighlight,target:activeTab,data:currentResponse}))}if(getLicenseStatus().valid&&pristine){return _react.default.createElement(_components2.EmptyTreePlaceHolder,null)}return null};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPage,{className:"prfDevTool__page appRoot"},_react.default.createElement(_eui.EuiPageBody,{className:"prfDevTool__page__pageBody"},renderLicenseWarning(),_react.default.createElement(_eui.EuiPageContent,{className:"prfDevTool__page__pageBodyContent"},_react.default.createElement(_eui.EuiPageContentBody,{className:"prfDevTool__page__pageBodyContentBody"},_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"s",direction:"row",className:"prfDevTool__page__bodyGroup"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_.ProfileQueryEditor,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:3},_react.default.createElement(_eui.EuiFlexGroup,{className:"prfDevTool__main",gutterSize:"none",direction:"column"},_react.default.createElement(_components.SearchProfilerTabs,{activeTab:activeTab,activateTab:setActiveTab,has:{aggregations:Boolean(currentResponse&&(0,_utils.hasAggregations)(currentResponse)),searches:Boolean(currentResponse&&(0,_utils.hasSearch)(currentResponse))}}),renderProfileTreeArea()))),highlightDetails?_react.default.createElement(_components.HighlightDetailsFlyout,_extends({},highlightDetails,{onClose:function onClose(){return dispatch({type:"setHighlightDetails",value:null})}})):null)))))};exports.Main=Main},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SearchProfilerTabs",{enumerable:true,get:function get(){return _searchprofiler_tabs.SearchProfilerTabs}});Object.defineProperty(exports,"LicenseWarningNotice",{enumerable:true,get:function get(){return _license_warning_notice.LicenseWarningNotice}});Object.defineProperty(exports,"ProfileTree",{enumerable:true,get:function get(){return _profile_tree.ProfileTree}});Object.defineProperty(exports,"OnHighlightChangeArgs",{enumerable:true,get:function get(){return _profile_tree.OnHighlightChangeArgs}});Object.defineProperty(exports,"HighlightDetailsFlyout",{enumerable:true,get:function get(){return _highlight_details_flyout.HighlightDetailsFlyout}});var _searchprofiler_tabs=__webpack_require__(65);var _license_warning_notice=__webpack_require__(66);var _profile_tree=__webpack_require__(67);var _highlight_details_flyout=__webpack_require__(93)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SearchProfilerTabs=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _i18n=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchProfilerTabs=function SearchProfilerTabs(_ref){var activeTab=_ref.activeTab,activateTab=_ref.activateTab,has=_ref.has;return _react.default.createElement(_eui.EuiTabs,null,_react.default.createElement(_eui.EuiTab,{isSelected:activeTab==="searches",disabled:!has.searches,onClick:function onClick(){return activateTab("searches")}},_i18n.i18n.translate("xpack.searchProfiler.queryProfileTabTitle",{defaultMessage:"Query Profile"})),_react.default.createElement(_eui.EuiTab,{isSelected:activeTab==="aggregations",disabled:!has.aggregations,onClick:function onClick(){return activateTab("aggregations")}},_i18n.i18n.translate("xpack.searchProfiler.aggregationProfileTabTitle",{defaultMessage:"Aggregation Profile"})))};exports.SearchProfilerTabs=SearchProfilerTabs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseWarningNotice=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _i18n=__webpack_require__(3);var _react2=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LicenseWarningNotice=function LicenseWarningNotice(){var registerLicenseLinkLabel=_i18n.i18n.translate("xpack.searchProfiler.registerLicenseLinkLabel",{defaultMessage:"register a license"});var trialLicense=_i18n.i18n.translate("xpack.searchProfiler.trialLicenseTitle",{defaultMessage:"Trial"});var basicLicense=_i18n.i18n.translate("xpack.searchProfiler.basicLicenseTitle",{defaultMessage:"Basic"});var goldLicense=_i18n.i18n.translate("xpack.searchProfiler.goldLicenseTitle",{defaultMessage:"Gold"});var platinumLicense=_i18n.i18n.translate("xpack.searchProfiler.platinumLicenseTitle",{defaultMessage:"Platinum"});return _react.default.createElement("div",{className:"prfDevTool__licenseWarning__container"},_react.default.createElement(_eui.EuiCallOut,{title:_i18n.i18n.translate("xpack.searchProfiler.licenseErrorMessageTitle",{defaultMessage:"License error"}),color:"danger",iconType:"alert",style:{padding:"16px"}},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.searchProfiler.licenseErrorMessageDescription",defaultMessage:"The Profiler Visualization requires an active license ({licenseTypeList} or {platinumLicenseType}), but none were found in your cluster.",values:{licenseTypeList:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCode,null,trialLicense),", ",_react.default.createElement(_eui.EuiCode,null,basicLicense),","," ",_react.default.createElement(_eui.EuiCode,null,goldLicense)),platinumLicenseType:_react.default.createElement(_eui.EuiCode,null,platinumLicense)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.searchProfiler.registerLicenseDescription",defaultMessage:"Please {registerLicenseLink} to continue using the Search Profiler",values:{registerLicenseLink:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions",rel:"noopener"},registerLicenseLinkLabel)}})))))};exports.LicenseWarningNotice=LicenseWarningNotice},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ProfileTree",{enumerable:true,get:function get(){return _profile_tree.ProfileTree}});Object.defineProperty(exports,"OnHighlightChangeArgs",{enumerable:true,get:function get(){return _highlight_context.OnHighlightChangeArgs}});var _profile_tree=__webpack_require__(68);var _highlight_context=__webpack_require__(41)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProfileTree=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _eui=__webpack_require__(26);var _index_details=__webpack_require__(69);var _shard_details=__webpack_require__(76);var _init_data=__webpack_require__(85);var _highlight_context=__webpack_require__(41);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ProfileTree=(0,_react.memo)((function(_ref){var data=_ref.data,target=_ref.target,onHighlight=_ref.onHighlight,onDataInitError=_ref.onDataInitError;if(!data||data.length===0){return null}var sortedIndices;try{sortedIndices=(0,_init_data.initDataFor)(target)(data)}catch(e){onDataInitError(e);return null}return _react.default.createElement(_highlight_context.HighlightContextProvider,{onHighlight:onHighlight},_react.default.createElement(_eui.EuiFlexGroup,{className:"prfDevTool__profileTree__container",gutterSize:"none",direction:"column"},sortedIndices.map((function(index){return _react.default.createElement(_eui.EuiFlexItem,{key:index.name,grow:false},_react.default.createElement(_eui.EuiFlexGroup,{className:"prfDevTool__profileTree__panel prfDevTool__profileTree__index",gutterSize:"none",key:index.name,direction:"column"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_index_details.IndexDetails,{index:index})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexItem,{grow:false},index.shards.map((function(shard,idx){return _react.default.createElement(_react.Fragment,{key:shard.id[1]+"_".concat(idx)},_react.default.createElement(_shard_details.ShardDetails,{index:index,shard:shard,operations:shard[target]}),idx<index.shards.length-1?_react.default.createElement(_eui.EuiSpacer,{size:"s"}):undefined)})))))}))))}));exports.ProfileTree=ProfileTree},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexDetails=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _i18n=__webpack_require__(3);var _eui=__webpack_require__(26);var _utils=__webpack_require__(36);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IndexDetails=function IndexDetails(_ref){var index=_ref.index;var time=index.time,name=index.name;return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none",direction:"row"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{className:"prfDevTool__profileTree__shardDetails"},_react.default.createElement("h3",null,_react.default.createElement("b",null,_i18n.i18n.translate("xpack.searchProfiler.profileTree.indexTitle",{defaultMessage:"Index:"}))," "+name))),_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"prfDevTool__profileTree__indexDetails"},_react.default.createElement(_eui.EuiText,{className:"prfDevTool__profileTree__shardDetails--dim"},_react.default.createElement(_eui.EuiToolTip,{position:"bottom",content:_i18n.i18n.translate("xpack.searchProfiler.profileTree.cumulativeTimeTooltip",{defaultMessage:"The cumulative time of all shards in the index. Note: this is not wall-clock time, as shards can execute in parallel."})},_react.default.createElement("small",null,_i18n.i18n.translate("xpack.searchProfiler.profileTree.cumulativeTimeTitle",{defaultMessage:"Cumulative time:"})))," "+(0,_utils.msToPretty)(time,3))))};exports.IndexDetails=IndexDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasAggregations=hasAggregations;var _lodash=__webpack_require__(37);function hasAggregations(profileResponse){var aggs=(0,_lodash.get)(profileResponse,"[0].aggregations",[]);return aggs.length>0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasSearch=hasSearch;var _lodash=__webpack_require__(37);function hasSearch(profileResponse){var aggs=(0,_lodash.get)(profileResponse,"[0].searches",[]);return aggs.length>0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkForParseErrors=checkForParseErrors;var _lib=__webpack_require__(73);function checkForParseErrors(json){var sanitizedJson=(0,_lib.collapseLiteralStrings)(json);try{var parsedJson=JSON.parse(sanitizedJson);return{parsed:parsedJson,error:null}}catch(error){return{error:error,parsed:null}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"collapseLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.collapseLiteralStrings}});Object.defineProperty(exports,"expandLiteralStrings",{enumerable:true,get:function get(){return _json_xjson_translation_tools.expandLiteralStrings}});var _json_xjson_translation_tools=__webpack_require__(74)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.collapseLiteralStrings=collapseLiteralStrings;exports.expandLiteralStrings=expandLiteralStrings;function collapseLiteralStrings(data){var splitData=data.split('"""');for(var idx=1;idx<splitData.length-1;idx+=2){splitData[idx]=JSON.stringify(splitData[idx])}return splitData.join("")}var LITERAL_STRING_CANDIDATES=/((:[\s\r\n]*)([^\\])"(\\"|[^"\n])*\\?")/g;function expandLiteralStrings(data){return data.replace(LITERAL_STRING_CANDIDATES,(function(match,string){if(string.match(/\\./)){var firstDoubleQuoteIdx=string.indexOf('"');var lastDoubleQuoteIdx=string.lastIndexOf('"');if(string[firstDoubleQuoteIdx+1]==="\\"&&string[firstDoubleQuoteIdx+2]==='"'){return string}if(string[lastDoubleQuoteIdx-1]==='"'&&string[lastDoubleQuoteIdx-2]==="\\"){return string}var colonAndAnySpacing=string.slice(0,firstDoubleQuoteIdx);var rawStringifiedValue=string.slice(firstDoubleQuoteIdx,string.length);var jsonValue=JSON.parse(rawStringifiedValue);return"".concat(colonAndAnySpacing,'"""').concat(jsonValue,'"""')}else{return string}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nsToPretty=nsToPretty;var _ms_to_pretty=__webpack_require__(48);function nsToPretty(ns,precision){if(!precision){precision=1}var units=["ns","µs"];for(var _i=0,_units=units;_i<_units.length;_i++){var unit=_units[_i];if(ns<1e3){return ns.toFixed(precision)+unit}ns/=1e3}return(0,_ms_to_pretty.msToPretty)(ns,precision)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ShardDetails",{enumerable:true,get:function get(){return _shard_details.ShardDetails}});var _shard_details=__webpack_require__(77)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _eui=__webpack_require__(26);var _utils=__webpack_require__(36);var _shard_details_tree=__webpack_require__(78);var _percentage_badge=__webpack_require__(42);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var hasVisibleOperation=function hasVisibleOperation(ops){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=ops[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _op$children;var op=_step.value;if(op.visible){return true}if(((_op$children=op.children)===null||_op$children===void 0?void 0:_op$children.length)&&hasVisibleOperation(op.children)){return true}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return false};var ShardDetails=function ShardDetails(_ref){var index=_ref.index,shard=_ref.shard,operations=_ref.operations;var relative=shard.relative,time=shard.time;var _useState=(0,_react.useState)((function(){return hasVisibleOperation(operations.map((function(op){var _op$treeRoot;return(_op$treeRoot=op.treeRoot)!==null&&_op$treeRoot!==void 0?_op$treeRoot:op})))})),_useState2=_slicedToArray(_useState,2),shardVisibility=_useState2[0],setShardVisibility=_useState2[1];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none",direction:"row"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"prfDevTool__profileTree__shard__header-flex-item"},_react.default.createElement(_eui.EuiLink,{className:"prfDevTool__profileTree__shardDetails",onClick:function onClick(){return setShardVisibility(!shardVisibility)}},_react.default.createElement(_eui.EuiIcon,{type:shardVisibility?"arrowDown":"arrowRight"}),"[",shard.id[0],"][",shard.id[2],"]")),_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"prfDevTool__profileTree__shard__header-flex-item"},_react.default.createElement(_eui.EuiText,{className:"prfDevTool__shardDetails--dim"},_react.default.createElement(_percentage_badge.PercentageBadge,{timePercentage:String(relative),label:(0,_utils.msToPretty)(time,3),valueType:"time"})))),shardVisibility?operations.map((function(data,idx){return _react.default.createElement(_shard_details_tree.ShardDetailTree,{key:idx,index:index,shard:shard,data:data})})):null)};exports.ShardDetails=ShardDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardDetailTree=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _i18n=__webpack_require__(3);var _eui=__webpack_require__(26);var _shard_details_tree_node=__webpack_require__(79);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShardDetailTree=function ShardDetailTree(_ref){var data=_ref.data,index=_ref.index,shard=_ref.shard;var renderOperations=function renderOperations(operation){var nextOperation=operation.treeRoot||operation;return _react.default.createElement(_shard_details_tree_node.ShardDetailsTreeNode,{shard:shard,index:index,operation:nextOperation})};return _react.default.createElement("div",{className:"prfDevTool__profileTree__panelBody"},_react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"none",direction:"column"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("div",{className:"prfDevTool__profileTree__tvHeader"},_react.default.createElement(_eui.EuiText,{size:"s",className:"euiTextAlign--left prfDevTool__profileTree__cell"},_i18n.i18n.translate("xpack.searchProfiler.profileTree.header.typeTitle",{defaultMessage:"Type and description"})),_react.default.createElement(_eui.EuiText,{size:"s",className:"prfDevTool__profileTree__cell prfDevTool__profileTree__time"},_i18n.i18n.translate("xpack.searchProfiler.profileTree.header.selfTimeTitle",{defaultMessage:"Self time"})),_react.default.createElement(_eui.EuiText,{size:"s",className:"prfDevTool__profileTree__cell prfDevTool__profileTree__time"},_i18n.i18n.translate("xpack.searchProfiler.profileTree.header.totalTimeTitle",{defaultMessage:"Total time"})),_react.default.createElement("div",{className:"prfDevTool__profileTree__cell prfDevTool__profileTree__percentage"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},renderOperations(data))))};exports.ShardDetailTree=ShardDetailTree},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardDetailsTreeNode=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _eui=__webpack_require__(26);var _i18n=__webpack_require__(3);var _utils=__webpack_require__(80);var _use_highlight_tree_node=__webpack_require__(81);var _utils2=__webpack_require__(36);var _percentage_badge=__webpack_require__(42);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TAB_WIDTH_PX=32;var limitString=function limitString(string,limit){return"".concat(string.slice(0,limit)).concat(string.length>limit?"...":"")};var ShardDetailsTreeNode=function ShardDetailsTreeNode(_ref){var operation=_ref.operation,index=_ref.index,shard=_ref.shard;var _useState=(0,_react.useState)((0,_utils.hasVisibleChild)(operation)),_useState2=_slicedToArray(_useState,2),childrenVisible=_useState2[0],setChildrenVisible=_useState2[1];var _useHighlightTreeNode=(0,_use_highlight_tree_node.useHighlightTreeNode)(),highlight=_useHighlightTreeNode.highlight,isHighlighted=_useHighlightTreeNode.isHighlighted,id=_useHighlightTreeNode.id;var renderTimeRow=function renderTimeRow(op){return _react.default.createElement("div",{className:"prfDevTool__profileTree__tvRow"},_react.default.createElement("div",{className:"prfDevTool__profileTree__cell euiTextAlign--left"},op.hasChildren?_react.default.createElement(_eui.EuiLink,{className:"prfDevTool__profileTree__shardDetails",disabled:!op.hasChildren,onClick:function onClick(){return setChildrenVisible(!childrenVisible)}},_react.default.createElement(_eui.EuiIcon,{type:childrenVisible?"arrowDown":"arrowRight"})," "+op.query_type):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiIcon,{type:"dot"})," "+op.query_type)),_react.default.createElement("div",{className:"prfDevTool__profileTree__cell prfDevTool__profileTree__time euiTextAlign--center"},_react.default.createElement(_eui.EuiBadge,{className:"prfDevTool__profileTree__badge euiTextAlign--center",style:{backgroundColor:op.absoluteColor}},(0,_utils2.msToPretty)(op.selfTime||0,1))),_react.default.createElement("div",{className:"prfDevTool__profileTree__cell prfDevTool__profileTree__totalTime"},_react.default.createElement(_eui.EuiBadge,{className:"prfDevTool__profileTree__badge euiTextAlign--center",style:{backgroundColor:op.absoluteColor}},(0,_utils2.msToPretty)(op.time,1))),_react.default.createElement("div",{className:"prfDevTool__profileTree__cell prfDevTool__profileTree__percentage"},_react.default.createElement(_percentage_badge.PercentageBadge,{timePercentage:op.timePercentage,label:op.timePercentage+"%"})))};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("div",{key:id,className:isHighlighted()?"prfDevTool__tvRow--last":"",style:{paddingLeft:operation.depth*TAB_WIDTH_PX+"px"}},renderTimeRow(operation),_react.default.createElement("div",{className:"prfDevTool__profileTree__tvRow"},_react.default.createElement("span",{className:"prfDevTool__detail"},_react.default.createElement(_eui.EuiCodeBlock,{paddingSize:"none"},limitString(operation.lucene||"",120)),_react.default.createElement(_eui.EuiLink,{type:"button",onClick:function onClick(){return highlight({indexName:index.name,operation:operation,shard:shard})}},_i18n.i18n.translate("xpack.searchProfiler.profileTree.body.viewDetailsLabel",{defaultMessage:"View details"}))))),childrenVisible&&operation.hasChildren&&operation.children.map((function(childOp,idx){return _react.default.createElement(ShardDetailsTreeNode,{key:idx,operation:childOp,index:index,shard:shard})})))};exports.ShardDetailsTreeNode=ShardDetailsTreeNode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasVisibleChild=void 0;var hasVisibleChild=function hasVisibleChild(_ref){var children=_ref.children;return Boolean(children&&children.some((function(child){return child.visible})))};exports.hasVisibleChild=hasVisibleChild},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useHighlightTreeNode=void 0;var _react=__webpack_require__(25);var _uuid=_interopRequireDefault(__webpack_require__(82));var _highlight_context=__webpack_require__(41);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var useHighlightTreeNode=function useHighlightTreeNode(){var idRef=(0,_react.useRef)(_uuid.default.v4());var _useHighlightContext=(0,_highlight_context.useHighlightContext)(),selectedRow=_useHighlightContext.selectedRow,setStore=_useHighlightContext.setStore;var highlight=function highlight(value){setStore(_objectSpread({id:idRef.current},value))};var isHighlighted=function isHighlighted(){return selectedRow===idRef.current};return{id:idRef.current,highlight:highlight,isHighlighted:isHighlighted}};exports.useHighlightTreeNode=useHighlightTreeNode},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mutateAggsTimesTree=mutateAggsTimesTree;exports.mutateSearchTimesTree=mutateSearchTimesTree;exports.initDataFor=exports.normalize=exports.initIndices=exports.calculateShardValues=void 0;var _lodash=_interopRequireDefault(__webpack_require__(86));var _function=__webpack_require__(89);var _unsafe_utils=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function mutateAggsTimesTree(shard){if(shard.aggregations==null){shard.time=0}var shardTime=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=shard.aggregations[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var agg=_step.value;var totalTime=(0,_unsafe_utils.calcTimes)([agg]);shardTime+=totalTime}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=shard.aggregations[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _agg=_step2.value;(0,_unsafe_utils.initTree)([_agg],shardTime);_agg.treeRoot=_agg}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}shard.time=shardTime}function mutateSearchTimesTree(shard){if(shard.searches==null){shard.time=0}shard.rewrite_time=0;var shardTime=0;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=shard.searches[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var search=_step3.value;shard.rewrite_time+=search.rewrite_time;var totalTime=(0,_unsafe_utils.calcTimes)(search.query);shardTime+=totalTime;(0,_unsafe_utils.initTree)(search.query,totalTime);search.treeRoot=search.query[0];search.query=null}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}shard.time=shardTime}var initShards=function initShards(data){return data.map((function(s){var idMatch=s.id.match(/\[([^\]\[]*?)\]/g)||[];var ids=idMatch.map((function(id){return id.replace("[","").replace("]","")}));return _objectSpread({},s,{id:ids,time:0,color:"",relative:0})}))};var calculateShardValues=function calculateShardValues(target){return function(data){var mutateTimesTree=target==="searches"?mutateSearchTimesTree:target==="aggregations"?mutateAggsTimesTree:null;if(mutateTimesTree){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=data[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var shard=_step4.value;mutateTimesTree(shard)}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}return data}};exports.calculateShardValues=calculateShardValues;var initIndices=function initIndices(data){var indices={};var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=data[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var shard=_step5.value;if(!indices[shard.id[1]]){indices[shard.id[1]]={shards:[],time:0,name:shard.id[1],visible:false}}indices[shard.id[1]].shards.push(shard);indices[shard.id[1]].time+=shard.time}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return!=null){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}return indices};exports.initIndices=initIndices;var normalize=function normalize(target){return function(data){(0,_unsafe_utils.normalizeIndices)(data,target);return data}};exports.normalize=normalize;var initDataFor=function initDataFor(target){return(0,_function.flow)(_lodash.default,initShards,calculateShardValues(target),initIndices,normalize(target),_unsafe_utils.sortIndices)};exports.initDataFor=initDataFor},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.timeInMilliseconds=timeInMilliseconds;exports.calcTimes=calcTimes;exports.normalizeBreakdown=normalizeBreakdown;exports.normalizeIndices=normalizeIndices;exports.normalizeTime=normalizeTime;exports.initTree=initTree;exports.sortIndices=exports.comparator=void 0;var _i18n=__webpack_require__(3);var _tinycolor=_interopRequireDefault(__webpack_require__(91));var _lodash=_interopRequireDefault(__webpack_require__(37));var _constants=__webpack_require__(92);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var comparator=function comparator(v1,v2){if(v1<v2){return 1}return v1>v2?-1:0};exports.comparator=comparator;function getToolTip(key){switch(key){case"build_scorer":return _i18n.i18n.translate("xpack.searchProfiler.buildScorerTimeDescription",{defaultMessage:"The time taken to create the Scoring object, which is later used to execute the actual scoring of each doc."});case"create_weight":return _i18n.i18n.translate("xpack.searchProfiler.createWeightTimeDescription",{defaultMessage:"The time taken to create the Weight object, which holds temporary information during scoring."});case"next_doc":return _i18n.i18n.translate("xpack.searchProfiler.nextDocTimeDescription",{defaultMessage:"The time taken to advance the iterator to the next matching document."});case"score":return _i18n.i18n.translate("xpack.searchProfiler.scoreTimeDescription",{defaultMessage:"The time taken in actually scoring the document against the query."});case"match":return _i18n.i18n.translate("xpack.searchProfiler.matchTimeDescription",{defaultMessage:"The time taken to execute a secondary, more precise scoring phase (used by phrase queries)."});case"advance":return _i18n.i18n.translate("xpack.searchProfiler.advanceTimeDescription",{defaultMessage:"The time taken to advance the iterator to the next document."});default:return""}}function timeInMilliseconds(data){if(data.time_in_nanos){return data.time_in_nanos/1e6}if(typeof data.time==="string"){return Number(data.time.replace("ms",""))}return Number(data.time)}function calcTimes(data,parentId){var totalTime=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;totalTime+=timeInMilliseconds(child);child.breakdown=normalizeBreakdown(child.breakdown);var childrenTime=0;if(child.children!=null&&child.children.length!==0){childrenTime=calcTimes(child.children,child.id);child.hasChildren=true}child.selfTime=timeInMilliseconds(child)-childrenTime}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return totalTime}function normalizeBreakdown(breakdown){var final=[];var total=Object.keys(breakdown).reduce((function(partialTotal,currentKey){if(currentKey.indexOf("_count")===-1){partialTotal+=breakdown[currentKey]}return partialTotal}),0);Object.keys(breakdown).sort().forEach((function(key){var relative=0;if(key.indexOf("_count")===-1){relative=(breakdown[key]/total*100).toFixed(1)}final.push({key:key,time:breakdown[key],relative:relative,color:_tinycolor.default.mix("#F5F5F5","#FFAFAF",relative).toHexString(),tip:getToolTip(key)})}));return final.sort((function(a,b){if(comparator(a.time,b.time)!==0){return comparator(a.time,b.time)}return-1*comparator(a.key,b.key)}))}function normalizeIndices(indices,target){var sortQueryComponents;if(target==="searches"){sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash.default.sum(a.searches,(function(search){return search.treeRoot.time}));var bTime=_lodash.default.sum(b.searches,(function(search){return search.treeRoot.time}));return comparator(aTime,bTime)}}else if(target==="aggregations"){sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash.default.sum(a.aggregations,(function(agg){return agg.treeRoot.time}));var bTime=_lodash.default.sum(b.aggregations,(function(agg){return agg.treeRoot.time}));return comparator(aTime,bTime)}}for(var _i=0,_Object$values=Object.values(indices);_i<_Object$values.length;_i++){var index=_Object$values[_i];index.shards.sort(sortQueryComponents);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=index.shards[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var shard=_step2.value;shard.relative=(shard.time/index.time*100).toFixed(2);shard.color=_tinycolor.default.mix("#F5F5F5","#FFAFAF",shard.relative).toHexString()}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}function normalizeTime(operation,totalTime){operation.timePercentage=(timeInMilliseconds(operation)/totalTime*100).toFixed(2);operation.absoluteColor=_tinycolor.default.mix("#F5F5F5","#FFAFAF",+operation.timePercentage).toHexString()}function initTree(data,totalTime){var depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var parent=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(_constants.MAX_TREE_DEPTH+1===depth){if(parent){parent.hasChildren=false;parent.children=[]}return}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=data[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var child=_step3.value;if(!child.description){child.description=child.lucene;child.lucene=null;child.type=child.query_type;child.query_type=null}normalizeTime(child,totalTime);child.parent=parent;child.time=timeInMilliseconds(child);child.lucene=child.description;child.query_type=child.type.split(".").pop();child.visible=+child.timePercentage>20;child.depth=depth;if(child.children!=null&&child.children.length!==0){initTree(child.children,totalTime,depth+1,child)}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}data.sort((function(a,b){return comparator(timeInMilliseconds(a),timeInMilliseconds(b))}))}var sortIndices=function sortIndices(data){var sortedIndices=[];for(var _i2=0,_Object$values2=Object.values(data);_i2<_Object$values2.length;_i2++){var index=_Object$values2[_i2];sortedIndices.push(index)}sortedIndices.sort((function(a,b){return comparator(a.time,b.time)}));return sortedIndices};exports.sortIndices=sortIndices},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MAX_TREE_DEPTH=void 0;var MAX_TREE_DEPTH=40;exports.MAX_TREE_DEPTH=MAX_TREE_DEPTH},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"HighlightDetailsFlyout",{enumerable:true,get:function get(){return _highlight_details_flyout.HighlightDetailsFlyout}});Object.defineProperty(exports,"Props",{enumerable:true,get:function get(){return _highlight_details_flyout.Props}});var _highlight_details_flyout=__webpack_require__(94)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HighlightDetailsFlyout=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _i18n=__webpack_require__(3);var _eui=__webpack_require__(26);var _utils=__webpack_require__(36);var _highlight_details_table=__webpack_require__(95);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlyoutEntry=function FlyoutEntry(_ref){var title=_ref.title,body=_ref.body;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("dt",null,title),_react.default.createElement("dd",null,body))};var HighlightDetailsFlyout=function HighlightDetailsFlyout(_ref2){var indexName=_ref2.indexName,operation=_ref2.operation,shardName=_ref2.shardName,_onClose=_ref2.onClose;return _react.default.createElement(_eui.EuiFlyout,{className:"prfDevTool__details",onClose:function onClose(){return _onClose()}},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiText,{size:"s"},indexName),_react.default.createElement(_eui.EuiText,null,shardName)),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("dl",null,_react.default.createElement(FlyoutEntry,{title:_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.typeTitle",{defaultMessage:"Type"}),body:operation.query_type}),_react.default.createElement(FlyoutEntry,{title:_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.descriptionTitle",{defaultMessage:"Description"}),body:_react.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},operation.lucene)}),_react.default.createElement(FlyoutEntry,{title:_react.default.createElement(_react.default.Fragment,null,_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.totalTimeTitle",{defaultMessage:"Total time"})," ",_react.default.createElement(_eui.EuiIconTip,{type:"iInCircle",color:"subdued",content:_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.totalTimeTooltip",{defaultMessage:"The total time spent at this query component, inclusive of children"})})),body:(0,_utils.msToPretty)(operation.time,3)}),_react.default.createElement(FlyoutEntry,{title:_react.default.createElement(_react.default.Fragment,null,_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.selfTimeTitle",{defaultMessage:"Self time"})," ",_react.default.createElement(_eui.EuiIconTip,{type:"iInCircle",color:"subdued",content:_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.selfTimeTooltip",{defaultMessage:"The time spent by this query component alone, exclusive of children"})})),body:(0,_utils.msToPretty)(operation.selfTime||0,3)}),_react.default.createElement(FlyoutEntry,{title:_i18n.i18n.translate("xpack.searchProfiler.highlightDetails.timingBreakdownTitle",{defaultMessage:"Timing breakdown"}),body:_react.default.createElement(_highlight_details_table.HighlightDetailsTable,{breakdown:operation.breakdown})})))))};exports.HighlightDetailsFlyout=HighlightDetailsFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HighlightDetailsTable=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _utils=__webpack_require__(36);var _percentage_badge=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HighlightDetailsTable=function HighlightDetailsTable(_ref){var breakdown=_ref.breakdown;var columns=[{name:"Description",render:function render(item){return _react.default.createElement(_eui.EuiToolTip,{position:"left",content:item.tip},_react.default.createElement("span",null,item.key))}},{name:"Time",render:function render(item){return _react.default.createElement(_eui.EuiBadge,{style:{backgroundColor:item.color}},_react.default.createElement("span",null,(0,_utils.nsToPretty)(item.time,1)))}},{name:"Percentage",render:function render(item){return _react.default.createElement(_percentage_badge.PercentageBadge,{timePercentage:String(item.relative),label:item.relative+"%"})}}];return _react.default.createElement(_eui.EuiBasicTable,{items:breakdown,columns:columns})};exports.HighlightDetailsTable=HighlightDetailsTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EmptyTreePlaceHolder",{enumerable:true,get:function get(){return _empty_tree_placeholder.EmptyTreePlaceHolder}});Object.defineProperty(exports,"ProfileLoadingPlaceholder",{enumerable:true,get:function get(){return _profile_loading_placeholder.ProfileLoadingPlaceholder}});var _empty_tree_placeholder=__webpack_require__(97);var _profile_loading_placeholder=__webpack_require__(98)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyTreePlaceHolder=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _i18n=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyTreePlaceHolder=function EmptyTreePlaceHolder(){return _react.default.createElement("div",{className:"prfDevTool__main__emptyTreePlaceholder"},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement("h1",null,_i18n.i18n.translate("xpack.searchProfiler.emptyProfileTreeTitle",{defaultMessage:"No queries to profile"})),_react.default.createElement("p",null,_i18n.i18n.translate("xpack.searchProfiler.emptyProfileTreeDescription",{defaultMessage:"Enter a query, click Profile, and see the results here."}))))};exports.EmptyTreePlaceHolder=EmptyTreePlaceHolder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProfileLoadingPlaceholder=void 0;var _react=_interopRequireDefault(__webpack_require__(25));var _eui=__webpack_require__(26);var _i18n=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ProfileLoadingPlaceholder=function ProfileLoadingPlaceholder(){return _react.default.createElement("div",{className:"prfDevTool__main__emptyTreePlaceholder"},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement("h1",null,_i18n.i18n.translate("xpack.searchProfiler.profilingLoaderText",{defaultMessage:"Loading query profiles..."}))))};exports.ProfileLoadingPlaceholder=ProfileLoadingPlaceholder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useStore",{enumerable:true,get:function get(){return _store.useStore}});Object.defineProperty(exports,"State",{enumerable:true,get:function get(){return _store.State}});Object.defineProperty(exports,"Action",{enumerable:true,get:function get(){return _reducer.Action}});var _store=__webpack_require__(100);var _reducer=__webpack_require__(51)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useStore=exports.initialState=void 0;var _react=__webpack_require__(25);var _reducer=__webpack_require__(51);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var initialState={profiling:false,pristine:true,highlightDetails:null,activeTab:null,currentResponse:null};exports.initialState=initialState;var useStore=function useStore(){var _useReducer=(0,_react.useReducer)(_reducer.reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return{state:state,dispatch:dispatch}};exports.useStore=useStore},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProfileQueryEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _i18n=__webpack_require__(3);var _eui=__webpack_require__(26);var _editor=__webpack_require__(102);var _hooks=__webpack_require__(118);var _app_context=__webpack_require__(40);var _profiler_context=__webpack_require__(44);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var DEFAULT_INDEX_VALUE="_all";var INITIAL_EDITOR_VALUE='{\n  "query":{\n    "match_all" : {}\n  }\n}';var ProfileQueryEditor=(0,_react.memo)((function(){var editorRef=(0,_react.useRef)(null);var indexInputRef=(0,_react.useRef)(null);var dispatch=(0,_profiler_context.useProfilerActionContext)();var _useAppContext=(0,_app_context.useAppContext)(),getLicenseStatus=_useAppContext.getLicenseStatus,notifications=_useAppContext.notifications;var requestProfile=(0,_hooks.useRequestProfile)();var handleProfileClick=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var editor,_ref2,result,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:"setProfiling",value:true});_context.prev=1;editor=editorRef.current;_context.next=5;return requestProfile({query:editorRef.current.getValue(),index:indexInputRef.current.value});case 5:_ref2=_context.sent;result=_ref2.data;error=_ref2.error;if(!error){_context.next=12;break}notifications.addDanger(error);editor.focus();return _context.abrupt("return");case 12:if(!(result===null)){_context.next=14;break}return _context.abrupt("return");case 14:dispatch({type:"setCurrentResponse",value:result});case 15:_context.prev=15;dispatch({type:"setProfiling",value:false});return _context.finish(15);case 18:case"end":return _context.stop()}}}),_callee,null,[[1,,15,18]])})));return function handleProfileClick(){return _ref.apply(this,arguments)}}();var onEditorReady=(0,_react.useCallback)((function(editorInstance){return editorRef.current=editorInstance}),[]);var licenseEnabled=getLicenseStatus().valid;return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false,className:"prfDevTool__sense",gutterSize:"none",direction:"column"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFlexGroup,{direction:"row",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.searchProfiler.formIndexLabel",{defaultMessage:"Index"})},_react.default.createElement(_eui.EuiFieldText,{disabled:!licenseEnabled,inputRef:function inputRef(ref){if(ref){indexInputRef.current=ref;ref.value=DEFAULT_INDEX_VALUE}}})))))),_react.default.createElement(_eui.EuiFlexItem,{grow:10},_react.default.createElement(_editor.Editor,{onEditorReady:onEditorReady,licenseEnabled:licenseEnabled,initialValue:INITIAL_EDITOR_VALUE})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{className:"prfDevTool__profileButtonContainer",gutterSize:"none",direction:"row"},_react.default.createElement(_eui.EuiFlexItem,{grow:5},_react.default.createElement(_eui.EuiSpacer,{size:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:5},_react.default.createElement(_eui.EuiButton,{fill:true,disabled:!licenseEnabled,onClick:function onClick(){return handleProfileClick()}},_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("xpack.searchProfiler.formProfileButtonLabel",{defaultMessage:"Profile"})))))))}));exports.ProfileQueryEditor=ProfileQueryEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Editor",{enumerable:true,get:function get(){return _editor.Editor}});Object.defineProperty(exports,"Props",{enumerable:true,get:function get(){return _editor.Props}});Object.defineProperty(exports,"EditorInstance",{enumerable:true,get:function get(){return _editor.EditorInstance}});var _editor=__webpack_require__(103)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Editor=void 0;var _react=_interopRequireWildcard(__webpack_require__(25));var _init_editor=__webpack_require__(104);var _public=__webpack_require__(31);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var createEditorShim=function createEditorShim(aceEditor){return{getValue:function getValue(){return aceEditor.getValue()},focus:function focus(){aceEditor.focus()}}};var Editor=(0,_react.memo)((function(_ref){var licenseEnabled=_ref.licenseEnabled,initialValue=_ref.initialValue,onEditorReady=_ref.onEditorReady;var containerRef=(0,_react.useRef)(null);var editorInstanceRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),textArea=_useState2[0],setTextArea=_useState2[1];(0,_public.useUIAceKeyboardMode)(textArea);(0,_react.useEffect)((function(){var divEl=containerRef.current;editorInstanceRef.current=(0,_init_editor.initializeEditor)({el:divEl,licenseEnabled:licenseEnabled});editorInstanceRef.current.setValue(initialValue,1);setTextArea(licenseEnabled?containerRef.current.querySelector("textarea"):null);onEditorReady(createEditorShim(editorInstanceRef.current))}),[initialValue,onEditorReady,licenseEnabled]);return _react.default.createElement("div",{"data-test-subj":"searchProfilerEditor",ref:containerRef})}));exports.Editor=Editor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeEditor=initializeEditor;var _brace=_interopRequireDefault(__webpack_require__(38));var _console_lang=__webpack_require__(105);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initializeEditor(_ref){var el=_ref.el,licenseEnabled=_ref.licenseEnabled;var editor=_brace.default.acequire("ace/ace").edit(el);(0,_console_lang.installXJsonMode)(editor);editor.$blockScrolling=Infinity;if(!licenseEnabled){editor.setReadOnly(true);editor.container.style.pointerEvents="none";editor.container.style.opacity="0.5";var textArea=editor.container.querySelector("textarea");if(textArea){textArea.setAttribute("tabindex","-1")}editor.renderer.setStyle("disabled");editor.blur()}return editor}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _modes.XJsonMode}});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _modes.installXJsonMode}});var _modes=__webpack_require__(106)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _x_json.installXJsonMode}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json.XJsonMode}});var _x_json=__webpack_require__(107)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"installXJsonMode",{enumerable:true,get:function get(){return _x_json.installXJsonMode}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json.XJsonMode}});var _x_json=__webpack_require__(108)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.installXJsonMode=installXJsonMode;Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _console_lang.XJsonMode}});var _brace=_interopRequireDefault(__webpack_require__(38));var _console_lang=__webpack_require__(109);var _worker=__webpack_require__(116);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _brace$default$acequi=_brace.default.acequire("ace/worker/worker_client"),WorkerClient=_brace$default$acequi.WorkerClient;_console_lang.XJsonMode.prototype.createWorker=function(session){var xJsonWorker=new WorkerClient(["ace"],_worker.workerModule,"JsonWorker");xJsonWorker.attachToDocument(session.getDocument());xJsonWorker.on("annotate",(function(e){session.setAnnotations(e.data)}));xJsonWorker.on("terminate",(function(){session.clearAnnotations()}));return xJsonWorker};function installXJsonMode(editor){var session=editor.getSession();session.setMode(new _console_lang.XJsonMode)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _modes.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _modes.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _modes.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _modes.addXJsonToRules}});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _modes.XJsonMode}});var _modes=__webpack_require__(53)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchSqlHighlightRules",{enumerable:true,get:function get(){return _elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules}});Object.defineProperty(exports,"ScriptHighlightRules",{enumerable:true,get:function get(){return _script_highlight_rules.ScriptHighlightRules}});Object.defineProperty(exports,"XJsonHighlightRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.XJsonHighlightRules}});Object.defineProperty(exports,"addXJsonToRules",{enumerable:true,get:function get(){return _x_json_highlight_rules.addToRules}});var _elasticsearch_sql_highlight_rules=__webpack_require__(54);var _script_highlight_rules=__webpack_require__(55);var _x_json_highlight_rules=__webpack_require__(111)},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonHighlightRules=XJsonHighlightRules;exports.addToRules=addToRules;var _=_interopRequireWildcard(__webpack_require__(37));var _brace=_interopRequireDefault(__webpack_require__(38));__webpack_require__(112);var _elasticsearch_sql_highlight_rules=__webpack_require__(54);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var _require=__webpack_require__(55),ScriptHighlightRules=_require.ScriptHighlightRules;var _brace$default$acequi=_brace.default.acequire("ace/mode/json_highlight_rules"),JsonHighlightRules=_brace$default$acequi.JsonHighlightRules;var oop=_brace.default.acequire("ace/lib/oop");var jsonRules=function jsonRules(root){root=root?root:"json";var rules={};var xJsonRules=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules[root]=xJsonRules;rules[root+"-sql"]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("query")(\\s*?)(:)(\\s*?)(""")',next:"sql-start",merge:false,push:true}].concat(xJsonRules);rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function XJsonHighlightRules(){this.$rules=_objectSpread({},jsonRules("start"));this.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);this.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}oop.inherits(XJsonHighlightRules,JsonHighlightRules);function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]);otherRules.embedRules(_elasticsearch_sql_highlight_rules.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"XJsonMode",{enumerable:true,get:function get(){return _x_json_mode.XJsonMode}});var _x_json_mode=__webpack_require__(115)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XJsonMode=XJsonMode;var _brace=_interopRequireDefault(__webpack_require__(38));var _index=__webpack_require__(53);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var _brace$default$acequi=_brace.default.acequire("ace/mode/json"),JSONMode=_brace$default$acequi.Mode;var _brace$default$acequi2=_brace.default.acequire("ace/tokenizer"),AceTokenizer=_brace$default$acequi2.Tokenizer;var _brace$default$acequi3=_brace.default.acequire("ace/mode/matching_brace_outdent"),MatchingBraceOutdent=_brace$default$acequi3.MatchingBraceOutdent;var _brace$default$acequi4=_brace.default.acequire("ace/mode/behaviour/cstyle"),CstyleBehaviour=_brace$default$acequi4.CstyleBehaviour;var _brace$default$acequi5=_brace.default.acequire("ace/mode/folding/cstyle"),CStyleFoldMode=_brace$default$acequi5.FoldMode;function XJsonMode(){var ruleset=new _index.XJsonHighlightRules;ruleset.normalizeRules();this.$tokenizer=new AceTokenizer(ruleset.getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(XJsonMode,JSONMode)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.workerModule=void 0;var _worker=_interopRequireDefault(__webpack_require__(117));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var workerModule={id:"ace/mode/json_worker",src:_worker.default};exports.workerModule=workerModule},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='/* eslint-disable */\n/*\n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the json\n  mode from the brace distro.\n\n  It is very likely that this file will be removed in future but for now it enables\n  extended JSON parsing, like e.g. """{}""" (triple quotes)\n*/\n"no use strict";\n! function(window) {\n  function resolveModuleId(id, paths) {\n    for (var testPath = id, tail = ""; testPath;) {\n      var alias = paths[testPath];\n      if ("string" == typeof alias) return alias + tail;\n      if (alias) return alias.location.replace(/\\/*$/, "/") + (tail || alias.main || alias.name);\n      if (alias === !1) return "";\n      var i = testPath.lastIndexOf("/");\n      if (-1 === i) break;\n      tail = testPath.substr(i) + tail, testPath = testPath.slice(0, i)\n    }\n    return id\n  }\n  if (!(void 0 !== window.window && window.document || window.acequire && window.define)) {\n    window.console || (window.console = function() {\n      var msgs = Array.prototype.slice.call(arguments, 0);\n      postMessage({\n        type: "log",\n        data: msgs\n      })\n    }, window.console.error = window.console.warn = window.console.log = window.console.trace = window.console), window.window = window, window.ace = window, window.onerror = function(message, file, line, col, err) {\n      postMessage({\n        type: "error",\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack\n        }\n      })\n    }, window.normalizeModule = function(parentId, moduleName) {\n      if (-1 !== moduleName.indexOf("!")) {\n        var chunks = moduleName.split("!");\n        return window.normalizeModule(parentId, chunks[0]) + "!" + window.normalizeModule(parentId, chunks[1])\n      }\n      if ("." == moduleName.charAt(0)) {\n        var base = parentId.split("/").slice(0, -1).join("/");\n        for (moduleName = (base ? base + "/" : "") + moduleName; - 1 !== moduleName.indexOf(".") && previous != moduleName;) {\n          var previous = moduleName;\n          moduleName = moduleName.replace(/^\\.\\//, "").replace(/\\/\\.\\//, "/").replace(/[^\\/]+\\/\\.\\.\\//, "")\n        }\n      }\n      return moduleName\n    }, window.acequire = function acequire(parentId, id) {\n      if (id || (id = parentId, parentId = null), !id.charAt) throw Error("worker.js acequire() accepts only (parentId, id) as arguments");\n      id = window.normalizeModule(parentId, id);\n      var module = window.acequire.modules[id];\n      if (module) return module.initialized || (module.initialized = !0, module.exports = module.factory().exports), module.exports;\n      if (!window.acequire.tlns) return console.log("unable to load " + id);\n      var path = resolveModuleId(id, window.acequire.tlns);\n      return ".js" != path.slice(-3) && (path += ".js"), window.acequire.id = id, window.acequire.modules[id] = {}, importScripts(path), window.acequire(parentId, id)\n    }, window.acequire.modules = {}, window.acequire.tlns = {}, window.define = function(id, deps, factory) {\n      if (2 == arguments.length ? (factory = deps, "string" != typeof id && (deps = id, id = window.acequire.id)) : 1 == arguments.length && (factory = id, deps = [], id = window.acequire.id), "function" != typeof factory) return window.acequire.modules[id] = {\n        exports: factory,\n        initialized: !0\n      }, void 0;\n      deps.length || (deps = ["require", "exports", "module"]);\n      var req = function(childId) {\n        return window.acequire(id, childId)\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function() {\n          var module = this,\n            returnExports = factory.apply(this, deps.map(function(dep) {\n              switch (dep) {\n                case "require":\n                  return req;\n                case "exports":\n                  return module.exports;\n                case "module":\n                  return module;\n                default:\n                  return req(dep)\n              }\n            }));\n          return returnExports && (module.exports = returnExports), module\n        }\n      }\n    }, window.define.amd = {}, acequire.tlns = {}, window.initBaseUrls = function(topLevelNamespaces) {\n      for (var i in topLevelNamespaces) acequire.tlns[i] = topLevelNamespaces[i]\n    }, window.initSender = function() {\n      var EventEmitter = window.acequire("ace/lib/event_emitter").EventEmitter,\n        oop = window.acequire("ace/lib/oop"),\n        Sender = function() {};\n      return function() {\n        oop.implement(this, EventEmitter), this.callback = function(data, callbackId) {\n          postMessage({\n            type: "call",\n            id: callbackId,\n            data: data\n          })\n        }, this.emit = function(name, data) {\n          postMessage({\n            type: "event",\n            name: name,\n            data: data\n          })\n        }\n      }.call(Sender.prototype), new Sender\n    };\n    var main = window.main = null,\n      sender = window.sender = null;\n    window.onmessage = function(e) {\n      var msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command]) throw Error("Unknown command:" + msg.command);\n          window[msg.command].apply(window, msg.args)\n        }\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns), acequire("ace/lib/es5-shim"), sender = window.sender = window.initSender();\n        var clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender)\n      }\n    }\n  }\n}(this), ace.define("ace/lib/oop", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor, ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    })\n  }, exports.mixin = function(obj, mixin) {\n    for (var key in mixin) obj[key] = mixin[key];\n    return obj\n  }, exports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin)\n  }\n}), ace.define("ace/range", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  var comparePoints = function(p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column\n    },\n    Range = function(startRow, startColumn, endRow, endColumn) {\n      this.start = {\n        row: startRow,\n        column: startColumn\n      }, this.end = {\n        row: endRow,\n        column: endColumn\n      }\n    };\n  (function() {\n    this.isEqual = function(range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column\n    }, this.toString = function() {\n      return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"\n    }, this.contains = function(row, column) {\n      return 0 == this.compare(row, column)\n    }, this.compareRange = function(range) {\n      var cmp, end = range.end,\n        start = range.start;\n      return cmp = this.compare(end.row, end.column), 1 == cmp ? (cmp = this.compare(start.row, start.column), 1 == cmp ? 2 : 0 == cmp ? 1 : 0) : -1 == cmp ? -2 : (cmp = this.compare(start.row, start.column), -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n    }, this.comparePoint = function(p) {\n      return this.compare(p.row, p.column)\n    }, this.containsRange = function(range) {\n      return 0 == this.comparePoint(range.start) && 0 == this.comparePoint(range.end)\n    }, this.intersects = function(range) {\n      var cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp\n    }, this.isEnd = function(row, column) {\n      return this.end.row == row && this.end.column == column\n    }, this.isStart = function(row, column) {\n      return this.start.row == row && this.start.column == column\n    }, this.setStart = function(row, column) {\n      "object" == typeof row ? (this.start.column = row.column, this.start.row = row.row) : (this.start.row = row, this.start.column = column)\n    }, this.setEnd = function(row, column) {\n      "object" == typeof row ? (this.end.column = row.column, this.end.row = row.row) : (this.end.row = row, this.end.column = column)\n    }, this.inside = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isEnd(row, column) || this.isStart(row, column) ? !1 : !0 : !1\n    }, this.insideStart = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isEnd(row, column) ? !1 : !0 : !1\n    }, this.insideEnd = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isStart(row, column) ? !1 : !0 : !1\n    }, this.compare = function(row, column) {\n      return this.isMultiLine() || row !== this.start.row ? this.start.row > row ? -1 : row > this.end.row ? 1 : this.start.row === row ? column >= this.start.column ? 0 : -1 : this.end.row === row ? this.end.column >= column ? 0 : 1 : 0 : this.start.column > column ? -1 : column > this.end.column ? 1 : 0\n    }, this.compareStart = function(row, column) {\n      return this.start.row == row && this.start.column == column ? -1 : this.compare(row, column)\n    }, this.compareEnd = function(row, column) {\n      return this.end.row == row && this.end.column == column ? 1 : this.compare(row, column)\n    }, this.compareInside = function(row, column) {\n      return this.end.row == row && this.end.column == column ? 1 : this.start.row == row && this.start.column == column ? -1 : this.compare(row, column)\n    }, this.clipRows = function(firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };\n      else if (firstRow > this.end.row) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };\n      else if (firstRow > this.start.row) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end)\n    }, this.extend = function(row, column) {\n      var cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = {\n        row: row,\n        column: column\n      };\n      else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end)\n    }, this.isEmpty = function() {\n      return this.start.row === this.end.row && this.start.column === this.end.column\n    }, this.isMultiLine = function() {\n      return this.start.row !== this.end.row\n    }, this.clone = function() {\n      return Range.fromPoints(this.start, this.end)\n    }, this.collapseRows = function() {\n      return 0 == this.end.column ? new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new Range(this.start.row, 0, this.end.row, 0)\n    }, this.toScreenRange = function(session) {\n      var screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column)\n    }, this.moveBy = function(row, column) {\n      this.start.row += row, this.start.column += column, this.end.row += row, this.end.column += column\n    }\n  }).call(Range.prototype), Range.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column)\n  }, Range.comparePoints = comparePoints, Range.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column\n  }, exports.Range = Range\n}), ace.define("ace/apply_delta", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.applyDelta = function(docLines, delta) {\n    var row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || "";\n    switch (delta.action) {\n      case "insert":\n        var lines = delta.lines;\n        if (1 === lines.length) docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args), docLines[row] = line.substring(0, startColumn) + docLines[row], docLines[row + delta.lines.length - 1] += line.substring(startColumn)\n        }\n        break;\n      case "remove":\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow ? docLines[row] = line.substring(0, startColumn) + line.substring(endColumn) : docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn))\n    }\n  }\n}), ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  var EventEmitter = {},\n    stopPropagation = function() {\n      this.propagationStopped = !0\n    },\n    preventDefault = function() {\n      this.defaultPrevented = !0\n    };\n  EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [],\n      defaultHandler = this._defaultHandlers[eventName];\n    if (listeners.length || defaultHandler) {\n      "object" == typeof e && e || (e = {}), e.type || (e.type = eventName), e.stopPropagation || (e.stopPropagation = stopPropagation), e.preventDefault || (e.preventDefault = preventDefault), listeners = listeners.slice();\n      for (var i = 0; listeners.length > i && (listeners[i](e, this), !e.propagationStopped); i++);\n      return defaultHandler && !e.defaultPrevented ? defaultHandler(e, this) : void 0\n    }\n  }, EventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (listeners) {\n      listeners = listeners.slice();\n      for (var i = 0; listeners.length > i; i++) listeners[i](e, this)\n    }\n  }, EventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n      _self.removeEventListener(eventName, newCallback), callback.apply(null, arguments)\n    })\n  }, EventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (handlers || (handlers = this._defaultHandlers = {\n        _disabled_: {}\n      }), handlers[eventName]) {\n      var old = handlers[eventName],\n        disabled = handlers._disabled_[eventName];\n      disabled || (handlers._disabled_[eventName] = disabled = []), disabled.push(old);\n      var i = disabled.indexOf(callback); - 1 != i && disabled.splice(i, 1)\n    }\n    handlers[eventName] = callback\n  }, EventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (handlers) {\n      var disabled = handlers._disabled_[eventName];\n      if (handlers[eventName] == callback) handlers[eventName], disabled && this.setDefaultHandler(eventName, disabled.pop());\n      else if (disabled) {\n        var i = disabled.indexOf(callback); - 1 != i && disabled.splice(i, 1)\n      }\n    }\n  }, EventEmitter.on = EventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    return listeners || (listeners = this._eventRegistry[eventName] = []), -1 == listeners.indexOf(callback) && listeners[capturing ? "unshift" : "push"](callback), callback\n  }, EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (listeners) {\n      var index = listeners.indexOf(callback); - 1 !== index && listeners.splice(index, 1)\n    }\n  }, EventEmitter.removeAllListeners = function(eventName) {\n    this._eventRegistry && (this._eventRegistry[eventName] = [])\n  }, exports.EventEmitter = EventEmitter\n}), ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("./lib/oop"),\n    EventEmitter = acequire("./lib/event_emitter").EventEmitter,\n    Anchor = exports.Anchor = function(doc, row, column) {\n      this.$onChange = this.onChange.bind(this), this.attach(doc), column === void 0 ? this.setPosition(row.row, row.column) : this.setPosition(row, column)\n    };\n  (function() {\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter\n    }\n\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = "insert" == delta.action,\n        deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n        deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column),\n        deltaStart = delta.start,\n        deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n      return $pointsInOrder(point, deltaStart, moveIfEqual) ? {\n        row: point.row,\n        column: point.column\n      } : $pointsInOrder(deltaEnd, point, !moveIfEqual) ? {\n        row: point.row + deltaRowShift,\n        column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n      } : {\n        row: deltaStart.row,\n        column: deltaStart.column\n      }\n    }\n    oop.implement(this, EventEmitter), this.getPosition = function() {\n      return this.$clipPositionToDocument(this.row, this.column)\n    }, this.getDocument = function() {\n      return this.document\n    }, this.$insertRight = !1, this.onChange = function(delta) {\n      if (!(delta.start.row == delta.end.row && delta.start.row != this.row || delta.start.row > this.row)) {\n        var point = $getTransformedPoint(delta, {\n          row: this.row,\n          column: this.column\n        }, this.$insertRight);\n        this.setPosition(point.row, point.column, !0)\n      }\n    }, this.setPosition = function(row, column, noClip) {\n      var pos;\n      if (pos = noClip ? {\n          row: row,\n          column: column\n        } : this.$clipPositionToDocument(row, column), this.row != pos.row || this.column != pos.column) {\n        var old = {\n          row: this.row,\n          column: this.column\n        };\n        this.row = pos.row, this.column = pos.column, this._signal("change", {\n          old: old,\n          value: pos\n        })\n      }\n    }, this.detach = function() {\n      this.document.removeEventListener("change", this.$onChange)\n    }, this.attach = function(doc) {\n      this.document = doc || this.document, this.document.on("change", this.$onChange)\n    }, this.$clipPositionToDocument = function(row, column) {\n      var pos = {};\n      return row >= this.document.getLength() ? (pos.row = Math.max(0, this.document.getLength() - 1), pos.column = this.document.getLine(pos.row).length) : 0 > row ? (pos.row = 0, pos.column = 0) : (pos.row = row, pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column))), 0 > column && (pos.column = 0), pos\n    }\n  }).call(Anchor.prototype)\n}), ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("./lib/oop"),\n    applyDelta = acequire("./apply_delta").applyDelta,\n    EventEmitter = acequire("./lib/event_emitter").EventEmitter,\n    Range = acequire("./range").Range,\n    Anchor = acequire("./anchor").Anchor,\n    Document = function(textOrLines) {\n      this.$lines = [""], 0 === textOrLines.length ? this.$lines = [""] : Array.isArray(textOrLines) ? this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines) : this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines)\n    };\n  (function() {\n    oop.implement(this, EventEmitter), this.setValue = function(text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length)), this.insert({\n        row: 0,\n        column: 0\n      }, text)\n    }, this.getValue = function() {\n      return this.getAllLines().join(this.getNewLineCharacter())\n    }, this.createAnchor = function(row, column) {\n      return new Anchor(this, row, column)\n    }, this.$split = 0 === "aaa".split(/a/).length ? function(text) {\n      return text.replace(/\\r\\n|\\r/g, "\\n").split("\\n")\n    } : function(text) {\n      return text.split(/\\r\\n|\\r|\\n/)\n    }, this.$detectNewLine = function(text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : "\\n", this._signal("changeNewLineMode")\n    }, this.getNewLineCharacter = function() {\n      switch (this.$newLineMode) {\n        case "windows":\n          return "\\r\\n";\n        case "unix":\n          return "\\n";\n        default:\n          return this.$autoNewLine || "\\n"\n      }\n    }, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function(newLineMode) {\n      this.$newLineMode !== newLineMode && (this.$newLineMode = newLineMode, this._signal("changeNewLineMode"))\n    }, this.getNewLineMode = function() {\n      return this.$newLineMode\n    }, this.isNewLine = function(text) {\n      return "\\r\\n" == text || "\\r" == text || "\\n" == text\n    }, this.getLine = function(row) {\n      return this.$lines[row] || ""\n    }, this.getLines = function(firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1)\n    }, this.getAllLines = function() {\n      return this.getLines(0, this.getLength())\n    }, this.getLength = function() {\n      return this.$lines.length\n    }, this.getTextRange = function(range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter())\n    }, this.getLinesForRange = function(range) {\n      var lines;\n      if (range.start.row === range.end.row) lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      else {\n        lines = this.getLines(range.start.row, range.end.row), lines[0] = (lines[0] || "").substring(range.start.column);\n        var l = lines.length - 1;\n        range.end.row - range.start.row == l && (lines[l] = lines[l].substring(0, range.end.column))\n      }\n      return lines\n    }, this.insertLines = function(row, lines) {\n      return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(row, lines)\n    }, this.removeLines = function(firstRow, lastRow) {\n      return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(firstRow, lastRow)\n    }, this.insertNewLine = function(position) {\n      return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."), this.insertMergedLines(position, ["", ""])\n    }, this.insert = function(position, text) {\n      return 1 >= this.getLength() && this.$detectNewLine(text), this.insertMergedLines(position, this.$split(text))\n    }, this.insertInLine = function(position, text) {\n      var start = this.clippedPos(position.row, position.column),\n        end = this.pos(position.row, position.column + text.length);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "insert",\n        lines: [text]\n      }, !0), this.clonePos(end)\n    }, this.clippedPos = function(row, column) {\n      var length = this.getLength();\n      void 0 === row ? row = length : 0 > row ? row = 0 : row >= length && (row = length - 1, column = void 0);\n      var line = this.getLine(row);\n      return void 0 == column && (column = line.length), column = Math.min(Math.max(column, 0), line.length), {\n        row: row,\n        column: column\n      }\n    }, this.clonePos = function(pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      }\n    }, this.pos = function(row, column) {\n      return {\n        row: row,\n        column: column\n      }\n    }, this.$clipPosition = function(position) {\n      var length = this.getLength();\n      return position.row >= length ? (position.row = Math.max(0, length - 1), position.column = this.getLine(length - 1).length) : (position.row = Math.max(0, position.row), position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length)), position\n    }, this.insertFullLines = function(row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n      this.getLength() > row ? (lines = lines.concat([""]), column = 0) : (lines = [""].concat(lines), row--, column = this.$lines[row].length), this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines)\n    }, this.insertMergedLines = function(position, lines) {\n      var start = this.clippedPos(position.row, position.column),\n        end = {\n          row: start.row + lines.length - 1,\n          column: (1 == lines.length ? start.column : 0) + lines[lines.length - 1].length\n        };\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "insert",\n        lines: lines\n      }), this.clonePos(end)\n    }, this.remove = function(range) {\n      var start = this.clippedPos(range.start.row, range.start.column),\n        end = this.clippedPos(range.end.row, range.end.column);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "remove",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }), this.clonePos(start)\n    }, this.removeInLine = function(row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn),\n        end = this.clippedPos(row, endColumn);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "remove",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, !0), this.clonePos(start)\n    }, this.removeFullLines = function(firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1), lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0,\n        deleteLastNewLine = this.getLength() - 1 > lastRow,\n        startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n        startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n        endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n        endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n        range = new Range(startRow, startCol, endRow, endCol),\n        deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      return this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: "remove",\n        lines: this.getLinesForRange(range)\n      }), deletedLines\n    }, this.removeNewLine = function(row) {\n      this.getLength() - 1 > row && row >= 0 && this.applyDelta({\n        start: this.pos(row, this.getLine(row).length),\n        end: this.pos(row + 1, 0),\n        action: "remove",\n        lines: ["", ""]\n      })\n    }, this.replace = function(range, text) {\n      if (range instanceof Range || (range = Range.fromPoints(range.start, range.end)), 0 === text.length && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n      return end = text ? this.insert(range.start, text) : range.start\n    }, this.applyDeltas = function(deltas) {\n      for (var i = 0; deltas.length > i; i++) this.applyDelta(deltas[i])\n    }, this.revertDeltas = function(deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) this.revertDelta(deltas[i])\n    }, this.applyDelta = function(delta, doNotValidate) {\n      var isInsert = "insert" == delta.action;\n      (isInsert ? 1 >= delta.lines.length && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) || (isInsert && delta.lines.length > 2e4 && this.$splitAndapplyLargeDelta(delta, 2e4), applyDelta(this.$lines, delta, doNotValidate), this._signal("change", delta))\n    }, this.$splitAndapplyLargeDelta = function(delta, MAX) {\n      for (var lines = delta.lines, l = lines.length, row = delta.start.row, column = delta.start.column, from = 0, to = 0;;) {\n        from = to, to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        if (to > l) {\n          delta.lines = chunk, delta.start.row = row + from, delta.start.column = column;\n          break\n        }\n        chunk.push(""), this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, !0)\n      }\n    }, this.revertDelta = function(delta) {\n      this.applyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: "insert" == delta.action ? "remove" : "insert",\n        lines: delta.lines.slice()\n      })\n    }, this.indexToPosition = function(index, startRow) {\n      for (var lines = this.$lines || this.getAllLines(), newlineLength = this.getNewLineCharacter().length, i = startRow || 0, l = lines.length; l > i; i++)\n        if (index -= lines[i].length + newlineLength, 0 > index) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      return {\n        row: l - 1,\n        column: lines[l - 1].length\n      }\n    }, this.positionToIndex = function(pos, startRow) {\n      for (var lines = this.$lines || this.getAllLines(), newlineLength = this.getNewLineCharacter().length, index = 0, row = Math.min(pos.row, lines.length), i = startRow || 0; row > i; ++i) index += lines[i].length + newlineLength;\n      return index + pos.column\n    }\n  }).call(Document.prototype), exports.Document = Document\n}), ace.define("ace/lib/lang", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.last = function(a) {\n    return a[a.length - 1]\n  }, exports.stringReverse = function(string) {\n    return string.split("").reverse().join("")\n  }, exports.stringRepeat = function(string, count) {\n    for (var result = ""; count > 0;) 1 & count && (result += string), (count >>= 1) && (string += string);\n    return result\n  };\n  var trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  exports.stringTrimLeft = function(string) {\n    return string.replace(trimBeginRegexp, "")\n  }, exports.stringTrimRight = function(string) {\n    return string.replace(trimEndRegexp, "")\n  }, exports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) copy[key] = obj[key];\n    return copy\n  }, exports.copyArray = function(array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++) copy[i] = array[i] && "object" == typeof array[i] ? this.copyObject(array[i]) : array[i];\n    return copy\n  }, exports.deepCopy = function deepCopy(obj) {\n    if ("object" != typeof obj || !obj) return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++) copy[key] = deepCopy(obj[key]);\n      return copy\n    }\n    if ("[object Object]" !== Object.prototype.toString.call(obj)) return obj;\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy\n  }, exports.arrayToMap = function(arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map\n  }, exports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) map[i] = props[i];\n    return map\n  }, exports.arrayRemove = function(array, value) {\n    for (var i = 0; array.length >= i; i++) value === array[i] && array.splice(i, 1)\n  }, exports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, "\\\\$1")\n  }, exports.escapeHTML = function(str) {\n    return str.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/\'/g, "&#39;").replace(/</g, "&#60;")\n  }, exports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n    return string.replace(regExp, function(str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      })\n    }), matches\n  }, exports.deferredCall = function(fcn) {\n    var timer = null,\n      callback = function() {\n        timer = null, fcn()\n      },\n      deferred = function(timeout) {\n        return deferred.cancel(), timer = setTimeout(callback, timeout || 0), deferred\n      };\n    return deferred.schedule = deferred, deferred.call = function() {\n      return this.cancel(), fcn(), deferred\n    }, deferred.cancel = function() {\n      return clearTimeout(timer), timer = null, deferred\n    }, deferred.isPending = function() {\n      return timer\n    }, deferred\n  }, exports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null,\n      callback = function() {\n        timer = null, fcn()\n      },\n      _self = function(timeout) {\n        null == timer && (timer = setTimeout(callback, timeout || defaultTimeout))\n      };\n    return _self.delay = function(timeout) {\n      timer && clearTimeout(timer), timer = setTimeout(callback, timeout || defaultTimeout)\n    }, _self.schedule = _self, _self.call = function() {\n      this.cancel(), fcn()\n    }, _self.cancel = function() {\n      timer && clearTimeout(timer), timer = null\n    }, _self.isPending = function() {\n      return timer\n    }, _self\n  }\n}), ace.define("ace/worker/mirror", ["require", "exports", "module", "ace/range", "ace/document", "ace/lib/lang"], function(acequire, exports) {\n  "use strict";\n  acequire("../range").Range;\n  var Document = acequire("../document").Document,\n    lang = acequire("../lib/lang"),\n    Mirror = exports.Mirror = function(sender) {\n      this.sender = sender;\n      var doc = this.doc = new Document(""),\n        deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this)),\n        _self = this;\n      sender.on("change", function(e) {\n        var data = e.data;\n        if (data[0].start) doc.applyDeltas(data);\n        else\n          for (var i = 0; data.length > i; i += 2) {\n            if (Array.isArray(data[i + 1])) var d = {\n              action: "insert",\n              start: data[i],\n              lines: data[i + 1]\n            };\n            else var d = {\n              action: "remove",\n              start: data[i],\n              end: data[i + 1]\n            };\n            doc.applyDelta(d, !0)\n          }\n        return _self.$timeout ? deferredUpdate.schedule(_self.$timeout) : (_self.onUpdate(), void 0)\n      })\n    };\n  (function() {\n    this.$timeout = 500, this.setTimeout = function(timeout) {\n      this.$timeout = timeout\n    }, this.setValue = function(value) {\n      this.doc.setValue(value), this.deferredUpdate.schedule(this.$timeout)\n    }, this.getValue = function(callbackId) {\n      this.sender.callback(this.doc.getValue(), callbackId)\n    }, this.onUpdate = function() {}, this.isPending = function() {\n      return this.deferredUpdate.isPending()\n    }\n  }).call(Mirror.prototype)\n}), ace.define("ace/mode/json/json_parse", ["require", "exports", "module"], function() {\n  "use strict";\n  var at, ch, text, value, escapee = {\n      \'"\': \'"\',\n      "\\\\": "\\\\",\n      "/": "/",\n      b: "\\b",\n      f: "\\f",\n      n: "\\n",\n      r: "\\r",\n      t: "\t"\n    },\n    error = function(m) {\n      throw {\n        name: "SyntaxError",\n        message: m,\n        at: at,\n        text: text\n      }\n    },\n    reset = function (newAt) {\n      ch = text.charAt(newAt);\n      at = newAt + 1;\n    },\n    next = function(c) {\n      return c && c !== ch && error("Expected \'" + c + "\' instead of \'" + ch + "\'"), ch = text.charAt(at), at += 1, ch\n    },\n    nextUpTo = function (upTo, errorMessage) {\n      let currentAt = at,\n        i = text.indexOf(upTo, currentAt);\n      if (i < 0) {\n        error(errorMessage || \'Expected \\\'\' + upTo + \'\\\'\');\n      }\n      reset(i + upTo.length);\n      return text.substring(currentAt, i);\n    },\n    peek = function (c) {\n      return text.substr(at, c.length) === c; // nocommit - double check\n    },\n    number = function() {\n      var number, string = "";\n      for ("-" === ch && (string = "-", next("-")); ch >= "0" && "9" >= ch;) string += ch, next();\n      if ("." === ch)\n        for (string += "."; next() && ch >= "0" && "9" >= ch;) string += ch;\n      if ("e" === ch || "E" === ch)\n        for (string += ch, next(), ("-" === ch || "+" === ch) && (string += ch, next()); ch >= "0" && "9" >= ch;) string += ch, next();\n      return number = +string, isNaN(number) ? (error("Bad number"), void 0) : number\n    },\n    string = function() {\n      var hex, i, uffff, string = "";\n      if (\'"\' === ch) {\n        if (peek(\'""\')) {\n          // literal\n          next(\'"\');\n          next(\'"\');\n          return nextUpTo(\'"""\', \'failed to find closing \\\'"""\\\'\');\n        } else {\n          for (; next();) {\n            if (\'"\' === ch) return next(), string;\n            if ("\\\\" === ch)\n              if (next(), "u" === ch) {\n                for (uffff = 0, i = 0; 4 > i && (hex = parseInt(next(), 16), isFinite(hex)); i += 1) uffff = 16 * uffff + hex;\n                string += String.fromCharCode(uffff)\n              } else {\n                if ("string" != typeof escapee[ch]) break;\n                string += escapee[ch]\n              }\n            else string += ch\n          }\n        }\n      }\n      error("Bad string")\n    },\n    white = function() {\n      for (; ch && " " >= ch;) next()\n    },\n    word = function() {\n      switch (ch) {\n        case "t":\n          return next("t"), next("r"), next("u"), next("e"), !0;\n        case "f":\n          return next("f"), next("a"), next("l"), next("s"), next("e"), !1;\n        case "n":\n          return next("n"), next("u"), next("l"), next("l"), null\n      }\n      error("Unexpected \'" + ch + "\'")\n    },\n    array = function() {\n      var array = [];\n      if ("[" === ch) {\n        if (next("["), white(), "]" === ch) return next("]"), array;\n        for (; ch;) {\n          if (array.push(value()), white(), "]" === ch) return next("]"), array;\n          next(","), white()\n        }\n      }\n      error("Bad array")\n    },\n    object = function() {\n      var key, object = {};\n      if ("{" === ch) {\n        if (next("{"), white(), "}" === ch) return next("}"), object;\n        for (; ch;) {\n          if (key = string(), white(), next(":"), Object.hasOwnProperty.call(object, key) && error(\'Duplicate key "\' + key + \'"\'), object[key] = value(), white(), "}" === ch) return next("}"), object;\n          next(","), white()\n        }\n      }\n      error("Bad object")\n    };\n  return value = function() {\n      switch (white(), ch) {\n        case "{":\n          return object();\n        case "[":\n          return array();\n        case \'"\':\n          return string();\n        case "-":\n          return number();\n        default:\n          return ch >= "0" && "9" >= ch ? number() : word()\n      }\n    },\n    function(source, reviver) {\n      var result;\n      return text = source, at = 0, ch = " ", result = value(), white(), ch && error("Syntax error"), "function" == typeof reviver ? function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && "object" == typeof value)\n          for (k in value) Object.hasOwnProperty.call(value, k) && (v = walk(value, k), void 0 !== v ? value[k] = v : delete value[k]);\n        return reviver.call(holder, key, value)\n      }({\n        "": result\n      }, "") : result\n    }\n}), ace.define("ace/mode/json_worker", ["require", "exports", "module", "ace/lib/oop", "ace/worker/mirror", "ace/mode/json/json_parse"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("../lib/oop"),\n    Mirror = acequire("../worker/mirror").Mirror,\n    parse = acequire("./json/json_parse"),\n    JsonWorker = exports.JsonWorker = function(sender) {\n      Mirror.call(this, sender), this.setTimeout(200)\n    };\n  oop.inherits(JsonWorker, Mirror),\n    function() {\n      this.onUpdate = function() {\n        var value = this.doc.getValue(),\n          errors = [];\n        try {\n          value && parse(value)\n        } catch (e) {\n          var pos = this.doc.indexToPosition(e.at - 1);\n          errors.push({\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: "error"\n          })\n        }\n        this.sender.emit("annotate", errors)\n      }\n    }.call(JsonWorker.prototype)\n}), ace.define("ace/lib/es5-shim", ["require", "exports", "module"], function() {\n  function Empty() {}\n\n  function doesDefinePropertyWork(object) {\n    try {\n      return Object.defineProperty(object, "sentinel", {}), "sentinel" in object\n    } catch (exception) {}\n  }\n\n  function toInteger(n) {\n    return n = +n, n !== n ? n = 0 : 0 !== n && n !== 1 / 0 && n !== -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n))), n\n  }\n  Function.prototype.bind || (Function.prototype.bind = function(that) {\n    var target = this;\n    if ("function" != typeof target) throw new TypeError("Function.prototype.bind called on incompatible " + target);\n    var args = slice.call(arguments, 1),\n      bound = function() {\n        if (this instanceof bound) {\n          var result = target.apply(this, args.concat(slice.call(arguments)));\n          return Object(result) === result ? result : this\n        }\n        return target.apply(that, args.concat(slice.call(arguments)))\n      };\n    return target.prototype && (Empty.prototype = target.prototype, bound.prototype = new Empty, Empty.prototype = null), bound\n  });\n  var defineGetter, defineSetter, lookupGetter, lookupSetter, supportsAccessors, call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if ((supportsAccessors = owns(prototypeOfObject, "__defineGetter__")) && (defineGetter = call.bind(prototypeOfObject.__defineGetter__), defineSetter = call.bind(prototypeOfObject.__defineSetter__), lookupGetter = call.bind(prototypeOfObject.__lookupGetter__), lookupSetter = call.bind(prototypeOfObject.__lookupSetter__)), 2 != [1, 2].splice(0).length)\n    if (function() {\n        function makeArray(l) {\n          var a = Array(l + 2);\n          return a[0] = a[1] = 0, a\n        }\n        var lengthBefore, array = [];\n        return array.splice.apply(array, makeArray(20)), array.splice.apply(array, makeArray(26)), lengthBefore = array.length, array.splice(5, 0, "XXX"), lengthBefore + 1 == array.length, lengthBefore + 1 == array.length ? !0 : void 0\n      }()) {\n      var array_splice = Array.prototype.splice;\n      Array.prototype.splice = function(start, deleteCount) {\n        return arguments.length ? array_splice.apply(this, [void 0 === start ? 0 : start, void 0 === deleteCount ? this.length - start : deleteCount].concat(slice.call(arguments, 2))) : []\n      }\n    } else Array.prototype.splice = function(pos, removeCount) {\n      var length = this.length;\n      pos > 0 ? pos > length && (pos = length) : void 0 == pos ? pos = 0 : 0 > pos && (pos = Math.max(length + pos, 0)), length > pos + removeCount || (removeCount = length - pos);\n      var removed = this.slice(pos, pos + removeCount),\n        insert = slice.call(arguments, 2),\n        add = insert.length;\n      if (pos === length) add && this.push.apply(this, insert);\n      else {\n        var remove = Math.min(removeCount, length - pos),\n          tailOldPos = pos + remove,\n          tailNewPos = tailOldPos + add - remove,\n          tailCount = length - tailOldPos,\n          lengthAfterRemove = length - remove;\n        if (tailOldPos > tailNewPos)\n          for (var i = 0; tailCount > i; ++i) this[tailNewPos + i] = this[tailOldPos + i];\n        else if (tailNewPos > tailOldPos)\n          for (i = tailCount; i--;) this[tailNewPos + i] = this[tailOldPos + i];\n        if (add && pos === lengthAfterRemove) this.length = lengthAfterRemove, this.push.apply(this, insert);\n        else\n          for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i) this[pos + i] = insert[i]\n      }\n      return removed\n    };\n  Array.isArray || (Array.isArray = function(obj) {\n    return "[object Array]" == _toString(obj)\n  });\n  var boxedString = Object("a"),\n    splitString = "a" != boxedString[0] || !(0 in boxedString);\n  if (Array.prototype.forEach || (Array.prototype.forEach = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        thisp = arguments[1],\n        i = -1,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError;\n      for (; length > ++i;) i in self && fun.call(thisp, self[i], i, object)\n    }), Array.prototype.map || (Array.prototype.map = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        result = Array(length),\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++) i in self && (result[i] = fun.call(thisp, self[i], i, object));\n      return result\n    }), Array.prototype.filter || (Array.prototype.filter = function(fun) {\n      var value, object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        result = [],\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++) i in self && (value = self[i], fun.call(thisp, value, i, object) && result.push(value));\n      return result\n    }), Array.prototype.every || (Array.prototype.every = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++)\n        if (i in self && !fun.call(thisp, self[i], i, object)) return !1;\n      return !0\n    }), Array.prototype.some || (Array.prototype.some = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++)\n        if (i in self && fun.call(thisp, self[i], i, object)) return !0;\n      return !1\n    }), Array.prototype.reduce || (Array.prototype.reduce = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      if (!length && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value");\n      var result, i = 0;\n      if (arguments.length >= 2) result = arguments[1];\n      else\n        for (;;) {\n          if (i in self) {\n            result = self[i++];\n            break\n          }\n          if (++i >= length) throw new TypeError("reduce of empty array with no initial value")\n        }\n      for (; length > i; i++) i in self && (result = fun.call(void 0, result, self[i], i, object));\n      return result\n    }), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      if (!length && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value");\n      var result, i = length - 1;\n      if (arguments.length >= 2) result = arguments[1];\n      else\n        for (;;) {\n          if (i in self) {\n            result = self[i--];\n            break\n          }\n          if (0 > --i) throw new TypeError("reduceRight of empty array with no initial value")\n        }\n      do i in this && (result = fun.call(void 0, result, self[i], i, object)); while (i--);\n      return result\n    }), Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function(sought) {\n      var self = splitString && "[object String]" == _toString(this) ? this.split("") : toObject(this),\n        length = self.length >>> 0;\n      if (!length) return -1;\n      var i = 0;\n      for (arguments.length > 1 && (i = toInteger(arguments[1])), i = i >= 0 ? i : Math.max(0, length + i); length > i; i++)\n        if (i in self && self[i] === sought) return i;\n      return -1\n    }), Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(sought) {\n      var self = splitString && "[object String]" == _toString(this) ? this.split("") : toObject(this),\n        length = self.length >>> 0;\n      if (!length) return -1;\n      var i = length - 1;\n      for (arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))), i = i >= 0 ? i : length - Math.abs(i); i >= 0; i--)\n        if (i in self && sought === self[i]) return i;\n      return -1\n    }), Object.getPrototypeOf || (Object.getPrototypeOf = function(object) {\n      return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject)\n    }), !Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a non-object: ";\n    Object.getOwnPropertyDescriptor = function(object, property) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError(ERR_NON_OBJECT + object);\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (descriptor = {\n            enumerable: !0,\n            configurable: !0\n          }, supportsAccessors) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (object.__proto__ = prototype, getter || setter) return getter && (descriptor.get = getter), setter && (descriptor.set = setter), descriptor\n        }\n        return descriptor.value = object[property], descriptor\n      }\n    }\n  }\n  if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(object) {\n      return Object.keys(object)\n    }), !Object.create) {\n    var createEmpty;\n    createEmpty = null === Object.prototype.__proto__ ? function() {\n      return {\n        __proto__: null\n      }\n    } : function() {\n      var empty = {};\n      for (var i in empty) empty[i] = null;\n      return empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null, empty\n    }, Object.create = function(prototype, properties) {\n      var object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ("object" != typeof prototype) throw new TypeError("typeof prototype[" + typeof prototype + "] != \'object\'");\n        var Type = function() {};\n        Type.prototype = prototype, object = new Type, object.__proto__ = prototype\n      }\n      return void 0 !== properties && Object.defineProperties(object, properties), object\n    }\n  }\n  if (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom = "undefined" == typeof document || doesDefinePropertyWork(document.createElement("div"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) var definePropertyFallback = Object.defineProperty\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = "Property description must be an object: ",\n      ERR_NON_OBJECT_TARGET = "Object.defineProperty called on non-object: ",\n      ERR_ACCESSORS_NOT_SUPPORTED = "getters & setters can not be defined on this javascript engine";\n    Object.defineProperty = function(object, property, descriptor) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n      if ("object" != typeof descriptor && "function" != typeof descriptor || null === descriptor) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n      if (definePropertyFallback) try {\n        return definePropertyFallback.call(Object, object, property, descriptor)\n      } catch (exception) {}\n      if (owns(descriptor, "value"))\n        if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject, delete object[property], object[property] = descriptor.value, object.__proto__ = prototype\n        } else object[property] = descriptor.value;\n      else {\n        if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n        owns(descriptor, "get") && defineGetter(object, property, descriptor.get), owns(descriptor, "set") && defineSetter(object, property, descriptor.set)\n      }\n      return object\n    }\n  }\n  Object.defineProperties || (Object.defineProperties = function(object, properties) {\n    for (var property in properties) owns(properties, property) && Object.defineProperty(object, property, properties[property]);\n    return object\n  }), Object.seal || (Object.seal = function(object) {\n    return object\n  }), Object.freeze || (Object.freeze = function(object) {\n    return object\n  });\n  try {\n    Object.freeze(function() {})\n  } catch (exception) {\n    Object.freeze = function(freezeObject) {\n      return function(object) {\n        return "function" == typeof object ? object : freezeObject(object)\n      }\n    }(Object.freeze)\n  }\n  if (Object.preventExtensions || (Object.preventExtensions = function(object) {\n      return object\n    }), Object.isSealed || (Object.isSealed = function() {\n      return !1\n    }), Object.isFrozen || (Object.isFrozen = function() {\n      return !1\n    }), Object.isExtensible || (Object.isExtensible = function(object) {\n      if (Object(object) === object) throw new TypeError;\n      for (var name = ""; owns(object, name);) name += "?";\n      object[name] = !0;\n      var returnValue = owns(object, name);\n      return delete object[name], returnValue\n    }), !Object.keys) {\n    var hasDontEnumBug = !0,\n      dontEnums = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],\n      dontEnumsLength = dontEnums.length;\n    for (var key in {\n        toString: null\n      }) hasDontEnumBug = !1;\n    Object.keys = function(object) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError("Object.keys called on a non-object");\n      var keys = [];\n      for (var name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n          var dontEnum = dontEnums[i];\n          owns(object, dontEnum) && keys.push(dontEnum)\n        }\n      return keys\n    }\n  }\n  Date.now || (Date.now = function() {\n    return (new Date).getTime()\n  });\n  var ws = "\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";\n  if (!String.prototype.trim || ws.trim()) {\n    ws = "[" + ws + "]";\n    var trimBeginRegexp = RegExp("^" + ws + ws + "*"),\n      trimEndRegexp = RegExp(ws + ws + "*$");\n    String.prototype.trim = function() {\n      return (this + "").replace(trimBeginRegexp, "").replace(trimEndRegexp, "")\n    }\n  }\n  var toObject = function(o) {\n    if (null == o) throw new TypeError("can\'t convert " + o + " to object");\n    return Object(o)\n  }\n});\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useRequestProfile",{enumerable:true,get:function get(){return _use_request_profile.useRequestProfile}});var _use_request_profile=__webpack_require__(119)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useRequestProfile=void 0;var _i18n=__webpack_require__(3);var _app_context=__webpack_require__(40);var _utils=__webpack_require__(36);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var extractProfilerErrorMessage=function extractProfilerErrorMessage(e){var _e$body,_e$body$attributes,_e$body$attributes$er,_e$body2;if((_e$body=e.body)===null||_e$body===void 0?void 0:(_e$body$attributes=_e$body.attributes)===null||_e$body$attributes===void 0?void 0:(_e$body$attributes$er=_e$body$attributes.error)===null||_e$body$attributes$er===void 0?void 0:_e$body$attributes$er.reason){var _e$body$attributes$er2=e.body.attributes.error,reason=_e$body$attributes$er2.reason,line=_e$body$attributes$er2.line,col=_e$body$attributes$er2.col;if(typeof line==="number"&&typeof col==="number"){return"".concat(reason," at line: ").concat(line-1," col: ").concat(col)}}if((_e$body2=e.body)===null||_e$body2===void 0?void 0:_e$body2.message){return e.body.message}return};var useRequestProfile=function useRequestProfile(){var _useAppContext=(0,_app_context.useAppContext)(),http=_useAppContext.http,notifications=_useAppContext.notifications,getLicenseStatus=_useAppContext.getLicenseStatus;var licenseEnabled=getLicenseStatus().valid;return(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var query,index,_checkForParseErrors,error,parsed,payload,resp,profilerErrorMessage;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:query=_ref2.query,index=_ref2.index;if(licenseEnabled){_context.next=3;break}return _context.abrupt("return",{data:null});case 3:_checkForParseErrors=(0,_utils.checkForParseErrors)(query),error=_checkForParseErrors.error,parsed=_checkForParseErrors.parsed;if(!error){_context.next=7;break}notifications.addError(error,{title:_i18n.i18n.translate("xpack.searchProfiler.errorToastTitle",{defaultMessage:"JSON parse error"})});return _context.abrupt("return",{data:null});case 7:if(!(parsed.profile&&parsed.profile.shards)){_context.next=9;break}return _context.abrupt("return",{data:parsed.profile.shards});case 9:payload={query:parsed};if(index==null||index===""){payload.index="_all"}else{payload.index=index}_context.prev=11;_context.next=14;return http.post("../api/searchprofiler/profile",{body:JSON.stringify(payload),headers:{"Content-Type":"application/json"}});case 14:resp=_context.sent;if(resp.ok){_context.next=17;break}return _context.abrupt("return",{data:null,error:resp.err.msg});case 17:return _context.abrupt("return",{data:resp.resp.profile.shards});case 20:_context.prev=20;_context.t0=_context["catch"](11);profilerErrorMessage=extractProfilerErrorMessage(_context.t0);if(profilerErrorMessage){notifications.addError(_context.t0,{title:_context.t0.message,toastMessage:profilerErrorMessage})}else{notifications.addError(_context.t0,{title:_i18n.i18n.translate("xpack.searchProfiler.errorSomethingWentWrongTitle",{defaultMessage:"Something went wrong"})})}return _context.abrupt("return",{data:null});case 25:case"end":return _context.stop()}}}),_callee,null,[[11,20]])})));return function(_x){return _ref.apply(this,arguments)}}())};exports.useRequestProfile=useRequestProfile}])]);