(window["snapshotRestore_bundle_jsonpfunction"]=window["snapshotRestore_bundle_jsonpfunction"]||[]).push([[1],Array(46).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mountManagementSection=mountManagementSection;var _i18n=__webpack_require__(0);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _documentation=__webpack_require__(52);var _=__webpack_require__(64);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function mountManagementSection(_x,_x2,_x3,_x4){return _mountManagementSection.apply(this,arguments)}function _mountManagementSection(){_mountManagementSection=_asyncToGenerator(regeneratorRuntime.mark((function _callee(coreSetup,services,config,params){var element,setBreadcrumbs,_ref,_ref2,core,docLinks,docTitle,appDependencies;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:element=params.element,setBreadcrumbs=params.setBreadcrumbs;_context.next=3;return coreSetup.getStartServices();case 3:_ref=_context.sent;_ref2=_slicedToArray(_ref,1);core=_ref2[0];docLinks=core.docLinks,docTitle=core.chrome.docTitle;_navigation.docTitleService.setup(docTitle.change);_navigation.breadcrumbService.setup(setBreadcrumbs);_documentation.documentationLinksService.setup(docLinks);appDependencies={core:core,config:config,services:{httpService:_http.httpService,uiMetricService:services.uiMetricService,i18n:_i18n.i18n}};return _context.abrupt("return",(0,_.renderApp)(element,appDependencies));case 12:case"end":return _context.stop()}}}),_callee)})));return _mountManagementSection.apply(this,arguments)}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useToastNotifications=exports.useConfig=exports.useCore=exports.useServices=exports.useAppContext=exports.AppContextConsumer=exports.AppContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AppContext=(0,_react.createContext)(undefined);var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children,value=_ref.value;return _react.default.createElement(AppContext.Provider,{value:value},children)};exports.AppContextProvider=AppContextProvider;var AppContextConsumer=AppContext.Consumer;exports.AppContextConsumer=AppContextConsumer;var useAppContext=function useAppContext(){var ctx=(0,_react.useContext)(AppContext);if(!ctx){throw new Error('"useAppContext" can only be called inside of AppContext.Provider!')}return ctx};exports.useAppContext=useAppContext;var useServices=function useServices(){return useAppContext().services};exports.useServices=useServices;var useCore=function useCore(){return useAppContext().core};exports.useCore=useCore;var useConfig=function useConfig(){return useAppContext().config};exports.useConfig=useConfig;var useToastNotifications=function useToastNotifications(){var _useCore=useCore(),toastNotifications=_useCore.notifications.toasts;return toastNotifications};exports.useToastNotifications=useToastNotifications},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DataPlaceholder",{enumerable:true,get:function get(){return _data_placeholder.DataPlaceholder}});Object.defineProperty(exports,"FormattedDateTime",{enumerable:true,get:function get(){return _formatted_date_time.FormattedDateTime}});Object.defineProperty(exports,"RepositoryDeleteProvider",{enumerable:true,get:function get(){return _repository_delete_provider.RepositoryDeleteProvider}});Object.defineProperty(exports,"RepositoryForm",{enumerable:true,get:function get(){return _repository_form.RepositoryForm}});Object.defineProperty(exports,"RepositoryVerificationBadge",{enumerable:true,get:function get(){return _repository_verification_badge.RepositoryVerificationBadge}});Object.defineProperty(exports,"RepositoryTypeLogo",{enumerable:true,get:function get(){return _repository_type_logo.RepositoryTypeLogo}});Object.defineProperty(exports,"SectionError",{enumerable:true,get:function get(){return _section_error.SectionError}});Object.defineProperty(exports,"Error",{enumerable:true,get:function get(){return _section_error.Error}});Object.defineProperty(exports,"SectionLoading",{enumerable:true,get:function get(){return _section_loading.SectionLoading}});Object.defineProperty(exports,"SnapshotDeleteProvider",{enumerable:true,get:function get(){return _snapshot_delete_provider.SnapshotDeleteProvider}});Object.defineProperty(exports,"RestoreSnapshotForm",{enumerable:true,get:function get(){return _restore_snapshot_form.RestoreSnapshotForm}});Object.defineProperty(exports,"PolicyExecuteProvider",{enumerable:true,get:function get(){return _policy_execute_provider.PolicyExecuteProvider}});Object.defineProperty(exports,"PolicyDeleteProvider",{enumerable:true,get:function get(){return _policy_delete_provider.PolicyDeleteProvider}});Object.defineProperty(exports,"CollapsibleIndicesList",{enumerable:true,get:function get(){return _collapsible_indices_list.CollapsibleIndicesList}});Object.defineProperty(exports,"RetentionSettingsUpdateModalProvider",{enumerable:true,get:function get(){return _retention_update_modal_provider.RetentionSettingsUpdateModalProvider}});Object.defineProperty(exports,"UpdateRetentionSettings",{enumerable:true,get:function get(){return _retention_update_modal_provider.UpdateRetentionSettings}});Object.defineProperty(exports,"RetentionExecuteModalProvider",{enumerable:true,get:function get(){return _retention_execute_modal_provider.RetentionExecuteModalProvider}});Object.defineProperty(exports,"ExecuteRetention",{enumerable:true,get:function get(){return _retention_execute_modal_provider.ExecuteRetention}});Object.defineProperty(exports,"PolicyForm",{enumerable:true,get:function get(){return _policy_form.PolicyForm}});var _data_placeholder=__webpack_require__(66);var _formatted_date_time=__webpack_require__(67);var _repository_delete_provider=__webpack_require__(68);var _repository_form=__webpack_require__(69);var _repository_verification_badge=__webpack_require__(88);var _repository_type_logo=__webpack_require__(89);var _section_error=__webpack_require__(90);var _section_loading=__webpack_require__(91);var _snapshot_delete_provider=__webpack_require__(92);var _restore_snapshot_form=__webpack_require__(93);var _policy_execute_provider=__webpack_require__(100);var _policy_delete_provider=__webpack_require__(101);var _collapsible_indices_list=__webpack_require__(56);var _retention_update_modal_provider=__webpack_require__(102);var _retention_execute_modal_provider=__webpack_require__(103);var _policy_form=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={breadcrumbService:true,docTitleService:true};Object.defineProperty(exports,"breadcrumbService",{enumerable:true,get:function get(){return _breadcrumb.breadcrumbService}});Object.defineProperty(exports,"docTitleService",{enumerable:true,get:function get(){return _doc_title.docTitleService}});var _breadcrumb=__webpack_require__(60);var _doc_title=__webpack_require__(61);var _links=__webpack_require__(62);Object.keys(_links).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _links[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"documentationLinksService",{enumerable:true,get:function get(){return _documentation_links.documentationLinksService}});var _documentation_links=__webpack_require__(63)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _components=__webpack_require__(134);Object.keys(_components).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _components[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"flatten",{enumerable:true,get:function get(){return _flatten.flatten}});Object.defineProperty(exports,"deserializeRestoreSettings",{enumerable:true,get:function get(){return _restore_settings_serialization.deserializeRestoreSettings}});Object.defineProperty(exports,"serializeRestoreSettings",{enumerable:true,get:function get(){return _restore_settings_serialization.serializeRestoreSettings}});Object.defineProperty(exports,"deserializeSnapshotDetails",{enumerable:true,get:function get(){return _snapshot_serialization.deserializeSnapshotDetails}});Object.defineProperty(exports,"deserializeSnapshotConfig",{enumerable:true,get:function get(){return _snapshot_serialization.deserializeSnapshotConfig}});Object.defineProperty(exports,"serializeSnapshotConfig",{enumerable:true,get:function get(){return _snapshot_serialization.serializeSnapshotConfig}});Object.defineProperty(exports,"deserializeSnapshotRetention",{enumerable:true,get:function get(){return _snapshot_serialization.deserializeSnapshotRetention}});Object.defineProperty(exports,"serializeSnapshotRetention",{enumerable:true,get:function get(){return _snapshot_serialization.serializeSnapshotRetention}});Object.defineProperty(exports,"deserializePolicy",{enumerable:true,get:function get(){return _policy_serialization.deserializePolicy}});Object.defineProperty(exports,"serializePolicy",{enumerable:true,get:function get(){return _policy_serialization.serializePolicy}});var _flatten=__webpack_require__(71);var _restore_settings_serialization=__webpack_require__(72);var _snapshot_serialization=__webpack_require__(73);var _policy_serialization=__webpack_require__(75)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryValidation",{enumerable:true,get:function get(){return _validate_repository.RepositoryValidation}});Object.defineProperty(exports,"RepositorySettingsValidation",{enumerable:true,get:function get(){return _validate_repository.RepositorySettingsValidation}});Object.defineProperty(exports,"validateRepository",{enumerable:true,get:function get(){return _validate_repository.validateRepository}});Object.defineProperty(exports,"RestoreValidation",{enumerable:true,get:function get(){return _validate_restore.RestoreValidation}});Object.defineProperty(exports,"validateRestore",{enumerable:true,get:function get(){return _validate_restore.validateRestore}});Object.defineProperty(exports,"PolicyValidation",{enumerable:true,get:function get(){return _validate_policy.PolicyValidation}});Object.defineProperty(exports,"validatePolicy",{enumerable:true,get:function get(){return _validate_policy.validatePolicy}});var _validate_repository=__webpack_require__(76);var _validate_restore=__webpack_require__(77);var _validate_policy=__webpack_require__(78)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollapsibleIndicesList=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CollapsibleIndicesList=function CollapsibleIndicesList(_ref){var indices=_ref.indices;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isShowingFullIndicesList=_useState2[0],setIsShowingFullIndicesList=_useState2[1];var displayIndices=indices?typeof indices==="string"?indices.split(","):indices:undefined;var hiddenIndicesCount=displayIndices&&displayIndices.length>10?displayIndices.length-10:0;return _react.default.createElement(_react.default.Fragment,null,displayIndices?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,(isShowingFullIndicesList?displayIndices:_toConsumableArray(displayIndices).splice(0,10)).map((function(index){return _react.default.createElement("li",{key:index},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("span",null,index)))})))),hiddenIndicesCount?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return isShowingFullIndicesList?setIsShowingFullIndicesList(false):setIsShowingFullIndicesList(true)}},isShowingFullIndicesList?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.indicesList.indicesCollapseAllLink",defaultMessage:"Hide {count, plural, one {# index} other {# indices}}",values:{count:hiddenIndicesCount}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.indicesList.indicesExpandAllLink",defaultMessage:"Show {count, plural, one {# index} other {# indices}}",values:{count:hiddenIndicesCount}})," ",_react.default.createElement(_eui.EuiIcon,{type:isShowingFullIndicesList?"arrowUp":"arrowDown"}))):null):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.indicesList.allIndicesValue",defaultMessage:"All indices"}))};exports.CollapsibleIndicesList=CollapsibleIndicesList},function(module,exports){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";exports.isDark=false;exports.cssClass="ace-tm";exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)}))},function(module,exports,__webpack_require__){"use strict";var strictUriEncode=__webpack_require__(131);var objectAssign=__webpack_require__(132);var decodeComponent=__webpack_require__(133);function encoderForArrayFormat(opts){switch(opts.arrayFormat){case"index":return function(key,value,index){return value===null?[encode(key,opts),"[",index,"]"].join(""):[encode(key,opts),"[",encode(index,opts),"]=",encode(value,opts)].join("")};case"bracket":return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"[]=",encode(value,opts)].join("")};default:return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"=",encode(value,opts)].join("")}}}function parserForArrayFormat(opts){var result;switch(opts.arrayFormat){case"index":return function(key,value,accumulator){result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return function(key,value,accumulator){result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}else if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};default:return function(key,value,accumulator){if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function encode(value,opts){if(opts.encode){return opts.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}else if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((function(a,b){return Number(a)-Number(b)})).map((function(key){return input[key]}))}return input}function extract(str){var queryStart=str.indexOf("?");if(queryStart===-1){return""}return str.slice(queryStart+1)}function parse(str,opts){opts=objectAssign({arrayFormat:"none"},opts);var formatter=parserForArrayFormat(opts);var ret=Object.create(null);if(typeof str!=="string"){return ret}str=str.trim().replace(/^[?#&]/,"");if(!str){return ret}str.split("&").forEach((function(param){var parts=param.replace(/\+/g," ").split("=");var key=parts.shift();var val=parts.length>0?parts.join("="):undefined;val=val===undefined?null:decodeComponent(val);formatter(decodeComponent(key),val,ret)}));return Object.keys(ret).sort().reduce((function(result,key){var val=ret[key];if(Boolean(val)&&typeof val==="object"&&!Array.isArray(val)){result[key]=keysSorter(val)}else{result[key]=val}return result}),Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=function(obj,opts){var defaults={encode:true,strict:true,arrayFormat:"none"};opts=objectAssign(defaults,opts);if(opts.sort===false){opts.sort=function(){}}var formatter=encoderForArrayFormat(opts);return obj?Object.keys(obj).sort(opts.sort).map((function(key){var val=obj[key];if(val===undefined){return""}if(val===null){return encode(key,opts)}if(Array.isArray(val)){var result=[];val.slice().forEach((function(val2){if(val2===undefined){return}result.push(formatter(key,val2,result.length))}));return result.join("&")}return encode(key,opts)+"="+encode(val,opts)})).filter((function(x){return x.length>0})).join("&"):""};exports.parseUrl=function(str,opts){return{url:str.split("?")[0]||"",query:parse(extract(str),opts)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AuthorizationProvider=exports.AuthorizationContext=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _use_request=__webpack_require__(7);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var initialValue={isLoading:true,apiError:null,privileges:{hasAllPrivileges:true,missingPrivileges:{}}};var AuthorizationContext=(0,_react.createContext)(initialValue);exports.AuthorizationContext=AuthorizationContext;var AuthorizationProvider=function AuthorizationProvider(_ref){var privilegesEndpoint=_ref.privilegesEndpoint,children=_ref.children;var _useRequest=(0,_use_request.useRequest)({path:privilegesEndpoint,method:"get"}),isLoading=_useRequest.isLoading,error=_useRequest.error,privilegesData=_useRequest.data;var value={isLoading:isLoading,privileges:isLoading?{hasAllPrivileges:true,missingPrivileges:{}}:privilegesData,apiError:error?error:null};return _react.default.createElement(AuthorizationContext.Provider,{value:value},children)};exports.AuthorizationProvider=AuthorizationProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.breadcrumbService=void 0;var _text=__webpack_require__(13);var _=__webpack_require__(51);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var BreadcrumbService=function(){function BreadcrumbService(){_classCallCheck(this,BreadcrumbService);_defineProperty(this,"breadcrumbs",{management:[],home:[],snapshots:[],repositories:[],policies:[],restore_status:[],repositoryAdd:[],repositoryEdit:[],restoreSnapshot:[],policyAdd:[],policyEdit:[]});_defineProperty(this,"setBreadcrumbsHandler",void 0)}_createClass(BreadcrumbService,[{key:"setup",value:function setup(setBreadcrumbsHandler){this.setBreadcrumbsHandler=setBreadcrumbsHandler;this.breadcrumbs.home=[{text:_text.textService.breadcrumbs.home,href:(0,_.linkToHome)()}];this.breadcrumbs.snapshots=[].concat(_toConsumableArray(this.breadcrumbs.home),[{text:_text.textService.breadcrumbs.snapshots,href:(0,_.linkToSnapshots)()}]);this.breadcrumbs.repositories=[].concat(_toConsumableArray(this.breadcrumbs.home),[{text:_text.textService.breadcrumbs.repositories,href:(0,_.linkToRepositories)()}]);this.breadcrumbs.policies=[].concat(_toConsumableArray(this.breadcrumbs.home),[{text:_text.textService.breadcrumbs.policies,href:(0,_.linkToPolicies)()}]);this.breadcrumbs.restore_status=[].concat(_toConsumableArray(this.breadcrumbs.home),[{text:_text.textService.breadcrumbs.restore_status,href:(0,_.linkToRestoreStatus)()}]);this.breadcrumbs.repositoryAdd=[].concat(_toConsumableArray(this.breadcrumbs.repositories),[{text:_text.textService.breadcrumbs.repositoryAdd}]);this.breadcrumbs.repositoryEdit=[].concat(_toConsumableArray(this.breadcrumbs.repositories),[{text:_text.textService.breadcrumbs.repositoryEdit}]);this.breadcrumbs.restoreSnapshot=[].concat(_toConsumableArray(this.breadcrumbs.snapshots),[{text:_text.textService.breadcrumbs.restoreSnapshot}]);this.breadcrumbs.policyAdd=[].concat(_toConsumableArray(this.breadcrumbs.policies),[{text:_text.textService.breadcrumbs.policyAdd}]);this.breadcrumbs.policyEdit=[].concat(_toConsumableArray(this.breadcrumbs.policies),[{text:_text.textService.breadcrumbs.policyEdit}])}},{key:"setBreadcrumbs",value:function setBreadcrumbs(type){if(!this.setBreadcrumbsHandler){throw new Error("BreadcrumbService#setup() must be called first!")}var newBreadcrumbs=this.breadcrumbs[type]?_toConsumableArray(this.breadcrumbs[type]):_toConsumableArray(this.breadcrumbs.home);var lastBreadcrumb=newBreadcrumbs.pop();newBreadcrumbs.push(_objectSpread({},lastBreadcrumb,{href:undefined}));this.setBreadcrumbsHandler(newBreadcrumbs)}}]);return BreadcrumbService}();var breadcrumbService=new BreadcrumbService;exports.breadcrumbService=breadcrumbService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.docTitleService=void 0;var _text=__webpack_require__(13);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DocTitleService=function(){function DocTitleService(){_classCallCheck(this,DocTitleService);_defineProperty(this,"changeDocTitleHandler",(function(){}))}_createClass(DocTitleService,[{key:"setup",value:function setup(_changeDocTitleHandler){this.changeDocTitleHandler=_changeDocTitleHandler}},{key:"setTitle",value:function setTitle(page){if(!page||page==="home"){this.changeDocTitleHandler("".concat(_text.textService.breadcrumbs.home))}else if(_text.textService.breadcrumbs[page]){this.changeDocTitleHandler("".concat(_text.textService.breadcrumbs[page]," - ").concat(_text.textService.breadcrumbs.home))}}}]);return DocTitleService}();var docTitleService=new DocTitleService;exports.docTitleService=docTitleService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.linkToHome=linkToHome;exports.linkToRepositories=linkToRepositories;exports.linkToRepository=linkToRepository;exports.linkToEditRepository=linkToEditRepository;exports.linkToAddRepository=linkToAddRepository;exports.linkToSnapshots=linkToSnapshots;exports.linkToSnapshot=linkToSnapshot;exports.linkToRestoreSnapshot=linkToRestoreSnapshot;exports.linkToPolicies=linkToPolicies;exports.linkToPolicy=linkToPolicy;exports.linkToEditPolicy=linkToEditPolicy;exports.linkToAddPolicy=linkToAddPolicy;exports.linkToRestoreStatus=linkToRestoreStatus;var _constants=__webpack_require__(6);function linkToHome(){return"#".concat(_constants.BASE_PATH)}function linkToRepositories(){return"#".concat(_constants.BASE_PATH,"/repositories")}function linkToRepository(repositoryName){return"#".concat(_constants.BASE_PATH,"/repositories/").concat(encodeURIComponent(repositoryName))}function linkToEditRepository(repositoryName){return"#".concat(_constants.BASE_PATH,"/edit_repository/").concat(encodeURIComponent(repositoryName))}function linkToAddRepository(redirect){return"#".concat(_constants.BASE_PATH,"/add_repository").concat(redirect?"?redirect=".concat(encodeURIComponent(redirect)):"")}function linkToSnapshots(repositoryName,policyName){if(repositoryName){return"#".concat(_constants.BASE_PATH,"/snapshots?repository=").concat(encodeURIComponent(repositoryName))}if(policyName){return"#".concat(_constants.BASE_PATH,"/snapshots?policy=").concat(encodeURIComponent(policyName))}return"#".concat(_constants.BASE_PATH,"/snapshots")}function linkToSnapshot(repositoryName,snapshotName){return"#".concat(_constants.BASE_PATH,"/snapshots/").concat(encodeURIComponent(repositoryName),"/").concat(encodeURIComponent(snapshotName))}function linkToRestoreSnapshot(repositoryName,snapshotName){return"#".concat(_constants.BASE_PATH,"/restore/").concat(encodeURIComponent(repositoryName),"/").concat(encodeURIComponent(snapshotName))}function linkToPolicies(){return"#".concat(_constants.BASE_PATH,"/policies")}function linkToPolicy(policyName){return"#".concat(_constants.BASE_PATH,"/policies/").concat(encodeURIComponent(policyName))}function linkToEditPolicy(policyName){return"#".concat(_constants.BASE_PATH,"/edit_policy/").concat(encodeURIComponent(policyName))}function linkToAddPolicy(){return"#".concat(_constants.BASE_PATH,"/add_policy")}function linkToRestoreStatus(){return"#".concat(_constants.BASE_PATH,"/restore_status")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinksService=void 0;var _constants=__webpack_require__(4);var _constants2=__webpack_require__(6);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DocumentationLinksService=function(){function DocumentationLinksService(){_classCallCheck(this,DocumentationLinksService);_defineProperty(this,"esDocBasePath","");_defineProperty(this,"esPluginDocBasePath","")}_createClass(DocumentationLinksService,[{key:"setup",value:function setup(docLinks){var DOC_LINK_VERSION=docLinks.DOC_LINK_VERSION,ELASTIC_WEBSITE_URL=docLinks.ELASTIC_WEBSITE_URL;var docsBase="".concat(ELASTIC_WEBSITE_URL,"guide/en");this.esDocBasePath="".concat(docsBase,"/elasticsearch/reference/").concat(DOC_LINK_VERSION,"/");this.esPluginDocBasePath="".concat(docsBase,"/elasticsearch/plugins/").concat(DOC_LINK_VERSION,"/")}},{key:"getRepositoryPluginDocUrl",value:function getRepositoryPluginDocUrl(){return"".concat(this.esPluginDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.plugins)}},{key:"getRepositoryTypeDocUrl",value:function getRepositoryTypeDocUrl(type){switch(type){case _constants.REPOSITORY_TYPES.fs:return"".concat(this.esDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.fs);case _constants.REPOSITORY_TYPES.url:return"".concat(this.esDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.url);case _constants.REPOSITORY_TYPES.source:return"".concat(this.esDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.source);case _constants.REPOSITORY_TYPES.s3:return"".concat(this.esPluginDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.s3);case _constants.REPOSITORY_TYPES.hdfs:return"".concat(this.esPluginDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.hdfs);case _constants.REPOSITORY_TYPES.azure:return"".concat(this.esPluginDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.azure);case _constants.REPOSITORY_TYPES.gcs:return"".concat(this.esPluginDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.gcs);default:return"".concat(this.esDocBasePath).concat(_constants2.REPOSITORY_DOC_PATHS.default)}}},{key:"getSnapshotDocUrl",value:function getSnapshotDocUrl(){return"".concat(this.esDocBasePath,"snapshots-take-snapshot.html")}},{key:"getRestoreDocUrl",value:function getRestoreDocUrl(){return"".concat(this.esDocBasePath,"snapshots-restore-snapshot.html")}},{key:"getRestoreIndexSettingsUrl",value:function getRestoreIndexSettingsUrl(){return"".concat(this.esDocBasePath,"snapshots-restore-snapshot.html#_changing_index_settings_during_restore")}},{key:"getIndexSettingsUrl",value:function getIndexSettingsUrl(){return"".concat(this.esDocBasePath,"index-modules.html")}},{key:"getDateMathIndexNamesUrl",value:function getDateMathIndexNamesUrl(){return"".concat(this.esDocBasePath,"date-math-index-names.html")}},{key:"getSlmUrl",value:function getSlmUrl(){return"".concat(this.esDocBasePath,"slm-api-put.html")}},{key:"getCronUrl",value:function getCronUrl(){return"".concat(this.esDocBasePath,"trigger-schedule.html#schedule-cron")}}]);return DocumentationLinksService}();var documentationLinksService=new DocumentationLinksService;exports.documentationLinksService=documentationLinksService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AppDependencies",{enumerable:true,get:function get(){return _app_context.AppDependencies}});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactDom=__webpack_require__(47);var _reactRouterDom=__webpack_require__(45);var _app=__webpack_require__(65);var _app_providers=__webpack_require__(171);var _app_context=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AppWithRouter=function AppWithRouter(){return _react.default.createElement(_reactRouterDom.HashRouter,null,_react.default.createElement(_app.App,null))};var renderApp=function renderApp(elem,dependencies){(0,_reactDom.render)(_react.default.createElement(_app_providers.AppProviders,{appDependencies:dependencies},_react.default.createElement(AppWithRouter,null)),elem);return function(){(0,_reactDom.unmountComponentAtNode)(elem)}};exports.renderApp=renderApp},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _reactRouterDom=__webpack_require__(45);var _eui=__webpack_require__(2);var _react2=__webpack_require__(3);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _sections=__webpack_require__(112);var _app_context=__webpack_require__(49);var _authorization=__webpack_require__(53);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var App=function App(){var _useConfig=(0,_app_context.useConfig)(),slmUi=_useConfig.slm_ui;var _useContext=(0,_react.useContext)(_authorization.AuthorizationContext),apiError=_useContext.apiError;var sections=["repositories","snapshots","restore_status"];if(slmUi.enabled){sections.push("policies")}var sectionsRegex=sections.join("|");return apiError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.app.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:apiError}):_react.default.createElement(_authorization.WithPrivileges,{privileges:_constants.APP_REQUIRED_CLUSTER_PRIVILEGES.map((function(name){return"cluster.".concat(name)}))},(function(_ref){var isLoading=_ref.isLoading,hasPrivileges=_ref.hasPrivileges,privilegesMissing=_ref.privilegesMissing;return isLoading?_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.app.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):hasPrivileges?_react.default.createElement("div",{"data-test-subj":"snapshotRestoreApp"},_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/add_repository"),component:_sections.RepositoryAdd}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/edit_repository/:name*"),component:_sections.RepositoryEdit}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/:section(").concat(sectionsRegex,")/:repositoryName?/:snapshotId*"),component:_sections.SnapshotRestoreHome}),_react.default.createElement(_reactRouterDom.Redirect,{exact:true,from:"".concat(_constants2.BASE_PATH,"/restore/:repositoryName"),to:"".concat(_constants2.BASE_PATH,"/snapshots")}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/restore/:repositoryName/:snapshotId*"),component:_sections.RestoreSnapshot}),slmUi.enabled&&_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/add_policy"),component:_sections.PolicyAdd}),slmUi.enabled&&_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants2.BASE_PATH,"/edit_policy/:name*"),component:_sections.PolicyEdit}),_react.default.createElement(_reactRouterDom.Redirect,{from:"".concat(_constants2.BASE_PATH),to:"".concat(_constants2.BASE_PATH,"/").concat(_constants2.DEFAULT_SECTION)}))):_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_authorization.NotAuthorizedSection,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.app.deniedPrivilegeTitle",defaultMessage:"You're missing cluster privileges"}),message:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.app.deniedPrivilegeDescription",defaultMessage:"To use Snapshot and Restore, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:privilegesMissing.cluster.join(", "),privilegesCount:privilegesMissing.cluster.length}})}))}))};exports.App=App},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DataPlaceholder=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _app_context=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataPlaceholder=function DataPlaceholder(_ref){var data=_ref.data,children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;if(data!=null){return children}return _react.default.createElement(_react.default.Fragment,null,i18n.translate("xpack.snapshotRestore.dataPlaceholderLabel",{defaultMessage:"-"}))};exports.DataPlaceholder=DataPlaceholder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedDateTime=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FormattedDateTime=function FormattedDateTime(_ref){var epochMs=_ref.epochMs,type=_ref.type;var date=new Date(epochMs);var formattedDate=_react.default.createElement(_react2.FormattedDate,{value:date,year:"numeric",month:"short",day:"2-digit"});var formattedTime=_react.default.createElement(_react2.FormattedTime,{value:date,timeZoneName:"short"});if(type){return type==="date"?formattedDate:formattedTime}return _react.default.createElement(_react.Fragment,null,formattedDate," ",formattedTime)};exports.FormattedDateTime=FormattedDateTime},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryDeleteProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryDeleteProvider=function RepositoryDeleteProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),repositoryNames=_useState2[0],setRepositoryNames=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var onSuccessCallback=(0,_react.useRef)(null);var deleteRepositoryPrompt=function deleteRepositoryPrompt(names){var onSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return undefined};if(!names||!names.length){throw new Error("No repository names specified for deletion")}setIsModalOpen(true);setRepositoryNames(names);onSuccessCallback.current=onSuccess};var closeModal=function closeModal(){setIsModalOpen(false);setRepositoryNames([])};var deleteRepository=function deleteRepository(){var repositoriesToDelete=_toConsumableArray(repositoryNames);(0,_http.deleteRepositories)(repositoriesToDelete).then((function(_ref2){var data=_ref2.data,error=_ref2.error;var _ref3=data||{itemsDeleted:undefined,errors:undefined},itemsDeleted=_ref3.itemsDeleted,errors=_ref3.errors;if(itemsDeleted&&itemsDeleted.length){var hasMultipleSuccesses=itemsDeleted.length>1;var successMessage=hasMultipleSuccesses?i18n.translate("xpack.snapshotRestore.deleteRepository.successMultipleNotificationTitle",{defaultMessage:"Removed {count} repositories",values:{count:itemsDeleted.length}}):i18n.translate("xpack.snapshotRestore.deleteRepository.successSingleNotificationTitle",{defaultMessage:"Removed repository '{name}'",values:{name:itemsDeleted[0]}});toastNotifications.addSuccess(successMessage);if(onSuccessCallback.current){onSuccessCallback.current(_toConsumableArray(itemsDeleted))}}if(error||errors&&errors.length){var hasMultipleErrors=errors&&errors.length>1||error&&repositoriesToDelete.length>1;var errorMessage=hasMultipleErrors?i18n.translate("xpack.snapshotRestore.deleteRepository.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} repositories",values:{count:errors&&errors.length||repositoriesToDelete.length}}):i18n.translate("xpack.snapshotRestore.deleteRepository.errorSingleNotificationTitle",{defaultMessage:"Error removing repository '{name}'",values:{name:errors&&errors[0].name||repositoriesToDelete[0]}});toastNotifications.addDanger(errorMessage)}}));closeModal()};var renderModal=function renderModal(){if(!isModalOpen){return null}var isSingle=repositoryNames.length===1;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:isSingle?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.deleteSingleTitle",defaultMessage:"Remove repository '{name}'?",values:{name:repositoryNames[0]}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.deleteMultipleTitle",defaultMessage:"Remove {count} repositories?",values:{count:repositoryNames.length}}),onCancel:closeModal,onConfirm:deleteRepository,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:isSingle?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.confirmSingleButtonLabel",defaultMessage:"Remove repository"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.confirmMultipleButtonLabel",defaultMessage:"Remove repositories"}),buttonColor:"danger","data-test-subj":"deleteRepositoryConfirmation"},isSingle?_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.deleteSingleDescription",defaultMessage:"The snapshots in this repository will still exist, but Elasticsearch won’t have access to them. Adjust policies that use this repository to prevent scheduled snapshots from failing."})):_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.deleteMultipleListDescription",defaultMessage:"You are about to remove these repositories:"})),_react.default.createElement("ul",null,repositoryNames.map((function(name){return _react.default.createElement("li",{key:name},name)}))),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteRepository.confirmModal.deleteMultipleDescription",defaultMessage:"The snapshots in these repositories will still exist, but Elasticsearch won't have access to them. Adjust policies that use these repositories to prevent scheduled snapshots from failing."})))))};return _react.default.createElement(_react.Fragment,null,children(deleteRepositoryPrompt),renderModal())};exports.RepositoryDeleteProvider=RepositoryDeleteProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryForm",{enumerable:true,get:function get(){return _repository_form.RepositoryForm}});var _repository_form=__webpack_require__(70)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _eui=__webpack_require__(2);var _lib=__webpack_require__(54);var _validation=__webpack_require__(55);var _step_one=__webpack_require__(79);var _step_two=__webpack_require__(80);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryForm=function RepositoryForm(_ref){var originalRepository=_ref.repository,isManagedRepository=_ref.isManagedRepository,isEditing=_ref.isEditing,isSaving=_ref.isSaving,saveError=_ref.saveError,clearSaveError=_ref.clearSaveError,onSave=_ref.onSave;var _useState=(0,_react.useState)(isEditing?2:1),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=(0,_react.useState)(_objectSpread({},originalRepository,{settings:_objectSpread({},originalRepository.settings)})),_useState4=_slicedToArray(_useState3,2),repository=_useState4[0],setRepository=_useState4[1];var _useState5=(0,_react.useState)({isValid:true,errors:{}}),_useState6=_slicedToArray(_useState5,2),validation=_useState6[0],setValidation=_useState6[1];var updateRepository=function updateRepository(updatedFields){var newRepository=_objectSpread({},repository,{},updatedFields);setRepository(newRepository)};var saveRepository=function saveRepository(){var newValidation=(0,_validation.validateRepository)(repository,true);var isValid=newValidation.isValid;setValidation(newValidation);if(isValid){onSave(repository)}};var goToNextStep=function goToNextStep(){var newValidation=(0,_validation.validateRepository)(repository,false);var isValid=newValidation.isValid;setValidation(newValidation);if(isValid){setCurrentStep(2)}};var goToPreviousStep=function goToPreviousStep(){if(isEditing){return}setValidation({isValid:true,errors:{}});setCurrentStep(1);clearSaveError()};var hasValidationErrors=!validation.isValid;var validationErrors=Object.entries((0,_lib.flatten)(validation.errors)).reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return[].concat(_toConsumableArray(acc),[value])}),[]);var renderStepOne=function renderStepOne(){return _react.default.createElement(_step_one.RepositoryFormStepOne,{repository:repository,onNext:function onNext(){return goToNextStep()},updateRepository:updateRepository,validation:validation})};var renderStepTwo=function renderStepTwo(){return _react.default.createElement(_step_two.RepositoryFormStepTwo,{repository:repository,isManagedRepository:isManagedRepository,isEditing:isEditing,isSaving:isSaving,onSave:saveRepository,updateRepository:updateRepository,validation:validation,saveError:saveError,onBack:function onBack(){return goToPreviousStep()}})};return _react.default.createElement(_eui.EuiForm,{isInvalid:hasValidationErrors,error:validationErrors,"data-test-subj":"repositoryForm"},currentStep===1&&!isEditing?renderStepOne():renderStepTwo())};exports.RepositoryForm=RepositoryForm;RepositoryForm.defaultProps={isEditing:false,isSaving:false}},function(module,exports,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.flatten=void 0;var flatten=function flatten(source){var path=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!(source instanceof Object)){return _defineProperty({},path.join("."),source)}return Object.keys(source).reduce((function(result,key){var flattened=flatten(source[key],[].concat(_toConsumableArray(path),[key]));return _objectSpread({},result,{},flattened)}),{})};exports.flatten=flatten},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.serializeRestoreSettings=serializeRestoreSettings;exports.deserializeRestoreSettings=deserializeRestoreSettings;var removeUndefinedSettings=function removeUndefinedSettings(settings){return Object.entries(settings).reduce((function(sts,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(value!==undefined){sts[key]=value}return sts}),{})};function serializeRestoreSettings(restoreSettings){var indices=restoreSettings.indices,renamePattern=restoreSettings.renamePattern,renameReplacement=restoreSettings.renameReplacement,includeGlobalState=restoreSettings.includeGlobalState,partial=restoreSettings.partial,indexSettings=restoreSettings.indexSettings,ignoreIndexSettings=restoreSettings.ignoreIndexSettings,ignoreUnavailable=restoreSettings.ignoreUnavailable;var parsedIndexSettings;if(indexSettings){try{parsedIndexSettings=JSON.parse(indexSettings)}catch(e){}}var settings={indices:indices,rename_pattern:renamePattern,rename_replacement:renameReplacement,include_global_state:includeGlobalState,partial:partial,index_settings:parsedIndexSettings,ignore_index_settings:ignoreIndexSettings,ignore_unavailable:ignoreUnavailable};return removeUndefinedSettings(settings)}function deserializeRestoreSettings(restoreSettingsEs){var indices=restoreSettingsEs.indices,renamePattern=restoreSettingsEs.rename_pattern,renameReplacement=restoreSettingsEs.rename_replacement,includeGlobalState=restoreSettingsEs.include_global_state,partial=restoreSettingsEs.partial,indexSettings=restoreSettingsEs.index_settings,ignoreIndexSettings=restoreSettingsEs.ignore_index_settings,ignoreUnavailable=restoreSettingsEs.ignore_unavailable;var settings={indices:indices,renamePattern:renamePattern,renameReplacement:renameReplacement,includeGlobalState:includeGlobalState,partial:partial,indexSettings:indexSettings?JSON.stringify(indexSettings):undefined,ignoreIndexSettings:ignoreIndexSettings,ignoreUnavailable:ignoreUnavailable};return removeUndefinedSettings(settings)}},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.deserializeSnapshotDetails=deserializeSnapshotDetails;exports.deserializeSnapshotConfig=deserializeSnapshotConfig;exports.serializeSnapshotConfig=serializeSnapshotConfig;exports.deserializeSnapshotRetention=deserializeSnapshotRetention;exports.serializeSnapshotRetention=serializeSnapshotRetention;var _lodash=__webpack_require__(14);var _time_serialization=__webpack_require__(74);function deserializeSnapshotDetails(repository,snapshotDetailsEs,managedRepository,successfulSnapshots){if(!snapshotDetailsEs||_typeof(snapshotDetailsEs)!=="object"){throw new Error("Unable to deserialize snapshot details")}var snapshot=snapshotDetailsEs.snapshot,uuid=snapshotDetailsEs.uuid,versionId=snapshotDetailsEs.version_id,version=snapshotDetailsEs.version,_snapshotDetailsEs$in=snapshotDetailsEs.indices,indices=_snapshotDetailsEs$in===void 0?[]:_snapshotDetailsEs$in,includeGlobalState=snapshotDetailsEs.include_global_state,state=snapshotDetailsEs.state,startTime=snapshotDetailsEs.start_time,startTimeInMillis=snapshotDetailsEs.start_time_in_millis,endTime=snapshotDetailsEs.end_time,endTimeInMillis=snapshotDetailsEs.end_time_in_millis,durationInMillis=snapshotDetailsEs.duration_in_millis,_snapshotDetailsEs$fa=snapshotDetailsEs.failures,failures=_snapshotDetailsEs$fa===void 0?[]:_snapshotDetailsEs$fa,shards=snapshotDetailsEs.shards,_snapshotDetailsEs$me=snapshotDetailsEs.metadata;_snapshotDetailsEs$me=_snapshotDetailsEs$me===void 0?{policy:undefined}:_snapshotDetailsEs$me;var policyName=_snapshotDetailsEs$me.policy;var indexToFailuresMap=failures.reduce((function(map,failure){var index=failure.index,rest=_objectWithoutProperties(failure,["index"]);if(!map[index]){map[index]={index:index,failures:[]}}map[index].failures.push(rest);return map}),{});Object.keys(indexToFailuresMap).forEach((function(index){indexToFailuresMap[index].failures=(0,_lodash.sortBy)(indexToFailuresMap[index].failures,(function(_ref){var shard=_ref.shard;return shard}))}));var indexFailures=(0,_lodash.sortBy)(Object.values(indexToFailuresMap),(function(_ref2){var index=_ref2.index;return index}));var snapshotDetails={repository:repository,snapshot:snapshot,uuid:uuid,versionId:versionId,version:version,indices:_toConsumableArray(indices).sort(),includeGlobalState:includeGlobalState,state:state,startTime:startTime,startTimeInMillis:startTimeInMillis,endTime:endTime,endTimeInMillis:endTimeInMillis,durationInMillis:durationInMillis,indexFailures:indexFailures,shards:shards,managedRepository:managedRepository};if(successfulSnapshots&&successfulSnapshots.length){snapshotDetails.isLastSuccessfulSnapshot=successfulSnapshots[0].snapshot===snapshot}if(policyName){snapshotDetails.policyName=policyName}return snapshotDetails}function deserializeSnapshotConfig(snapshotConfigEs){var indices=snapshotConfigEs.indices,ignoreUnavailable=snapshotConfigEs.ignore_unavailable,includeGlobalState=snapshotConfigEs.include_global_state,partial=snapshotConfigEs.partial,metadata=snapshotConfigEs.metadata;var snapshotConfig={indices:indices,ignoreUnavailable:ignoreUnavailable,includeGlobalState:includeGlobalState,partial:partial,metadata:metadata};return Object.entries(snapshotConfig).reduce((function(config,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];if(value!==undefined){config[key]=value}return config}),{})}function serializeSnapshotConfig(snapshotConfig){var indices=snapshotConfig.indices,ignoreUnavailable=snapshotConfig.ignoreUnavailable,includeGlobalState=snapshotConfig.includeGlobalState,partial=snapshotConfig.partial,metadata=snapshotConfig.metadata;var snapshotConfigEs={indices:indices,ignore_unavailable:ignoreUnavailable,include_global_state:includeGlobalState,partial:partial,metadata:metadata};return Object.entries(snapshotConfigEs).reduce((function(config,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];if(value!==undefined){config[key]=value}return config}),{})}function deserializeSnapshotRetention(snapshotRetentionEs){var expireAfter=snapshotRetentionEs.expire_after,maxCount=snapshotRetentionEs.max_count,minCount=snapshotRetentionEs.min_count;var expireAfterValue;var expireAfterUnit;if(expireAfter){var _ref7=(0,_time_serialization.deserializeTime)(expireAfter),timeValue=_ref7.timeValue,timeUnit=_ref7.timeUnit;if(timeValue&&timeUnit){expireAfterValue=timeValue;expireAfterUnit=timeUnit}}var snapshotRetention={expireAfterValue:expireAfterValue,expireAfterUnit:expireAfterUnit,maxCount:maxCount,minCount:minCount};return Object.entries(snapshotRetention).reduce((function(retention,_ref8){var _ref9=_slicedToArray(_ref8,2),key=_ref9[0],value=_ref9[1];if(value!==undefined){retention[key]=value}return retention}),{})}function serializeSnapshotRetention(snapshotRetention){var expireAfterValue=snapshotRetention.expireAfterValue,expireAfterUnit=snapshotRetention.expireAfterUnit,minCount=snapshotRetention.minCount,maxCount=snapshotRetention.maxCount;var snapshotRetentionEs={expire_after:expireAfterValue&&expireAfterUnit?(0,_time_serialization.serializeTime)(expireAfterValue,expireAfterUnit):undefined,min_count:!minCount?undefined:minCount,max_count:!maxCount?undefined:maxCount};var flattenedSnapshotRetentionEs=Object.entries(snapshotRetentionEs).reduce((function(retention,_ref10){var _ref11=_slicedToArray(_ref10,2),key=_ref11[0],value=_ref11[1];if(value!==undefined){retention[key]=value}return retention}),{});return Object.entries(flattenedSnapshotRetentionEs).length?flattenedSnapshotRetentionEs:undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeTime=exports.deserializeTime=void 0;var _constants=__webpack_require__(4);var deserializeTime=function deserializeTime(time){var timeUnits=Object.values(_constants.TIME_UNITS);var timeUnit=timeUnits.find((function(unit){var unitIndex=time.indexOf(unit);return unitIndex!==-1&&unitIndex===time.length-1}));if(timeUnit){var timeValue=Number(time.replace(timeUnit,""));if(!isNaN(timeValue)){return{timeValue:timeValue,timeUnit:timeUnit}}}return{}};exports.deserializeTime=deserializeTime;var serializeTime=function serializeTime(timeValue,timeUnit){return"".concat(timeValue).concat(timeUnit)};exports.serializeTime=serializeTime},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializePolicy=exports.deserializePolicy=void 0;var _=__webpack_require__(54);var deserializePolicy=function deserializePolicy(name,esPolicy,managedPolicies){var version=esPolicy.version,modifiedDate=esPolicy.modified_date,modifiedDateMillis=esPolicy.modified_date_millis,_esPolicy$policy=esPolicy.policy,snapshotName=_esPolicy$policy.name,schedule=_esPolicy$policy.schedule,repository=_esPolicy$policy.repository,config=_esPolicy$policy.config,retention=_esPolicy$policy.retention,nextExecution=esPolicy.next_execution,nextExecutionMillis=esPolicy.next_execution_millis,lastFailure=esPolicy.last_failure,lastSuccess=esPolicy.last_success,inProgress=esPolicy.in_progress,stats=esPolicy.stats;var policy={name:name,version:version,modifiedDate:modifiedDate,modifiedDateMillis:modifiedDateMillis,snapshotName:snapshotName,schedule:schedule,repository:repository,nextExecution:nextExecution,nextExecutionMillis:nextExecutionMillis,isManagedPolicy:managedPolicies.includes(name)};if(config){policy.config=(0,_.deserializeSnapshotConfig)(config)}if(retention){policy.retention=(0,_.deserializeSnapshotRetention)(retention)}if(lastFailure){var failureSnapshotName=lastFailure.snapshot_name,failureTime=lastFailure.time,failureTimeString=lastFailure.time_string,failureDetails=lastFailure.details;var jsonFailureDetails;try{jsonFailureDetails=JSON.parse(failureDetails)}catch(e){}policy.lastFailure={snapshotName:failureSnapshotName,time:failureTime,timeString:failureTimeString,details:jsonFailureDetails||failureDetails}}if(lastSuccess){var successSnapshotName=lastSuccess.snapshot_name,successTime=lastSuccess.time,successTimeString=lastSuccess.time_string;policy.lastSuccess={snapshotName:successSnapshotName,time:successTime,timeString:successTimeString}}if(inProgress){var inProgressSnapshotName=inProgress.name;policy.inProgress={snapshotName:inProgressSnapshotName}}if(stats){var snapshotsTaken=stats.snapshots_taken,snapshotsFailed=stats.snapshots_failed,snapshotsDeleted=stats.snapshots_deleted,snapshotDeletionFailures=stats.snapshot_deletion_failures;policy.stats={snapshotsTaken:snapshotsTaken,snapshotsFailed:snapshotsFailed,snapshotsDeleted:snapshotsDeleted,snapshotDeletionFailures:snapshotDeletionFailures}}return policy};exports.deserializePolicy=deserializePolicy;var serializePolicy=function serializePolicy(policy){var name=policy.snapshotName,schedule=policy.schedule,repository=policy.repository,config=policy.config,retention=policy.retention;var policyEs={name:name,schedule:schedule,repository:repository};if(config){policyEs.config=(0,_.serializeSnapshotConfig)(config)}if(retention){var serializedRetention=(0,_.serializeSnapshotRetention)(retention);if(serializedRetention){policyEs.retention=(0,_.serializeSnapshotRetention)(retention)}}return policyEs};exports.serializePolicy=serializePolicy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRepository=exports.INVALID_NAME_CHARS=void 0;var _text=__webpack_require__(13);var _constants=__webpack_require__(4);var INVALID_NAME_CHARS=['"',"*","\\","<","|",",",">","/","?"];exports.INVALID_NAME_CHARS=INVALID_NAME_CHARS;var isStringEmpty=function isStringEmpty(str){return str?!Boolean(str.trim()):true};var doesStringContainChar=function doesStringContainChar(string,char){var chars=Array.isArray(char)?char:[char];var total=chars.length;var containsChar=false;var charFound=null;for(var i=0;i<total;i++){if(string.includes(chars[i])){containsChar=true;charFound=chars[i];break}}return{containsChar:containsChar,charFound:charFound}};var validateRepository=function validateRepository(repository){var validateSettings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var name=repository.name,type=repository.type,settings=repository.settings;var i18n=_text.textService.i18n;var validation={isValid:true,errors:{}};if(validateSettings){var settingsValidation=validateRepositorySettings(type,settings);if(Object.keys(settingsValidation).length){validation.errors.settings=settingsValidation}}if(isStringEmpty(name)){validation.errors.name=[i18n.translate("xpack.snapshotRestore.repositoryValidation.nameRequired",{defaultMessage:"Repository name is required."})]}if(name.includes(" ")){validation.errors.name=[i18n.translate("xpack.snapshotRestore.repositoryValidation.nameValidation.errorSpace",{defaultMessage:"Spaces are not allowed in the name."})]}var nameCharValidation=doesStringContainChar(name,INVALID_NAME_CHARS);if(nameCharValidation.containsChar){validation.errors.name=[i18n.translate("xpack.snapshotRestore.repositoryValidation.nameValidation.invalidCharacter",{defaultMessage:'Character "{char}" is not allowed in the name.',values:{char:nameCharValidation.charFound}})]}if(isStringEmpty(type)||type===_constants.REPOSITORY_TYPES.source&&isStringEmpty(settings.delegateType)){validation.errors.type=[i18n.translate("xpack.snapshotRestore.repositoryValidation.delegateTypeRequired",{defaultMessage:"Type is required."})]}if(Object.keys(validation.errors).length){validation.isValid=false}return validation};exports.validateRepository=validateRepository;var validateRepositorySettings=function validateRepositorySettings(type,settings){switch(type){case _constants.REPOSITORY_TYPES.fs:return validateFSRepositorySettings(settings);case _constants.REPOSITORY_TYPES.url:return validateReadonlyRepositorySettings(settings);case _constants.REPOSITORY_TYPES.source:return validateRepositorySettings(settings.delegateType,settings);case _constants.REPOSITORY_TYPES.s3:return validateS3RepositorySettings(settings);case _constants.REPOSITORY_TYPES.gcs:return validateGCSRepositorySettings(settings);case _constants.REPOSITORY_TYPES.hdfs:return validateHDFSRepositorySettings(settings);default:return{}}};var validateFSRepositorySettings=function validateFSRepositorySettings(settings){var i18n=_text.textService.i18n;var validation={};var location=settings.location;if(isStringEmpty(location)){validation.location=[i18n.translate("xpack.snapshotRestore.repositoryValidation.locationRequired",{defaultMessage:"Location is required."})]}return validation};var validateReadonlyRepositorySettings=function validateReadonlyRepositorySettings(settings){var i18n=_text.textService.i18n;var validation={};var url=settings.url;if(isStringEmpty(url)){validation.url=[i18n.translate("xpack.snapshotRestore.repositoryValidation.urlRequired",{defaultMessage:"URL is required."})]}return validation};var validateS3RepositorySettings=function validateS3RepositorySettings(settings){var i18n=_text.textService.i18n;var validation={};var bucket=settings.bucket;if(isStringEmpty(bucket)){validation.bucket=[i18n.translate("xpack.snapshotRestore.repositoryValidation.bucketRequired",{defaultMessage:"Bucket is required."})]}return validation};var validateGCSRepositorySettings=function validateGCSRepositorySettings(settings){var i18n=_text.textService.i18n;var validation={};var bucket=settings.bucket;if(isStringEmpty(bucket)){validation.bucket=[i18n.translate("xpack.snapshotRestore.repositoryValidation.bucketRequired",{defaultMessage:"Bucket is required."})]}return validation};var validateHDFSRepositorySettings=function validateHDFSRepositorySettings(settings){var i18n=_text.textService.i18n;var validation={};var uri=settings.uri,path=settings.path;if(isStringEmpty(uri)){validation.uri=[i18n.translate("xpack.snapshotRestore.repositoryValidation.uriRequired",{defaultMessage:"URI is required."})]}if(isStringEmpty(path)){validation.path=[i18n.translate("xpack.snapshotRestore.repositoryValidation.pathRequired",{defaultMessage:"Path is required."})]}return validation}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRestore=void 0;var _constants=__webpack_require__(6);var _text=__webpack_require__(13);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var isStringEmpty=function isStringEmpty(str){return str?!Boolean(str.trim()):true};var validateRestore=function validateRestore(restoreSettings){var i18n=_text.textService.i18n;var indices=restoreSettings.indices,renamePattern=restoreSettings.renamePattern,renameReplacement=restoreSettings.renameReplacement,indexSettings=restoreSettings.indexSettings,ignoreIndexSettings=restoreSettings.ignoreIndexSettings;var validation={isValid:true,errors:{indices:[],renamePattern:[],renameReplacement:[],indexSettings:[],ignoreIndexSettings:[]}};if(typeof indices==="string"&&indices.trim().length===0){validation.errors.indices.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indexPatternRequiredError",{defaultMessage:"At least one index pattern is required."}))}if(Array.isArray(indices)&&indices.length===0){validation.errors.indices.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indicesRequiredError",{defaultMessage:"You must select at least one index."}))}if(renamePattern!==undefined&&isStringEmpty(renamePattern)){validation.errors.renamePattern.push(i18n.translate("xpack.snapshotRestore.restoreValidation.renamePatternRequiredError",{defaultMessage:"Capture pattern is required."}))}if(renameReplacement!==undefined&&isStringEmpty(renameReplacement)){validation.errors.renameReplacement.push(i18n.translate("xpack.snapshotRestore.restoreValidation.renameReplacementRequiredError",{defaultMessage:"Replacement pattern is required."}))}if(typeof indexSettings==="string"){try{var parsedIndexSettings=JSON.parse(indexSettings);var modifiedSettings=Object.keys(parsedIndexSettings);var modifiedSettingsCount=modifiedSettings.length;var unmodifiableSettings=modifiedSettingsCount>0?modifiedSettings.filter((function(setting){return _constants.UNMODIFIABLE_INDEX_SETTINGS.includes(setting)})):null;if(modifiedSettingsCount===0){validation.errors.indexSettings.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indexSettingsRequiredError",{defaultMessage:"At least one setting is required."}))}if(unmodifiableSettings&&unmodifiableSettings.length>0){validation.errors.indexSettings.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indexSettingsNotModifiableError",{defaultMessage:"You can’t modify: {settings}",values:{settings:unmodifiableSettings.map((function(setting,index){return index===0?"".concat(setting," "):setting}))}}))}}catch(e){validation.errors.indexSettings.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indexSettingsInvalidError",{defaultMessage:"Invalid JSON format"}))}}if(Array.isArray(ignoreIndexSettings)){var ignoredSettingsCount=ignoreIndexSettings.length;var unremovableSettings=ignoredSettingsCount>0?ignoreIndexSettings.filter((function(setting){return _constants.UNREMOVABLE_INDEX_SETTINGS.includes(setting)})):null;if(ignoredSettingsCount===0){validation.errors.ignoreIndexSettings.push(i18n.translate("xpack.snapshotRestore.restoreValidation.ignoreIndexSettingsRequiredError",{defaultMessage:"At least one setting is required."}))}if(unremovableSettings&&unremovableSettings.length>0){validation.errors.ignoreIndexSettings.push(i18n.translate("xpack.snapshotRestore.restoreValidation.indexSettingsNotRemovableError",{defaultMessage:"You can’t reset: {settings}",values:{settings:unremovableSettings.map((function(setting,index){return index===0?"".concat(setting," "):setting}))}}))}}validation.errors=Object.entries(validation.errors).filter((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return value.length>0})).reduce((function(errs,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];errs[key]=value;return errs}),{});if(Object.keys(validation.errors).length>0){validation.isValid=false}return validation};exports.validateRestore=validateRestore},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validatePolicy=void 0;var _text=__webpack_require__(13);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var isStringEmpty=function isStringEmpty(str){return str?!Boolean(str.trim()):true};var isSnapshotNameNotLowerCase=function isSnapshotNameNotLowerCase(str){var strExcludeDate=str.substring(0,str.search("{"))+str.substring(str.search("}>")+1,str.length);return strExcludeDate!==strExcludeDate.toLowerCase()?true:false};var validatePolicy=function validatePolicy(policy,validationHelperData){var i18n=_text.textService.i18n;var name=policy.name,snapshotName=policy.snapshotName,schedule=policy.schedule,repository=policy.repository,config=policy.config,retention=policy.retention;var managedRepository=validationHelperData.managedRepository,isEditing=validationHelperData.isEditing,policyName=validationHelperData.policyName;var validation={isValid:true,errors:{name:[],snapshotName:[],schedule:[],repository:[],indices:[],expireAfterValue:[],minCount:[],maxCount:[]}};if(isStringEmpty(name)){validation.errors.name.push(i18n.translate("xpack.snapshotRestore.policyValidation.nameRequiredErroMessage",{defaultMessage:"Policy name is required."}))}if(isStringEmpty(snapshotName)){validation.errors.snapshotName.push(i18n.translate("xpack.snapshotRestore.policyValidation.snapshotNameRequiredErrorMessage",{defaultMessage:"Snapshot name is required."}))}if(isSnapshotNameNotLowerCase(snapshotName)){validation.errors.snapshotName.push(i18n.translate("xpack.snapshotRestore.policyValidation.snapshotNameLowerCaseErrorMessage",{defaultMessage:"Snapshot name needs to be lowercase."}))}if(isStringEmpty(schedule)){validation.errors.schedule.push(i18n.translate("xpack.snapshotRestore.policyValidation.scheduleRequiredErrorMessage",{defaultMessage:"Schedule is required."}))}if(isStringEmpty(repository)){validation.errors.repository.push(i18n.translate("xpack.snapshotRestore.policyValidation.repositoryRequiredErrorMessage",{defaultMessage:"Repository is required."}))}if(config&&typeof config.indices==="string"&&config.indices.trim().length===0){validation.errors.indices.push(i18n.translate("xpack.snapshotRestore.policyValidation.indexPatternRequiredErrorMessage",{defaultMessage:"At least one index pattern is required."}))}if(config&&Array.isArray(config.indices)&&config.indices.length===0){validation.errors.indices.push(i18n.translate("xpack.snapshotRestore.policyValidation.indicesRequiredErrorMessage",{defaultMessage:"You must select at least one index."}))}if(retention&&retention.minCount&&retention.maxCount&&retention.minCount>retention.maxCount){validation.errors.minCount.push(i18n.translate("xpack.snapshotRestore.policyValidation.invalidMinCountErrorMessage",{defaultMessage:"Minimum count cannot be greater than maximum count."}))}if(managedRepository&&managedRepository.name===repository&&managedRepository.policy&&!(isEditing&&managedRepository.policy===policyName)){validation.errors.repository.push(i18n.translate("xpack.snapshotRestore.policyValidation.invalidRepoErrorMessage",{defaultMessage:'Policy "{policyName}" is already associated with this repository.',values:{policyName:managedRepository.policy}}))}if(retention&&retention.expireAfterValue&&retention.expireAfterValue<0){validation.errors.expireAfterValue.push(i18n.translate("xpack.snapshotRestore.policyValidation.invalidNegativeDeleteAfterErrorMessage",{defaultMessage:"Delete after cannot be negative."}))}if(retention&&retention.minCount&&retention.minCount<0){validation.errors.minCount.push(i18n.translate("xpack.snapshotRestore.policyValidation.invalidNegativeMinCountErrorMessage",{defaultMessage:"Minimum count cannot be negative."}))}if(retention&&retention.maxCount&&retention.maxCount<0){validation.errors.maxCount.push(i18n.translate("xpack.snapshotRestore.policyValidation.invalidNegativeMaxCountErrorMessage",{defaultMessage:"Maximum count cannot be negative."}))}validation.errors=Object.entries(validation.errors).filter((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return value.length>0})).reduce((function(errs,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];errs[key]=value;return errs}),{});if(Object.keys(validation.errors).length>0){validation.isValid=false}return validation};exports.validatePolicy=validatePolicy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryFormStepOne=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _documentation=__webpack_require__(52);var _http=__webpack_require__(8);var _text=__webpack_require__(13);var _=__webpack_require__(50);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var RepositoryFormStepOne=function RepositoryFormStepOne(_ref){var repository=_ref.repository,onNext=_ref.onNext,updateRepository=_ref.updateRepository,validation=_ref.validation;var _useLoadRepositoryTyp=(0,_http.useLoadRepositoryTypes)(),repositoryTypesError=_useLoadRepositoryTyp.error,repositoryTypesLoading=_useLoadRepositoryTyp.isLoading,_useLoadRepositoryTyp2=_useLoadRepositoryTyp.data,repositoryTypes=_useLoadRepositoryTyp2===void 0?[]:_useLoadRepositoryTyp2;var hasValidationErrors=!validation.isValid;var onTypeChange=function onTypeChange(newType){if(repository.type===_constants.REPOSITORY_TYPES.source){updateRepository({settings:{delegateType:newType}})}else{updateRepository({type:newType,settings:{}})}};var pluginDocLink=_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getRepositoryPluginDocUrl(),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.typePluginsDocLinkText",defaultMessage:"Learn more about plugins."}));var renderNameField=function renderNameField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.nameDescriptionTitle",defaultMessage:"Repository name"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.nameDescription",defaultMessage:"A unique name for the repository."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.nameLabel",defaultMessage:"Name"}),isInvalid:Boolean(hasValidationErrors&&validation.errors.name),error:validation.errors.name,fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{defaultValue:repository.name,fullWidth:true,onChange:function onChange(e){updateRepository({name:e.target.value})},"data-test-subj":"nameInput"})))};var renderTypeCard=function renderTypeCard(type,index){var isSelectedType=(repository.type===_constants.REPOSITORY_TYPES.source?repository.settings.delegateType:repository.type)===type;var displayName=_text.textService.getRepositoryTypeName(type);return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_eui.EuiCard,{title:displayName,icon:_react.default.createElement(_.RepositoryTypeLogo,{type:type,size:"l"}),description:_react.default.createElement(_react.Fragment,null),footer:_react.default.createElement(_eui.EuiButtonEmpty,{href:_documentation.documentationLinksService.getRepositoryTypeDocUrl(type),target:"_blank",size:"xs",iconType:"iInCircle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.typeDocsLinkText",defaultMessage:"Learn more"})),selectable:{onClick:function onClick(){return onTypeChange(type)},isSelected:isSelectedType},"data-test-subj":"".concat(type,"RepositoryType")}))};var renderTypes=function renderTypes(){if(repositoryTypesError){return _react.default.createElement(_.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.loadingRepositoryTypesErrorMessage",defaultMessage:"Error loading repository types"}),error:repositoryTypesError})}if(repositoryTypesLoading){return _react.default.createElement(_.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.loadingRepositoryTypesDescription",defaultMessage:"Loading repository types…"}))}if(!repositoryTypes.length){return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.noRepositoryTypesErrorTitle",defaultMessage:"No repository types available"}),color:"warning","data-test-subj":"noRepositoryTypesError"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.noRepositoryTypesErrorMessage",defaultMessage:"You can install plugins to enable different repository types. {docLink}",values:{docLink:pluginDocLink}}))}return _react.default.createElement(_eui.EuiFlexGrid,{columns:4},repositoryTypes.map((function(type,index){return renderTypeCard(type,index)})))};var renderTypeField=function renderTypeField(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.typeDescriptionTitle",defaultMessage:"Repository type"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{id:"repositoryTypeDescription",size:"s",color:"subdued"},repositoryTypes.includes(_constants.REPOSITORY_TYPES.fs)&&repositoryTypes.includes(_constants.REPOSITORY_TYPES.url)?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.defaultTypeDescription",defaultMessage:"Elasticsearch supports file system and read-only URL repositories. Additional types require plugins. {docLink}",values:{docLink:pluginDocLink}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.cloudTypeDescription",defaultMessage:"Elasticsearch provides core plugins for custom repositories. {docLink}",values:{docLink:pluginDocLink}})),_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,describedByIds:["repositoryTypeDescription"],fullWidth:true,isInvalid:Boolean(hasValidationErrors&&validation.errors.type),error:validation.errors.type},renderTypes()),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};var renderSourceOnlyToggle=function renderSourceOnlyToggle(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.sourceOnlyDescriptionTitle",defaultMessage:"Source-only snapshots"}))),description:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.sourceOnlyDescription",defaultMessage:"Creates source-only snapshots that take up to 50% less space. {docLink}",values:{docLink:_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getRepositoryTypeDocUrl(_constants.REPOSITORY_TYPES.source),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.sourceOnlyDocLinkText",defaultMessage:"Learn more about source-only repositories."}))}})),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.sourceOnlyLabel",defaultMessage:"Source-only snapshots"}),checked:repository.type===_constants.REPOSITORY_TYPES.source,onChange:function onChange(e){if(e.target.checked){updateRepository({type:_constants.REPOSITORY_TYPES.source,settings:_objectSpread({},repository.settings,{delegateType:repository.type})})}else{var _repository$settings=repository.settings,delegateType=_repository$settings.delegateType,rest=_objectWithoutProperties(_repository$settings,["delegateType"]);updateRepository({type:delegateType||null,settings:rest})}},"data-test-subj":"sourceOnlyToggle"})))};var renderActions=function renderActions(){return _react.default.createElement(_eui.EuiButton,{color:"primary",onClick:onNext,fill:true,iconType:"arrowRight",iconSide:"right","data-test-subj":"nextButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.nextButtonLabel",defaultMessage:"Next"}))};var renderFormValidationError=function renderFormValidationError(){if(!hasValidationErrors){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger","data-test-subj":"repositoryFormError"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};return _react.default.createElement(_react.Fragment,null,renderNameField(),renderTypeField(),renderSourceOnlyToggle(),renderFormValidationError(),renderActions())};exports.RepositoryFormStepOne=RepositoryFormStepOne},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryFormStepTwo=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _documentation=__webpack_require__(52);var _type_settings=__webpack_require__(81);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RepositoryFormStepTwo=function RepositoryFormStepTwo(_ref){var repository=_ref.repository,isManagedRepository=_ref.isManagedRepository,isEditing=_ref.isEditing,isSaving=_ref.isSaving,onSave=_ref.onSave,updateRepository=_ref.updateRepository,validation=_ref.validation,saveError=_ref.saveError,onBack=_ref.onBack;var hasValidationErrors=!validation.isValid;var name=repository.name,type=repository.type,delegateType=repository.settings.delegateType;var typeForDocs=type===_constants.REPOSITORY_TYPES.source?delegateType:type;var renderSettings=function renderSettings(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.fields.settingsTitle",defaultMessage:"{repositoryName} settings",values:{repositoryName:"'".concat(name,"'")}})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getRepositoryTypeDocUrl(typeForDocs),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.repositoryTypeDocLink",defaultMessage:"{repositoryType} repository docs",values:{repositoryType:_text.textService.getRepositoryTypeName(typeForDocs)}})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_type_settings.TypeSettings,{repository:repository,updateRepository:updateRepository,settingErrors:hasValidationErrors&&validation.errors.settings?validation.errors.settings:{}}))};var renderActions=function renderActions(){var saveLabel=isEditing?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.saveButtonLabel",defaultMessage:"Save"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.registerButtonLabel",defaultMessage:"Register"});var savingLabel=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.savingButtonLabel",defaultMessage:"Saving…"});return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},isEditing?null:_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{color:"primary",iconType:"arrowLeft",onClick:onBack,"data-test-subj":"backButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.backButtonLabel",defaultMessage:"Back"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{color:isManagedRepository?"warning":"secondary",iconType:"check",onClick:onSave,fill:isManagedRepository?false:true,"data-test-subj":"submitButton",isLoading:isSaving},isSaving?savingLabel:saveLabel)))};var renderFormValidationError=function renderFormValidationError(){if(!hasValidationErrors){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"repositoryFormError"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};var renderSaveError=function renderSaveError(){if(!saveError){return null}return _react.default.createElement(_react.Fragment,null,saveError,_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};return _react.default.createElement("div",{"data-test-subj":"stepTwo"},renderSettings(),renderFormValidationError(),renderSaveError(),renderActions())};exports.RepositoryFormStepTwo=RepositoryFormStepTwo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeSettings=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _react2=__webpack_require__(3);var _constants=__webpack_require__(4);var _app_context=__webpack_require__(49);var _index=__webpack_require__(50);var _azure_settings=__webpack_require__(82);var _fs_settings=__webpack_require__(83);var _gcs_settings=__webpack_require__(84);var _hdfs_settings=__webpack_require__(85);var _readonly_settings=__webpack_require__(86);var _s3_settings=__webpack_require__(87);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TypeSettings=function TypeSettings(_ref){var _typeSettingsMap;var repository=_ref.repository,updateRepository=_ref.updateRepository,settingErrors=_ref.settingErrors;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var type=repository.type,settings=repository.settings;var updateRepositorySettings=function updateRepositorySettings(updatedSettings,replaceSettings){if(replaceSettings){updateRepository({settings:updatedSettings})}else{updateRepository({settings:_objectSpread({},settings,{},updatedSettings)})}};var typeSettingsMap=(_typeSettingsMap={},_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.fs,_fs_settings.FSSettings),_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.url,_readonly_settings.ReadonlySettings),_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.azure,_azure_settings.AzureSettings),_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.gcs,_gcs_settings.GCSSettings),_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.hdfs,_hdfs_settings.HDFSSettings),_defineProperty(_typeSettingsMap,_constants.REPOSITORY_TYPES.s3,_s3_settings.S3Settings),_typeSettingsMap);var renderTypeSettings=function renderTypeSettings(repositoryType){if(!repositoryType){return null}var RepositorySettings=typeSettingsMap[repositoryType];if(RepositorySettings){return _react.default.createElement(RepositorySettings,{repository:repository,updateRepositorySettings:updateRepositorySettings,settingErrors:settingErrors})}return _react.default.createElement(_index.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.errorUnknownRepositoryTypesTitle",defaultMessage:"Unknown repository type"}),error:{error:i18n.translate("xpack.snapshotRestore.repositoryForm.errorUnknownRepositoryTypesMessage",{defaultMessage:"The repository type '{type}' is not supported.",values:{type:repositoryType}})}})};return type===_constants.REPOSITORY_TYPES.source?renderTypeSettings(settings.delegateType):renderTypeSettings(type)};exports.TypeSettings=TypeSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AzureSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AzureSettings=function AzureSettings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var _repository$settings=repository.settings,client=_repository$settings.client,container=_repository$settings.container,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,readonly=_repository$settings.readonly,locationMode=_repository$settings.locationMode,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec;var hasErrors=Boolean(Object.keys(settingErrors).length);var locationModeOptions=["primary_only","secondary_only"].map((function(option){return{value:option,text:option}}));return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.clientTitle",defaultMessage:"Client"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.clientDescription",defaultMessage:"The name of the Azure client."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.clientLabel",defaultMessage:"Client"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.client),error:settingErrors.client},_react.default.createElement(_eui.EuiFieldText,{defaultValue:client||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({client:e.target.value})},"data-test-subj":"clientInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.containerTitle",defaultMessage:"Container"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.containerDescription",defaultMessage:"The name of the Azure container to use for snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.containerLabel",defaultMessage:"Container"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.container),error:settingErrors.container},_react.default.createElement(_eui.EuiFieldText,{defaultValue:container||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({container:e.target.value})},"data-test-subj":"containerInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.basePathTitle",defaultMessage:"Base path"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.basePathDescription",defaultMessage:"The container path to the repository data."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.basePathLabel",defaultMessage:"Base path"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.basePath),error:settingErrors.basePath},_react.default.createElement(_eui.EuiFieldText,{defaultValue:basePath||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({basePath:e.target.value})},"data-test-subj":"basePathInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.compressTitle",defaultMessage:"Snapshot compression"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.compressDescription",defaultMessage:"Compresses the index mapping and setting files for snapshots. Data files are not compressed."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.compress),error:settingErrors.compress},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.compressLabel",defaultMessage:"Compress snapshots"}),checked:!(compress===false),onChange:function onChange(e){updateRepositorySettings({compress:e.target.checked})},"data-test-subj":"compressToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.chunkSizeTitle",defaultMessage:"Chunk size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.chunkSizeDescription",defaultMessage:"Breaks files into smaller units when taking snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.chunkSizeLabel",defaultMessage:"Chunk size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.chunkSize),error:settingErrors.chunkSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:chunkSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({chunkSize:e.target.value})},"data-test-subj":"chunkSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxSnapshotBytesTitle",defaultMessage:"Max snapshot bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxSnapshotBytesDescription",defaultMessage:"The rate for creating snapshots for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxSnapshotBytesPerSec),error:settingErrors.maxSnapshotBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxSnapshotBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxSnapshotBytesPerSec:e.target.value})},"data-test-subj":"maxSnapshotBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxRestoreBytesTitle",defaultMessage:"Max restore bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxRestoreBytesDescription",defaultMessage:"The snapshot restore rate for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxRestoreBytesPerSec),error:settingErrors.maxRestoreBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxRestoreBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxRestoreBytesPerSec:e.target.value})},"data-test-subj":"maxRestoreBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.locationModeTitle",defaultMessage:"Location mode"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.locationModeDescription",defaultMessage:"The primary or secondary location. If secondary, read-only is true."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.locationModeLabel",defaultMessage:"Location mode"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.locationMode),error:settingErrors.locationMode},_react.default.createElement(_eui.EuiSelect,{options:locationModeOptions,value:locationMode||locationModeOptions[0].value,onChange:function onChange(e){updateRepositorySettings({locationMode:e.target.value,readonly:e.target.value===locationModeOptions[1].value?true:readonly})},fullWidth:true,"data-test-subj":"locationModeSelect"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.readonlyTitle",defaultMessage:"Read-only"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.readonlyDescription",defaultMessage:"Only one cluster should have write access to this repository. All other clusters should be read-only."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.readonly),error:settingErrors.readonly},_react.default.createElement(_eui.EuiSwitch,{disabled:locationMode===locationModeOptions[1].value,label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeAzure.readonlyLabel",defaultMessage:"Read-only repository"}),checked:!!readonly,onChange:function onChange(e){updateRepositorySettings({readonly:locationMode===locationModeOptions[1].value?true:e.target.checked})},"data-test-subj":"readOnlyToggle"}))))};exports.AzureSettings=AzureSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FSSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FSSettings=function FSSettings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var _repository$settings=repository.settings,location=_repository$settings.location,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec,readonly=_repository$settings.readonly;var hasErrors=Boolean(Object.keys(settingErrors).length);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.locationTitle",defaultMessage:"File system location"}))),description:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryFor.typeFS.locationDescription",defaultMessage:"The location must be registered in the {settingKey} setting on all master and data nodes.",values:{settingKey:_react.default.createElement(_eui.EuiCode,null,"path.repo")}})),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.locationLabel",defaultMessage:"Location (required)"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.location),error:settingErrors.location},_react.default.createElement(_eui.EuiFieldText,{defaultValue:location||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({location:e.target.value})},"data-test-subj":"locationInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.compressTitle",defaultMessage:"Snapshot compression"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.compressDescription",defaultMessage:"Compresses the index mapping and setting files for snapshots. Data files are not compressed."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.compress),error:settingErrors.compress},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.compressLabel",defaultMessage:"Compress snapshots"}),checked:!!compress,onChange:function onChange(e){updateRepositorySettings({compress:e.target.checked})},"data-test-subj":"compressToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.chunkSizeTitle",defaultMessage:"Chunk size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.chunkSizeDescription",defaultMessage:"Breaks files into smaller units when taking snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.chunkSizeLabel",defaultMessage:"Chunk size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.chunkSize),error:settingErrors.chunkSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:chunkSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({chunkSize:e.target.value})},"data-test-subj":"chunkSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxSnapshotBytesTitle",defaultMessage:"Max snapshot bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxSnapshotBytesDescription",defaultMessage:"The rate for creating snapshots for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxSnapshotBytesPerSec),error:settingErrors.maxSnapshotBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxSnapshotBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxSnapshotBytesPerSec:e.target.value})},"data-test-subj":"maxSnapshotBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxRestoreBytesTitle",defaultMessage:"Max restore bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxRestoreBytesDescription",defaultMessage:"The snapshot restore rate for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxRestoreBytesPerSec),error:settingErrors.maxRestoreBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxRestoreBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxRestoreBytesPerSec:e.target.value})},"data-test-subj":"maxRestoreBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.readonlyTitle",defaultMessage:"Read-only"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.readonlyDescription",defaultMessage:"Only one cluster should have write access to this repository. All other clusters should be read-only."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.readonly),error:settingErrors.readonly},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeFS.readonlyLabel",defaultMessage:"Read-only repository"}),checked:!!readonly,onChange:function onChange(e){updateRepositorySettings({readonly:e.target.checked})},"data-test-subj":"readOnlyToggle"}))))};exports.FSSettings=FSSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GCSSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var GCSSettings=function GCSSettings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var _repository$settings=repository.settings,bucket=_repository$settings.bucket,client=_repository$settings.client,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec,readonly=_repository$settings.readonly;var hasErrors=Boolean(Object.keys(settingErrors).length);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.clientTitle",defaultMessage:"Client"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.clientDescription",defaultMessage:"The name of the Google Cloud Storage client."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.clientLabel",defaultMessage:"Client"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.client),error:settingErrors.client},_react.default.createElement(_eui.EuiFieldText,{defaultValue:client||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({client:e.target.value})},"data-test-subj":"clientInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.bucketTitle",defaultMessage:"Bucket"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.bucketDescription",defaultMessage:"The name of the Google Cloud Storage bucket to use for snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.bucketLabel",defaultMessage:"Bucket (required)"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.bucket),error:settingErrors.bucket},_react.default.createElement(_eui.EuiFieldText,{defaultValue:bucket||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({bucket:e.target.value})},"data-test-subj":"bucketInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.basePathTitle",defaultMessage:"Base path"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.basePathDescription",defaultMessage:"The bucket path to the repository data."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.basePathLabel",defaultMessage:"Base path"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.basePath),error:settingErrors.basePath},_react.default.createElement(_eui.EuiFieldText,{defaultValue:basePath||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({basePath:e.target.value})},"data-test-subj":"basePathInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.compressTitle",defaultMessage:"Compress snapshots"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.compressDescription",defaultMessage:"Compresses the index mapping and setting files for snapshots. Data files are not compressed."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.compress),error:settingErrors.compress},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.compressLabel",defaultMessage:"Compress snapshots"}),checked:!(compress===false),onChange:function onChange(e){updateRepositorySettings({compress:e.target.checked})},"data-test-subj":"compressToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.chunkSizeTitle",defaultMessage:"Chunk size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.chunkSizeDescription",defaultMessage:"Breaks files into smaller units when taking snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.chunkSizeLabel",defaultMessage:"Chunk size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.chunkSize),error:settingErrors.chunkSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:chunkSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({chunkSize:e.target.value})},"data-test-subj":"chunkSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxSnapshotBytesTitle",defaultMessage:"Max snapshot bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxSnapshotBytesDescription",defaultMessage:"The rate for creating snapshots for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxSnapshotBytesPerSec),error:settingErrors.maxSnapshotBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxSnapshotBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxSnapshotBytesPerSec:e.target.value})},"data-test-subj":"maxSnapshotBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxRestoreBytesTitle",defaultMessage:"Max restore bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxRestoreBytesDescription",defaultMessage:"The snapshot restore rate for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxRestoreBytesPerSec),error:settingErrors.maxRestoreBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxRestoreBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxRestoreBytesPerSec:e.target.value})},"data-test-subj":"maxRestoreBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.readonlyTitle",defaultMessage:"Read-only"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.readonlyDescription",defaultMessage:"Only one cluster should have write access to this repository. All other clusters should be read-only."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.readonly),error:settingErrors.readonly},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeGCS.readonlyLabel",defaultMessage:"Read-only repository"}),checked:!!readonly,onChange:function onChange(e){updateRepositorySettings({readonly:e.target.checked})},"data-test-subj":"readOnlyToggle"}))))};exports.GCSSettings=GCSSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HDFSSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var HDFSSettings=function HDFSSettings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var _repository$settings=repository.settings,delegateType=_repository$settings.delegateType,uri=_repository$settings.uri,path=_repository$settings.path,loadDefaults=_repository$settings.loadDefaults,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec,readonly=_repository$settings.readonly,securityPrincipal=_repository$settings["security.principal"],rest=_objectWithoutProperties(_repository$settings,["delegateType","uri","path","loadDefaults","compress","chunkSize","maxRestoreBytesPerSec","maxSnapshotBytesPerSec","readonly","security.principal"]);var hasErrors=Boolean(Object.keys(settingErrors).length);var _useState=(0,_react.useState)(JSON.stringify(rest,null,2)),_useState2=_slicedToArray(_useState,2),additionalConf=_useState2[0],setAdditionalConf=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isConfInvalid=_useState4[0],setIsConfInvalid=_useState4[1];return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.uriTitle",defaultMessage:"URI"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.uriDescription",defaultMessage:"The URI address for HDFS."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.uriLabel",defaultMessage:"URI (required)"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.uri),error:settingErrors.uri},_react.default.createElement(_eui.EuiFieldText,{prepend:_react.default.createElement(_eui.EuiText,{size:"s",id:"hdfsRepositoryUriProtocolDescription"},"hdfs://"),defaultValue:uri?uri.split("hdfs://")[1]:"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({uri:e.target.value?"hdfs://".concat(e.target.value):""})},"aria-describedby":"hdfsRepositoryUriProtocolDescription","data-test-subj":"uriInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.pathTitle",defaultMessage:"Path"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.pathDescription",defaultMessage:"The file path where data is stored."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.pathLabel",defaultMessage:"Path (required)"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.path),error:settingErrors.path},_react.default.createElement(_eui.EuiFieldText,{defaultValue:path||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({path:e.target.value})},"data-test-subj":"pathInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.loadDefaultsTitle",defaultMessage:"Load defaults"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.loadDefaultsDescription",defaultMessage:"Loads the default Hadoop configuration."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.loadDefaults),error:settingErrors.loadDefaults},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.loadDefaultsLabel",defaultMessage:"Load defaults"}),checked:!(loadDefaults===false),onChange:function onChange(e){updateRepositorySettings({loadDefaults:e.target.checked})},"data-test-subj":"loadDefaultsToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.compressTitle",defaultMessage:"Snapshot compression"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.compressDescription",defaultMessage:"Compresses the index mapping and setting files for snapshots. Data files are not compressed."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.compress),error:settingErrors.compress},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.compressLabel",defaultMessage:"Compress snapshots"}),checked:!(compress===false),onChange:function onChange(e){updateRepositorySettings({compress:e.target.checked})},"data-test-subj":"compressToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.chunkSizeTitle",defaultMessage:"Chunk size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.chunkSizeDescription",defaultMessage:"Breaks files into smaller units when taking snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.chunkSizeLabel",defaultMessage:"Chunk size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.chunkSize),error:settingErrors.chunkSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:chunkSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({chunkSize:e.target.value})},"data-test-subj":"chunkSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.securityPrincipalTitle",defaultMessage:"Security principal"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.securityPrincipalDescription",defaultMessage:"The Kerberos principal to use when connecting to a secured HDFS cluster."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.securityPrincipalLabel",defaultMessage:"Security principal"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.securityPrincipal),error:settingErrors.securityPrincipal},_react.default.createElement(_eui.EuiFieldText,{defaultValue:securityPrincipal||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({"security.principal":e.target.value})},"data-test-subj":"securityPrincipalInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.configurationTitle",defaultMessage:"Configuration"}))),description:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.configurationDescription",defaultMessage:"Additional JSON format configuration parameters to add to the Hadoop configuration. Only client-oriented properties from the Hadoop core and HDFS files are recognized."})),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.configurationLabel",defaultMessage:"Configuration"}),fullWidth:true,isInvalid:isConfInvalid,error:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.configurationFormatError",defaultMessage:"Invalid JSON format"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.configurationKeyDescription",defaultMessage:"Keys should be in the format {confKeyFormat}.",values:{confKeyFormat:_react.default.createElement(_eui.EuiCode,null,"conf.<key>")}})},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",value:additionalConf,setOptions:{showLineNumbers:false,tabSize:2,maxLines:Infinity},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,"aria-label":_i18n.i18n.translate("xpack.snapshotRestore.repositoryForm.typeHDFS.configurationAriaLabel",{defaultMessage:"Additional configuration for HDFS repository '{name}'",values:{name:name}}),onChange:function onChange(value){setAdditionalConf(value);try{var parsedConf=JSON.parse(value);setIsConfInvalid(false);updateRepositorySettings(_objectSpread({delegateType:delegateType,uri:uri,path:path,loadDefaults:loadDefaults,compress:compress,chunkSize:chunkSize,"security.principal":securityPrincipal},parsedConf),true)}catch(e){setIsConfInvalid(true)}},"data-test-subj":"codeEditor"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxSnapshotBytesTitle",defaultMessage:"Max snapshot bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxSnapshotBytesDescription",defaultMessage:"The rate for creating snapshots for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxSnapshotBytesPerSec),error:settingErrors.maxSnapshotBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxSnapshotBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxSnapshotBytesPerSec:e.target.value})},"data-test-subj":"maxSnapshotBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxRestoreBytesTitle",defaultMessage:"Max restore bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxRestoreBytesDescription",defaultMessage:"The snapshot restore rate for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxRestoreBytesPerSec),error:settingErrors.maxRestoreBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxRestoreBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxRestoreBytesPerSec:e.target.value})},"data-test-subj":"maxRestoreBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.readonlyTitle",defaultMessage:"Read-only"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.readonlyDescription",defaultMessage:"Only one cluster should have write access to this repository. All other clusters should be read-only."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.readonly),error:settingErrors.readonly},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeHDFS.readonlyLabel",defaultMessage:"Read-only repository"}),checked:!!readonly,onChange:function onChange(e){updateRepositorySettings({readonly:e.target.checked})},"data-test-subj":"readOnlyToggle"}))))};exports.HDFSSettings=HDFSSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReadonlySettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ReadonlySettings=function ReadonlySettings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var url=repository.settings.url;var hasErrors=Boolean(Object.keys(settingErrors).length);function getSchemeHelpText(scheme){switch(scheme){case"http":case"https":case"ftp":return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlWhitelistDescription",defaultMessage:"This URL must be registered in the {settingKey} setting.",values:{settingKey:_react.default.createElement(_eui.EuiCode,null,"repositories.url.allowed_urls")}});case"file":return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlFilePathDescription",defaultMessage:"This file location must be registered in the {settingKey} setting.",values:{settingKey:_react.default.createElement(_eui.EuiCode,null,"path.repo")}});default:return null}}var schemeOptions=[{value:"http",text:"http://"},{value:"https",text:"https://"},{value:"ftp",text:"ftp://"},{value:"file",text:"file://"}];var _useState=(0,_react.useState)(url?url.split("://")[0]:"http"),_useState2=_slicedToArray(_useState,2),selectedScheme=_useState2[0],selectScheme=_useState2[1];return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlTitle",defaultMessage:"URL"}))),description:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlDescription",defaultMessage:"The location of the snapshots."})),fullWidth:true},_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlSchemeLabel",defaultMessage:"Scheme"}),fullWidth:true},_react.default.createElement(_eui.EuiSelect,{options:schemeOptions,value:selectedScheme,onChange:function onChange(e){return selectScheme(e.target.value)},"aria-controls":"readonlyRepositoryUrlHelp","data-test-subj":"schemeSelect"}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeReadonly.urlLabel",defaultMessage:"Path (required)"}),fullWidth:true,describedByIds:["readonlyRepositoryUrlHelp"],isInvalid:Boolean(hasErrors&&settingErrors.url),error:settingErrors.url},_react.default.createElement(_eui.EuiFieldText,{defaultValue:url?url.split("://")[1]:"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({url:"".concat(selectedScheme,"://").concat(e.target.value)})},"data-test-subj":"urlInput"})))),_react.default.createElement(_eui.EuiFormHelpText,{id:"readonlyRepositoryUrlHelp","aria-live":"polite"},getSchemeHelpText(selectedScheme)))))};exports.ReadonlySettings=ReadonlySettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.S3Settings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var S3Settings=function S3Settings(_ref){var repository=_ref.repository,updateRepositorySettings=_ref.updateRepositorySettings,settingErrors=_ref.settingErrors;var _repository$settings=repository.settings,bucket=_repository$settings.bucket,client=_repository$settings.client,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,serverSideEncryption=_repository$settings.serverSideEncryption,bufferSize=_repository$settings.bufferSize,cannedAcl=_repository$settings.cannedAcl,storageClass=_repository$settings.storageClass,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec,readonly=_repository$settings.readonly;var cannedAclOptions=["private","public-read","public-read-write","authenticated-read","log-delivery-write","bucket-owner-read","bucket-owner-full-control"].map((function(option){return{value:option,text:option}}));var hasErrors=Boolean(Object.keys(settingErrors).length);var storageClassOptions=["standard","reduced_redundancy","standard_ia"].map((function(option){return{value:option,text:option}}));return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.clientTitle",defaultMessage:"Client"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.clientDescription",defaultMessage:"The name of the AWS S3 client."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.clientLabel",defaultMessage:"Client"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.client),error:settingErrors.client},_react.default.createElement(_eui.EuiFieldText,{defaultValue:client||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({client:e.target.value})},"data-test-subj":"clientInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bucketTitle",defaultMessage:"Bucket"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bucketDescription",defaultMessage:"The name of the AWS S3 bucket to use for snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bucketLabel",defaultMessage:"Bucket (required)"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.bucket),error:settingErrors.bucket},_react.default.createElement(_eui.EuiFieldText,{defaultValue:bucket||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({bucket:e.target.value})},"data-test-subj":"bucketInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.basePathTitle",defaultMessage:"Base path"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.basePathDescription",defaultMessage:"The bucket path to the repository data."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.basePathLabel",defaultMessage:"Base path"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.basePath),error:settingErrors.basePath},_react.default.createElement(_eui.EuiFieldText,{defaultValue:basePath||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({basePath:e.target.value})},"data-test-subj":"basePathInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.compressTitle",defaultMessage:"Snapshot compression"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.compressDescription",defaultMessage:"Compresses the index mapping and setting files for snapshots. Data files are not compressed."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.compress),error:settingErrors.compress},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.compressLabel",defaultMessage:"Compress snapshots"}),checked:!(compress===false),onChange:function onChange(e){updateRepositorySettings({compress:e.target.checked})},"data-test-subj":"compressToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.chunkSizeTitle",defaultMessage:"Chunk size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.chunkSizeDescription",defaultMessage:"Breaks files into smaller units when taking snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.chunkSizeLabel",defaultMessage:"Chunk size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.chunkSize),error:settingErrors.chunkSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:chunkSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({chunkSize:e.target.value})},"data-test-subj":"chunkSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.serverSideEncryptionTitle",defaultMessage:"Server-side encryption"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.serverSideEncryptionDescription",defaultMessage:"Encrypts files on the server using AES256 algorithm."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.serverSideEncryption),error:settingErrors.serverSideEncryption},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.serverSideEncryptionLabel",defaultMessage:"Server-side encryption"}),checked:!!serverSideEncryption,onChange:function onChange(e){updateRepositorySettings({serverSideEncryption:e.target.checked})},"data-test-subj":"serverSideEncryptionToggle"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bufferSizeTitle",defaultMessage:"Buffer size"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bufferSizeDescription",defaultMessage:"Beyond this minimum threshold, the S3 repository will use the AWS Multipart Upload API to split the chunk into several parts and upload each in its own request."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.bufferSizeLabel",defaultMessage:"Buffer size"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.bufferSize),error:settingErrors.bufferSize,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:bufferSize||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({bufferSize:e.target.value})},"data-test-subj":"bufferSizeInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.cannedAclTitle",defaultMessage:"Canned ACL"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.cannedAclDescription",defaultMessage:"The canned ACL to add to new S3 buckets and objects."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.cannedAclLabel",defaultMessage:"Canned ACL"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.cannedAcl),error:settingErrors.cannedAcl},_react.default.createElement(_eui.EuiSelect,{options:cannedAclOptions,value:cannedAcl||cannedAclOptions[0].value,onChange:function onChange(e){updateRepositorySettings({cannedAcl:e.target.value})},fullWidth:true,"data-test-subj":"cannedAclSelect"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.storageClassTitle",defaultMessage:"Storage class"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.storageClassDescription",defaultMessage:"The storage class for new objects in the S3 repository."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.storageClassLabel",defaultMessage:"Storage class"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.storageClass),error:settingErrors.storageClass},_react.default.createElement(_eui.EuiSelect,{options:storageClassOptions,value:storageClass||storageClassOptions[0].value,onChange:function onChange(e){updateRepositorySettings({storageClass:e.target.value})},fullWidth:true,"data-test-subj":"storageClassSelect"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxSnapshotBytesTitle",defaultMessage:"Max snapshot bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxSnapshotBytesDescription",defaultMessage:"The rate for creating snapshots for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxSnapshotBytesPerSec),error:settingErrors.maxSnapshotBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxSnapshotBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxSnapshotBytesPerSec:e.target.value})},"data-test-subj":"maxSnapshotBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxRestoreBytesTitle",defaultMessage:"Max restore bytes per second"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxRestoreBytesDescription",defaultMessage:"The snapshot restore rate for each node."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.maxRestoreBytesPerSec),error:settingErrors.maxRestoreBytesPerSec,helpText:_text.textService.getSizeNotationHelpText()},_react.default.createElement(_eui.EuiFieldText,{defaultValue:maxRestoreBytesPerSec||"",fullWidth:true,onChange:function onChange(e){updateRepositorySettings({maxRestoreBytesPerSec:e.target.value})},"data-test-subj":"maxRestoreBytesInput"}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.readonlyTitle",defaultMessage:"Read-only"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.readonlyDescription",defaultMessage:"Only one cluster should have write access to this repository. All other clusters should be read-only."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,isInvalid:Boolean(hasErrors&&settingErrors.readonly),error:settingErrors.readonly},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryForm.typeS3.readonlyLabel",defaultMessage:"Read-only repository"}),checked:!!readonly,onChange:function onChange(e){updateRepositorySettings({readonly:e.target.checked})},"data-test-subj":"readOnlyToggle"}))))};exports.S3Settings=S3Settings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryVerificationBadge=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RepositoryVerificationBadge=function RepositoryVerificationBadge(_ref){var verificationResults=_ref.verificationResults;if(!verificationResults){return _react.default.createElement(_eui.EuiHealth,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryVerification.verificationUnknownValue",defaultMessage:"Unknown"}))}if(verificationResults.valid){return _react.default.createElement(_eui.EuiHealth,{color:"success"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryVerification.verificationSuccessfulValue",defaultMessage:"Connected"}))}return _react.default.createElement(_eui.EuiHealth,{color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryVerification.verificationErrorValue",defaultMessage:"Not connected"}))};exports.RepositoryVerificationBadge=RepositoryVerificationBadge},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryTypeLogo=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var RepositoryTypeLogo=function RepositoryTypeLogo(_ref){var _typeLogoMap;var type=_ref.type,rest=_objectWithoutProperties(_ref,["type"]);var typeLogoMap=(_typeLogoMap={},_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.fs,"storage"),_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.url,"eye"),_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.azure,"logoAzure"),_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.gcs,"logoGCP"),_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.hdfs,"logoApache"),_defineProperty(_typeLogoMap,_constants.REPOSITORY_TYPES.s3,"logoAWS"),_typeLogoMap);return _react.default.createElement(_eui.EuiIcon,_extends({type:typeLogoMap[type]||"folderOpen"},rest))};exports.RepositoryTypeLogo=RepositoryTypeLogo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionError=void 0;var _eui=__webpack_require__(2);var _react=_interopRequireWildcard(__webpack_require__(1));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var SectionError=function SectionError(_ref){var title=_ref.title,error=_ref.error,actions=_ref.actions,rest=_objectWithoutProperties(_ref,["title","error","actions"]);var errorString=error.error,cause=error.cause,message=error.message;return _react.default.createElement(_eui.EuiCallOut,_extends({title:title,color:"danger",iconType:"alert"},rest),cause?message||errorString:_react.default.createElement("p",null,message||errorString),cause&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("ul",null,cause.map((function(causeMsg,i){return _react.default.createElement("li",{key:i},causeMsg)})))),actions?actions:null)};exports.SectionError=SectionError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionLoading=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var SectionLoading=function SectionLoading(_ref){var inline=_ref.inline,children=_ref.children,rest=_objectWithoutProperties(_ref,["inline","children"]);if(inline){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,rest,_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},children))))}return _react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),body:_react.default.createElement(_eui.EuiText,{color:"subdued"},children),"data-test-subj":"sectionLoading"})};exports.SectionLoading=SectionLoading},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotDeleteProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SnapshotDeleteProvider=function SnapshotDeleteProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),snapshotIds=_useState2[0],setSnapshotIds=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isDeleting=_useState6[0],setIsDeleting=_useState6[1];var onSuccessCallback=(0,_react.useRef)(null);var deleteSnapshotPrompt=function deleteSnapshotPrompt(ids){var onSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return undefined};if(!ids||!ids.length){throw new Error("No snapshot IDs specified for deletion")}setIsModalOpen(true);setSnapshotIds(ids);onSuccessCallback.current=onSuccess};var closeModal=function closeModal(){setIsModalOpen(false);setSnapshotIds([])};var deleteSnapshot=function deleteSnapshot(){var snapshotsToDelete=_toConsumableArray(snapshotIds);setIsDeleting(true);(0,_http.deleteSnapshots)(snapshotsToDelete).then((function(_ref2){var data=_ref2.data,error=_ref2.error;var _ref3=data||{itemsDeleted:undefined,errors:undefined},itemsDeleted=_ref3.itemsDeleted,errors=_ref3.errors;closeModal();setIsDeleting(false);if(itemsDeleted&&itemsDeleted.length){var hasMultipleSuccesses=itemsDeleted.length>1;var successMessage=hasMultipleSuccesses?i18n.translate("xpack.snapshotRestore.deleteSnapshot.successMultipleNotificationTitle",{defaultMessage:"Deleted {count} snapshots",values:{count:itemsDeleted.length}}):i18n.translate("xpack.snapshotRestore.deleteSnapshot.successSingleNotificationTitle",{defaultMessage:"Deleted snapshot '{name}'",values:{name:itemsDeleted[0].snapshot}});toastNotifications.addSuccess(successMessage);if(onSuccessCallback.current){onSuccessCallback.current(_toConsumableArray(itemsDeleted))}}if(error||errors&&errors.length){var hasMultipleErrors=errors&&errors.length>1||error&&snapshotsToDelete.length>1;var errorMessage=hasMultipleErrors?i18n.translate("xpack.snapshotRestore.deleteSnapshot.errorMultipleNotificationTitle",{defaultMessage:"Error deleting {count} snapshots",values:{count:errors&&errors.length||snapshotsToDelete.length}}):i18n.translate("xpack.snapshotRestore.deleteSnapshot.errorSingleNotificationTitle",{defaultMessage:"Error deleting snapshot '{name}'",values:{name:errors&&errors[0].id.snapshot||snapshotsToDelete[0].snapshot}});toastNotifications.addDanger(errorMessage)}}))};var renderModal=function renderModal(){if(!isModalOpen){return null}var isSingle=snapshotIds.length===1;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:isSingle?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deleteSingleTitle",defaultMessage:"Delete snapshot '{name}'?",values:{name:snapshotIds[0].snapshot}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deleteMultipleTitle",defaultMessage:"Delete {count} snapshots?",values:{count:snapshotIds.length}}),onCancel:closeModal,onConfirm:deleteSnapshot,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.confirmButtonLabel",defaultMessage:"Delete {count, plural, one {snapshot} other {snapshots}}",values:{count:snapshotIds.length}}),confirmButtonDisabled:isDeleting,buttonColor:"danger","data-test-subj":"srdeleteSnapshotConfirmationModal"},!isSingle?_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deleteMultipleListDescription",defaultMessage:"You are about to delete these snapshots:"})),_react.default.createElement("ul",null,snapshotIds.map((function(_ref4){var snapshot=_ref4.snapshot,repository=_ref4.repository;return _react.default.createElement("li",{key:"".concat(repository,"/").concat(snapshot)},snapshot)})))):null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deleteMultipleDescription",defaultMessage:"Restore operations associated with {count, plural, one {this snapshot} other {these snapshots}} will stop.",values:{count:snapshotIds.length}})),!isSingle&&isDeleting?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,null)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deletingCalloutTitle",defaultMessage:"Deleting snapshots"}))))},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deleteSnapshot.confirmModal.deletingCalloutDescription",defaultMessage:"This may take a few minutes."})))):null))};return _react.default.createElement(_react.Fragment,null,children(deleteSnapshotPrompt),renderModal())};exports.SnapshotDeleteProvider=SnapshotDeleteProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RestoreSnapshotForm",{enumerable:true,get:function get(){return _restore_snapshot_form.RestoreSnapshotForm}});var _restore_snapshot_form=__webpack_require__(94)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshotForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _validation=__webpack_require__(55);var _steps=__webpack_require__(95);var _navigation=__webpack_require__(99);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreSnapshotForm=function RestoreSnapshotForm(_ref){var snapshotDetails=_ref.snapshotDetails,isSaving=_ref.isSaving,saveError=_ref.saveError,clearSaveError=_ref.clearSaveError,onSave=_ref.onSave;var _useState=(0,_react.useState)(1),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=_slicedToArray(_useState3,2),maxCompletedStep=_useState4[0],setMaxCompletedStep=_useState4[1];var stepMap={1:_steps.RestoreSnapshotStepLogistics,2:_steps.RestoreSnapshotStepSettings,3:_steps.RestoreSnapshotStepReview};var CurrentStepForm=stepMap[currentStep];var _useState5=(0,_react.useState)({}),_useState6=_slicedToArray(_useState5,2),restoreSettings=_useState6[0],setRestoreSettings=_useState6[1];var _useState7=(0,_react.useState)({isValid:true,errors:{}}),_useState8=_slicedToArray(_useState7,2),validation=_useState8[0],setValidation=_useState8[1];var updateRestoreSettings=function updateRestoreSettings(updatedSettings){var newRestoreSettings=_objectSpread({},restoreSettings,{},updatedSettings);var newValidation=(0,_validation.validateRestore)(newRestoreSettings);setRestoreSettings(newRestoreSettings);setValidation(newValidation)};var updateCurrentStep=function updateCurrentStep(step){if(maxCompletedStep<step-1){return}setCurrentStep(step);setMaxCompletedStep(step-1);clearSaveError()};var onBack=function onBack(){var previousStep=currentStep-1;setCurrentStep(previousStep);setMaxCompletedStep(previousStep-1);clearSaveError()};var onNext=function onNext(){if(!validation.isValid){return}var nextStep=currentStep+1;setMaxCompletedStep(Math.max(currentStep,maxCompletedStep));setCurrentStep(nextStep)};var executeRestore=function executeRestore(){if(validation.isValid){onSave(restoreSettings)}};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_navigation.RestoreSnapshotNavigation,{currentStep:currentStep,maxCompletedStep:maxCompletedStep,updateCurrentStep:updateCurrentStep}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(CurrentStepForm,{snapshotDetails:snapshotDetails,restoreSettings:restoreSettings,updateRestoreSettings:updateRestoreSettings,errors:validation.errors,updateCurrentStep:updateCurrentStep}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),saveError?_react.default.createElement(_react.Fragment,null,saveError,_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react.default.createElement(_eui.EuiFlexGroup,null,currentStep>1?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:function onClick(){return onBack()}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.backButtonLabel",defaultMessage:"Back"}))):null,currentStep<3?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,iconType:"arrowRight",onClick:function onClick(){return onNext()},disabled:!validation.isValid},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.nextButtonLabel",defaultMessage:"Next"}))):null,currentStep===3?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,color:"secondary",iconType:"check",onClick:function onClick(){return executeRestore()},isLoading:isSaving},isSaving?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.savingButtonLabel",defaultMessage:"Restoring…"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.submitButtonLabel",defaultMessage:"Restore snapshot"}))):null)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.RestoreSnapshotForm=RestoreSnapshotForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RestoreSnapshotStepLogistics",{enumerable:true,get:function get(){return _step_logistics.RestoreSnapshotStepLogistics}});Object.defineProperty(exports,"RestoreSnapshotStepSettings",{enumerable:true,get:function get(){return _step_settings.RestoreSnapshotStepSettings}});Object.defineProperty(exports,"RestoreSnapshotStepReview",{enumerable:true,get:function get(){return _step_review.RestoreSnapshotStepReview}});var _step_logistics=__webpack_require__(96);var _step_settings=__webpack_require__(97);var _step_review=__webpack_require__(98)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshotStepLogistics=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _documentation=__webpack_require__(52);var _app_context=__webpack_require__(49);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreSnapshotStepLogistics=function RestoreSnapshotStepLogistics(_ref){var snapshotDetails=_ref.snapshotDetails,restoreSettings=_ref.restoreSettings,updateRestoreSettings=_ref.updateRestoreSettings,errors=_ref.errors;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var snapshotIndices=snapshotDetails.indices,snapshotIncludeGlobalState=snapshotDetails.includeGlobalState;var restoreIndices=restoreSettings.indices,renamePattern=restoreSettings.renamePattern,renameReplacement=restoreSettings.renameReplacement,partial=restoreSettings.partial,includeGlobalState=restoreSettings.includeGlobalState;var _useState=(0,_react.useState)(!Boolean(restoreIndices)),_useState2=_slicedToArray(_useState,2),isAllIndices=_useState2[0],setIsAllIndices=_useState2[1];var _useState3=(0,_react.useState)(snapshotIndices.map((function(index){return{label:index,checked:isAllIndices||typeof restoreIndices==="string"||Array.isArray(restoreIndices)&&restoreIndices.includes(index)?"on":undefined}}))),_useState4=_slicedToArray(_useState3,2),indicesOptions=_useState4[0],setIndicesOptions=_useState4[1];var _useState5=(0,_react.useState)(typeof restoreIndices==="string"||snapshotIndices.length>100?"custom":"list"),_useState6=_slicedToArray(_useState5,2),selectIndicesMode=_useState6[0],setSelectIndicesMode=_useState6[1];var _useState7=(0,_react.useState)(typeof restoreIndices==="string"?restoreIndices.split(","):[]),_useState8=_slicedToArray(_useState7,2),restoreIndexPatterns=_useState8[0],setRestoreIndexPatterns=_useState8[1];var _useState9=(0,_react.useState)(Boolean(renamePattern||renameReplacement)),_useState10=_slicedToArray(_useState9,2),isRenamingIndices=_useState10[0],setIsRenamingIndices=_useState10[1];var _useState11=(0,_react.useState)({indices:_toConsumableArray(snapshotIndices),renamePattern:"",renameReplacement:""}),_useState12=_slicedToArray(_useState11,2),cachedRestoreSettings=_useState12[0],setCachedRestoreSettings=_useState12[1];return _react.default.createElement("div",{className:"snapshotRestore__restoreForm__stepLogistics"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogisticsTitle",defaultMessage:"Restore details"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getRestoreDocUrl(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.docsButtonLabel",defaultMessage:"Snapshot and Restore docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.indicesTitle",defaultMessage:"Indices"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.indicesDescription",defaultMessage:"Creates new indices if they don’t exist. Restores existing indices if they are closed and have the same number of shards as the snapshot index."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.allIndicesLabel",defaultMessage:"All indices, including system indices"}),checked:isAllIndices,onChange:function onChange(e){var isChecked=e.target.checked;setIsAllIndices(isChecked);if(isChecked){updateRestoreSettings({indices:undefined})}else{updateRestoreSettings({indices:selectIndicesMode==="custom"?restoreIndexPatterns.join(","):_toConsumableArray(cachedRestoreSettings.indices||[])})}}}),isAllIndices?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{className:"snapshotRestore__restoreForm__stepLogistics__indicesFieldWrapper",label:selectIndicesMode==="list"?_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.selectIndicesLabel",defaultMessage:"Select indices"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setSelectIndicesMode("custom");updateRestoreSettings({indices:restoreIndexPatterns.join(",")})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.indicesToggleCustomLink",defaultMessage:"Use index patterns"})))):_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.indicesPatternLabel",defaultMessage:"Index patterns"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setSelectIndicesMode("list");updateRestoreSettings({indices:cachedRestoreSettings.indices})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.indicesToggleListLink",defaultMessage:"Select indices"})))),helpText:selectIndicesMode==="list"?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.selectIndicesHelpText",defaultMessage:"{count} {count, plural, one {index} other {indices}} will be restored. {selectOrDeselectAllLink}",values:{count:restoreIndices&&restoreIndices.length,selectOrDeselectAllLink:restoreIndices&&restoreIndices.length>0?_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){indicesOptions.forEach((function(option){option.checked=undefined}));updateRestoreSettings({indices:[]});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{indices:[]}))}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.deselectAllIndicesLink",defaultMessage:"Deselect all"})):_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){indicesOptions.forEach((function(option){option.checked="on"}));updateRestoreSettings({indices:_toConsumableArray(snapshotIndices)});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{indices:_toConsumableArray(snapshotIndices)}))}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.selectAllIndicesLink",defaultMessage:"Select all"}))}}):null,isInvalid:Boolean(errors.indices),error:errors.indices},selectIndicesMode==="list"?_react.default.createElement(_eui.EuiSelectable,{allowExclusions:false,options:indicesOptions,onChange:function onChange(options){var newSelectedIndices=[];options.forEach((function(_ref2){var label=_ref2.label,checked=_ref2.checked;if(checked==="on"){newSelectedIndices.push(label)}}));setIndicesOptions(options);updateRestoreSettings({indices:[].concat(newSelectedIndices)});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{indices:[].concat(newSelectedIndices)}))},searchable:true,height:300},(function(list,search){return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s",hasShadow:false},search,list)})):_react.default.createElement(_eui.EuiComboBox,{options:snapshotIndices.map((function(index){return{label:index}})),placeholder:i18n.translate("xpack.snapshotRestore.restoreForm.stepLogistics.indicesPatternPlaceholder",{defaultMessage:"Enter index patterns, i.e. logstash-*"}),selectedOptions:restoreIndexPatterns.map((function(pattern){return{label:pattern}})),onCreateOption:function onCreateOption(pattern){if(!pattern.trim().length){return}var newPatterns=[].concat(_toConsumableArray(restoreIndexPatterns),[pattern]);setRestoreIndexPatterns(newPatterns);updateRestoreSettings({indices:newPatterns.join(",")})},onChange:function onChange(patterns){var newPatterns=patterns.map((function(_ref3){var label=_ref3.label;return label}));setRestoreIndexPatterns(newPatterns);updateRestoreSettings({indices:newPatterns.join(",")})}})))))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renameIndicesTitle",defaultMessage:"Rename indices"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renameIndicesDescription",defaultMessage:"Renames indices on restore."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renameIndicesLabel",defaultMessage:"Rename indices"}),checked:isRenamingIndices,onChange:function onChange(e){var isChecked=e.target.checked;setIsRenamingIndices(isChecked);if(isChecked){updateRestoreSettings({renamePattern:cachedRestoreSettings.renamePattern,renameReplacement:cachedRestoreSettings.renameReplacement})}else{updateRestoreSettings({renamePattern:undefined,renameReplacement:undefined})}}}),!isRenamingIndices?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renamePatternLabel",defaultMessage:"Capture pattern"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renamePatternHelpText",defaultMessage:"Use regular expressions"}),isInvalid:Boolean(errors.renamePattern),error:errors.renamePattern},_react.default.createElement(_eui.EuiFieldText,{value:renamePattern,placeholder:"index_(.+)",onChange:function onChange(e){setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{renamePattern:e.target.value}));updateRestoreSettings({renamePattern:e.target.value})}}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.renameReplacementLabel",defaultMessage:"Replacement pattern"}),isInvalid:Boolean(errors.renameReplacement),error:errors.renameReplacement},_react.default.createElement(_eui.EuiFieldText,{value:renameReplacement,placeholder:"restored_index_$1",onChange:function onChange(e){setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{renameReplacement:e.target.value}));updateRestoreSettings({renameReplacement:e.target.value})}})))))))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.partialTitle",defaultMessage:"Partial restore"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.partialDescription",defaultMessage:"Allows restore of indices that don’t have snapshots of all shards."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.partialLabel",defaultMessage:"Partial restore"}),checked:partial===undefined?false:partial,onChange:function onChange(e){return updateRestoreSettings({partial:e.target.checked})}}))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.includeGlobalStateTitle",defaultMessage:"Restore global state"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.includeGlobalStateDescription",defaultMessage:"Restores templates that don’t currently exist in the cluster and overrides templates with the same name. Also restores persistent settings."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true,helpText:snapshotIncludeGlobalState?null:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.includeGlobalStateDisabledDescription",defaultMessage:"Not available for this snapshot."})},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepLogistics.includeGlobalStateLabel",defaultMessage:"Restore global state"}),checked:includeGlobalState===undefined?false:includeGlobalState,onChange:function onChange(e){return updateRestoreSettings({includeGlobalState:e.target.checked})},disabled:!snapshotIncludeGlobalState}))))};exports.RestoreSnapshotStepLogistics=RestoreSnapshotStepLogistics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshotStepSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _documentation=__webpack_require__(52);var _app_context=__webpack_require__(49);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreSnapshotStepSettings=function RestoreSnapshotStepSettings(_ref){var restoreSettings=_ref.restoreSettings,updateRestoreSettings=_ref.updateRestoreSettings,errors=_ref.errors;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var indexSettings=restoreSettings.indexSettings,ignoreIndexSettings=restoreSettings.ignoreIndexSettings;var _useState=(0,_react.useState)(Boolean(indexSettings)),_useState2=_slicedToArray(_useState,2),isUsingIndexSettings=_useState2[0],setIsUsingIndexSettings=_useState2[1];var _useState3=(0,_react.useState)(Boolean(ignoreIndexSettings)),_useState4=_slicedToArray(_useState3,2),isUsingIgnoreIndexSettings=_useState4[0],setIsUsingIgnoreIndexSettings=_useState4[1];var _useState5=(0,_react.useState)({indexSettings:indexSettings||"{}",ignoreIndexSettings:ignoreIndexSettings?_toConsumableArray(ignoreIndexSettings):[]}),_useState6=_slicedToArray(_useState5,2),cachedRestoreSettings=_useState6[0],setCachedRestoreSettings=_useState6[1];var _useState7=(0,_react.useState)(_toConsumableArray(new Set((ignoreIndexSettings||[]).concat(_toConsumableArray(_constants.REMOVE_INDEX_SETTINGS_SUGGESTIONS).sort()))).map((function(setting){return{label:setting}}))),_useState8=_slicedToArray(_useState7,2),ignoreIndexSettingsOptions=_useState8[0],setIgnoreIndexSettingsOptions=_useState8[1];var indexSettingsDocLink=_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getIndexSettingsUrl(),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsDocLinkText",defaultMessage:"Learn more."}));return _react.default.createElement("div",{className:"snapshotRestore__restoreForm__stepSettings"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettingsTitle",defaultMessage:"Index settings"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getRestoreIndexSettingsUrl(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsTitle",defaultMessage:"Modify index settings"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsDescription",defaultMessage:"Overrides index settings during restore. {docLink}",values:{docLink:indexSettingsDocLink}}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsLabel",defaultMessage:"Modify index settings"}),checked:isUsingIndexSettings,onChange:function onChange(e){var isChecked=e.target.checked;if(isChecked){setIsUsingIndexSettings(true);updateRestoreSettings({indexSettings:cachedRestoreSettings.indexSettings})}else{setIsUsingIndexSettings(false);updateRestoreSettings({indexSettings:undefined})}}}),!isUsingIndexSettings?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsEditorLabel",defaultMessage:"Index settings"}),fullWidth:true,isInvalid:Boolean(errors.indexSettings),error:errors.indexSettings,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsEditorDescription",defaultMessage:"Use JSON format: {format}",values:{format:_react.default.createElement(_eui.EuiCode,null,'{ "index.number_of_replicas": 0 }')}})},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",value:indexSettings,setOptions:{showLineNumbers:false,tabSize:2,maxLines:Infinity},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,maxLines:15,"aria-label":i18n.translate("xpack.snapshotRestore.restoreForm.stepSettings.indexSettingsAriaLabel",{defaultMessage:"Index settings to modify"}),onChange:function onChange(value){updateRestoreSettings({indexSettings:value});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{indexSettings:value}))}})))))),_react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.ignoreIndexSettingsTitle",defaultMessage:"Reset index settings"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.ignoreIndexSettingsDescription",defaultMessage:"Resets selected settings to default during restore. {docLink}",values:{docLink:indexSettingsDocLink}}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.ignoreIndexSettingsLabel",defaultMessage:"Reset index settings"}),checked:isUsingIgnoreIndexSettings,onChange:function onChange(e){var isChecked=e.target.checked;if(isChecked){setIsUsingIgnoreIndexSettings(true);updateRestoreSettings({ignoreIndexSettings:_toConsumableArray(cachedRestoreSettings.ignoreIndexSettings||[])})}else{setIsUsingIgnoreIndexSettings(false);updateRestoreSettings({ignoreIndexSettings:undefined})}}}),!isUsingIgnoreIndexSettings?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepSettings.selectIgnoreIndexSettingsLabel",defaultMessage:"Select settings"}),isInvalid:Boolean(errors.ignoreIndexSettings),error:errors.ignoreIndexSettings},_react.default.createElement(_eui.EuiComboBox,{placeholder:i18n.translate("xpack.snapshotRestore.restoreForm.stepSettings.ignoreIndexSettingsPlaceholder",{defaultMessage:"Select or type index settings"}),options:ignoreIndexSettingsOptions,selectedOptions:ignoreIndexSettings?ignoreIndexSettingsOptions.filter((function(_ref2){var label=_ref2.label;return ignoreIndexSettings.includes(label)})):[],onChange:function onChange(selectedOptions){var newIgnoreIndexSettings=selectedOptions.map((function(_ref3){var label=_ref3.label;return label}));updateRestoreSettings({ignoreIndexSettings:newIgnoreIndexSettings});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{ignoreIndexSettings:newIgnoreIndexSettings}))},onCreateOption:function onCreateOption(newIndexSetting,flattenedOptions){var normalizedSettingName=newIndexSetting.trim().toLowerCase();if(!normalizedSettingName){return}var isCustomSetting=!Boolean(flattenedOptions.find((function(_ref4){var label=_ref4.label;return label===normalizedSettingName})));if(isCustomSetting){setIgnoreIndexSettingsOptions([{label:normalizedSettingName}].concat(_toConsumableArray(ignoreIndexSettingsOptions)))}updateRestoreSettings({ignoreIndexSettings:[].concat(_toConsumableArray(ignoreIndexSettings||[]),[normalizedSettingName])});setCachedRestoreSettings(_objectSpread({},cachedRestoreSettings,{ignoreIndexSettings:[].concat(_toConsumableArray(ignoreIndexSettings||[]),[normalizedSettingName])}))},isClearable:true})))))))};exports.RestoreSnapshotStepSettings=RestoreSnapshotStepSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshotStepReview=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _lib=__webpack_require__(54);var _app_context=__webpack_require__(49);var _collapsible_indices_list=__webpack_require__(56);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreSnapshotStepReview=function RestoreSnapshotStepReview(_ref){var restoreSettings=_ref.restoreSettings,updateCurrentStep=_ref.updateCurrentStep;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var restoreIndices=restoreSettings.indices,renamePattern=restoreSettings.renamePattern,renameReplacement=restoreSettings.renameReplacement,partial=restoreSettings.partial,includeGlobalState=restoreSettings.includeGlobalState,ignoreIndexSettings=restoreSettings.ignoreIndexSettings;var serializedRestoreSettings=(0,_lib.serializeRestoreSettings)(restoreSettings);var serializedIndexSettings=serializedRestoreSettings.index_settings;var renderSummaryTab=function renderSummaryTab(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.sectionLogisticsTitle",defaultMessage:"Logistics"})," ",_react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.editStepTooltip",defaultMessage:"Edit"})},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return updateCurrentStep(1)}},_react.default.createElement(_eui.EuiIcon,{type:"pencil"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.indicesLabel",defaultMessage:"Indices"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,_react.default.createElement(_collapsible_indices_list.CollapsibleIndicesList,{indices:restoreIndices}))))),renamePattern||renameReplacement?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.sectionRenameTitle",defaultMessage:"Rename indices"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,renamePattern?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.renamePatternLabel",defaultMessage:"Capture pattern"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,renamePattern))):null,renameReplacement?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.renameReplacementLabel",defaultMessage:"Replacement pattern"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,renameReplacement))):null)):null,partial!==undefined||includeGlobalState!==undefined?_react.default.createElement(_eui.EuiFlexGroup,null,partial!==undefined?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.partialLabel",defaultMessage:"Partial restore"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,partial?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.partialTrueValue",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.partialFalseValue",defaultMessage:"No"})))):null,includeGlobalState!==undefined?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.includeGlobalStateLabel",defaultMessage:"Restore global state"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,includeGlobalState?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.includeGlobalStateTrueValue",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.includeGlobalStateFalseValue",defaultMessage:"No"})))):null):null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.sectionSettingsTitle",defaultMessage:"Index settings"})," ",_react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.editStepTooltip",defaultMessage:"Edit"})},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return updateCurrentStep(2)}},_react.default.createElement(_eui.EuiIcon,{type:"pencil"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),serializedIndexSettings||ignoreIndexSettings?_react.default.createElement(_eui.EuiFlexGroup,null,serializedIndexSettings?_react.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:"50%"}},_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.indexSettingsLabel",defaultMessage:"Modify"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},Object.entries(serializedIndexSettings).map((function(_ref2){var _ref3=_slicedToArray(_ref2,2),setting=_ref3[0],value=_ref3[1];return _react.default.createElement(_react.Fragment,{key:setting},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("strong",null,setting))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("span",null," ",value))))})))))):null,ignoreIndexSettings?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.ignoreIndexSettingsLabel",defaultMessage:"Reset"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("ul",null,ignoreIndexSettings.map((function(setting){return _react.default.createElement("li",{key:setting},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("span",null,setting)))}))))))):null):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReview.summaryTab.noSettingsValue",defaultMessage:"No index setting modifications"}))};var renderJsonTab=function renderJsonTab(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:JSON.stringify(serializedRestoreSettings,null,2),editorProps:{$blockScrolling:Infinity},"aria-label":i18n.translate("xpack.snapshotRestore.restoreForm.stepReview.jsonTab.jsonAriaLabel",{defaultMessage:"Restore settings to be executed"})}))};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreForm.stepReviewTitle",defaultMessage:"Review restore details"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabbedContent,{tabs:[{id:"summary",name:i18n.translate("xpack.snapshotRestore.restoreForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:renderSummaryTab()},{id:"json",name:i18n.translate("xpack.snapshotRestore.restoreForm.stepReview.jsonTabTitle",{defaultMessage:"JSON"}),content:renderJsonTab()}]}))};exports.RestoreSnapshotStepReview=RestoreSnapshotStepReview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshotNavigation=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RestoreSnapshotNavigation=function RestoreSnapshotNavigation(_ref){var currentStep=_ref.currentStep,maxCompletedStep=_ref.maxCompletedStep,updateCurrentStep=_ref.updateCurrentStep;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var steps=[{title:i18n.translate("xpack.snapshotRestore.restoreForm.navigation.stepLogisticsName",{defaultMessage:"Logistics"}),isComplete:maxCompletedStep>=1,isSelected:currentStep===1,onClick:function onClick(){return updateCurrentStep(1)}},{title:i18n.translate("xpack.snapshotRestore.restoreForm.navigation.stepSettingsName",{defaultMessage:"Index settings"}),isComplete:maxCompletedStep>=2,isSelected:currentStep===2,disabled:maxCompletedStep<1,onClick:function onClick(){return updateCurrentStep(2)}},{title:i18n.translate("xpack.snapshotRestore.restoreForm.navigation.stepReviewName",{defaultMessage:"Review"}),isComplete:maxCompletedStep>=2,isSelected:currentStep===3,disabled:maxCompletedStep<2,onClick:function onClick(){return updateCurrentStep(3)}}];return _react.default.createElement(_eui.EuiStepsHorizontal,{steps:steps})};exports.RestoreSnapshotNavigation=RestoreSnapshotNavigation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyExecuteProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyExecuteProvider=function PolicyExecuteProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)(""),_useState2=_slicedToArray(_useState,2),policyName=_useState2[0],setPolicyName=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var onSuccessCallback=(0,_react.useRef)(null);var executePolicyPrompt=function executePolicyPrompt(name){var onSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return undefined};if(!name||!name.length){throw new Error("No policy name specified for execution")}setIsModalOpen(true);setPolicyName(name);onSuccessCallback.current=onSuccess};var closeModal=function closeModal(){setIsModalOpen(false);setPolicyName("")};var executePolicy=function executePolicy(){(0,_http.executePolicy)(policyName).then((function(_ref2){var data=_ref2.data,error=_ref2.error;var _ref3=data||{snapshotName:undefined},snapshotName=_ref3.snapshotName;if(snapshotName){var successMessage=i18n.translate("xpack.snapshotRestore.executePolicy.successNotificationTitle",{defaultMessage:"Policy '{name}' is running",values:{name:policyName}});toastNotifications.addSuccess(successMessage);if(onSuccessCallback.current){onSuccessCallback.current()}}if(error){var errorMessage=i18n.translate("xpack.snapshotRestore.executePolicy.errorNotificationTitle",{defaultMessage:"Error running policy '{name}'",values:{name:policyName}});toastNotifications.addDanger(errorMessage)}}));closeModal()};var renderModal=function renderModal(){if(!isModalOpen){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executePolicy.confirmModal.executePolicyTitle",defaultMessage:"Run '{name}' now?",values:{name:policyName}}),onCancel:closeModal,onConfirm:executePolicy,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executePolicy.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executePolicy.confirmModal.confirmButtonLabel",defaultMessage:"Run policy"}),"data-test-subj":"srExecutePolicyConfirmationModal"}))};return _react.default.createElement(_react.Fragment,null,children(executePolicyPrompt),renderModal())};exports.PolicyExecuteProvider=PolicyExecuteProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyDeleteProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyDeleteProvider=function PolicyDeleteProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),policyNames=_useState2[0],setPolicyNames=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var onSuccessCallback=(0,_react.useRef)(null);var deletePolicyPrompt=function deletePolicyPrompt(names){var onSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return undefined};if(!names||!names.length){throw new Error("No policy names specified for deletion")}setIsModalOpen(true);setPolicyNames(names);onSuccessCallback.current=onSuccess};var closeModal=function closeModal(){setIsModalOpen(false);setPolicyNames([])};var deletePolicy=function deletePolicy(){var policiesToDelete=_toConsumableArray(policyNames);(0,_http.deletePolicies)(policiesToDelete).then((function(_ref2){var data=_ref2.data,error=_ref2.error;var _ref3=data||{itemsDeleted:undefined,errors:undefined},itemsDeleted=_ref3.itemsDeleted,errors=_ref3.errors;if(itemsDeleted&&itemsDeleted.length){var hasMultipleSuccesses=itemsDeleted.length>1;var successMessage=hasMultipleSuccesses?i18n.translate("xpack.snapshotRestore.deletePolicy.successMultipleNotificationTitle",{defaultMessage:"Deleted {count} policies",values:{count:itemsDeleted.length}}):i18n.translate("xpack.snapshotRestore.deletePolicy.successSingleNotificationTitle",{defaultMessage:"Deleted policy '{name}'",values:{name:itemsDeleted[0]}});toastNotifications.addSuccess(successMessage);if(onSuccessCallback.current){onSuccessCallback.current(_toConsumableArray(itemsDeleted))}}if(error||errors&&errors.length){var hasMultipleErrors=errors&&errors.length>1||error&&policiesToDelete.length>1;var errorMessage=hasMultipleErrors?i18n.translate("xpack.snapshotRestore.deletePolicy.errorMultipleNotificationTitle",{defaultMessage:"Error deleting {count} policies",values:{count:errors&&errors.length||policiesToDelete.length}}):i18n.translate("xpack.snapshotRestore.deletePolicy.errorSingleNotificationTitle",{defaultMessage:"Error deleting policy '{name}'",values:{name:errors&&errors[0].name||policiesToDelete[0]}});toastNotifications.addDanger(errorMessage)}}));closeModal()};var renderModal=function renderModal(){if(!isModalOpen){return null}var isSingle=policyNames.length===1;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:isSingle?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deletePolicy.confirmModal.deleteSingleTitle",defaultMessage:"Delete policy '{name}'?",values:{name:policyNames[0]}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deletePolicy.confirmModal.deleteMultipleTitle",defaultMessage:"Delete {count} policies?",values:{count:policyNames.length}}),onCancel:closeModal,onConfirm:deletePolicy,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deletePolicy.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deletePolicy.confirmModal.confirmButtonLabel",defaultMessage:"Delete {count, plural, one {policy} other {policies}}",values:{count:policyNames.length}}),buttonColor:"danger","data-test-subj":"srdeletePolicyConfirmationModal"},!isSingle?_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.deletePolicy.confirmModal.deleteMultipleListDescription",defaultMessage:"You are about to delete these policies:"})),_react.default.createElement("ul",null,policyNames.map((function(name){return _react.default.createElement("li",{key:name},name)})))):null))};return _react.default.createElement(_react.Fragment,null,children(deletePolicyPrompt),renderModal())};exports.PolicyDeleteProvider=PolicyDeleteProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RetentionSettingsUpdateModalProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _documentation=__webpack_require__(52);var _shared_imports=__webpack_require__(9);var _constants=__webpack_require__(6);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RetentionSettingsUpdateModalProvider=function RetentionSettingsUpdateModalProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)(_constants.DEFAULT_RETENTION_SCHEDULE),_useState2=_slicedToArray(_useState,2),retentionSchedule=_useState2[0],setRetentionSchedule=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isEditing=_useState6[0],setIsEditing=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),isSaving=_useState8[0],setIsSaving=_useState8[1];var _useState9=(0,_react.useState)(null),_useState10=_slicedToArray(_useState9,2),saveError=_useState10[0],setSaveError=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=_slicedToArray(_useState11,2),isAdvancedCronVisible=_useState12[0],setIsAdvancedCronVisible=_useState12[1];var onSuccessCallback=(0,_react.useRef)(null);var _useState13=(0,_react.useState)({expression:_constants.DEFAULT_RETENTION_SCHEDULE,frequency:_constants.DEFAULT_RETENTION_FREQUENCY}),_useState14=_slicedToArray(_useState13,2),simpleCron=_useState14[0],setSimpleCron=_useState14[1];var _useState15=(0,_react.useState)({}),_useState16=_slicedToArray(_useState15,2),fieldToPreferredValueMap=_useState16[0],setFieldToPreferredValueMap=_useState16[1];var _useState17=(0,_react.useState)(false),_useState18=_slicedToArray(_useState17,2),isInvalid=_useState18[0],setIsInvalid=_useState18[1];var updateRetentionPrompt=function updateRetentionPrompt(originalRetentionSchedule){var onSuccess=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return undefined};setIsModalOpen(true);setIsAdvancedCronVisible(Boolean(originalRetentionSchedule&&originalRetentionSchedule!==_constants.DEFAULT_RETENTION_SCHEDULE));if(originalRetentionSchedule){setIsEditing(true);setRetentionSchedule(originalRetentionSchedule)}onSuccessCallback.current=onSuccess};var closeModal=function closeModal(){setIsModalOpen(false)};var updateRetentionSetting=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(retentionSchedule){_context.next=3;break}setIsInvalid(true);return _context.abrupt("return");case 3:setIsSaving(true);setSaveError(null);_context.next=7;return(0,_http.updateRetentionSchedule)(retentionSchedule);case 7:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(error){setSaveError(error)}else{closeModal();toastNotifications.addSuccess(i18n.translate("xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionSuccessMessage",{defaultMessage:"Retention schedule updated"}));if(onSuccessCallback.current){onSuccessCallback.current()}}case 11:case"end":return _context.stop()}}}),_callee)})));return function updateRetentionSetting(){return _ref2.apply(this,arguments)}}();var renderModal=function renderModal(){if(!isModalOpen){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:closeModal},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,isEditing?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionEditTitle",defaultMessage:"Edit retention schedule"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionAddTitle",defaultMessage:"Add retention schedule"}))),_react.default.createElement(_eui.EuiModalBody,null,saveError&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionErrorTitle",defaultMessage:"Error saving retention schedule"}),color:"danger",iconType:"alert"},saveError.data&&saveError.data.message?_react.default.createElement("p",null,saveError.data.message):null),_react.default.createElement(_eui.EuiSpacer,{size:"m"})),isAdvancedCronVisible?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionScheduleLabel",defaultMessage:"Retention schedule"}),isInvalid:isInvalid,error:i18n.translate("xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionScheduleFieldErrorMessage",{defaultMessage:"Retention schedule is required."}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionHelpText",defaultMessage:"Use cron expression. {docLink}",values:{docLink:_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getCronUrl(),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionHelpTextDocLinkText",defaultMessage:"Learn more."}))}}),fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{defaultValue:retentionSchedule,fullWidth:true,onChange:function onChange(e){return setRetentionSchedule(e.target.value)}})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setIsAdvancedCronVisible(false);setRetentionSchedule(simpleCron.expression)},"data-test-subj":"showBasicCronLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionBasicLabel",defaultMessage:"Create basic interval"})))):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_shared_imports.CronEditor,{fieldToPreferredValueMap:fieldToPreferredValueMap,cronExpression:simpleCron.expression,frequency:simpleCron.frequency,onChange:function onChange(_ref4){var expression=_ref4.cronExpression,frequency=_ref4.frequency,newFieldToPreferredValueMap=_ref4.fieldToPreferredValueMap;setSimpleCron({expression:expression,frequency:frequency});setFieldToPreferredValueMap(newFieldToPreferredValueMap);setRetentionSchedule(expression)}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setIsAdvancedCronVisible(true)},"data-test-subj":"showAdvancedCronLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionAdvancedLabel",defaultMessage:"Create cron expression"}))))),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{onClick:closeModal},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionCancelButtonLabel",defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{onClick:updateRetentionSetting,fill:true,isLoading:isSaving},isEditing?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionEditButtonLabel",defaultMessage:"Save changes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.policyUpdateRetentionSaveButtonLabel",defaultMessage:"Schedule"})))))};return _react.default.createElement(_react.Fragment,null,children(updateRetentionPrompt),renderModal())};exports.RetentionSettingsUpdateModalProvider=RetentionSettingsUpdateModalProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RetentionExecuteModalProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RetentionExecuteModalProvider=function RetentionExecuteModalProvider(_ref){var children=_ref.children;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var toastNotifications=(0,_app_context.useToastNotifications)();var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var executeRetentionPrompt=function executeRetentionPrompt(){setIsModalOpen(true)};var closeModal=function closeModal(){setIsModalOpen(false)};var executeRetention=function executeRetention(){(0,_http.executeRetention)().then((function(_ref2){var error=_ref2.error;if(error){var errorMessage=i18n.translate("xpack.snapshotRestore.executeRetention.errorMessage",{defaultMessage:"Error running retention"});toastNotifications.addDanger(errorMessage)}else{var successMessage=i18n.translate("xpack.snapshotRestore.executeRetention.successMessage",{defaultMessage:"Retention is running"});toastNotifications.addSuccess(successMessage)}}));closeModal()};var renderModal=function renderModal(){if(!isModalOpen){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executeRetention.confirmModal.executeRetentionTitle",defaultMessage:"Run snapshot retention now?"}),onCancel:closeModal,onConfirm:executeRetention,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executeRetention.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.executeRetention.confirmModal.confirmButtonLabel",defaultMessage:"Run retention"}),"data-test-subj":"executeRetentionModal"}))};return _react.default.createElement(_react.default.Fragment,null,children(executeRetentionPrompt),renderModal())};exports.RetentionExecuteModalProvider=RetentionExecuteModalProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyForm",{enumerable:true,get:function get(){return _policy_form.PolicyForm}});var _policy_form=__webpack_require__(105)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyForm=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _validation=__webpack_require__(55);var _steps=__webpack_require__(106);var _navigation=__webpack_require__(111);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyForm=function PolicyForm(_ref){var originalPolicy=_ref.policy,indices=_ref.indices,currentUrl=_ref.currentUrl,isEditing=_ref.isEditing,isSaving=_ref.isSaving,saveError=_ref.saveError,clearSaveError=_ref.clearSaveError,onCancel=_ref.onCancel,onSave=_ref.onSave;var _useState=(0,_react.useState)(1),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=_slicedToArray(_useState3,2),maxCompletedStep=_useState4[0],setMaxCompletedStep=_useState4[1];var stepMap={1:_steps.PolicyStepLogistics,2:_steps.PolicyStepSettings,3:_steps.PolicyStepRetention,4:_steps.PolicyStepReview};var CurrentStepForm=stepMap[currentStep];var _useState5=(0,_react.useState)(_objectSpread({},originalPolicy,{config:_objectSpread({},originalPolicy.config||{}),retention:_objectSpread({},originalPolicy.retention||{expireAfterUnit:_constants.TIME_UNITS.DAY})})),_useState6=_slicedToArray(_useState5,2),policy=_useState6[0],setPolicy=_useState6[1];var _useState7=(0,_react.useState)({isValid:true,errors:{}}),_useState8=_slicedToArray(_useState7,2),validation=_useState8[0],setValidation=_useState8[1];var updatePolicy=function updatePolicy(updatedFields){var validationHelperData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newPolicy=_objectSpread({},policy,{},updatedFields);var newValidation=(0,_validation.validatePolicy)(newPolicy,validationHelperData);setPolicy(newPolicy);setValidation(newValidation)};var updateCurrentStep=function updateCurrentStep(step){if(maxCompletedStep<step-1){return}setCurrentStep(step);setMaxCompletedStep(step-1);clearSaveError()};var onBack=function onBack(){var previousStep=currentStep-1;setCurrentStep(previousStep);setMaxCompletedStep(previousStep-1);clearSaveError()};var onNext=function onNext(){if(!validation.isValid){return}var nextStep=currentStep+1;setMaxCompletedStep(Math.max(currentStep,maxCompletedStep));setCurrentStep(nextStep)};var savePolicy=function savePolicy(){if(validation.isValid){onSave(policy)}};var lastStep=Object.keys(stepMap).length;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_navigation.PolicyNavigation,{currentStep:currentStep,maxCompletedStep:maxCompletedStep,updateCurrentStep:updateCurrentStep}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(CurrentStepForm,{policy:policy,indices:indices,updatePolicy:updatePolicy,isEditing:isEditing,currentUrl:currentUrl,errors:validation.errors,updateCurrentStep:updateCurrentStep}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),saveError?_react.default.createElement(_react.Fragment,null,saveError,_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,null,currentStep>1?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:function onClick(){return onBack()},disabled:!validation.isValid},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.backButtonLabel",defaultMessage:"Back"}))):null,currentStep<lastStep?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,iconType:"arrowRight",onClick:function onClick(){return onNext()},iconSide:"right",disabled:!validation.isValid,"data-test-subj":"nextButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.nextButtonLabel",defaultMessage:"Next"}))):null,currentStep===lastStep?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:isEditing&&policy.isManagedPolicy?false:true,color:isEditing&&policy.isManagedPolicy?"warning":"secondary",iconType:"check",onClick:function onClick(){return savePolicy()},isLoading:isSaving,"data-test-subj":"submitButton"},isSaving?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.savingButtonLabel",defaultMessage:"Saving…"}):isEditing?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.saveButtonLabel",defaultMessage:"Save policy"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.createButtonLabel",defaultMessage:"Create policy"}))):null)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){return onCancel()}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.cancelButtonLabel",defaultMessage:"Cancel"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.PolicyForm=PolicyForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyStepLogistics",{enumerable:true,get:function get(){return _step_logistics.PolicyStepLogistics}});Object.defineProperty(exports,"PolicyStepSettings",{enumerable:true,get:function get(){return _step_settings.PolicyStepSettings}});Object.defineProperty(exports,"PolicyStepRetention",{enumerable:true,get:function get(){return _step_retention.PolicyStepRetention}});Object.defineProperty(exports,"PolicyStepReview",{enumerable:true,get:function get(){return _step_review.PolicyStepReview}});var _step_logistics=__webpack_require__(107);var _step_settings=__webpack_require__(108);var _step_retention=__webpack_require__(109);var _step_review=__webpack_require__(110)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyStepLogistics=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _shared_imports=__webpack_require__(9);var _app_context=__webpack_require__(49);var _constants=__webpack_require__(6);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _documentation=__webpack_require__(52);var _=__webpack_require__(50);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyStepLogistics=function PolicyStepLogistics(_ref){var policy=_ref.policy,updatePolicy=_ref.updatePolicy,isEditing=_ref.isEditing,currentUrl=_ref.currentUrl,errors=_ref.errors;var _useLoadRepositories=(0,_http.useLoadRepositories)(),errorLoadingRepositories=_useLoadRepositories.error,isLoadingRepositories=_useLoadRepositories.isLoading,_useLoadRepositories$=_useLoadRepositories.data;_useLoadRepositories$=_useLoadRepositories$===void 0?{repositories:[],managedRepository:{name:undefined}}:_useLoadRepositories$;var repositories=_useLoadRepositories$.repositories,managedRepository=_useLoadRepositories$.managedRepository,reloadRepositories=_useLoadRepositories.sendRequest;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var _useState=(0,_react.useState)({name:false,snapshotName:false,repository:false,schedule:false}),_useState2=_slicedToArray(_useState,2),touched=_useState2[0],setTouched=_useState2[1];var _useState3=(0,_react.useState)({expression:_constants.DEFAULT_POLICY_SCHEDULE,frequency:_constants.DEFAULT_POLICY_FREQUENCY}),_useState4=_slicedToArray(_useState3,2),simpleCron=_useState4[0],setSimpleCron=_useState4[1];var _useState5=(0,_react.useState)(Boolean(policy.schedule&&policy.schedule!==_constants.DEFAULT_POLICY_SCHEDULE)),_useState6=_slicedToArray(_useState5,2),isAdvancedCronVisible=_useState6[0],setIsAdvancedCronVisible=_useState6[1];var _useState7=(0,_react.useState)({}),_useState8=_slicedToArray(_useState7,2),fieldToPreferredValueMap=_useState8[0],setFieldToPreferredValueMap=_useState8[1];var renderNameField=function renderNameField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.nameDescriptionTitle",defaultMessage:"Policy name"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.nameDescription",defaultMessage:"A unique identifier for this policy."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.nameLabel",defaultMessage:"Name"}),isInvalid:touched.name&&Boolean(errors.name),error:errors.name,fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{defaultValue:policy.name,fullWidth:true,onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{name:true}))},onChange:function onChange(e){updatePolicy({name:e.target.value},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})},placeholder:i18n.translate("xpack.snapshotRestore.policyForm.stepLogistics.namePlaceholder",{defaultMessage:"daily-snapshots",description:"Example SLM policy name. Similar to index names, do not use spaces in translation."}),"data-test-subj":"nameInput",disabled:isEditing})))};var renderRepositoryField=function renderRepositoryField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.repositoryDescriptionTitle",defaultMessage:"Repository"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.repositoryDescription",defaultMessage:"The repository where you want to store the snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyRepositoryLabel",defaultMessage:"Repository"}),isInvalid:touched.repository&&Boolean(errors.repository),error:errors.repository,fullWidth:true},renderRepositorySelect()))};var renderRepositorySelect=function renderRepositorySelect(){if(isLoadingRepositories){return _react.default.createElement(_.SectionLoading,{inline:true},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.loadingRepositoriesDescription",defaultMessage:"Loading repositories…"}))}if(errorLoadingRepositories){return _react.default.createElement(_.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.loadingRepositoriesErrorMessage",defaultMessage:"Error loading repositories"}),error:errorLoadingRepositories,actions:_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return reloadRepositories()},color:"danger",iconType:"refresh","data-test-subj":"reloadRepositoriesButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.reloadRepositoriesButtonLabel",defaultMessage:"Reload repositories"}))})}if(repositories.length===0){return _react.default.createElement(_.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.noRepositoriesErrorTitle",defaultMessage:"You don't have any repositories"}),error:{error:i18n.translate("xpack.snapshotRestore.policyForm.noRepositoriesErrorMessage",{defaultMessage:"You must register a repository to store your snapshots."})},actions:_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToAddRepository)(currentUrl),color:"danger",iconType:"plusInCircle","data-test-subj":"addRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.addRepositoryButtonLabel",defaultMessage:"Register a repository"}))})}else{if(!policy.repository){updatePolicy({repository:repositories[0].name},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})}}return _react.default.createElement(_eui.EuiSelect,{options:repositories.map((function(_ref2){var name=_ref2.name;return{value:name,text:name}})),value:policy.repository||repositories[0].name,onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{repository:true}))},onChange:function onChange(e){updatePolicy({repository:e.target.value},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})},fullWidth:true,"data-test-subj":"repositorySelect"})};var renderSnapshotNameField=function renderSnapshotNameField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.snapshotNameDescriptionTitle",defaultMessage:"Snapshot name"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.snapshotNameDescription",defaultMessage:"The name for the snapshots. A unique identifier is automatically added to each name."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policySnapshotNameLabel",defaultMessage:"Snapshot name"}),isInvalid:touched.snapshotName&&Boolean(errors.snapshotName),error:errors.snapshotName,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policySnapshotNameHelpText",defaultMessage:"Supports date math expressions. {docLink}",values:{docLink:_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getDateMathIndexNamesUrl(),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policySnapshotNameHelpTextDocLink",defaultMessage:"Learn more."}))}}),fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{defaultValue:policy.snapshotName,fullWidth:true,onChange:function onChange(e){updatePolicy({snapshotName:e.target.value},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})},onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{snapshotName:true}))},placeholder:i18n.translate("xpack.snapshotRestore.policyForm.stepLogistics.policySnapshotNamePlaceholder",{defaultMessage:"<daily-snap-\\{now/d\\}>",description:"Example date math snapshot name. Keeping the same syntax is important: <SOME-TRANSLATION-{now/d}>"}),"data-test-subj":"snapshotNameInput"})))};var renderScheduleField=function renderScheduleField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.scheduleDescriptionTitle",defaultMessage:"Schedule"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.scheduleDescription",defaultMessage:"The frequency at which to take the snapshots."}),fullWidth:true},isAdvancedCronVisible?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyScheduleLabel",defaultMessage:"Schedule"}),isInvalid:touched.schedule&&Boolean(errors.schedule),error:errors.schedule,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyScheduleHelpText",defaultMessage:"Use cron expression. {docLink}",values:{docLink:_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getCronUrl(),target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyScheduleHelpTextDocLink",defaultMessage:"Learn more."}))}}),fullWidth:true},_react.default.createElement(_eui.EuiFieldText,{defaultValue:policy.schedule,fullWidth:true,onChange:function onChange(e){updatePolicy({schedule:e.target.value},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})},onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{schedule:true}))},placeholder:_constants.DEFAULT_POLICY_SCHEDULE,"data-test-subj":"advancedCronInput"})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setIsAdvancedCronVisible(false);updatePolicy({schedule:simpleCron.expression},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})},"data-test-subj":"showBasicCronLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyScheduleButtonBasicLabel",defaultMessage:"Create basic interval"})))):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_shared_imports.CronEditor,{fieldToPreferredValueMap:fieldToPreferredValueMap,cronExpression:simpleCron.expression,frequency:simpleCron.frequency,onChange:function onChange(_ref3){var expression=_ref3.cronExpression,frequency=_ref3.frequency,newFieldToPreferredValueMap=_ref3.fieldToPreferredValueMap;setSimpleCron({expression:expression,frequency:frequency});setFieldToPreferredValueMap(newFieldToPreferredValueMap);updatePolicy({schedule:expression},{managedRepository:managedRepository,isEditing:isEditing,policyName:policy.name})}}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setIsAdvancedCronVisible(true)},"data-test-subj":"showAdvancedCronLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.policyScheduleButtonAdvancedLabel",defaultMessage:"Create cron expression"})))))};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogisticsTitle",defaultMessage:"Logistics"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getSlmUrl(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepLogistics.docsButtonLabel",defaultMessage:"Logistics docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),renderNameField(),renderSnapshotNameField(),renderRepositoryField(),renderScheduleField())};exports.PolicyStepLogistics=PolicyStepLogistics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyStepSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _documentation=__webpack_require__(52);var _app_context=__webpack_require__(49);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PolicyStepSettings=function PolicyStepSettings(_ref){var policy=_ref.policy,indices=_ref.indices,updatePolicy=_ref.updatePolicy,errors=_ref.errors;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var _policy$config=policy.config,config=_policy$config===void 0?{}:_policy$config,isManagedPolicy=policy.isManagedPolicy;var updatePolicyConfig=function updatePolicyConfig(updatedFields){var newConfig=_objectSpread({},config,{},updatedFields);updatePolicy({config:newConfig})};var _useState=(0,_react.useState)(!Boolean(config.indices)),_useState2=_slicedToArray(_useState,2),isAllIndices=_useState2[0],setIsAllIndices=_useState2[1];var _useState3=(0,_react.useState)(_toConsumableArray(indices)),_useState4=_slicedToArray(_useState3,2),indicesSelection=_useState4[0],setIndicesSelection=_useState4[1];var _useState5=(0,_react.useState)(indices.map((function(index){return{label:index,checked:isAllIndices||typeof config.indices==="string"||Array.isArray(config.indices)&&config.indices.includes(index)?"on":undefined}}))),_useState6=_slicedToArray(_useState5,2),indicesOptions=_useState6[0],setIndicesOptions=_useState6[1];var _useState7=(0,_react.useState)(typeof config.indices==="string"||Array.isArray(config.indices)&&config.indices.length>100?"custom":"list"),_useState8=_slicedToArray(_useState7,2),selectIndicesMode=_useState8[0],setSelectIndicesMode=_useState8[1];var _useState9=(0,_react.useState)(typeof config.indices==="string"?config.indices.split(","):[]),_useState10=_slicedToArray(_useState9,2),indexPatterns=_useState10[0],setIndexPatterns=_useState10[1];var renderIndicesField=function renderIndicesField(){var indicesSwitch=_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.allIndicesLabel",defaultMessage:"All indices, including system indices"}),checked:isAllIndices,disabled:isManagedPolicy,"data-test-subj":"allIndicesToggle",onChange:function onChange(e){var isChecked=e.target.checked;setIsAllIndices(isChecked);if(isChecked){updatePolicyConfig({indices:undefined})}else{updatePolicyConfig({indices:selectIndicesMode==="custom"?indexPatterns.join(","):_toConsumableArray(indicesSelection||[])})}}});return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesTitle",defaultMessage:"Indices"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesDescription",defaultMessage:"Indices to back up."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_react.Fragment,null,isManagedPolicy?_react.default.createElement(_eui.EuiToolTip,{position:"left",content:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesTooltip",defaultMessage:"Cloud-managed policies require all indices."}))},indicesSwitch):indicesSwitch,isAllIndices?null:_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{className:"snapshotRestore__policyForm__stepSettings__indicesFieldWrapper",label:selectIndicesMode==="list"?_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.selectIndicesLabel",defaultMessage:"Select indices"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){setSelectIndicesMode("custom");updatePolicyConfig({indices:indexPatterns.join(",")})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesToggleCustomLink",defaultMessage:"Use index patterns"})))):_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesPatternLabel",defaultMessage:"Index patterns"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{"data-test-subj":"selectIndicesLink",onClick:function onClick(){setSelectIndicesMode("list");updatePolicyConfig({indices:indicesSelection})}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.indicesToggleListLink",defaultMessage:"Select indices"})))),helpText:selectIndicesMode==="list"?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.selectIndicesHelpText",defaultMessage:"{count} {count, plural, one {index} other {indices}} will be backed up. {selectOrDeselectAllLink}",values:{count:config.indices&&config.indices.length,selectOrDeselectAllLink:config.indices&&config.indices.length>0?_react.default.createElement(_eui.EuiLink,{"data-test-subj":"deselectIndicesLink",onClick:function onClick(){indicesOptions.forEach((function(option){option.checked=undefined}));updatePolicyConfig({indices:[]});setIndicesSelection([])}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.deselectAllIndicesLink",defaultMessage:"Deselect all"})):_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){indicesOptions.forEach((function(option){option.checked="on"}));updatePolicyConfig({indices:_toConsumableArray(indices)});setIndicesSelection(_toConsumableArray(indices))}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.selectAllIndicesLink",defaultMessage:"Select all"}))}}):null,isInvalid:Boolean(errors.indices),error:errors.indices},selectIndicesMode==="list"?_react.default.createElement(_eui.EuiSelectable,{allowExclusions:false,options:indicesOptions,onChange:function onChange(options){var newSelectedIndices=[];options.forEach((function(_ref2){var label=_ref2.label,checked=_ref2.checked;if(checked==="on"){newSelectedIndices.push(label)}}));setIndicesOptions(options);updatePolicyConfig({indices:newSelectedIndices});setIndicesSelection(newSelectedIndices)},searchable:true,height:300},(function(list,search){return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s",hasShadow:false},search,list)})):_react.default.createElement(_eui.EuiComboBox,{options:indices.map((function(index){return{label:index}})),placeholder:i18n.translate("xpack.snapshotRestore.policyForm.stepSettings.indicesPatternPlaceholder",{defaultMessage:"Enter index patterns, i.e. logstash-*"}),selectedOptions:indexPatterns.map((function(pattern){return{label:pattern}})),onCreateOption:function onCreateOption(pattern){if(!pattern.trim().length){return}var newPatterns=[].concat(_toConsumableArray(indexPatterns),[pattern]);setIndexPatterns(newPatterns);updatePolicyConfig({indices:newPatterns.join(",")})},onChange:function onChange(patterns){var newPatterns=patterns.map((function(_ref3){var label=_ref3.label;return label}));setIndexPatterns(newPatterns);updatePolicyConfig({indices:newPatterns.join(",")})}}))))))};var renderIgnoreUnavailableField=function renderIgnoreUnavailableField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.ignoreUnavailableDescriptionTitle",defaultMessage:"Ignore unavailable indices"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.ignoreUnavailableDescription",defaultMessage:"Ignores indices that are unavailable when taking the snapshot. Otherwise, the entire snapshot will fail."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"ignoreUnavailableIndicesToggle",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.ignoreUnavailableLabel",defaultMessage:"Ignore unavailable indices"}),checked:Boolean(config.ignoreUnavailable),onChange:function onChange(e){updatePolicyConfig({ignoreUnavailable:e.target.checked})}})))};var renderPartialField=function renderPartialField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.partialDescriptionTitle",defaultMessage:"Allow partial indices"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.partialDescription",defaultMessage:"Allows snapshots of indices with primary shards that are unavailable. Otherwise, the entire snapshot will fail."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"partialIndicesToggle",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.partialIndicesToggleSwitch",defaultMessage:"Allow partial indices"}),checked:Boolean(config.partial),onChange:function onChange(e){updatePolicyConfig({partial:e.target.checked})}})))};var renderIncludeGlobalStateField=function renderIncludeGlobalStateField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.includeGlobalStateDescriptionTitle",defaultMessage:"Include global state"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.includeGlobalStateDescription",defaultMessage:"Stores the global state of the cluster as part of the snapshot."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true,fullWidth:true},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"globalStateToggle",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.policyIncludeGlobalStateLabel",defaultMessage:"Include global state"}),checked:config.includeGlobalState===undefined||config.includeGlobalState,onChange:function onChange(e){updatePolicyConfig({includeGlobalState:e.target.checked})}})))};return _react.default.createElement("div",{className:"snapshotRestore__policyForm__stepSettings"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettingsTitle",defaultMessage:"Snapshot settings"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getSnapshotDocUrl(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepSettings.docsButtonLabel",defaultMessage:"Snapshot settings docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),renderIndicesField(),renderIgnoreUnavailableField(),renderPartialField(),renderIncludeGlobalStateField())};exports.PolicyStepSettings=PolicyStepSettings},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyStepRetention=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _documentation=__webpack_require__(52);var _text=__webpack_require__(13);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getExpirationTimeOptions=function getExpirationTimeOptions(){var unitSize=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"0";return Object.entries(_constants.TIME_UNITS).map((function(_ref){var _ref2=_slicedToArray(_ref,2),_key=_ref2[0],value=_ref2[1];return{text:_text.textService.getTimeUnitLabel(value,unitSize),value:value}}))};var PolicyStepRetention=function PolicyStepRetention(_ref3){var policy=_ref3.policy,updatePolicy=_ref3.updatePolicy,errors=_ref3.errors;var _policy$retention=policy.retention,retention=_policy$retention===void 0?{}:_policy$retention;var updatePolicyRetention=function updatePolicyRetention(updatedFields){var newRetention=_objectSpread({},retention,{},updatedFields);updatePolicy({retention:newRetention})};var _useState=(0,_react.useState)({expireAfterValue:false,minCount:false,maxCount:false}),_useState2=_slicedToArray(_useState,2),touched=_useState2[0],setTouched=_useState2[1];var renderExpireAfterField=function renderExpireAfterField(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.expirationTitle",defaultMessage:"Expiration"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.expirationDescription",defaultMessage:"The time to wait before deleting snapshots."}),fullWidth:true},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.expireAfterLabel",defaultMessage:"Delete after"}),isInvalid:touched.expireAfterValue&&Boolean(errors.expireAfterValue),error:errors.expireAfterValue,fullWidth:true},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldNumber,{value:retention.expireAfterValue||"",onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{expireAfterValue:true}))},onChange:function onChange(e){var value=e.target.value;updatePolicyRetention({expireAfterValue:value!==""?Number(value):value})},"data-test-subj":"expireAfterValueInput",min:0})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSelect,{value:retention.expireAfterUnit,options:getExpirationTimeOptions(retention.expireAfterValue?retention.expireAfterValue.toString():undefined),onChange:function onChange(e){updatePolicyRetention({expireAfterUnit:e.target.value})},"data-test-subj":"expireAfterUnitSelect"})))))};var renderCountFields=function renderCountFields(){return _react.default.createElement(_eui.EuiDescribedFormGroup,{title:_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.countTitle",defaultMessage:"Snapshots to retain"}))),description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.countDescription",defaultMessage:"The minimum and maximum number of snapshots to store in your cluster."}),fullWidth:true},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.minCountLabel",defaultMessage:"Mininum count"}),isInvalid:touched.minCount&&Boolean(errors.minCount),error:errors.minCount,fullWidth:true},_react.default.createElement(_eui.EuiFieldNumber,{fullWidth:true,value:retention.minCount||"",onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{minCount:true}))},onChange:function onChange(e){var value=e.target.value;updatePolicyRetention({minCount:value!==""?Number(value):value})},"data-test-subj":"minCountInput",min:0}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.maxCountLabel",defaultMessage:"Maximum count"}),isInvalid:touched.maxCount&&Boolean(errors.maxCount),error:errors.maxCount,fullWidth:true},_react.default.createElement(_eui.EuiFieldNumber,{fullWidth:true,value:retention.maxCount||"",onBlur:function onBlur(){return setTouched(_objectSpread({},touched,{maxCount:true}))},onChange:function onChange(e){var value=e.target.value;updatePolicyRetention({maxCount:value!==""?Number(value):value})},"data-test-subj":"maxCountInput",min:0})))))};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetentionTitle",defaultMessage:"Snapshot retention (optional)"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getSlmUrl(),target:"_blank",iconType:"help"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepRetention.docsButtonLabel",defaultMessage:"Snapshot retention docs"})))),renderExpireAfterField(),renderCountFields())};exports.PolicyStepRetention=PolicyStepRetention},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyStepReview=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _lib=__webpack_require__(54);var _app_context=__webpack_require__(49);var _collapsible_indices_list=__webpack_require__(56);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var PolicyStepReview=function PolicyStepReview(_ref){var policy=_ref.policy,updateCurrentStep=_ref.updateCurrentStep;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var name=policy.name,snapshotName=policy.snapshotName,schedule=policy.schedule,repository=policy.repository,config=policy.config,retention=policy.retention;var _ref2=config||{indices:undefined,includeGlobalState:undefined,ignoreUnavailable:undefined,partial:undefined},indices=_ref2.indices,includeGlobalState=_ref2.includeGlobalState,ignoreUnavailable=_ref2.ignoreUnavailable,partial=_ref2.partial;var serializedPolicy=(0,_lib.serializePolicy)(policy);var serializedRetention=serializedPolicy.retention;var EditStepTooltip=function EditStepTooltip(_ref3){var step=_ref3.step;return _react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.editStepTooltip",defaultMessage:"Edit"})},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return updateCurrentStep(step)}},_react.default.createElement(_eui.EuiIcon,{type:"pencil","aria-label":i18n.translate("xpack.snapshotRestore.policyForm.stepReview.editIconAriaLabel",{defaultMessage:"Edit step"})})))};var renderSummaryTab=function renderSummaryTab(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.sectionLogisticsTitle",defaultMessage:"Logistics"})," ",_react.default.createElement(EditStepTooltip,{step:1}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.nameLabel",defaultMessage:"Policy name"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,name))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.snapshotNameLabel",defaultMessage:"Snapshot name"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,snapshotName)))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.repositoryLabel",defaultMessage:"Repository"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,repository))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.scheduleLabel",defaultMessage:"Schedule"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,schedule)))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.sectionSettingsTitle",defaultMessage:"Snapshot settings"})," ",_react.default.createElement(EditStepTooltip,{step:2}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.indicesLabel",defaultMessage:"Indices"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,_react.default.createElement(_collapsible_indices_list.CollapsibleIndicesList,{indices:indices})))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.ignoreUnavailableLabel",defaultMessage:"Ignore unavailable indices"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,ignoreUnavailable?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.ignoreUnavailableTrueLabel",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.ignoreUnavailableFalseLabel",defaultMessage:"No"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.partialLabel",defaultMessage:"Allow partial shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,partial?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.partialTrueLabel",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.partialFalseLabel",defaultMessage:"No"})))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.includeGlobalStateLabel",defaultMessage:"Include global state"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,includeGlobalState===false?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.includeGlobalStateFalseLabel",defaultMessage:"No"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.summaryTab.includeGlobalStateTrueLabel",defaultMessage:"Yes"}))))),serializedRetention?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.retentionTab.sectionRetentionTitle",defaultMessage:"Snapshot retention"})," ",_react.default.createElement(EditStepTooltip,{step:3}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},retention.expireAfterValue&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.retentionTab.expireAfterLabel",defaultMessage:"Delete after"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.expireAfterValue,retention.expireAfterUnit)),retention.minCount&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.retentionTab.minCountLabel",defaultMessage:"Min count"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.minCount)),retention.maxCount&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReview.retentionTab.maxCountLabel",defaultMessage:"Max count"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.maxCount)))):null)};var renderRequestTab=function renderRequestTab(){var endpoint="PUT _slm/policy/".concat(name);var json=JSON.stringify(serializedPolicy,null,2);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCodeBlock,{language:"json",isCopyable:true},"".concat(endpoint,"\n").concat(json)))};return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyForm.stepReviewTitle",defaultMessage:"Review policy"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabbedContent,{tabs:[{id:"summary",name:i18n.translate("xpack.snapshotRestore.policyForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:renderSummaryTab()},{id:"json",name:i18n.translate("xpack.snapshotRestore.policyForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:renderRequestTab()}]}))};exports.PolicyStepReview=PolicyStepReview},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyNavigation=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PolicyNavigation=function PolicyNavigation(_ref){var currentStep=_ref.currentStep,maxCompletedStep=_ref.maxCompletedStep,updateCurrentStep=_ref.updateCurrentStep;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var steps=[{title:i18n.translate("xpack.snapshotRestore.policyForm.navigation.stepLogisticsName",{defaultMessage:"Logistics"}),isComplete:maxCompletedStep>=1,isSelected:currentStep===1,onClick:function onClick(){return updateCurrentStep(1)}},{title:i18n.translate("xpack.snapshotRestore.policyForm.navigation.stepSettingsName",{defaultMessage:"Snapshot settings"}),isComplete:maxCompletedStep>=2,isSelected:currentStep===2,disabled:maxCompletedStep<1,onClick:function onClick(){return updateCurrentStep(2)}},{title:i18n.translate("xpack.snapshotRestore.policyForm.navigation.stepRetentionName",{defaultMessage:"Snapshot retention"}),isComplete:maxCompletedStep>=3,isSelected:currentStep===3,disabled:maxCompletedStep<2,onClick:function onClick(){return updateCurrentStep(3)}},{title:i18n.translate("xpack.snapshotRestore.policyForm.navigation.stepReviewName",{defaultMessage:"Review"}),isComplete:maxCompletedStep>=3,isSelected:currentStep===4,disabled:maxCompletedStep<3,onClick:function onClick(){return updateCurrentStep(4)}}];return _react.default.createElement(_eui.EuiStepsHorizontal,{steps:steps})};exports.PolicyNavigation=PolicyNavigation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SnapshotRestoreHome",{enumerable:true,get:function get(){return _home.SnapshotRestoreHome}});Object.defineProperty(exports,"RepositoryAdd",{enumerable:true,get:function get(){return _repository_add.RepositoryAdd}});Object.defineProperty(exports,"RepositoryEdit",{enumerable:true,get:function get(){return _repository_edit.RepositoryEdit}});Object.defineProperty(exports,"RestoreSnapshot",{enumerable:true,get:function get(){return _restore_snapshot.RestoreSnapshot}});Object.defineProperty(exports,"PolicyAdd",{enumerable:true,get:function get(){return _policy_add.PolicyAdd}});Object.defineProperty(exports,"PolicyEdit",{enumerable:true,get:function get(){return _policy_edit.PolicyEdit}});var _home=__webpack_require__(113);var _repository_add=__webpack_require__(161);var _repository_edit=__webpack_require__(163);var _restore_snapshot=__webpack_require__(165);var _policy_add=__webpack_require__(167);var _policy_edit=__webpack_require__(169)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SnapshotRestoreHome",{enumerable:true,get:function get(){return _home.SnapshotRestoreHome}});var _home=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotRestoreHome=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _reactRouterDom=__webpack_require__(45);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _navigation=__webpack_require__(51);var _repository_list=__webpack_require__(115);var _snapshot_list=__webpack_require__(129);var _restore_list=__webpack_require__(145);var _policy_list=__webpack_require__(150);var _documentation=__webpack_require__(52);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SnapshotRestoreHome=function SnapshotRestoreHome(_ref){var section=_ref.match.params.section,history=_ref.history;var _useConfig=(0,_app_context.useConfig)(),slmUi=_useConfig.slm_ui;var tabs=[{id:"snapshots",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.snapshotsTabTitle",defaultMessage:"Snapshots"})},{id:"repositories",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.repositoriesTabTitle",defaultMessage:"Repositories"})},{id:"restore_status",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.restoreTabTitle",defaultMessage:"Restore Status"})}];if(slmUi.enabled){tabs.splice(2,0,{id:"policies",name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.policiesTabTitle",defaultMessage:"Policies"})})}var onSectionChange=function onSectionChange(newSection){history.push("".concat(_constants.BASE_PATH,"/").concat(newSection))};(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs(section||"home");_navigation.docTitleService.setTitle(section||"home")}),[section]);return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement("h1",{"data-test-subj":"appTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.snapshotRestoreTitle",defaultMessage:"Snapshot and Restore"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{href:_documentation.documentationLinksService.getRepositoryTypeDocUrl(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.snapshotRestoreDocsLinkText",defaultMessage:"Snapshot and Restore docs"}))))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.home.snapshotRestoreDescription",defaultMessage:"Use repositories to store and recover backups of your Elasticsearch indices and clusters."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabs,null,tabs.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return onSectionChange(tab.id)},isSelected:tab.id===section,key:tab.id,"data-test-subj":tab.id.toLowerCase()+"_tab"},tab.name)}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"/repositories/:repositoryName*"),component:_repository_list.RepositoryList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"/snapshots"),component:_snapshot_list.SnapshotList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"/snapshots/:repositoryName*/:snapshotId"),component:_snapshot_list.SnapshotList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"/restore_status"),component:_restore_list.RestoreList}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:"".concat(_constants.BASE_PATH,"/policies/:policyName*"),component:_policy_list.PolicyList}))))};exports.SnapshotRestoreHome=SnapshotRestoreHome},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryList",{enumerable:true,get:function get(){return _repository_list.RepositoryList}});var _repository_list=__webpack_require__(116)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryList=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(50);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _repository_details=__webpack_require__(117);var _repository_table=__webpack_require__(127);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var RepositoryList=function RepositoryList(_ref){var repositoryName=_ref.match.params.repositoryName,history=_ref.history;var _useLoadRepositories=(0,_http.useLoadRepositories)(),error=_useLoadRepositories.error,isLoading=_useLoadRepositories.isLoading,_useLoadRepositories$=_useLoadRepositories.data;_useLoadRepositories$=_useLoadRepositories$===void 0?{repositories:undefined,managedRepository:{name:undefined}}:_useLoadRepositories$;var repositories=_useLoadRepositories$.repositories,managedRepository=_useLoadRepositories$.managedRepository,reload=_useLoadRepositories.sendRequest;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var openRepositoryDetailsUrl=function openRepositoryDetailsUrl(newRepositoryName){return(0,_navigation.linkToRepository)(newRepositoryName)};var closeRepositoryDetails=function closeRepositoryDetails(){history.push("".concat(_constants.BASE_PATH,"/repositories"))};var onRepositoryDeleted=function onRepositoryDeleted(repositoriesDeleted){if(repositoryName&&repositoriesDeleted.includes(repositoryName)){closeRepositoryDetails()}if(repositoriesDeleted.length){reload()}};(0,_react.useEffect)((function(){uiMetricService.trackUiMetric(_constants.UIM_REPOSITORY_LIST_LOAD)}),[uiMetricService]);var content;if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.loadingRepositoriesDescription",defaultMessage:"Loading repositories…"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.LoadingRepositoriesErrorMessage",defaultMessage:"Error loading repositories"}),error:error})}else if(repositories&&repositories.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.emptyPromptTitle",defaultMessage:"Register your first repository"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.emptyPromptDescription",defaultMessage:"Create a place where your snapshots will live."}))),actions:_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToAddRepository)(),fill:true,iconType:"plusInCircle","data-test-subj":"registerRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addRepositoryButtonLabel",defaultMessage:"Register a repository"})),"data-test-subj":"emptyPrompt"})}else{content=_react.default.createElement(_repository_table.RepositoryTable,{repositories:repositories||[],managedRepository:managedRepository===null||managedRepository===void 0?void 0:managedRepository.name,reload:reload,openRepositoryDetailsUrl:openRepositoryDetailsUrl,onRepositoryDeleted:onRepositoryDeleted})}return _react.default.createElement("section",{"data-test-subj":"repositoryList"},repositoryName?_react.default.createElement(_repository_details.RepositoryDetails,{repositoryName:repositoryName,onClose:closeRepositoryDetails,onRepositoryDeleted:onRepositoryDeleted}):null,content)};exports.RepositoryList=RepositoryList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryDetails",{enumerable:true,get:function get(){return _repository_details.RepositoryDetails}});var _repository_details=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);__webpack_require__(57);var _app_context=__webpack_require__(49);var _documentation=__webpack_require__(52);var _http=__webpack_require__(8);var _text=__webpack_require__(13);var _navigation=__webpack_require__(51);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _type_details=__webpack_require__(119);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryDetails=function RepositoryDetails(_ref){var repositoryName=_ref.repositoryName,onClose=_ref.onClose,onRepositoryDeleted=_ref.onRepositoryDeleted;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var _useLoadRepository=(0,_http.useLoadRepository)(repositoryName),error=_useLoadRepository.error,repositoryDetails=_useLoadRepository.data;var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),verification=_useState2[0],setVerification=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),cleanup=_useState4[0],setCleanup=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),isLoadingVerification=_useState6[0],setIsLoadingVerification=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),isLoadingCleanup=_useState8[0],setIsLoadingCleanup=_useState8[1];var verifyRepository=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref3,data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoadingVerification(true);_context.next=3;return(0,_http.verifyRepository)(repositoryName);case 3:_ref3=_context.sent;data=_ref3.data;setVerification(data.verification);setIsLoadingVerification(false);case 7:case"end":return _context.stop()}}}),_callee)})));return function verifyRepository(){return _ref2.apply(this,arguments)}}();var cleanupRepository=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _ref5,data;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoadingCleanup(true);_context2.next=3;return(0,_http.cleanupRepository)(repositoryName);case 3:_ref5=_context2.sent;data=_ref5.data;setCleanup(data.cleanup);setIsLoadingCleanup(false);case 7:case"end":return _context2.stop()}}}),_callee2)})));return function cleanupRepository(){return _ref4.apply(this,arguments)}}();(0,_react.useEffect)((function(){setVerification(undefined);setIsLoadingVerification(false);setCleanup(undefined);setIsLoadingCleanup(false)}),[repositoryName]);var renderBody=function renderBody(){if(repositoryDetails){return renderRepository()}if(error){return renderError()}return renderLoading()};var renderLoading=function renderLoading(){return _react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.loadingRepositoryDescription",defaultMessage:"Loading repository…"}))};var renderError=function renderError(){var notFound=error.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.repositoryDetails.repositoryNotFoundErrorMessage",{defaultMessage:"The repository '{name}' does not exist.",values:{name:repositoryName}})}}:error;return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.loadingRepositoryErrorTitle",defaultMessage:"Error loading repository"}),error:errorObject})};var renderSnapshotCount=function renderSnapshotCount(){var snapshots=repositoryDetails.snapshots;if(!Number.isInteger(snapshots.count)){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.noSnapshotInformationDescription",defaultMessage:"No snapshot information"})}if(snapshots.count===0){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.zeroSnapshotsDescription",defaultMessage:"Repository has no snapshots"})}return _react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToSnapshots)(repositoryName)},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.snapshotsDescription",defaultMessage:"{count} {count, plural, one {snapshot} other {snapshots}} found",values:{count:snapshots.count}}))};var renderRepository=function renderRepository(){var repository=repositoryDetails.repository,isManagedRepository=repositoryDetails.isManagedRepository;if(!repository){return null}var _ref6=repository,type=_ref6.type;return _react.default.createElement(_react.Fragment,null,isManagedRepository?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"warning",iconType:"iInCircle",title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.managedRepositoryWarningTitle",defaultMessage:"This is a managed repository used by other systems. Any changes you make might affect how these systems operate."})}),_react.default.createElement(_eui.EuiSpacer,{size:"l"})):null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeTitle",defaultMessage:"Repository type"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("span",{"data-test-subj":"repositoryType"},type===_constants.REPOSITORY_TYPES.source?_text.textService.getRepositoryTypeName(type,repository.settings.delegateType):_text.textService.getRepositoryTypeName(type))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation.documentationLinksService.getRepositoryTypeDocUrl(type),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.repositoryTypeDocLink",defaultMessage:"Repository docs"})))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.snapshotsTitle",defaultMessage:"Snapshots"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("span",{"data-test-subj":"snapshotCount"},renderSnapshotCount()),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_type_details.TypeDetails,{repository:repository}),_react.default.createElement(_eui.EuiHorizontalRule,null),renderVerification(),_react.default.createElement(_eui.EuiHorizontalRule,null),renderCleanup())};var renderVerification=function renderVerification(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.verificationTitle",defaultMessage:"Verification status"}))),verification?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_components.RepositoryVerificationBadge,{verificationResults:verification}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.verificationDetailsTitle",defaultMessage:"Details"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),verification?_react.default.createElement(_eui.EuiCodeBlock,{language:"json",inline:false,"data-test-subj":"verificationCodeBlock"},JSON.stringify(verification.valid?verification.response:verification.error,null,2)):null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{onClick:verifyRepository,color:"primary",isLoading:isLoadingVerification},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.verifyButtonLabel",defaultMessage:"Verify repository"}))):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{onClick:verifyRepository,color:"primary",isLoading:isLoadingVerification,"data-test-subj":"verifyRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.verifyButtonLabel",defaultMessage:"Verify repository"}))))};var renderCleanup=function renderCleanup(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.cleanupTitle",defaultMessage:"Repository cleanup"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.cleanupRepositoryMessage",defaultMessage:"You can clean up a repository to delete any unreferenced data from a snapshot. This may provide storage space savings. Note: If you regularly delete snapshots, this functionality will likely not be as beneficial and should be used less frequently."}))),cleanup?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),cleanup.cleaned?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.cleanupDetailsTitle",defaultMessage:"Details"}))),_react.default.createElement(_eui.EuiCodeBlock,{language:"json",inline:false,"data-test-subj":"cleanupCodeBlock"},JSON.stringify(cleanup.response,null,2))):_react.default.createElement(_eui.EuiCallOut,{color:"danger",iconType:"alert",title:i18n.translate("xpack.snapshotRestore.repositoryDetails.cleanupErrorTitle",{defaultMessage:"Sorry, there was an error cleaning the repository."})},_react.default.createElement("p",null,cleanup.error?JSON.stringify(cleanup.error):i18n.translate("xpack.snapshotRestore.repositoryDetails.cleanupUnknownError",{defaultMessage:"503: Unknown error"})))):null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{onClick:cleanupRepository,color:"primary",isLoading:isLoadingCleanup,"data-test-subj":"cleanupRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.cleanupButtonLabel",defaultMessage:"Clean up repository"})))};var renderFooter=function renderFooter(){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"srRepositoryDetailsFlyoutCloseButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.closeButtonLabel",defaultMessage:"Close"}))),repositoryDetails?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.RepositoryDeleteProvider,null,(function(deleteRepositoryPrompt){return _react.default.createElement(_eui.EuiButtonEmpty,{color:"danger","data-test-subj":"srRepositoryDetailsDeleteActionButton",onClick:function onClick(){return deleteRepositoryPrompt([repositoryName],onRepositoryDeleted)},isDisabled:repositoryDetails.isManagedRepository,title:repositoryDetails.isManagedRepository?i18n.translate("xpack.snapshotRestore.repositoryDetails.removeManagedRepositoryButtonTitle",{defaultMessage:"You cannot delete a managed repository."}):undefined},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.removeButtonLabel",defaultMessage:"Remove"}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToEditRepository)(repositoryName),fill:true,color:"primary"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.editButtonLabel",defaultMessage:"Edit"}))))):null)};return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"repositoryDetail","aria-labelledby":"srRepositoryDetailsFlyoutTitle",size:"m",maxWidth:550},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",{id:"srRepositoryDetailsFlyoutTitle","data-test-subj":"title"},repositoryName))),_react.default.createElement(_eui.EuiFlyoutBody,{"data-test-subj":"content"},renderBody()),_react.default.createElement(_eui.EuiFlyoutFooter,null,renderFooter()))};exports.RepositoryDetails=RepositoryDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeDetails=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _constants=__webpack_require__(4);var _azure_details=__webpack_require__(120);var _default_details=__webpack_require__(121);var _fs_details=__webpack_require__(122);var _gcs_details=__webpack_require__(123);var _hdfs_details=__webpack_require__(124);var _readonly_details=__webpack_require__(125);var _s3_details=__webpack_require__(126);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TypeDetails=function TypeDetails(_ref){var repository=_ref.repository;var type=repository.type,settings=repository.settings;switch(type){case _constants.REPOSITORY_TYPES.fs:return _react.default.createElement(_fs_details.FSDetails,{repository:repository});case _constants.REPOSITORY_TYPES.url:return _react.default.createElement(_readonly_details.ReadonlyDetails,{repository:repository});case _constants.REPOSITORY_TYPES.source:var delegateType=settings.delegateType;var delegatedRepository=_objectSpread({},repository,{type:delegateType});return _react.default.createElement(TypeDetails,{repository:delegatedRepository});case _constants.REPOSITORY_TYPES.azure:return _react.default.createElement(_azure_details.AzureDetails,{repository:repository});case _constants.REPOSITORY_TYPES.gcs:return _react.default.createElement(_gcs_details.GCSDetails,{repository:repository});case _constants.REPOSITORY_TYPES.hdfs:return _react.default.createElement(_hdfs_details.HDFSDetails,{repository:repository});case _constants.REPOSITORY_TYPES.s3:return _react.default.createElement(_s3_details.S3Details,{repository:repository});default:return _react.default.createElement(_default_details.DefaultDetails,{repository:repository})}};exports.TypeDetails=TypeDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AzureDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var AzureDetails=function AzureDetails(_ref){var repository=_ref.repository;var _repository$settings=repository.settings,client=_repository$settings.client,container=_repository$settings.container,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,readonly=_repository$settings.readonly,locationMode=_repository$settings.locationMode,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec;var listItems=[];if(client!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.clientLabel",defaultMessage:"Client"}),description:client})}if(container!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.containerLabel",defaultMessage:"Container"}),description:container})}if(basePath!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.basePathLabel",defaultMessage:"Base path"}),description:basePath})}if(compress!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.compressLabel",defaultMessage:"Snapshot compression"}),description:String(compress)})}if(chunkSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.chunkSizeLabel",defaultMessage:"Chunk size"}),description:String(chunkSize)})}if(maxSnapshotBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),description:maxSnapshotBytesPerSec})}if(maxRestoreBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),description:maxRestoreBytesPerSec})}if(readonly!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.readonlyLabel",defaultMessage:"Read-only"}),description:String(readonly)})}if(locationMode!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeAzure.locationModeLabel",defaultMessage:"Location mode"}),description:locationMode})}if(!listItems.length){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.AzureDetails=AzureDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultDetails=void 0;__webpack_require__(57);var _react=_interopRequireWildcard(__webpack_require__(1));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var DefaultDetails=function DefaultDetails(_ref){var _ref$repository=_ref.repository,name=_ref$repository.name,settings=_ref$repository.settings;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",isReadOnly:true,value:JSON.stringify(settings,null,2),setOptions:{showLineNumbers:false,tabSize:2,maxLines:Infinity},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,"aria-label":_i18n.i18n.translate("xpack.snapshotRestore.repositoryDetails.genericSettingsDescription",{defaultMessage:"Readonly settings for repository '{name}'",values:{name:name}})}))};exports.DefaultDetails=DefaultDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FSDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FSDetails=function FSDetails(_ref){var repository=_ref.repository;var _repository$settings=repository.settings,location=_repository$settings.location,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec,readonly=_repository$settings.readonly;var listItems=[{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.locationLabel",defaultMessage:"Location"}),description:location}];if(compress!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.compressLabel",defaultMessage:"Snapshot compression"}),description:String(compress)})}if(chunkSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.chunkSizeLabel",defaultMessage:"Chunk size"}),description:String(chunkSize)})}if(maxSnapshotBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),description:maxSnapshotBytesPerSec})}if(maxRestoreBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),description:maxRestoreBytesPerSec})}if(readonly!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeFS.readonlyLabel",defaultMessage:"Read-only"}),description:String(readonly)})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.FSDetails=FSDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GCSDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var GCSDetails=function GCSDetails(_ref){var repository=_ref.repository;var _repository$settings=repository.settings,bucket=_repository$settings.bucket,client=_repository$settings.client,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,readonly=_repository$settings.readonly,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec;var listItems=[{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.bucketLabel",defaultMessage:"Bucket"}),description:bucket||""}];if(client!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.clientLabel",defaultMessage:"Client"}),description:client})}if(basePath!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.basePathLabel",defaultMessage:"Base path"}),description:basePath})}if(compress!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.compressLabel",defaultMessage:"Snapshot compression"}),description:String(compress)})}if(chunkSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.chunkSizeLabel",defaultMessage:"Chunk size"}),description:String(chunkSize)})}if(maxSnapshotBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),description:maxSnapshotBytesPerSec})}if(maxRestoreBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),description:maxRestoreBytesPerSec})}if(readonly!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeGCS.readonlyLabel",defaultMessage:"Read-only"}),description:String(readonly)})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.GCSDetails=GCSDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HDFSDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var HDFSDetails=function HDFSDetails(_ref){var repository=_ref.repository;var settings=repository.settings;var uri=settings.uri,path=settings.path,loadDefaults=settings.loadDefaults,compress=settings.compress,chunkSize=settings.chunkSize,readonly=settings.readonly,maxSnapshotBytesPerSec=settings.maxSnapshotBytesPerSec,maxRestoreBytesPerSec=settings.maxRestoreBytesPerSec,securityPrincipal=settings["security.principal"],rest=_objectWithoutProperties(settings,["uri","path","loadDefaults","compress","chunkSize","readonly","maxSnapshotBytesPerSec","maxRestoreBytesPerSec","security.principal"]);var listItems=[{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.uriLabel",defaultMessage:"URI"}),description:uri||""},{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.pathLabel",defaultMessage:"Path"}),description:path||""}];if(loadDefaults!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.loadDefaultsLabel",defaultMessage:"Load defaults"}),description:String(loadDefaults)})}if(compress!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.compressLabel",defaultMessage:"Snapshot compression"}),description:String(compress)})}if(chunkSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.chunkSizeLabel",defaultMessage:"Chunk size"}),description:String(chunkSize)})}if(maxSnapshotBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),description:maxSnapshotBytesPerSec})}if(maxRestoreBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),description:maxRestoreBytesPerSec})}if(readonly!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.readonlyLabel",defaultMessage:"Read-only"}),description:String(readonly)})}if(securityPrincipal!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeHDFS.securityPrincipalLabel",defaultMessage:"Security principal"}),description:securityPrincipal})}Object.keys(rest).forEach((function(key){listItems.push({title:_react.default.createElement(_react.Fragment,null,key),description:String(settings[key])})}));return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.HDFSDetails=HDFSDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReadonlyDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ReadonlyDetails=function ReadonlyDetails(_ref){var repository=_ref.repository;var url=repository.settings.url;var listItems=[{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeReadonly.urlLabel",defaultMessage:"URL"}),description:url}];return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.ReadonlyDetails=ReadonlyDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.S3Details=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var S3Details=function S3Details(_ref){var repository=_ref.repository;var _repository$settings=repository.settings,bucket=_repository$settings.bucket,client=_repository$settings.client,basePath=_repository$settings.basePath,compress=_repository$settings.compress,chunkSize=_repository$settings.chunkSize,serverSideEncryption=_repository$settings.serverSideEncryption,bufferSize=_repository$settings.bufferSize,cannedAcl=_repository$settings.cannedAcl,storageClass=_repository$settings.storageClass,readonly=_repository$settings.readonly,maxRestoreBytesPerSec=_repository$settings.maxRestoreBytesPerSec,maxSnapshotBytesPerSec=_repository$settings.maxSnapshotBytesPerSec;var listItems=[{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.bucketLabel",defaultMessage:"Bucket"}),description:bucket||""}];if(client!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.clientLabel",defaultMessage:"Client"}),description:client})}if(basePath!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.basePathLabel",defaultMessage:"Base path"}),description:basePath})}if(compress!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.compressLabel",defaultMessage:"Snapshot compression"}),description:String(compress)})}if(chunkSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.chunkSizeLabel",defaultMessage:"Chunk size"}),description:String(chunkSize)})}if(serverSideEncryption!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.serverSideEncryptionLabel",defaultMessage:"Server-side encryption"}),description:String(serverSideEncryption)})}if(bufferSize!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.bufferSizeLabel",defaultMessage:"Buffer size"}),description:bufferSize})}if(cannedAcl!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.cannedAclLabel",defaultMessage:"Canned ACL"}),description:cannedAcl})}if(storageClass!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.storageClassLabel",defaultMessage:"Storage class"}),description:storageClass})}if(maxSnapshotBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.maxSnapshotBytesLabel",defaultMessage:"Max snapshot bytes per second"}),description:maxSnapshotBytesPerSec})}if(maxRestoreBytesPerSec!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.maxRestoreBytesLabel",defaultMessage:"Max restore bytes per second"}),description:maxRestoreBytesPerSec})}if(readonly!==undefined){listItems.push({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.typeS3.readonlyLabel",defaultMessage:"Read-only"}),description:String(readonly)})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryDetails.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse",listItems:listItems}))};exports.S3Details=S3Details},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryTable",{enumerable:true,get:function get(){return _repository_table.RepositoryTable}});var _repository_table=__webpack_require__(128)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _app_context=__webpack_require__(49);var _text=__webpack_require__(13);var _navigation=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryTable=function RepositoryTable(_ref){var repositories=_ref.repositories,managedRepository=_ref.managedRepository,reload=_ref.reload,openRepositoryDetailsUrl=_ref.openRepositoryDetailsUrl,onRepositoryDeleted=_ref.onRepositoryDeleted;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selectedItems=_useState2[0],setSelectedItems=_useState2[1];var columns=[{field:"name",name:i18n.translate("xpack.snapshotRestore.repositoryList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:true,sortable:true,render:function render(name){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return uiMetricService.trackUiMetric(_constants2.UIM_REPOSITORY_SHOW_DETAILS_CLICK)},href:openRepositoryDetailsUrl(name),"data-test-subj":"repositoryLink"},name),"  ",managedRepository===name?_react.default.createElement(_eui.EuiIconTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.table.managedRepositoryBadgeLabel",defaultMessage:"This is a managed repository"}),position:"right"}):null)}},{field:"type",name:i18n.translate("xpack.snapshotRestore.repositoryList.table.typeColumnTitle",{defaultMessage:"Type"}),truncateText:true,sortable:true,render:function render(type,repository){if(type===_constants.REPOSITORY_TYPES.source){return _text.textService.getRepositoryTypeName(type,repository.settings.delegateType)}return _text.textService.getRepositoryTypeName(type)}},{field:"actions",name:i18n.translate("xpack.snapshotRestore.repositoryList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{render:function render(_ref2){var name=_ref2.name;var label=i18n.translate("xpack.snapshotRestore.repositoryList.table.actionEditTooltip",{defaultMessage:"Edit"});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.repositoryList.table.actionEditAriaLabel",{defaultMessage:"Edit repository `{name}`",values:{name:name}}),iconType:"pencil",color:"primary",href:(0,_navigation.linkToEditRepository)(name),"data-test-subj":"editRepositoryButton"}))}},{render:function render(_ref3){var name=_ref3.name;return _react.default.createElement(_components.RepositoryDeleteProvider,null,(function(deleteRepositoryPrompt){var label=name!==managedRepository?i18n.translate("xpack.snapshotRestore.repositoryList.table.actionRemoveTooltip",{defaultMessage:"Remove"}):i18n.translate("xpack.snapshotRestore.repositoryList.table.deleteManagedRepositoryTooltip",{defaultMessage:"You cannot delete a managed repository."});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.repositoryList.table.actionRemoveAriaLabel",{defaultMessage:"Remove repository `{name}`",values:{name:name}}),iconType:"trash",color:"danger","data-test-subj":"deleteRepositoryButton",onClick:function onClick(){return deleteRepositoryPrompt([name],onRepositoryDeleted)},isDisabled:Boolean(name===managedRepository)}))}))}}],width:"100px"}];var sorting={sort:{field:"name",direction:"asc"}};var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var selection={onSelectionChange:function onSelectionChange(newSelectedItems){return setSelectedItems(newSelectedItems)},selectable:function selectable(_ref4){var name=_ref4.name;return Boolean(name!==managedRepository)},selectableMessage:function selectableMessage(selectable){if(!selectable){return i18n.translate("xpack.snapshotRestore.repositoryList.table.deleteManagedRepositoryTooltip",{defaultMessage:"You cannot delete a managed repository."})}return""}};var search={toolsLeft:selectedItems.length?_react.default.createElement(_components.RepositoryDeleteProvider,null,(function(deleteRepositoryPrompt){return _react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return deleteRepositoryPrompt(selectedItems.map((function(repository){return repository.name})),onRepositoryDeleted)},color:"danger","data-test-subj":"srRepositoryListBulkDeleteActionButton"},selectedItems.length===1?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.table.deleteSingleRepositoryButton",defaultMessage:"Remove repository"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.table.deleteMultipleRepositoriesButton",defaultMessage:"Remove repositories"}))})):undefined,toolsRight:[_react.default.createElement(_eui.EuiButton,{key:"reloadButton",color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.table.reloadRepositoriesButton",defaultMessage:"Reload"})),_react.default.createElement(_eui.EuiButton,{key:"registerRepo",href:(0,_navigation.linkToAddRepository)(),fill:true,iconType:"plusInCircle","data-test-subj":"registerRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryList.addRepositoryButtonLabel",defaultMessage:"Register a repository"}))],box:{incremental:true,schema:true},filters:[{type:"field_value_selection",field:"type",name:i18n.translate("xpack.snapshotRestore.repositoryList.table.typeFilterLabel",{defaultMessage:"Type"}),multiSelect:false,options:Object.keys(repositories.reduce((function(typeMap,repository){typeMap[repository.type]=true;return typeMap}),{})).map((function(type){return{value:type,view:_text.textService.getRepositoryTypeName(type)}}))}]};return _react.default.createElement(_eui.EuiInMemoryTable,{items:repositories,itemId:"name",columns:columns,search:search,sorting:sorting,selection:selection,pagination:pagination,isSelectable:true,rowProps:function rowProps(){return{"data-test-subj":"row"}},cellProps:function cellProps(item,field){return{"data-test-subj":"".concat(field.name,"_cell")}},"data-test-subj":"repositoryTable"})};exports.RepositoryTable=RepositoryTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SnapshotList",{enumerable:true,get:function get(){return _snapshot_list.SnapshotList}});var _snapshot_list=__webpack_require__(130)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotList=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _queryString=__webpack_require__(58);var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _authorization=__webpack_require__(53);var _documentation=__webpack_require__(52);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _app_context=__webpack_require__(49);var _snapshot_details=__webpack_require__(137);var _snapshot_table=__webpack_require__(143);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SnapshotList=function SnapshotList(_ref){var _ref$match$params=_ref.match.params,repositoryName=_ref$match$params.repositoryName,snapshotId=_ref$match$params.snapshotId,search=_ref.location.search,history=_ref.history;var _useLoadSnapshots=(0,_http.useLoadSnapshots)(),error=_useLoadSnapshots.error,isLoading=_useLoadSnapshots.isLoading,_useLoadSnapshots$dat=_useLoadSnapshots.data,_useLoadSnapshots$dat2=_useLoadSnapshots$dat.snapshots,snapshots=_useLoadSnapshots$dat2===void 0?[]:_useLoadSnapshots$dat2,_useLoadSnapshots$dat3=_useLoadSnapshots$dat.repositories,repositories=_useLoadSnapshots$dat3===void 0?[]:_useLoadSnapshots$dat3,_useLoadSnapshots$dat4=_useLoadSnapshots$dat.policies,policies=_useLoadSnapshots$dat4===void 0?[]:_useLoadSnapshots$dat4,_useLoadSnapshots$dat5=_useLoadSnapshots$dat.errors,errors=_useLoadSnapshots$dat5===void 0?{}:_useLoadSnapshots$dat5,reload=_useLoadSnapshots.sendRequest;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var openSnapshotDetailsUrl=function openSnapshotDetailsUrl(repositoryNameToOpen,snapshotIdToOpen){return(0,_navigation.linkToSnapshot)(repositoryNameToOpen,snapshotIdToOpen)};var closeSnapshotDetails=function closeSnapshotDetails(){history.push("".concat(_constants2.BASE_PATH,"/snapshots"))};var onSnapshotDeleted=function onSnapshotDeleted(snapshotsDeleted){if(repositoryName&&snapshotId&&snapshotsDeleted.find((function(_ref2){var snapshot=_ref2.snapshot,repository=_ref2.repository;return snapshot===snapshotId&&repository===repositoryName}))){closeSnapshotDetails()}if(snapshotsDeleted.length){reload()}};var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),filteredRepository=_useState2[0],setFilteredRepository=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=_slicedToArray(_useState3,2),filteredPolicy=_useState4[0],setFilteredPolicy=_useState4[1];(0,_react.useEffect)((function(){if(search){var parsedParams=(0,_queryString.parse)(search.replace(/^\?/,""),{sort:false});var repository=parsedParams.repository,policy=parsedParams.policy;if(policy&&policy!==filteredPolicy){setFilteredPolicy(String(policy));history.replace("".concat(_constants2.BASE_PATH,"/snapshots"))}else if(repository&&repository!==filteredRepository){setFilteredRepository(String(repository));history.replace("".concat(_constants2.BASE_PATH,"/snapshots"))}}}),[filteredPolicy,filteredRepository,history,search]);(0,_react.useEffect)((function(){uiMetricService.trackUiMetric(_constants2.UIM_SNAPSHOT_LIST_LOAD)}),[uiMetricService]);var content;if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.loadingSnapshotsDescription",defaultMessage:"Loading snapshots…"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.loadingSnapshotsErrorMessage",defaultMessage:"Error loading snapshots"}),error:error})}else if(Object.keys(errors).length&&repositories.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.errorRepositoriesTitle",defaultMessage:"Some repositories contain errors"})),body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.repositoryWarningDescription",defaultMessage:"Go to {repositoryLink} to fix the errors.",values:{repositoryLink:_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToRepositories)()},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryWarningLinkText",defaultMessage:"Repositories"}))}}))})}else if(repositories.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.noRepositoriesTitle",defaultMessage:"Start by registering a repository"})),body:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.noRepositoriesDescription",defaultMessage:"You need a place where your snapshots will live."})),_react.default.createElement("p",null,_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToAddRepository)(),fill:true,iconType:"plusInCircle","data-test-subj":"registerRepositoryButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.noRepositoriesAddButtonLabel",defaultMessage:"Register a repository"})))),"data-test-subj":"emptyPrompt"})}else if(snapshots.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.noSnapshotsTitle",defaultMessage:"You don't have any snapshots yet"})),body:_react.default.createElement(_authorization.WithPrivileges,{privileges:_constants.APP_SLM_CLUSTER_PRIVILEGES.map((function(name){return"cluster.".concat(name)}))},(function(_ref3){var hasPrivileges=_ref3.hasPrivileges;return hasPrivileges?_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.usePolicyDescription",defaultMessage:"Run a Snapshot Lifecycle Policy to create a snapshot. Snapshots can also be created by using {docLink}.",values:{docLink:_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getSnapshotDocUrl(),target:"_blank","data-test-subj":"documentationLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.emptyPrompt.usePolicyDocLinkText",defaultMessage:"the Elasticsearch API"}))}})),_react.default.createElement("p",null,policies.length===0?_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToAddPolicy)(),fill:true,iconType:"plusInCircle","data-test-subj":"addPolicyButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.addPolicyText",defaultMessage:"Create a policy"})):_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToPolicies)(),fill:true,iconType:"list","data-test-subj":"goToPoliciesButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.goToPoliciesText",defaultMessage:"View policies"})))):_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.emptyPrompt.noSnapshotsDescription",defaultMessage:"Create a snapshot using the Elasticsearch API."})),_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{href:_documentation.documentationLinksService.getSnapshotDocUrl(),target:"_blank","data-test-subj":"documentationLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.emptyPrompt.noSnapshotsDocLinkText",defaultMessage:"Learn how to create a snapshot"})," ",_react.default.createElement(_eui.EuiIcon,{type:"link"}))))})),"data-test-subj":"emptyPrompt"})}else{var repositoryErrorsWarning=Object.keys(errors).length?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryWarningTitle",defaultMessage:"Some repositories contain errors"}),color:"warning",iconType:"alert"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryWarningDescription",defaultMessage:"Snapshots might load slowly. Go to {repositoryLink} to fix the errors.",values:{repositoryLink:_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToRepositories)()},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.repositoryWarningLinkText",defaultMessage:"Repositories"}))}})),_react.default.createElement(_eui.EuiSpacer,null)):null;content=_react.default.createElement(_react.Fragment,null,repositoryErrorsWarning,_react.default.createElement(_snapshot_table.SnapshotTable,{snapshots:snapshots,repositories:repositories,reload:reload,openSnapshotDetailsUrl:openSnapshotDetailsUrl,onSnapshotDeleted:onSnapshotDeleted,repositoryFilter:filteredRepository,policyFilter:filteredPolicy}))}return _react.default.createElement("section",{"data-test-subj":"snapshotList"},repositoryName&&snapshotId?_react.default.createElement(_snapshot_details.SnapshotDetails,{repositoryName:repositoryName,snapshotId:snapshotId,onClose:closeSnapshotDetails,onSnapshotDeleted:onSnapshotDeleted}):null,content)};exports.SnapshotList=SnapshotList},function(module,exports,__webpack_require__){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!'()*]/g,(function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()}))}},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter}));if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AuthorizationProvider",{enumerable:true,get:function get(){return _authorization_provider.AuthorizationProvider}});Object.defineProperty(exports,"AuthorizationContext",{enumerable:true,get:function get(){return _authorization_provider.AuthorizationContext}});Object.defineProperty(exports,"WithPrivileges",{enumerable:true,get:function get(){return _with_privileges.WithPrivileges}});Object.defineProperty(exports,"NotAuthorizedSection",{enumerable:true,get:function get(){return _not_authorized_section.NotAuthorizedSection}});var _authorization_provider=__webpack_require__(59);var _with_privileges=__webpack_require__(135);var _not_authorized_section=__webpack_require__(136)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WithPrivileges=void 0;var _react=__webpack_require__(1);var _authorization_provider=__webpack_require__(59);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var toArray=function toArray(value){return Array.isArray(value)?value:[value]};var WithPrivileges=function WithPrivileges(_ref){var requiredPrivileges=_ref.privileges,children=_ref.children;var _useContext=(0,_react.useContext)(_authorization_provider.AuthorizationContext),isLoading=_useContext.isLoading,privileges=_useContext.privileges;var privilegesToArray=toArray(requiredPrivileges).map((function(p){var _p$split=p.split("."),_p$split2=_slicedToArray(_p$split,2),section=_p$split2[0],privilege=_p$split2[1];if(!privilege){throw new Error('Required privilege must have the format "section.privilege"')}return[section,privilege]}));var hasPrivileges=isLoading?false:privilegesToArray.every((function(privilege){var _privilege=_slicedToArray(privilege,2),section=_privilege[0],requiredPrivilege=_privilege[1];if(!privileges.missingPrivileges[section]){return true}if(privileges.missingPrivileges[section].length===0){return true}if(requiredPrivilege==="*"){return false}return!privileges.missingPrivileges[section].includes(requiredPrivilege)}));var privilegesMissing=privilegesToArray.reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),section=_ref3[0],privilege=_ref3[1];if(privilege==="*"){acc[section]=privileges.missingPrivileges[section]||[]}else if(privileges.missingPrivileges[section]&&privileges.missingPrivileges[section].includes(privilege)){var missing=acc[section]||[];acc[section]=[].concat(_toConsumableArray(missing),[privilege])}return acc}),{});return children({isLoading:isLoading,hasPrivileges:hasPrivileges,privilegesMissing:privilegesMissing})};exports.WithPrivileges=WithPrivileges},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NotAuthorizedSection=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NotAuthorizedSection=function NotAuthorizedSection(_ref){var title=_ref.title,message=_ref.message;return _react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",title:_react.default.createElement("h2",null,title),body:_react.default.createElement("p",null,message)})};exports.NotAuthorizedSection=NotAuthorizedSection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SnapshotDetails",{enumerable:true,get:function get(){return _snapshot_details.SnapshotDetails}});var _snapshot_details=__webpack_require__(138)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotDetails=void 0;var _eui=__webpack_require__(2);var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _components=__webpack_require__(50);var _app_context=__webpack_require__(49);var _constants=__webpack_require__(6);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _tabs=__webpack_require__(139);var _panelTypeToUiMetricM;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TAB_SUMMARY="summary";var TAB_FAILURES="failures";var panelTypeToUiMetricMap=(_panelTypeToUiMetricM={},_defineProperty(_panelTypeToUiMetricM,TAB_SUMMARY,_constants.UIM_SNAPSHOT_DETAIL_PANEL_SUMMARY_TAB),_defineProperty(_panelTypeToUiMetricM,TAB_FAILURES,_constants.UIM_SNAPSHOT_DETAIL_PANEL_FAILED_INDICES_TAB),_panelTypeToUiMetricM);var SnapshotDetails=function SnapshotDetails(_ref){var repositoryName=_ref.repositoryName,snapshotId=_ref.snapshotId,onClose=_ref.onClose,onSnapshotDeleted=_ref.onSnapshotDeleted;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useLoadSnapshot=(0,_http.useLoadSnapshot)(repositoryName,snapshotId),error=_useLoadSnapshot.error,snapshotDetails=_useLoadSnapshot.data;var _useState=(0,_react.useState)(TAB_SUMMARY),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];(0,_react.useEffect)((function(){setActiveTab(TAB_SUMMARY)}),[repositoryName,snapshotId]);var tabs;var content;if(snapshotDetails){var _ref2=snapshotDetails,indexFailures=_ref2.indexFailures,snapshotState=_ref2.state;var tabOptions=[{id:TAB_SUMMARY,name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.summaryTabTitle",defaultMessage:"Summary"})},{id:TAB_FAILURES,name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.failuresTabTitle",defaultMessage:"Failed indices ({failuresCount})",values:{failuresCount:indexFailures.length}})}];tabs=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiTabs,null,tabOptions.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){uiMetricService.trackUiMetric(panelTypeToUiMetricMap[tab.id]);setActiveTab(tab.id)},isSelected:tab.id===activeTab,key:tab.id,"data-test-subj":"tab"},tab.name)}))));if(activeTab===TAB_SUMMARY){content=_react.default.createElement(_tabs.TabSummary,{snapshotDetails:snapshotDetails})}else if(activeTab===TAB_FAILURES){content=_react.default.createElement(_tabs.TabFailures,{snapshotState:snapshotState,indexFailures:indexFailures})}}else if(error){var notFound=error.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.snapshotDetails.errorSnapshotNotFound",{defaultMessage:"Either the snapshot '{snapshotId}' doesn't exist in the repository '{repositoryName}' or the repository doesn't exist.",values:{snapshotId:snapshotId,repositoryName:repositoryName}})}}:error;content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.errorLoadingRepositoryTitle",defaultMessage:"Error loading repository"}),error:errorObject})}else{content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.loadingSnapshotDescription",defaultMessage:"Loading snapshot…"}))}var renderFooter=function renderFooter(){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"closeButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.closeButtonLabel",defaultMessage:"Close"}))),snapshotDetails?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.SnapshotDeleteProvider,null,(function(deleteSnapshotPrompt){return _react.default.createElement(_eui.EuiButtonEmpty,{color:"danger","data-test-subj":"srSnapshotDetailsDeleteActionButton",onClick:function onClick(){return deleteSnapshotPrompt([{repository:repositoryName,snapshot:snapshotId}],onSnapshotDeleted)},isDisabled:snapshotDetails.managedRepository&&snapshotDetails.isLastSuccessfulSnapshot,title:snapshotDetails.managedRepository&&snapshotDetails.isLastSuccessfulSnapshot?i18n.translate("xpack.snapshotRestore.snapshotDetails.deleteManagedRepositorySnapshotButtonTitle",{defaultMessage:"You cannot delete the last successful snapshot stored in a managed repository."}):undefined},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.deleteButtonLabel",defaultMessage:"Delete"}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToRestoreSnapshot)(repositoryName,snapshotId),fill:true,color:"primary",isDisabled:snapshotDetails.state!==_constants.SNAPSHOT_STATE.SUCCESS&&snapshotDetails.state!==_constants.SNAPSHOT_STATE.PARTIAL},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.restoreButtonLabel",defaultMessage:"Restore"}))))):null)};return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"snapshotDetail","aria-labelledby":"srSnapshotDetailsFlyoutTitle",size:"m",maxWidth:550},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h2",{id:"srSnapshotDetailsFlyoutTitle","data-test-subj":"detailTitle"},snapshotId),_react.default.createElement("p",null,_react.default.createElement("small",null,_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToRepository)(repositoryName),"data-test-subj":"repositoryLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.repositoryTitle",defaultMessage:"'{repositoryName}' repository",values:{repositoryName:repositoryName}}))))),tabs),_react.default.createElement(_eui.EuiFlyoutBody,{"data-test-subj":"content"},content),_react.default.createElement(_eui.EuiFlyoutFooter,null,renderFooter()))};exports.SnapshotDetails=SnapshotDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TabSummary",{enumerable:true,get:function get(){return _tab_summary.TabSummary}});Object.defineProperty(exports,"TabFailures",{enumerable:true,get:function get(){return _tab_failures.TabFailures}});var _tab_summary=__webpack_require__(140);var _tab_failures=__webpack_require__(142)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSummary=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _components=__webpack_require__(50);var _navigation=__webpack_require__(51);var _snapshot_state=__webpack_require__(141);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabSummary=function TabSummary(_ref){var snapshotDetails=_ref.snapshotDetails;var versionId=snapshotDetails.versionId,version=snapshotDetails.version,includeGlobalState=snapshotDetails.includeGlobalState,indices=snapshotDetails.indices,state=snapshotDetails.state,startTimeInMillis=snapshotDetails.startTimeInMillis,endTimeInMillis=snapshotDetails.endTimeInMillis,durationInMillis=snapshotDetails.durationInMillis,uuid=snapshotDetails.uuid,policyName=snapshotDetails.policyName;return _react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"version"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemVersionLabel",defaultMessage:"Version / Version ID"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},version," / ",versionId)),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"uuid"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemUuidLabel",defaultMessage:"UUID"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},uuid))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"state"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemStateLabel",defaultMessage:"State"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_snapshot_state.SnapshotState,{state:state}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"includeGlobalState"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemIncludeGlobalStateLabel",defaultMessage:"Includes global state"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},includeGlobalState?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemIncludeGlobalStateYesLabel",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemIncludeGlobalStateNoLabel",defaultMessage:"No"})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"indices"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemIndicesLabel",defaultMessage:"Indices ({indicesCount})",values:{indicesCount:indices.length}})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.CollapsibleIndicesList,{indices:indices})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"startTime"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemStartTimeLabel",defaultMessage:"Start time"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.DataPlaceholder,{data:startTimeInMillis},_react.default.createElement(_components.FormattedDateTime,{epochMs:startTimeInMillis})))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"endTime"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemEndTimeLabel",defaultMessage:"End time"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},state===_constants.SNAPSHOT_STATE.IN_PROGRESS?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):_react.default.createElement(_components.DataPlaceholder,{data:endTimeInMillis},_react.default.createElement(_components.FormattedDateTime,{epochMs:endTimeInMillis}))))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"duration"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemDurationLabel",defaultMessage:"Duration"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},state===_constants.SNAPSHOT_STATE.IN_PROGRESS?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):_react.default.createElement(_components.DataPlaceholder,{data:durationInMillis},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.itemDurationValueLabel","data-test-subj":"srSnapshotDetailsDurationValue",defaultMessage:"{seconds} {seconds, plural, one {second} other {seconds}}",values:{seconds:Math.ceil(durationInMillis/1e3)}})))),policyName?_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"policy"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.createdByLabel",defaultMessage:"Created by"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToPolicy)(policyName)},policyName))):null))};exports.TabSummary=TabSummary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotState=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SnapshotState=function SnapshotState(_ref){var _stateMap;var state=_ref.state;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var stateMap=(_stateMap={},_defineProperty(_stateMap,_constants.SNAPSHOT_STATE.IN_PROGRESS,{icon:_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),label:i18n.translate("xpack.snapshotRestore.snapshotState.inProgressLabel",{defaultMessage:"Taking snapshot…"})}),_defineProperty(_stateMap,_constants.SNAPSHOT_STATE.SUCCESS,{icon:_react.default.createElement(_eui.EuiIcon,{color:"success",type:"check"}),label:i18n.translate("xpack.snapshotRestore.snapshotState.completeLabel",{defaultMessage:"Snapshot complete"})}),_defineProperty(_stateMap,_constants.SNAPSHOT_STATE.FAILED,{icon:_react.default.createElement(_eui.EuiIcon,{color:"danger",type:"cross"}),label:i18n.translate("xpack.snapshotRestore.snapshotState.failedLabel",{defaultMessage:"Snapshot failed"})}),_defineProperty(_stateMap,_constants.SNAPSHOT_STATE.PARTIAL,{icon:_react.default.createElement(_eui.EuiIcon,{color:"warning",type:"alert"}),label:i18n.translate("xpack.snapshotRestore.snapshotState.partialLabel",{defaultMessage:"Partial failure"}),tip:i18n.translate("xpack.snapshotRestore.snapshotState.partialTipDescription",{defaultMessage:"Global cluster state was stored, but at least one shard wasn't stored successfully. See the 'Failed indices' tab."})}),_defineProperty(_stateMap,_constants.SNAPSHOT_STATE.INCOMPATIBLE,{icon:_react.default.createElement(_eui.EuiIcon,{color:"warning",type:"alert"}),label:i18n.translate("xpack.snapshotRestore.snapshotState.incompatibleLabel",{defaultMessage:"Incompatible version"}),tip:i18n.translate("xpack.snapshotRestore.snapshotState.incompatibleTipDescription",{defaultMessage:"Snapshot was created with a version of Elasticsearch incompatible with the cluster's version."})}),_stateMap);if(!stateMap[state]){return state}var _stateMap$state=stateMap[state],icon=_stateMap$state.icon,label=_stateMap$state.label,tip=_stateMap$state.tip;var iconTip=tip&&_react.default.createElement(_react.Fragment,null," ",_react.default.createElement(_eui.EuiIconTip,{content:tip}));return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("div",null,label,iconTip)))};exports.SnapshotState=SnapshotState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabFailures=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabFailures=function TabFailures(_ref){var indexFailures=_ref.indexFailures,snapshotState=_ref.snapshotState;if(!indexFailures.length){if(snapshotState===_constants.SNAPSHOT_STATE.IN_PROGRESS){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.snapshotIsBeingCreatedMessage",defaultMessage:"Snapshot is being created."})}else{return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.noIndexFailuresMessage",defaultMessage:"All indices were stored successfully."})}}return indexFailures.map((function(indexObject,count){var index=indexObject.index,failures=indexObject.failures;return _react.default.createElement("div",{key:index,"data-test-subj":"indexFailure"},_react.default.createElement(_eui.EuiTitle,{size:"xs","data-test-subj":"index"},_react.default.createElement("h3",null,index)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),failures.map((function(failure,failuresCount){var status=failure.status,reason=failure.reason,shardId=failure.shard_id;return _react.default.createElement("div",{key:"".concat(shardId).concat(reason),"data-test-subj":"failure"},_react.default.createElement(_eui.EuiText,{size:"xs","data-test-subj":"shard"},_react.default.createElement("p",null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotDetails.failureShardTitle",defaultMessage:"Shard {shardId}",values:{shardId:shardId}})))),_react.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s","data-test-subj":"reason",language:"text"},"".concat(status,": ").concat(reason)),failuresCount<failures.length-1?_react.default.createElement(_eui.EuiSpacer,{size:"s"}):undefined)})),count<indexFailures.length-1?_react.default.createElement(_eui.EuiSpacer,{size:"l"}):undefined)}))};exports.TabFailures=TabFailures},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SnapshotTable",{enumerable:true,get:function get(){return _snapshot_table.SnapshotTable}});var _snapshot_table=__webpack_require__(144)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SnapshotTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _navigation=__webpack_require__(51);var _components=__webpack_require__(50);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var getLastSuccessfulManagedSnapshot=function getLastSuccessfulManagedSnapshot(snapshots){var successfulSnapshots=snapshots.filter((function(_ref){var state=_ref.state,repository=_ref.repository,managedRepository=_ref.managedRepository;return repository===managedRepository&&state==="SUCCESS"})).sort((function(a,b){return+new Date(b.endTime)-+new Date(a.endTime)}));return successfulSnapshots[0]};var SnapshotTable=function SnapshotTable(_ref2){var snapshots=_ref2.snapshots,repositories=_ref2.repositories,reload=_ref2.reload,openSnapshotDetailsUrl=_ref2.openSnapshotDetailsUrl,onSnapshotDeleted=_ref2.onSnapshotDeleted,repositoryFilter=_ref2.repositoryFilter,policyFilter=_ref2.policyFilter;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selectedItems=_useState2[0],setSelectedItems=_useState2[1];var lastSuccessfulManagedSnapshot=getLastSuccessfulManagedSnapshot(snapshots);var columns=[{field:"snapshot",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.snapshotColumnTitle",{defaultMessage:"Snapshot"}),truncateText:true,sortable:true,render:function render(snapshotId,snapshot){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return uiMetricService.trackUiMetric(_constants.UIM_SNAPSHOT_SHOW_DETAILS_CLICK)},href:openSnapshotDetailsUrl(snapshot.repository,snapshotId),"data-test-subj":"snapshotLink"},snapshotId)}},{field:"repository",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.repositoryColumnTitle",{defaultMessage:"Repository"}),truncateText:true,sortable:true,render:function render(repositoryName){return _react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToRepository)(repositoryName),"data-test-subj":"repositoryLink"},repositoryName)}},{field:"indices",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:true,sortable:true,width:"100px",render:function render(indices){return indices.length}},{field:"shards.total",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.shardsColumnTitle",{defaultMessage:"Shards"}),truncateText:true,sortable:true,width:"100px",render:function render(totalShards){return totalShards}},{field:"shards.failed",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.failedShardsColumnTitle",{defaultMessage:"Failed shards"}),truncateText:true,sortable:true,width:"100px",render:function render(failedShards){return failedShards}},{field:"startTimeInMillis",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.startTimeColumnTitle",{defaultMessage:"Date created"}),truncateText:true,sortable:true,render:function render(startTimeInMillis){return _react.default.createElement(_components.DataPlaceholder,{data:startTimeInMillis},_react.default.createElement(_components.FormattedDateTime,{epochMs:startTimeInMillis}))}},{field:"durationInMillis",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.durationColumnTitle",{defaultMessage:"Duration"}),truncateText:true,sortable:true,width:"100px",render:function render(durationInMillis,_ref3){var state=_ref3.state;if(state===_constants.SNAPSHOT_STATE.IN_PROGRESS){return _react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}return _react.default.createElement(_components.DataPlaceholder,{data:durationInMillis},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.table.durationColumnValueLabel",defaultMessage:"{seconds}s",values:{seconds:Math.ceil(durationInMillis/1e3)}}))}},{name:i18n.translate("xpack.snapshotRestore.snapshotList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{render:function render(_ref4){var snapshot=_ref4.snapshot,repository=_ref4.repository,state=_ref4.state;var canRestore=state===_constants.SNAPSHOT_STATE.SUCCESS||state===_constants.SNAPSHOT_STATE.PARTIAL;var label=canRestore?i18n.translate("xpack.snapshotRestore.snapshotList.table.actionRestoreTooltip",{defaultMessage:"Restore"}):state===_constants.SNAPSHOT_STATE.IN_PROGRESS?i18n.translate("xpack.snapshotRestore.snapshotList.table.actionRestoreDisabledInProgressTooltip",{defaultMessage:"Can't restore in-progress snapshot"}):i18n.translate("xpack.snapshotRestore.snapshotList.table.actionRestoreDisabledInvalidTooltip",{defaultMessage:"Can't restore invalid snapshot"});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.snapshotList.table.actionRestoreAriaLabel",{defaultMessage:"Store snapshot `{name}`",values:{name:snapshot}}),iconType:"importAction",color:"primary","data-test-subj":"srsnapshotListRestoreActionButton",href:(0,_navigation.linkToRestoreSnapshot)(repository,snapshot),isDisabled:!canRestore}))}},{render:function render(_ref5){var snapshot=_ref5.snapshot,repository=_ref5.repository;return _react.default.createElement(_components.SnapshotDeleteProvider,null,(function(deleteSnapshotPrompt){var isDeleteDisabled=Boolean(lastSuccessfulManagedSnapshot)?snapshot===lastSuccessfulManagedSnapshot.snapshot:false;var label=isDeleteDisabled?i18n.translate("xpack.snapshotRestore.snapshotList.table.deleteManagedRepositorySnapshotTooltip",{defaultMessage:"You must store the last successful snapshot in a managed repository."}):i18n.translate("xpack.snapshotRestore.snapshotList.table.actionDeleteTooltip",{defaultMessage:"Delete"});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.snapshotList.table.actionDeleteAriaLabel",{defaultMessage:"Delete snapshot '{name}'",values:{name:snapshot}}),iconType:"trash",color:"danger","data-test-subj":"srsnapshotListDeleteActionButton",onClick:function onClick(){return deleteSnapshotPrompt([{snapshot:snapshot,repository:repository}],onSnapshotDeleted)},isDisabled:isDeleteDisabled}))}))}}],width:"100px"}];var sorting={sort:{field:"startTimeInMillis",direction:"desc"}};var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var searchSchema={fields:{repository:{type:"string"},policyName:{type:"string"}}};var selection={onSelectionChange:function onSelectionChange(newSelectedItems){return setSelectedItems(newSelectedItems)},selectable:function selectable(_ref6){var snapshot=_ref6.snapshot;return Boolean(lastSuccessfulManagedSnapshot)?snapshot!==lastSuccessfulManagedSnapshot.snapshot:true},selectableMessage:function selectableMessage(selectable){if(!selectable){return i18n.translate("xpack.snapshotRestore.snapshotList.table.deleteManagedRepositorySnapshotDescription",{defaultMessage:"You must retain the last successful snapshot in a managed repository."})}return""}};var search={toolsLeft:selectedItems.length?_react.default.createElement(_components.SnapshotDeleteProvider,null,(function(deleteSnapshotPrompt){return _react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return deleteSnapshotPrompt(selectedItems.map((function(_ref7){var snapshot=_ref7.snapshot,repository=_ref7.repository;return{snapshot:snapshot,repository:repository}})),onSnapshotDeleted)},color:"danger","data-test-subj":"srSnapshotListBulkDeleteActionButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.table.deleteSnapshotButton",defaultMessage:"Delete {count, plural, one {snapshot} other {snapshots}}",values:{count:selectedItems.length}}))})):undefined,toolsRight:_react.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.snapshotList.table.reloadSnapshotsButton",defaultMessage:"Reload"})),box:{incremental:true,schema:searchSchema},filters:[{type:"field_value_selection",field:"repository",name:i18n.translate("xpack.snapshotRestore.snapshotList.table.repositoryFilterLabel",{defaultMessage:"Repository"}),multiSelect:false,options:repositories.map((function(repository){return{value:repository,view:repository}}))}],defaultQuery:policyFilter?_eui.Query.parse('policyName="'.concat(policyFilter,'"'),{schema:_objectSpread({},searchSchema,{strict:true})}):repositoryFilter?_eui.Query.parse('repository="'.concat(repositoryFilter,'"'),{schema:_objectSpread({},searchSchema,{strict:true})}):""};return _react.default.createElement(_eui.EuiInMemoryTable,{items:snapshots,itemId:"uuid",columns:columns,search:search,sorting:sorting,isSelectable:true,selection:selection,pagination:pagination,rowProps:function rowProps(){return{"data-test-subj":"row"}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},"data-test-subj":"snapshotTable"})};exports.SnapshotTable=SnapshotTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RestoreList",{enumerable:true,get:function get(){return _restore_list.RestoreList}});var _restore_list=__webpack_require__(146)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreList=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _app_context=__webpack_require__(49);var _restore_table=__webpack_require__(147);var _authorization=__webpack_require__(53);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var ONE_SECOND_MS=1e3;var TEN_SECONDS_MS=10*1e3;var THIRTY_SECONDS_MS=30*1e3;var ONE_MINUTE_MS=60*1e3;var FIVE_MINUTES_MS=5*60*1e3;var INTERVAL_OPTIONS=[TEN_SECONDS_MS,THIRTY_SECONDS_MS,ONE_MINUTE_MS,FIVE_MINUTES_MS];var RestoreList=function RestoreList(){var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isIntervalMenuOpen=_useState2[0],setIsIntervalMenuOpen=_useState2[1];var _useState3=(0,_react.useState)(INTERVAL_OPTIONS[1]),_useState4=_slicedToArray(_useState3,2),currentInterval=_useState4[0],setCurrentInterval=_useState4[1];var _useLoadRestores=(0,_http.useLoadRestores)(currentInterval),error=_useLoadRestores.error,isLoading=_useLoadRestores.isLoading,_useLoadRestores$data=_useLoadRestores.data,restores=_useLoadRestores$data===void 0?[]:_useLoadRestores$data,isInitialRequest=_useLoadRestores.isInitialRequest,sendRequest=_useLoadRestores.sendRequest;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;(0,_react.useEffect)((function(){uiMetricService.trackUiMetric(_constants2.UIM_RESTORE_LIST_LOAD)}),[uiMetricService]);var content;if(isInitialRequest){if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.loadingRestoresDescription",defaultMessage:"Loading restores…"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.loadingRestoresErrorMessage",defaultMessage:"Error loading restores"}),error:error})}}else{if(restores&&restores.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.emptyPromptTitle",defaultMessage:"No restored snapshots"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.emptyPromptDescription",defaultMessage:"Go to {snapshotsLink} to start a restore.",values:{snapshotsLink:_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToSnapshots)()},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.emptyPromptDescriptionLink",defaultMessage:"Snapshots"}))}}))),"data-test-subj":"emptyPrompt"})}else{content=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"srRestoreListIntervalMenu",button:_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",iconType:"arrowDown",iconSide:"right",onClick:function onClick(){return setIsIntervalMenuOpen(!isIntervalMenuOpen)}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.intervalMenuButtonText",defaultMessage:"Refresh data every {interval}",values:{interval:currentInterval>=ONE_MINUTE_MS?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.intervalMenu.minutesIntervalValue",defaultMessage:"{minutes} {minutes, plural, one {minute} other {minutes}}",values:{minutes:Math.ceil(currentInterval/ONE_MINUTE_MS)}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.intervalMenu.secondsIntervalValue",defaultMessage:"{seconds} {seconds, plural, one {second} other {seconds}}",values:{seconds:Math.ceil(currentInterval/ONE_SECOND_MS)}})}})),isOpen:isIntervalMenuOpen,closePopover:function closePopover(){return setIsIntervalMenuOpen(false)},panelPaddingSize:"none",anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:INTERVAL_OPTIONS.map((function(interval){return _react.default.createElement(_eui.EuiContextMenuItem,{key:interval,icon:"empty",onClick:function onClick(){sendRequest();setCurrentInterval(interval);setIsIntervalMenuOpen(false)}},interval>=ONE_MINUTE_MS?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.intervalMenu.minutesIntervalValue",defaultMessage:"{minutes} {minutes, plural, one {minute} other {minutes}}",values:{minutes:Math.ceil(interval/ONE_MINUTE_MS)}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.intervalMenu.secondsIntervalValue",defaultMessage:"{seconds} {seconds, plural, one {second} other {seconds}}",values:{seconds:Math.ceil(interval/ONE_SECOND_MS)}}))}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):null)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_restore_table.RestoreTable,{restores:restores}))}}return _react.default.createElement(_authorization.WithPrivileges,{privileges:_constants.APP_RESTORE_INDEX_PRIVILEGES.map((function(name){return"index.".concat(name)}))},(function(_ref){var hasPrivileges=_ref.hasPrivileges,privilegesMissing=_ref.privilegesMissing;return hasPrivileges?_react.default.createElement("section",{"data-test-subj":"restoreList"},content):_react.default.createElement(_authorization.NotAuthorizedSection,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.deniedPrivilegeTitle",defaultMessage:"You're missing index privileges"}),message:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.deniedPrivilegeDescription",defaultMessage:"To view snapshot restore status, you must have {privilegesCount, plural, one {this index privilege} other {these index privileges}} for one or more indices: {missingPrivileges}.",values:{missingPrivileges:privilegesMissing.index.join(", "),privilegesCount:privilegesMissing.index.length}})})}))};exports.RestoreList=RestoreList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RestoreTable",{enumerable:true,get:function get(){return _restore_table.RestoreTable}});var _restore_table=__webpack_require__(148)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _lodash=__webpack_require__(14);var _eui=__webpack_require__(2);var _services=__webpack_require__(48);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _components=__webpack_require__(50);var _shards_table=__webpack_require__(149);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreTable=_react.default.memo((function(_ref){var restores=_ref.restores;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useState=(0,_react.useState)({page:{},sort:{}}),_useState2=_slicedToArray(_useState,2),tableState=_useState2[0],setTableState=_useState2[1];var _useState3=(0,_react.useState)({}),_useState4=_slicedToArray(_useState3,2),expandedIndices=_useState4[0],setExpandedIndices=_useState4[1];var getPagination=function getPagination(){var _tableState$page=tableState.page,pageIndex=_tableState$page.index,pageSize=_tableState$page.size;return{pageIndex:pageIndex!==null&&pageIndex!==void 0?pageIndex:0,pageSize:pageSize!==null&&pageSize!==void 0?pageSize:20,totalItemCount:restores.length,pageSizeOptions:[10,20,50]}};var getSorting=function getSorting(){var _tableState$sort=tableState.sort,sortField=_tableState$sort.field,sortDirection=_tableState$sort.direction;return{sort:{field:sortField!==null&&sortField!==void 0?sortField:"isComplete",direction:sortDirection!==null&&sortDirection!==void 0?sortDirection:"asc"}}};var getRestores=function getRestores(){var newRestoresList=_toConsumableArray(restores);var _getSorting=getSorting(),_getSorting$sort=_getSorting.sort,field=_getSorting$sort.field,direction=_getSorting$sort.direction;var _getPagination=getPagination(),pageIndex=_getPagination.pageIndex,pageSize=_getPagination.pageSize;var sortedRestores=(0,_lodash.sortByOrder)(newRestoresList,[field],[direction]);return sortedRestores.slice(pageIndex*pageSize,(pageIndex+1)*pageSize)};var onTableChange=function onTableChange(_ref2){var _ref2$page=_ref2.page,page=_ref2$page===void 0?{}:_ref2$page,_ref2$sort=_ref2.sort,sort=_ref2$sort===void 0?{}:_ref2$sort;setTableState({page:page,sort:sort})};var toggleIndexRestoreDetails=function toggleIndexRestoreDetails(restore){var index=restore.index;var isExpanded=Boolean(itemIdToExpandedRowMap[index])?false:true;if(isExpanded===true){uiMetricService.trackUiMetric(_constants.UIM_RESTORE_LIST_EXPAND_INDEX)}setExpandedIndices(_objectSpread({},itemIdToExpandedRowMap,_defineProperty({},index,isExpanded)))};var itemIdToExpandedRowMap=(0,_react.useMemo)((function(){return restores.reduce((function(acc,restore){var index=restore.index,shards=restore.shards;if(expandedIndices[index]){acc[index]=_react.default.createElement(_shards_table.ShardsTable,{shards:shards})}return acc}),{})}),[expandedIndices,restores]);var columns=[{field:"index",name:i18n.translate("xpack.snapshotRestore.restoreList.table.indexColumnTitle",{defaultMessage:"Index"}),truncateText:true,sortable:true},{field:"isComplete",name:i18n.translate("xpack.snapshotRestore.restoreList.table.statusColumnTitle",{defaultMessage:"Status"}),truncateText:true,sortable:true,render:function render(isComplete){return isComplete?_react.default.createElement(_eui.EuiHealth,{color:"success"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.table.statusColumn.completeLabel",defaultMessage:"Complete"})):_react.default.createElement(_eui.EuiHealth,{color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.table.statusColumn.inProgressLabel",defaultMessage:"In progress"}))}},{field:"latestActivityTimeInMillis",name:i18n.translate("xpack.snapshotRestore.restoreList.table.lastActivityTitle",{defaultMessage:"Last activity"}),truncateText:true,render:function render(latestActivityTimeInMillis,_ref3){var isComplete=_ref3.isComplete;return isComplete?_react.default.createElement(_components.FormattedDateTime,{epochMs:latestActivityTimeInMillis}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.table.lastActivityColumn.nowLabel",defaultMessage:"now"})}},{field:"shards",name:i18n.translate("xpack.snapshotRestore.restoreList.table.shardsCompletedTitle",{defaultMessage:"Shards completed"}),truncateText:true,render:function render(shards){return shards.filter((function(shard){return Boolean(shard.stopTimeInMillis)})).length}},{field:"shards",name:i18n.translate("xpack.snapshotRestore.restoreList.table.shardsInProgressTitle",{defaultMessage:"Shards in progress"}),truncateText:true,render:function render(shards){return shards.filter((function(shard){return!Boolean(shard.stopTimeInMillis)})).length}},{align:_services.RIGHT_ALIGNMENT,width:"40px",isExpander:true,render:function render(item){return _react.default.createElement(_eui.EuiButtonIcon,{onClick:function onClick(){return toggleIndexRestoreDetails(item)},"aria-label":itemIdToExpandedRowMap[item.index]?"Collapse":"Expand",iconType:itemIdToExpandedRowMap[item.index]?"arrowUp":"arrowDown"})}}];return _react.default.createElement(_eui.EuiBasicTable,{items:getRestores(),itemId:"index",itemIdToExpandedRowMap:itemIdToExpandedRowMap,isExpandable:true,columns:columns,sorting:getSorting(),pagination:getPagination(),onChange:onTableChange,rowProps:function rowProps(restore){return{"data-test-subj":"row",onClick:function onClick(){return toggleIndexRestoreDetails(restore)}}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},"data-test-subj":"restoresTable"})}));exports.RestoreTable=RestoreTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardsTable=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _components=__webpack_require__(50);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShardsTable=function ShardsTable(_ref){var shards=_ref.shards;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var Progress=function Progress(_ref2){var total=_ref2.total,restored=_ref2.restored,percent=_ref2.percent;return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.progressTooltipLabel",{defaultMessage:"{restored} of {total} restored",values:{restored:restored,total:total}})},_react.default.createElement(_eui.EuiText,{size:"xs",textAlign:"center",style:{width:"100%"}},_react.default.createElement(_eui.EuiProgress,{value:total===0?1:restored,max:total===0?1:total,size:"xs"}),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),percent))};var columns=[{field:"id",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.indexColumnTitle",{defaultMessage:"ID"}),width:"40px",render:function render(id,shard){return shard.primary?_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"xs"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},id),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"right",content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.shardTable.primaryTooltipLabel",defaultMessage:"Primary"})},_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.shardTable.primaryAbbreviationText",defaultMessage:"P",description:"Used as an abbreviation for 'Primary', as in 'Primary shard'"}))))):id}},{field:"stage",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.stageColumnTitle",{defaultMessage:"Stage"})},{field:"startTimeInMillis",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.startTimeColumnTitle",{defaultMessage:"Start time"}),render:function render(startTimeInMillis){return startTimeInMillis?_react.default.createElement(_components.FormattedDateTime,{epochMs:startTimeInMillis}):_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}},{field:"stopTimeInMillis",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.endTimeColumnTitle",{defaultMessage:"End time"}),render:function render(stopTimeInMillis){return stopTimeInMillis?_react.default.createElement(_components.FormattedDateTime,{epochMs:stopTimeInMillis}):_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}},{field:"totalTimeInMillis",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.durationColumnTitle",{defaultMessage:"Duration"}),render:function render(totalTimeInMillis){return totalTimeInMillis?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreList.shardTable.durationValue",defaultMessage:"{seconds} {seconds, plural, one {second} other {seconds}}",values:{seconds:Math.ceil(totalTimeInMillis/1e3)}}):_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}},{field:"repository",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.repositoryColumnTitle",{defaultMessage:"Repository"})},{field:"snapshot",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.snapshotColumnTitle",{defaultMessage:"Snapshot"})},{field:"version",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.versionColumnTitle",{defaultMessage:"Version"})},{field:"targetHost",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.targetHostColumnTitle",{defaultMessage:"Target host"})},{field:"targetNode",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.targetNodeColumnTitle",{defaultMessage:"Target node"})},{field:"bytesTotal",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.bytesColumnTitle",{defaultMessage:"Bytes"}),render:function render(bytesTotal,_ref3){var bytesRecovered=_ref3.bytesRecovered,bytesPercent=_ref3.bytesPercent;return _react.default.createElement(Progress,{total:bytesTotal,restored:bytesRecovered,percent:bytesPercent})}},{field:"filesTotal",name:i18n.translate("xpack.snapshotRestore.restoreList.shardTable.filesColumnTitle",{defaultMessage:"Files"}),render:function render(filesTotal,_ref4){var filesRecovered=_ref4.filesRecovered,filesPercent=_ref4.filesPercent;return _react.default.createElement(Progress,{total:filesTotal,restored:filesRecovered,percent:filesPercent})}}];return _react.default.createElement(_eui.EuiBasicTable,{className:"snapshotRestore__shardsTable",compressed:true,items:shards,columns:columns})};exports.ShardsTable=ShardsTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyList",{enumerable:true,get:function get(){return _policy_list.PolicyList}});var _policy_list=__webpack_require__(151)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyList=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _authorization=__webpack_require__(53);var _app_context=__webpack_require__(49);var _policy_details=__webpack_require__(152);var _policy_table=__webpack_require__(157);var _policy_retention_schedule=__webpack_require__(159);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var PolicyList=function PolicyList(_ref){var policyName=_ref.match.params.policyName,history=_ref.history;var _useLoadPolicies=(0,_http.useLoadPolicies)(),error=_useLoadPolicies.error,isLoading=_useLoadPolicies.isLoading,_useLoadPolicies$data=_useLoadPolicies.data;_useLoadPolicies$data=_useLoadPolicies$data===void 0?{policies:undefined}:_useLoadPolicies$data;var policies=_useLoadPolicies$data.policies,reload=_useLoadPolicies.sendRequest;var _useServices=(0,_app_context.useServices)(),uiMetricService=_useServices.uiMetricService;var _useLoadRetentionSett=(0,_http.useLoadRetentionSettings)(),isLoadingRetentionSettings=_useLoadRetentionSett.isLoading,retentionSettingsError=_useLoadRetentionSett.error,retentionSettings=_useLoadRetentionSett.data,reloadRetentionSettings=_useLoadRetentionSett.sendRequest;var openPolicyDetailsUrl=function openPolicyDetailsUrl(newPolicyName){return(0,_navigation.linkToPolicy)(newPolicyName)};var closePolicyDetails=function closePolicyDetails(){history.push("".concat(_constants2.BASE_PATH,"/policies"))};var onPolicyDeleted=function onPolicyDeleted(policiesDeleted){if(policyName&&policiesDeleted.includes(policyName)){closePolicyDetails()}if(policiesDeleted.length){reload()}};var onPolicyExecuted=function onPolicyExecuted(){reload()};(0,_react.useEffect)((function(){uiMetricService.trackUiMetric(_constants2.UIM_POLICY_LIST_LOAD)}),[uiMetricService]);var content;if(isLoading){content=_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.loadingPoliciesDescription",defaultMessage:"Loading policies…"}))}else if(error){content=_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.LoadingPoliciesErrorMessage",defaultMessage:"Error loading policies"}),error:error})}else if(policies&&policies.length===0){content=_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.emptyPromptTitle",defaultMessage:"Create your first snapshot policy"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.emptyPromptDescription",defaultMessage:"A policy automates the creation and deletion of snapshots."}))),actions:_react.default.createElement(_eui.EuiButton,{href:(0,_navigation.linkToAddPolicy)(),fill:true,iconType:"plusInCircle","data-test-subj":"createPolicyButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.createPolicyButton",defaultMessage:"Create a policy"})),"data-test-subj":"emptyPrompt"})}else{var policySchedules=policies.map((function(policy){return policy.schedule}));var hasDuplicateSchedules=policySchedules.length>new Set(policySchedules).size;var hasRetention=Boolean(policies.find((function(policy){return policy.retention})));content=_react.default.createElement(_react.Fragment,null,hasDuplicateSchedules?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyScheduleWarningTitle",defaultMessage:"Two or more policies have the same schedule"}),color:"warning",iconType:"alert"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyScheduleWarningDescription",defaultMessage:"Only one snapshot can be taken at a time. To avoid snapshot failures, edit or delete the policies."})),_react.default.createElement(_eui.EuiSpacer,null)):null,hasRetention?_react.default.createElement(_policy_retention_schedule.PolicyRetentionSchedule,{retentionSettings:retentionSettings,onRetentionScheduleUpdated:reloadRetentionSettings,isLoading:isLoadingRetentionSettings,error:retentionSettingsError}):null,_react.default.createElement(_policy_table.PolicyTable,{policies:policies||[],reload:reload,openPolicyDetailsUrl:openPolicyDetailsUrl,onPolicyDeleted:onPolicyDeleted,onPolicyExecuted:onPolicyExecuted}))}return _react.default.createElement(_authorization.WithPrivileges,{privileges:_constants.APP_SLM_CLUSTER_PRIVILEGES.map((function(name){return"cluster.".concat(name)}))},(function(_ref2){var hasPrivileges=_ref2.hasPrivileges,privilegesMissing=_ref2.privilegesMissing;return hasPrivileges?_react.default.createElement("section",{"data-test-subj":"policyList"},policyName?_react.default.createElement(_policy_details.PolicyDetails,{policyName:policyName,onClose:closePolicyDetails,onPolicyDeleted:onPolicyDeleted,onPolicyExecuted:onPolicyExecuted}):null,content):_react.default.createElement(_authorization.NotAuthorizedSection,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.deniedPrivilegeTitle",defaultMessage:"You're missing cluster privileges"}),message:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.deniedPrivilegeDescription",defaultMessage:"To manage Snapshot Lifecycle Policies, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:privilegesMissing.cluster.join(", "),privilegesCount:privilegesMissing.cluster.length}})})}))};exports.PolicyList=PolicyList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyDetails",{enumerable:true,get:function get(){return _policy_details.PolicyDetails}});var _policy_details=__webpack_require__(153)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyDetails=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _constants=__webpack_require__(6);var _http=__webpack_require__(8);var _navigation=__webpack_require__(51);var _components=__webpack_require__(50);var _tabs=__webpack_require__(154);var _tabToUiMetricMap;function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TAB_SUMMARY="summary";var TAB_HISTORY="success";var tabToUiMetricMap=(_tabToUiMetricMap={},_defineProperty(_tabToUiMetricMap,TAB_SUMMARY,_constants.UIM_POLICY_DETAIL_PANEL_SUMMARY_TAB),_defineProperty(_tabToUiMetricMap,TAB_HISTORY,_constants.UIM_POLICY_DETAIL_PANEL_HISTORY_TAB),_tabToUiMetricMap);var PolicyDetails=function PolicyDetails(_ref){var policyName=_ref.policyName,onClose=_ref.onClose,onPolicyDeleted=_ref.onPolicyDeleted,onPolicyExecuted=_ref.onPolicyExecuted;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useLoadPolicy=(0,_http.useLoadPolicy)(policyName),error=_useLoadPolicy.error,policyDetails=_useLoadPolicy.data,reload=_useLoadPolicy.sendRequest;var _useState=(0,_react.useState)(TAB_SUMMARY),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isPopoverOpen=_useState4[0],setIsPopoverOpen=_useState4[1];(0,_react.useEffect)((function(){setActiveTab(TAB_SUMMARY)}),[policyName]);var tabOptions=[{id:TAB_SUMMARY,name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.summaryTabTitle",defaultMessage:"Summary"})},{id:TAB_HISTORY,name:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.historyTabTitle",defaultMessage:"History"})}];var renderTabs=function renderTabs(){return _react.default.createElement(_eui.EuiTabs,null,tabOptions.map((function(tab){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){uiMetricService.trackUiMetric(tabToUiMetricMap[tab.id]);setActiveTab(tab.id)},isSelected:tab.id===activeTab,key:tab.id,"data-test-subj":"tab"},tab.name)})))};var renderBody=function renderBody(){if(policyDetails){var policy=policyDetails.policy;switch(activeTab){case TAB_HISTORY:return _react.default.createElement(_tabs.TabHistory,{policy:policy});default:return _react.default.createElement(_tabs.TabSummary,{policy:policy})}}if(error){return renderError()}return renderLoading()};var renderLoading=function renderLoading(){return _react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.loadingPolicyDescription",defaultMessage:"Loading policy…"}))};var renderError=function renderError(){var notFound=error.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.policyDetails.policyNotFoundErrorMessage",{defaultMessage:"The policy '{name}' does not exist.",values:{name:policyName}})}}:error;return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.loadingPolicyErrorTitle",defaultMessage:"Error loading policy"}),error:errorObject})};var renderFooter=function renderFooter(){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:onClose,"data-test-subj":"srPolicyDetailsFlyoutCloseButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.closeButtonLabel",defaultMessage:"Close"}))),policyDetails?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.PolicyExecuteProvider,null,(function(executePolicyPrompt){return _react.default.createElement(_components.PolicyDeleteProvider,null,(function(deletePolicyPrompt){return _react.default.createElement(_eui.EuiPopover,{id:"policyActionMenu",button:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"policyActionMenuButton",iconSide:"right",onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)},iconType:"arrowDown",fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.manageButtonLabel",defaultMessage:"Manage policy"})),isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},panelPaddingSize:"none",withTitle:true,anchorPosition:"rightUp",repositionOnScroll:true},_react.default.createElement(_eui.EuiContextMenu,{"data-test-subj":"policyActionContextMenu",initialPanelId:0,panels:[{id:0,title:i18n.translate("xpack.snapshotRestore.policyDetails.managePanelTitle",{defaultMessage:"Policy options"}),items:[{name:i18n.translate("xpack.snapshotRestore.policyDetails.executeButtonLabel",{defaultMessage:"Run now"}),icon:"play",onClick:function onClick(){executePolicyPrompt(policyName,(function(){return setTimeout((function(){onPolicyExecuted();reload()}),2e3)}))},disabled:Boolean(policyDetails.policy.inProgress)},{name:i18n.translate("xpack.snapshotRestore.policyDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",href:(0,_navigation.linkToEditPolicy)(policyName)},{name:i18n.translate("xpack.snapshotRestore.policyDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",disabled:policyDetails.policy.isManagedPolicy,onClick:function onClick(){return deletePolicyPrompt([policyName],onPolicyDeleted)}}]}]}))}))}))):null)};return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"policyDetail","aria-labelledby":"srPolicyDetailsFlyoutTitle",size:"m",maxWidth:550},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",{id:"srPolicyDetailsFlyoutTitle","data-test-subj":"title"},policyName," ",_react.default.createElement(_eui.EuiButtonIcon,{iconType:"refresh",color:"subdued","aria-label":i18n.translate("xpack.snapshotRestore.policyDetails.reloadButtonAriaLabel",{defaultMessage:"Reload"}),onClick:function onClick(){return reload()}}))),policyDetails&&policyDetails.policy&&policyDetails.policy.inProgress?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_components.SectionLoading,{inline:true,size:"s"},_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToSnapshot)(policyDetails.policy.repository,policyDetails.policy.inProgress.snapshotName),"data-test-subj":"inProgressSnapshotLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.inProgressSnapshotLinkText",defaultMessage:"'{snapshotName}' in progress",values:{snapshotName:policyDetails.policy.inProgress.snapshotName}})))):null,renderTabs()),_react.default.createElement(_eui.EuiFlyoutBody,{"data-test-subj":"content"},renderBody()),_react.default.createElement(_eui.EuiFlyoutFooter,null,renderFooter()))};exports.PolicyDetails=PolicyDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TabSummary",{enumerable:true,get:function get(){return _tab_summary.TabSummary}});Object.defineProperty(exports,"TabHistory",{enumerable:true,get:function get(){return _tab_history.TabHistory}});var _tab_summary=__webpack_require__(155);var _tab_history=__webpack_require__(156)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSummary=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _components=__webpack_require__(50);var _navigation=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var TabSummary=function TabSummary(_ref){var policy=_ref.policy;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var version=policy.version,name=policy.name,modifiedDateMillis=policy.modifiedDateMillis,snapshotName=policy.snapshotName,repository=policy.repository,schedule=policy.schedule,nextExecutionMillis=policy.nextExecutionMillis,config=policy.config,stats=policy.stats,retention=policy.retention,isManagedPolicy=policy.isManagedPolicy;var _ref2=config||{includeGlobalState:undefined,ignoreUnavailable:undefined,indices:undefined,partial:undefined},includeGlobalState=_ref2.includeGlobalState,ignoreUnavailable=_ref2.ignoreUnavailable,indices=_ref2.indices,partial=_ref2.partial;return _react.default.createElement(_react.Fragment,null,isManagedPolicy?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{size:"s",color:"warning",iconType:"iInCircle",title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.managedPolicyWarningTitle",defaultMessage:"This is a managed policy used by other systems. Any changes you make might affect how these systems operate."})}),_react.default.createElement(_eui.EuiSpacer,{size:"l"})):null,stats&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiStat,{title:stats.snapshotsTaken,description:i18n.translate("xpack.snapshotRestore.policyDetails.snapshotsTakenStat",{defaultMessage:"Snapshots"}),titleSize:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiStat,{title:stats.snapshotsFailed,description:i18n.translate("xpack.snapshotRestore.policyDetails.snapshotsFailedStat",{defaultMessage:"Failures"}),titleSize:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiStat,{title:stats.snapshotsDeleted,description:i18n.translate("xpack.snapshotRestore.policyDetails.snapshotsDeletedStat",{defaultMessage:"Deleted"}),titleSize:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiStat,{title:stats.snapshotDeletionFailures,description:i18n.translate("xpack.snapshotRestore.policyDetails.snapshotDeletionFailuresStat",{defaultMessage:"Deletion failures"}),titleSize:"s"})))),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.generalTitle",defaultMessage:"General"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"version"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.versionLabel",defaultMessage:"Version"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},version)),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"modified"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.modifiedDateLabel",defaultMessage:"Last modified"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.FormattedDateTime,{epochMs:modifiedDateMillis})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"name"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.snapshotNameLabel",defaultMessage:"Snapshot name"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToSnapshots)(undefined,name)},snapshotName))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"repository"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.repositoryLabel",defaultMessage:"Repository"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToRepository)(repository)},repository)))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"schedule"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.scheduleLabel",defaultMessage:"Schedule"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},schedule)),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"execution"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.nextExecutionLabel",defaultMessage:"Next snapshot"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.FormattedDateTime,{epochMs:nextExecutionMillis})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"indices"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.indicesLabel",defaultMessage:"Indices"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.CollapsibleIndicesList,{indices:indices}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"includeGlobalState"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.ignoreUnavailableLabel",defaultMessage:"Ignore unavailable indices"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},ignoreUnavailable?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.ignoreUnavailableTrueLabel",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.ignoreUnavailableFalseLabel",defaultMessage:"No"})))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"partial"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.partialLabel",defaultMessage:"Allow partial shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},partial?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.partialTrueLabel",defaultMessage:"Yes"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.partialFalseLabel",defaultMessage:"No"}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"includeGlobalState"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.includeGlobalStateLabel",defaultMessage:"Include global state"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},includeGlobalState===false?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.includeGlobalStateFalseLabel",defaultMessage:"No"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.includeGlobalStateTrueLabel",defaultMessage:"Yes"}))))),retention&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.retentionTitle",defaultMessage:"Retention"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},retention.expireAfterValue&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.expireAfterLabel",defaultMessage:"Delete after"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.expireAfterValue,retention.expireAfterUnit)),retention.minCount&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.minCountLabel",defaultMessage:"Min count"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.minCount)),retention.maxCount&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.maxCountLabel",defaultMessage:"Max count"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,retention.maxCount)))))};exports.TabSummary=TabSummary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabHistory=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _i18n=__webpack_require__(0);var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(50);var _navigation=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var TabHistory=function TabHistory(_ref){var policy=_ref.policy;var lastSuccess=policy.lastSuccess,lastFailure=policy.lastFailure,nextExecutionMillis=policy.nextExecutionMillis,name=policy.name,repository=policy.repository;var renderLastSuccess=function renderLastSuccess(){if(!lastSuccess){return null}var time=lastSuccess.time,snapshotName=lastSuccess.snapshotName;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastSuccessTitle",defaultMessage:"Last successful snapshot"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"successDate"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastSuccess.dateLabel",defaultMessage:"Date"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.FormattedDateTime,{epochMs:time}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"successSnapshot"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastSuccess.snapshotNameLabel",defaultMessage:"Snapshot name"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_eui.EuiLink,{href:(0,_navigation.linkToSnapshot)(repository,snapshotName)},snapshotName))))))};var renderLastFailure=function renderLastFailure(){if(!lastFailure){return null}var time=lastFailure.time,snapshotName=lastFailure.snapshotName,details=lastFailure.details;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastFailureTitle",defaultMessage:"Last snapshot failure"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"failureDate"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastFailure.dateLabel",defaultMessage:"Date"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_components.FormattedDateTime,{epochMs:time}))),_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"failureSnapshot"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastFailure.snapshotNameLabel",defaultMessage:"Snapshot name"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},snapshotName))),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{"data-test-subj":"failureDetails"},_react.default.createElement(_eui.EuiDescriptionListTitle,{"data-test-subj":"title"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.lastFailure.detailsLabel",defaultMessage:"Details"})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"value"},_react.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",isReadOnly:true,value:JSON.stringify(details,null,2),setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},minLines:6,maxLines:12,wrapEnabled:true,showGutter:false,"aria-label":_i18n.i18n.translate("xpack.snapshotRestore.policyDetails.lastFailure.detailsAriaLabel",{defaultMessage:"Last failure details for policy '{name}'",values:{name:name}})}))))))};return lastSuccess||lastFailure?_react.default.createElement(_react.Fragment,null,renderLastSuccess(),lastSuccess&&lastFailure?_react.default.createElement(_eui.EuiHorizontalRule,null):null,renderLastFailure()):_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyDetails.noHistoryMessage",defaultMessage:"This policy will run on {date} at {time}.",values:{date:_react.default.createElement(_components.FormattedDateTime,{epochMs:nextExecutionMillis,type:"date"}),time:_react.default.createElement(_components.FormattedDateTime,{epochMs:nextExecutionMillis,type:"time"})}})))};exports.TabHistory=TabHistory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyTable",{enumerable:true,get:function get(){return _policy_table.PolicyTable}});var _policy_table=__webpack_require__(158)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _components=__webpack_require__(50);var _navigation=__webpack_require__(51);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyTable=function PolicyTable(_ref){var policies=_ref.policies,reload=_ref.reload,openPolicyDetailsUrl=_ref.openPolicyDetailsUrl,onPolicyDeleted=_ref.onPolicyDeleted,onPolicyExecuted=_ref.onPolicyExecuted;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n,uiMetricService=_useServices.uiMetricService;var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),selectedItems=_useState2[0],setSelectedItems=_useState2[1];var columns=[{field:"name",name:i18n.translate("xpack.snapshotRestore.policyList.table.policyNameColumnTitle",{defaultMessage:"Policy"}),truncateText:true,sortable:true,render:function render(name,_ref2){var inProgress=_ref2.inProgress,isManagedPolicy=_ref2.isManagedPolicy;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return uiMetricService.trackUiMetric(_constants.UIM_POLICY_SHOW_DETAILS_CLICK)},href:openPolicyDetailsUrl(name),"data-test-subj":"policyLink"},name)," "),isManagedPolicy?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIconTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.table.managedPolicyBadgeLabel",defaultMessage:"This is a managed policy"}),position:"right"})):null,inProgress?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.translate("xpack.snapshotRestore.policyList.table.inProgressTooltip",{defaultMessage:"Snapshot in progress"})},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}))):null)}},{field:"snapshotName",name:i18n.translate("xpack.snapshotRestore.policyList.table.snapshotNameColumnTitle",{defaultMessage:"Snapshot name"}),sortable:true,render:function render(snapshotName,_ref3){var lastFailure=_ref3.lastFailure,lastSuccess=_ref3.lastSuccess;if(lastSuccess&&lastFailure&&lastFailure.time>lastSuccess.time){return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"snapshotRestorePolicyTableSnapshotFailureContainer"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:i18n.translate("xpack.snapshotRestore.policyList.table.lastSnapshotFailedTooltip",{defaultMessage:"Last snapshot failed"})},_react.default.createElement(_eui.EuiIcon,{type:"alert",color:"danger"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:1},_react.default.createElement(_eui.EuiText,{size:"s"},snapshotName)))}return snapshotName}},{field:"repository",name:i18n.translate("xpack.snapshotRestore.policyList.table.repositoryColumnTitle",{defaultMessage:"Repository"}),truncateText:true,sortable:true},{field:"schedule",name:i18n.translate("xpack.snapshotRestore.policyList.table.scheduleColumnTitle",{defaultMessage:"Schedule"}),truncateText:true,sortable:true},{field:"retention",name:i18n.translate("xpack.snapshotRestore.policyList.table.retentionColumnTitle",{defaultMessage:"Retention"}),render:function render(retention){return retention?_react.default.createElement(_eui.EuiIcon,{type:"check","aria-label":i18n.translate("xpack.snapshotRestore.policyList.table.retentionColumnAriaLabel",{defaultMessage:"Retention configured"})}):null}},{field:"nextExecutionMillis",name:i18n.translate("xpack.snapshotRestore.policyList.table.nextExecutionColumnTitle",{defaultMessage:"Next snapshot"}),truncateText:true,sortable:true,render:function render(nextExecutionMillis){return _react.default.createElement(_components.FormattedDateTime,{epochMs:nextExecutionMillis})}},{name:i18n.translate("xpack.snapshotRestore.policyList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{render:function render(_ref4){var name=_ref4.name,inProgress=_ref4.inProgress,isManagedPolicy=_ref4.isManagedPolicy;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.PolicyExecuteProvider,null,(function(executePolicyPrompt){return _react.default.createElement(_eui.EuiToolTip,{content:Boolean(inProgress)?i18n.translate("xpack.snapshotRestore.policyList.table.actionExecuteDisabledTooltip",{defaultMessage:"Policy is running"}):i18n.translate("xpack.snapshotRestore.policyList.table.actionExecuteTooltip",{defaultMessage:"Run now"})},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.policyList.table.actionExecuteAriaLabel",{defaultMessage:"Run '{name}' immediately",values:{name:name}}),iconType:"play",color:"primary","data-test-subj":"executePolicyButton",onClick:function onClick(){return executePolicyPrompt(name,onPolicyExecuted)},disabled:Boolean(inProgress)}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:i18n.translate("xpack.snapshotRestore.policyList.table.actionEditTooltip",{defaultMessage:"Edit"})},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.policyList.table.actionEditAriaLabel",{defaultMessage:"Edit policy '{name}'",values:{name:name}}),iconType:"pencil",color:"primary",href:(0,_navigation.linkToEditPolicy)(name),"data-test-subj":"editPolicyButton"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.PolicyDeleteProvider,null,(function(deletePolicyPrompt){var label=!isManagedPolicy?i18n.translate("xpack.snapshotRestore.policyList.table.actionDeleteTooltip",{defaultMessage:"Delete"}):i18n.translate("xpack.snapshotRestore.policyList.table.deleteManagedPolicyTableActionTooltip",{defaultMessage:"You cannot delete a managed policy."});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":i18n.translate("xpack.snapshotRestore.policyList.table.actionDeleteAriaLabel",{defaultMessage:"Delete policy '{name}'",values:{name:name}}),iconType:"trash",color:"danger","data-test-subj":"deletePolicyButton",onClick:function onClick(){return deletePolicyPrompt([name],onPolicyDeleted)},isDisabled:isManagedPolicy}))}))))}}],width:"100px"}];var sorting={sort:{field:"name",direction:"asc"}};var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var selection={onSelectionChange:function onSelectionChange(newSelectedItems){return setSelectedItems(newSelectedItems)},selectable:function selectable(_ref5){var isManagedPolicy=_ref5.isManagedPolicy;return!isManagedPolicy},selectableMessage:function selectableMessage(selectable){if(!selectable){return i18n.translate("xpack.snapshotRestore.policyList.table.deleteManagedPolicySelectTooltip",{defaultMessage:"You cannot delete a managed policy."})}return""}};var search={toolsLeft:selectedItems.length?_react.default.createElement(_components.PolicyDeleteProvider,null,(function(deletePolicyPrompt){return _react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return deletePolicyPrompt(selectedItems.map((function(_ref6){var name=_ref6.name;return name})),onPolicyDeleted)},color:"danger","data-test-subj":"srPolicyListBulkDeleteActionButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.table.deletePolicyButton",defaultMessage:"Delete {count, plural, one {policy} other {policies}}",values:{count:selectedItems.length}}))})):undefined,toolsRight:[_react.default.createElement(_eui.EuiButton,{key:"reloadPolicies",color:"secondary",iconType:"refresh",onClick:reload,"data-test-subj":"reloadButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.table.reloadPoliciesButton",defaultMessage:"Reload"})),_react.default.createElement(_eui.EuiButton,{key:"createNewPolicy",href:(0,_navigation.linkToAddPolicy)(),fill:true,iconType:"plusInCircle","data-test-subj":"createPolicyButton"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyList.table.addPolicyButton",defaultMessage:"Create a policy"}))],box:{incremental:true,schema:true},filters:[{type:"field_value_selection",field:"repository",name:i18n.translate("xpack.snapshotRestore.policyList.table.repositoryFilterLabel",{defaultMessage:"Repository"}),multiSelect:false,options:Object.keys(policies.reduce((function(repositoriesMap,policy){repositoriesMap[policy.repository]=true;return repositoriesMap}),{})).map((function(repository){return{value:repository,view:repository}}))}]};return _react.default.createElement(_eui.EuiInMemoryTable,{className:"snapshotRestore__policyTable",items:policies,itemId:"name",columns:columns,search:search,sorting:sorting,selection:selection,pagination:pagination,isSelectable:true,rowProps:function rowProps(){return{"data-test-subj":"row"}},cellProps:function cellProps(){return{"data-test-subj":"cell"}},"data-test-subj":"policyTable"})};exports.PolicyTable=PolicyTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyRetentionSchedule",{enumerable:true,get:function get(){return _policy_retention_schedule.PolicyRetentionSchedule}});var _policy_retention_schedule=__webpack_require__(160)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyRetentionSchedule=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _app_context=__webpack_require__(49);var _components=__webpack_require__(50);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyRetentionSchedule=function PolicyRetentionSchedule(_ref){var retentionSettings=_ref.retentionSettings,onRetentionScheduleUpdated=_ref.onRetentionScheduleUpdated,isLoading=_ref.isLoading,error=_ref.error;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var renderRetentionPanel=function renderRetentionPanel(cronSchedule){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.retentionScheduleDescription",defaultMessage:"The cron schedule for retaining snapshots is: {cronSchedule}.",values:{cronSchedule:_react.default.createElement("strong",null,cronSchedule)}})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.RetentionExecuteModalProvider,null,(function(executeRetentionPrompt){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.retentionScheduleExecuteLinkTooltip",defaultMessage:"Run retention now"})},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"play",onClick:function onClick(){return executeRetentionPrompt()},"aria-label":i18n.translate("xpack.snapshotRestore.policyRetentionSchedulePanel.retentionScheduleExecuteLinkAriaLabel",{defaultMessage:"Run retention now"})}))}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_components.RetentionSettingsUpdateModalProvider,null,(function(updateRetentionPrompt){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.retentionScheduleEditLinkTooltip",defaultMessage:"Edit retention schedule"})},_react.default.createElement(_eui.EuiButtonIcon,{iconType:"pencil",onClick:function onClick(){return updateRetentionPrompt(cronSchedule,onRetentionScheduleUpdated)},"aria-label":i18n.translate("xpack.snapshotRestore.policyRetentionSchedulePanel.retentionScheduleEditLinkAriaLabel",{defaultMessage:"Edit retention schedule"})}))}))))))),_react.default.createElement(_eui.EuiSpacer,null))};var renderRetentionNotConfiguredCallout=function renderRetentionNotConfiguredCallout(){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.noScheduleConfiguredWarningTitle",defaultMessage:"Retention not scheduled"}),color:"warning",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.noScheduleConfiguredWarningDescription",defaultMessage:"One or more policies have a retention period, but no retention is scheduled."})),_react.default.createElement(_components.RetentionExecuteModalProvider,null,(function(executeRetentionPrompt){return _react.default.createElement(_components.RetentionSettingsUpdateModalProvider,null,(function(updateRetentionSettingsPrompt){return _react.default.createElement(_eui.EuiPopover,{id:"retentionActionMenu",button:_react.default.createElement(_eui.EuiButton,{"data-test-subj":"retentionActionMenuButton",iconSide:"right",color:"warning",onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)},iconType:"arrowDown"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.manageRetentionButtonLabel",defaultMessage:"Manage retention"})),isOpen:isPopoverOpen,closePopover:function closePopover(){return setIsPopoverOpen(false)},panelPaddingSize:"none",withTitle:true,anchorPosition:"rightUp",repositionOnScroll:true},_react.default.createElement(_eui.EuiContextMenu,{"data-test-subj":"retentionActionContextMenu",initialPanelId:0,panels:[{id:0,title:i18n.translate("xpack.snapshotRestore.policyRetentionSchedulePanel.managePanelTitle",{defaultMessage:"Retention options"}),items:[{name:i18n.translate("xpack.snapshotRestore.policyRetentionSchedulePanel.executeButtonLabel",{defaultMessage:"Run now"}),icon:"play",onClick:function onClick(){return executeRetentionPrompt()}},{name:i18n.translate("xpack.snapshotRestore.policyRetentionSchedulePanel.addButtonLabel",{defaultMessage:"Schedule"}),icon:"plusInCircle",onClick:function onClick(){return updateRetentionSettingsPrompt(undefined,onRetentionScheduleUpdated)}}]}]}))}))}))),_react.default.createElement(_eui.EuiSpacer,null))};if(isLoading){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiLoadingContent,{lines:1})),_react.default.createElement(_eui.EuiSpacer,null))}if(error){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.errorFetchingRetentionScheduleTitle",defaultMessage:"Error fetching retention schedule"}),color:"danger",iconType:"alert"},error.data&&error.data.message?_react.default.createElement("p",null,error.data.message):null,_react.default.createElement(_eui.EuiButton,{iconType:"refresh",color:"danger",onClick:onRetentionScheduleUpdated},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.policyRetentionSchedulePanel.errorFetchingRetentionScheduleReloadButtonLabel",defaultMessage:"Reload"}))),_react.default.createElement(_eui.EuiSpacer,null))}if(retentionSettings&&retentionSettings.retentionSchedule){return renderRetentionPanel(retentionSettings.retentionSchedule)}return renderRetentionNotConfiguredCallout()};exports.PolicyRetentionSchedule=PolicyRetentionSchedule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryAdd",{enumerable:true,get:function get(){return _repository_add.RepositoryAdd}});var _repository_add=__webpack_require__(162)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryAdd=void 0;var _queryString=__webpack_require__(58);var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(50);var _constants=__webpack_require__(6);var _navigation=__webpack_require__(51);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryAdd=function RepositoryAdd(_ref){var history=_ref.history,search=_ref.location.search;var section="repositories";var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),saveError=_useState4[0],setSaveError=_useState4[1];(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs("repositoryAdd");_navigation.docTitleService.setTitle("repositoryAdd")}),[]);var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newRepository){var name,_ref3,error,_parse,redirect;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);name=newRepository.name;_context.next=5;return(0,_http.addRepository)(newRepository);case 5:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(error){setSaveError(error)}else{_parse=(0,_queryString.parse)(search.replace(/^\?/,""),{sort:false}),redirect=_parse.redirect;history.push(redirect?redirect:"".concat(_constants.BASE_PATH,"/").concat(section,"/").concat(name))}case 9:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var emptyRepository={name:"",type:null,settings:{}};var renderSaveError=function renderSaveError(){return saveError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addRepository.savingRepositoryErrorTitle",defaultMessage:"Cannot register new repository"}),error:saveError,"data-test-subj":"saveRepositoryApiError"}):null};var clearSaveError=function clearSaveError(){setSaveError(null)};return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addRepositoryTitle",defaultMessage:"Register repository"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_components.RepositoryForm,{repository:emptyRepository,isSaving:isSaving,saveError:renderSaveError(),clearSaveError:clearSaveError,onSave:onSave})))};exports.RepositoryAdd=RepositoryAdd},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RepositoryEdit",{enumerable:true,get:function get(){return _repository_edit.RepositoryEdit}});var _repository_edit=__webpack_require__(164)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RepositoryEdit=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(50);var _constants=__webpack_require__(6);var _app_context=__webpack_require__(49);var _navigation=__webpack_require__(51);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RepositoryEdit=function RepositoryEdit(_ref){var name=_ref.match.params.name,history=_ref.history;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;var section="repositories";(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs("repositoryEdit");_navigation.docTitleService.setTitle("repositoryEdit")}),[]);var _useState=(0,_react.useState)({name:"",type:null,settings:{}}),_useState2=_slicedToArray(_useState,2),repository=_useState2[0],setRepository=_useState2[1];var _useLoadRepository=(0,_http.useLoadRepository)(name),repositoryError=_useLoadRepository.error,loadingRepository=_useLoadRepository.isLoading,repositoryData=_useLoadRepository.data;(0,_react.useEffect)((function(){if(repositoryData&&repositoryData.repository){setRepository(repositoryData.repository)}}),[repositoryData]);var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isSaving=_useState4[0],setIsSaving=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),saveError=_useState6[0],setSaveError=_useState6[1];var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(editedRepository){var _ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);_context.next=4;return(0,_http.editRepository)(editedRepository);case 4:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(error){setSaveError(error)}else{history.push("".concat(_constants.BASE_PATH,"/").concat(section,"/").concat(name))}case 8:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var renderLoading=function renderLoading(){return _react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editRepository.loadingRepositoryDescription",defaultMessage:"Loading repository details…"}))};var renderError=function renderError(){var notFound=repositoryError.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.editRepository.repositoryNotFoundErrorMessage",{defaultMessage:"The repository '{name}' does not exist.",values:{name:name}})}}:repositoryError;return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editRepository.loadingRepositoryErrorTitle",defaultMessage:"Error loading repository details"}),error:errorObject})};var renderSaveError=function renderSaveError(){return saveError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editRepository.savingRepositoryErrorTitle",defaultMessage:"Cannot save repository"}),error:saveError}):null};var clearSaveError=function clearSaveError(){setSaveError(null)};var renderContent=function renderContent(){if(loadingRepository){return renderLoading()}if(repositoryError){return renderError()}var isManagedRepository=repositoryData.isManagedRepository;return _react.default.createElement(_react.Fragment,null,isManagedRepository?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{size:"m",color:"warning",iconType:"iInCircle",title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editRepository.managedRepositoryWarningTitle",defaultMessage:"This is a managed repository. Changing this repository might affect other systems that use it. Proceed with caution."})}),_react.default.createElement(_eui.EuiSpacer,{size:"l"})):null,_react.default.createElement(_components.RepositoryForm,{repository:repository,isManagedRepository:isManagedRepository,isEditing:true,isSaving:isSaving,saveError:renderSaveError(),clearSaveError:clearSaveError,onSave:onSave}))};return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editRepositoryTitle",defaultMessage:"Edit repository"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),renderContent()))};exports.RepositoryEdit=RepositoryEdit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"RestoreSnapshot",{enumerable:true,get:function get(){return _restore_snapshot.RestoreSnapshot}});var _restore_snapshot=__webpack_require__(166)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RestoreSnapshot=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(6);var _components=__webpack_require__(50);var _app_context=__webpack_require__(49);var _navigation=__webpack_require__(51);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var RestoreSnapshot=function RestoreSnapshot(_ref){var _ref$match$params=_ref.match.params,repositoryName=_ref$match$params.repositoryName,snapshotId=_ref$match$params.snapshotId,history=_ref.history;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs("restoreSnapshot");_navigation.docTitleService.setTitle("restoreSnapshot")}),[]);var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),snapshotDetails=_useState2[0],setSnapshotDetails=_useState2[1];var _useLoadSnapshot=(0,_http.useLoadSnapshot)(repositoryName,snapshotId),snapshotError=_useLoadSnapshot.error,loadingSnapshot=_useLoadSnapshot.isLoading,snapshotData=_useLoadSnapshot.data;(0,_react.useEffect)((function(){if(snapshotData){setSnapshotDetails(snapshotData)}}),[snapshotData]);var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isSaving=_useState4[0],setIsSaving=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),saveError=_useState6[0],setSaveError=_useState6[1];var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(restoreSettings){var _ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);_context.next=4;return(0,_http.executeRestore)(repositoryName,snapshotId,restoreSettings);case 4:_ref3=_context.sent;error=_ref3.error;if(error){setIsSaving(false);setSaveError(error)}else{setTimeout((function(){setIsSaving(false);history.push("".concat(_constants.BASE_PATH,"/restore_status"))}),5*1e3)}case 7:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var renderLoading=function renderLoading(){return _react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreSnapshot.loadingSnapshotDescription",defaultMessage:"Loading snapshot details…"}))};var renderError=function renderError(){var notFound=snapshotError.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.restoreSnapshot.snapshotNotFoundErrorMessage",{defaultMessage:"The snapshot '{snapshot}' does not exist in repository '{repository}'.",values:{snapshot:snapshotId,repository:repositoryName}})}}:snapshotError;return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreSnapshot.loadingSnapshotErrorTitle",defaultMessage:"Error loading snapshot details"}),error:errorObject})};var renderSaveError=function renderSaveError(){return saveError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreSnapshot.executeRestoreErrorTitle",defaultMessage:"Unable to restore snapshot"}),error:saveError}):null};var clearSaveError=function clearSaveError(){setSaveError(null)};var renderContent=function renderContent(){if(loadingSnapshot){return renderLoading()}if(snapshotError){return renderError()}return _react.default.createElement(_components.RestoreSnapshotForm,{snapshotDetails:snapshotDetails,isSaving:isSaving,saveError:renderSaveError(),clearSaveError:clearSaveError,onSave:onSave})};return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.restoreSnapshotTitle",defaultMessage:"Restore '{snapshot}'",values:{snapshot:snapshotId}}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),renderContent()))};exports.RestoreSnapshot=RestoreSnapshot},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyAdd",{enumerable:true,get:function get(){return _policy_add.PolicyAdd}});var _policy_add=__webpack_require__(168)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyAdd=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _navigation=__webpack_require__(51);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyAdd=function PolicyAdd(_ref){var history=_ref.history,pathname=_ref.location.pathname;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=_slicedToArray(_useState3,2),saveError=_useState4[0],setSaveError=_useState4[1];var _useLoadIndices=(0,_http.useLoadIndices)(),errorLoadingIndices=_useLoadIndices.error,isLoadingIndices=_useLoadIndices.isLoading,_useLoadIndices$data=_useLoadIndices.data;_useLoadIndices$data=_useLoadIndices$data===void 0?{indices:[]}:_useLoadIndices$data;var indices=_useLoadIndices$data.indices;(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs("policyAdd");_navigation.docTitleService.setTitle("policyAdd")}),[]);var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newPolicy){var name,_ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);name=newPolicy.name;_context.next=5;return(0,_http.addPolicy)(newPolicy);case 5:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(error){setSaveError(error)}else{history.push("".concat(_constants2.BASE_PATH,"/policies/").concat(name))}case 9:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var onCancel=function onCancel(){history.push("".concat(_constants2.BASE_PATH,"/policies"))};var emptyPolicy={name:"",snapshotName:"",schedule:_constants2.DEFAULT_POLICY_SCHEDULE,repository:"",config:{},retention:{expireAfterValue:"",expireAfterUnit:_constants.TIME_UNITS.DAY,maxCount:"",minCount:""},isManagedPolicy:false};var renderSaveError=function renderSaveError(){return saveError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addPolicy.savingPolicyErrorTitle",defaultMessage:"Cannot create new policy"}),error:saveError,"data-test-subj":"savePolicyApiError"}):null};var clearSaveError=function clearSaveError(){setSaveError(null)};return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addPolicyTitle",defaultMessage:"Create policy"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),isLoadingIndices?_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addPolicy.loadingIndicesDescription",defaultMessage:"Loading available indices…"})):errorLoadingIndices?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.addPolicy.LoadingIndicesErrorMessage",defaultMessage:"Error loading available indices"}),error:errorLoadingIndices}):_react.default.createElement(_components.PolicyForm,{policy:emptyPolicy,indices:indices,currentUrl:pathname,isSaving:isSaving,saveError:renderSaveError(),clearSaveError:clearSaveError,onSave:onSave,onCancel:onCancel})))};exports.PolicyAdd=PolicyAdd},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PolicyEdit",{enumerable:true,get:function get(){return _policy_edit.PolicyEdit}});var _policy_edit=__webpack_require__(170)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyEdit=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _react2=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(4);var _components=__webpack_require__(50);var _constants2=__webpack_require__(6);var _app_context=__webpack_require__(49);var _navigation=__webpack_require__(51);var _http=__webpack_require__(8);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var PolicyEdit=function PolicyEdit(_ref){var name=_ref.match.params.name,history=_ref.history,pathname=_ref.location.pathname;var _useServices=(0,_app_context.useServices)(),i18n=_useServices.i18n;(0,_react.useEffect)((function(){_navigation.breadcrumbService.setBreadcrumbs("policyEdit");_navigation.docTitleService.setTitle("policyEdit")}),[]);var _useState=(0,_react.useState)({name:"",snapshotName:"",schedule:"",repository:"",config:{},retention:{expireAfterValue:"",expireAfterUnit:_constants.TIME_UNITS.DAY,maxCount:"",minCount:""},isManagedPolicy:false}),_useState2=_slicedToArray(_useState,2),policy=_useState2[0],setPolicy=_useState2[1];var _useLoadIndices=(0,_http.useLoadIndices)(),errorLoadingIndices=_useLoadIndices.error,isLoadingIndices=_useLoadIndices.isLoading,_useLoadIndices$data=_useLoadIndices.data;_useLoadIndices$data=_useLoadIndices$data===void 0?{indices:[]}:_useLoadIndices$data;var indices=_useLoadIndices$data.indices;var _useLoadPolicy=(0,_http.useLoadPolicy)(name),errorLoadingPolicy=_useLoadPolicy.error,isLoadingPolicy=_useLoadPolicy.isLoading,policyData=_useLoadPolicy.data;(0,_react.useEffect)((function(){if(policyData&&policyData.policy){setPolicy(policyData.policy)}}),[policyData]);var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isSaving=_useState4[0],setIsSaving=_useState4[1];var _useState5=(0,_react.useState)(null),_useState6=_slicedToArray(_useState5,2),saveError=_useState6[0],setSaveError=_useState6[1];var onSave=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(editedPolicy){var _ref3,error;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsSaving(true);setSaveError(null);_context.next=4;return(0,_http.editPolicy)(editedPolicy);case 4:_ref3=_context.sent;error=_ref3.error;setIsSaving(false);if(error){setSaveError(error)}else{history.push("".concat(_constants2.BASE_PATH,"/policies/").concat(name))}case 8:case"end":return _context.stop()}}}),_callee)})));return function onSave(_x){return _ref2.apply(this,arguments)}}();var onCancel=function onCancel(){history.push("".concat(_constants2.BASE_PATH,"/policies/").concat(name))};var renderLoading=function renderLoading(){return errorLoadingPolicy?_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.loadingPolicyDescription",defaultMessage:"Loading policy details…"})):_react.default.createElement(_components.SectionLoading,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.loadingIndicesDescription",defaultMessage:"Loading available indices…"}))};var renderError=function renderError(){if(errorLoadingPolicy){var notFound=errorLoadingPolicy.status===404;var errorObject=notFound?{data:{error:i18n.translate("xpack.snapshotRestore.editPolicy.policyNotFoundErrorMessage",{defaultMessage:"The policy '{name}' does not exist.",values:{name:name}})}}:errorLoadingPolicy;return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.loadingPolicyErrorTitle",defaultMessage:"Error loading policy details"}),error:errorObject})}if(errorLoadingIndices){return _react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.LoadingIndicesErrorMessage",defaultMessage:"Error loading available indices"}),error:errorLoadingIndices})}};var renderSaveError=function renderSaveError(){return saveError?_react.default.createElement(_components.SectionError,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.savingPolicyErrorTitle",defaultMessage:"Cannot save policy"}),error:saveError}):null};var clearSaveError=function clearSaveError(){setSaveError(null)};var renderContent=function renderContent(){if(isLoadingPolicy||isLoadingIndices){return renderLoading()}if(errorLoadingPolicy||errorLoadingIndices){return renderError()}return _react.default.createElement(_react.default.Fragment,null,policy.isManagedPolicy?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{size:"m",color:"warning",iconType:"iInCircle",title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicy.managedPolicyWarningTitle",defaultMessage:"This is a managed policy. Changing this policy might affect other systems that use it. Proceed with caution."})}),_react.default.createElement(_eui.EuiSpacer,{size:"l"})):null,_react.default.createElement(_components.PolicyForm,{policy:policy,indices:indices,currentUrl:pathname,isEditing:true,isSaving:isSaving,saveError:renderSaveError(),clearSaveError:clearSaveError,onSave:onSave,onCancel:onCancel}))};return _react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",{"data-test-subj":"pageTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.snapshotRestore.editPolicyTitle",defaultMessage:"Edit policy"}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),renderContent()))};exports.PolicyEdit=PolicyEdit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AppProviders=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _constants=__webpack_require__(4);var _authorization=__webpack_require__(53);var _app_context=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AppProviders=function AppProviders(_ref){var appDependencies=_ref.appDependencies,children=_ref.children;var core=appDependencies.core;var I18nContext=core.i18n.Context;return _react.default.createElement(_authorization.AuthorizationProvider,{privilegesEndpoint:"".concat(_constants.API_BASE_PATH,"privileges")},_react.default.createElement(I18nContext,null,_react.default.createElement(_app_context.AppContextProvider,{value:appDependencies},children)))};exports.AppProviders=AppProviders}])]);