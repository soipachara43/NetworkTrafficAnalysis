var __kbnBundles__=typeof __kbnBundles__==="object"?__kbnBundles__:{};__kbnBundles__["plugin/spaces"]=function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+""+({}[chunkId]||chunkId)+".plugin.js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["spaces_bundle_jsonpfunction"]=window["spaces_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=33)}([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={SpaceAvatar:true};Object.defineProperty(exports,"SpaceAvatar",{enumerable:true,get:function get(){return _space_avatar.SpaceAvatar}});var _space_avatar=__webpack_require__(42);var _space_attributes=__webpack_require__(16);Object.keys(_space_attributes).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _space_attributes[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"isReservedSpace",{enumerable:true,get:function get(){return _is_reserved_space.isReservedSpace}});Object.defineProperty(exports,"MAX_SPACE_INITIALS",{enumerable:true,get:function get(){return _constants.MAX_SPACE_INITIALS}});Object.defineProperty(exports,"SPACE_SEARCH_COUNT_THRESHOLD",{enumerable:true,get:function get(){return _constants.SPACE_SEARCH_COUNT_THRESHOLD}});Object.defineProperty(exports,"ENTER_SPACE_PATH",{enumerable:true,get:function get(){return _constants.ENTER_SPACE_PATH}});Object.defineProperty(exports,"addSpaceIdToPath",{enumerable:true,get:function get(){return _spaces_url_parser.addSpaceIdToPath}});Object.defineProperty(exports,"getSpaceIdFromPath",{enumerable:true,get:function get(){return _spaces_url_parser.getSpaceIdFromPath}});var _is_reserved_space=__webpack_require__(15);var _constants=__webpack_require__(7);var _spaces_url_parser=__webpack_require__(43)},function(module,exports){(function(){var undefined;var VERSION="3.10.1";var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=150,HOT_SPAN=16;var LARGE_ARRAY_SIZE=200;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2;var FUNC_ERROR_TEXT="Expected a function";var PLACEHOLDER="__lodash_placeholder__";var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source);var reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0[xX]/;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^\d+$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}();var contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"};var objectTypes={function:true,object:true};var regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=="object"&&global&&global.Object&&global;var freeSelf=objectTypes[typeof self]&&self&&self.Object&&self;var freeWindow=objectTypes[typeof window]&&window&&window.Object&&window;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsNull=value===null,valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive){return 1}if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive){return-1}}return 0}function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIsFunction(value){return typeof value=="function"||false}function baseToString(value){return value==null?"":value+""}function charsLeftIndex(string,chars){var index=-1,length=string.length;while(++index<length&&chars.indexOf(string.charAt(index))>-1){}return index}function charsRightIndex(string,chars){var index=string.length;while(index--&&chars.indexOf(string.charAt(index))>-1){}return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order==="asc"||order===true?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){if(leadingChar){chr=regexpEscapes[chr]}else if(whitespaceChar){chr=stringEscapes[chr]}return"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}function isObjectLike(value){return!!value&&typeof value=="object"}function isSpace(charCode){return charCode<=160&&(charCode>=9&&charCode<=13)||charCode==32||charCode==160||charCode==5760||charCode==6158||charCode>=8192&&(charCode<=8202||charCode==8232||charCode==8233||charCode==8239||charCode==8287||charCode==12288||charCode==65279)}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){if(array[index]===placeholder){array[index]=PLACEHOLDER;result[++resIndex]=index}}return result}function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}return key=="__proto__"?undefined:object[key]}function sortedUniq(array,iteratee){var seen,index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(!index||seen!==computed){seen=computed;result[++resIndex]=value}}return result}function trimmedLeftIndex(string){var index=-1,length=string.length;while(++index<length&&isSpace(string.charCodeAt(index))){}return index}function trimmedRightIndex(string){var index=string.length;while(index--&&isSpace(string.charCodeAt(index))){}return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objToString=objectProto.toString;var oldDash=root._;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap");var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random;var NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var MAX_SAFE_INTEGER=9007199254740991;var metaMap=WeakMap&&new WeakMap;var realNames={};function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value;this.__actions__=actions||[];this.__chain__=!!chainAll}var support=lodash.support={};lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=POSITIVE_INFINITY;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=arrayCopy(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=arrayCopy(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=arrayCopy(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length){return baseWrapperValue(isRight&&isArr?array.reverse():array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return key=="__proto__"?undefined:this.__data__[key]}function mapHas(key){return key!="__proto__"&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){if(key!="__proto__"){this.__data__[key]=value}return this}function SetCache(values){var length=values?values.length:0;this.data={hash:nativeCreate(null),set:new Set};while(length--){this.push(values[length])}}function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value)){data.set.add(value)}else{data.hash[value]=true}}function arrayConcat(array,other){var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);while(++index<length){result[index]=array[index]}while(++othIndex<othLength){result[index++]=other[othIndex]}return result}function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayExtremum(array,iteratee,comparator,exValue){var index=-1,length=array.length,computed=exValue,result=computed;while(++index<length){var value=array[index],current=+iteratee(value);if(comparator(current,computed)){computed=current;result=value}}return result}function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[++resIndex]=value}}return result}function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;if(initFromArray&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;if(initFromArray&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function arraySum(array,iteratee){var length=array.length,result=0;while(length--){result+=+iteratee(array[length])||0}return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue===undefined||!hasOwnProperty.call(object,key)?sourceValue:objectValue}function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object)){object[key]=result}}return object}function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){var index=-1,isNil=collection==null,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);while(++index<propsLength){var key=props[index];if(isArr){result[index]=isIndex(key,length)?collection[key]:undefined}else{result[index]=isNil?undefined:collection[key]}}return result}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function"){return thisArg===undefined?func:bindCallback(func,thisArg,argCount)}if(func==null){return identity}if(type=="object"){return baseMatches(func)}return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer){result=object?customizer(value,key,object):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return arrayCopy(value,result)}}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag==objectTag||tag==argsTag||isFunc&&!object){result=initCloneObject(isFunc?{}:value);if(!isDeep){return baseAssign(result,value)}}else{return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{}}}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}stackA.push(value);stackB.push(result);(isArr?arrayEach:baseForOwn)(value,(function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}));return result}var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}();function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout((function(){func.apply(undefined,args)}),wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length){return result}var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;if(cache){indexOf=cacheIndexOf;isCommon=false;values=cache}outer:while(++index<length){var value=array[index];if(isCommon&&value===value){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===value){continue outer}}result.push(value)}else if(indexOf(values,value,0)<0){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,(function(value,index,collection){result=!!predicate(value,index,collection);return result}));return result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;baseEach(collection,(function(value,index,collection){var current=+iteratee(value,index,collection);if(comparator(current,computed)||current===exValue&&current===result){computed=current;result=value}}));return result}function baseFill(array,value,start,end){var length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end>>>0;start>>>=0;while(start<length){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,(function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}}));return result}function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,(function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false}}));return result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){if(isDeep){baseFlatten(value,isDeep,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){var index=-1,length=props.length,resIndex=-1,result=[];while(++index<length){var key=props[index];if(isFunction(object[key])){result[++resIndex]=key}}return result}function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag}else if(objTag!=objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag}else if(othTag!=objectTag){othIsArr=isTypedArray(other)}}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){return false}}}return true}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)}));return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false}return object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(object==null){return false}var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}key=last(path);object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,true)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object)){return object}var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);arrayEach(props||source,(function(srcValue,key){if(props){key=srcValue;srcValue=safeGet(source,key)}if(isObjectLike(srcValue)){stackA||(stackA=[]);stackB||(stackB=[]);baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB)}else{var value=safeGet(object,key),result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue}if((result!==undefined||isSrcArr&&!(key in object))&&(isCommon||(result===result?result!==value:value===value))){baseAssignValue(object,key,result)}}}));return object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){var length=stackA.length,srcValue=safeGet(source,key);while(length--){if(stackA[length]==srcValue){baseAssignValue(object,key,stackB[length]);return}}var value=safeGet(object,key),result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;if(isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))){result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]}else if(isPlainObject(srcValue)||isArguments(srcValue)){result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}}else{isCommon=false}}stackA.push(srcValue);stackB.push(result);if(isCommon){baseAssignValue(object,key,mergeFunc(result,srcValue,customizer,stackA,stackB))}else if(result===result?result!==value:value===value){baseAssignValue(object,key,result)}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){var length=array?indexes.length:0;while(length--){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){eachFunc(collection,(function(value,index,collection){accumulator=initFromCollection?(initFromCollection=false,value):iteratee(accumulator,value,index,collection)}));return accumulator}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,(function(value,index,collection){result=predicate(value,index,collection);return!result}));return!!result}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,(function(iteratee){return callback(iteratee)}));var result=baseMap(collection,(function(value){var criteria=arrayMap(iteratees,(function(iteratee){return iteratee(value)}));return{criteria:criteria,index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}function baseSum(collection,iteratee){var result=0;baseEach(collection,(function(value,index,collection){result+=+iteratee(value,index,collection)||0}));return result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false}else{isLarge=false;seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge){seen.push(computed)}result.push(value)}}return result}function baseValues(object,props){var index=-1,length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]]}return result}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}var index=-1,length=actions.length;while(++index<length){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if((retHighest?computed<=value:computed<value)&&computed!==null){low=mid+1}else{high=mid}}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN){var setLow=isReflexive||retHighest}else if(valIsNull){setLow=isReflexive&&isDef&&(retHighest||computed!=null)}else if(valIsUndef){setLow=isReflexive&&(retHighest||isDef)}else if(computed==null){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);view.set(new Uint8Array(buffer));return result}function composeArgs(args,partials,holders){var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){result[holders[argsIndex]]=args[argsIndex]}while(argsLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders){var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);while(++argsIndex<argsLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};iteratee=getCallback(iteratee,thisArg,3);if(isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}}else{baseEach(collection,(function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)}))}return result}}function createAssigner(assigner){return restParam((function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer)}}return object}))}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length)){return eachFunc(collection,iteratee)}var index=fromRight?length:-1,iterable=toObject(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBindWrapper(func,thisArg){var Ctor=createCtorWrapper(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){var index=-1,array=words(deburr(string)),length=array.length,result="";while(++index<length){result=callback(result,array[index],index)}return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){if(guard&&isIterateeCall(func,arity,guard)){arity=undefined}var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryFunc.placeholder;return result}return curryFunc}function createDefaults(assigner,customizer){return restParam((function(args){var object=args[0];if(object==null){return object}args.push(customizer);return assigner.apply(undefined,args)}))}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}iteratee=getCallback(iteratee,thisArg,3);if(iteratee.length==1){collection=isArray(collection)?collection:toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!(collection.length&&result===exValue)){return result}}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){if(!(array&&array.length)){return-1}predicate=getCallback(predicate,thisArg,3);return baseFindIndex(array,predicate,fromRight)}}function createFindKey(objectFunc){return function(object,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);return baseFind(object,predicate,objectFunc,true)}}function createFlow(fromRight){return function(){var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);while(fromRight?index--:++index<length){var func=funcs[leftIndex++]=arguments[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(!wrapper&&LodashWrapper.prototype.thru&&getFuncName(func)=="wrapper"){wrapper=new LodashWrapper([],true)}}index=wrapper?-1:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3)}return objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3)}return objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};iteratee=getCallback(iteratee,thisArg,3);baseForOwn(object,(function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key;value=isMapKeys?value:mapped;result[key]=value}));return result}}function createPadDir(fromRight){return function(string,length,chars){string=baseToString(string);return(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam((function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)}));return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);function wrapper(){var length=arguments.length,index=length,args=Array(length);while(index--){args[index]=arguments[index]}if(partials){args=composeArgs(args,partials,holders)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight)}if(isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);length-=argsHolders.length;if(length<arity){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!isCurryBound){bitmask&=~(BIND_FLAG|BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;if(argPos){args=reorder(args,argPos)}if(isAry&&ary<args.length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtorWrapper(func)}return fn.apply(thisBinding,args)}return wrapper}function createPadding(string,length,chars){var strLength=string.length;length=+length;if(strLength>=length||!nativeIsFinite(length)){return""}var padLength=length-strLength;chars=chars==null?" ":chars+"";return repeat(chars,nativeCeil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){precision=precision===undefined?0:+precision||0;if(precision){precision=pow(10,precision);return func(number*precision)/precision}return func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return iteratee==null&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=undefined}length-=holders?holders.length:0;if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);bitmask=newData[1];arity=newData[9]}newData[9]=arity==null?isBindKey?0:func.length:nativeMax(arity-length,0)||0;if(bitmask==BIND_FLAG){var result=createBindWrapper(newData[0],newData[2])}else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!newData[4].length){result=createPartialWrapper.apply(undefined,newData)}else{result=createHybridWrapper.apply(undefined,newData)}var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength)){return false}while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result){continue}return false}if(isLoose){if(!arraySome(other,(function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))){return false}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){return false}}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false}}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){return false}skipCtor||(skipCtor=key=="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){return false}}return true}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;result=result===callback?baseCallback:result;return argCount?result(func,thisArg,argCount):result}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name,array=realNames[result],length=array?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;result=result===indexOf?baseIndexOf:result;return collection?result(collection,target,fromIndex):result}var getLength=baseProperty("length");function getMatchData(object){var result=pairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){var Ctor=object.constructor;if(!(typeof Ctor=="function"&&Ctor instanceof Ctor)){Ctor=Object}return new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));path=last(path)}var func=object==null?object:object[path];return func==null?undefined:func.apply(object,args)}function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return false}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype)){return false}var other=lodash[funcName];if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG;var isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value);data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value);data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])}value=source[7];if(value){data[7]=arrayCopy(value)}if(srcBitmask&ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);var index=-1,length=props.length,result={};while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}return result}function pickByCallback(object,predicate){var result={};baseForIn(object,(function(value,key,object){if(predicate(value,key,object)){result[key]=value}}));return result}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return key}}else{count=0}return baseSetData(key,value)}}();function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function toIterable(value){if(value==null){return[]}if(!isArrayLike(value)){return values(value)}return isObject(value)?value:Object(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,(function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}));return result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size==null){size=1}else{size=nativeMax(nativeFloor(size)||1,1)}var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));while(index<length){result[++resIndex]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array?array.length:0,resIndex=-1,result=[];while(++index<length){var value=array[index];if(value){result[++resIndex]=value}}return result}var difference=restParam((function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,false,true)):[]}));function drop(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}return baseSlice(array,n<0?0:n)}function dropRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}n=length-(+n||0);return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true,true):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true):[]}function fill(array,value,start,end){var length=array?array.length:0;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}var findIndex=createFindIndex();var findLastIndex=createFindIndex(true);function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;if(guard&&isIterateeCall(array,isDeep,guard)){isDeep=false}return length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,true):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}if(typeof fromIndex=="number"){fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex}else if(fromIndex){var index=binaryIndex(array,value);if(index<length&&(value===value?value===array[index]:array[index]!==array[index])){return index}return-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}var intersection=restParam((function(arrays){var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];while(othIndex--){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:while(++index<length){value=array[index];if((seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){var othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0){continue outer}}if(seen){seen.push(value)}result.push(value)}}return result}));function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}var index=length;if(typeof fromIndex=="number"){index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1}else if(fromIndex){index=binaryIndex(array,value,true)-1;var other=array[index];if(value===value?value===other:other!==other){return index}return-1}if(value!==value){return indexOfNaN(array,index,true)}while(index--){if(array[index]===value){return index}}return-1}function pull(){var args=arguments,array=args[0];if(!(array&&array.length)){return array}var index=0,indexOf=getIndexOf(),length=args.length;while(++index<length){var fromIndex=0,value=args[index];while((fromIndex=indexOf(array,value,fromIndex))>-1){splice.call(array,fromIndex,1)}}return array}var pullAt=restParam((function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(baseCompareAscending));return result}));function remove(array,predicate,thisArg){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getCallback(predicate,thisArg,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}return baseSlice(array,start,end)}var sortedIndex=createSortedIndex();var sortedLastIndex=createSortedIndex(true);function take(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}n=length-(+n||0);return baseSlice(array,n<0?0:n)}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),false,true):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}var union=restParam((function(arrays){return baseUniq(baseFlatten(arrays,false,true))}));function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length){return[]}if(isSorted!=null&&typeof isSorted!="boolean"){thisArg=iteratee;iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted;isSorted=false}var callback=getCallback();if(!(iteratee==null&&callback===baseCallback)){iteratee=callback(iteratee,thisArg,3)}return isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!(array&&array.length)){return[]}var index=-1,length=0;array=arrayFilter(array,(function(group){if(isArrayLike(group)){length=nativeMax(group.length,length);return true}}));var result=Array(length);while(++index<length){result[index]=arrayMap(array,baseProperty(index))}return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length){return[]}var result=unzip(array);if(iteratee==null){return result}iteratee=bindCallback(iteratee,thisArg,4);return arrayMap(result,(function(group){return arrayReduce(group,iteratee,undefined,true)}))}var without=restParam((function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}));function xor(){var index=-1,length=arguments.length;while(++index<length){var array=arguments[index];if(isArrayLike(array)){var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}}return result?baseUniq(result):[]}var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};if(length&&!values&&!isArray(props[0])){values=[]}while(++index<length){var key=props[index];if(values){result[key]=values[index]}else if(key){result[key[0]]=key[1]}}return result}var zipWith=restParam((function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;if(length>2&&typeof iteratee=="function"){length-=2}else{iteratee=length>1&&typeof thisArg=="function"?(--length,thisArg):undefined;thisArg=undefined}arrays.length=length;return unzipWith(arrays,iteratee,thisArg)}));function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor,thisArg){interceptor.call(thisArg,value);return value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}var wrapperConcat=restParam((function(values){values=baseFlatten(values);return this.thru((function(array){return arrayConcat(isArray(array)?array:[toObject(array)],values)}))}));function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;var interceptor=function(value){return wrapped&&wrapped.__dir__<0?value:value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var at=restParam((function(collection,props){return baseAt(collection,baseFlatten(props))}));var countBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}));function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=undefined}if(typeof predicate!="function"||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3)}return func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,predicate)}var find=createFind(baseEach);var findLast=createFind(baseEachRight,true);function findWhere(collection,source){return find(collection,baseMatches(source))}var forEach=createForEach(arrayEach,baseEach);var forEachRight=createForEach(arrayEachRight,baseEachRight);var groupBy=createAggregator((function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{result[key]=[value]}}));function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;if(!isLength(length)){collection=values(collection);length=collection.length}if(typeof fromIndex!="number"||guard&&isIterateeCall(target,fromIndex,guard)){fromIndex=0}else{fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0}return typeof collection=="string"||!isArray(collection)&&isString(collection)?fromIndex<=length&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}var indexBy=createAggregator((function(result,value,key){result[key]=value}));var invoke=restParam((function(collection,path,args){var index=-1,isFunc=typeof path=="function",isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,(function(value){var func=isFunc?path:isProp&&value!=null?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}));return result}));function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;iteratee=getCallback(iteratee,thisArg,3);return func(collection,iteratee)}var partition=createAggregator((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]}));function pluck(collection,path){return map(collection,property(path))}var reduce=createReduce(arrayReduce,baseEach);var reduceRight=createReduce(arrayReduceRight,baseEachRight);function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,(function(value,index,collection){return!predicate(value,index,collection)}))}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n==null){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;n=nativeMin(n<0?0:+n||0,length);while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value}result.length=n;return result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=undefined}if(typeof predicate!="function"||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3)}return func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(collection==null){return[]}if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,(function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}}));return baseSortBy(result,compareAscending)}var sortByAll=restParam((function(collection,iteratees){if(collection==null){return[]}var guard=iteratees[2];if(guard&&isIterateeCall(iteratees[0],iteratees[1],guard)){iteratees.length=1}return baseSortByOrder(collection,baseFlatten(iteratees),[])}));function sortByOrder(collection,iteratees,orders,guard){if(collection==null){return[]}if(guard&&isIterateeCall(iteratees,orders,guard)){orders=undefined}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseSortByOrder(collection,iteratees,orders)}function where(collection,source){return filter(collection,baseMatches(source))}var now=nativeNow||function(){return(new Date).getTime()};function after(n,func){if(typeof func!="function"){if(typeof n=="function"){var temp=n;n=func;func=temp}else{throw new TypeError(FUNC_ERROR_TEXT)}}n=nativeIsFinite(n=+n)?n:0;return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){if(guard&&isIterateeCall(func,n,guard)){n=undefined}n=func&&n==null?func.length:nativeMax(+n||0,0);return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){if(typeof n=="function"){var temp=n;n=func;func=temp}else{throw new TypeError(FUNC_ERROR_TEXT)}}return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=restParam((function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}));var bindAll=restParam((function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);var index=-1,length=methodNames.length;while(++index<length){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}));var bindKey=restParam((function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}));var curry=createCurry(CURRY_FLAG);var curryRight=createCurry(CURRY_RIGHT_FLAG);function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=wait<0?0:+wait||0;if(options===true){var leading=true;trailing=false}else if(isObject(options)){leading=!!options.leading;maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait);trailing="trailing"in options?!!options.trailing:trailing}function cancel(){if(timeoutId){clearTimeout(timeoutId)}if(maxTimeoutId){clearTimeout(maxTimeoutId)}lastCalled=0;maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){if(id){clearTimeout(id)}maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=undefined}}}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){complete(trailingCall,maxTimeoutId)}else{timeoutId=setTimeout(delayed,remaining)}}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false){var leadingCall=leading&&!timeoutId}else{if(!maxTimeoutId&&!leading){lastCalled=stamp}var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;if(isCalled){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId)}lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining)}}if(isCalled&&timeoutId){timeoutId=clearTimeout(timeoutId)}else if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait)}if(leadingCall){isCalled=true;result=func.apply(thisArg,args)}if(isCalled&&!timeoutId&&!maxTimeoutId){args=thisArg=undefined}return result}debounced.cancel=cancel;return debounced}var defer=restParam((function(func,args){return baseDelay(func,1,args)}));var delay=restParam((function(func,wait,args){return baseDelay(func,wait,args)}));var flow=createFlow();var flowRight=createFlow(true);function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new memoize.Cache;return memoized}var modArgs=restParam((function(func,transforms){transforms=baseFlatten(transforms);if(typeof func!="function"||!arrayEvery(transforms,baseIsFunction)){throw new TypeError(FUNC_ERROR_TEXT)}var length=transforms.length;return restParam((function(args){var index=nativeMin(args.length,length);while(index--){args[index]=transforms[index](args[index])}return func.apply(this,args)}))}));function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}var partial=createPartial(PARTIAL_FLAG);var partialRight=createPartial(PARTIAL_RIGHT_FLAG);var rearg=restParam((function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))}));function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}function spread(func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(options===false){leading=false}else if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){if(isDeep&&typeof isDeep!="boolean"&&isIterateeCall(value,isDeep,customizer)){isDeep=false}else if(typeof isDeep=="function"){thisArg=customizer;customizer=isDeep;isDeep=false}return typeof customizer=="function"?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return typeof customizer=="function"?baseClone(value,true,bindCallback(customizer,thisArg,1)):baseClone(value,true)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isBoolean(value){return value===true||value===false||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))){return!value.length}return!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&typeof value.message=="string"&&objToString.call(value)==errorTag}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isMatch(object,source,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,3):undefined;return baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return value===null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!(isObjectLike(value)&&objToString.call(value)==objectTag&&!isArguments(value))||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,typeof Ctor=="function"&&!(Ctor instanceof Ctor))){return false}var result;baseForIn(value,(function(subValue,key){result=key}));return result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return typeof value=="string"||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){var length=value?getLength(value):0;if(!isLength(length)){return values(value)}if(!length){return[]}return arrayCopy(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}var merge=createAssigner(baseMerge);var assign=createAssigner((function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}));function create(prototype,properties,guard){var result=baseCreate(prototype);if(guard&&isIterateeCall(prototype,properties,guard)){properties=undefined}return properties?baseAssign(result,properties):result}var defaults=createDefaults(assign,assignDefaults);var defaultsDeep=createDefaults(merge,mergeDefaults);var findKey=createFindKey(baseForOwn);var findLastKey=createFindKey(baseForOwnRight);var forIn=createForIn(baseFor);var forInRight=createForIn(baseForRight);var forOwn=createForOwn(baseForOwn);var forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(object==null){return false}var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}path=last(path);result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){if(guard&&isIterateeCall(object,multiValue,guard)){multiValue=undefined}var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index],value=object[key];if(multiValue){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}}else{result[value]=key}}return result}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}var mapKeys=createObjectMapper(true);var mapValues=createObjectMapper();var omit=restParam((function(object,props){if(object==null){return{}}if(typeof props[0]!="function"){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,(function(value,key,object){return!predicate(value,key,object)}))}));function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}var pick=restParam((function(object,props){if(object==null){return{}}return typeof props[0]=="function"?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}));function result(object,path,defaultValue){var result=object==null?undefined:object[path];if(result===undefined){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));result=object==null?undefined:object[last(path)]}result=result===undefined?defaultValue:result}return isFunction(result)?result.call(object):result}function set(object,path,value){if(object==null){return object}var pathKey=path+"";path=object[pathKey]!=null||isKey(path,object)?[pathKey]:toPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){if(index==lastIndex){nested[key]=value}else if(nested[key]==null){nested[key]=isIndex(path[index+1])?[]:{}}}nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);iteratee=getCallback(iteratee,thisArg,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[]}else{accumulator=baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}}else{accumulator={}}}(isArr?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)}));return accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){start=+start||0;if(end===undefined){end=start;start=0}else{end=+end||0}return value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){if(floating&&isIterateeCall(min,max,floating)){max=floating=undefined}var noMin=min==null,noMax=max==null;if(floating==null){if(noMax&&typeof min=="boolean"){floating=min;min=1}else if(typeof max=="boolean"){floating=max;noMax=true}}if(noMin&&noMax){max=1;noMax=false}min=+min||0;if(noMax){max=min;min=0}else{max=+max||0}if(floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}var camelCase=createCompounder((function(result,word,index){word=word.toLowerCase();return result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}));function capitalize(string){string=baseToString(string);return string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){string=baseToString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string);target=target+"";var length=string.length;position=position===undefined?length:nativeMin(position<0?0:+position||0,length);position-=target.length;return position>=0&&string.indexOf(target,position)==position}function escape(string){string=baseToString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}var kebabCase=createCompounder((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}));function pad(string,length,chars){string=baseToString(string);length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length)){return string}var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);chars=createPadding("",rightLength,chars);return chars.slice(0,leftLength)+string+chars}var padLeft=createPadDir();var padRight=createPadDir(true);function parseInt(string,radix,guard){if(guard?isIterateeCall(string,radix,guard):radix==null){radix=0}else if(radix){radix=+radix}string=trim(string);return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){var result="";string=baseToString(string);n=+n;if(n<1||!string||!nativeIsFinite(n)){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);string+=string}while(n);return result}var snakeCase=createCompounder((function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}));var startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}));function startsWith(string,target,position){string=baseToString(string);position=position==null?0:nativeMin(position<0?0:+position||0,string.length);return string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;if(otherOptions&&isIterateeCall(string,options,otherOptions)){options=otherOptions=undefined}string=baseToString(string);options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,(function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match}));source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt((function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)}));result.source=source;if(isError(result)){throw result}return result}function trim(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1)}chars=chars+"";return string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)}function trimLeft(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string))}return string.slice(charsLeftIndex(string,chars+""))}function trimRight(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(0,trimmedRightIndex(string)+1)}return string.slice(0,charsRightIndex(string,chars+"")+1)}function trunc(string,options,guard){if(guard&&isIterateeCall(string,options,guard)){options=undefined}var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(options!=null){if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length;omission="omission"in options?baseToString(options.omission):omission}else{length=+options||0}}string=baseToString(string);if(length>=string.length){return string}var end=length-omission.length;if(end<1){return omission}var result=string.slice(0,end);if(separator==null){return result+omission}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);if(!separator.global){separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){newEnd=match.index}result=result.slice(0,newEnd==null?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=baseToString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){if(guard&&isIterateeCall(string,pattern,guard)){pattern=undefined}string=baseToString(string);return string.match(pattern||reWords)||[]}var attempt=restParam((function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}));function callback(func,thisArg,guard){if(guard&&isIterateeCall(func,thisArg,guard)){thisArg=undefined}return isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,true))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true))}var method=restParam((function(path,args){return function(object){return invokePath(object,path,args)}}));var methodOf=restParam((function(object,args){return function(path){return invokePath(object,path,args)}}));function mixin(object,source,options){if(options==null){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;if(!(methodNames?methodNames.length:isObj)){methodNames=false;options=source;source=object;object=this}}if(!methodNames){methodNames=baseFunctions(source,keys(source))}var chain=true,index=-1,isFunc=isFunction(object),length=methodNames.length;if(options===false){chain=false}else if(isObject(options)&&"chain"in options){chain=options.chain}while(++index<length){var methodName=methodNames[index],func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}(func)}}return object}function noConflict(){root._=oldDash;return this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){if(step&&isIterateeCall(start,end,step)){end=step=undefined}start=+start||0;step=step==null?1:+step||0;if(end==null){end=start;start=0}else{end=+end||0}var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(++index<length){result[index]=start;start+=step}return result}function times(n,iteratee,thisArg){n=nativeFloor(n);if(n<1||!nativeIsFinite(n)){return[]}var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));iteratee=bindCallback(iteratee,thisArg,1);while(++index<n){if(index<MAX_ARRAY_LENGTH){result[index]=iteratee(index)}else{iteratee(index)}}return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}var ceil=createRound("ceil");var floor=createRound("floor");var max=createExtremum(gt,NEGATIVE_INFINITY);var min=createExtremum(lt,POSITIVE_INFINITY);var round=createRound("round");function sum(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}iteratee=getCallback(iteratee,thisArg,3);return iteratee.length==1?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}lodash.prototype=baseLodash.prototype;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;SetCache.prototype.push=cachePush;memoize.Cache=MapCache;lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.callback=callback;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flow=flow;lodash.flowRight=flowRight;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.modArgs=modArgs;lodash.negate=negate;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pluck=pluck;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAt=pullAt;lodash.range=range;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.restParam=restParam;lodash.set=set;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortByAll=sortByAll;lodash.sortByOrder=sortByOrder;lodash.spread=spread;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.times=times;lodash.toArray=toArray;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.xor=xor;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipWith=zipWith;lodash.backflow=flowRight;lodash.collect=map;lodash.compose=flowRight;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.iteratee=callback;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.deburr=deburr;lodash.endsWith=endsWith;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.findWhere=findWhere;lodash.first=first;lodash.floor=floor;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isMatch=isMatch;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.min=min;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padLeft=padLeft;lodash.padRight=padRight;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedLastIndex=sortedLastIndex;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.sum=sum;lodash.template=template;lodash.trim=trim;lodash.trimLeft=trimLeft;lodash.trimRight=trimRight;lodash.trunc=trunc;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.words=words;lodash.all=every;lodash.any=some;lodash.contains=includes;lodash.eq=isEqual;lodash.detect=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.head=first;lodash.include=includes;lodash.inject=reduce;mixin(lodash,function(){var source={};baseForOwn(lodash,(function(func,methodName){if(!lodash.prototype[methodName]){source[methodName]=func}}));return source}(),false);lodash.sample=sample;lodash.prototype.sample=function(n){if(!this.__chain__&&n==null){return sample(this.value())}return this.thru((function(value){return sample(value,n)}))};lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(methodName){lodash[methodName].placeholder=lodash}));arrayEach(["drop","take"],(function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index){return new LazyWrapper(this)}n=n==null?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();if(filtered){result.__takeCount__=nativeMin(result.__takeCount__,n)}else{result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}));arrayEach(["filter","map","takeWhile"],(function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type});result.__filtered__=result.__filtered__||isFilter;return result}}));arrayEach(["first","last"],(function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}));arrayEach(["initial","rest"],(function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}));arrayEach(["pluck","where"],(function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}));LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.reject=function(predicate,thisArg){predicate=getCallback(predicate,thisArg,1);return this.filter((function(value){return!predicate(value)}))};LazyWrapper.prototype.slice=function(start,end){start=start==null?0:+start||0;var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=+end||0;result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)};baseForOwn(LazyWrapper.prototype,(function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+(methodName=="last"?"Right":""):methodName];if(!lodashFunc){return}lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))};var action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll){if(onlyLazy){value=value.clone();value.__actions__.push(action);return func.call(value)}return lodashFunc.call(undefined,this.value())[0]}if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push(action);return new LodashWrapper(result,chainAll)}return this.thru(interceptor)}}));arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){return func.apply(this.value(),args)}return this[chainName]((function(value){return func.apply(value,args)}))}}));baseForOwn(LazyWrapper.prototype,(function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}));realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.concat=wrapperConcat;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toString=wrapperToString;lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.collect=lodash.prototype.map;lodash.prototype.head=lodash.prototype.first;lodash.prototype.select=lodash.prototype.filter;lodash.prototype.tail=lodash.prototype.rest;return lodash}var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define((function(){return _}))}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}else{freeExports._=_}}else{root._=_}}).call(this)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ENTER_SPACE_PATH=exports.KIBANA_SPACES_STATS_TYPE=exports.MAX_SPACE_INITIALS=exports.SPACE_SEARCH_COUNT_THRESHOLD=exports.DEFAULT_SPACE_ID=void 0;var DEFAULT_SPACE_ID="default";exports.DEFAULT_SPACE_ID=DEFAULT_SPACE_ID;var SPACE_SEARCH_COUNT_THRESHOLD=8;exports.SPACE_SEARCH_COUNT_THRESHOLD=SPACE_SEARCH_COUNT_THRESHOLD;var MAX_SPACE_INITIALS=2;exports.MAX_SPACE_INITIALS=MAX_SPACE_INITIALS;var KIBANA_SPACES_STATS_TYPE="spaces";exports.KIBANA_SPACES_STATS_TYPE=KIBANA_SPACES_STATS_TYPE;var ENTER_SPACE_PATH="/spaces/enter";exports.ENTER_SPACE_PATH=ENTER_SPACE_PATH},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSpacesFeatureDescription=void 0;var _i18n=__webpack_require__(3);var spacesFeatureDescription;var getSpacesFeatureDescription=function getSpacesFeatureDescription(){if(!spacesFeatureDescription){spacesFeatureDescription=_i18n.i18n.translate("xpack.spaces.featureDescription",{defaultMessage:"Organize your dashboards and other saved objects into meaningful categories."})}return spacesFeatureDescription};exports.getSpacesFeatureDescription=getSpacesFeatureDescription},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={plugin:true,FeatureCatalogueSetup:true,EnvironmentSetup:true,TutorialSetup:true,HomePublicPluginSetup:true,FeatureCatalogueEntry:true,FeatureCatalogueCategory:true,Environment:true,TutorialVariables:true};Object.defineProperty(exports,"FeatureCatalogueSetup",{enumerable:true,get:function get(){return _plugin.FeatureCatalogueSetup}});Object.defineProperty(exports,"EnvironmentSetup",{enumerable:true,get:function get(){return _plugin.EnvironmentSetup}});Object.defineProperty(exports,"TutorialSetup",{enumerable:true,get:function get(){return _plugin.TutorialSetup}});Object.defineProperty(exports,"HomePublicPluginSetup",{enumerable:true,get:function get(){return _plugin.HomePublicPluginSetup}});Object.defineProperty(exports,"FeatureCatalogueEntry",{enumerable:true,get:function get(){return _services.FeatureCatalogueEntry}});Object.defineProperty(exports,"FeatureCatalogueCategory",{enumerable:true,get:function get(){return _services.FeatureCatalogueCategory}});Object.defineProperty(exports,"Environment",{enumerable:true,get:function get(){return _services.Environment}});Object.defineProperty(exports,"TutorialVariables",{enumerable:true,get:function get(){return _services.TutorialVariables}});exports.plugin=void 0;var _plugin=__webpack_require__(47);var _services=__webpack_require__(14);var _instruction_variant=__webpack_require__(31);Object.keys(_instruction_variant).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _instruction_variant[key]}})}));var plugin=function plugin(initializerContext){return new _plugin.HomePublicPlugin(initializerContext)};exports.plugin=plugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _saved_objects_management_action_registry=__webpack_require__(23);Object.keys(_saved_objects_management_action_registry).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _saved_objects_management_action_registry[key]}})}));var _saved_objects_management_action=__webpack_require__(65);Object.keys(_saved_objects_management_action).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _saved_objects_management_action[key]}})}));var _saved_objects_management_service=__webpack_require__(66);Object.keys(_saved_objects_management_service).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _saved_objects_management_service[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ConfirmDeleteModal",{enumerable:true,get:function get(){return _confirm_delete_modal.ConfirmDeleteModal}});var _confirm_delete_modal=__webpack_require__(90)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"toSpaceIdentifier",{enumerable:true,get:function get(){return _space_identifier_utils.toSpaceIdentifier}});Object.defineProperty(exports,"isValidSpaceIdentifier",{enumerable:true,get:function get(){return _space_identifier_utils.isValidSpaceIdentifier}});Object.defineProperty(exports,"SpaceValidator",{enumerable:true,get:function get(){return _validate_space.SpaceValidator}});var _space_identifier_utils=__webpack_require__(27);var _validate_space=__webpack_require__(28)},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _feature_catalogue=__webpack_require__(48);Object.keys(_feature_catalogue).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _feature_catalogue[key]}})}));var _environment=__webpack_require__(50);Object.keys(_environment).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _environment[key]}})}));var _tutorials=__webpack_require__(52);Object.keys(_tutorials).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _tutorials[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isReservedSpace=isReservedSpace;var _lodash=__webpack_require__(6);function isReservedSpace(space){return(0,_lodash.get)(space,"_reserved",false)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSpaceColor=getSpaceColor;exports.getSpaceInitials=getSpaceInitials;exports.getSpaceImageUrl=getSpaceImageUrl;var _eui=__webpack_require__(1);var _common=__webpack_require__(5);var FALLBACK_CODE_POINT=97;function getSpaceColor(){var space=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var color=space.color,_space$name=space.name,name=_space$name===void 0?"":_space$name;if(color){return color}var firstCodePoint=name.codePointAt(0)||FALLBACK_CODE_POINT;return _eui.VISUALIZATION_COLORS[firstCodePoint%_eui.VISUALIZATION_COLORS.length]}function getSpaceInitials(){var space=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var initials=space.initials,_space$name2=space.name,name=_space$name2===void 0?"":_space$name2;if(initials){return initials}var words=name.split(" ");var numInitials=Math.min(_common.MAX_SPACE_INITIALS,words.length);words.splice(numInitials,words.length);return words.map((function(word){return word.substring(0,1)})).join("")}function getSpaceImageUrl(){var space=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var imageUrl=space.imageUrl;if(imageUrl){return imageUrl}return""}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ManageSpacesButton=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManageSpacesButton=function(_Component){_inherits(ManageSpacesButton,_Component);function ManageSpacesButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,ManageSpacesButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ManageSpacesButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"navigateToManageSpaces",(function(){if(_this.props.onClick){_this.props.onClick()}_this.props.navigateToApp("kibana",{path:"#/management/kibana/spaces"})}));return _this}_createClass(ManageSpacesButton,[{key:"render",value:function render(){if(!this.props.capabilities.spaces.manage){return null}return _react2.default.createElement(_eui.EuiButton,{size:this.props.size||"s",className:this.props.className,isDisabled:this.props.isDisabled,onClick:this.navigateToManageSpaces,style:this.props.style},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.manageSpacesButton.manageSpacesButtonLabel",defaultMessage:"Manage spaces"}))}}]);return ManageSpacesButton}(_react2.Component);exports.ManageSpacesButton=ManageSpacesButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={CopySavedObjectsToSpaceService:true};Object.defineProperty(exports,"CopySavedObjectsToSpaceService",{enumerable:true,get:function get(){return _copy_saved_objects_to_space_service.CopySavedObjectsToSpaceService}});var _summarize_copy_result=__webpack_require__(54);Object.keys(_summarize_copy_result).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _summarize_copy_result[key]}})}));var _copy_saved_objects_to_space_service=__webpack_require__(55)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ManagementSetup",{enumerable:true,get:function get(){return _np_ready.ManagementSetup}});Object.defineProperty(exports,"ManagementStart",{enumerable:true,get:function get(){return _np_ready.ManagementStart}});Object.defineProperty(exports,"plugin",{enumerable:true,get:function get(){return _np_ready.plugin}});Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _np_ready.IndexPatternCreationConfig}});Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _np_ready.IndexPatternListConfig}});Object.defineProperty(exports,"SavedObjectsManagementAction",{enumerable:true,get:function get(){return _np_ready.SavedObjectsManagementAction}});Object.defineProperty(exports,"SavedObjectsManagementRecord",{enumerable:true,get:function get(){return _np_ready.SavedObjectsManagementRecord}});Object.defineProperty(exports,"processImportResponse",{enumerable:true,get:function get(){return _process_import_response.processImportResponse}});Object.defineProperty(exports,"ProcessedImportResponse",{enumerable:true,get:function get(){return _process_import_response.ProcessedImportResponse}});var _np_ready=__webpack_require__(57);var _process_import_response=__webpack_require__(67)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={IndexPatternCreationConfig:true,IndexPatternListConfig:true};Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _creation.IndexPatternCreationConfig}});Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _list.IndexPatternListConfig}});var _index_pattern_management_service=__webpack_require__(60);Object.keys(_index_pattern_management_service).forEach((function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_pattern_management_service[key]}})}));var _creation=__webpack_require__(21);var _list=__webpack_require__(22)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _config.IndexPatternCreationConfig}});Object.defineProperty(exports,"IndexPatternCreationManager",{enumerable:true,get:function get(){return _manager.IndexPatternCreationManager}});var _config=__webpack_require__(61);var _manager=__webpack_require__(62)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _config.IndexPatternListConfig}});Object.defineProperty(exports,"IndexPatternListManager",{enumerable:true,get:function get(){return _manager.IndexPatternListManager}});var _config=__webpack_require__(63);var _manager=__webpack_require__(64)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsManagementActionRegistry=void 0;var actions=new Map;var SavedObjectsManagementActionRegistry={register:function register(action){if(!action.id){throw new TypeError("Saved Objects Management Actions must have an id")}if(actions.has(action.id)){throw new Error("Saved Objects Management Action with id '".concat(action.id,"' already exists"))}actions.set(action.id,action)},has:function has(actionId){return actions.has(actionId)},get:function get(){return Array.from(actions.values())}};exports.SavedObjectsManagementActionRegistry=SavedObjectsManagementActionRegistry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SecureSpaceMessage",{enumerable:true,get:function get(){return _secure_space_message.SecureSpaceMessage}});var _secure_space_message=__webpack_require__(91)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"UnauthorizedPrompt",{enumerable:true,get:function get(){return _unauthorized_prompt.UnauthorizedPrompt}});var _unauthorized_prompt=__webpack_require__(92)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEnabledFeatures=getEnabledFeatures;function getEnabledFeatures(features,space){return features.filter((function(feature){return!(space.disabledFeatures||[]).includes(feature.id)}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toSpaceIdentifier=toSpaceIdentifier;exports.isValidSpaceIdentifier=isValidSpaceIdentifier;function toSpaceIdentifier(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value.toLowerCase().replace(/[^a-z0-9_]/g,"-")}function isValidSpaceIdentifier(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value===toSpaceIdentifier(value)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpaceValidator=void 0;var _i18n=__webpack_require__(3);var _is_reserved_space=__webpack_require__(15);var _space_identifier_utils=__webpack_require__(27);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpaceValidator=function(){function SpaceValidator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,SpaceValidator);_defineProperty(this,"shouldValidate",void 0);this.shouldValidate=options.shouldValidate||false}_createClass(SpaceValidator,[{key:"enableValidation",value:function enableValidation(){this.shouldValidate=true}},{key:"disableValidation",value:function disableValidation(){this.shouldValidate=false}},{key:"validateSpaceName",value:function validateSpaceName(space){if(!this.shouldValidate){return valid()}if(!space.name||!space.name.trim()){return invalid(_i18n.i18n.translate("xpack.spaces.management.validateSpace.requiredNameErrorMessage",{defaultMessage:"Name is required."}))}if(space.name.length>1024){return invalid(_i18n.i18n.translate("xpack.spaces.management.validateSpace.nameMaxLengthErrorMessage",{defaultMessage:"Name must not exceed 1024 characters."}))}return valid()}},{key:"validateSpaceDescription",value:function validateSpaceDescription(space){if(!this.shouldValidate){return valid()}if(space.description&&space.description.length>2e3){return invalid(_i18n.i18n.translate("xpack.spaces.management.validateSpace.describeMaxLengthErrorMessage",{defaultMessage:"Description must not exceed 2000 characters."}))}return valid()}},{key:"validateURLIdentifier",value:function validateURLIdentifier(space){if(!this.shouldValidate){return valid()}if((0,_is_reserved_space.isReservedSpace)(space)){return valid()}if(!space.id){return invalid(_i18n.i18n.translate("xpack.spaces.management.validateSpace.urlIdentifierRequiredErrorMessage",{defaultMessage:"URL identifier is required."}))}if(!(0,_space_identifier_utils.isValidSpaceIdentifier)(space.id)){return invalid(_i18n.i18n.translate("xpack.spaces.management.validateSpace.urlIdentifierAllowedCharactersErrorMessage",{defaultMessage:'URL identifier can only contain a-z, 0-9, and the characters "_" and "-".'}))}return valid()}},{key:"validateEnabledFeatures",value:function validateEnabledFeatures(space){return valid()}},{key:"validateForSave",value:function validateForSave(space){var _this$validateSpaceNa=this.validateSpaceName(space),isNameInvalid=_this$validateSpaceNa.isInvalid;var _this$validateSpaceDe=this.validateSpaceDescription(space),isDescriptionInvalid=_this$validateSpaceDe.isInvalid;var _this$validateURLIden=this.validateURLIdentifier(space),isIdentifierInvalid=_this$validateURLIden.isInvalid;var _this$validateEnabled=this.validateEnabledFeatures(space),areFeaturesInvalid=_this$validateEnabled.isInvalid;if(isNameInvalid||isDescriptionInvalid||isIdentifierInvalid||areFeaturesInvalid){return invalid()}return valid()}}]);return SpaceValidator}();exports.SpaceValidator=SpaceValidator;function invalid(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SectionPanel",{enumerable:true,get:function get(){return _section_panel.SectionPanel}});var _section_panel=__webpack_require__(100)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setServices=setServices;exports.getServices=getServices;var services=null;function setServices(newServices){services=newServices}function getServices(){if(!services){throw new Error("Kibana services not set - are you trying to import this module from outside of the home app?")}return services}},function(module,exports,__webpack_require__){"use strict";var _DISPLAY_MAP;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getDisplayText=getDisplayText;exports.INSTRUCTION_VARIANT=void 0;var INSTRUCTION_VARIANT={ESC:"esc",OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js",GO:"go",JAVA:"java",DOTNET:"dotnet",LINUX:"linux"};exports.INSTRUCTION_VARIANT=INSTRUCTION_VARIANT;var DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.ESC,"Elastic Cloud"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"RUM (JS)"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.GO,"Go"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JAVA,"Java"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOTNET,".NET"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.LINUX,"Linux"),_DISPLAY_MAP);function getDisplayText(id){if(id in DISPLAY_MAP){return DISPLAY_MAP[id]}return id}},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SpacesPluginSetup",{enumerable:true,get:function get(){return _plugin.SpacesPluginSetup}});Object.defineProperty(exports,"SpacesPluginStart",{enumerable:true,get:function get(){return _plugin.SpacesPluginStart}});Object.defineProperty(exports,"Space",{enumerable:true,get:function get(){return _space.Space}});Object.defineProperty(exports,"SpaceAvatar",{enumerable:true,get:function get(){return _space_avatar.SpaceAvatar}});Object.defineProperty(exports,"getSpaceColor",{enumerable:true,get:function get(){return _space_avatar.getSpaceColor}});Object.defineProperty(exports,"getSpaceImageUrl",{enumerable:true,get:function get(){return _space_avatar.getSpaceImageUrl}});Object.defineProperty(exports,"getSpaceInitials",{enumerable:true,get:function get(){return _space_avatar.getSpaceInitials}});exports.plugin=void 0;var _plugin=__webpack_require__(34);var _space=__webpack_require__(113);var _space_avatar=__webpack_require__(4);var plugin=function plugin(){return new _plugin.SpacesPlugin};exports.plugin=plugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpacesPlugin=void 0;var _spaces_manager=__webpack_require__(35);var _nav_control=__webpack_require__(39);var _create_feature_catalogue_entry=__webpack_require__(46);var _copy_saved_objects_to_space=__webpack_require__(18);var _advanced_settings=__webpack_require__(78);var _management=__webpack_require__(85);var _space_selector=__webpack_require__(111);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpacesPlugin=function(){function SpacesPlugin(){_classCallCheck(this,SpacesPlugin);_defineProperty(this,"spacesManager",void 0);_defineProperty(this,"managementService",void 0)}_createClass(SpacesPlugin,[{key:"setup",value:function setup(core,plugins){var _this=this;this.spacesManager=new _spaces_manager.SpacesManager(core.http);if(plugins.home){plugins.home.featureCatalogue.register((0,_create_feature_catalogue_entry.createSpacesFeatureCatalogueEntry)())}if(plugins.management){var _plugins$security;this.managementService=new _management.ManagementService;this.managementService.setup({management:plugins.management,getStartServices:core.getStartServices,spacesManager:this.spacesManager,securityLicense:(_plugins$security=plugins.security)===null||_plugins$security===void 0?void 0:_plugins$security.license})}if(plugins.advancedSettings){var advancedSettingsService=new _advanced_settings.AdvancedSettingsService;advancedSettingsService.setup({getActiveSpace:function getActiveSpace(){return _this.spacesManager.getActiveSpace()},componentRegistry:plugins.advancedSettings.component})}_space_selector.spaceSelectorApp.create({getStartServices:core.getStartServices,application:core.application,spacesManager:this.spacesManager});return{registerLegacyAPI:function registerLegacyAPI(legacyAPI){var copySavedObjectsToSpaceService=new _copy_saved_objects_to_space.CopySavedObjectsToSpaceService;copySavedObjectsToSpaceService.setup({spacesManager:_this.spacesManager,managementSetup:{savedObjects:{registry:{register:function register(action){return legacyAPI.registerSavedObjectsManagementAction(action)},has:function has(){throw new Error("not available in legacy shim")},get:function get(){throw new Error("not available in legacy shim")}}}},notificationsSetup:core.notifications})}}}},{key:"start",value:function start(core,plugins){var _this2=this;(0,_nav_control.initSpacesNavControl)(this.spacesManager,core);if(this.managementService){this.managementService.start({capabilities:core.application.capabilities})}return{activeSpace$:this.spacesManager.onActiveSpaceChange$,getActiveSpace:function getActiveSpace(){return _this2.spacesManager.getActiveSpace()}}}},{key:"stop",value:function stop(){if(this.managementService){this.managementService.stop();this.managementService=undefined}}}]);return SpacesPlugin}();exports.SpacesPlugin=SpacesPlugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SpacesManager",{enumerable:true,get:function get(){return _spaces_manager.SpacesManager}});var _spaces_manager=__webpack_require__(36)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpacesManager=void 0;var _rxjs=__webpack_require__(37);var _operators=__webpack_require__(38);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpacesManager=function(){function SpacesManager(http){_classCallCheck(this,SpacesManager);this.http=http;_defineProperty(this,"activeSpace$",new _rxjs.BehaviorSubject(null));_defineProperty(this,"serverBasePath",void 0);_defineProperty(this,"onActiveSpaceChange$",void 0);this.serverBasePath=http.basePath.serverBasePath;this.onActiveSpaceChange$=this.activeSpace$.asObservable().pipe((0,_operators.skipWhile)((function(v){return v==null})));this.refreshActiveSpace()}_createClass(SpacesManager,[{key:"getSpaces",value:function(){var _getSpaces=_asyncToGenerator(regeneratorRuntime.mark((function _callee(purpose){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.http.get("/api/spaces/space",{query:{purpose:purpose}});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee,this)})));function getSpaces(_x){return _getSpaces.apply(this,arguments)}return getSpaces}()},{key:"getSpace",value:function(){var _getSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(id){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.http.get("/api/spaces/space/".concat(encodeURIComponent(id)));case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2,this)})));function getSpace(_x2){return _getSpace.apply(this,arguments)}return getSpace}()},{key:"getActiveSpace",value:function getActiveSpace(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$forceRefresh=_ref.forceRefresh,forceRefresh=_ref$forceRefresh===void 0?false:_ref$forceRefresh;if(this.isAnonymousPath()){throw new Error("Cannot retrieve the active space for anonymous paths")}if(!forceRefresh&&this.activeSpace$.value){return Promise.resolve(this.activeSpace$.value)}return this.http.get("/internal/spaces/_active_space")}},{key:"createSpace",value:function(){var _createSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(space){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.http.post("/api/spaces/space",{body:JSON.stringify(space)});case 2:case"end":return _context3.stop()}}}),_callee3,this)})));function createSpace(_x3){return _createSpace.apply(this,arguments)}return createSpace}()},{key:"updateSpace",value:function(){var _updateSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(space){var activeSpaceId;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.http.put("/api/spaces/space/".concat(encodeURIComponent(space.id)),{query:{overwrite:true},body:JSON.stringify(space)});case 2:_context4.next=4;return this.getActiveSpace();case 4:activeSpaceId=_context4.sent.id;if(space.id===activeSpaceId){this.refreshActiveSpace()}case 6:case"end":return _context4.stop()}}}),_callee4,this)})));function updateSpace(_x4){return _updateSpace.apply(this,arguments)}return updateSpace}()},{key:"deleteSpace",value:function(){var _deleteSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(space){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.http.delete("/api/spaces/space/".concat(encodeURIComponent(space.id)));case 2:case"end":return _context5.stop()}}}),_callee5,this)})));function deleteSpace(_x5){return _deleteSpace.apply(this,arguments)}return deleteSpace}()},{key:"copySavedObjects",value:function(){var _copySavedObjects=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(objects,spaces,includeReferences,overwrite){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",this.http.post("/api/spaces/_copy_saved_objects",{body:JSON.stringify({objects:objects,spaces:spaces,includeReferences:includeReferences,overwrite:overwrite})}));case 1:case"end":return _context6.stop()}}}),_callee6,this)})));function copySavedObjects(_x6,_x7,_x8,_x9){return _copySavedObjects.apply(this,arguments)}return copySavedObjects}()},{key:"resolveCopySavedObjectsErrors",value:function(){var _resolveCopySavedObjectsErrors=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(objects,retries,includeReferences){return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",this.http.post("/api/spaces/_resolve_copy_saved_objects_errors",{body:JSON.stringify({objects:objects,includeReferences:includeReferences,retries:retries})}));case 1:case"end":return _context7.stop()}}}),_callee7,this)})));function resolveCopySavedObjectsErrors(_x10,_x11,_x12){return _resolveCopySavedObjectsErrors.apply(this,arguments)}return resolveCopySavedObjectsErrors}()},{key:"redirectToSpaceSelector",value:function redirectToSpaceSelector(){window.location.href="".concat(this.serverBasePath,"/spaces/space_selector")}},{key:"refreshActiveSpace",value:function(){var _refreshActiveSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var activeSpace;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!this.isAnonymousPath()){_context8.next=2;break}return _context8.abrupt("return");case 2:_context8.next=4;return this.getActiveSpace({forceRefresh:true});case 4:activeSpace=_context8.sent;this.activeSpace$.next(activeSpace);case 6:case"end":return _context8.stop()}}}),_callee8,this)})));function refreshActiveSpace(){return _refreshActiveSpace.apply(this,arguments)}return refreshActiveSpace}()},{key:"isAnonymousPath",value:function isAnonymousPath(){return this.http.anonymousPaths.isAnonymous(window.location.pathname)}}]);return SpacesManager}();exports.SpacesManager=SpacesManager},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"initSpacesNavControl",{enumerable:true,get:function get(){return _nav_control.initSpacesNavControl}});var _nav_control=__webpack_require__(40)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initSpacesNavControl=initSpacesNavControl;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _nav_control_popover=__webpack_require__(41);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initSpacesNavControl(spacesManager,core){var I18nContext=core.i18n.Context;core.chrome.navControls.registerLeft({order:1e3,mount:function mount(targetDomElement){if(core.http.anonymousPaths.isAnonymous(window.location.pathname)){return function(){return null}}_reactDom.default.render(_react.default.createElement(I18nContext,null,_react.default.createElement(_nav_control_popover.NavControlPopover,{spacesManager:spacesManager,serverBasePath:core.http.basePath.serverBasePath,anchorPosition:"downLeft",capabilities:core.application.capabilities,navigateToApp:core.application.navigateToApp})),targetDomElement);return function(){_reactDom.default.unmountComponentAtNode(targetDomElement)}}})}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NavControlPopover=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireWildcard(__webpack_require__(0));var _space_avatar=__webpack_require__(4);var _spaces_description=__webpack_require__(44);var _spaces_menu=__webpack_require__(45);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var popoutContentId="headerSpacesMenuContent";var NavControlPopover=function(_Component){_inherits(NavControlPopover,_Component);function NavControlPopover(props){var _this;_classCallCheck(this,NavControlPopover);_this=_possibleConstructorReturn(this,_getPrototypeOf(NavControlPopover).call(this,props));_defineProperty(_assertThisInitialized(_this),"activeSpace$",void 0);_defineProperty(_assertThisInitialized(_this),"getActiveSpaceButton",(function(){var activeSpace=_this.state.activeSpace;if(!activeSpace){return _this.getButton(_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),"loading")}return _this.getButton(_react.default.createElement(_space_avatar.SpaceAvatar,{space:activeSpace,size:"s",className:"spaceNavGraphic"}),activeSpace.name)}));_defineProperty(_assertThisInitialized(_this),"getButton",(function(linkIcon,linkTitle){return _react.default.createElement(_eui.EuiHeaderSectionItemButton,{"aria-controls":popoutContentId,"aria-expanded":_this.state.showSpaceSelector,"aria-haspopup":"true","aria-label":linkTitle,title:linkTitle,onClick:_this.toggleSpaceSelector},linkIcon)}));_defineProperty(_assertThisInitialized(_this),"toggleSpaceSelector",(function(){var isOpening=!_this.state.showSpaceSelector;if(isOpening){_this.loadSpaces()}_this.setState({showSpaceSelector:!_this.state.showSpaceSelector})}));_defineProperty(_assertThisInitialized(_this),"closeSpaceSelector",(function(){_this.setState({showSpaceSelector:false})}));_this.state={showSpaceSelector:false,loading:false,activeSpace:null,spaces:[]};return _this}_createClass(NavControlPopover,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.activeSpace$=this.props.spacesManager.onActiveSpaceChange$.subscribe({next:function next(activeSpace){_this2.setState({activeSpace:activeSpace})}})}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.activeSpace$){this.activeSpace$.unsubscribe()}}},{key:"render",value:function render(){var button=this.getActiveSpaceButton();if(!button){return null}var element;if(!this.state.loading&&this.state.spaces.length<2){element=_react.default.createElement(_spaces_description.SpacesDescription,{id:popoutContentId,onManageSpacesClick:this.toggleSpaceSelector,capabilities:this.props.capabilities,navigateToApp:this.props.navigateToApp})}else{element=_react.default.createElement(_spaces_menu.SpacesMenu,{id:popoutContentId,spaces:this.state.spaces,isLoading:this.state.loading,serverBasePath:this.props.serverBasePath,onManageSpacesClick:this.toggleSpaceSelector,capabilities:this.props.capabilities,navigateToApp:this.props.navigateToApp})}return _react.default.createElement(_eui.EuiPopover,{id:"spcMenuPopover","data-test-subj":"spacesNavSelector",button:button,isOpen:this.state.showSpaceSelector,closePopover:this.closeSpaceSelector,anchorPosition:this.props.anchorPosition,panelPaddingSize:"none",repositionOnScroll:true,withTitle:this.props.anchorPosition.includes("down"),ownFocus:true},element)}},{key:"loadSpaces",value:function(){var _loadSpaces=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var spacesManager,spaces;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:spacesManager=this.props.spacesManager;if(!this.state.loading){_context.next=3;break}return _context.abrupt("return");case 3:this.setState({loading:true});_context.next=6;return spacesManager.getSpaces();case 6:spaces=_context.sent;this.setState({spaces:spaces,loading:false});case 8:case"end":return _context.stop()}}}),_callee,this)})));function loadSpaces(){return _loadSpaces.apply(this,arguments)}return loadSpaces}()}]);return NavControlPopover}(_react.Component);exports.NavControlPopover=NavControlPopover},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpaceAvatar=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _common=__webpack_require__(5);var _space_attributes=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var SpaceAvatar=function SpaceAvatar(props){var space=props.space,size=props.size,announceSpaceName=props.announceSpaceName,rest=_objectWithoutProperties(props,["space","size","announceSpaceName"]);var spaceName=space.name?space.name.trim():"";var spaceColor=(0,_space_attributes.getSpaceColor)(space);return _react.default.createElement(_eui.EuiAvatar,_extends({type:"space","data-test-subj":"space-avatar-".concat(space.id),name:spaceName},!announceSpaceName&&{"aria-label":"","aria-hidden":true},{size:size||"m",initialsLength:_common.MAX_SPACE_INITIALS,initials:(0,_space_attributes.getSpaceInitials)(space),color:(0,_eui.isValidHex)(spaceColor)?spaceColor:"",imageUrl:(0,_space_attributes.getSpaceImageUrl)(space)},rest))};exports.SpaceAvatar=SpaceAvatar;SpaceAvatar.defaultProps={announceSpaceName:true}},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.getSpaceIdFromPath=getSpaceIdFromPath;exports.addSpaceIdToPath=addSpaceIdToPath;var _constants=__webpack_require__(7);function getSpaceIdFromPath(){var requestBasePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"/";var serverBasePath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"/";var pathToCheck=requestBasePath;if(serverBasePath&&serverBasePath!=="/"&&requestBasePath.startsWith(serverBasePath)){pathToCheck=requestBasePath.substr(serverBasePath.length)}var matchResult=pathToCheck.match(/^\/s\/([a-z0-9_\-]+)/);if(!matchResult||matchResult.length===0){return _constants.DEFAULT_SPACE_ID}var _matchResult=_slicedToArray(matchResult,2),spaceId=_matchResult[1];if(!spaceId){throw new Error("Unable to determine Space ID from request path: ".concat(requestBasePath))}return spaceId}function addSpaceIdToPath(){var basePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"/";var spaceId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var requestedPath=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(requestedPath&&!requestedPath.startsWith("/")){throw new Error("path must start with a /")}if(spaceId&&spaceId!==_constants.DEFAULT_SPACE_ID){return"".concat(basePath,"/s/").concat(spaceId).concat(requestedPath)}return"".concat(basePath).concat(requestedPath)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpacesDescription=void 0;var _eui=__webpack_require__(1);var _react=_interopRequireDefault(__webpack_require__(0));var _manage_spaces_button=__webpack_require__(17);var _constants=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SpacesDescription=function SpacesDescription(props){var panelProps={id:props.id,className:"spcDescription",title:"Spaces"};return _react.default.createElement(_eui.EuiContextMenuPanel,panelProps,_react.default.createElement(_eui.EuiText,{className:"spcDescription__text"},_react.default.createElement("p",null,(0,_constants.getSpacesFeatureDescription)())),_react.default.createElement("div",{key:"manageSpacesButton",className:"spcDescription__manageButtonWrapper"},_react.default.createElement(_manage_spaces_button.ManageSpacesButton,{size:"s",style:{width:"100%"},onClick:props.onManageSpacesClick,capabilities:props.capabilities,navigateToApp:props.navigateToApp})))};exports.SpacesDescription=SpacesDescription},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SpacesMenu=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));var _common=__webpack_require__(5);var _manage_spaces_button=__webpack_require__(17);var _space_avatar=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpacesMenuUI=function(_Component){_inherits(SpacesMenuUI,_Component);function SpacesMenuUI(){var _getPrototypeOf2;var _this;_classCallCheck(this,SpacesMenuUI);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SpacesMenuUI)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{searchTerm:"",allowSpacesListFocus:false});_defineProperty(_assertThisInitialized(_this),"getVisibleSpaces",(function(searchTerm){var spaces=_this.props.spaces;var filteredSpaces=spaces;if(searchTerm){filteredSpaces=spaces.filter((function(space){var name=space.name,_space$description=space.description,description=_space$description===void 0?"":_space$description;return name.toLowerCase().indexOf(searchTerm)>=0||description.toLowerCase().indexOf(searchTerm)>=0}))}return filteredSpaces}));_defineProperty(_assertThisInitialized(_this),"renderSpacesListPanel",(function(items,searchTerm){if(items.length===0){return _react2.default.createElement(_eui.EuiText,{color:"subdued",className:"eui-textCenter"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.navControl.spacesMenu.noSpacesFoundTitle",defaultMessage:" no spaces found "}))}return _react2.default.createElement(_eui.EuiContextMenuPanel,{key:"spcMenuList","data-search-term":searchTerm,className:"spcMenu__spacesList",hasFocus:_this.state.allowSpacesListFocus,initialFocusedItemIndex:_this.state.allowSpacesListFocus?0:undefined,items:items})}));_defineProperty(_assertThisInitialized(_this),"renderSearchField",(function(){var intl=_this.props.intl;return _react2.default.createElement("div",{key:"manageSpacesSearchField",className:"spcMenu__searchFieldWrapper"},_react2.default.createElement(_eui.EuiFieldSearch,{placeholder:intl.formatMessage({id:"xpack.spaces.navControl.spacesMenu.findSpacePlaceholder",defaultMessage:"Find a space"}),incremental:true,onSearch:_this.onSearch,onKeyDown:_this.onSearchKeyDown,onFocus:_this.onSearchFocus,compressed:true}))}));_defineProperty(_assertThisInitialized(_this),"onSearchKeyDown",(function(e){var focusableKeyCodes=[9,13,40];var keyCode=e.keyCode;if(focusableKeyCodes.includes(keyCode)){_this.setState({allowSpacesListFocus:true})}}));_defineProperty(_assertThisInitialized(_this),"onSearchFocus",(function(){_this.setState({allowSpacesListFocus:false})}));_defineProperty(_assertThisInitialized(_this),"renderManageButton",(function(){return _react2.default.createElement(_manage_spaces_button.ManageSpacesButton,{key:"manageSpacesButton",className:"spcMenu__manageButton",size:"s",onClick:_this.props.onManageSpacesClick,capabilities:_this.props.capabilities,navigateToApp:_this.props.navigateToApp})}));_defineProperty(_assertThisInitialized(_this),"onSearch",(function(searchTerm){_this.setState({searchTerm:searchTerm.trim().toLowerCase()})}));_defineProperty(_assertThisInitialized(_this),"renderSpaceMenuItem",(function(space){var icon=_react2.default.createElement(_space_avatar.SpaceAvatar,{space:space,size:"s"});return _react2.default.createElement(_eui.EuiContextMenuItem,{key:space.id,icon:icon,href:(0,_common.addSpaceIdToPath)(_this.props.serverBasePath,space.id,_common.ENTER_SPACE_PATH),toolTipTitle:space.description&&space.name,toolTipContent:space.description},space.name)}));_defineProperty(_assertThisInitialized(_this),"renderPlaceholderMenuItem",(function(key){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:key,disabled:true},_react2.default.createElement(_eui.EuiLoadingContent,{lines:1}))}));return _this}_createClass(SpacesMenuUI,[{key:"render",value:function render(){var _this$props=this.props,intl=_this$props.intl,isLoading=_this$props.isLoading;var searchTerm=this.state.searchTerm;var items=isLoading?[1,2,3].map(this.renderPlaceholderMenuItem):this.getVisibleSpaces(searchTerm).map(this.renderSpaceMenuItem);var panelProps={id:this.props.id,className:"spcMenu",title:intl.formatMessage({id:"xpack.spaces.navControl.spacesMenu.changeCurrentSpaceTitle",defaultMessage:"Change current space"}),watchedItemProps:["data-search-term"]};if(this.props.spaces.length>=_common.SPACE_SEARCH_COUNT_THRESHOLD){return _react2.default.createElement(_eui.EuiContextMenuPanel,panelProps,this.renderSearchField(),this.renderSpacesListPanel(items,searchTerm),this.renderManageButton())}items.push(this.renderManageButton());return _react2.default.createElement(_eui.EuiContextMenuPanel,_extends({},panelProps,{items:items}))}}]);return SpacesMenuUI}(_react2.Component);var SpacesMenu=(0,_react.injectI18n)(SpacesMenuUI);exports.SpacesMenu=SpacesMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSpacesFeatureCatalogueEntry=void 0;var _i18n=__webpack_require__(3);var _public=__webpack_require__(9);var _constants=__webpack_require__(8);var createSpacesFeatureCatalogueEntry=function createSpacesFeatureCatalogueEntry(){return{id:"spaces",title:_i18n.i18n.translate("xpack.spaces.spacesTitle",{defaultMessage:"Spaces"}),description:(0,_constants.getSpacesFeatureDescription)(),icon:"spacesApp",path:"/app/kibana#/management/kibana/spaces",showOnHomePage:true,category:_public.FeatureCatalogueCategory.ADMIN}};exports.createSpacesFeatureCatalogueEntry=createSpacesFeatureCatalogueEntry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomePublicPlugin=void 0;var _services=__webpack_require__(14);var _kibana_services=__webpack_require__(30);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var HomePublicPlugin=function(){function HomePublicPlugin(initializerContext){_classCallCheck(this,HomePublicPlugin);this.initializerContext=initializerContext;_defineProperty(this,"featuresCatalogueRegistry",new _services.FeatureCatalogueRegistry);_defineProperty(this,"environmentService",new _services.EnvironmentService);_defineProperty(this,"tutorialService",new _services.TutorialService)}_createClass(HomePublicPlugin,[{key:"setup",value:function setup(core,_ref){var _this=this;var kibanaLegacy=_ref.kibanaLegacy,usageCollection=_ref.usageCollection;kibanaLegacy.registerLegacyApp({id:"home",title:"Home",mount:function(){var _mount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(params){var trackUiMetric,_ref2,_ref3,coreStart,_ref3$,telemetry,data,_ref4,renderApp;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:trackUiMetric=usageCollection?usageCollection.reportUiStats.bind(usageCollection,"Kibana_home"):function(){};_context.next=3;return core.getStartServices();case 3:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,2);coreStart=_ref3[0];_ref3$=_ref3[1];telemetry=_ref3$.telemetry;data=_ref3$.data;(0,_kibana_services.setServices)({trackUiMetric:trackUiMetric,kibanaVersion:_this.initializerContext.env.packageInfo.version,http:coreStart.http,toastNotifications:core.notifications.toasts,banners:coreStart.overlays.banners,docLinks:coreStart.docLinks,savedObjectsClient:coreStart.savedObjects.client,chrome:coreStart.chrome,telemetry:telemetry,uiSettings:core.uiSettings,addBasePath:core.http.basePath.prepend,getBasePath:core.http.basePath.get,indexPatternService:data.indexPatterns,environmentService:_this.environmentService,config:kibanaLegacy.config,homeConfig:_this.initializerContext.config.get(),tutorialService:_this.tutorialService,featureCatalogue:_this.featuresCatalogueRegistry});_context.next=12;return Promise.all([__webpack_require__.e(2),__webpack_require__.e(1)]).then(__webpack_require__.t.bind(null,115,7));case 12:_ref4=_context.sent;renderApp=_ref4.renderApp;_context.next=16;return renderApp(params.element);case 16:return _context.abrupt("return",_context.sent);case 17:case"end":return _context.stop()}}}),_callee)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()});return{featureCatalogue:_objectSpread({},this.featuresCatalogueRegistry.setup()),environment:_objectSpread({},this.environmentService.setup()),tutorials:_objectSpread({},this.tutorialService.setup())}}},{key:"start",value:function start(_ref5){var capabilities=_ref5.application.capabilities;this.featuresCatalogueRegistry.start({capabilities:capabilities})}}]);return HomePublicPlugin}();exports.HomePublicPlugin=HomePublicPlugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"FeatureCatalogueCategory",{enumerable:true,get:function get(){return _feature_catalogue_registry.FeatureCatalogueCategory}});Object.defineProperty(exports,"FeatureCatalogueEntry",{enumerable:true,get:function get(){return _feature_catalogue_registry.FeatureCatalogueEntry}});Object.defineProperty(exports,"FeatureCatalogueRegistry",{enumerable:true,get:function get(){return _feature_catalogue_registry.FeatureCatalogueRegistry}});Object.defineProperty(exports,"FeatureCatalogueRegistrySetup",{enumerable:true,get:function get(){return _feature_catalogue_registry.FeatureCatalogueRegistrySetup}});var _feature_catalogue_registry=__webpack_require__(49)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureCatalogueRegistry=exports.FeatureCatalogueCategory=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FeatureCatalogueCategory;exports.FeatureCatalogueCategory=FeatureCatalogueCategory;(function(FeatureCatalogueCategory){FeatureCatalogueCategory["ADMIN"]="admin";FeatureCatalogueCategory["DATA"]="data";FeatureCatalogueCategory["OTHER"]="other"})(FeatureCatalogueCategory||(exports.FeatureCatalogueCategory=FeatureCatalogueCategory={}));var FeatureCatalogueRegistry=function(){function FeatureCatalogueRegistry(){_classCallCheck(this,FeatureCatalogueRegistry);_defineProperty(this,"capabilities",null);_defineProperty(this,"features",new Map)}_createClass(FeatureCatalogueRegistry,[{key:"setup",value:function setup(){var _this=this;return{register:function register(feature){if(_this.features.has(feature.id)){throw new Error("Feature with id [".concat(feature.id,"] has already been registered. Use a unique id."))}_this.features.set(feature.id,feature)}}}},{key:"start",value:function start(_ref){var capabilities=_ref.capabilities;this.capabilities=capabilities}},{key:"get",value:function get(){if(this.capabilities===null){throw new Error("Catalogue entries are only available after start phase")}var capabilities=this.capabilities;return _toConsumableArray(this.features.values()).filter((function(entry){return capabilities.catalogue[entry.id]!==false})).sort(compareByKey("title"))}}]);return FeatureCatalogueRegistry}();exports.FeatureCatalogueRegistry=FeatureCatalogueRegistry;var compareByKey=function compareByKey(key){return function(left,right){if(left[key]<right[key]){return-1}else if(left[key]>right[key]){return 1}else{return 0}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EnvironmentService",{enumerable:true,get:function get(){return _environment.EnvironmentService}});Object.defineProperty(exports,"Environment",{enumerable:true,get:function get(){return _environment.Environment}});Object.defineProperty(exports,"EnvironmentServiceSetup",{enumerable:true,get:function get(){return _environment.EnvironmentServiceSetup}});var _environment=__webpack_require__(51)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EnvironmentService=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EnvironmentService=function(){function EnvironmentService(){_classCallCheck(this,EnvironmentService);_defineProperty(this,"environment",{cloud:false,apmUi:false,ml:false})}_createClass(EnvironmentService,[{key:"setup",value:function setup(){var _this=this;return{update:function update(_update){_this.environment=Object.assign({},_this.environment,_update)}}}},{key:"getEnvironment",value:function getEnvironment(){return this.environment}}]);return EnvironmentService}();exports.EnvironmentService=EnvironmentService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TutorialService",{enumerable:true,get:function get(){return _tutorial_service.TutorialService}});Object.defineProperty(exports,"TutorialVariables",{enumerable:true,get:function get(){return _tutorial_service.TutorialVariables}});Object.defineProperty(exports,"TutorialServiceSetup",{enumerable:true,get:function get(){return _tutorial_service.TutorialServiceSetup}});var _tutorial_service=__webpack_require__(53)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TutorialService=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TutorialService=function(){function TutorialService(){_classCallCheck(this,TutorialService);_defineProperty(this,"tutorialVariables",{})}_createClass(TutorialService,[{key:"setup",value:function setup(){var _this=this;return{setVariable:function setVariable(key,value){if(_this.tutorialVariables[key]){throw new Error("variable already set")}_this.tutorialVariables[key]=value}}}},{key:"getVariables",value:function getVariables(){return this.tutorialVariables}}]);return TutorialService}();exports.TutorialService=TutorialService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.summarizeCopyResult=summarizeCopyResult;function summarizeCopyResult(savedObject,copyResult,includeRelated){var successful=Boolean(copyResult&&copyResult.failedImports.length===0);var conflicts=copyResult?copyResult.failedImports.filter((function(failed){return failed.error.type==="conflict"})):[];var unresolvableErrors=copyResult?copyResult.failedImports.filter((function(failed){return failed.error.type!=="conflict"})):[];var hasConflicts=conflicts.length>0;var hasUnresolvableErrors=Boolean(copyResult&&copyResult.failedImports.some((function(failed){return failed.error.type!=="conflict"})));var objectMap=new Map;objectMap.set("".concat(savedObject.type,":").concat(savedObject.id),{type:savedObject.type,id:savedObject.id,name:savedObject.meta.title,conflicts:conflicts.filter((function(c){return c.obj.type===savedObject.type&&c.obj.id===savedObject.id})),hasUnresolvableErrors:unresolvableErrors.some((function(e){return e.obj.type===savedObject.type&&e.obj.id===savedObject.id}))});if(includeRelated){savedObject.references.forEach((function(ref){objectMap.set("".concat(ref.type,":").concat(ref.id),{type:ref.type,id:ref.id,name:ref.name,conflicts:conflicts.filter((function(c){return c.obj.type===ref.type&&c.obj.id===ref.id})),hasUnresolvableErrors:unresolvableErrors.some((function(e){return e.obj.type===ref.type&&e.obj.id===ref.id}))})}));var transitiveConflicts=conflicts.filter((function(c){return!objectMap.has("".concat(c.obj.type,":").concat(c.obj.id))}));transitiveConflicts.forEach((function(conflict){objectMap.set("".concat(conflict.obj.type,":").concat(conflict.obj.id),{type:conflict.obj.type,id:conflict.obj.id,name:conflict.obj.title||conflict.obj.id,conflicts:conflicts.filter((function(c){return c.obj.type===conflict.obj.type&&conflict.obj.id})),hasUnresolvableErrors:unresolvableErrors.some((function(e){return e.obj.type===conflict.obj.type&&e.obj.id===conflict.obj.id}))})}))}if(typeof copyResult==="undefined"){return{processing:true,objects:Array.from(objectMap.values())}}if(successful){return{successful:successful,hasConflicts:false,objects:Array.from(objectMap.values()),hasUnresolvableErrors:false,processing:false}}return{successful:successful,hasConflicts:hasConflicts,objects:Array.from(objectMap.values()),hasUnresolvableErrors:hasUnresolvableErrors,processing:false}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopySavedObjectsToSpaceService=void 0;var _copy_saved_objects_to_space_action=__webpack_require__(56);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var CopySavedObjectsToSpaceService=function(){function CopySavedObjectsToSpaceService(){_classCallCheck(this,CopySavedObjectsToSpaceService)}_createClass(CopySavedObjectsToSpaceService,[{key:"setup",value:function setup(_ref){var spacesManager=_ref.spacesManager,managementSetup=_ref.managementSetup,notificationsSetup=_ref.notificationsSetup;var action=new _copy_saved_objects_to_space_action.CopyToSpaceSavedObjectsManagementAction(spacesManager,notificationsSetup);managementSetup.savedObjects.registry.register(action)}}]);return CopySavedObjectsToSpaceService}();exports.CopySavedObjectsToSpaceService=CopySavedObjectsToSpaceService},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.CopyToSpaceSavedObjectsManagementAction=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(3);var _public=__webpack_require__(19);var _components=__webpack_require__(68);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CopyToSpaceSavedObjectsManagementAction=function(_SavedObjectsManageme){_inherits(CopyToSpaceSavedObjectsManagementAction,_SavedObjectsManageme);function CopyToSpaceSavedObjectsManagementAction(spacesManager,notifications){var _this;_classCallCheck(this,CopyToSpaceSavedObjectsManagementAction);_this=_possibleConstructorReturn(this,_getPrototypeOf(CopyToSpaceSavedObjectsManagementAction).call(this));_this.spacesManager=spacesManager;_this.notifications=notifications;_defineProperty(_assertThisInitialized(_this),"id","copy_saved_objects_to_space");_defineProperty(_assertThisInitialized(_this),"euiAction",{name:_i18n.i18n.translate("xpack.spaces.management.copyToSpace.actionTitle",{defaultMessage:"Copy to space"}),description:_i18n.i18n.translate("xpack.spaces.management.copyToSpace.actionDescription",{defaultMessage:"Copy this saved object to one or more spaces"}),icon:"spacesApp",type:"icon",onClick:function onClick(object){_this.start(object)}});_defineProperty(_assertThisInitialized(_this),"render",(function(){if(!_this.record){throw new Error("No record available! `render()` was likely called before `start()`.")}return _react.default.createElement(_components.CopySavedObjectsToSpaceFlyout,{onClose:_this.onClose,savedObject:_this.record,spacesManager:_this.spacesManager,toastNotifications:_this.notifications.toasts})}));_defineProperty(_assertThisInitialized(_this),"onClose",(function(){_this.finish()}));return _this}return CopyToSpaceSavedObjectsManagementAction}(_public.SavedObjectsManagementAction);exports.CopyToSpaceSavedObjectsManagementAction=CopyToSpaceSavedObjectsManagementAction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.plugin=plugin;Object.defineProperty(exports,"ManagementSetup",{enumerable:true,get:function get(){return _plugin.ManagementSetup}});Object.defineProperty(exports,"ManagementStart",{enumerable:true,get:function get(){return _plugin.ManagementStart}});Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _index_pattern_management.IndexPatternCreationConfig}});Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _index_pattern_management.IndexPatternListConfig}});Object.defineProperty(exports,"SavedObjectsManagementAction",{enumerable:true,get:function get(){return _saved_objects_management.SavedObjectsManagementAction}});Object.defineProperty(exports,"SavedObjectsManagementRecord",{enumerable:true,get:function get(){return _saved_objects_management.SavedObjectsManagementRecord}});var _plugin=__webpack_require__(58);var _index_pattern_management=__webpack_require__(20);var _saved_objects_management=__webpack_require__(10);function plugin(initializerContext){return new _plugin.ManagementPlugin(initializerContext)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManagementPlugin=void 0;var _services=__webpack_require__(59);var _saved_objects_management=__webpack_require__(10);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManagementPlugin=function(){function ManagementPlugin(initializerContext){_classCallCheck(this,ManagementPlugin);_defineProperty(this,"indexPattern",new _services.IndexPatternManagementService);_defineProperty(this,"savedObjects",new _saved_objects_management.SavedObjectsManagementService)}_createClass(ManagementPlugin,[{key:"setup",value:function setup(core,_ref){var home=_ref.home;return{indexPattern:this.indexPattern.setup({httpClient:core.http,home:home}),savedObjects:this.savedObjects.setup({home:home})}}},{key:"start",value:function start(core,plugins){return{}}},{key:"stop",value:function stop(){this.indexPattern.stop()}}]);return ManagementPlugin}();exports.ManagementPlugin=ManagementPlugin},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_pattern_management=__webpack_require__(20);Object.keys(_index_pattern_management).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_pattern_management[key]}})}));var _saved_objects_management=__webpack_require__(10);Object.keys(_saved_objects_management).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _saved_objects_management[key]}})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternManagementService=void 0;var _i18n=__webpack_require__(3);var _public=__webpack_require__(9);var _creation=__webpack_require__(21);var _list=__webpack_require__(22);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var IndexPatternManagementService=function(){function IndexPatternManagementService(){_classCallCheck(this,IndexPatternManagementService)}_createClass(IndexPatternManagementService,[{key:"setup",value:function setup(_ref){var httpClient=_ref.httpClient,home=_ref.home;var creation=new _creation.IndexPatternCreationManager(httpClient);var list=new _list.IndexPatternListManager;creation.add(_creation.IndexPatternCreationConfig);list.add(_list.IndexPatternListConfig);home.featureCatalogue.register({id:"index_patterns",title:_i18n.i18n.translate("management.indexPatternHeader",{defaultMessage:"Index Patterns"}),description:_i18n.i18n.translate("management.indexPatternLabel",{defaultMessage:"Manage the index patterns that help retrieve your data from Elasticsearch."}),icon:"indexPatternApp",path:"/app/kibana#/management/kibana/index_patterns",showOnHomePage:true,category:_public.FeatureCatalogueCategory.ADMIN});return{creation:creation,list:list}}},{key:"stop",value:function stop(){}}]);return IndexPatternManagementService}();exports.IndexPatternManagementService=IndexPatternManagementService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfig=void 0;var _i18n=__webpack_require__(3);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var indexPatternTypeName=_i18n.i18n.translate("management.editIndexPattern.createIndex.defaultTypeName",{defaultMessage:"index pattern"});var indexPatternButtonText=_i18n.i18n.translate("management.editIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Standard index pattern"});var indexPatternButtonDescription=_i18n.i18n.translate("management.editIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform full aggregations against any data"});var IndexPatternCreationConfig=function(){function IndexPatternCreationConfig(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?undefined:_ref$type,_ref$name=_ref.name,name=_ref$name===void 0?indexPatternTypeName:_ref$name,_ref$showSystemIndice=_ref.showSystemIndices,showSystemIndices=_ref$showSystemIndice===void 0?true:_ref$showSystemIndice,_ref$httpClient=_ref.httpClient,httpClient=_ref$httpClient===void 0?null:_ref$httpClient,_ref$isBeta=_ref.isBeta,isBeta=_ref$isBeta===void 0?false:_ref$isBeta;_classCallCheck(this,IndexPatternCreationConfig);_defineProperty(this,"key","default");_defineProperty(this,"type",void 0);_defineProperty(this,"name",void 0);_defineProperty(this,"showSystemIndices",void 0);_defineProperty(this,"httpClient",void 0);_defineProperty(this,"isBeta",void 0);this.type=type;this.name=name;this.showSystemIndices=showSystemIndices;this.httpClient=httpClient;this.isBeta=isBeta}_createClass(IndexPatternCreationConfig,[{key:"getIndexPatternCreationOption",value:function(){var _getIndexPatternCreationOption=_asyncToGenerator(regeneratorRuntime.mark((function _callee(urlHandler){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{text:indexPatternButtonText,description:indexPatternButtonDescription,testSubj:"createStandardIndexPatternButton",onClick:function onClick(){urlHandler("/management/kibana/index_pattern")}});case 1:case"end":return _context.stop()}}}),_callee)})));function getIndexPatternCreationOption(_x){return _getIndexPatternCreationOption.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexPatternType",value:function getIndexPatternType(){return this.type}},{key:"getIndexPatternName",value:function getIndexPatternName(){return this.name}},{key:"getIsBeta",value:function getIsBeta(){return this.isBeta}},{key:"getShowSystemIndices",value:function getShowSystemIndices(){return this.showSystemIndices}},{key:"getIndexTags",value:function getIndexTags(indexName){return[]}},{key:"checkIndicesForErrors",value:function checkIndicesForErrors(indices){return undefined}},{key:"getIndexPatternMappings",value:function getIndexPatternMappings(){return{}}},{key:"renderPrompt",value:function renderPrompt(){return null}},{key:"getFetchForWildcardOptions",value:function getFetchForWildcardOptions(){return{}}}]);return IndexPatternCreationConfig}();exports.IndexPatternCreationConfig=IndexPatternCreationConfig},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationManager=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternCreationManager=function(){function IndexPatternCreationManager(httpClient){_classCallCheck(this,IndexPatternCreationManager);this.httpClient=httpClient;_defineProperty(this,"configs",void 0);this.configs=[]}_createClass(IndexPatternCreationManager,[{key:"add",value:function add(Config){var config=new Config({httpClient:this.httpClient});if(this.configs.findIndex((function(c){return c.key===config.key}))!==-1){throw new Error("".concat(config.key," exists in IndexPatternCreationManager."))}this.configs.push(config)}},{key:"getType",value:function getType(key){if(key){var index=this.configs.findIndex((function(config){return config.key===key}));return this.configs[index]||null}else{return this.getType("default")}}},{key:"getIndexPatternCreationOptions",value:function(){var _getIndexPatternCreationOptions=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(urlHandler){var options;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=[];_context2.next=3;return Promise.all(this.configs.map(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(config){var option;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!config.getIndexPatternCreationOption){_context.next=6;break}_context.next=3;return config.getIndexPatternCreationOption(urlHandler);case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=null;case 7:option=_context.t0;if(option){options.push(option)}case 9:case"end":return _context.stop()}}}),_callee)})));return function(_x2){return _ref.apply(this,arguments)}}()));case 3:return _context2.abrupt("return",options);case 4:case"end":return _context2.stop()}}}),_callee2,this)})));function getIndexPatternCreationOptions(_x){return _getIndexPatternCreationOptions.apply(this,arguments)}return getIndexPatternCreationOptions}()}]);return IndexPatternCreationManager}();exports.IndexPatternCreationManager=IndexPatternCreationManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfig=void 0;var _i18n=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternListConfig=function(){function IndexPatternListConfig(){_classCallCheck(this,IndexPatternListConfig);_defineProperty(this,"key","default")}_createClass(IndexPatternListConfig,[{key:"getIndexPatternTags",value:function getIndexPatternTags(indexPattern,isDefault){return isDefault?[{key:"default",name:_i18n.i18n.translate("management.editIndexPattern.list.defaultIndexPatternListName",{defaultMessage:"Default"})}]:[]}},{key:"getFieldInfo",value:function getFieldInfo(indexPattern,field){return[]}},{key:"areScriptedFieldsEnabled",value:function areScriptedFieldsEnabled(indexPattern){return true}}]);return IndexPatternListConfig}();exports.IndexPatternListConfig=IndexPatternListConfig},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListManager=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternListManager=function(){function IndexPatternListManager(){_classCallCheck(this,IndexPatternListManager);_defineProperty(this,"configs",void 0);this.configs=[]}_createClass(IndexPatternListManager,[{key:"add",value:function add(Config){var config=new Config;if(this.configs.findIndex((function(c){return c.key===config.key}))!==-1){throw new Error("".concat(config.key," exists in IndexPatternListManager."))}this.configs.push(config)}},{key:"getIndexPatternTags",value:function getIndexPatternTags(indexPattern,isDefault){return this.configs.reduce((function(tags,config){return config.getIndexPatternTags?tags.concat(config.getIndexPatternTags(indexPattern,isDefault)):tags}),[])}},{key:"getFieldInfo",value:function getFieldInfo(indexPattern,field){return this.configs.reduce((function(info,config){return config.getFieldInfo?info.concat(config.getFieldInfo(indexPattern,field)):info}),[])}},{key:"areScriptedFieldsEnabled",value:function areScriptedFieldsEnabled(indexPattern){return this.configs.every((function(config){return config.areScriptedFieldsEnabled?config.areScriptedFieldsEnabled(indexPattern):true}))}}]);return IndexPatternListManager}();exports.IndexPatternListManager=IndexPatternListManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsManagementAction=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementAction=function(){function SavedObjectsManagementAction(){_classCallCheck(this,SavedObjectsManagementAction);_defineProperty(this,"render",void 0);_defineProperty(this,"id",void 0);_defineProperty(this,"euiAction",void 0);_defineProperty(this,"callbacks",[]);_defineProperty(this,"record",null)}_createClass(SavedObjectsManagementAction,[{key:"registerOnFinishCallback",value:function registerOnFinishCallback(callback){this.callbacks.push(callback)}},{key:"start",value:function start(record){this.record=record}},{key:"finish",value:function finish(){this.record=null;this.callbacks.forEach((function(callback){return callback()}))}}]);return SavedObjectsManagementAction}();exports.SavedObjectsManagementAction=SavedObjectsManagementAction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsManagementService=void 0;var _i18n=__webpack_require__(3);var _public=__webpack_require__(9);var _saved_objects_management_action_registry=__webpack_require__(23);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var SavedObjectsManagementService=function(){function SavedObjectsManagementService(){_classCallCheck(this,SavedObjectsManagementService)}_createClass(SavedObjectsManagementService,[{key:"setup",value:function setup(_ref){var home=_ref.home;home.featureCatalogue.register({id:"saved_objects",title:_i18n.i18n.translate("management.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:_i18n.i18n.translate("management.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/kibana#/management/kibana/objects",showOnHomePage:true,category:_public.FeatureCatalogueCategory.ADMIN});return{registry:_saved_objects_management_action_registry.SavedObjectsManagementActionRegistry}}},{key:"stop",value:function stop(){}}]);return SavedObjectsManagementService}();exports.SavedObjectsManagementService=SavedObjectsManagementService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.processImportResponse=processImportResponse;function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function processImportResponse(response){var failedImports=[];var unmatchedReferences=new Map;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(response.errors||[])[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref2=_step.value;var error=_ref2.error,obj=_objectWithoutProperties(_ref2,["error"]);failedImports.push({obj:obj,error:error});if(error.type!=="missing_references"){continue}var indexPatternRefs=error.references.filter((function(ref){return ref.type==="index-pattern"}));var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=indexPatternRefs[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var missingReference=_step2.value;var conflict=unmatchedReferences.get("".concat(missingReference.type,":").concat(missingReference.id))||{existingIndexPatternId:missingReference.id,list:[],newIndexPatternId:undefined};conflict.list.push(obj);unmatchedReferences.set("".concat(missingReference.type,":").concat(missingReference.id),conflict)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return{failedImports:failedImports,unmatchedReferences:Array.from(unmatchedReferences.values()),status:unmatchedReferences.size===0&&!failedImports.some((function(issue){return issue.error.type==="conflict"}))?"success":"idle",importCount:response.successCount,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CopySavedObjectsToSpaceFlyout",{enumerable:true,get:function get(){return _copy_to_space_flyout.CopySavedObjectsToSpaceFlyout}});var _copy_to_space_flyout=__webpack_require__(69)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopySavedObjectsToSpaceFlyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _lodash=__webpack_require__(6);var _i18n=__webpack_require__(3);var _react2=__webpack_require__(2);var _public=__webpack_require__(19);var _processing_copy_to_space=__webpack_require__(70);var _copy_to_space_flyout_footer=__webpack_require__(75);var _copy_to_space_form=__webpack_require__(76);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CopySavedObjectsToSpaceFlyout=function CopySavedObjectsToSpaceFlyout(props){var onClose=props.onClose,savedObject=props.savedObject,spacesManager=props.spacesManager,toastNotifications=props.toastNotifications;var _useState=(0,_react.useState)({includeRelated:true,overwrite:true,selectedSpaceIds:[]}),_useState2=_slicedToArray(_useState,2),copyOptions=_useState2[0],setCopyOptions=_useState2[1];var _useState3=(0,_react.useState)({isLoading:true,spaces:[]}),_useState4=_slicedToArray(_useState3,2),_useState4$=_useState4[0],isLoading=_useState4$.isLoading,spaces=_useState4$.spaces,setSpacesState=_useState4[1];(0,_react.useEffect)((function(){var getSpaces=spacesManager.getSpaces("copySavedObjectsIntoSpace");var getActiveSpace=spacesManager.getActiveSpace();Promise.all([getSpaces,getActiveSpace]).then((function(_ref){var _ref2=_slicedToArray(_ref,2),allSpaces=_ref2[0],activeSpace=_ref2[1];setSpacesState({isLoading:false,spaces:allSpaces.filter((function(space){return space.id!==activeSpace.id}))})})).catch((function(e){toastNotifications.addError(e,{title:_i18n.i18n.translate("xpack.spaces.management.copyToSpace.spacesLoadErrorTitle",{defaultMessage:"Error loading available spaces"})})}))}),[spacesManager,toastNotifications]);var _useState5=(0,_react.useState)(false),_useState6=_slicedToArray(_useState5,2),copyInProgress=_useState6[0],setCopyInProgress=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=_slicedToArray(_useState7,2),conflictResolutionInProgress=_useState8[0],setConflictResolutionInProgress=_useState8[1];var _useState9=(0,_react.useState)({}),_useState10=_slicedToArray(_useState9,2),copyResult=_useState10[0],setCopyResult=_useState10[1];var _useState11=(0,_react.useState)({}),_useState12=_slicedToArray(_useState11,2),retries=_useState12[0],setRetries=_useState12[1];var initialCopyFinished=Object.values(copyResult).length>0;var onRetriesChange=function onRetriesChange(updatedRetries){setRetries(updatedRetries)};function startCopy(){return _startCopy.apply(this,arguments)}function _startCopy(){_startCopy=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var copySavedObjectsResult,processedResult;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setCopyInProgress(true);setCopyResult({});_context.prev=2;_context.next=5;return spacesManager.copySavedObjects([{type:savedObject.type,id:savedObject.id}],copyOptions.selectedSpaceIds,copyOptions.includeRelated,copyOptions.overwrite);case 5:copySavedObjectsResult=_context.sent;processedResult=(0,_lodash.mapValues)(copySavedObjectsResult,_public.processImportResponse);setCopyResult(processedResult);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);setCopyInProgress(false);toastNotifications.addError(_context.t0,{title:_i18n.i18n.translate("xpack.spaces.management.copyToSpace.copyErrorTitle",{defaultMessage:"Error copying saved object"})});case 14:case"end":return _context.stop()}}}),_callee,null,[[2,10]])})));return _startCopy.apply(this,arguments)}function finishCopy(){return _finishCopy.apply(this,arguments)}function _finishCopy(){_finishCopy=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var needsConflictResolution;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:needsConflictResolution=Object.values(retries).some((function(spaceRetry){return spaceRetry.some((function(retry){return retry.overwrite}))}));if(!needsConflictResolution){_context2.next=16;break}setConflictResolutionInProgress(true);_context2.prev=3;_context2.next=6;return spacesManager.resolveCopySavedObjectsErrors([{type:savedObject.type,id:savedObject.id}],retries,copyOptions.includeRelated);case 6:toastNotifications.addSuccess(_i18n.i18n.translate("xpack.spaces.management.copyToSpace.resolveCopySuccessTitle",{defaultMessage:"Overwrite successful"}));onClose();_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](3);setCopyInProgress(false);toastNotifications.addError(_context2.t0,{title:_i18n.i18n.translate("xpack.spaces.management.copyToSpace.resolveCopyErrorTitle",{defaultMessage:"Error resolving saved object conflicts"})});case 14:_context2.next=17;break;case 16:onClose();case 17:case"end":return _context2.stop()}}}),_callee2,null,[[3,10]])})));return _finishCopy.apply(this,arguments)}var getFlyoutBody=function getFlyoutBody(){if(isLoading){return _react.default.createElement(_eui.EuiLoadingSpinner,null)}if(spaces.length===0){return _react.default.createElement(_eui.EuiEmptyPrompt,{body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.noSpacesBody",defaultMessage:"There are no eligible spaces to copy into."})),title:_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.noSpacesTitle",defaultMessage:"No spaces available"}))})}if(!copyInProgress){return _react.default.createElement(_copy_to_space_form.CopyToSpaceForm,{spaces:spaces,copyOptions:copyOptions,onUpdate:setCopyOptions})}return _react.default.createElement(_processing_copy_to_space.ProcessingCopyToSpace,{savedObject:savedObject,copyInProgress:copyInProgress,conflictResolutionInProgress:conflictResolutionInProgress,copyResult:copyResult,spaces:spaces,copyOptions:copyOptions,retries:retries,onRetriesChange:onRetriesChange})};return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,maxWidth:600,"data-test-subj":"copy-to-space-flyout"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{size:"m",type:"spacesApp"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpaceFlyoutHeader",defaultMessage:"Copy saved object to space"})))))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:savedObject.meta.icon||"apps"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,savedObject.meta.title)))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),getFlyoutBody()),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_copy_to_space_flyout_footer.CopyToSpaceFlyoutFooter,{copyInProgress:copyInProgress,conflictResolutionInProgress:conflictResolutionInProgress,initialCopyFinished:initialCopyFinished,copyResult:copyResult,numberOfSelectedSpaces:copyOptions.selectedSpaceIds.length,retries:retries,onCopyStart:startCopy,onCopyFinish:finishCopy})))};exports.CopySavedObjectsToSpaceFlyout=CopySavedObjectsToSpaceFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProcessingCopyToSpace=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);var _space_result=__webpack_require__(71);var _=__webpack_require__(18);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ProcessingCopyToSpace=function ProcessingCopyToSpace(props){function updateRetries(spaceId,updatedRetries){props.onRetriesChange(_objectSpread({},props.retries,_defineProperty({},spaceId,updatedRetries)))}return _react.default.createElement("div",{"data-test-subj":"copy-to-space-processing"},_react.default.createElement(_eui.EuiListGroup,{className:"spcCopyToSpaceOptionsView",flush:true},_react.default.createElement(_eui.EuiListGroupItem,{iconType:props.copyOptions.includeRelated?"check":"cross",label:props.copyOptions.includeRelated?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.includeRelatedLabel",defaultMessage:"Including related saved objects"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.dontIncludeRelatedLabel",defaultMessage:"Not including related saved objects"})}),_react.default.createElement(_eui.EuiListGroupItem,{iconType:props.copyOptions.overwrite?"check":"cross",label:props.copyOptions.overwrite?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.overwriteLabel",defaultMessage:"Automatically overwriting saved objects"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.dontOverwriteLabel",defaultMessage:"Not overwriting saved objects"})})),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("h5",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyResultsLabel",defaultMessage:"Copy results"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),props.copyOptions.selectedSpaceIds.map((function(id){var space=props.spaces.find((function(s){return s.id===id}));var spaceCopyResult=props.copyResult[space.id];var summarizedSpaceCopyResult=(0,_.summarizeCopyResult)(props.savedObject,spaceCopyResult,props.copyOptions.includeRelated);return _react.default.createElement(_react.Fragment,{key:id},_react.default.createElement(_space_result.SpaceResult,{savedObject:props.savedObject,space:space,summarizedCopyResult:summarizedSpaceCopyResult,retries:props.retries[space.id]||[],onRetriesChange:function onRetriesChange(retries){return updateRetries(space.id,retries)},conflictResolutionInProgress:props.conflictResolutionInProgress}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))})))};exports.ProcessingCopyToSpace=ProcessingCopyToSpace},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpaceResult=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _space_avatar=__webpack_require__(4);var _copy_status_summary_indicator=__webpack_require__(72);var _space_result_details=__webpack_require__(73);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SpaceResult=function SpaceResult(props){var space=props.space,summarizedCopyResult=props.summarizedCopyResult,retries=props.retries,onRetriesChange=props.onRetriesChange,savedObject=props.savedObject,conflictResolutionInProgress=props.conflictResolutionInProgress;var spaceHasPendingOverwrites=retries.some((function(r){return r.overwrite}));return _react.default.createElement(_eui.EuiAccordion,{id:"copyToSpace-".concat(space.id),"data-test-subj":"cts-space-result-".concat(space.id),className:"spcCopyToSpaceResult",buttonContent:_react.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_space_avatar.SpaceAvatar,{space:space,size:"s"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiText,null,space.name))),extraAction:_react.default.createElement(_copy_status_summary_indicator.CopyStatusSummaryIndicator,{space:space,summarizedCopyResult:summarizedCopyResult,conflictResolutionInProgress:conflictResolutionInProgress&&spaceHasPendingOverwrites})},_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_space_result_details.SpaceCopyResultDetails,{savedObject:savedObject,summarizedCopyResult:summarizedCopyResult,space:space,retries:retries,onRetriesChange:onRetriesChange,conflictResolutionInProgress:conflictResolutionInProgress&&spaceHasPendingOverwrites}))};exports.SpaceResult=SpaceResult},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopyStatusSummaryIndicator=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CopyStatusSummaryIndicator=function CopyStatusSummaryIndicator(props){var summarizedCopyResult=props.summarizedCopyResult;var getDataTestSubj=function getDataTestSubj(status){return"cts-summary-indicator-".concat(status,"-").concat(props.space.id)};if(summarizedCopyResult.processing||props.conflictResolutionInProgress){return _react.default.createElement(_eui.EuiLoadingSpinner,{"data-test-subj":getDataTestSubj("loading")})}if(summarizedCopyResult.successful){return _react.default.createElement(_eui.EuiIconTip,{type:"check",color:"success",iconProps:{"data-test-subj":getDataTestSubj("success")},content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatusSummary.successMessage",defaultMessage:"Copied successfully to the {space} space.",values:{space:props.space.name}})})}if(summarizedCopyResult.hasUnresolvableErrors){return _react.default.createElement(_eui.EuiIconTip,{type:"cross",color:"danger",iconProps:{"data-test-subj":getDataTestSubj("failed")},content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatusSummary.failedMessage",defaultMessage:"Copy to the {space} space failed. Expand this section for details.",values:{space:props.space.name}})})}if(summarizedCopyResult.hasConflicts){return _react.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning",iconProps:{"data-test-subj":getDataTestSubj("conflicts")},content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatusSummary.conflictsMessage",defaultMessage:"One or more conflicts detected in the {space} space. Expand this section to resolve.",values:{space:props.space.name}})})}return null};exports.CopyStatusSummaryIndicator=CopyStatusSummaryIndicator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpaceCopyResultDetails=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);var _copy_status_indicator=__webpack_require__(74);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var SpaceCopyResultDetails=function SpaceCopyResultDetails(props){var onOverwriteClick=function onOverwriteClick(object){var retry=props.retries.find((function(r){return r.type===object.type&&r.id===object.id}));props.onRetriesChange([].concat(_toConsumableArray(props.retries.filter((function(r){return r!==retry}))),[{type:object.type,id:object.id,overwrite:retry?!retry.overwrite:true}]))};var hasPendingOverwrite=function hasPendingOverwrite(object){var retry=props.retries.find((function(r){return r.type===object.type&&r.id===object.id}));return Boolean(retry&&retry.overwrite)};var objects=props.summarizedCopyResult.objects;return _react.default.createElement("div",{className:"spcCopyToSpaceResultDetails"},objects.map((function(object,index){var objectOverwritePending=hasPendingOverwrite(object);var showOverwriteButton=object.conflicts.length>0&&!objectOverwritePending&&!props.conflictResolutionInProgress;var showSkipButton=!showOverwriteButton&&objectOverwritePending&&!props.conflictResolutionInProgress;return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false,key:index,alignItems:"center",gutterSize:"s",className:"spcCopyToSpaceResultDetails__row"},_react.default.createElement(_eui.EuiFlexItem,{grow:5,className:"spcCopyToSpaceResultDetails__savedObjectName"},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",{className:"eui-textTruncate",title:object.name||object.id},object.type,": ",object.name||object.id))),showOverwriteButton&&_react.default.createElement(_eui.EuiFlexItem,{grow:1},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){return onOverwriteClick(object)},size:"xs","data-test-subj":"cts-overwrite-conflict-".concat(object.id)},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyDetail.overwriteButton",defaultMessage:"Overwrite"})))),showSkipButton&&_react.default.createElement(_eui.EuiFlexItem,{grow:1},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){return onOverwriteClick(object)},size:"xs","data-test-subj":"cts-skip-conflict-".concat(object.id)},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyDetail.skipOverwriteButton",defaultMessage:"Skip"})))),_react.default.createElement(_eui.EuiFlexItem,{className:"spcCopyToSpaceResultDetails__statusIndicator",grow:1},_react.default.createElement("div",{className:"eui-textRight"},_react.default.createElement(_copy_status_indicator.CopyStatusIndicator,{summarizedCopyResult:props.summarizedCopyResult,object:object,overwritePending:hasPendingOverwrite(object),conflictResolutionInProgress:props.conflictResolutionInProgress&&objectOverwritePending}))))})))};exports.SpaceCopyResultDetails=SpaceCopyResultDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopyStatusIndicator=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CopyStatusIndicator=function CopyStatusIndicator(props){var summarizedCopyResult=props.summarizedCopyResult,conflictResolutionInProgress=props.conflictResolutionInProgress;if(summarizedCopyResult.processing||conflictResolutionInProgress){return _react.default.createElement(_eui.EuiLoadingSpinner,null)}var objectResult=summarizedCopyResult.objects.find((function(o){return o.type===props.object.type&&o.id===props.object.id}));var successful=!objectResult.hasUnresolvableErrors&&(objectResult.conflicts.length===0||props.overwritePending===true);var successColor=props.overwritePending?"warning":"success";var hasConflicts=objectResult.conflicts.length>0;var hasUnresolvableErrors=objectResult.hasUnresolvableErrors;if(successful){var message=props.overwritePending?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatus.pendingOverwriteMessage",defaultMessage:"Saved object will be overwritten. Click 'Skip' to cancel this operation."}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatus.successMessage",defaultMessage:"Saved object copied successfully."});return _react.default.createElement(_eui.EuiIconTip,{type:"check",color:successColor,content:message})}if(hasUnresolvableErrors){return _react.default.createElement(_eui.EuiIconTip,{type:"cross",color:"danger","data-test-subj":"cts-object-result-error-".concat(objectResult.id),content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatus.unresolvableErrorMessage",defaultMessage:"There was an error copying this saved object."})})}if(hasConflicts){return _react.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning",content:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatus.conflictsMessage",defaultMessage:"A saved object with a matching id ({id}) already exists in this space.",values:{id:objectResult.conflicts[0].obj.id}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyStatus.conflictsOverwriteMessage",defaultMessage:"Click 'Overwrite' to replace this version with the copied one."})))})}return null};exports.CopyStatusIndicator=CopyStatusIndicator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopyToSpaceFlyoutFooter=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);var _i18n=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var CopyToSpaceFlyoutFooter=function CopyToSpaceFlyoutFooter(props){var copyInProgress=props.copyInProgress,initialCopyFinished=props.initialCopyFinished,copyResult=props.copyResult,retries=props.retries;var summarizedResults={successCount:0,overwriteConflictCount:0,conflictCount:0,unresolvableErrorCount:0};if(copyResult){summarizedResults=Object.entries(copyResult).reduce((function(acc,result){var _result=_slicedToArray(result,2),spaceId=_result[0],spaceResult=_result[1];var overwriteCount=(retries[spaceId]||[]).filter((function(c){return c.overwrite})).length;return{loading:false,successCount:acc.successCount+spaceResult.importCount,overwriteConflictCount:acc.overwriteConflictCount+overwriteCount,conflictCount:acc.conflictCount+spaceResult.failedImports.filter((function(i){return i.error.type==="conflict"})).length-overwriteCount,unresolvableErrorCount:acc.unresolvableErrorCount+spaceResult.failedImports.filter((function(i){return i.error.type!=="conflict"})).length}}),summarizedResults)}var getButton=function getButton(){var actionButton;if(initialCopyFinished){var hasPendingOverwrites=summarizedResults.overwriteConflictCount>0;var buttonText=hasPendingOverwrites?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.finishPendingOverwritesCopyToSpacesButton",defaultMessage:"Overwrite {overwriteCount} objects",values:{overwriteCount:summarizedResults.overwriteConflictCount}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.finishCopyToSpacesButton",defaultMessage:"Finish"});actionButton=_react.default.createElement(_eui.EuiButton,{fill:true,isLoading:props.conflictResolutionInProgress,"aria-live":"assertive","aria-label":props.conflictResolutionInProgress?_i18n.i18n.translate("xpack.spaces.management.copyToSpace.inProgressButtonLabel",{defaultMessage:"Copy is in progress. Please wait."}):_i18n.i18n.translate("xpack.spaces.management.copyToSpace.finishedButtonLabel",{defaultMessage:"Copy finished."}),onClick:function onClick(){return props.onCopyFinish()},"data-test-subj":"cts-finish-button"},buttonText)}else{actionButton=_react.default.createElement(_eui.EuiButton,{fill:true,isLoading:copyInProgress,onClick:function onClick(){return props.onCopyStart()},"data-test-subj":"cts-initiate-button",disabled:props.numberOfSelectedSpaces===0||copyInProgress},props.numberOfSelectedSpaces>0?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.copyToSpacesButton",defaultMessage:"Copy to {spaceCount} {spaceCount, plural, one {space} other {spaces}}",values:{spaceCount:props.numberOfSelectedSpaces}}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.disabledCopyToSpacesButton",defaultMessage:"Copy"}))}return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},actionButton))};if(!copyInProgress){return getButton()}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiStat,{"data-test-subj":"cts-summary-success-count",title:summarizedResults.successCount,titleSize:"s",titleColor:initialCopyFinished?"secondary":"subdued",isLoading:!initialCopyFinished,textAlign:"center",description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpaceFlyoutFooter.successCount",defaultMessage:"Copied"})})),summarizedResults.overwriteConflictCount>0&&_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiStat,{"data-test-subj":"cts-summary-overwrite-count",title:summarizedResults.overwriteConflictCount,titleSize:"s",titleColor:summarizedResults.overwriteConflictCount>0?"primary":"subdued",isLoading:!initialCopyFinished,textAlign:"center",description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpaceFlyoutFooter.pendingCount",defaultMessage:"Pending"})})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiStat,{"data-test-subj":"cts-summary-conflict-count",title:summarizedResults.conflictCount,titleSize:"s",titleColor:summarizedResults.conflictCount>0?"primary":"subdued",isLoading:!initialCopyFinished,textAlign:"center",description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpaceFlyoutFooter.conflictCount",defaultMessage:"Skipped"})})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiStat,{"data-test-subj":"cts-summary-error-count",title:summarizedResults.unresolvableErrorCount,titleSize:"s",titleColor:summarizedResults.unresolvableErrorCount>0?"danger":"subdued",isLoading:!initialCopyFinished,textAlign:"center",description:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpaceFlyoutFooter.errorCount",defaultMessage:"Errors"})}))),_react.default.createElement(_eui.EuiHorizontalRule,null),getButton())};exports.CopyToSpaceFlyoutFooter=CopyToSpaceFlyoutFooter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopyToSpaceForm=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);var _selectable_spaces_control=__webpack_require__(77);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CopyToSpaceForm=function CopyToSpaceForm(props){var setOverwrite=function setOverwrite(overwrite){return props.onUpdate(_objectSpread({},props.copyOptions,{overwrite:overwrite}))};var setSelectedSpaceIds=function setSelectedSpaceIds(selectedSpaceIds){return props.onUpdate(_objectSpread({},props.copyOptions,{selectedSpaceIds:selectedSpaceIds}))};return _react.default.createElement("div",{"data-test-subj":"copy-to-space-form"},_react.default.createElement(_eui.EuiListGroup,{className:"spcCopyToSpaceOptionsView",flush:true},_react.default.createElement(_eui.EuiListGroupItem,{className:"spcCopyToSpaceIncludeRelated",iconType:"check",label:_react.default.createElement("span",{className:"spcCopyToSpaceIncludeRelated__label"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.includeRelatedFormLabel",defaultMessage:"Including related saved objects"}))})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"cts-form-overwrite",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.automaticallyOverwrite",defaultMessage:"Automatically overwrite all saved objects"}),checked:props.copyOptions.overwrite,onChange:function onChange(e){return setOverwrite(e.target.checked)}}),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.copyToSpace.selectSpacesLabel",defaultMessage:"Select spaces to copy into"}),fullWidth:true},_react.default.createElement(_selectable_spaces_control.SelectableSpacesControl,{spaces:props.spaces,selectedSpaceIds:props.copyOptions.selectedSpaceIds,onChange:function onChange(selection){return setSelectedSpaceIds(selection)}})))};exports.CopyToSpaceForm=CopyToSpaceForm},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SelectableSpacesControl=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _space_avatar=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var SelectableSpacesControl=function SelectableSpacesControl(props){var _useState=(0,_react.useState)([]),_useState2=_slicedToArray(_useState,2),options=_useState2[0],setOptions=_useState2[1];if(options.length===0){setOptions(props.spaces.map((function(space){var _ref;return _ref={label:space.name,prepend:_react.default.createElement(_space_avatar.SpaceAvatar,{space:space,size:"s"}),checked:props.selectedSpaceIds.includes(space.id)?"on":null},_defineProperty(_ref,"data-space-id",space.id),_defineProperty(_ref,"data-test-subj","cts-space-selector-row-".concat(space.id)),_ref})))}function updateSelectedSpaces(selectedOptions){if(props.disabled)return;var selectedSpaceIds=selectedOptions.filter((function(opt){return opt.checked})).map((function(opt){return opt["data-space-id"]}));props.onChange(selectedSpaceIds);setOptions(selectedOptions)}if(options.length===0){return _react.default.createElement(_eui.EuiLoadingSpinner,null)}return _react.default.createElement(_eui.EuiSelectable,{options:options,onChange:function onChange(newOptions){return updateSelectedSpaces(newOptions)},listProps:{bordered:true,rowHeight:40,className:"spcCopyToSpace__spacesList","data-test-subj":"cts-form-space-selector"},searchable:true},(function(list,search){return _react.default.createElement(_react.Fragment,null,search,list)}))};exports.SelectableSpacesControl=SelectableSpacesControl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedSettingsService",{enumerable:true,get:function get(){return _advanced_settings_service.AdvancedSettingsService}});var _advanced_settings_service=__webpack_require__(79)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettingsService=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _components=__webpack_require__(80);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AdvancedSettingsService=function(){function AdvancedSettingsService(){_classCallCheck(this,AdvancedSettingsService)}_createClass(AdvancedSettingsService,[{key:"setup",value:function setup(_ref){var getActiveSpace=_ref.getActiveSpace,componentRegistry=_ref.componentRegistry;var PageTitle=function PageTitle(){return _react.default.createElement(_components.AdvancedSettingsTitle,{getActiveSpace:getActiveSpace})};var SubTitle=function SubTitle(){return _react.default.createElement(_components.AdvancedSettingsSubtitle,{getActiveSpace:getActiveSpace})};componentRegistry.register(componentRegistry.componentType.PAGE_TITLE_COMPONENT,PageTitle,true);componentRegistry.register(componentRegistry.componentType.PAGE_SUBTITLE_COMPONENT,SubTitle,true)}}]);return AdvancedSettingsService}();exports.AdvancedSettingsService=AdvancedSettingsService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedSettingsSubtitle",{enumerable:true,get:function get(){return _advanced_settings_subtitle.AdvancedSettingsSubtitle}});Object.defineProperty(exports,"AdvancedSettingsTitle",{enumerable:true,get:function get(){return _advanced_settings_title.AdvancedSettingsTitle}});var _advanced_settings_subtitle=__webpack_require__(81);var _advanced_settings_title=__webpack_require__(83)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedSettingsSubtitle",{enumerable:true,get:function get(){return _advanced_settings_subtitle.AdvancedSettingsSubtitle}});var _advanced_settings_subtitle=__webpack_require__(82)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettingsSubtitle=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AdvancedSettingsSubtitle=function AdvancedSettingsSubtitle(props){var _useState=(0,_react2.useState)(null),_useState2=_slicedToArray(_useState,2),activeSpace=_useState2[0],setActiveSpace=_useState2[1];(0,_react2.useEffect)((function(){props.getActiveSpace().then((function(space){return setActiveSpace(space)}))}),[props]);if(!activeSpace)return null;return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{color:"primary",iconType:"spacesApp",title:_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.advancedSettingsSubtitle.applyingSettingsOnPageToSpaceDescription",defaultMessage:"The settings on this page apply to the {spaceName} space, unless otherwise specified.",values:{spaceName:_react2.default.createElement("strong",null,activeSpace.name)}}))}))};exports.AdvancedSettingsSubtitle=AdvancedSettingsSubtitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedSettingsTitle",{enumerable:true,get:function get(){return _advanced_settings_title.AdvancedSettingsTitle}});var _advanced_settings_title=__webpack_require__(84)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettingsTitle=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));var _space_avatar=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AdvancedSettingsTitle=function AdvancedSettingsTitle(props){var _useState=(0,_react2.useState)(null),_useState2=_slicedToArray(_useState,2),activeSpace=_useState2[0],setActiveSpace=_useState2[1];(0,_react2.useEffect)((function(){props.getActiveSpace().then((function(space){return setActiveSpace(space)}))}),[props]);if(!activeSpace)return null;return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_space_avatar.SpaceAvatar,{space:activeSpace})),_react2.default.createElement(_eui.EuiFlexItem,{style:{marginLeft:"10px"}},_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h1",{"data-test-subj":"managementSettingsTitle"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.advancedSettingsTitle.settingsTitle",defaultMessage:"Settings"})))))};exports.AdvancedSettingsTitle=AdvancedSettingsTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ManagementService",{enumerable:true,get:function get(){return _management_service.ManagementService}});var _management_service=__webpack_require__(86)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManagementService=void 0;var _spaces_management_app=__webpack_require__(87);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManagementService=function(){function ManagementService(){_classCallCheck(this,ManagementService);_defineProperty(this,"registeredSpacesManagementApp",void 0)}_createClass(ManagementService,[{key:"setup",value:function setup(_ref){var getStartServices=_ref.getStartServices,management=_ref.management,spacesManager=_ref.spacesManager,securityLicense=_ref.securityLicense;var kibanaSection=management.sections.getSection("kibana");if(kibanaSection){this.registeredSpacesManagementApp=kibanaSection.registerApp(_spaces_management_app.spacesManagementApp.create({getStartServices:getStartServices,spacesManager:spacesManager,securityLicense:securityLicense}))}}},{key:"start",value:function start(_ref2){var capabilities=_ref2.capabilities;if(!capabilities.spaces.manage){this.disableSpacesApp()}}},{key:"stop",value:function stop(){this.disableSpacesApp()}},{key:"disableSpacesApp",value:function disableSpacesApp(){if(this.registeredSpacesManagementApp){this.registeredSpacesManagementApp.disable()}}}]);return ManagementService}();exports.ManagementService=ManagementService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.spacesManagementApp=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _reactRouterDom=__webpack_require__(32);var _i18n=__webpack_require__(3);var _spaces_grid=__webpack_require__(88);var _edit_space=__webpack_require__(93);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var spacesManagementApp=Object.freeze({id:"spaces",create:function create(_ref){var getStartServices=_ref.getStartServices,spacesManager=_ref.spacesManager,securityLicense=_ref.securityLicense;return{id:this.id,order:10,title:_i18n.i18n.translate("xpack.spaces.displayName",{defaultMessage:"Spaces"}),mount:function mount(_ref2){var basePath=_ref2.basePath,element=_ref2.element,setBreadcrumbs=_ref2.setBreadcrumbs;return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref3,_ref4,_ref4$,notifications,i18nStart,application,features,spacesBreadcrumbs,SpacesGridPageWithBreadcrumbs,CreateSpacePageWithBreadcrumbs,EditSpacePageWithBreadcrumbs;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getStartServices();case 2:_ref3=_context.sent;_ref4=_slicedToArray(_ref3,2);_ref4$=_ref4[0];notifications=_ref4$.notifications;i18nStart=_ref4$.i18n;application=_ref4$.application;features=_ref4[1].features;spacesBreadcrumbs=[{text:_i18n.i18n.translate("xpack.spaces.management.breadcrumb",{defaultMessage:"Spaces"}),href:"#".concat(basePath)}];SpacesGridPageWithBreadcrumbs=function SpacesGridPageWithBreadcrumbs(){var _ref5;setBreadcrumbs(spacesBreadcrumbs);return _react.default.createElement(_spaces_grid.SpacesGridPage,{capabilities:application.capabilities,getFeatures:features.getFeatures,notifications:notifications,spacesManager:spacesManager,securityEnabled:(_ref5=securityLicense===null||securityLicense===void 0?void 0:securityLicense.getFeatures().showLinks)!==null&&_ref5!==void 0?_ref5:false})};CreateSpacePageWithBreadcrumbs=function CreateSpacePageWithBreadcrumbs(){var _ref6;setBreadcrumbs([].concat(spacesBreadcrumbs,[{text:_i18n.i18n.translate("xpack.spaces.management.createSpaceBreadcrumb",{defaultMessage:"Create"})}]));return _react.default.createElement(_edit_space.ManageSpacePage,{capabilities:application.capabilities,getFeatures:features.getFeatures,notifications:notifications,spacesManager:spacesManager,securityEnabled:(_ref6=securityLicense===null||securityLicense===void 0?void 0:securityLicense.getFeatures().showLinks)!==null&&_ref6!==void 0?_ref6:false})};EditSpacePageWithBreadcrumbs=function EditSpacePageWithBreadcrumbs(){var _ref7;var _useParams=(0,_reactRouterDom.useParams)(),spaceId=_useParams.spaceId;var onLoadSpace=function onLoadSpace(space){setBreadcrumbs([].concat(spacesBreadcrumbs,[{text:space.name,href:"#".concat(basePath,"/edit/").concat(encodeURIComponent(space.id))}]))};return _react.default.createElement(_edit_space.ManageSpacePage,{capabilities:application.capabilities,getFeatures:features.getFeatures,notifications:notifications,spacesManager:spacesManager,spaceId:spaceId,onLoadSpace:onLoadSpace,securityEnabled:(_ref7=securityLicense===null||securityLicense===void 0?void 0:securityLicense.getFeatures().showLinks)!==null&&_ref7!==void 0?_ref7:false})};(0,_reactDom.render)(_react.default.createElement(i18nStart.Context,null,_react.default.createElement(_reactRouterDom.HashRouter,{basename:basePath},_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/",exact:true},_react.default.createElement(SpacesGridPageWithBreadcrumbs,null)),_react.default.createElement(_reactRouterDom.Route,{path:"/create"},_react.default.createElement(CreateSpacePageWithBreadcrumbs,null)),_react.default.createElement(_reactRouterDom.Route,{path:"/edit/:spaceId"},_react.default.createElement(EditSpacePageWithBreadcrumbs,null))))),element);return _context.abrupt("return",(function(){(0,_reactDom.unmountComponentAtNode)(element)}));case 15:case"end":return _context.stop()}}}),_callee)})))()}}}});exports.spacesManagementApp=spacesManagementApp},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SpacesGridPage",{enumerable:true,get:function get(){return _spaces_grid_page.SpacesGridPage}});var _spaces_grid_page=__webpack_require__(89)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SpacesGridPage=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react2=__webpack_require__(2);var _common=__webpack_require__(5);var _constants=__webpack_require__(7);var _space_avatar=__webpack_require__(4);var _constants2=__webpack_require__(8);var _confirm_delete_modal=__webpack_require__(11);var _secure_space_message=__webpack_require__(24);var _unauthorized_prompt=__webpack_require__(25);var _feature_utils=__webpack_require__(26);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpacesGridPage=function(_Component){_inherits(SpacesGridPage,_Component);function SpacesGridPage(props){var _this;_classCallCheck(this,SpacesGridPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(SpacesGridPage).call(this,props));_defineProperty(_assertThisInitialized(_this),"getConfirmDeleteModal",(function(){if(!_this.state.showConfirmDeleteModal||!_this.state.selectedSpace){return null}var spacesManager=_this.props.spacesManager;return _react.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{space:_this.state.selectedSpace,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpace})}));_defineProperty(_assertThisInitialized(_this),"deleteSpace",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var spacesManager,space,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:spacesManager=_this.props.spacesManager;space=_this.state.selectedSpace;if(space){_context.next=4;break}return _context.abrupt("return");case 4:_context.prev=4;_context.next=7;return spacesManager.deleteSpace(space);case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](4);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=_ref2$message===void 0?"":_ref2$message;_this.props.notifications.toasts.addDanger(_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.errorDeletingSpaceErrorMessage",{defaultMessage:"Error deleting space: {errorMessage}",values:{errorMessage:errorMessage}}));case 13:_this.setState({showConfirmDeleteModal:false});_this.loadGrid();message=_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.spaceSuccessfullyDeletedNotificationMessage",{defaultMessage:'Deleted "{spaceName}" space.',values:{spaceName:space.name}});_this.props.notifications.toasts.addSuccess(message);case 17:case"end":return _context.stop()}}}),_callee,null,[[4,9]])}))));_defineProperty(_assertThisInitialized(_this),"loadGrid",_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this$props,spacesManager,getFeatures,notifications,getSpaces,_ref4,_ref5,spaces,features;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,spacesManager=_this$props.spacesManager,getFeatures=_this$props.getFeatures,notifications=_this$props.notifications;_this.setState({loading:true,spaces:[],features:[]});getSpaces=spacesManager.getSpaces();_context2.prev=3;_context2.next=6;return Promise.all([getSpaces,getFeatures()]);case 6:_ref4=_context2.sent;_ref5=_slicedToArray(_ref4,2);spaces=_ref5[0];features=_ref5[1];_this.setState({loading:false,spaces:spaces,features:features});_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2["catch"](3);_this.setState({loading:false});notifications.toasts.addError(_context2.t0,{title:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.errorTitle",{defaultMessage:"Error loading spaces"})});case 17:case"end":return _context2.stop()}}}),_callee2,null,[[3,13]])}))));_defineProperty(_assertThisInitialized(_this),"getEditSpacePath",(function(space){return"#/management/kibana/spaces/edit/".concat(encodeURIComponent(space.id))}));_defineProperty(_assertThisInitialized(_this),"onDeleteSpaceClick",(function(space){_this.setState({selectedSpace:space,showConfirmDeleteModal:true})}));_this.state={spaces:[],features:[],loading:true,showConfirmDeleteModal:false,selectedSpace:null};return _this}_createClass(SpacesGridPage,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.capabilities.spaces.manage){this.loadGrid()}}},{key:"render",value:function render(){return _react.default.createElement("div",{className:"spcGridPage","data-test-subj":"spaces-grid-page"},_react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.getPageContent()),this.props.securityEnabled&&_react.default.createElement(_secure_space_message.SecureSpaceMessage,null),this.getConfirmDeleteModal())}},{key:"getPageContent",value:function getPageContent(){if(!this.props.capabilities.spaces.manage){return _react.default.createElement(_unauthorized_prompt.UnauthorizedPrompt,null)}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.spacesTitle",defaultMessage:"Spaces"}))),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},_react.default.createElement("p",null,(0,_constants2.getSpacesFeatureDescription)()))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},this.getPrimaryActionButton())),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiInMemoryTable,{itemId:"id",items:this.state.spaces,columns:this.getColumnConfig(),hasActions:true,pagination:true,sorting:true,search:{box:{placeholder:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.searchPlaceholder",{defaultMessage:"Search"})}},loading:this.state.loading,message:this.state.loading?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.loadingTitle",defaultMessage:"loading…"}):undefined}))}},{key:"getPrimaryActionButton",value:function getPrimaryActionButton(){return _react.default.createElement(_eui.EuiButton,{fill:true,href:"#/management/kibana/spaces/create"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.createSpaceButtonLabel",defaultMessage:"Create a space"}))}},{key:"getColumnConfig",value:function getColumnConfig(){var _this2=this;return[{field:"initials",name:"",width:"50px",render:function render(value,record){return _react.default.createElement(_eui.EuiLink,{href:_this2.getEditSpacePath(record)},_react.default.createElement(_space_avatar.SpaceAvatar,{space:record,size:"s"}))}},{field:"name",name:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.spaceColumnName",{defaultMessage:"Space"}),sortable:true,render:function render(value,record){return _react.default.createElement(_eui.EuiLink,{href:_this2.getEditSpacePath(record)},value)}},{field:"description",name:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.descriptionColumnName",{defaultMessage:"Description"}),sortable:true},{field:"disabledFeatures",name:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.featuresColumnName",{defaultMessage:"Features"}),sortable:function sortable(space){return(0,_feature_utils.getEnabledFeatures)(_this2.state.features,space).length},render:function render(disabledFeatures,record){var enabledFeatureCount=(0,_feature_utils.getEnabledFeatures)(_this2.state.features,record).length;if(enabledFeatureCount===_this2.state.features.length){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.allFeaturesEnabled",defaultMessage:"All features visible"})}if(enabledFeatureCount===0){return _react.default.createElement(_eui.EuiText,{color:"danger"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.noFeaturesEnabled",defaultMessage:"No features visible"}))}return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.someFeaturesEnabled",defaultMessage:"{enabledFeatureCount} / {totalFeatureCount} features visible",values:{enabledFeatureCount:enabledFeatureCount,totalFeatureCount:_this2.state.features.length}})}},{field:"id",name:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.identifierColumnName",{defaultMessage:"Identifier"}),sortable:true,render:function render(id){if(id===_constants.DEFAULT_SPACE_ID){return""}return id}},{name:_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.actionsColumnName",{defaultMessage:"Actions"}),actions:[{render:function render(record){return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.editSpaceActionName",{defaultMessage:"Edit {spaceName}.",values:{spaceName:record.name}}),color:"primary",iconType:"pencil",href:_this2.getEditSpacePath(record)})}},{available:function available(record){return!(0,_common.isReservedSpace)(record)},render:function render(record){return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("xpack.spaces.management.spacesGridPage.deleteActionName",{defaultMessage:"Delete {spaceName}.",values:{spaceName:record.name}}),color:"danger",iconType:"trash",onClick:function onClick(){return _this2.onDeleteSpaceClick(record)}})}}]}]}}]);return SpacesGridPage}(_react.Component);exports.SpacesGridPage=SpacesGridPage},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeleteModal=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ConfirmDeleteModalUI=function(_Component){_inherits(ConfirmDeleteModalUI,_Component);function ConfirmDeleteModalUI(){var _getPrototypeOf2;var _this;_classCallCheck(this,ConfirmDeleteModalUI);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ConfirmDeleteModalUI)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{confirmSpaceName:"",error:null,deleteInProgress:false,isDeletingCurrentSpace:false});_defineProperty(_assertThisInitialized(_this),"onSpaceNameChange",(function(e){if(typeof _this.state.error==="boolean"){_this.setState({confirmSpaceName:e.target.value,error:e.target.value!==_this.props.space.name})}else{_this.setState({confirmSpaceName:e.target.value})}}));_defineProperty(_assertThisInitialized(_this),"onConfirm",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var needsRedirect,spacesManager;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_this.state.confirmSpaceName===_this.props.space.name)){_context.next=10;break}needsRedirect=_this.state.isDeletingCurrentSpace;spacesManager=_this.props.spacesManager;_this.setState({deleteInProgress:true});_context.next=6;return _this.props.onConfirm();case 6:_this.setState({deleteInProgress:false});if(needsRedirect){spacesManager.redirectToSpaceSelector()}_context.next=11;break;case 10:_this.setState({error:true});case 11:case"end":return _context.stop()}}}),_callee)}))));return _this}_createClass(ConfirmDeleteModalUI,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;isCurrentSpace(this.props.space,this.props.spacesManager).then((function(result){_this2.setState({isDeletingCurrentSpace:result})}))}},{key:"render",value:function render(){var _this$props=this.props,space=_this$props.space,onCancel=_this$props.onCancel,intl=_this$props.intl;var isDeletingCurrentSpace=this.state.isDeletingCurrentSpace;var warning=null;if(isDeletingCurrentSpace){var name=_react2.default.createElement("span",null,"(",_react2.default.createElement("strong",null,space.name),")");warning=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiCallOut,{color:"warning"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.redirectAfterDeletingCurrentSpaceWarningMessage",defaultMessage:"You are about to delete your current space {name}. You will be redirected to choose a different space if you continue.",values:{name:name}}))))}var modalProps={onClose:onCancel,className:"spcConfirmDeleteModal",initialFocus:'input[name="confirmDeleteSpaceInput"]'};return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiModal,modalProps,_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.confirmDeleteSpaceButtonLabel",defaultMessage:"Delete space {spaceName}",values:{spaceName:"'"+space.name+"'"}}))),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_eui.EuiText,{"data-test-subj":"confirmModalBodyText"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.deletingSpaceWarningMessage",defaultMessage:"Deleting a space permanently removes the space and {allContents}. You can't undo this action.",values:{allContents:_react2.default.createElement("strong",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.allContentsText",defaultMessage:"all of its contents"}))}})),_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"xpack.spaces.management.confirmDeleteModal.confirmSpaceNameFormRowLabel",defaultMessage:"Confirm space name to delete"}),isInvalid:!!this.state.error,error:intl.formatMessage({id:"xpack.spaces.management.confirmDeleteModal.spaceNamesDoNoMatchErrorMessage",defaultMessage:"Space names do not match."})},_react2.default.createElement(_eui.EuiFieldText,{name:"confirmDeleteSpaceInput",value:this.state.confirmSpaceName,onChange:this.onSpaceNameChange,disabled:this.state.deleteInProgress})),warning)),_react2.default.createElement(_eui.EuiModalFooter,null,_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:onCancel,isDisabled:this.state.deleteInProgress},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.cancelButtonLabel",defaultMessage:"Cancel"})),_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.onConfirm,fill:true,color:"danger",isLoading:this.state.deleteInProgress},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.deleteSpaceAndAllContentsButtonLabel",defaultMessage:" Delete space and all contents"})))))}}]);return ConfirmDeleteModalUI}(_react2.Component);function isCurrentSpace(_x,_x2){return _isCurrentSpace.apply(this,arguments)}function _isCurrentSpace(){_isCurrentSpace=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(space,spacesManager){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=space.id;_context2.next=3;return spacesManager.getActiveSpace();case 3:_context2.t1=_context2.sent.id;return _context2.abrupt("return",_context2.t0===_context2.t1);case 5:case"end":return _context2.stop()}}}),_callee2)})));return _isCurrentSpace.apply(this,arguments)}var ConfirmDeleteModal=(0,_react.injectI18n)(ConfirmDeleteModalUI);exports.ConfirmDeleteModal=ConfirmDeleteModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SecureSpaceMessage=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _i18n=__webpack_require__(3);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SecureSpaceMessage=function SecureSpaceMessage(){var rolesLinkTextAriaLabel=_i18n.i18n.translate("xpack.spaces.management.secureSpaceMessage.rolesLinkTextAriaLabel",{defaultMessage:"Roles management page"});return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiText,{className:"eui-textCenter"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.secureSpaceMessage.howToAssignRoleToSpaceDescription",defaultMessage:"Want to assign a role to a space? Go to {rolesLink}.",values:{rolesLink:_react2.default.createElement(_eui.EuiLink,{href:"#/management/security/roles","aria-label":rolesLinkTextAriaLabel},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.secureSpaceMessage.rolesLinkText",defaultMessage:"Roles"}))}}))))};exports.SecureSpaceMessage=SecureSpaceMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UnauthorizedPrompt=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UnauthorizedPrompt=function UnauthorizedPrompt(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"spacesApp",iconColor:"danger",title:_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.unauthorizedPrompt.permissionDeniedTitle",defaultMessage:"Permission denied"})),body:_react2.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.unauthorizedPrompt.permissionDeniedDescription",defaultMessage:"You do not have permission to manage spaces."}))})};exports.UnauthorizedPrompt=UnauthorizedPrompt},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ManageSpacePage",{enumerable:true,get:function get(){return _manage_space_page.ManageSpacePage}});var _manage_space_page=__webpack_require__(94)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ManageSpacePage=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _i18n=__webpack_require__(3);var _lodash=_interopRequireDefault(__webpack_require__(6));var _react2=_interopRequireWildcard(__webpack_require__(0));var _common=__webpack_require__(5);var _components=__webpack_require__(95);var _lib=__webpack_require__(12);var _validate_space=__webpack_require__(28);var _confirm_alter_active_space_modal=__webpack_require__(96);var _customize_space=__webpack_require__(98);var _delete_spaces_button=__webpack_require__(105);var _enabled_features=__webpack_require__(106);var _reserved_space_badge=__webpack_require__(110);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ManageSpacePage=function(_Component){_inherits(ManageSpacePage,_Component);function ManageSpacePage(props){var _this;_classCallCheck(this,ManageSpacePage);_this=_possibleConstructorReturn(this,_getPrototypeOf(ManageSpacePage).call(this,props));_defineProperty(_assertThisInitialized(_this),"validator",void 0);_defineProperty(_assertThisInitialized(_this),"getLoadingIndicator",(function(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})," ",_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,"Loading...")))}));_defineProperty(_assertThisInitialized(_this),"getForm",(function(){if(!_this.props.capabilities.spaces.manage){return _react2.default.createElement(_components.UnauthorizedPrompt,null)}var showAlteringActiveSpaceDialog=_this.state.showAlteringActiveSpaceDialog;return _react2.default.createElement("div",{"data-test-subj":"spaces-edit-page"},_this.getFormHeading(),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.manageDescription",defaultMessage:"Organize your saved objects into meaningful categories."})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_customize_space.CustomizeSpace,{space:_this.state.space,onChange:_this.onSpaceChange,editingExistingSpace:_this.editingExistingSpace(),validator:_this.validator}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_enabled_features.EnabledFeatures,{space:_this.state.space,features:_this.state.features,onChange:_this.onSpaceChange,securityEnabled:_this.props.securityEnabled}),_react2.default.createElement(_eui.EuiSpacer,null),_this.getFormButtons(),showAlteringActiveSpaceDialog&&_react2.default.createElement(_confirm_alter_active_space_modal.ConfirmAlterActiveSpaceModal,{onConfirm:function onConfirm(){return _this.performSave(true)},onCancel:function onCancel(){_this.setState({showAlteringActiveSpaceDialog:false})}}))}));_defineProperty(_assertThisInitialized(_this),"getFormHeading",(function(){return _react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h1",null,_this.getTitle()," ",_react2.default.createElement(_reserved_space_badge.ReservedSpaceBadge,{space:_this.state.space})))}));_defineProperty(_assertThisInitialized(_this),"getTitle",(function(){if(_this.editingExistingSpace()){return"Edit space"}return _react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.createSpaceTitle",defaultMessage:"Create a space"})}));_defineProperty(_assertThisInitialized(_this),"maybeGetSecureSpacesMessage",(function(){if(_this.editingExistingSpace()&&_this.props.securityEnabled){return _react2.default.createElement(_components.SecureSpaceMessage,null)}return null}));_defineProperty(_assertThisInitialized(_this),"getFormButtons",(function(){var createSpaceText=_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.createSpaceButton",{defaultMessage:"Create space"});var updateSpaceText=_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.updateSpaceButton",{defaultMessage:"Update space"});var cancelButtonText=_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.cancelSpaceButton",{defaultMessage:"Cancel"});var saveText=_this.editingExistingSpace()?updateSpaceText:createSpaceText;return _react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:_this.saveSpace,"data-test-subj":"save-space-button",isLoading:_this.state.saveInProgress},saveText)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:_this.backToSpacesList,"data-test-subj":"cancel-space-button"},cancelButtonText)),_react2.default.createElement(_eui.EuiFlexItem,{grow:true}),_this.getActionButton())}));_defineProperty(_assertThisInitialized(_this),"getActionButton",(function(){if(_this.state.space&&_this.editingExistingSpace()&&!(0,_common.isReservedSpace)(_this.state.space)){return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_delete_spaces_button.DeleteSpacesButton,{"data-test-subj":"delete-space-button",space:_this.state.space,spacesManager:_this.props.spacesManager,onDelete:_this.backToSpacesList,notifications:_this.props.notifications}))}return null}));_defineProperty(_assertThisInitialized(_this),"onSpaceChange",(function(updatedSpace){_this.setState({space:updatedSpace})}));_defineProperty(_assertThisInitialized(_this),"saveSpace",(function(){_this.validator.enableValidation();var result=_this.validator.validateForSave(_this.state.space);if(result.isInvalid){_this.setState({formError:result});return}if(_this.editingExistingSpace()){var spacesManager=_this.props.spacesManager;var originalSpace=_this.state.originalSpace;var _space=_this.state.space;spacesManager.getActiveSpace().then((function(activeSpace){var editingActiveSpace=activeSpace.id===originalSpace.id;var haveDisabledFeaturesChanged=_space.disabledFeatures.length!==originalSpace.disabledFeatures.length||_lodash.default.difference(_space.disabledFeatures,originalSpace.disabledFeatures).length>0;if(editingActiveSpace&&haveDisabledFeaturesChanged){_this.setState({showAlteringActiveSpaceDialog:true});return}_this.performSave()}))}else{_this.performSave()}}));_defineProperty(_assertThisInitialized(_this),"loadSpace",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spaceId,featuresPromise){var _this$props,spacesManager,onLoadSpace,_ref2,_ref3,_space2,features,_ref4,_error$body,message;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,spacesManager=_this$props.spacesManager,onLoadSpace=_this$props.onLoadSpace;_context.prev=1;_context.next=4;return Promise.all([spacesManager.getSpace(spaceId),featuresPromise]);case 4:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,2);_space2=_ref3[0];features=_ref3[1];if(_space2){if(onLoadSpace){onLoadSpace(_space2)}_this.setState({space:_space2,features:features,originalSpace:_space2,isLoading:false})}_context.next=16;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);message=(_ref4=_context.t0===null||_context.t0===void 0?void 0:(_error$body=_context.t0.body)===null||_error$body===void 0?void 0:_error$body.message)!==null&&_ref4!==void 0?_ref4:"";_this.props.notifications.toasts.addDanger(_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.errorLoadingSpaceTitle",{defaultMessage:"Error loading space: {message}",values:{message:message}}));_this.backToSpacesList();case 16:case"end":return _context.stop()}}}),_callee,null,[[1,11]])})));return function(_x,_x2){return _ref.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"performSave",(function(){var requireRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!_this.state.space){return}var name=_this.state.space.name||"";var _this$state$space=_this.state.space,_this$state$space$id=_this$state$space.id,id=_this$state$space$id===void 0?(0,_lib.toSpaceIdentifier)(name):_this$state$space$id,description=_this$state$space.description,initials=_this$state$space.initials,color=_this$state$space.color,_this$state$space$dis=_this$state$space.disabledFeatures,disabledFeatures=_this$state$space$dis===void 0?[]:_this$state$space$dis,imageUrl=_this$state$space.imageUrl;var params={name:name,id:id,description:description,initials:initials,color:color,disabledFeatures:disabledFeatures,imageUrl:imageUrl};var action;if(_this.editingExistingSpace()){action=_this.props.spacesManager.updateSpace(params)}else{action=_this.props.spacesManager.createSpace(params)}_this.setState({saveInProgress:true});action.then((function(){_this.props.notifications.toasts.addSuccess(_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.spaceSuccessfullySavedNotificationMessage",{defaultMessage:"Space {name} was saved.",values:{name:"'".concat(name,"'")}}));window.location.hash="#/management/kibana/spaces";if(requireRefresh){setTimeout((function(){window.location.reload()}))}})).catch((function(error){var _ref5,_error$body2;var message=(_ref5=error===null||error===void 0?void 0:(_error$body2=error.body)===null||_error$body2===void 0?void 0:_error$body2.message)!==null&&_ref5!==void 0?_ref5:"";_this.setState({saveInProgress:false});_this.props.notifications.toasts.addDanger(_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.errorSavingSpaceTitle",{defaultMessage:"Error saving space: {message}",values:{message:message}}))}))}));_defineProperty(_assertThisInitialized(_this),"backToSpacesList",(function(){window.location.hash="#/management/kibana/spaces"}));_defineProperty(_assertThisInitialized(_this),"editingExistingSpace",(function(){return!!_this.props.spaceId}));_this.validator=new _validate_space.SpaceValidator({shouldValidate:false});_this.state={isLoading:true,showAlteringActiveSpaceDialog:false,saveInProgress:false,space:{},features:[]};return _this}_createClass(ManageSpacePage,[{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this$props2,spaceId,getFeatures,notifications,features;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(this.props.capabilities.spaces.manage){_context2.next=2;break}return _context2.abrupt("return");case 2:_this$props2=this.props,spaceId=_this$props2.spaceId,getFeatures=_this$props2.getFeatures,notifications=_this$props2.notifications;_context2.prev=3;if(!spaceId){_context2.next=9;break}_context2.next=7;return this.loadSpace(spaceId,getFeatures());case 7:_context2.next=13;break;case 9:_context2.next=11;return getFeatures();case 11:features=_context2.sent;this.setState({isLoading:false,features:features});case 13:_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2["catch"](3);notifications.toasts.addError(_context2.t0,{title:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.loadErrorTitle",{defaultMessage:"Error loading available features"})});case 18:case"end":return _context2.stop()}}}),_callee2,this,[[3,15]])})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"componentDidUpdate",value:function(){var _componentDidUpdate=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(previousProps){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(this.props.spaceId!==previousProps.spaceId&&this.props.spaceId)){_context3.next=3;break}_context3.next=3;return this.loadSpace(this.props.spaceId,Promise.resolve(this.state.features));case 3:case"end":return _context3.stop()}}}),_callee3,this)})));function componentDidUpdate(_x3){return _componentDidUpdate.apply(this,arguments)}return componentDidUpdate}()},{key:"render",value:function render(){var content=this.state.isLoading?this.getLoadingIndicator():this.getForm();return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiPageContentBody,null,content),this.maybeGetSecureSpacesMessage())}}]);return ManageSpacePage}(_react2.Component);exports.ManageSpacePage=ManageSpacePage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ConfirmDeleteModal",{enumerable:true,get:function get(){return _confirm_delete_modal.ConfirmDeleteModal}});Object.defineProperty(exports,"UnauthorizedPrompt",{enumerable:true,get:function get(){return _unauthorized_prompt.UnauthorizedPrompt}});Object.defineProperty(exports,"SecureSpaceMessage",{enumerable:true,get:function get(){return _secure_space_message.SecureSpaceMessage}});var _confirm_delete_modal=__webpack_require__(11);var _unauthorized_prompt=__webpack_require__(25);var _secure_space_message=__webpack_require__(24)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ConfirmAlterActiveSpaceModal",{enumerable:true,get:function get(){return _confirm_alter_active_space_modal.ConfirmAlterActiveSpaceModal}});var _confirm_alter_active_space_modal=__webpack_require__(97)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmAlterActiveSpaceModal=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConfirmAlterActiveSpaceModalUI=function ConfirmAlterActiveSpaceModalUI(props){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{onConfirm:props.onConfirm,onCancel:props.onCancel,title:_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmAlterActiveSpaceModal.title",defaultMessage:"Confirm update space"}),defaultFocusedButton:"confirm",cancelButtonText:props.intl.formatMessage({id:"xpack.spaces.management.confirmAlterActiveSpaceModal.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:props.intl.formatMessage({id:"xpack.spaces.management.confirmAlterActiveSpaceModal.updateSpaceButton",defaultMessage:"Update space"})},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.confirmAlterActiveSpaceModal.reloadWarningMessage",defaultMessage:"You have updated the visible features in this space. Your page will reload after saving."}))))};var ConfirmAlterActiveSpaceModal=(0,_react.injectI18n)(ConfirmAlterActiveSpaceModalUI);exports.ConfirmAlterActiveSpaceModal=ConfirmAlterActiveSpaceModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CustomizeSpace",{enumerable:true,get:function get(){return _customize_space.CustomizeSpace}});var _customize_space=__webpack_require__(99)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.CustomizeSpace=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _i18n=__webpack_require__(3);var _react2=_interopRequireWildcard(__webpack_require__(0));var _common=__webpack_require__(5);var _space_avatar=__webpack_require__(4);var _lib=__webpack_require__(12);var _section_panel=__webpack_require__(29);var _customize_space_avatar=__webpack_require__(101);var _space_identifier=__webpack_require__(104);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CustomizeSpace=function(_Component){_inherits(CustomizeSpace,_Component);function CustomizeSpace(){var _getPrototypeOf2;var _this;_classCallCheck(this,CustomizeSpace);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CustomizeSpace)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{customizingAvatar:false,usingCustomIdentifier:false});_defineProperty(_assertThisInitialized(_this),"togglePopover",(function(){_this.setState({customizingAvatar:!_this.state.customizingAvatar})}));_defineProperty(_assertThisInitialized(_this),"closePopover",(function(){_this.setState({customizingAvatar:false})}));_defineProperty(_assertThisInitialized(_this),"getPanelDescription",(function(){return _this.props.editingExistingSpace?_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.customizeSpacePanelUrlIdentifierNotEditable",defaultMessage:"The url identifier cannot be changed."})):_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.customizeSpacePanelUrlIdentifierEditable",defaultMessage:"Note the URL identifier. You cannot change it after you create the space."}))}));_defineProperty(_assertThisInitialized(_this),"onNameChange",(function(e){if(!_this.props.space){return}var canUpdateId=!_this.props.editingExistingSpace&&!_this.state.usingCustomIdentifier;var id=_this.props.space.id;if(canUpdateId){id=(0,_lib.toSpaceIdentifier)(e.target.value)}_this.props.onChange(_objectSpread({},_this.props.space,{name:e.target.value,id:id}))}));_defineProperty(_assertThisInitialized(_this),"onDescriptionChange",(function(e){_this.props.onChange(_objectSpread({},_this.props.space,{description:e.target.value}))}));_defineProperty(_assertThisInitialized(_this),"onSpaceIdentifierChange",(function(updatedIdentifier){var usingCustomIdentifier=updatedIdentifier!==(0,_lib.toSpaceIdentifier)(_this.props.space.name);_this.setState({usingCustomIdentifier:usingCustomIdentifier});_this.props.onChange(_objectSpread({},_this.props.space,{id:(0,_lib.toSpaceIdentifier)(updatedIdentifier)}))}));_defineProperty(_assertThisInitialized(_this),"onAvatarChange",(function(space){_this.props.onChange(space)}));return _this}_createClass(CustomizeSpace,[{key:"render",value:function render(){var _this$props=this.props,validator=_this$props.validator,editingExistingSpace=_this$props.editingExistingSpace;var _this$props$space=this.props.space,_this$props$space$nam=_this$props$space.name,name=_this$props$space$nam===void 0?"":_this$props$space$nam,_this$props$space$des=_this$props$space.description,description=_this$props$space$des===void 0?"":_this$props$space$des;var panelTitle=_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.customizeSpaceTitle",{defaultMessage:"Customize your space"});var extraPopoverProps={initialFocus:'input[name="spaceInitials"]'};return _react2.default.createElement(_section_panel.SectionPanel,{collapsible:false,title:panelTitle,description:panelTitle},_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.customizeSpacePanelDescription",defaultMessage:"Name your space and customize its avatar."}))),description:this.getPanelDescription(),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,_extends({label:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.nameFormRowLabel",{defaultMessage:"Name"})},validator.validateSpaceName(this.props.space),{fullWidth:true}),_react2.default.createElement(_eui.EuiFieldText,{name:"name",placeholder:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.awesomeSpacePlaceholder",{defaultMessage:"Awesome space"}),value:name,onChange:this.onNameChange,fullWidth:true}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.avatarFormRowLabel",{defaultMessage:"Avatar"})},_react2.default.createElement(_eui.EuiPopover,_extends({id:"customizeAvatarPopover",button:_react2.default.createElement("button",{title:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.clickToCustomizeTooltip",{defaultMessage:"Click to customize this space avatar"}),onClick:this.togglePopover},_react2.default.createElement(_space_avatar.SpaceAvatar,{space:this.props.space,size:"l"})),closePopover:this.closePopover},extraPopoverProps,{ownFocus:true,isOpen:this.state.customizingAvatar}),_react2.default.createElement("div",{style:{maxWidth:240}},_react2.default.createElement(_customize_space_avatar.CustomizeSpaceAvatar,{space:this.props.space,onChange:this.onAvatarChange})))))),_react2.default.createElement(_eui.EuiSpacer,null),this.props.space&&(0,_common.isReservedSpace)(this.props.space)?null:_react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_space_identifier.SpaceIdentifier,{space:this.props.space,editable:!editingExistingSpace,onChange:this.onSpaceIdentifierChange,validator:validator})),_react2.default.createElement(_eui.EuiFormRow,_extends({label:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.spaceDescriptionFormRowLabel",{defaultMessage:"Description (optional)"}),helpText:_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.spaceDescriptionHelpText",{defaultMessage:"The description appears on the Space selection screen."})},validator.validateSpaceDescription(this.props.space),{fullWidth:true}),_react2.default.createElement(_eui.EuiTextArea,{name:"description",value:description,onChange:this.onDescriptionChange,fullWidth:true,rows:2}))))}}]);return CustomizeSpace}(_react2.Component);exports.CustomizeSpace=CustomizeSpace},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SectionPanel=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SectionPanel=function(_Component){_inherits(SectionPanel,_Component);function SectionPanel(props){var _this;_classCallCheck(this,SectionPanel);_this=_possibleConstructorReturn(this,_getPrototypeOf(SectionPanel).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{collapsed:false});_defineProperty(_assertThisInitialized(_this),"getTitle",(function(){var showLinkText=_i18n.i18n.translate("xpack.spaces.management.collapsiblePanel.showLinkText",{defaultMessage:"show"});var hideLinkText=_i18n.i18n.translate("xpack.spaces.management.collapsiblePanel.hideLinkText",{defaultMessage:"hide"});var showLinkDescription=_i18n.i18n.translate("xpack.spaces.management.collapsiblePanel.showLinkDescription",{defaultMessage:"show {title}",values:{title:_this.props.description}});var hideLinkDescription=_i18n.i18n.translate("xpack.spaces.management.collapsiblePanel.hideLinkDescription",{defaultMessage:"hide {title}",values:{title:_this.props.description}});return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_this.props.iconType&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiIcon,{type:_this.props.iconType,size:"xl",className:"collapsiblePanel__logo"})," "),_this.props.title))),_this.props.collapsible&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLink,{"data-test-subj":"show-hide-section-link",onClick:_this.toggleCollapsed,"aria-label":_this.state.collapsed?showLinkDescription:hideLinkDescription},_this.state.collapsed?showLinkText:hideLinkText)))}));_defineProperty(_assertThisInitialized(_this),"getForm",(function(){if(_this.state.collapsed){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_this.props.children)}));_defineProperty(_assertThisInitialized(_this),"toggleCollapsed",(function(){_this.setState({collapsed:!_this.state.collapsed})}));_this.state={collapsed:props.initiallyCollapsed||false};return _this}_createClass(SectionPanel,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPanel,null,this.getTitle(),this.getForm())}}]);return SectionPanel}(_react.Component);exports.SectionPanel=SectionPanel},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.CustomizeSpaceAvatar=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _dataurl=__webpack_require__(102);var _space_avatar=__webpack_require__(4);var _common=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CustomizeSpaceAvatar=function(_Component){_inherits(CustomizeSpaceAvatar,_Component);function CustomizeSpaceAvatar(props){var _this;_classCallCheck(this,CustomizeSpaceAvatar);_this=_possibleConstructorReturn(this,_getPrototypeOf(CustomizeSpaceAvatar).call(this,props));_defineProperty(_assertThisInitialized(_this),"initialsRef",null);_defineProperty(_assertThisInitialized(_this),"handleImageUpload",(function(imgUrl){var thisInstance=_assertThisInitialized(_this);var image=new Image;image.addEventListener("load",(function(){var MAX_IMAGE_SIZE=64;var imgDimx=image.width;var imgDimy=image.height;if(imgDimx<=MAX_IMAGE_SIZE&&imgDimy<=MAX_IMAGE_SIZE){thisInstance.storeImageChanges(imgUrl)}else{var imageCanvas=document.createElement("canvas");var canvasContext=imageCanvas.getContext("2d");if(imgDimx>=imgDimy){imageCanvas.width=MAX_IMAGE_SIZE;imageCanvas.height=Math.floor(imgDimy*MAX_IMAGE_SIZE/imgDimx);if(canvasContext){canvasContext.drawImage(image,0,0,imageCanvas.width,imageCanvas.height);var resizedImageUrl=imageCanvas.toDataURL();thisInstance.storeImageChanges(resizedImageUrl)}}else{imageCanvas.height=MAX_IMAGE_SIZE;imageCanvas.width=Math.floor(imgDimx*MAX_IMAGE_SIZE/imgDimy);if(canvasContext){canvasContext.drawImage(image,0,0,imageCanvas.width,imageCanvas.height);var _resizedImageUrl=imageCanvas.toDataURL();thisInstance.storeImageChanges(_resizedImageUrl)}}}}),false);image.src=imgUrl}));_defineProperty(_assertThisInitialized(_this),"onFileUpload",(function(files){if(files==null)return;var file=files[0];if(_dataurl.imageTypes.indexOf(file.type)>-1){(0,_dataurl.encode)(file).then((function(dataurl){return _this.handleImageUpload(dataurl)}))}}));_defineProperty(_assertThisInitialized(_this),"initialsInputRef",(function(ref){if(ref){_this.initialsRef=ref;_this.initialsRef.addEventListener("focus",_this.onInitialsFocus);_this.initialsRef.addEventListener("blur",_this.onInitialsBlur)}else{if(_this.initialsRef){_this.initialsRef.removeEventListener("focus",_this.onInitialsFocus);_this.initialsRef.removeEventListener("blur",_this.onInitialsBlur);_this.initialsRef=null}}}));_defineProperty(_assertThisInitialized(_this),"onInitialsFocus",(function(){_this.setState({initialsHasFocus:true,pendingInitials:(0,_space_avatar.getSpaceInitials)(_this.props.space)})}));_defineProperty(_assertThisInitialized(_this),"onInitialsBlur",(function(){_this.setState({initialsHasFocus:false,pendingInitials:null})}));_defineProperty(_assertThisInitialized(_this),"onInitialsChange",(function(e){var initials=(e.target.value||"").substring(0,_common.MAX_SPACE_INITIALS);_this.setState({pendingInitials:initials});_this.props.onChange(_objectSpread({},_this.props.space,{initials:initials}))}));_defineProperty(_assertThisInitialized(_this),"onColorChange",(function(color){_this.props.onChange(_objectSpread({},_this.props.space,{color:color}))}));_this.state={initialsHasFocus:false};return _this}_createClass(CustomizeSpaceAvatar,[{key:"storeImageChanges",value:function storeImageChanges(imageUrl){this.props.onChange(_objectSpread({},this.props.space,{imageUrl:imageUrl}))}},{key:"render",value:function render(){var space=this.props.space;var _this$state=this.state,initialsHasFocus=_this$state.initialsHasFocus,pendingInitials=_this$state.pendingInitials;var spaceColor=(0,_space_avatar.getSpaceColor)(space);var isInvalidSpaceColor=!(0,_eui.isValidHex)(spaceColor)&&spaceColor!=="";return _react.default.createElement("form",{onSubmit:function onSubmit(){return false}},_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.spaces.management.customizeSpaceAvatar.initialItemsFormRowLabel",{defaultMessage:"Initials (2 max)"})},_react.default.createElement(_eui.EuiFieldText,{inputRef:this.initialsInputRef,name:"spaceInitials",value:initialsHasFocus?pendingInitials||"":(0,_space_avatar.getSpaceInitials)(space),onChange:this.onInitialsChange,disabled:this.props.space.imageUrl&&this.props.space.imageUrl!==""?true:false})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.spaces.management.customizeSpaceAvatar.colorFormRowLabel",{defaultMessage:"Color"}),isInvalid:isInvalidSpaceColor},_react.default.createElement(_eui.EuiColorPicker,{color:spaceColor,onChange:this.onColorChange,isInvalid:isInvalidSpaceColor})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.filePickerOrImage())}},{key:"removeImageUrl",value:function removeImageUrl(){this.props.onChange(_objectSpread({},this.props.space,{imageUrl:""}))}},{key:"filePickerOrImage",value:function filePickerOrImage(){var _this2=this;if(!this.props.space.imageUrl){return _react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("xpack.spaces.management.customizeSpaceAvatar.imageUrl",{defaultMessage:"Custom image"})},_react.default.createElement(_eui.EuiFilePicker,{display:"default",initialPromptText:_i18n.i18n.translate("xpack.spaces.management.customizeSpaceAvatar.selectImageUrl",{defaultMessage:"Select image file"}),onChange:this.onFileUpload,accept:_dataurl.imageTypes.join(",")}))}else{return _react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return _this2.removeImageUrl()},color:"danger",iconType:"trash"},_i18n.i18n.translate("xpack.spaces.management.customizeSpaceAvatar.removeImage",{defaultMessage:"Remove custom image"})))}}}]);return CustomizeSpaceAvatar}(_react.Component);exports.CustomizeSpaceAvatar=CustomizeSpaceAvatar},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encode=encode;exports.imageTypes=void 0;var _base64Js=__webpack_require__(103);var imageTypes=["image/svg+xml","image/jpeg","image/png","image/gif"];exports.imageTypes=imageTypes;function encode(data){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text/plain";if(FileReader){return new Promise((function(resolve,reject){var reader=new FileReader;reader.onloadend=function(){return resolve(reader.result)};reader.onerror=function(err){return reject(err)};reader.readAsDataURL(data)}))}return Promise.resolve("data:".concat(type,";base64,").concat((0,_base64Js.fromByteArray)(data)))}},function(module,exports,__webpack_require__){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function placeHoldersCount(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return b64[len-2]==="="?2:b64[len-1]==="="?1:0}function byteLength(b64){return b64.length*3/4-placeHoldersCount(b64)}function toByteArray(b64){var i,l,tmp,placeHolders,arr;var len=b64.length;placeHolders=placeHoldersCount(b64);arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SpaceIdentifier=void 0;var _eui=__webpack_require__(1);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));var _lib=__webpack_require__(12);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SpaceIdentifierUI=function(_Component){_inherits(SpaceIdentifierUI,_Component);function SpaceIdentifierUI(props){var _this;_classCallCheck(this,SpaceIdentifierUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(SpaceIdentifierUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"textFieldRef",null);_defineProperty(_assertThisInitialized(_this),"getLabel",(function(){if(!_this.props.editable){return _react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.urlIdentifierTitle",defaultMessage:"URL identifier"}))}var editLinkText=_this.state.editing?_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.resetSpaceNameLinkText",defaultMessage:"[reset]"}):_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.customizeSpaceLinkText",defaultMessage:"[customize]"});var editLinkLabel=_this.state.editing?_this.props.intl.formatMessage({id:"xpack.spaces.management.spaceIdentifier.resetSpaceNameLinkLabel",defaultMessage:"Reset the URL identifier"}):_this.props.intl.formatMessage({id:"xpack.spaces.management.spaceIdentifier.customizeSpaceNameLinkLabel",defaultMessage:"Customize the URL identifier"});return _react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.urlIdentifierLabel",defaultMessage:"URL identifier "}),_react2.default.createElement(_eui.EuiLink,{onClick:_this.onEditClick,"aria-label":editLinkLabel},editLinkText))}));_defineProperty(_assertThisInitialized(_this),"getHelpText",(function(){var identifier=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.props.intl.formatMessage({id:"xpack.spaces.management.spaceIdentifier.emptySpaceIdentifierText",defaultMessage:"awesome-space"});return _react2.default.createElement("p",{className:"eui-textBreakAll"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.kibanaURLForSpaceIdentifierDescription",defaultMessage:"Example: https://my-kibana.example{spaceIdentifier}/app/kibana.",values:{spaceIdentifier:_react2.default.createElement("strong",null,"/s/",identifier)}}))}));_defineProperty(_assertThisInitialized(_this),"onEditClick",(function(){var currentlyEditing=_this.state.editing;if(currentlyEditing){var resetIdentifier=(0,_lib.toSpaceIdentifier)(_this.props.space.name);_this.setState({editing:false});_this.props.onChange(resetIdentifier)}else{_this.setState({editing:true},(function(){if(_this.textFieldRef){_this.textFieldRef.focus()}}))}}));_defineProperty(_assertThisInitialized(_this),"onChange",(function(e){if(!_this.state.editing){return}_this.props.onChange(e.target.value)}));_this.state={editing:false};return _this}_createClass(SpaceIdentifierUI,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;var _this$props$space$id=this.props.space.id,id=_this$props$space$id===void 0?"":_this$props$space$id;return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,_extends({label:this.getLabel(),helpText:this.getHelpText(id)},this.props.validator.validateURLIdentifier(this.props.space),{fullWidth:true}),_react2.default.createElement(_eui.EuiFieldText,{readOnly:!this.state.editing,placeholder:this.state.editing||!this.props.editable?undefined:intl.formatMessage({id:"xpack.spaces.management.spaceIdentifier.urlIdentifierGeneratedFromSpaceNameTooltip",defaultMessage:"awesome-space"}),value:id,onChange:this.onChange,inputRef:function inputRef(ref){return _this2.textFieldRef=ref},fullWidth:true})))}}]);return SpaceIdentifierUI}(_react2.Component);var SpaceIdentifier=(0,_react.injectI18n)(SpaceIdentifierUI);exports.SpaceIdentifier=SpaceIdentifier},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DeleteSpacesButton=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));var _confirm_delete_modal=__webpack_require__(11);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DeleteSpacesButton=function(_Component){_inherits(DeleteSpacesButton,_Component);function DeleteSpacesButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,DeleteSpacesButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(DeleteSpacesButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{showConfirmDeleteModal:false,showConfirmRedirectModal:false});_defineProperty(_assertThisInitialized(_this),"onDeleteClick",(function(){_this.setState({showConfirmDeleteModal:true})}));_defineProperty(_assertThisInitialized(_this),"getConfirmDeleteModal",(function(){if(!_this.state.showConfirmDeleteModal){return null}var spacesManager=_this.props.spacesManager;return _react2.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{space:_this.props.space,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpaces})}));_defineProperty(_assertThisInitialized(_this),"deleteSpaces",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,spacesManager,space,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,spacesManager=_this$props.spacesManager,space=_this$props.space;_context.prev=1;_context.next=4;return spacesManager.deleteSpace(space);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=_ref2$message===void 0?"":_ref2$message;_this.props.notifications.toasts.addDanger(_i18n.i18n.translate("xpack.spaces.management.deleteSpacesButton.deleteSpaceErrorTitle",{defaultMessage:"Error deleting space: {errorMessage}",values:{errorMessage:errorMessage}}));case 10:_this.setState({showConfirmDeleteModal:false});message=_i18n.i18n.translate("xpack.spaces.management.deleteSpacesButton.spaceSuccessfullyDeletedNotificationMessage",{defaultMessage:"Deleted {spaceName} space.",values:{spaceName:space.name}});_this.props.notifications.toasts.addSuccess(message);if(_this.props.onDelete){_this.props.onDelete()}case 14:case"end":return _context.stop()}}}),_callee,null,[[1,6]])}))));return _this}_createClass(DeleteSpacesButton,[{key:"render",value:function render(){var buttonText=_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.deleteSpacesButton.deleteSpaceButtonLabel",defaultMessage:"Delete space"});var ButtonComponent=_eui.EuiButton;var extraProps={};if(this.props.style==="icon"){ButtonComponent=_eui.EuiButtonIcon;extraProps.iconType="trash"}return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(ButtonComponent,_extends({color:"danger",onClick:this.onDeleteClick,"aria-label":_i18n.i18n.translate("xpack.spaces.management.deleteSpacesButton.deleteSpaceAriaLabel",{defaultMessage:"Delete this space"})},extraProps),buttonText),this.getConfirmDeleteModal())}}]);return DeleteSpacesButton}(_react2.Component);exports.DeleteSpacesButton=DeleteSpacesButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EnabledFeatures",{enumerable:true,get:function get(){return _enabled_features.EnabledFeatures}});var _enabled_features=__webpack_require__(107)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.EnabledFeatures=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));var _feature_utils=__webpack_require__(26);var _section_panel=__webpack_require__(29);var _feature_table=__webpack_require__(108);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EnabledFeatures=function(_Component){_inherits(EnabledFeatures,_Component);function EnabledFeatures(){var _getPrototypeOf2;var _this;_classCallCheck(this,EnabledFeatures);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EnabledFeatures)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"getPanelTitle",(function(){var featureCount=_this.props.features.length;var enabledCount=(0,_feature_utils.getEnabledFeatures)(_this.props.features,_this.props.space).length;var details=null;if(enabledCount===featureCount){details=_react2.default.createElement(_eui.EuiText,{size:"s",style:{display:"inline-block"}},_react2.default.createElement("em",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.allFeaturesEnabledMessage",defaultMessage:"(all features visible)"})))}else if(enabledCount===0){details=_react2.default.createElement(_eui.EuiText,{color:"danger",size:"s",style:{display:"inline-block"}},_react2.default.createElement("em",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.noFeaturesEnabledMessage",defaultMessage:"(no features visible)"})))}else{details=_react2.default.createElement(_eui.EuiText,{size:"s",style:{display:"inline-block"}},_react2.default.createElement("em",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.someFeaturesEnabledMessage",defaultMessage:"({enabledCount} / {featureCount} features visible)",values:{enabledCount:enabledCount,featureCount:featureCount}})))}return _react2.default.createElement("span",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.enabledFeaturesSectionMessage",defaultMessage:"Customize feature display"})," ",details)}));_defineProperty(_assertThisInitialized(_this),"getDescription",(function(){return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.notASecurityMechanismMessage",defaultMessage:"The feature is hidden in the UI, but is not disabled."})),_this.props.securityEnabled&&_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.goToRolesLink",defaultMessage:"Want to secure access? Go to {rolesLink}.",values:{rolesLink:_react2.default.createElement(_eui.EuiLink,{href:"#/management/security/roles"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.rolesLinkText",defaultMessage:"Roles"}))}}))))}));return _this}_createClass(EnabledFeatures,[{key:"render",value:function render(){var description=_i18n.i18n.translate("xpack.spaces.management.manageSpacePage.customizeVisibleFeatures",{defaultMessage:"Customize visible features"});return _react2.default.createElement(_section_panel.SectionPanel,{collapsible:true,initiallyCollapsed:true,title:this.getPanelTitle(),description:description,"data-test-subj":"enabled-features-panel"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeatures.enableFeaturesInSpaceMessage",defaultMessage:"Control which features are visible in this space."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.getDescription()),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_feature_table.FeatureTable,{features:this.props.features,space:this.props.space,onChange:this.props.onChange}))))}}]);return EnabledFeatures}(_react2.Component);exports.EnabledFeatures=EnabledFeatures},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureTable=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react=__webpack_require__(2);var _lodash=_interopRequireDefault(__webpack_require__(6));var _react2=_interopRequireWildcard(__webpack_require__(0));var _toggle_all_features=__webpack_require__(109);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FeatureTable=function(_Component){_inherits(FeatureTable,_Component);function FeatureTable(){var _getPrototypeOf2;var _this;_classCallCheck(this,FeatureTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FeatureTable)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"onChange",(function(featureId){return function(e){var updatedSpace=_objectSpread({},_this.props.space);var disabledFeatures=updatedSpace.disabledFeatures||[];var isFeatureEnabled=e.target.checked;if(isFeatureEnabled){disabledFeatures=disabledFeatures.filter((function(feature){return feature!==featureId}))}else{disabledFeatures=_lodash.default.uniq([].concat(_toConsumableArray(disabledFeatures),[featureId]))}updatedSpace.disabledFeatures=disabledFeatures;_this.props.onChange(updatedSpace)}}));_defineProperty(_assertThisInitialized(_this),"onChangeAll",(function(visible){var updatedSpace=_objectSpread({},_this.props.space);if(visible){updatedSpace.disabledFeatures=[]}else{updatedSpace.disabledFeatures=_this.props.features.map((function(feature){return feature.id}))}_this.props.onChange(updatedSpace)}));_defineProperty(_assertThisInitialized(_this),"getColumns",(function(){return[{field:"feature",name:_i18n.i18n.translate("xpack.spaces.management.enabledSpaceFeaturesFeatureColumnTitle",{defaultMessage:"Feature"}),render:function render(feature,_item){return _react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiIcon,{size:"m",type:feature.icon}),"  ",feature.name)}},{field:"space",width:"150",name:_react2.default.createElement("span",null,_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.enabledSpaceFeaturesEnabledColumnTitle",defaultMessage:"Show?"}),_react2.default.createElement(_toggle_all_features.ToggleAllFeatures,{onChange:_this.onChangeAll})),render:function render(spaceEntry,record){var checked=!(spaceEntry.disabledFeatures&&spaceEntry.disabledFeatures.includes(record.feature.id));return _react2.default.createElement(_eui.EuiSwitch,{id:record.feature.id,checked:checked,onChange:_this.onChange(record.feature.id),label:"".concat(record.feature.name," visible"),showLabel:false})}}]}));return _this}_createClass(FeatureTable,[{key:"render",value:function render(){var _this$props=this.props,space=_this$props.space,features=_this$props.features;var items=features.map((function(feature){return{feature:feature,space:space}}));return _react2.default.createElement(_eui.EuiInMemoryTable,{columns:this.getColumns(),items:items})}}]);return FeatureTable}(_react2.Component);exports.FeatureTable=FeatureTable},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ToggleAllFeatures=void 0;var _eui=__webpack_require__(1);var _i18n=__webpack_require__(3);var _react=__webpack_require__(2);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var options=[{id:"show",text:_i18n.i18n.translate("xpack.spaces.management.showAllFeaturesText",{defaultMessage:"Show all"})},{id:"hide",text:_i18n.i18n.translate("xpack.spaces.management.hideAllFeaturesText",{defaultMessage:"Hide all"})}];var ToggleAllFeatures=function(_Component){_inherits(ToggleAllFeatures,_Component);function ToggleAllFeatures(){var _getPrototypeOf2;var _this;_classCallCheck(this,ToggleAllFeatures);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ToggleAllFeatures)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"onSelect",(function(selection){_this.props.onChange(selection==="show");_this.setState({isPopoverOpen:false})}));_defineProperty(_assertThisInitialized(_this),"onButtonClick",(function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})}));_defineProperty(_assertThisInitialized(_this),"closePopover",(function(){_this.setState({isPopoverOpen:false})}));return _this}_createClass(ToggleAllFeatures,[{key:"render",value:function render(){var _this2=this;var button=_react2.default.createElement(_eui.EuiLink,{onClick:this.onButtonClick,className:"spcToggleAllFeatures__changeAllLink"},_react2.default.createElement(_react.FormattedMessage,{id:"xpack.spaces.management.toggleAllFeaturesLink",defaultMessage:"(change all)"}));var items=options.map((function(item){return _react2.default.createElement(_eui.EuiContextMenuItem,{"data-test-subj":"spc-toggle-all-features-".concat(item.id),key:item.id,onClick:function onClick(){_this2.onSelect(item.id)},disabled:_this2.props.disabled},item.text)}));return _react2.default.createElement(_eui.EuiPopover,{id:"changeAllFeatureVisibilityPopover",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items}))}}]);return ToggleAllFeatures}(_react2.Component);exports.ToggleAllFeatures=ToggleAllFeatures},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReservedSpaceBadge=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(2);var _common=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ReservedSpaceBadge=function ReservedSpaceBadge(props){var space=props.space;if(space&&(0,_common.isReservedSpace)(space)){return _react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.spaces.management.reversedSpaceBadge.reversedSpacesCanBePartiallyModifiedTooltip",defaultMessage:"Reserved spaces are built-in and can only be partially modified."})},_react.default.createElement(_eui.EuiIcon,{style:{verticalAlign:"super"},type:"lock"}))}return null};exports.ReservedSpaceBadge=ReservedSpaceBadge},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"spaceSelectorApp",{enumerable:true,get:function get(){return _space_selector_app.spaceSelectorApp}});var _space_selector_app=__webpack_require__(112)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.spaceSelectorApp=void 0;var _i18n=__webpack_require__(3);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var spaceSelectorApp=Object.freeze({id:"space_selector",create:function create(_ref){var application=_ref.application,getStartServices=_ref.getStartServices,spacesManager=_ref.spacesManager;application.register({id:this.id,title:_i18n.i18n.translate("xpack.spaces.spaceSelector.appTitle",{defaultMessage:"Select a space"}),chromeless:true,appRoute:"/spaces/space_selector",mount:function(){var _mount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(params){var _ref2,_ref3,_ref3$,coreStart,renderSpaceSelectorApp;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.all([getStartServices(),__webpack_require__.e(3).then(__webpack_require__.t.bind(null,117,7))]);case 2:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,2);_ref3$=_slicedToArray(_ref3[0],1);coreStart=_ref3$[0];renderSpaceSelectorApp=_ref3[1].renderSpaceSelectorApp;return _context.abrupt("return",renderSpaceSelectorApp(coreStart.i18n,params.element,{spacesManager:spacesManager,serverBasePath:coreStart.http.basePath.serverBasePath}));case 8:case"end":return _context.stop()}}}),_callee)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()})}});exports.spaceSelectorApp=spaceSelectorApp},function(module,exports,__webpack_require__){"use strict"},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},,function(module,exports){module.exports=__kbnBundles__["plugin/kibanaReact"]}]);