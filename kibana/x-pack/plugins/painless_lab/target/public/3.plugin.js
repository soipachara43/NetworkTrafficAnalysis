(window["painlessLab_bundle_jsonpfunction"]=window["painlessLab_bundle_jsonpfunction"]||[]).push([[3],{36:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=renderApp;var _react=_interopRequireDefault(__webpack_require__(3));var _reactDom=__webpack_require__(34);var _public=__webpack_require__(33);var _context=__webpack_require__(42);var _main=__webpack_require__(56);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderApp(element,_ref){var http=_ref.http,I18nContext=_ref.I18nContext,uiSettings=_ref.uiSettings,links=_ref.links,chrome=_ref.chrome;if(!element){return function(){return undefined}}var _createKibanaReactCon=(0,_public.createKibanaReactContext)({uiSettings:uiSettings}),KibanaReactContextProvider=_createKibanaReactCon.Provider;(0,_reactDom.render)(_react.default.createElement(I18nContext,null,_react.default.createElement(KibanaReactContextProvider,null,_react.default.createElement(_context.AppContextProvider,{value:{http:http,links:links,chrome:chrome}},_react.default.createElement(_main.Main,null)))),element);return function(){return(0,_reactDom.unmountComponentAtNode)(element)}}},42:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AppContextProvider",{enumerable:true,get:function get(){return _context.AppContextProvider}});Object.defineProperty(exports,"useAppContext",{enumerable:true,get:function get(){return _context.useAppContext}});var _context=__webpack_require__(54)},43:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.exampleScript=exports.painlessContextOptions=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultLabel=_i18n.i18n.translate("xpack.painlessLab.contextDefaultLabel",{defaultMessage:"Basic"});var filterLabel=_i18n.i18n.translate("xpack.painlessLab.contextFilterLabel",{defaultMessage:"Filter"});var scoreLabel=_i18n.i18n.translate("xpack.painlessLab.contextScoreLabel",{defaultMessage:"Score"});var painlessContextOptions=[{value:"painless_test",inputDisplay:defaultLabel,dropdownDisplay:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("strong",null,defaultLabel),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",{className:"euiTextColor--subdued"},_i18n.i18n.translate("xpack.painlessLab.context.defaultLabel",{defaultMessage:"The script result will be converted to a string"}))))},{value:"filter",inputDisplay:filterLabel,dropdownDisplay:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("strong",null,filterLabel),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",{className:"euiTextColor--subdued"},_i18n.i18n.translate("xpack.painlessLab.context.filterLabel",{defaultMessage:"Use the context of a filter's script query"}))))},{value:"score",inputDisplay:scoreLabel,dropdownDisplay:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("strong",null,scoreLabel),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",{className:"euiTextColor--subdued"},_i18n.i18n.translate("xpack.painlessLab.context.scoreLabel",{defaultMessage:"Use the context of a script_score function in function_score query"}))))}];exports.painlessContextOptions=painlessContextOptions;var exampleScript='boolean isInCircle(def posX, def posY, def circleX, def circleY, def radius) {\n  double distanceFromCircleCenter = Math.sqrt(Math.pow(circleX - posX, 2) + Math.pow(circleY - posY, 2));\n  return distanceFromCircleCenter <= radius;\n}\n\nboolean isOnCircle(def posX, def posY, def circleX, def circleY, def radius, def thickness, def squashY) {\n  double distanceFromCircleCenter = Math.sqrt(Math.pow(circleX - posX, 2) + Math.pow((circleY - posY) / squashY, 2));\n  return (\n    distanceFromCircleCenter >= radius - thickness\n    && distanceFromCircleCenter <= radius + thickness\n  );\n}\n\ndef result = \'\';\nint charCount = 0;\n\n// Canvas dimensions\nint width = 31;\nint height = 31;\ndouble halfWidth = Math.floor(width * 0.5);\ndouble halfHeight = Math.floor(height * 0.5);\n\n// Style constants\ndouble strokeWidth = 0.6;\n\n// Smiley face configuration\nint headSize = 13;\ndouble headSquashY = 0.78;\nint eyePositionX = 10;\nint eyePositionY = 12;\nint eyeSize = 1;\nint mouthSize = 15;\nint mouthPositionX = width / 2;\nint mouthPositionY = 5;\nint mouthOffsetY = 11;\n\nfor (int y = 0; y < height; y++) {\n  for (int x = 0; x < width; x++) {\n    boolean isHead = isOnCircle(x, y, halfWidth, halfHeight, headSize, strokeWidth, headSquashY);\n    boolean isLeftEye = isInCircle(x, y, eyePositionX, eyePositionY, eyeSize);\n    boolean isRightEye = isInCircle(x, y, width - eyePositionX - 1, eyePositionY, eyeSize);\n    boolean isMouth = isOnCircle(x, y, mouthPositionX, mouthPositionY, mouthSize, strokeWidth, 1) && y > mouthPositionY + mouthOffsetY;\n\n    if (isLeftEye || isRightEye || isMouth || isHead) {\n      result += "*";\n    } else {\n      result += ".";\n    }\n\n    result += " ";\n\n    // Make sure the smiley face doesn\'t deform as the container changes width.\n    charCount++;\n    if (charCount % width === 0) {\n      result += "\\\\n";\n    }\n  }\n}\n\nreturn result;';exports.exampleScript=exampleScript},44:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatRequestPayload=formatRequestPayload;exports.formatJson=formatJson;exports.formatResponse=formatResponse;exports.formatExecutionError=formatExecutionError;var _types=__webpack_require__(45);function prettifyPayload(){var payload=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var indentationLevel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var indentation=new Array(indentationLevel+1).join(" ");return payload.replace(/\n/g,"\n".concat(indentation))}function formatRequestPayload(_ref){var code=_ref.code,context=_ref.context,parameters=_ref.parameters,index=_ref.index,document=_ref.document,query=_ref.query;var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_types.PayloadFormat.UGLY;var isAdvancedContext=context==="filter"||context==="score";var formattedCode;var formattedParameters;var formattedContext;var formattedIndex;var formattedDocument;var formattedQuery;if(format===_types.PayloadFormat.UGLY){formattedCode=JSON.stringify(code);formattedParameters=parameters;formattedContext=context;formattedIndex=index;formattedDocument=document;formattedQuery=query}else{formattedCode='"""'.concat(prettifyPayload(code,4),'"""');formattedParameters=prettifyPayload(parameters,4);formattedContext=prettifyPayload(context,6);formattedIndex=prettifyPayload(index);formattedDocument=prettifyPayload(document,4);formattedQuery=prettifyPayload(query,4)}var requestPayload='{\n  "script": {\n    "source": '.concat(formattedCode).concat(parameters?',\n    "params": '.concat(formattedParameters):"","\n  }").concat(isAdvancedContext?',\n  "context": "'.concat(formattedContext,'",\n  "context_setup": {\n    "index": "').concat(formattedIndex,'",\n    "document": ').concat(formattedDocument).concat(query&&context==="score"?',\n    "query": '.concat(formattedQuery):"","\n  }"):"","\n}");return requestPayload}function formatJson(json){try{return JSON.stringify(json,null,2)}catch(e){return"Invalid JSON ".concat(String(json))}}function formatResponse(response){if(!response){return""}if(typeof response.result==="string"){return response.result.replace(/\\n/g,"\n")}else if(response.error){return formatExecutionError(response.error)}return formatJson(response)}function formatExecutionError(executionErrorOrError){if(executionErrorOrError instanceof Error){return executionErrorOrError.message}if(executionErrorOrError.script_stack&&executionErrorOrError.caused_by&&executionErrorOrError.position){return"Unhandled Exception ".concat(executionErrorOrError.caused_by.type,"\n\n").concat(executionErrorOrError.caused_by.reason,"\n\nStack:\n").concat(formatJson(executionErrorOrError.script_stack),"\n")}return formatJson(executionErrorOrError)}},45:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PayloadFormat=void 0;var PayloadFormat;exports.PayloadFormat=PayloadFormat;(function(PayloadFormat){PayloadFormat["UGLY"]="ugly";PayloadFormat["PRETTY"]="pretty"})(PayloadFormat||(exports.PayloadFormat=PayloadFormat={}))},54:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useAppContext=exports.AppContextProvider=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _initial_payload=__webpack_require__(55);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var AppContext=(0,_react.createContext)(undefined);var validatePayload=function validatePayload(payload){var index=payload.index;var indexExists=Boolean(index||index.trim());return{isValid:indexExists,fields:{index:indexExists}}};var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children,_ref$value=_ref.value,http=_ref$value.http,links=_ref$value.links,chrome=_ref$value.chrome;var PAINLESS_LAB_KEY="painlessLabState";var _useState=(0,_react.useState)((function(){var defaultPayload=_objectSpread({},_initial_payload.initialPayload,{},JSON.parse(localStorage.getItem(PAINLESS_LAB_KEY)||"{}"));return{payload:defaultPayload,validation:validatePayload(defaultPayload)}})),_useState2=_slicedToArray(_useState,2),store=_useState2[0],setStore=_useState2[1];var updatePayload=function updatePayload(changes){var nextPayload=_objectSpread({},store.payload,{},changes);localStorage.setItem(PAINLESS_LAB_KEY,JSON.stringify(nextPayload));setStore({payload:nextPayload,validation:validatePayload(nextPayload)})};return _react.default.createElement(AppContext.Provider,{value:{updatePayload:updatePayload,store:store,services:{http:http,chrome:chrome},links:links}},children)};exports.AppContextProvider=AppContextProvider;var useAppContext=function useAppContext(){var ctx=(0,_react.useContext)(AppContext);if(!ctx){throw new Error("AppContext can only be used inside of AppContextProvider!")}return ctx};exports.useAppContext=useAppContext},55:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initialPayload=void 0;var _constants=__webpack_require__(43);var initialPayload={context:_constants.painlessContextOptions[0].value,code:_constants.exampleScript,parameters:'{\n  "string_parameter": "string value",\n  "number_parameter": 1.5,\n  "boolean_parameter": true\n}',index:"my-index",document:'{\n  "my_field": "field_value"\n}',query:""};exports.initialPayload=initialPayload},56:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Main=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(5);var _format=__webpack_require__(44);var _constants=__webpack_require__(43);var _types=__webpack_require__(45);var _hooks=__webpack_require__(57);var _context=__webpack_require__(42);var _output_pane=__webpack_require__(59);var _main_controls=__webpack_require__(64);var _editor=__webpack_require__(65);var _request_flyout=__webpack_require__(66);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var Main=function Main(){var _useAppContext=(0,_context.useAppContext)(),_useAppContext$store=_useAppContext.store,payload=_useAppContext$store.payload,validation=_useAppContext$store.validation,updatePayload=_useAppContext.updatePayload,_useAppContext$servic=_useAppContext.services,http=_useAppContext$servic.http,getIsNavDrawerLocked$=_useAppContext$servic.chrome.getIsNavDrawerLocked$,links=_useAppContext.links;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isRequestFlyoutOpen=_useState2[0],setRequestFlyoutOpen=_useState2[1];var _useSubmitCode=(0,_hooks.useSubmitCode)(http),inProgress=_useSubmitCode.inProgress,response=_useSubmitCode.response,submit=_useSubmitCode.submit;(0,_react.useEffect)((function(){if(validation.isValid){submit(payload)}}),[payload,submit,validation.isValid]);var toggleRequestFlyout=function toggleRequestFlyout(){setRequestFlyoutOpen(!isRequestFlyoutOpen)};var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),isNavDrawerLocked=_useState4[0],setIsNavDrawerLocked=_useState4[1];(0,_react.useEffect)((function(){var subscription=getIsNavDrawerLocked$().subscribe((function(newIsNavDrawerLocked){setIsNavDrawerLocked(newIsNavDrawerLocked)}));return function(){return subscription.unsubscribe()}}));return _react.default.createElement("div",{className:"painlessLabMainContainer"},_react.default.createElement(_eui.EuiFlexGroup,{className:"painlessLabPanelsContainer",responsive:false,gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,{className:"painlessLabLeftPane"},_react.default.createElement(_eui.EuiTitle,{className:"euiScreenReaderOnly"},_react.default.createElement("h1",null,_i18n.i18n.translate("xpack.painlessLab.title",{defaultMessage:"Painless Lab"}))),_react.default.createElement(_editor.Editor,{code:payload.code,onChange:function onChange(nextCode){return updatePayload({code:nextCode})}})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_output_pane.OutputPane,{isLoading:inProgress,response:response}))),_react.default.createElement(_main_controls.MainControls,{links:links,isLoading:inProgress,toggleRequestFlyout:toggleRequestFlyout,isRequestFlyoutOpen:isRequestFlyoutOpen,isNavDrawerLocked:isNavDrawerLocked,reset:function reset(){return updatePayload({code:_constants.exampleScript})}}),isRequestFlyoutOpen&&_react.default.createElement(_request_flyout.RequestFlyout,{links:links,onClose:function onClose(){return setRequestFlyoutOpen(false)},requestBody:(0,_format.formatRequestPayload)(payload,_types.PayloadFormat.PRETTY),response:response?(0,_format.formatJson)(response.result||response.error):""}))};exports.Main=Main},57:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useSubmitCode",{enumerable:true,get:function get(){return _use_submit_code.useSubmitCode}});var _use_submit_code=__webpack_require__(58)},58:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useSubmitCode=void 0;var _react=__webpack_require__(3);var _lodash=__webpack_require__(40);var _constants=__webpack_require__(8);var _types=__webpack_require__(45);var _format=__webpack_require__(44);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEBOUNCE_MS=800;var useSubmitCode=function useSubmitCode(http){var currentRequestIdRef=(0,_react.useRef)(0);var _useState=(0,_react.useState)(undefined),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=_slicedToArray(_useState3,2),inProgress=_useState4[0],setInProgress=_useState4[1];var submit=(0,_react.useCallback)((0,_lodash.debounce)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(config){var requestId,result;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setInProgress(true);requestId=++currentRequestIdRef.current;_context.prev=2;_context.next=5;return http.post("".concat(_constants.API_BASE_PATH,"/execute"),{body:JSON.stringify((0,_format.formatRequestPayload)(config,_types.PayloadFormat.UGLY))});case 5:result=_context.sent;if(currentRequestIdRef.current===requestId){setResponse(result);setInProgress(false)}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);if(currentRequestIdRef.current===requestId){setResponse({error:_context.t0});setInProgress(false)}case 12:case"end":return _context.stop()}}}),_callee,null,[[2,9]])})));return function(_x){return _ref.apply(this,arguments)}}(),DEBOUNCE_MS,{trailing:true}),[http]);return{response:response,inProgress:inProgress,submit:submit}};exports.useSubmitCode=useSubmitCode},59:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"OutputPane",{enumerable:true,get:function get(){return _output_pane.OutputPane}});var _output_pane=__webpack_require__(60)},60:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputPane=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(5);var _output_tab=__webpack_require__(61);var _parameters_tab=__webpack_require__(62);var _context_tab=__webpack_require__(63);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OutputPane=function OutputPane(_ref){var isLoading=_ref.isLoading,response=_ref.response;var outputTabLabel=_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}):response&&response.error?_react.default.createElement(_eui.EuiIcon,{type:"alert",color:"danger"}):_react.default.createElement(_eui.EuiIcon,{type:"check",color:"secondary"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_i18n.i18n.translate("xpack.painlessLab.outputTabLabel",{defaultMessage:"Output"})));return _react.default.createElement(_eui.EuiPanel,{className:"painlessLabRightPane"},_react.default.createElement(_eui.EuiTabbedContent,{className:"painlessLabRightPane__tabs",size:"s",tabs:[{id:"output",name:outputTabLabel,content:_react.default.createElement(_output_tab.OutputTab,{response:response})},{id:"parameters",name:_i18n.i18n.translate("xpack.painlessLab.parametersTabLabel",{defaultMessage:"Parameters"}),content:_react.default.createElement(_parameters_tab.ParametersTab,null)},{id:"context",name:_i18n.i18n.translate("xpack.painlessLab.contextTabLabel",{defaultMessage:"Context"}),content:_react.default.createElement(_context_tab.ContextTab,null)}]}))};exports.OutputPane=OutputPane},61:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputTab=OutputTab;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _format=__webpack_require__(44);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function OutputTab(_ref){var response=_ref.response;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCodeBlock,{language:"json",paddingSize:"s",isCopyable:true},(0,_format.formatResponse)(response)))}},62:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParametersTab=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(32);var _i18n=__webpack_require__(5);var _public=__webpack_require__(33);var _context=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ParametersTab=function ParametersTab(){var _useAppContext=(0,_context.useAppContext)(),payload=_useAppContext.store.payload,updatePayload=_useAppContext.updatePayload,links=_useAppContext.links;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.painlessLab.parametersFieldTooltipText",{defaultMessage:'These variables are assigned to the "params" object in your script'})},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.painlessLab.parametersFieldLabel",defaultMessage:"Parameters (JSON)"})," ",_react.default.createElement(_eui.EuiIcon,{type:"questionInCircle",color:"subdued"}))),fullWidth:true,labelAppend:_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:links.modulesScriptingPreferParams,target:"_blank"},_i18n.i18n.translate("xpack.painlessLab.parametersFieldDocLinkText",{defaultMessage:"Parameters docs"})))},_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_public.CodeEditor,{languageId:"json",height:600,value:payload.parameters,onChange:function onChange(nextParams){return updatePayload({parameters:nextParams})},options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true},editorDidMount:function editorDidMount(editor){var model=editor.getModel();if(model){model.updateOptions({tabSize:2})}}}))))};exports.ParametersTab=ParametersTab},63:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ContextTab=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _react2=__webpack_require__(32);var _i18n=__webpack_require__(5);var _public=__webpack_require__(33);var _constants=__webpack_require__(43);var _context=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ContextTab=function ContextTab(){var _useAppContext=(0,_context.useAppContext)(),_useAppContext$store=_useAppContext.store,payload=_useAppContext$store.payload,validation=_useAppContext$store.validation,updatePayload=_useAppContext.updatePayload,links=_useAppContext.links;var context=payload.context,document=payload.document,index=payload.index,query=payload.query;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.painlessLab.contextFieldTooltipText",{defaultMessage:"Different contexts provide different functions on the ctx object"})},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.painlessLab.contextFieldLabel",defaultMessage:"Execution context"})," ",_react.default.createElement(_eui.EuiIcon,{type:"questionInCircle",color:"subdued"}))),labelAppend:_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:links.painlessExecuteAPIContexts,target:"_blank"},_i18n.i18n.translate("xpack.painlessLab.contextFieldDocLinkText",{defaultMessage:"Context docs"}))),fullWidth:true},_react.default.createElement(_eui.EuiSuperSelect,{options:_constants.painlessContextOptions,valueOfSelected:context,onChange:function onChange(nextContext){return updatePayload({context:nextContext})},itemLayoutAlign:"top",hasDividers:true,fullWidth:true})),["filter","score"].indexOf(context)!==-1&&_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.painlessLab.indexFieldTooltipText",{defaultMessage:"Index mappings must be compatible with the sample document's fields"})},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.painlessLab.indexFieldLabel",defaultMessage:"Index name"})," ",_react.default.createElement(_eui.EuiIcon,{type:"questionInCircle",color:"subdued"}))),fullWidth:true,isInvalid:!validation.fields.index,error:validation.fields.index?[]:[_i18n.i18n.translate("xpack.painlessLab.indexFieldMissingErrorMessage",{defaultMessage:"Enter an index name"})]},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:index||"",onChange:function onChange(e){var nextIndex=e.target.value;updatePayload({index:nextIndex})},isInvalid:!validation.fields.index})),"score".indexOf(context)!==-1&&_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.painlessLab.queryFieldTooltipText",{defaultMessage:"Use query to specify that that _score will be used to calculate score."})},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.painlessLab.queryFieldLabel",defaultMessage:"Query"})," ",_react.default.createElement(_eui.EuiIcon,{type:"questionInCircle",color:"subdued"}))),labelAppend:_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:links.esQueryDSL,target:"_blank"},_i18n.i18n.translate("xpack.painlessLab.queryFieldDocLinkText",{defaultMessage:"Query DSL docs"}))),fullWidth:true},_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_public.CodeEditor,{languageId:"json",height:150,value:query,onChange:function onChange(nextQuery){return updatePayload({query:nextQuery})},options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true}}))),["filter","score"].indexOf(context)!==-1&&_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiToolTip,{content:_i18n.i18n.translate("xpack.painlessLab.documentFieldTooltipText",{defaultMessage:"Your script can access this document's fields"})},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.painlessLab.documentFieldLabel",defaultMessage:"Sample document (JSON)"})," ",_react.default.createElement(_eui.EuiIcon,{type:"questionInCircle",color:"subdued"}))),fullWidth:true},_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_public.CodeEditor,{languageId:"json",height:400,value:document,onChange:function onChange(nextDocument){return updatePayload({document:nextDocument})},options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true}}))))};exports.ContextTab=ContextTab},64:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MainControls=MainControls;var _react=_interopRequireWildcard(__webpack_require__(3));var _classnames=_interopRequireDefault(__webpack_require__(46));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function MainControls(_ref){var toggleRequestFlyout=_ref.toggleRequestFlyout,isRequestFlyoutOpen=_ref.isRequestFlyoutOpen,reset=_ref.reset,links=_ref.links,isNavDrawerLocked=_ref.isNavDrawerLocked;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isHelpOpen=_useState2[0],setIsHelpOpen=_useState2[1];var items=[_react.default.createElement(_eui.EuiContextMenuItem,{key:"walkthrough",icon:"popout",href:links.painlessWalkthrough,target:"_blank",onClick:function onClick(){return setIsHelpOpen(false)}},_i18n.i18n.translate("xpack.painlessLab.walkthroughButtonLabel",{defaultMessage:"Walkthrough"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"api",icon:"popout",href:links.painlessAPIReference,target:"_blank",onClick:function onClick(){return setIsHelpOpen(false)}},_i18n.i18n.translate("xpack.painlessLab.apiReferenceButtonLabel",{defaultMessage:"API reference"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"languageSpec",icon:"popout",href:links.painlessLangSpec,target:"_blank",onClick:function onClick(){return setIsHelpOpen(false)}},_i18n.i18n.translate("xpack.painlessLab.languageSpecButtonLabel",{defaultMessage:"Language spec"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"reset",icon:"bolt",onClick:function onClick(){reset();setIsHelpOpen(false)}},_i18n.i18n.translate("xpack.painlessLab.resetButtonLabel",{defaultMessage:"Reset script"}))];var classes=(0,_classnames.default)("painlessLab__bottomBar",{"painlessLab__bottomBar-isNavDrawerLocked":isNavDrawerLocked});return _react.default.createElement(_eui.EuiBottomBar,{paddingSize:"s",className:classes},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexStart"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"painlessLabHelpContextMenu",button:_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"help",iconSide:"left",color:"ghost",onClick:function onClick(){return setIsHelpOpen(!isHelpOpen)}},_i18n.i18n.translate("xpack.painlessLab.helpButtonLabel",{defaultMessage:"Help"})),isOpen:isHelpOpen,closePopover:function closePopover(){return setIsHelpOpen(false)},panelPaddingSize:"none",withTitle:true,anchorPosition:"upRight"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:items}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"ghost",onClick:toggleRequestFlyout,"data-test-subj":"btnViewRequest"},isRequestFlyoutOpen?_i18n.i18n.translate("xpack.painlessLab.hideRequestButtonLabel",{defaultMessage:"Hide API request"}):_i18n.i18n.translate("xpack.painlessLab.showRequestButtonLabel",{defaultMessage:"Show API request"})))))}},65:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Editor=Editor;var _react=_interopRequireDefault(__webpack_require__(3));var _public=__webpack_require__(33);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Editor(_ref){var code=_ref.code,onChange=_ref.onChange;return _react.default.createElement(_public.CodeEditor,{languageId:"painless",width:"99%",height:"100%",value:code,onChange:onChange,options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true}})}},66:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestFlyout=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var _eui=__webpack_require__(4);var _i18n=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RequestFlyout=function RequestFlyout(_ref){var onClose=_ref.onClose,requestBody=_ref.requestBody,response=_ref.response,links=_ref.links;return _react.default.createElement(_eui.EuiFlyout,{onClose:onClose,maxWidth:640},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",alignItems:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_i18n.i18n.translate("xpack.painlessLab.flyoutTitle",{defaultMessage:"API request"}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:links.painlessExecuteAPI,target:"_blank",iconType:"help"},_i18n.i18n.translate("xpack.painlessLab.flyoutDocLink",{defaultMessage:"API documentation"}))))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiTabbedContent,{size:"s",tabs:[{id:"request",name:"Request",content:_react.default.createElement(_eui.EuiCodeBlock,{language:"json",paddingSize:"s",isCopyable:true},"POST _scripts/painless/_execute\n",requestBody)},{id:"response",name:"Response",content:_react.default.createElement(_eui.EuiCodeBlock,{language:"json",paddingSize:"s",isCopyable:true},response)}]}),_react.default.createElement("div",{className:"painlessLabBottomBarPlaceholder"})))};exports.RequestFlyout=RequestFlyout}}]);